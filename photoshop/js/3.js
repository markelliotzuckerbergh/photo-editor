(function(){var a8=window.location.hostname=="www.vectorpea.com"?1:0;(function(){var l;try{l=window.localStorage}catch(ey){}var o={};
if(l){var D=l.getItem("_ppp");if(D)o=JSON.parse(D);else{var H="0_uid 0_provider 0_token 0_stateLocal capShown localFonts __glm dpiUnit swfPrms lpOpt".split(" ");
for(var v=0;v<H.length;v++){var _=l.getItem(H[v]);if(_!=null)o[H[v]]=_}}}var u=window.locStor={};u.setItem=function(S,h){o[S]=h;
if(l)l.setItem("_ppp",JSON.stringify(o))};u.getItem=function(S){return o[S]};u.removeItem=function(S){delete o[S];
if(l)l.setItem("_ppp",JSON.stringify(o))}}());var eJ={S0:0,yi:null,vj:null,xh:null,yt:null,mQ:null,QM:!0,P9:0,vW:!1};
eJ.event=function(l,o){if(a8!=0)return;if(o!=null&&o<Math.random())return;var D=new XMLHttpRequest;D.open("GET","/papi/event.php?id="+l+"&rnd="+Math.random());
D.send()};eJ.NO=function(l){if(a8!=0)l="//www.photopea.com/"+l;return l};eJ.lu=function(){var l=eJ.g$();
if(l==null)return null;var o=M.Nf(24)?" ":"",D=M.T1[M.nt("Uu,"+o)];D=D[M.nt(o+"$/")];var H=eJ.ob(1,999);
if(H&&eJ.Uu(H)*50>D()/20)return[0,H];var _=l.inTeams;if(_)for(var v=0;v<_.length;v++)if(_[v][1]*50>D()/20)return[1,_[v]];
return null};eJ.EY=function(){return eJ.a1d()!=null};eJ.mp=function(){return eJ.Uu(eJ.ob(1e3,999999999))};
eJ.Uu=function(l){return l==null?0:l[0]+l[1]*24*60*60};eJ.ob=function(l,o){var D=eJ.g$(),H=D.pmnts,_=0,u=null;
if(H==null||H.length==0)return 0;for(var v=0;v<H.length;v++){var S=H[v],h=eJ.Uu(S);if(l<=S[2]&&S[2]<=o)if(_<h){_=h;
u=S}}return u};eJ.g$=function(){return eJ.mQ};eJ.Vk=function(l){window.addEventListener("message",eJ.aj7,!1);
setInterval(eJ.OI,5e3);if(eJ.EY()&&navigator.onLine){eJ.yi=l;eJ.VD()}else setTimeout(l,1)};eJ.OI=function(){if(eJ.EY()&&eJ.vW){eJ.Bd(eJ.y$());
eJ.vW=!1}};eJ.qB=function(l){eJ.yi=l;var o="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
eJ.xh=window.open(o,"_blank")};eJ.aa1=function(){var l=window.locStor;l.removeItem(eJ.S0+"_uid");l.removeItem(eJ.S0+"_provider");
l.removeItem(eJ.S0+"_token");eJ.mQ=null};eJ.aj7=function(l){if(l.data instanceof ArrayBuffer||l.data instanceof Object)return;
if(l.data.charAt(0)!="{")return;var o=JSON.parse(l.data);if(o.prms==null)return;var D=o.prms.split(",");
if(D[0]=="papi_logged_in"){var H=window.locStor;H.setItem(eJ.S0+"_uid",D[1]);eJ.mU(D[2]);H.setItem(eJ.S0+"_provider",D[3]);
eJ.xh.close();eJ.VD()}if(D[0]=="payment_complete"){eJ.yt.close();eJ.VD()}};eJ.a1d=function(){var l=window.locStor.getItem(eJ.S0+"_token");
if(l!=null&&Date.now()*.001+10<parseInt(l.split("-")[0]))return l;return null};eJ.mU=function(l){var o=window.locStor.getItem(eJ.S0+"_token");
if(o!=null&&parseInt(l.split("-")[0])<parseInt(o.split("-")[0]))return;window.locStor.setItem(eJ.S0+"_token",l);
clearTimeout(eJ.P9);eJ.P9=setTimeout(eJ.aeb,Math.min(1e9,parseInt(l.split("-")[0])*1e3-Date.now()-20*1e3))};
eJ.ph=function(l,o,D,H){if(!navigator.onLine)throw"a";var _=new XMLHttpRequest;_.open("POST","https://www.photopea.com/papi/record_new.php",!0);
_.onload=D;var u=eJ.Ph(0)+"&read=3&tuid="+l+"&tid="+o;if(H)u+="&tpl="+encodeURIComponent(H);_.setRequestHeader("Content-type","application/x-www-form-urlencoded");
_.send(u)};eJ.aeb=function(){if(!navigator.onLine)throw"a";var l=new XMLHttpRequest;l.open("POST","https://www.photopea.com/papi/record_new.php",!0);
l.onload=eJ.ahm;var o=eJ.Ph(0)+"&read=2";l.setRequestHeader("Content-type","application/x-www-form-urlencoded");
l.send(o)};eJ.VD=function(){if(!navigator.onLine)throw"b";var l=new XMLHttpRequest;l.open("POST","https://www.photopea.com/papi/record_new.php",!0);
l.onload=eJ.aDM;var o=eJ.Ph(0)+"&read=1";l.setRequestHeader("Content-type","application/x-www-form-urlencoded");
l.send(o)};eJ.Bd=function(l){if(!navigator.onLine)throw"c";var o=new XMLHttpRequest;o.open("POST","https://www.photopea.com/papi/record_new.php",!0);
o.onload=eJ.afa;var D=eJ.Ph(0)+"&read=0&score="+(l.tpl?1:0)+"&spublic="+eJ.QM+"&record="+encodeURIComponent(JSON.stringify(l));
o.setRequestHeader("Content-type","application/x-www-form-urlencoded");o.send(D)};eJ.aDM=function(l){var o=JSON.parse(l.target.response);
if(o.error){}else{eJ.mQ=o.user;var D=eJ.y$(),H=o.record;if(o.record){eJ.QM=o.spublic;eJ.rE(H)}else if(D)eJ.Bd(D)}eJ.mU(o.token);
if(eJ.yi){eJ.yi();eJ.yi=null}if(eJ.vj){eJ.vj();eJ.vj=null}};eJ.ahm=function(l){var o=JSON.parse(l.target.response);
eJ.mU(o.token)};eJ.afa=function(l){var o=JSON.parse(l.target.response);eJ.mU(o.token);if(eJ.vj)eJ.VD()};
eJ.Ph=function(l){var o=window.locStor;return"app="+l+"&uid="+o.getItem(eJ.S0+"_uid")+"&token="+o.getItem(eJ.S0+"_token")};
eJ.A2=function(){return eJ.y$()};eJ.h0=function(l,o){eJ.rE(l);eJ.vW=!0;if(o){eJ.vj=o;eJ.OI()}};eJ.y$=function(){var l=window.locStor.getItem(eJ.S0+"_stateLocal"),o;
if(l==null)return null;try{o=JSON.parse(l)}catch(ey){return null}return o};eJ.rE=function(l){var o=JSON.stringify(l);
window.locStor.setItem(eJ.S0+"_stateLocal",o)};eJ.order=function(l,o,D){eJ.yi=D;var H=window.locStor,_="https://www.photopea.com/papi/order.php?ptype="+o+"&param="+l+"&uid="+H.getItem(eJ.S0+"_uid")+"&token="+H.getItem(eJ.S0+"_token");
eJ.yt=window.open(_,"_blank")};eJ.ada=function(l,o){eJ.yi=o;var D=window.locStor,H="https://www.photopea.com/papi/insertKey.php?key="+l+"&uid="+D.getItem(eJ.S0+"_uid")+"&token="+D.getItem(eJ.S0+"_token");
eJ.yt=window.open(H,"_blank")};var e2={};e2.a3E=function(l,o){var D=M.T1[M.nt("%|xK")];if(D==null)return"XYP";
var H=l.toString(16).slice(0,4),_=H+o+"aQYRDCB";return D(_).slice(5,17)+H.split("").reverse().join("")};
e2.J$=function(){var l=M.T1[M.eI("3M"+(M.Nf(26)?"]K":"fa"))];l=l[M.eI("]["+(!M.Nf(28)?",":"`"))];return Math.floor(l()/1e3)};
e2.Nf=function(l){var o=0;for(var v=0;v<l;v++)o+=Math.random();return o/l<Math.PI/4};e2.eI=function(l){var o="";
if(!e2.Nf(28))l+="-3";for(var v=0;v<l.length;v++){var D=l.charCodeAt(v);if(D<32||126<D)throw"e";o+=String.fromCharCode(32+(D-32+17+3*v)%95)}return o};
e2.nt=function(l){var o="";if(!e2.Nf(28))l+="-1";for(var v=0;v<l.length;v++){var D=l.charCodeAt(v);D-=32;
D+=95e4;D-=17+3*v;D=D%95;o+=String.fromCharCode(32+D)}return o};e2.FG=e2.eI("XP");e2.UU=e2.eI("XYP");
e2.WH=e2.eI("c[Y");e2.at$=e2.eI("][`");e2.Z2=e2.eI("SU_");e2.Ef=e2.eI("b^L");e2.aqB=e2.eI("61=");e2.an=e2.eI("Q[M_");
e2.ft=e2.eI("WQJJ");e2.aO=e2.eI("W^NL");e2.UA=e2.eI("[[JJ");e2.a1X=e2.eI("[[PU");e2.T_=e2.eI("^\\NT");
e2.ajh=e2.eI("bQUL");e2.Ad=e2.eI("bQWJ");e2.UR=e2.eI("3M]K");e2.asi=e2.eI("<M]N");e2.Rb=e2.eI("][WK");
e2._l=e2.eI("P_bTF");e2.vz=e2.eI("RXRIN");e2.cu=e2.eI("b`bRH");e2.MP=e2.eI("fUMZK");e2.anp=e2.eI("Q[]ZRM");
e2.afj=e2.eI("WQRMKT");e2.aAv=e2.eI("WUMJHN");e2.Ib=e2.eI("XR[GPE");e2.ajJ=e2.eI("aMWJRM");e2.Z0=e2.eI("bO[OST");
e2.IZ=e2.eI("cM[MHT");e2.acU=e2.eI("^Z5OQE");e2.Xh=e2.eI("R[WLLRJ");e2.atw=e2.eI("SU\\VOAV");e2.au4=e2.eI("XZMK[/C");
e2.BE=e2.eI("aQYRDCB");e2.cx=e2.eI("[[LGWILH");e2.kY=e2.eI("S[L[PEKN");e2.i4=e2.eI("aQOKURBL");e2.AS=e2.eI("aQ\\VRNP?");
e2.abd=e2.eI("XZWKU(1'#");e2.ah$=e2.eI("SQLUGE2, ");e2.asV=e2.eI("]M_OJAQII");e2.A7=e2.eI("bQ]:LMBILH");
e2.aA8=e2.eI("UU[YW#ECC8");e2.to=e2.eI("cQaZ&OKN<BE");e2.z9=e2.eI("P\\YKQD B@@5");e2.Cd=e2.eI("aQVUYE B@@5");
e2.a4r=e2.eI("bQ]/QTBLM5=");e2.iP=e2.eI("bQ]'WTOC9IE3");e2.a72=e2.eI("XZ\\KUT~?=CC3");e2.LS=e2.eI("R^NGWE\"F<A6<?");
e2.aly=e2.eI("VQ]+OEJ?EHrGs,");e2.ub=e2.eI("G95.WTM,<EF3><");e2.acB=e2.eI("PZLKVTLL&F:5468");e2.UF=e2.eI("PPM+YEKN#=DB06*4");
e2.arT=e2.eI("SQLUGE2, v@;;73'-0");function e_(l){this.hO={};this.qw=0;this.uk();if(l!=!0)window.__kb=this}e_.Ca=null;
e_.prototype.uk=function(){var l=navigator.keyboard;if(l&&window.top==window.self)l.getLayoutMap().then(function(o){e_.Ca=o})};
e_.prototype.azf=function(l){var o={shiftKey:e_.eo,altKey:e_.zg,ctrlKey:e_.Cm};for(var D in o){var H=l[D],u=o[D],S=this.W(u);
if(!H&&S){for(var v=0;v<u.U6.length;v++)this.tp(u.U6[v])}}};e_.prototype.Ew=function(l){this.qw++;this.hO[l]=!0};
e_.prototype.tp=function(l){this.qw--;delete this.hO[l];if(this.qw<=0||e_.MY(l,e_.rW))this.reset()};
e_.prototype.W=function(l){for(var v=0;v<l.U6.length;v++)if(this.hO[l.U6[v]])return!0;return!1};e_.prototype.reset=function(){this.hO={};
this.qw=0};e_.prototype.Dr=function(l){var o=this,D=o.W(e_.eo)?10:1,H=0,_=0;if(o.W(e_.B1))H=-D;else if(o.W(e_.RO))H=D;
else if(o.W(e_.pR))_=-D;else if(o.W(e_.fW))_=D;var u=new he(H,_);if(l!=null){var S=new de;S.rotate(l);
u=S.wq(u);if(Math.abs(u.x)<Math.abs(u.y))u.x=0;else u.y=0;u.x=Math.round(u.x);u.y=Math.round(u.y)}return u};
e_.prototype.R0=function(){var l=this,o=e_.tS;for(var v=0;v<10;v++)if(l.W(o[v]))return v;return-1};e_.MY=function(l,o){return o.U6.indexOf(l)!=-1};
e_.Xn=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};e_.wt="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(e_.Xn())e_.wt.push("ControlLeft","ControlRight");e_.y0=function(l){var o=l.code;if(o=="")return!1;
var D=e_.MY;if(l.altKey&&!l.shiftKey&&!l.ctrlKey){var H=e_.tS.concat([e_.CO,e_.ef,e_.GW,e_.wp]),_=!1;
for(var v=0;v<H.length;v++)if(D(o,H[v]))return!1}return e_.wt.indexOf(o)==-1||l.shiftKey&&(o=="F5"||o=="F6")};
e_.auH=function(l){var o=e_;if(l.ctrlKey&&(o.MY(l.code,o.CO)||o.MY(l.code,o.ef)))l.preventDefault()};
e_.vs=function(l){l.addEventListener("keydown",e_.auH,!1)};e_.Tt=function(l){if(typeof l=="string")return l;
var o=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(l==null)return"";var D=[];for(var v=0;v<l.length;
v++){var H=l[v].Hd?l[v].Hd:l[v];if(o&&l[v].jy)H=l[v].jy;D.push(H)}if(o||D.length==1)return D.join(" + ");
else{var _=D.pop();return D.join("+")+" + "+_}};e_.Tz=function(l){window.__kb.uk();var o=l.code,D=e_.Ca;
if(D&&D.get(o)){var H={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},_=D.get(o).toLowerCase(),u=_.charCodeAt(0);
if(97<=u&&u<=122){var S="Key"+_.toUpperCase();o=S}else if(H[_])o=H[_];return o}var H={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},_=l.key.toLowerCase(),u=_.charCodeAt(0);
if(_.length==1){if(97<=u&&u<=122){var S="Key"+_.toUpperCase();o=S}else if(H[_])o=H[_]}if(_=="control"&&o!="")o="ControlLeft";
return o};e_.zR=0;e_.mv=function(l,o){var D=0;if(Date.now()-e_.zR>1e3){D=o==0?100:o*10}else{if(l%10!=0)l*=10;
D=(l+o)%100}e_.zR=Date.now();return D};e_.avb={nm:"No Touch",U6:["NoTouch"]};e_.PA={Hd:"Enter",U6:["Enter","NumpadEnter"]};
e_.eo={Hd:"Shift",jy:"\u21E7",U6:["ShiftLeft","ShiftRight"]};e_.rW={Hd:"Meta",U6:["MetaLeft","MetaRight","OSLeft","OSRight"]};
e_.Cm={Hd:"Ctrl",jy:"\u2318",U6:e_.Xn()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
e_.zg={Hd:"Alt",jy:"\u2325",U6:["AltLeft","AltRight"]};e_.a7_={Hd:"CtrlOrAlt",U6:e_.Cm.U6.concat(e_.zg.U6)};
e_.aZ={Hd:"Escape",U6:["Escape"]};e_.RP={Hd:"Space",U6:["Space"]};e_.CZ={Hd:"Tab",U6:["Tab"]};e_.U7={Hd:"Home",U6:["Home"]};
e_.arK={Hd:"End",U6:["End"]};e_.B1={Hd:"Left",U6:["ArrowLeft"]};e_.pR={Hd:"Up",U6:["ArrowUp"]};e_.RO={Hd:"Right",U6:["ArrowRight"]};
e_.fW={Hd:"Down",U6:["ArrowDown"]};e_.CO={Hd:"+",U6:["NumpadAdd","Equal"]};e_.ef={Hd:"-",U6:["NumpadSubtract","Minus"]};
e_.u5={Hd:";",U6:["Semicolon"]};e_.atA={Hd:"Dead",U6:["Dead"]};e_.aij={Hd:"=",U6:["Equal"]};e_.O1={Hd:"Backspace",U6:["Backspace"]};
e_.Ab={Hd:"Delete",U6:["Delete"]};e_.vE={Hd:"Backslash",U6:["Backslash","IntlBackslash"]};e_.ahJ={Hd:"Slash",U6:["NumpadDivide","Slash"]};
e_.aos={Hd:"Backquote",U6:["Backquote"]};e_.GW={Hd:"[",U6:["BracketLeft"]};e_.wp={Hd:"]",U6:["BracketRight"]};
e_.oi={Hd:".",U6:["Period"]};e_.v8={Hd:",",U6:["Comma"]};e_.JC={Hd:"'",U6:["Quote"]};e_.L={Hd:"A",U6:["KeyA"]};
e_.ED={Hd:"B",U6:["KeyB"]};e_.AP={Hd:"C",U6:["KeyC"]};e_.VM={Hd:"D",U6:["KeyD"]};e_.E={Hd:"E",U6:["KeyE"]};
e_.lj={Hd:"F",U6:["KeyF"]};e_.Tu={Hd:"G",U6:["KeyG"]};e_.N5={Hd:"H",U6:["KeyH"]};e_.rv={Hd:"I",U6:["KeyI"]};
e_.vf={Hd:"J",U6:["KeyJ"]};e_.a$={Hd:"K",U6:["KeyK"]};e_.Ct={Hd:"L",U6:["KeyL"]};e_.mw={Hd:"M",U6:["KeyM"]};
e_.mW={Hd:"N",U6:["KeyN"]};e_.kB={Hd:"O",U6:["KeyO"]};e_.Aj={Hd:"P",U6:["KeyP"]};e_.J6={Hd:"Q",U6:["KeyQ"]};
e_.nC={Hd:"R",U6:["KeyR"]};e_.KF={Hd:"S",U6:["KeyS"]};e_.rD={Hd:"T",U6:["KeyT"]};e_.fq={Hd:"U",U6:["KeyU"]};
e_.$s={Hd:"V",U6:["KeyV"]};e_.C5={Hd:"W",U6:["KeyW"]};e_.s8={Hd:"X",U6:["KeyX"]};e_.gh={Hd:"Y",U6:["KeyY"]};
e_.rK={Hd:"Z",U6:["KeyZ"]};e_.yp={Hd:"0",U6:["Numpad0","Digit0"]};e_.hJ={Hd:"1",U6:["Numpad1","Digit1"]};
e_.awR={Hd:"2",U6:["Numpad2","Digit2"]};e_.ayZ={Hd:"3",U6:["Numpad3","Digit3"]};e_.anO={Hd:"4",U6:["Numpad4","Digit4"]};
e_.a5Z={Hd:"5",U6:["Numpad5","Digit5"]};e_.axY={Hd:"6",U6:["Numpad6","Digit6"]};e_.ho={Hd:"7",U6:["Numpad7","Digit7"]};
e_.amC={Hd:"8",U6:["Numpad8","Digit8"]};e_.apn={Hd:"9",U6:["Numpad9","Digit9"]};e_.tS=[e_.yp,e_.hJ,e_.awR,e_.ayZ,e_.anO,e_.a5Z,e_.axY,e_.ho,e_.amC,e_.apn];
e_.aby={Hd:"F1",U6:["F1"]};e_.a44={Hd:"F2",U6:["F2"]};e_.aCN={Hd:"F3",U6:["F3"]};e_.asW={Hd:"FF",U6:["F4"]};
e_.p6={Hd:"F5",U6:["F5"]};e_.a7U={Hd:"F6",U6:["F6"]};e_.aiS={Hd:"F7",U6:["F7"]};e_.a9k={Hd:"F8",U6:["F8"]};
e_.aoD={Hd:"F9",U6:["F9"]};e_.atu={Hd:"F10",U6:["F10"]};e_.adY={Hd:"F11",U6:["F11"]};e_.ai_={Hd:"F12",U6:["F12"]};
function ey(l){this.v2={};this.vJ={};this.acg=0;this.arG={};this.W3=[];this.aig=0;this.UA=l;ey.cw=this}ey.a6v=function(l,o){var v=0,D=ey.Sl;
while(v<D.length){if((o>>>v&1)==1)break;v++}if(v!=0&&ey.mT(l,[33,126])>.7)v=0;if(o==0||D[v][1]==""){if((o&15)!=0&&ey.mT(l,[33,126])>.7)v=0;
else if(o==0)v=0;else{v=0}}return D[v][1]};ey.py=120;ey.$0=20;ey.cols=16;ey.gd=function(l){var o=l.name.postScriptName;
if(o==null)return null;return o.replace(/ /g,"-")};ey.aeO=function(l){var o=l.name,D=o.typoFamilyName,H=o.typoSubfamilyName,_=D&H,u=_?D:o.fontFamily,S=_?H:o.fontSubfamily;
if(S==null)S="Regular";var h=ey.aDi,F=u.toLowerCase();for(var v=0;v<h.length;v++){if(h[v]=="roman")continue;
if(F.endsWith(" "+h[v])||F.endsWith("-"+h[v])){var n=u.length-h[v].length,R=u.slice(n);u=u.slice(0,n-1);
if(R!=""){if(S=="Regular"||S==u+" Regular")S=R;else S=R+" "+S}break}}var s="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var v=0;v<s.length;v++)if(u.startsWith(s[v])){var R=u.slice(s[v].length);u=s[v];if(R.startsWith(" ")||R.startsWith("-"))R=R.slice(1);
if(R!=""){if(S=="Regular")S=R;else S=R+" "+S}break}var Z={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},O=Z[ey.gd(l)];
if(O)S=O;return[u,S]};ey.prototype.afX=function(l){var o=this.yG();for(var D in o)if(o[D][0]==l)this.DD(D)};
ey.prototype.ake=function(){return Object.keys(this.vJ).length!=0};ey.prototype.DD=function(l,o){if(this.v2[l])return this.v2[l];
if(this.vJ[l])return null;var D=null,H=this.yG();if(H[l]!=null)D=H[l][5];if(D==null){var _=ey.BE[l];
if(_==null){var u="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),S=l.toLowerCase(),h=0;
if(S.indexOf("sans")!=-1)h=0;else if(S.indexOf("serif")!=-1)h=4;var F=S.indexOf("bold")!=-1||S.indexOf("-black")!=-1,n=S.indexOf("italic")!=-1||S.indexOf("oblique")!=-1||S.endsWith("-it");
if(F&&n)h+=3;else if(n)h+=2;else if(F)h+=1;_=u[h]}if(o!=null&&o>128)_=this.abE(o,_);if(this.arG[l]==null){this.arG[l]=1;
var R=Date.now()-this.acg>2e3?2e3:0;this.acg=Date.now();alert(l+" \u27A1 "+_,R)}return this.DD(_,o)}this.vJ[l]="a";
if(D=="--loc")ey.rz.load(l);else this.UA(D)};ey.prototype.abE=function(l,o,D){var H=this.v2[o];if(H&&Typr.U.codeToGlyph(H,l)!=0)return o;
var _=this.yG(),u=ey.ag1(l),S=u[0];if(_[o]&&(_[o][3]&S)==0){if(D)for(var v=0;v<D.length;v++){var h=D[v].Name,F=_[h];
if(F&&(F[3]&S)!=0)return h}var h=ey.Sl[u[1]][4];if(_[h])return h}return o};ey.ag1=function(l){var o=ey.Sl,D=[0];
for(var v=0;v<o.length;v++){var H=o[v][2];for(var _=0;_<H.length;_+=2)if(H[_]<=l&&l<=H[_+1]){D[0]+=1<<v;
D.push(v)}}if(D.length==1)D.push(0);return D};ey.prototype.apY=function(){var l=this.W3,o=l[0],D=l.length-1;
alert(cU.get([22,6,0])+" "+o+(D==0?"":", ... ("+D+")")+" "+cU.get([23,0])+".",1500);this.W3=[]};ey.prototype.akM=function(l,o){if(o!=!0){this.W3.push(l.name.fullName);
clearTimeout(this.aig);this.aig=setTimeout(this.apY.bind(this),300)}var D=ey.gd(l),H=this.yG(),_=H[D],u=ey.ahq(l);
if(_==null){u.Fa=ey.ahR(l,u);this.PE(u)}delete this.vJ[D];this.v2[D]=l};ey.ahY=function(){var l=ey.Sl,o=[];
for(var v=0;v<l.length;v++)o.push(l[v][0]);return o};ey.ahR=function(l,o){var D=document.createElement("canvas"),H=D.getContext("2d"),_=D.width=ey.py,u=D.height=ey.$0,S=ey.$0*1.2/l.head.unitsPerEm;
H.translate(4,ey.$0*.9);H.scale(S,-S);H.fillStyle="#000000";var h=Typr.U.shape(l,ey.a6v(l,o[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(l,h),H);H.fill();var F=H.getImageData(0,0,_,u).data.buffer,n=fj.rU("PNG").MJ([[F,0]],_,u,[1]);
return"data:image/png;base64,"+fj.Im(n)};ey.Sl=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Î•Î»Î»Î·Î½Î¹ÎºÎ¬",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","ÐŸÑ€Ð¸Ð²ÐµÑ‚",[1040,1119],.7,"DejaVuSans"],["Hebrew","×¢×‘×¨×™×ª",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","Ø§ÙŽÙ„Ù’Ø¹ÙŽØ±ÙŽØ¨ÙÙŠÙŽÙ‘Ø©Ù",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","ì˜ˆê³ íŽ¸",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","é ç¿’",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","à½à½´à½‚à½¦\u0F0Bà½¢à¾—à½º\u0F0Bà½†à½º\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","à¤ªà¥‚à¤°à¥à¤µà¤¾à¤µà¤²à¥‹à¤•à¤¨",[2304,2431],.7,"Hind-Regular"],["Malayalam","à´®à´²à´¯à´¾à´³à´‚",[3328,3455],.5,"Hind-Regular"],["Thai","à¸ à¸²à¸žà¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","áž˜áž¾áž›áž‡áž¶áž˜áž»áž“",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trÆ°á»›c",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","à¦¸à§à¦¬à¦¾à¦§à§€à¦¨à¦­à¦¾à¦¬à§‡",[2432,2559],.2,"FreeSans"],["GeÊ½ez","áŒá‹•á‹",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
ey.ahq=function(l,o,D){var H=l.name,F=0;if(ey.gd(l)==null){console.log(l);throw"No postScriptName!"}var _=ey.Sl,u=[];
for(var v=0;v<_.length;v++){var S=_[v][2],h=_[v][3];u[v]=ey.mT(l,S)>h?1:0}for(var v=0;v<u.length;v++)F+=u[v]<<v;
var n=ey.aeO(l);return[n[0],n[1],ey.gd(l),F,D,o]};ey.mT=function(l,o){var D=0,H=0;for(var _=0;_<o.length;
_+=2){for(var u=o[_];u<=o[_+1];u++){var S=Typr.U.codeToGlyph(l,u);if(S==0)H++;else D++}}return D/(D+H)};
ey.anr=function(l,o){if(l[2]<o[2])return-1;if(l[2]>o[2])return 1;return 0};ey.a5F=function(l,o){if(l[5]=="fs/"+l[2]+".otf")l[5]="";
else if(l[5]=="gf/"+l[2]+".otf")l[5]="a";if(l[2]==(l[0]+"-"+l[1]).replace(/\s/g,"")){l[2]=""}else if(l[2]==l[0].replace(/\s/g,"")){l[2]="a"}if(o){if(l[0]==o[0])l[0]="";
if(l[1]==o[1])l[1]="";if(l[3]==o[3])l[3]="";if(l[4]==o[4])l[4]=""}return l.join(",")};ey.aEE=function(l,o){l=l.split(",");
if(l[0]=="")l[0]=o[0];if(l[1]=="")l[1]=o[1];if(l[3]=="")l[3]=o[3];else l[3]=parseInt(l[3]);if(l[4]=="")l[4]=o[4];
else l[4]=parseInt(l[4]);if(l[2]=="")l[2]=(l[0]+"-"+l[1]).replace(/\s/g,"");else if(l[2]=="a")l[2]=l[0].replace(/\s/g,"");
if(l[5]=="")l[5]="fs/"+l[2]+".otf";else if(l[5]=="a")l[5]="gf/"+l[2]+".otf";return l};ey.BE={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
ey.prototype.yG=function(){if(FNTS.map==null){var l=FNTS.list,o=[];for(var v=0;v<l.length;v++){o[v]=ey.aEE(l[v],o[v-1]);
o[v].wN=v;this.PE(o[v])}}return FNTS.map};ey.prototype.PE=function(l){var o=l[0],D=l[1],H=l[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[l[2]]=l;if(FNTS.mapFS==null)FNTS.mapFS={};var _=FNTS.mapFS[o+"---"+D];FNTS.mapFS[o+"---"+D]=l;
if(FNTS.mapSub==null)FNTS.mapSub={};var u=FNTS.mapSub[o];if(u==null)u=FNTS.mapSub[o]=[];var S=u.indexOf(D);
if(S==-1)u.push(D);else u[S]=D};ey.auz=function(l,o){return ey.Q2(l)-ey.Q2(o)};ey.Q2=function(l){l=l.toLowerCase();
var o=ey.a1J(l)+(ey.a3F(l)<<1);if(l.indexOf("cond")==-1)o+=1<<25;return o};ey.a1J=function(l){return l.indexOf("italic")!=-1||l.indexOf("oblique")!=-1?1:0};
ey.aDi="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
ey.axg=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
ey.a3F=function(l){var o=ey.axg,D=-1,H=-1;for(var v=0;v<o.length;v++){var _=o[v];if(_ instanceof Array)for(var u=0;
u<_.length;u++){var S=_[u];if(l.indexOf(S)!=-1&&(D==-1||H<S.length)){D=v;H=S.length}}else if(l.indexOf(_)!=-1&&(D==-1||H<_.length)){D=v;
H=_.length}}if(D==-1)D=8;return D};ey.NI=function(l,o){var D=1e9,H=null,_=ey.Q2(o);for(var v=0;v<l.length;
v++){var u=Math.abs(ey.Q2(l[v])-_);if(u<D){D=u;H=l[v]}}return H};ey.prototype.vV=function(l,o){this.yG();
return FNTS.mapFS[l+"---"+o]};ey.prototype.HU=function(l){this.yG();return FNTS.mapSub[l]};ey.prototype.a1N=function(){this.yG();
return FNTS.mapSub};ey.rz={et:null,LO:null};ey.rz.Vk=function(l){ey.rz.LO=l;var o=window.locStor.getItem("localFonts");
if(o){o=fj.FI(o);o=pako.inflate(new Uint8Array(o));o=ey.rz.et=JSON.parse(x.Fs(o));ey.rz.HP()}};ey.rz.load=function(l){var o=window.queryLocalFonts,D=ey.rz.et.toPSN,H;
for(var kC in D)if(D[kC].indexOf(l)!=-1)H=kC;o({postscriptNames:[H]}).then(ey.rz.ami)};ey.rz.HP=function(){var l=ey.cw,o=ey.rz.et,D=o.imap,H=l.yG();
for(var _ in D){if(H[_])continue;var u=D[_].slice(0);u.Fa=o.tmap[_];l.PE(u)}};ey.rz.Qb=function(){var l=ey.rz.et,o=pako.deflate(x.fe(JSON.stringify(l))),D=fj.Im(o.buffer);
console.log(D.length);window.locStor.setItem("localFonts",D)};ey.rz.hf=function(){var l=ey.rz.et;return l!=null&&l.added};
ey.rz.td=function(l,o,D){var H=ey.rz.et;if(H){H.added=!H.added;ey.rz.Qb();ey.rz.HP();return}var _=window.queryLocalFonts;
if(_==null){alert("This feature is not available in your web browser :(");D();return}_().then(ey.rz.ami.bind({aC$:o,apg:D}))};
ey.rz.ami=async function(l){if(l.length==0){alert("You didn't allow us to access your fonts.");this.apg();
return}if(l.length==1){var o=await l[0].blob();o=await o.arrayBuffer();fh.MA({name:"file.otf"},o,ey.rz.LO);
return}var D=new jJ(k.E.b,!0),S=!1;D.data={q:k.L.AV,JS:"Loading local fonts ..."};ey.rz.LO.A(D);var H=Date.now(),u=ey.rz.et;
if(u==null)u=ey.rz.et={toPSN:{},imap:{},tmap:{},added:!0};var h={};for(var v=0;v<l.length;v++){var F=l[v],n=F.postscriptName;
h[n]=!0;if(u.toPSN[n])continue;var o=await F.blob();o=await o.arrayBuffer();if(fj.ZH(o)!="otf")continue;
var R=Typr.parse(o),s=[];for(var Z=0;Z<R.length;Z++){var O=R[Z],w=ey.gd(O);s.push(w);if(u.imap[w])continue;
var m=u.imap[w]=ey.ahq(O,"--loc",0);u.tmap[w]=ey.ahR(O,m)}u.toPSN[n]=s;S=!0}for(var n in u.toPSN)if(h[n]==null){var V=u.toPSN[n];
delete u.toPSN[n];for(var v=0;v<V.length;v++){delete u.imap[V[v]];delete u.tmap[V[v]]}S=!0}if(S){console.log(Date.now()-H);
ey.rz.Qb();ey.rz.HP();this.aC$()}else console.log("no change");var D=new jJ(k.E.b,!0);D.data={q:k.L.lL,JS:"Loading local fonts ..."};
ey.rz.LO.A(D);alert("Local fonts loaded!")};var cU={};cU.Dw=0;cU.u7={};cU.ajP=function(l){var o=LNG.tables,D=o[l];
if(D==null)D=o[0];if(typeof D=="string"){D=o[l]=cU.Az(D)}return D};cU.Az=function(l){var o=[],D=0,H=0,_=[],u=l.length;
while(H!=u){var S=l[H];if(S=="["){o.push(_);_=[];H=D=H+1}else if(S=="]"){_.push(D==H?null:l.substring(D,H));
var h=_;_=o.pop();_.push(h);H=D=H+1}else if(S==";"){if(l[H-1]!="]")_.push(D==H?null:l.substring(D,H));
H=D=H+1}else H++}return _};cU.get=function(l){if(typeof l=="string")return l;var o=typeof l[0];if(o=="number"){for(var v=1;
v<l.length;v++)if(typeof l[v]!="number"){console.log(l);throw"e"}return cU.hr(l)}var D=cU.get(l[0]);
for(var v=1;v<l.length;v++){var H=cU.get(l[v]),_=D.indexOf("VAR"+(v-1));D=D.slice(0,_)+H+D.slice(_+4)}return D};
cU.hr=function(l){var o=JSON.stringify(l);if(cU.u7[o]!=null)return cU.u7[o];var D=cU.ajP(0),H=cU.ajP(cU.Dw),_=cU.axR(l,H);
if(_==null)_=cU.axR(l,D);return _};cU.axR=function(l,o){for(var v=0;v<l.length;v++){o=o[l[v]];if(o==null)return null;
else if(typeof o=="string")break}if(o instanceof Array)o=o[0];return o.split("::")[0]};cU.a6T=function(){var l=navigator.languages;
for(var v=0;v<l.length;v++)if(l[v]=="zh-HK"||l[v]=="zh-TW"||l[v]=="zh-MO")l[v]="zh-CHT";return l};cU.awP=function(){var l=cU.a6T(),o=function(H,_){var u=H.code,S=_.code;
if(u=="en")return-1;if(S=="en")return 1;var h=l.indexOf(u)!=-1,F=l.indexOf(S)!=-1;if(h&&F)return u>S?1:-1;
if(h)return-1;if(F)return 1;return u>S?1:-1},D=LNG.langs.slice(0);D.sort(o);return D};cU.aCi=function(l,o){cU.Dw=l;
if(LNG.tables[l])o();else{var D=new XMLHttpRequest;D.open("GET",eJ.NO("code/lang/"+l+".js"));D.onreadystatechange=function(){LNG.tables[l]=D.responseText;
o()};D.send()}};cU.ajw=function(l,o){for(var D=0;D<2;D++){var H=!1;for(var v=0;v<LNG.langs.length;v++)if(LNG.langs[v].code==l){cU.aCi(v,o);
H=!0}if(H)break;l=l.split("-")[0]}};cU.a8j=function(){return LNG.langs[cU.Dw].code};cU.azQ=function(l){for(var v=0;
v<l.length;v+=2)if(l[v+1].indexOf(">")==-1)cU.u7[JSON.stringify(l[v])]=l[v+1]};cU.app=function(l){var o=-1,D=LNG.langs;
for(var v=0;v<D.length;v++)if(D[v].code==l)o=v;return o};var hP={Rg:!1,FA:!1,asy:!1,DQ:null};hP.LF=function(){return M.T1[e2.WH]!=M.T1[e2.ajh]};
hP.rG=function(){var l=M.T1[e2.kY],o=l[e2.an],D=0,H=e2.iP,_=M.eI("PP\\KQSB"),u=M.eI("Y_5UDDB>idge"),S=l[e2.LS](e2.Z2);
S[H](e2.FG,_);S[H](e2.cu,M.eI("fUMZKyqifDIhJ0*+&$-OG?<y~>"));o[e2.z9](S);S=l[e2.aly](_);if(S==null){D=2}else{if(!o[M.eI("R[WZDIKM")](S)){D=3}else if(Math.round(S[M.eI("VQ](RUK>@B8p71*03m}x'")]()[e2.MP]-500)>5){D=4}o[e2.Cd](S)}if(hP.FA)D=5;
if(hP.asy)D=6;return D};hP.alM=function(l){var o=M.nt("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),D={method:"HEAD",mode:"no-cors"},H=new Request(o,D);
fetch(H).then(function(_){return _}).then(function(_){var u=M.nt("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),H=new Request(u);
fetch(H).then(function(_){_.text().then(function(S){hP.FA=S.length<2200;l(S.length<2200)})}).catch(function(S){hP.FA=!0;
console.clear();l(!0)})}).catch(function(_){hP.FA=!0;console.clear();l(!0)})};hP.ah3=function(){var l=M.eI("UU[YW#ECC8"),o=M.eI("VQ](RUK>@B8p71*03m}x'"),D=M.eI("WQRMKT"),H=this.ayF[l][o]();
if(H[D]<4){hP.asy=!0;this.asg(!0)}};hP.abf=function(){var l=M.T1._cwY,o=M.T1[e2.A7],D="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",H=String.fromCharCode(32);
l(M.eI(D)+H+H+hP.rG());if(!eJ.lu())o(hP.abf,Math.round(Math.PI*1e4))};hP.abF=function(l){var o=M.T1[e2.kY],D=o[e2.LS](l[0]);
for(var H in l[1]){if(H=="txt")D[e2.to]=l[1][H];else D[e2.iP](H,l[1][H])}return D};hP.amd=function(l,o,D,H){M.o7(D);
var _=M.T1[e2.kY],u=M.nt(" u.$%\"86<"),S=M.nt("!#c$,&"),h=M.T1[u][S],F=M.T1[M.nt(" u.$%\"86<")][M.nt("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<.5;
if(!hP.LF()&&!hP.rG()&&h&&l*o>300*300&&!F){var n=_[M.eI("VQ]+OEJ?EHDoD{&)l|&z")](e2.ft)[0],R=JSON.parse(M.nt("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var v=0;v<R.length;v++){var s=hP.abF(R[R.length-1-v]);n[e2.a72](s,n[e2.a7k])}var Z=M.nt("p}&$2a(:"),O=M.nt("'#!}i0%+"),w=M.nt("ps,}$\"40"),m=M.T1.__cbu=hP.abF(JSON.parse(e2.eI("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
D[e2.z9](m);M.T1.___ggo=function(){M.T1[w](e2.UF,2,function(q,i){if(i&&q[O]==!0){M.T1.__csrf=null;if(!M.T1[Z]){M.T1[Z]=!0;
var c=hP.amP.bind({T$:D,head:n,B9:o});c()}}else{M.T1.__csrf=!0}})}}else{var V=hP.akD.bind({ayF:D,akI:H,B9:o});
V();setInterval(V,3e4)}};hP.se="loGHOLE074^CF8P@NQu[\\Xu#{fmj5y|n*~|!L23/L+\\/fe^IPMwcPd#hie#0)szwB.z/~:/-1\\BC?\\ibL[^]c-%(unwy}9pvCm4JP.Al}=gvZg`cpilK|O'(.,%ovs>y#,J\"11)1/4HFLVmMVPmzs^eb-hqz9p  w }#75;E.IbBKEbohx{SbbZb`eyw}(?}.{,,Q5/AQ^WZg`cBsF}~%#{fmj5py#Ax(*-'(<4=?aAJDangRYV!\\en-dsuxrs( )+~:S3<6S`YilDSUXRSg_hj-k{iyy?#|/?LEHUNQ0a4klrpiT[X#^[j/gow{w($-ML,5/LYR=DAkGPYwPX`d`plu6f\";z$};HAQT-5=A=MIRrqP`N^^$gas$1*-:36tFxPQWUN9@=gCLUsTZcUf`^br1pys1>7\")&P,5>\\=CL>OIGK[Kf _hb -&69%(+D&,5'8204Db;JKbohkxqtS%W/074-w~{F\"+4R49<>FJ>NRoOXRo|u`gd/js|;|\"%'/3'7;*E^>GA^kdtwY^ackocsw5s$q\"\"G+%7GTMP]VY8i<st{xq\\c`+fox7 w .%*,48,<@]=F@]jcNUR|Xaj)qiq v{}&*}.2!<U5>8Ub[knWOWe\\ackocsw5s$q\"\"G+%7GTMP]VY8;";
hP.se=hP.se.slice(0,2);hP.akD=function(){var l=M.T1[e2.kY],o=this.ayF,D=this.akI,H=hP.DQ,_=this.B9;M.o7(o);
var u=M.T1[M.nt(" u.$%\"86<")][M.nt("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<1.25,S=H==1?1:hP.av7(_),h=JSON.parse(e2.nt(hP.se)),F=l[e2.LS]("a");
F.textContent=e2.eI("0PhHOO@E@B8M/-9'\"0}y");F[e2.iP](e2.aO,e2.eI("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
F[e2.iP](e2.IZ,e2.nt("pv${,,"));F[e2.iP](e2.cu,e2.eI("R[UUUyTB@H6h"));if(!u)o[e2.z9](F);for(var v=0;
v<S;v++){var n=Math.random(),R=0,s=0;while(R+h[s][0]<n){R+=h[s][0];s++}if(u)s=1;var Z=h[s],O=l[e2.LS](e2.UU);
O[e2.iP](e2.cu,e2.eI("Ra[YRRvJF=?B0:_")+e2.eI(H==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
O[e2.iP](e2.Ef,Z[H]);if(Z.length>3){var w=Z[3]+Z[3+H],F=l[e2.LS]("a");F[e2.iP](e2.aO,w);F[e2.iP](e2.IZ,e2.nt("pv${,,"));
F[e2.z9](O);o[e2.z9](F)}else{O[e2.UF](e2.vz,D,!1);o[e2.z9](O)}}};hP.av7=function(l){var o=2;if(l>=3*270+30)o=3;
if(l>=4*270+30)o=4;return o};hP.anY=function(l,o){var D=o;o-=30;var H=[];if(l==0)H.push(9);if(l==1){H.push(1);
o-=600+10;if(o-250>0){H.push(0);o-=250}}if(l==2){if(o-260>0){H.push(2);o-=260}if(o-260>0){H.push(3);
o-=260}if(o-260>0){H.push(4);o-=260}if(o-260>0){H.push(5);o-=260}if(o-260>0){H.push(6);o-=260}if(o-110>0){H.push(7);
o-=110}if(o-60>0){H.push(8);o-=60}}return H};hP.amP=function(){var l=e2.z9,o=e2.iP,D=e2.UF,H=e2.BE,_=e2.cu,u=e2.Ef,S=M.eI("P_bTF"),h=e2.to,F=e2.Ib,n=M.T1[e2.kY],R=e2.LS,s=e2.Z0,Z=this.T$,O=hP.DQ,w=this.head,m=this.B9,V=M.nt("~u*\"'/P)9ADBCrlnR]"),q=M.T1.__cbu,z=0;
if(q&&O==0)q[e2.iP](e2.cu,"position:absolute; left:124px; bottom:2px");var i=[1/11,10/11],c=Math.random();
while(i[z]<c&&z<i.length-1){c-=i[z];z++}var B=hP.anY(O,m);if(z==0){console.log(0);if(!hP.Rg){hP.Rg=!0;
for(var v=0;v<2;v++){var t=n[e2.LS](e2.Z0),a=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][v];
t[e2.iP](e2.Ef,e2.nt(a));t[e2.iP](e2._l,"");w[e2.z9](t)}var I=JSON.parse(e2.nt("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFNE$'_cdclqpArE} #\"*,/_1c<@A@PJzL~W[\\[he69jakXS]ecg_^_fuvk@DE1MRQKPX/58*?OVLINs_S}3|*#kvyt|x+z$M'+/5=7(DJRhjuz!'%*/-7;1:<DCGOSOSZZX=8BJHLDCrKZ[P%-*u63608/mpIQNMZWZ+\\/gklkxuxInqtwz}!$'*j<3=*%/7591018GH=qyvb# #|x{(0floav'.$!&K7+UjTaZCNQLTPbR[%^bfltn_{\"*@BMRX^\\afdnrhqs{z~'+'+220toy\" ${zJ#23(^^aMiomgofEH##&%.42b4f@FDCLRP!R%__bajkn?Bsjta\\fnlphgho~ tKKN:V\\ZTPS_g>DG9N^e[X]#nb-B,92z&)$,(:*3\\6:>DLF7SYawy%*0649><FJ@IKSRV^b^biigLGQYW[SR\"Zij_669%AGE?G>| ZZ]\\eki:k>w}{z$*(X*\\77:9BCFvyKBL94>FDH@?@GVWL##&q.42d:27?u{~p&6=305ZF:dycpiR]`[c_qaj4mqu{$}n+19OQ\\agmkpus}\"w!#+*.6:6:AA?$~)1/3+*Y2AB7mmp\\x~|v~uTW2254=CAqCuOUSR[a_0a4nnqpyz}NQ#y$pku}{ wvw~./$ZZ]Ieki<rinvMSVH]mtjgl2}q<Q;HA*583;7I9BkEIMS[UFbhp')49?ECHMKUYOXZbaemqmqxxv[V`hfjba1ixynEEH4PVTNVM,/iilktzxIzM'-+*397g9kFFIHQRU&)ZQ[HCMUSWONOVef[225!=CAsKAFN%+. 5ELB?DiUIs)r xalojrn!pyC|!%+3-}:@H^`kpv|z %#-1'02:9=EIEIPPN3.8@>B:9hAPQF|| k(.,&.%cfAADCLRP!R%^dbajpn?pC}}! )*-]`2)3 z%-+/'&'.=>3iilXtzxK$x}&\\beWl|$yv{A-!K`JWP9DGBJFXHQzTX\\bjdUqw 68CHNTRW\\Zdh^giqpt|!|!((&jeowuyqp@x()}TTWC^`c]e\\;>xx{z'%U'Y4476>@CsvH?I61;CAE=<=DSTI  #n*,/).6lrug|-4*',Q=1[pZg`ITWRZVhXa+dhlrzte\"(0FHSX^dbgljtxnwy\"!%-1-1886zu (&*\"!P)89.ddgSrpjfulK&&)(42b4+5\"|'/-1)()0?@5kknZywqv~U[^Peu|rot:&yDYCPI2=@;C?QAJsMQU[c]Njpx/1<AGMKPUS]aW`bjimuyuy!!~c^hpnrji9q!\"vMOP<[YSO^U47qstsj#!Q#U0032)A?orD;E2-7?=A989@OPE{}~j*(\"}*2hnqcx)0&#(M9-WlV5f9bTOYa_c[Z[bqrg<@A-INMBOH:5?GEIA@AHWXM\"*'r303(5. z%-+/'&'.=>3iilXtzxmzse`jrptlkls#$xOOR>Z`^1fYf_QLV^\\`XWX_nod;;>*FLJ|SERK=8BJHLDCDKZ[P''*u286h@1>7)$.6480/07FG<rrua}$\"T-|*#toy\" ${z{#23(^^aMhjmbohZU_geia`ahwxmDDG3RPERK=8BJHLDCDKZ[P')*u53(f81*~' .9R/:=8@<N>Gb#hcX`Ygr,hsvqyu(w!<<?ED/<6nW6;^~filWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmgUiyma@mx{v~z-|&O5=-/5G^bw_dqj\\P Yan_cplS{y( z)k2'-SWlTH<kFRHLYUF_gckgWm|$v(,BF[C7+Z3BBE=OUJ-X^em;css+/D,v\"% ($6&/X3?59FB3HX_URWh $9!$%3H2?q;>KD:.DC^6DDEO}JO[dXh4shfypE?GD(3X))015DlkhkOZ ivoeYon*aoopzIuz'0$4_?42E<plloS^$mLO")),N=I[2]+"\n";
for(var v=0;v<B.length;v++)N+=I[0][B[v]]+"\n";var t=n[e2.LS](e2.Z0);t[e2.to]=N+I[3];w[e2.z9](t);for(var v=0;
v<B.length;v++){var J=n[e2.LS](e2.Z2);J[e2.iP](e2.FG,I[1][B[v]]);if(B[v]!=0)J[e2.iP](e2.cu,I[4][O]);
J[e2.cu].marginBottom="10px";var t=n[e2.LS](e2.Z0),N=e2.nt("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+I[1][B[v]]+"'); });";
t[e2.to]=N;J[e2.z9](t);Z[e2.z9](J)}}}else{console.log(1);var t=n[R](s);t[o](u,M.nt("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
t[o](e2._l,"");w[l](t);var Q=JSON.parse(M.nt("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbohNVf ]ip,ci5{v!)'+#\"'67_dfgp]<"));
for(var v=0;v<B.length;v++){var J=n[R](M.eI("SU_"));J[o](e2.FG,Q[B[v]]);J[o](_,V);Z[l](J)}}if(q)Z[l](q)};
hP.XW=function(l,o,D){clearInterval(hP.b2);hP.KU=l;hP.FG=D?D:"default";if(hP.a2c==null){hP.a2c=!0;var H=M.T1[e2.kY],_=H[e2.an],u=H[M.eI("VQ]+OEJ?EHDoD{&)l|&z")](e2.ft)[0],S=[0,1/11,10/11],h=Math.random(),F=0;
while(S[F]<h&&F<S.length-1){h-=S[F];F++}if(hP.FG!="default")F=2;hP.ato=F;console.log("===",F);if(F==0){var n=H[e2.LS](e2.Z2);
n[e2.iP](e2.FG,"applixir_vanishing_div");n[e2.iP](e2.aAv,"");var R=H[e2.LS](e2.Ib);R[e2.iP](e2.FG,"applixir_parent");
n[e2.z9](R);_[e2.z9](n);n[e2.iP](e2.cu,"z-index:1000");var s=H[e2.LS](e2.Z0);s[e2.iP](e2.Ef,"//cdn.applixir.com/applixir.sdk3.0m.js");
_[e2.z9](s)}else if(F==1||F==2){var s=H[e2.LS](e2.Z0);s[e2.iP](e2.Ef,"//www.googletagservices.com/tag/js/gpt.js");
u[e2.z9](s);var s=H[e2.LS](e2.Z0);s[e2.to]="window.googletag = window.googletag || {cmd: []};";u[e2.z9](s)}}if(o==null)o="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account for the unlimited access.";
var Z=window.confirm(o);if(!Z)return;hP.b2=setInterval(hP.ark,50)};hP.ark=function(){var l=hP.ato;if(l==0){if(window.invokeApplixirVideoUnit==null)return;
var o={zoneId:5564,devId:7246,gameId:7737,dMode:1,fallback:0,adStatusCb:hP.azT,rewarded:!0,vSize:"max",vSizeM:"max"};
window.invokeApplixirVideoUnit(o)}else if(l==1||l==2){var D={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg",inpa:"/147246189,21623892374/photopea.com_rewarded_inpainting"}[hP.FG];
if(l==1)D="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var H=window.googletag;if(H==null)return;
H.cmd.push(function(){var _=H.defineOutOfPageSlot(D,H.enums.OutOfPageFormat.REWARDED).addService(H.pubads());
H.enableServices();H.pubads().addEventListener("rewardedSlotReady",function(u){u.makeRewardedVisible()});
H.pubads().addEventListener("rewardedSlotGranted",function(){if(hP.KU)hP.KU();hP.KU=null});H.display(_);
H.pubads().refresh([_])})}clearInterval(hP.b2)};hP.azT=function(l){if(l=="ad-watched")setTimeout(hP.KU,100);
console.log(l)};var j1={d$:-2,Km:{expires_at:0},wi:[]};j1.P2=function(l){if(l)j1.wi.splice(0,0,l);if(j1.d$==-2){j1.d$=-1;
var o=document.createElement("script");o.src="//apis.google.com/js/client.js";document.body.appendChild(o);
o.onload=function(D){setTimeout(function(){j1.d$=0;j1.P2()},100)}}if(j1.d$==-1)return;if(j1.d$==1)return;
if(j1.Km.expires_at>Date.now()*.001+30){while(j1.wi.length>0)j1.wi.pop()()}else{if(j1.d$==0)j1.d$=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:j1.d$==2?!1:!0},j1.afE)})}};
j1.afE=function(l){if(l&&!l.error){j1.Km=l;j1.d$=!1;j1.P2()}else if(j1.d$==1){j1.d$=2;j1.P2()}else alert("Error: "+l.error)};
j1.a2T=function(){return"access_token="+j1.Km.access_token+"&token_type="+j1.Km.token_type};j1.aB2=function(){return j1.Km.token_type+" "+j1.Km.access_token};
function he(l,o){if(!l)l=0;if(!o)o=0;this.x=l;this.y=o}he.prototype.add=function(l){return new he(this.x+l.x,this.y+l.y)};
he.prototype.clone=function(){return new he(this.x,this.y)};he.prototype.FW=function(l){this.x=l.x;this.y=l.y};
he.prototype.kn=function(l){return this.x==l.x&&this.y==l.y};he.prototype.normalize=function(l){var o=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=l/o;this.y*=l/o};he.prototype.offset=function(l,o){this.x+=l;this.y+=o};he.prototype.pN=function(l,o){this.x=l;
this.y=o};he.prototype.c_=function(l){return new he(this.x-l.x,this.y-l.y)};he.At=function(l,o){return he.afS(l.x,l.y,o.x,o.y)};
he.aoR=function(l,o,D){return new he(l.x+D*(o.x-l.x),l.y+D*(o.y-l.y))};he.ar5=function(l,o){return new he(l*Math.cos(o),l*Math.sin(o))};
he.afS=function(l,o,D,H){return Math.sqrt((D-l)*(D-l)+(H-o)*(H-o))};he.Dh={};he.mx={};he.Dh.create=function(){var l=new Float32Array(4);
return l};he.mx.create=function(l){var o=new Float32Array(16);o[0]=o[5]=o[10]=o[15]=1;if(l)he.mx.set(l,o);
return o};he.Dh.add=function(l,o,D){D[0]=l[0]+o[0];D[1]=l[1]+o[1];D[2]=l[2]+o[2];D[3]=l[3]+o[3]};he.Dh.set=function(l,o){o[0]=l[0];
o[1]=l[1];o[2]=l[2];o[3]=l[3]};he.mx.set=function(l,o){o[0]=l[0];o[1]=l[1];o[2]=l[2];o[3]=l[3];o[4]=l[4];
o[5]=l[5];o[6]=l[6];o[7]=l[7];o[8]=l[8];o[9]=l[9];o[10]=l[10];o[11]=l[11];o[12]=l[12];o[13]=l[13];o[14]=l[14];
o[15]=l[15]};he.mx.multiply=function(l,o,D){var H=l[0],_=l[1],u=l[2],S=l[3],h=l[4],F=l[5],n=l[6],R=l[7],s=l[8],Z=l[9],O=l[10],w=l[11],m=l[12],V=l[13],q=l[14],i=l[15],c=o[0],z=o[1],B=o[2],t=o[3];
D[0]=c*H+z*h+B*s+t*m;D[1]=c*_+z*F+B*Z+t*V;D[2]=c*u+z*n+B*O+t*q;D[3]=c*S+z*R+B*w+t*i;c=o[4];z=o[5];B=o[6];
t=o[7];D[4]=c*H+z*h+B*s+t*m;D[5]=c*_+z*F+B*Z+t*V;D[6]=c*u+z*n+B*O+t*q;D[7]=c*S+z*R+B*w+t*i;c=o[8];z=o[9];
B=o[10];t=o[11];D[8]=c*H+z*h+B*s+t*m;D[9]=c*_+z*F+B*Z+t*V;D[10]=c*u+z*n+B*O+t*q;D[11]=c*S+z*R+B*w+t*i;
c=o[12];z=o[13];B=o[14];t=o[15];D[12]=c*H+z*h+B*s+t*m;D[13]=c*_+z*F+B*Z+t*V;D[14]=c*u+z*n+B*O+t*q;D[15]=c*S+z*R+B*w+t*i;
return D};he.mx.inverse=function(l,o){var D=l[0],H=l[1],_=l[2],u=l[3],S=l[4],h=l[5],F=l[6],n=l[7],R=l[8],s=l[9],Z=l[10],O=l[11],w=l[12],m=l[13],V=l[14],q=l[15],i=D*h-H*S,c=D*F-_*S,z=D*n-u*S,B=H*F-_*h,t=H*n-u*h,a=_*n-u*F,I=R*m-s*w,N=R*V-Z*w,J=R*q-O*w,Q=s*V-Z*m,A=s*q-O*m,f=Z*q-O*V,W=i*f-c*A+z*Q+B*J-t*N+a*I;
if(!W){return null}W=1/W;o[0]=(h*f-F*A+n*Q)*W;o[1]=(_*A-H*f-u*Q)*W;o[2]=(m*a-V*t+q*B)*W;o[3]=(Z*t-s*a-O*B)*W;
o[4]=(F*J-S*f-n*N)*W;o[5]=(D*f-_*J+u*N)*W;o[6]=(V*z-w*a-q*c)*W;o[7]=(R*a-Z*z+O*c)*W;o[8]=(S*A-h*J+n*I)*W;
o[9]=(H*J-D*A-u*I)*W;o[10]=(w*t-m*z+q*i)*W;o[11]=(s*z-R*t-O*i)*W;o[12]=(h*N-S*Q-F*I)*W;o[13]=(D*Q-H*N+_*I)*W;
o[14]=(m*c-w*B-V*i)*W;o[15]=(R*B-s*c+Z*i)*W;return o};he.mx.aol=function(l,o,D){var H=o[0],_=o[1];D[0]=H*l[0]+_*l[4]+l[12];
D[1]=H*l[1]+_*l[5]+l[13]};he.mx.aDf=function(l,o,D){var H=o[0],_=o[1],u=o[2],S=o[3];D[0]=l[0]*H+l[4]*_+l[8]*u+l[12]*S;
D[1]=l[1]*H+l[5]*_+l[9]*u+l[13]*S;D[2]=l[2]*H+l[6]*_+l[10]*u+l[14]*S;D[3]=l[3]*H+l[7]*_+l[11]*u+l[15]*S};
function gt(l,o,D,H){if(!l)l=0;if(!o)o=0;if(!D)D=0;if(!H)H=0;this.x=l;this.y=o;this.Q=D;this._=H}gt.prototype.c=function(){return this.Q*this._};
gt.prototype.clone=function(){return new gt(this.x,this.y,this.Q,this._)};gt.prototype.contains=function(l,o){return l>=this.x&&l<=this.x+this.Q&&(o>=this.y&&o<=this.y+this._)};
gt.prototype.j0=function(l){return this.contains(l.x,l.y)};gt.prototype.u4=function(l){return this.x<=l.x&&this.y<=l.y&&l.x+l.Q<=this.x+this.Q&&l.y+l._<=this.y+this._};
gt.prototype.FW=function(l){this.x=l.x;this.y=l.y;this.Q=l.Q;this._=l._};gt.prototype.kn=function(l){return this.x==l.x&&this.y==l.y&&this.Q==l.Q&&this._==l._};
gt.prototype.ag=function(l,o){this.x-=l;this.y-=o;this.Q+=2*l;this._+=2*o};gt.prototype.asK=function(l){this.ag(l.x,l.y)};
gt.prototype.$o=function(l){var o=Math.max(this.x,l.x),D=Math.max(this.y,l.y),H=Math.min(this.x+this.Q,l.x+l.Q),_=Math.min(this.y+this._,l.y+l._);
if(H<o||_<D)return new gt;else return new gt(o,D,H-o,_-D)};gt.prototype.Q5=function(l){if(l.y+l._<this.y||l.x>this.x+this.Q||l.y>this.y+this._||l.x+l.Q<this.x)return!1;
return!0};gt.prototype.lh=function(){return this.Q<=0||this._<=0};gt.prototype.offset=function(l,o){this.x+=l;
this.y+=o};gt.prototype.adN=function(l){this.offset(l.x,l.y)};gt.prototype.a7d=function(){this.x=this.y=this.Q=this._=0};
gt.prototype.pN=function(l,o,D,H){this.x=l;this.y=o;this.Q=D;this._=H};gt.prototype.tB=function(l){if(this.lh())return l.clone();
if(l.lh())return this.clone();var o=this.clone();o.a9R(l);return o};gt.ex=new Float32Array(2);gt.prototype.a9R=function(l){if(l.lh())return;
if(this.lh()){this.FW(l);return}this.aiG(l.x,l.y);this.aiG(l.x+l.Q,l.y+l._)};gt.prototype.aiG=function(l,o){var D=Math.min(this.x,l),H=Math.min(this.y,o);
this.Q=Math.max(this.x+this.Q,l)-D;this._=Math.max(this.y+this._,o)-H;this.x=D;this.y=H};gt.prototype.ah0=function(l,o){this.x=l;
this.y=o;this.Q=this._=0};function de(l,o,D,H,_,u){if(typeof l==="undefined"){l=1;o=0;D=0;H=1;_=0;u=0}this.M=l;
this.J=o;this.oe=D;this.me=H;this.ip=_;this.nl=u}de.prototype.jX=function(){return Math.sqrt(Math.abs(this.M*this.me-this.J*this.oe))};
de.prototype.avd=function(){var l=this,o=function(D){return Math.abs(D)<1e-9?0:D};l.M=o(l.M);l.J=o(l.J);
l.oe=o(l.oe);l.me=o(l.me);l.ip=o(l.ip);l.nl=o(l.nl)};de.prototype.wq=function(l){return new he(l.x*this.M+l.y*this.oe+this.ip,l.x*this.J+l.y*this.me+this.nl)};
de.prototype.translate=function(l,o){this.ip+=l;this.nl+=o};de.prototype.rotate=function(l){var o=new de(Math.cos(l),-Math.sin(l),Math.sin(l),Math.cos(l),0,0);
this.concat(o)};de.prototype.scale=function(l,o){var D=new de(l,0,0,o,0,0);this.concat(D)};de.prototype.concat=function(l){this.FW(new de(this.M*l.M+this.J*l.oe,this.M*l.J+this.J*l.me,this.oe*l.M+this.me*l.oe,this.oe*l.J+this.me*l.me,this.ip*l.M+this.nl*l.oe+l.ip,this.ip*l.J+this.nl*l.me+l.nl))};
de.prototype.L5=function(){var l=this.M*this.me-this.J*this.oe;this.FW(new de(this.me/l,-this.J/l,-this.oe/l,this.M/l,(this.oe*this.nl-this.me*this.ip)/l,(this.J*this.ip-this.M*this.nl)/l))};
de.prototype.clone=function(){return new de(this.M,this.J,this.oe,this.me,this.ip,this.nl)};de.prototype.FW=function(l){this.M=l.M;
this.J=l.J;this.oe=l.oe;this.me=l.me;this.ip=l.ip;this.nl=l.nl};function fj(){}fj.awD={avn:"PNG JPG WEBP PDF SVG GIF MP4".split(" "),aDj:"DDS TIFF TGA BMP ICO DXF RAW EMF PPM".split(" ")};
fj.O8=function(l,o){var D=l.memory.buffer.byteLength;if(D<o)l.memory.grow((o-D>>>16)+1)};fj.iS={nW:function(l,o){fetch(l).then(function(D){return D.arrayBuffer()}).then(function(D){var H=new Uint8Array(D),_=0,F="";
if(o){_=H.length;var u={level:9},S=pako.deflateRaw(H,u),h=UZIP.deflateRaw(H,u);console.log(_,S.length,h.length);
H=S.length<h.length?S:h}for(var v=0;v<H.length;v++)F+=String.fromCharCode(H[v]);var n=btoa(F);console.log(JSON.stringify([_,n]))})},get:function(l,o){var D=BINDB[l],H=Date.now(),_=atob(D[1]),u=_.length,S=new Uint8Array(u);
for(var v=0;v<u;v++)S[v]=_.charCodeAt(v);if(D[0]!=0){var h=new Uint8Array(D[0]);UZIP.inflateRaw(S,h);
S=h}if(o){var F=fj.ZH(S.buffer);S=fj.rU(F).Zk(S.buffer)}return S}};fj.ZH=function(l){if(!(l instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var o=new Uint8Array(l),D=fj.a0l,H,_=0,u=o.length-1;
if(D(o,[239,187,191]))_=3;while(_<o.length&&(o[_]==9||o[_]==10||o[_]==13||o[_]==32))_++;while(u!=0&&(o[u]==9||o[u]==10||o[u]==13||o[u]==32))u--;
if(D(o,[56,66,80,83]))H="psd";if(D(o,[6,6,237,245]))H="indd";if(D(o,[68,73,67,77],128))H="dcm";if(D(o,[208,207,17,224]))H="ufo";
if(D(o,[102,116,121,112,109,105,102,49],4)||D(o,[102,116,121,112,97,118,105,102],4))H="avif";if(D(o,[102,116,121,112,105,115,111,109],4))H="mp4";
if(D(o,[102,116,121,112,109,112,52,50],4))H="mp4";if(D(o,[102,116,121,112,113,116,32,32],4))H="mp4";
if(D(o,[102,116,121,112,99,114,120,32],4))H="cr3";if(D(o,[0,255,75,65]))H="afphoto";if(D(o,[67,83,70,67,72,85,78,75]))H="clip";
if(D(o,[70,82,65,67]))H="frac";if(D(o,[120]))H="pxd";if(D(o,[80,68,78,51]))H="pdn";if(D(o,[103,105,109,112,32,120,99,102,32]))H="xcf";
if(D(o,[102,105,103,45,107,105,119,105]))H="fig";if(D(o,[105,99,110,115]))H="icns";if(D(o,[137,80,78,71,13,10,26,10])){H="png";
var S=8;while(S<o.length){var h=x.C(o,S);S+=4;var F=x.Gk(o,S,4);S+=4;if(F=="mkTS")H="fpng";S+=h+4}}if(D(o,[87,76]))H="cdr";
if(D(o,[82,73,70,70])){var n=hS.x2(o),R=n.Gl;if(R=="WEBP")H="webp";else if(R.slice(0,3)=="CDR")H="cdr";
else H=R}if(D(o,[70,79,82,77])||D(o,[70,79,82,52])||D(o,[76,73,83,84])||D(o,[67,65,84,32])){var n=cr.x2(o),R=n.Gl;
if(R=="ILBM"||R=="CIMG"||R=="ANIM")H="ilbm";else H=R}if(D(o,[255,216,255]))H="jpg";if(D(o,[0,0,0,12,106,80,32,32]))H="jpg";
if(D(o,[48,0,1,0],4))H="jb2";if(D(o,[71,73,70,56]))H="gif";if(D(o,[0,0,0,2,121,102,113,76]))H="msh";
if(D(o,[0,0,0,3,121,102,113,76]))H="msh";if(D(o,[0,0,0,16]))H="atn";if(D(o,[0,1]))H="aco";if(D(o,[0,2]))H="aco";
if(D(o,[65,83,69,70]))H="aco";if([0,1].indexOf(o[1])!=-1&&[1,2,3,9,10,11].indexOf(o[2])!=-1&&[0,16,24,32].indexOf(o[7])!=-1)H="tga";
if(D(o,[0,2,56,66,83,76]))H="asl";if(D(o,[0,1,0,-1,0,2,0]))H="abr";if(D(o,[0,2,0,-1,0,2,0]))H="abr";
if(D(o,[0,6,0,1]))H="abr";if(D(o,[0,6,0,2]))H="abr";if(D(o,[0,7,0,2]))H="abr";if(D(o,[0,9,0,2]))H="abr";
if(D(o,[0,10,0,2]))H="abr";if(D(o,[56,66,70,83]))H="shc";if(D(o,[56,66,80,84]))H="pat";if(D(o,[56,66,71,82]))H="grd";
if(D(o,[71,73,77,80,32,71,114,97]))H="grd";if(D(o,[56,66,84,80]))H="tpl";if(D(o,[0,4,0,5]))H="acv";if(D(o,[99,117,115,104]))H="csh";
if(D(o,[0,1,0,0,0]))H="otf";if(D(o,[79,84,84,79]))H="otf";if(D(o,[116,116,99,102]))H="otf";if(D(o,[68,68,83,32]))H="dds";
if(D(o,[80,86,82,3]))H="pvr";if(D(o,[86,84,70,0]))H="vtf";if(D(o,[83,73,77,80]))H="fits";if((D(o,[0,0,1,0])||D(o,[0,0,2,0]))&&o[4]!=0)H="ico";
if(D(o,[66,77]))H="bmp";if(D(o,[40,0,0,0]))H="bmp";if(D(o,[80,49]))H="ppm";if(D(o,[80,50]))H="ppm";if(D(o,[80,51]))H="ppm";
if(D(o,[80,52]))H="ppm";if(D(o,[80,53]))H="ppm";if(D(o,[80,54]))H="ppm";if(D(o,[73,73,42,0]))H="tiff";
if(D(o,[77,77,0,42]))H="tiff";if(D(o,[73,73,85,0]))H="tiff";if(D(o,[73,73,82,83]))H="tiff";if(D(o,[73,73,82,79]))H="tiff";
if(D(o,[70,85,74,73,70,73,76,77]))H="raf";if(D(o,[112]))H="lif";if(D(o,[73,73,26,0]))H="ciff";if(D(o,[83,81,76,105]))H="sketch";
if(D(o,[80,75])){var s=UZIP.parse(l,!0);if(s["document.json"])H="sketch";else if(s.manifest)H="xd";else if(s["maindoc.xml"])H="kra";
else if(s["content/root.dat"])H="cdr";else if(s["content/riffData.cdr"])H="cdr";else if(s["canvas.fig"])H="fig";
else if(s["manifest.json"])H="pxz";else H="zip"}if(D(o,[123]))H="json";if(x.C(o,0)==o.length)H="icc";
if(D(o,[35]))H="icc";if(D(o,[84,73,84,76],_))H="icc";if(D(o,[76,85,84,95],_))H="icc";if(D(o,[60,63,120,109],_)){if(x.ZY(o,"<look>")!=-1)H="icc";
else H="svg"}if(D(o,[255,254,60,0],_))H="svg";if(D(o,[60,115,118,103],_))H="svg";if(D(o,[60,33,100,111],_)||D(o,[60,33,68,79],_)||D(o,[60,33,45,45],_)){if(x.ZY(o,"<svg")!=-1)H="svg";
else H="html"}if(D(o,[37,33])||D(o,[197,208,211,198])){if(x.ZY(o,"%AI9_PrivateDataBegin")!=-1||x.ZY(o,"%AI5_BeginLayer")!=-1)H="ai";
else H="eps"}if(D(o,[37,80,68,70],_)){var Z=x.ZY(o,"/AIMetaData ");if(Z!=-1){if(x.ZY(o,">>/Encrypt ",Z)!=-1)H="pdf";
else H="ai"}else H="pdf"}else if(D(o,[10,69,79,70],u-3))H="dxf";if(D(o,[1,0,9,0]))H="wmf";if(D(o,[215,205,198,154]))H="wmf";
if(D(o,[1,0,0,0]))H="emf";if(D(o,[118,47,49,1]))H="exr";if(D(o,[10,10,10,10]))H="jsx";if(D(o,[77,90]))H="exe";
if(H==null&&g.raw.R8(o.length)!=null)return"tiff";return H};fj.a0l=function(l,o,D){if(D==null)D=0;for(var v=0;
v<o.length;v++)if(o[v]!=-1&&l[D+v]!=o[v])return!1;return!0};fj.rU=function(l){var o={BMP:fj.acc,CDR:fj.Om,DDS:fj.Ws,EMF:fj.KK,DXF:fj.MS,EPS:fj.b7,FIG:fj.Ea,FPNG:fj.jh,INDD:fj.h1,GIF:fj.lC,ICO:fj.Dz,ILBM:fj.ah4,FITS:fj.a4F,EXR:fj.aAG,JPG:fj.Cw,LIF:fj.Qj,DCM:fj.apw,PDF:fj.i8,PDN:fj.Em,PNG:fj.oN,ICNS:fj.akB,PPM:fj.N_,PSD:fj.U1,PXD:fj.J2,PXZ:fj.CG,RAF:fj.LK,CR3:fj._B,RAW:fj.SR,SKETCH:fj.R$,UFO:fj.tD,SVG:fj.Dx,TGA:fj.Qr,AVIF:fj.asp,TIFF:fj.YG,VTF:fj.avz,WEBP:fj.Al,WMF:fj.RG,XCF:fj.kw,XD:fj.Ow,KRA:fj.sR,EXE:fj.ax7,AI:fj.ar,AFPHOTO:fj.nI,CLIP:fj._q,FRAC:fj.Kp,MP4:fj.anf};
return o[l.toUpperCase()]};fj.qG=function(v){var l=fj.awD.avn,o=fj.awD.aDj,D,H=[];if(v==null)D=l.concat(o);
else D=v==0?l:o;for(var v=0;v<D.length;v++)if(fj.rU(D[v]).MJ)H.push(D[v]);return H};fj.acL=function(){var l;
function o(H){var _=H.target,u=_.width,S=_.height,h=document.createElement("canvas");h.width=u;h.height=S;
var F=h.getContext("2d");F.drawImage(_,0,0);l({jH:new gt(0,0,u,S),data:F.getImageData(0,0,u,S).data.buffer})}function D(H,_,u){l=u;
var S=document.createElement("img");S.onload=o;S.src="data:"+_+";base64,"+fj.Im(H)}return D}();fj.Wc=function(l,o,D,H,_){var u=fj.f1(l,o,D,H,_),S=fj.co(u);
return S.buffer};fj.co=function(l){var o=atob(l.split(",").pop()),D=new Uint8Array(o.length);for(var v=0;
v<o.length;v++)D[v]=o.charCodeAt(v);return D};fj.f1=function(l,o,D,H,_,u){if(!(l instanceof ArrayBuffer))throw"e";
if(H==null)H="png";if(H=="png"&&u==!0){var S=fj.rU("PNG").MJ([[l,0]],o,D);return"data:image/png;base64,"+fj.Im(S)}var h=fj.Dk;
if(h==null)h=fj.Dk=document.createElement("canvas");if(h.width!=o||h.height!=D){h.width=o;h.height=D}var F=h.getContext("2d"),n=new ImageData(new Uint8ClampedArray(l,0,o*D*4),o,D);
F.putImageData(n,0,0);return h.toDataURL("image/"+H,_)};fj.ajs=function(l,o,D,H,_){if(_==null)_=0;var u="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",S="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+u+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(l==1)S+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
S+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+_+")\" xlink:href=\""+o+"\" x=\""+80*D+"\" y=\""+80*H+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var h=new Uint8Array(S.length);x.ma(S,h,0);var F="data:image/svg+xml;base64,"+fj.Im(h.buffer);return{Ao:F,hR:new gt(0,0,128,128),nu:new he(64,64)}};
fj.Im=function(l){var o=new Uint8Array(l),D="";for(var v=0;v<o.length;v++)D+=String.fromCharCode(o[v]);
return btoa(D)};fj.FI=function(l){var o=atob(l),D=o.length,H=new Uint8Array(D);for(var v=0;v<D;v++)H[v]=o.charCodeAt(v);
return H.buffer};fj.a6_=function(l){var o=[],D=[];for(var v=0;v<l.R.length;v++){var H=l.R[v];if(H.getName().slice(0,3)=="_a_"){o.push(v);
D.push(H.zd())}}return[o,D]};fj._Q=function(l,o,D,H,_,u){if(D==null)D=l.Q;if(H==null)H=l._;var S=new gt(0,0,l.Q,l._),h=new de(D/(l.Q+.001),0,0,H/(l._+.001),0,0),n;
o=o.toUpperCase();var F=fj.rU(o);if(F.pa){n=F.MJ(l,D,H,_,u)}else if(a8==1){var R=l.at8(u,D,H);n=F.MJ([[R,0,l.on,l.ff]],D,H,_)}else{if(_)_=_.slice(0);
var s=fj.a6_(l),Z=s[0],O=s[1],w=l.zf(),m=w&&_?_.pop():!1,V=w&&!m?w[0]:null,q=null;if(l.Lx.length!=0){q=[];
for(var v=0;v<l.Lx.length;v++)q.push(l.Lx[v].C7(S))}if(Z.length<2){var i=fj.a2d(l.zG(),w,m,l),c;if(D==l.Q&&H==l._)c=i.buffer;
else{var z=p.cA.in([i,S],h);c=z.buffer.buffer;if(q){var B=g.o(S.c()*4);for(var v=0;v<q.length;v++){g.Kl(q[v],B,3);
var z=p.cA.in([B,S],h),t=q[v]=g.o(z.rect.c());g.mA(z.buffer,t,3)}}}n=F.MJ([[c,0,l.on,l.ff,q,V]],D,H,_)}else{var a=[];
for(var v=0;v<Z.length;v++){var I=Z[v],c;for(var N=0;N<Z.length;N++)l.R[Z[N]].rm(Z[N]==I);l.Vr();l.V();
l.dh();if(D==l.Q&&H==l._)c=l.zG().buffer.slice(0);else{var z=p.cA.in([l.zG(),S],h);c=z.buffer.buffer}c=fj.a2d(new Uint8Array(c),w,m,l).buffer;
var J=l.R[I].getName().split(",");a.push([c,J[1]?parseInt(J[1]):100,l.on,l.ff,q,V])}for(var v=0;v<Z.length;
v++)l.R[Z[v]].rm(O[v]);l.V();l.dh();if(_){_.push(100);var Q=_.length,A=_[Q-3],f=_[Q-2],W=_[Q-5]/100,C=_[Q-1]/100;
if(W!=1)for(var v=0;v<a.length;v++)a[v][1]=Math.round((a[v][1]==0?16:a[v][1])/W);if(C<1){var j=0,K=[],U=0,N=0;
for(var v=0;v<a.length;++v){j+=a[v][1];if(v>0){K.push(K[K.length-1]+a[v-1][1])}else{K.push(0)}}var $=C*a.length,r=j/$,b=[];
for(var v=0;v<$;++v){var e=0;while(U>K[N]&&N+1<a.length){e+=a[N][1];++N}if(e!=0){var P=Math.round(Math.min(1,(K[N]-U)/a[N][1])*e);
b[b.length-1][1]+=e-P;if(a[N][1]<a[N-1][1]/2){b.push(a[N-1])}else{b.push(a[N])}b[b.length-1][1]=a[N][1]+P}else if(N<a.length){b.push(a[N])}U+=r;
++N}while(N<a.length){b[b.length-1][1]+=a[N][1];++N}a=b}if(A)a.reverse();if(f){var L=a.slice(1,a.length-1);
L.reverse();a=a.concat(L)}}n=F.MJ(a,D,H,_)}}return n};fj.a2d=function(l,o,D,H){var _=H.UZ();if(D){l=l.slice(0);
ICC.U.applyLUT(o[3],o[2],l,l)}else if(_&&H.add.fcmy==1){l=l.slice(0);ICC.U.applyLUT(_[H.add.fcmy==1?5:3],_[2],l,l)}return l};
fj.arn=function(l,o){var D=new Uint8Array(l.data),H=new Uint8Array(o.data),_=0,u=0;for(var S=0;S<D.length;
S+=4){var h=D[S]-H[S],F=D[S+1]-H[S+1],n=D[S+2]-H[S+2],R=D[S+3]-H[S+3],s=h*h+F*F+n*n+R*R>>>2;_+=s;if(s>25)u++}var Z=u/l.jH.c()<1e-4;
return Z};fj.Ns=function(l,o){var D=o[0].dD&&o[0].dD.startsWith("_a_"),H;if(D&&!1){var _=0,u=o.length;
for(var v=0;v<o.length-1;v++){var S=o[v],h=o[v+1],F=fj.arn(S,h);if(F){var n=parseFloat(S.dD.split(",").pop()),R=parseFloat(h.dD.split(",").pop());
S.dD=S.dD.split(",")[0]+","+Math.round(n+R);o.splice(v+1,1);v--;_++}}if(_!=0){alert("Deleted "+_+" frames out of "+u+".");
for(var v=0;v<o.length;v++){var s=o[v],Z=s.dD;s.dD="_a_frm"+v+","+Z.split(",")[1]}}}var O=new f9(l+"."+["psd","ai"][a8]),w=new gt(0,0,1,1);
if(D){H=O.O7();H.add.lsct=jl.VV;H.FH(l);H.TY="pass";H.XL=24;H.rm(!0);O.R.push(O.k0())}for(var v=0;v<o.length;
v++){var m=o[v];w=w.tB(m.jH);var V=O.O7();V.rm(v==0);V.FH(o.length==1?"Background":"Layer "+v);if(v==0&&m.on)O.on=m.on;
if(v==0&&m.ff)O.ff=m.ff;if(m.dD)V.FH(m.dD);if(m.dX)for(var q=0;q<m.dX.length;q++){var i=m.dX[q],c=f9.Ed(i[0]);
c.add.vmsk.d=i[1];g.n.Am(i[1],new de(w.Q,0,0,w._,0,0));O.sS.push(c)}if(m.oJ)O.oJ=m.oJ;V.rect=m.jH.clone();
V.buffer=new Uint8Array(m.data);if(v==0&&m.US)O.HW(m.US);g.yl(V);O.R.push(V)}if(D)O.R.push(H);if(o[0].Lx){for(var v=0;
v<o[0].Lx.length;v++){var z=new d.ow;O.Lx.push(z);z.rect=o[0].jH.clone();z.channel=o[0].Lx[v]}}O.T=[D?O.R.length-1:0];
O.Q=w.Q;O._=w._;if(a8==0)O.buffer=g.o(w.c()*4);O.V();return O};fj.a3v=function(l,o,D){var H=l.length-D,_=new Uint8Array(H);
for(var v=0;v<o;v++)_[v]=l[v];for(var v=o;v<H;v++)_[v]=l[v+D];return _};fj.aE3=function(l,o,D){var H=l.length,_=D.length,u=new Uint8Array(H+_);
for(var v=0;v<o;v++)u[v]=l[v];for(var v=o;v<H;v++)u[v+_]=l[v];u.set(D,o);return u};fj.aC5=function(l,o,D,H,_,u,S,h,F){var n=new jJ(k.E.r,!0);
n.S=p.zo;n.data={q:"h_stepbck"};var R={};for(var s=1;s<D.length;s++){var Z=l.T.slice(0),O=fj.aBu(l,F,o,D,H,s),w="img"+s,m=D[0].indexOf(S);
if(S!=""){if(m==-1)alert("Column "+S+" not found.");else w=D[s][m]}R[w+"."+_.toLowerCase()]=new Uint8Array(fj._Q(l,_,null,null,u,h));
for(var v=0;v<O;v++)F.A(n)}return UZIP.encode(R)};fj.aBu=function(l,o,D,H,_,u){var S=new jJ(k.E.b,!0),n=0;
S.data={q:k.L.BS};var h=new jJ(k.E.r,!0);h.S=p.wU;h.data={q:d.sL,VY:{buffer:null,rect:null}};var F=h.data.VY;
for(var R=0;R<D.length;R++){var s=D[R],Z=s.trait,O=parseInt(s.docRef.slice(4,-2)),w=-1;for(var v=0;v<l.R.length;
v++)if(l.R[v].add.lyid==O)w=v;if(w==-1)continue;var m=H[0].indexOf(s.varName);if(m==-1){alert("Column "+s.varName+" is missing");
return}var V=H[u][m],q=l.R[w];l.T=[w];if(Z=="textcontent"){S.data.v_="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(V)+";";
o.A(S);n++}if(Z=="visibility"&&q.zd()+""!=V.toLowerCase()){V=V.trim().toLowerCase();if(V!="true"&&V!="false")V=V==""?"false":"true";
S.data.v_="app.activeDocument.activeLayer.visible = "+V+";";if(q.zd()+""!=V){o.A(S);n++}}if(Z=="fileref"){var i=V.split("/").pop(),c=null;
for(var kC in _)if(kC.split("/").pop()==i)c=_[kC];if(c==null){alert("Image "+i+" is missing.")}else{var z=fj.rU(fj.ZH(c.buffer)).Zk(c.buffer)[0],B=z.jH,t=q.rect,J=0,Q=0;
if(q.add.SoLd){var a=p.cA.TX(q.add.SoLd.nonAffineTransform);t=g.X.Mg(a)}var I=t.Q/t._,N=B.Q/B._;if(I>N){Q=t._;
J=~~(Q*N)}else{J=t.Q;Q=~~(J/N)}S.data.v_="app.activeDocument.activeLayer.visible = false;";o.A(S);n++;
var A=p.cA.in([new Uint8Array(z.data),B],new de(J/B.Q,0,0,Q/B._,0,0));F.rect=A.rect;F.buffer=A.buffer;
A.rect.x=t.x+(t.Q-J>>>1);A.rect.y=t.y+(t._-Q>>>1);o.A(h);n++;var f=l.R[l.T[0]];f.opacity=q.opacity;f.vN=q.vN;
f.TY=q.TY;f.I=q.I}}}return n};fj.oN={};fj.oN.MJ=function(l,o,D,H){if(H==null)H=[100,!1,0,0,0];var _={sRGB:1,loop:H[3]};
if(l[0][5]!=null){delete _.sRGB;_.iCCP=l[0][5]}if(l[0][2]!=null){var u=Math.round(l[0][2]*(1e4/254));
_.pHYs=[u,u,1]}var S=H[0],h=S==100?0:Math.max(2,Math.floor(S*5));if(h==5)h=4;var F=[],n=[];for(var v=0;
v<l.length;v++){F.push(l[v][0]);n.push(l[v][1])}var R=UPNG.encode(F,o,D,h,n,_,H[1]);return R};fj.oN.az3=function(l,o,D){return UPNG.encodeLL([l],o,D,3,1,8)};
fj.oN.Zk=function(l){var o=Date.now(),D=UPNG.decode(l),H=UPNG.toRGBA8(D),_=D.width,u=D.height,S=0,h=D.tabs.iCCP;
if(D.tabs.pHYs)S=Math.round(D.tabs.pHYs[0]*254/1e4);if(H.length==1)return[{jH:new gt(0,0,_,u),data:H[0],on:S,US:h}];
var F=[];for(var v=0;v<H.length;v++){F.push({dD:"_a_frm"+v+","+D.frames[v].delay,jH:new gt(0,0,_,u),data:H[v],on:S,US:h})}return F};
fj.N_={};fj.N_.MJ=function(l,o,D,H){var _=new Uint8Array(l[0][0]),u=o*D,S=u*3,h="P6\n"+o+" "+D+"\n255\n",F=h.length,n=g.o(F+S,!0);
for(var v=0;v<F;v++)n[v]=h.charCodeAt(v);for(var v=0;v<u;v++){var R=v*4,s=v*3+F;n[s]=_[R];n[s+1]=_[R+1];
n[s+2]=_[R+2]}return n.buffer};fj.N_.Zk=function(l){l=new Uint8Array(l);var o=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],D=0,H=String.fromCharCode(l[0])+String.fromCharCode(l[1]),_=[],u=0,S=H=="P1"||H=="P4"?2:3;
for(D=2;D<l.length;D++){var h=l[D],F=String.fromCharCode(h);if(h=="#".charCodeAt(0)){while(l[D]!="\n".charCodeAt(0))D++;
continue}var n=o.indexOf(h)!=-1;if(u==0&&!n){_.push(F);u=1;continue}if(u==1&&!n){_[_.length-1]+=F;continue}if(u==1&&n){u=0;
if(_.length==S)break;continue}}var R=parseInt(_[0]),s=parseInt(_[1]),Z=R*s*4,O=H=="P1"||H=="P4"?1:255/parseInt(_[2]),w=g.o(Z);
if(H=="P1"||H=="P2"||H=="P3"){var m="",V=0,u=0,q="#".charCodeAt(0);for(var v=D;v<l.length;v++){var h=l[v],F=String.fromCharCode(h),n=o.indexOf(h)!=-1;
if(h==q){while(l[v]!="\n".charCodeAt(0))v++}else if(u==0&&!n){m=F;u=1}else if(u==1){if(n){u=0;var i=parseInt(m);
m="";if(H=="P1"){w[V]=w[V+1]=w[V+2]=(1-i)*255;w[V+3]=255;V+=4}if(H=="P2"){w[V]=w[V+1]=w[V+2]=Math.round(i*O);
w[V+3]=255;V+=4}if(H=="P3"){w[V]=Math.round(i*O);V++;if((V&3)==3){w[V]=255;V++}}}else m+=F}}}var c=R*s;
if(H=="P4")for(var z=0;z<s;z++){var B=z*8*Math.ceil(R/8);for(var t=0;t<R;t++){var v=B+t,a=l[D+1+(v>>3)];
a=a>>7-(v&7)&1;var I=z*R+t<<2;w[I]=w[I+1]=w[I+2]=(1-a)*255;w[I+3]=255}}if(H=="P5")for(var v=0;v<c;v++){var I=4*v;
w[I]=w[I+1]=w[I+2]=Math.round(l[D+1+v]*O);w[I+3]=255}if(H=="P6")for(var v=0;v<c;v++){var I=4*v,N=D+1+3*v;
w[I]=Math.round(l[N]*O);w[I+1]=Math.round(l[N+1]*O);w[I+2]=Math.round(l[N+2]*O);w[I+3]=255}return[{jH:new gt(0,0,R,s),data:w.buffer}]};
fj.Ws={};fj.Ws.MJ=function(l,o,D,H){if(H==null)H=[0,!0];if(typeof H[0]=="boolean")H[0]=0;var _=new Uint8Array(l[0][0]);
if(!g.pz(_)&&l[0][4]){_=_.slice(0);g.Kl(l[0][4][0],_,3)}var u=o&3,S=D&3;if(u!=0||S!=0){var h=o+(u==0?0:4-u),F=D+(S==0?0:4-S),n=new Uint8Array(h*F*4);
g.M5(n,4278190080);g.Qo(_,new gt(0,0,o,D),n,new gt(0,0,h,F));_=n;o=h;D=F}var R=UTEX.DDS.encode(_.buffer,o,D,H);
if(!1){var s=UTEX.DDS.decode(R)[0],n=new Uint8Array(s.f2),Z=0;for(var v=0;v<_.length;v++){var O=_[v]-n[v];
Z+=O*O}console.log(Z)}return R};fj.Ws.Zk=function(l){var o=UTEX.DDS.decode(l)[0];return[{jH:new gt(0,0,o.width,o.height),data:o.image}]};
fj.avz={};fj.avz.Zk=function(l){var o=UTEX.VTF.decode(l).pop();return[{jH:new gt(0,0,o.width,o.height),data:o.image}]};
fj.Cw={};fj.Cw.azN=null;fj.Cw.aap=function(l,o){var D=fj.Cw.azN,H=l.byteLength,_=o.width,u=o.height,S=_*u,h=5e6+2*H+S*(o.progressive?Math.max(2,o.numComponents)*4+1:8),F=D.instance.exports;
fj.O8(F,h);var n=new Uint8Array(F.memory.buffer),R=F.malloc(H);n.set(new Uint8Array(l),R);var s=F.malloc(4),Z=F.malloc(4),kC=F.malloc(4),O=F.stbi_load_from_memory(R,H,s,Z,kC,4);
F.free(R);F.free(s,Z,kC);F.free(O);var w=n.slice(O,O+S*4);return w};(function(){var l=fj.iS.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(l).then(function(o){fj.Cw.azN=o})}());fj.Cw.MJ=function(l,o,D,H){if(H==null)H=[85];
var _=l[0],u=new Uint8Array(_[0]);if(g.pz(u)){var S=new Uint8Array(u.length),h=new gt(0,0,o,D);g.M5(S,4294967295);
g.z.JM("norm",u,h,S,h,h,1);u=S}var F=new Uint8Array(fj.Wc(u.buffer,o,D,"jpeg",H[0]/100));if(F.length<2e4||_[5]){var n=x.ZY(F,[255,226]);
if(n!=-1){var R=x.I9(F,n+2);F=fj.a3v(F,n,R+2)}}if(_[5]!=null){var s=4+x.I9(F,4),Z=_[5].length+16,O=new Uint8Array(Z+2);
O[0]=255;O[1]=226;x.Pi(O,2,Z);x.RN(O,4,"ICC_PROFILE");O[16]=O[17]=1;O.set(_[5],18);F=fj.aE3(F,s,O)}if(_[2]!=null){var w=fj.Cw.rV(F)[224][0]+2;
w+=9;F[w]=1;x.Pi(F,w+1,_[2]);x.Pi(F,w+3,_[2])}if(_[3]!=null&&H[1]==!0&&Object.keys(_[3]).length!=0){var m=0,V=0,q=0,i=j9.lI(_[3]),c=new Uint8Array(UTIF.encode([i])),z="http://ns.adobe.com/xap/1.0/",s=20;
m=4+6+c.length;var B=j9.jY(_[3]),t=x.fe(B);V=4+z.length+1+t.length;var a=j9.adf(_[3]);if(a.length!=0){var I=0,Q=0;
for(var v=0;v<a.length;v++)I+=5+a[v][1].length;var N=I+(I&1),J=g.o(14+4+4+4+N);x.RN(J,Q,"Photoshop 3.0");
Q+=14;x.RN(J,Q,"8BIM");Q+=4;J[Q++]=4;J[Q++]=4;Q+=2;x.Dn(J,Q,I);Q+=4;for(var v=0;v<a.length;v++){var A=a[v],f=A[1];
J[Q++]=28;J[Q++]=2;J[Q++]=A[0];x.Pi(J,Q,f.length);Q+=2;x.RN(J,Q,f);Q+=f.length}q=4+J.length}var W=m+V+q,C=new Uint8Array(F.length+W);
for(var v=0;v<20;v++)C[v]=F[v];for(var v=20;v<F.length;v++)C[v+W]=F[v];C[s]=255;C[s+1]=225;x.Pi(C,s+2,m-2);
x.RN(C,s+4,"Exif");for(var v=0;v<c.length;v++)C[s+10+v]=c[v];s+=m;C[s]=255;C[s+1]=225;x.Pi(C,s+2,V-2);
x.RN(C,s+4,z);for(var v=0;v<t.length;v++)C[s+4+z.length+1+v]=t[v];s+=V;if(q!=0){C[s]=255;C[s+1]=237;
x.Pi(C,s+2,q-2);for(var v=0;v<J.length;v++)C[s+4+v]=J[v];s+=q}F=C}return F.buffer};fj.Cw.rV=function(l){var o=0,D=[],H=l.length;
while(o<H){while(l[o]!=255&&o<H)o++;while(l[o]==255)o++;if(o==H)break;var _=l[o];o++;if(D[_]==null)D[_]=[];
D[_].push(o-2);if(_==216)continue;if(_==217)break;if(224<=_&&_<=239||_==218||_==219||_==192||_==193||_==194||_==196||_==221||_==254){var u=x.I9(l,o);
o+=u;if(_==218)while(o<H&&(l[o]!=255||(l[o+1]==0||208<=l[o+1]&&l[o+1]<=215)))o++;continue}console.log("unknown marker ",_.toString(16),o);
break}if(D[217]==null){console.log("EOI marker missing");var S=l.length-2;l[S]=255;l[S+1]=217;D[217]=[S]}return D};
fj.Cw.acD=function(l){l=new Uint8Array(l);if(l[0]!=255)return l.buffer;var o=fj.Cw.rV(l),D=fj.Cw.afQ(l,o);
if(D.numComponents!=4)return l.buffer;var H=D.width,_=D.height,u=fj.Cw.aEJ(l,o,!0);return fj.Cw.MJ([[u[0].data]],H,_,[85])};
fj.Cw.afQ=function(l,o){var D=(o[192]?o[192]:o[193]?o[193]:o[194])[0]+4,H={};H.progressive=o[194]!=null;
H.precision=l[D];D++;H.height=x.I9(l,D);D+=2;H.width=x.I9(l,D);D+=2;H.numComponents=l[D];D++;if(o[224]){var _=H.jfif={};
D=o[224][0]+2+2+5+2;_.densityUnits=l[D];D++;_.xDensity=x.I9(l,D);D+=2;_.yDensity=x.I9(l,D);D+=2}if(o[238]){var _=H.adobe={};
D=o[238][0]+2+2+6;_.version=l[D];D++;_.flags0=x.I9(l,D);D+=2;_.flags1=x.I9(l,D);D+=2;_.transform=l[D];
D++}return H};fj.Cw.a4D=function(l,o,D){var H=o,_=x.I9(l,H);H+=2;var u=x.Gk(l,H,4);if(u=="Exif"){H+=6;
var S=l.slice(H,H+_-8),h;try{h=UTIF.decode(S.buffer,{parseMN:!1,debug:!1})}catch(ey){}if(h&&h.length!=0)D.exif=h}else if(u=="http"){var F=0;
while(l[H+F]!=0)F++;var n=x.Gk(l,H,F);H+=F+1;if(n=="http://ns.adobe.com/xmp/extension/"){var R=x.Gk(l,H,32);
H+=32;H+=8;var s=o+_-H;while(l[H+s-1]==0)s--;if(D.xmp_extn==null)D.xmp_extn="";try{D.xmp_extn+=x.Fs(l,H,s)}catch(ey){}}else if(n=="http://ns.adobe.com/xap/1.0/"){var Z=x.Fs(l.slice(H,H+_-F-3));
if(Z[0]=="?")Z="<"+Z;D.xmp=Z}}else console.log(u)};fj.Cw.aEJ=function(l,o,D){var H=fj.Cw.afQ(l,o),_=H.width,u=H.height,S=_*u,h,F=-1,z=72,B,a,I=null;
if(H.adobe)F=H.adobe.transform;if(D||_*u>15e7||F==0||F==2||H.progressive){var n=new PDFJS.JpegImage;
n.parse(l);var R=n.getData({width:_,height:u,forceRGB:!0,isSourcePDF:D}),h=g.o(S*4);for(var v=0;v<S;
v++){var s=v<<2,Z=s-v;h[s]=R[Z];h[s+1]=R[Z+1];h[s+2]=R[Z+2];h[s+3]=255}}else{h=fj.Cw.aap(l.buffer,H)}var O=o[225];
if(O)for(var v=0;v<O.length;v++)fj.Cw.a4D(l,O[v]+2,H);var w=o[226];if(w){for(var v=0;v<w.length;v++){var m=w[v],V=x.I9(l,m+2),q=x.Gk(l,m+4,11);
if(H.icc==null&&q=="ICC_PROFILE"){var i=x.C(l,m+18);H.icc=l.slice(m+18,m+18+i)}}}var c=o[217][0]+2;if(c!=l.length)H.suffix=l.slice(c);
var t=[_,u,1,0,0,0,1,0];if(H.jfif&&H.jfif.densityUnits!=0){z=Math.round([72,1,2.54][H.jfif.densityUnits]*H.jfif.xDensity)}else if(H.exif&&H.exif[0].t282!=null){var N=H.exif[0].t282[0];
z=N[0]/N[1]}if(H.exif){var J=H.exif;B=j9.Sn(J[0]);var Q=J[0].t274;if(Q)Q=Q[0];if(Q!=null&&Q>1&&Q<20)t=g.raw.a2j(Q,_,u)}if(H.xmp){B=j9.Jq(H.xmp,B)}if(H.icc)a=H.icc;
var A=o[237],f=[],W=[];if(A){var C=new Uint8Array(65536),j=0,m=0;for(var v=0;v<A.length;v++){m=A[v]+2;
var K=m+x.I9(l,m);m+=2;var $=m;while(l[m]!=0)m++;m++;var r=x.Gk(l,$,m-$-1),U=K-m;if(U<0)break;while(j+U>C.length){var b=new Uint8Array(C.length*2);
b.set(C);C=b}var e=new Uint8Array(l.buffer,m,U);C.set(e,j);j+=U}m=0;l=C;while(m<j){var P=x.Gk(l,m,4);
m+=4;var L=x.I9(l,m);m+=2;var Y=l[m++],X=x.Gk(l,m,Y);m+=Y;if((Y&1)==0)m++;var V=x.C(l,m);m+=4;var c=m+V+(V&1);
if(L==1028){while(m+4<c){var G=l[m++],E=l[m++],T=l[m++],y=x.I9(l,m);m+=2;if(G==28&&E==2)f.push([T,x.Gk(l,m,y)]);
m+=y}}else if(L==1032)I=dx.aer(l,m);else if((L&2e3)==2e3){var d4=dV.l_(l,m,V);W.push([X,d4])}else{}m=c}if(f.length!=0)B=j9.a9_(f,B)}var dH=[{jH:new gt(0,0,_,u),data:h.buffer,on:z,ff:B,US:a,dX:W.length==0?null:W,oJ:I}],B=H.xmp_extn;
if(B){var eV=new DOMParser,bf=eV.parseFromString(B,"image/svg+xml"),bf=bf.children[0].children[0].children[0],jd=[bf.getAttribute("GImage:Data"),bf.getAttribute("GDepth:Data")];
for(var v=0;v<jd.length;v++)if(jd[v]){var i5=atob(jd[v]),fD=new Uint8Array(i5.length);x.RN(fD,0,i5);
fD=fD.buffer;var eo=fj.ZH(fD),iX=fj.rU(eo).Zk(fD);dH.push(iX[0])}}if(H.suffix){var cK=H.suffix,g0=!1,bW=x.Gk(cK,4,4),hF=x.ZY(cK,[255,216,255]);
if(fj.a0l(cK,[0,0,1,10,14,0,0,0])){if(g0)console.log("Samsung");var m=0;while(m!=cK.length){var aJ=x.kk(cK,m+2);
m+=4;var iR={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[aJ];if(iR!=null){var ex=x.K6(cK,m);m+=4;
var dX=x.Gk(cK,m,ex);m+=ex;var iZ=x.Gk(cK,m,iR);m+=iR;if(aJ==2608){var j3=m,by=x.C(cK,m+24);m+=by+24;
var i9=x.C(cK,m);m+=i9;var dm=cK.slice(j3,m);fj.Cw.amz(dm)}}else if(aJ==18502){while(x.Gk(cK,m,4)!="SEFT")m+=4;
m+=4}else{break;console.log(x.PM(cK,m,128));console.log(cK.slice(m));throw aJ.toString(16)}}}else if(bW=="ftyp"){if(g0)console.log("MP4 Video");
fj.Cw.amz(cK)}else if(x.Gk(cK,0,4)=="fixe"){if(g0)console.log("fixe");alert("Unknown data - "+cK.length+" B - at the end of the file",3e3);
var m=4,V=x.K6(cK,m);m+=4;var kh=x.K6(cK,m);m+=4;var jK=x.K6(cK,m);m+=4;console.log(V,kh,jK,cK.slice(m,m+84));
m+=84;var bd=x.Gk(cK,m,32);m+=32;m+=8;var bd=x.Gk(cK,m,32);m+=32}else if(x.Gk(cK,8,13)=="FocusShot_Map"){if(g0)console.log("FocusShot_Map");
var dz=x.C(cK,0),y=x.K6(cK,4),fD=g.o(S*4),dw=g.o(S*4);for(var ev=0;ev<u;ev++)for(var aq=0;aq<_;aq++){var v=ev*_+aq,s=v<<2,e3=8+13+((ev>>>1)*_+aq>>>1),a9=cK[e3],e0=cK[e3+(S>>>2)];
fD[s]=fD[s+1]=fD[s+2]=a9;fD[s+3]=255;dw[s]=dw[s+1]=dw[s+2]=e0;dw[s+3]=255}dH.push({jH:new gt(0,0,_,u),data:fD.buffer},{jH:new gt(0,0,_,u),data:dw.buffer})}else if(bW=="edof"){if(g0)console.log("edof");
var Q=cK[8+7];console.log(Q.toString(16));var m=8+16,as=x.kk(cK,m),eK=x.kk(cK,m+2),S=as*eK;m+=4;m+=32+16;
var gh=g.o(S*4);for(var v=0;v<S;v++){var s=v<<2;gh[s]=gh[s+1]=gh[s+2]=cK[m+v];gh[s+3]=255}if(Q==16){}else if(Q==19){var gx=gh.slice(0);
g.t.ji(gh,gx,as,eK);var gc=as;as=eK;eK=gc;g.t.yk(gx,gh,as,eK)}else throw"Unknown orientation of a depth map";
dH.push({jH:new gt(0,0,as,eK),data:gh.buffer})}else if(x.Gk(cK,0,64).indexOf("DualShot")!=-1){var kQ=x.K6,dn=x.Gk,bQ=x.kk,m=0;
function iK(){var io=kQ(cK,m);if(kQ(cK,m+4)!=0)throw"e";m+=8;return io}var cJ=x.C(cK,m);m+=4;try{if(cJ==45066){m=1226;
var _=iK(),u=iK();m=3445}else if(cJ==45322){var i1=kQ(cK,m);m+=4;var bd=dn(cK,m,i1);m+=i1;if(bd!="DualShot_DepthMap_1")throw bd;
_=1008;u=756}else throw cJ;var bu=g.o(_*u*4);bu.fill(255);g.rT(cK.slice(m,m+_*u),bu);dH.push({jH:new gt(0,0,_,u),data:bu.buffer})}catch(ey){console.log("error reading a depth map")}try{if(hF!=0)cK=cK.slice(hF);
dH=dH.concat(fj.rU("jpg").Zk(cK.buffer))}catch(ey){}}else if(hF!=-1&&!(cK[0]==255&&cK[1]==129)){if(g0)console.log("another JPG at",hF);
try{if(hF!=0)cK=cK.slice(hF);dH=dH.concat(fj.rU("jpg").Zk(cK.buffer))}catch(ey){}}else if(x.Gk(cK,0,4)=="PMPD"){if(g0)console.log("Xiaomi stuff");
var m=4,gi=x.K6(cK,12),iv=x.K6(cK,16),as=x.K6(cK,1060),eK=x.K6(cK,1064),d0=as>eK,af=dH[0].jH.Q>dH[0].jH._,eY=cK.slice(cK.length-as*eK-4),hV=g.o(as*eK);
for(var ev=0;ev<eK;ev++)for(var aq=0;aq<as;aq++)hV[ev*as+aq]=eY[(eK-ev-1)*as+aq];var bu=g.o(as*eK*4);
bu.fill(255);g.rT(hV,bu);if(d0!=af){var gx=bu.slice(0);g.t.ji(bu,gx,as,eK);var gc=as;as=eK;eK=gc;g.t.yk(gx,bu,as,eK)}dH.push({jH:new gt(0,0,as,eK),data:bu.buffer})}else console.log(x.Gk(cK,0,4),cK)}if(dH.length>1){var i$=dH[0].jH,fk=!1,ee=!0;
dH[0].dD="Main";var cz=[!1];for(var v=1;v<dH.length;v++){cz[v]=fj.Cw.axc(new Uint8Array(dH[v].data));
if(cz[v])fk=!0;if(!dH[v].jH.kn(dH[0].jH))ee=!1}if(!fk&&!ee)dH=dH.slice(0,1);else for(var v=1;v<dH.length;
v++){dH[v].dD=cz[v]?"Depth Map":null;var aC=dH[v].jH;if(!aC.kn(i$)){var cI=i$.Q/aC.Q,cZ=i$._/aC._,ad=new de;
ad.scale(cI,cZ);var j0=p.cA.Ua([new Uint8Array(dH[v].data),aC],1,g.t.Lw(ad));dH[v].jH=j0.rect;dH[v].data=j0.buffer}}}if(fj.Cw._m==1)if(t[2]!=1||t[6]!=1)for(var v=0;
v<dH.length;v++){var cX=dH[v],bY=new Uint8Array(cX.data),_=cX.jH.Q,u=cX.jH._,as=t[0],eK=t[1],h=g.o(as*eK*4);
g.t.ri(bY,_,u,h,t);cX.jH=new gt(0,0,as,eK);cX.data=h.buffer}return dH};fj.Cw.amz=function(l){if(window.confirm("Photopea found a "+ke.g4(l.length)+" MP4 video inside your image. Would you like to save it?",4e3)){iT.save(l.slice(0).buffer,"video.mp4")}};
fj.Cw.axc=function(l){var o=!0;for(var v=0;v<l.length;v+=4){o=o&&l[v]==l[v+1]&&l[v+1]==l[v+2]}return o};
fj.Cw._m=0;fj.Cw.Zk=function(l,o,D){l=new Uint8Array(l);if(l[0]==255){var H=fj.Cw.rV(l);if(H[195]==null){fj.Cw._m++;
var _=fj.Cw.aEJ(l,H,!1);fj.Cw._m--;return _}var u=x.I9(l,H[195][0]+5),S=x.I9(l,H[195][0]+7),h=UTIF.LosslessJpegDecode(l),F=S*u,n=g.o(F*4);
for(var v=0;v<F;v++){var R=v<<2,s=R-v;n[R]=h[s];n[R+1]=h[s+1];n[R+2]=h[s+2];n[R+3]=255}return[{jH:new gt(0,0,S,u),data:n.buffer}]}else if(l[0]==0&&l[4]==48&&l[6]==1){var Z=l,O=new PDFJS.Jbig2Image,w=[];
if(o)w.push({data:o,start:0,end:o.length});w.push({data:Z,start:0,end:Z.length});var h=O.parseChunks(w);
if(!D)for(var v=0;v<h.length;v++)h[v]=~h[v];var S=x.C(l,11),u=x.C(l,15),m=Math.ceil(S/8),V=g.o(S*u*4);
for(var q=0;q<u;q++){var i=q*m;for(var c=0;c<S;c++){var R=(q*S+c)*4,z=h[i+(c>>>3)]>>>7-(c&7)&1,B=z*255;
V[R]=B;V[R+1]=B;V[R+2]=B;V[R+3]=255}}return[{jH:new gt(0,0,S,u),data:V.buffer}]}else{var O=new PDFJS.JpxImage;
O.parse(l);var S=O.width,u=O.height,t=O.tiles,a=O.componentsCount,I=new Uint8Array(S*u*4),N=new gt(0,0,S,u);
for(var O=0;O<t.length;O++){var J=t[O],Q=J.width,A=J.height,f=Q*A,W=J.items,C=new gt(J.left,J.top,Q,A),j=new Uint8Array(f*4);
if(a==1)for(var v=0;v<f;v++){var K=W[v],R=v*4;j[R]=K;j[R+1]=K;j[R+2]=K;j[R+3]=255}else if(a==3)for(var v=0;
v<f;v++){var s=v*3,R=v*4;j[R]=W[s];j[R+1]=W[s+1];j[R+2]=W[s+2];j[R+3]=255}else if(a==4)j.set(W);else console.log("Unknown number of components: "+a);
g.Qo(j,C,I,N)}return[{jH:N,data:I.buffer}]}};fj.Al={};fj.Al.MJ=function(l,o,D,H){if(H==null)H=[70,!1,0,0,0];
var _=H[0]/100,m=0;if(l.length==1){var u=new Uint8Array(fj.Wc(l[0][0],o,D,"webp",_));if(u.length<2e4){var S=hS.x2(u.buffer),h=S.sub;
for(var v=0;v<h.length;v++)if(h[v].Vj=="ICCP"){var F=h[v];u=fj.a3v(u,F.i-8,F.size+8);x.Nu(u,4,S.size-(F.size+8));
break}}if(H[1]&&l[0][3]){var S=hS.x2(u.buffer),h=S.sub,n=h[0].i+h[0].size,R=l[0][3],s=new Uint8Array(UTIF.encode([j9.lI(R)])),Z=new Uint8Array(6+s.length);
x.RN(Z,0,"Exif\0\0");Z.set(s,6);var O=x.fe(j9.jY(R)),w=new Uint8Array(16+Z.length+O.length);x.RN(w,0,"EXIF");
x.Nu(w,4,Z.length);w.set(Z,8);var m=8+Z.length;x.RN(w,m,"XMP\0");x.Nu(w,m+4,O.length);w.set(O,m+8);var V=new Uint8Array(u.length+w.length);
V.set(new Uint8Array(u.buffer,0,n),0);V.set(w,n);V.set(new Uint8Array(u.buffer,n),n+w.length);u=V;x.Nu(u,4,x.K6(u,4)+w.length)}return u.buffer}var q=x.hZ,i=x.Xp,c=new dk;
q(c,m,"RIFF    WEBPVP8X");m+=16;i(c,m,10);m+=4;i(c,m,18);m+=4;i(c,m,o-1);m+=3;i(c,m,D-1);m+=3;q(c,m,"ANIM");
m+=4;i(c,m,6);m+=4;c.tP(m,4);c.data[m+3]=255;x.Oy(c,m+4,H[3]);m+=6;var z=[];for(var v=0;v<l.length;v++){z.push(l[v][0])}var B=UPNG.encode.compress(z,o,D,_==1?0:Math.max(2,Math.floor(_*500)),[!1,!0,!0,0,!0]).frames;
function t(S,$,r,U){var f=S.i-8,W=S.size+8;r.tP(U,W);for(var v=0;v<W;v++)r.data[U+v]=$[f+v];return U+W}for(var v=0;
v<l.length;v++){q(c,m,"ANMF");m+=4;var a=m,f=0,W=0;m+=4;var I=B[v],N=I.rect,J=[N.x>>>1,N.y>>>1,N.width-1,N.height-1,l[v][1]];
for(var Q=0;Q<5;Q++)i(c,m+3*Q,J[Q]);m+=15;c.tP(m,1);c.data[m]=1-I.blend<<1|I.dispose;m++;var A=new Uint8Array(fj.Wc(I.img.buffer,N.width,N.height,"webp",1)),h=hS.x2(A.buffer).sub,C={};
for(var j=0;j<h.length;j++)C[h[j].Vj]=h[j];if(C.VP8L)m=t(C.VP8L,A,c,m);else throw"e";var K=m-a-4;i(c,a,K);
if((K&1)==1){c.tP(m,1);m++}}i(c,4,m-8);return c.data.slice(0,m).buffer};(function(){var l=fj.iS.get("wasm/webp").buffer;
WebAssembly.instantiate(l).then(function(o){var D=o.instance.exports;fj.Al.exp=D})}());fj.Al.Zk=function(l){var o=new Uint8Array(l),D=fj.Al.awq,H=null,_=hS.x2(l).sub,u={},S=null;
for(var v=0;v<_.length;v++)u[_[v].Vj]=_[v];if(u.EXIF){var h=u.EXIF,F=new Uint8Array(l,h.i+6,h.size-6),h=UTIF.decode(F)[0];
if(h)S=j9.Sn(h)}if(u["XMP\0"]){var h=u["XMP\0"],F=new Uint8Array(l,h.i,h.size);if(S==null)S={};S=j9.Jq(x.Fs(F),S)}var n=u.ANIM,R=u.VP8L,s=u["VP8 "],Z=u.VP8X;
if(n==null){var O,w;if(s){O=x.kk(o,s.i+6);w=x.kk(o,s.i+8)}else if(R){var m=x.K6(o,R.i+1);O=(m&(1<<14)-1)+1;
w=(m>>>14&(1<<14)-1)+1}else throw"e";var V=D(H,l,{i:0,size:o.length},O,w);V.ff=S;return[V]}var q=Z.i,O=1+(x.K6(o,q+4)&16777215),w=1+(x.K6(o,q+7)&16777215),i=[],c=new gt(0,0,O,w),z=g.o(O*w*4);
for(var v=0;v<_.length;v++){var B=_[v];if(B.Vj!="ANMF")continue;var t=[];for(var a=0;a<5;a++)t.push(x.K6(o,B.i+a*3)&16777215);
var I=new gt(t[0]*2,t[1]*2,t[2]+1,t[3]+1),N=t[4],J=D(H,l,{i:B.i+16,size:B.size-16},O,w),Q=new Uint8Array(J.data),A=o[B.i+15];
if(A>>>1==0)g.z.JM("norm",Q,I,z,c,I,1);else g.Qo(Q,I,z,c);i.push({dD:"_a_"+i.length+","+N,jH:c.clone(),data:z.buffer.slice(0)});
if((A&1)==1){g.M5(Q,0);g.Qo(Q,I,z,c)}}return i};fj.Al.awq=function(l,o,D,H,_){var u=fj.Al.exp,S=u.memory,h=5e6+2*D.size+H*_*10;
fj.O8(u,h);var F=new Uint8Array(S.buffer),n=u.malloc(D.size);F.set(new Uint8Array(o,D.i,D.size),n);var R=u.malloc(8),s=u.WebPDecodeARGB(n,D.size,R,R+4),Z=x.K6(F,R),O=x.K6(F,R+4),w=Z*O*4,m=g.o(w);
for(var v=0;v<w;v+=4){m[v]=F[s+v+1];m[v+1]=F[s+v+2];m[v+2]=F[s+v+3];m[v+3]=F[s+v]}u.WebPFree(s);u.free(R);
u.free(n);return{jH:new gt(0,0,Z,O),data:m.buffer}};fj.acc=function(){function l(h,F,n,R){var s=new Uint8Array(h[0][0]),Z=new Uint32Array(s.buffer),O=[],w={},V=24,q=0,t=0;
for(var v=0;v<Z.length;v++){var m=Z[v]&16777215;if(w[m]==null){w[m]=O.length;O.push(m);if(O.length>256){O=null;
break}}}if(R&&R[0])O=null;if(O){V=1;while(1<<V<O.length)V*=2;if(V==2)V=4}var i={pX:F,B9:n,ya:1,lD:V,y5:0,awL:q},c=4*Math.floor((i.lD*i.pX+31)/32);
i.size=c*i.B9+2;var z=new dk,B=O?(1<<V)*4:0;x.hZ(z,t,"BM");t+=2;x.Xp(z,t,c*n+16+40+B);t+=4;x.Xp(z,t,0);
t+=4;x.Xp(z,t,54+B);t+=4;z.tP(t,40);x.Xp(z,t,40);t+=4;S(z.data,t,i,c);t+=36;if(O){z.tP(t,B);var a=z.data;
for(var v=0;v<O.length;v++){var I=t+v*4,N=O[v]>>>16,J=O[v]>>>8&255,Q=O[v]&255;a[I]=N;a[I+1]=J;a[I+2]=Q}t+=B}z.tP(t,c*n);
if(V==24)for(var A=0;A<n;A++){var f=t+(n-1-A)*c;for(var W=0;W<F;W++){var C=(A*F+W)*4;z.data[f+W*3+2]=s[C];
z.data[f+W*3+1]=s[C+1];z.data[f+W*3+0]=s[C+2]}}else if(V==8)for(var A=0;A<n;A++){var f=t+(n-1-A)*c;for(var W=0;
W<F;W++){var C=A*F+W,j=w[Z[C]&16777215];z.data[f+W]|=j}}else if(V==4)for(var A=0;A<n;A++){var f=t+(n-1-A)*c;
for(var W=0;W<F;W++){var C=A*F+W,j=w[Z[C]&16777215];z.data[f+(W>>>1)]|=j<<4-(W&1)*4}}else if(V==1)for(var A=0;
A<n;A++){var f=t+(n-1-A)*c;for(var W=0;W<F;W++){var C=A*F+W,j=w[Z[C]&16777215];z.data[f+(W>>>3)]|=j<<7-(W&7)}}t+=c*n+2;
return z.data.slice(0,t).buffer}function o(h){h=new Uint8Array(h);if(x.K6(h,0)==40)return[D(h.buffer,0)];
var F=0,n=x.Gk(h,F,2);F+=2;if(n!="BM"){alert("Unsupported BMP format: "+n);return}var R=x.K6(h,F);F+=4;
F+=4;var s=x.K6(h,F);F+=4;return[D(h.buffer,F,s)]}function D(h,F,n){h=new Uint8Array(h);var R=x.K6(h,F),s=u(h,F+4);
if(s.ya!=1)alert("unsupported number of color planes: "+s.ya);if(s.y5!=0&&s.y5!=1&&s.y5!=2&&s.y5!=3){alert("Unsupported BMP compression: "+s.y5);
return}F+=R;var Z=F,O=h;if(n==null)n=F;if(s.y5==1||s.y5==2){var w=_(h,n,s);s.lD=8;h=w;n=0}var m=4*Math.floor((s.lD*s.pX+31)/32),V=s.pX,q=Math.abs(s.B9),i=new Uint8Array(V*q*4);
i.fill(255);if(s.lD==32)for(var c=0;c<q;c++){var z=n+(q-1-c)*m;for(var B=0;B<V;B++){var t=(c*V+B)*4;
i[t]=h[z+B*4+2];i[t+1]=h[z+B*4+1];i[t+2]=h[z+B*4+0];i[t+3]=h[z+B*4+3]}}else if(s.lD==24)for(var c=0;
c<q;c++){var z=n+(q-1-c)*m;for(var B=0;B<V;B++){var t=(c*V+B)*4;i[t]=h[z+B*3+2];i[t+1]=h[z+B*3+1];i[t+2]=h[z+B*3+0]}}else if(s.lD==16)for(var c=0;
c<q;c++){var z=n+(q-1-c)*m;for(var B=0;B<V;B++){var t=(c*V+B)*4,a=h[z+B*2+1]<<8|h[z+B*2];i[t]=(a>>>11)*(255/31);
i[t+1]=(a>>>5&63)*(255/63);i[t+2]=(a&31)*(255/31)}}else if(s.lD==8)for(var c=0;c<q;c++){var z=n+(q-1-c)*m;
for(var B=0;B<V;B++){var t=(c*V+B)*4,I=h[z+B];i[t]=O[Z+4*I+2];i[t+1]=O[Z+4*I+1];i[t+2]=O[Z+4*I+0]}}else if(s.lD==4)for(var c=0;
c<q;c++){var z=n+(q-1-c)*m;for(var B=0;B<V;B++){var t=(c*V+B)*4,I=h[z+(B>>1)];I=I>>4-4*(B&1);I=I&15;
i[t]=O[Z+4*I+2];i[t+1]=O[Z+4*I+1];i[t+2]=O[Z+4*I+0]}}else if(s.lD==1)for(var c=0;c<q;c++){var z=n+(q-1-c)*m;
for(var B=0;B<V;B++){var t=(c*V+B)*4,N=h[z+(B>>3)];N=N>>7-(B&7);N=N&1;i[t]=O[Z+4*N+2];i[t+1]=O[Z+4*N+1];
i[t+2]=O[Z+4*N+0]}}else throw"Unknown bit depth "+s.lD;if(s.B9<0){var J=new Uint32Array(i.buffer),Q=q>>>1;
for(var c=0;c<Q;c++){var A=c*V,f=(q-c-1)*V;for(var B=0;B<V;B++){var W=J[A+B];J[A+B]=J[f+B];J[f+B]=W}}}return{jH:new gt(0,0,V,q),data:i.buffer}}function H(h,v){return h>>>4-((v&1)<<2)&15}function _(h,F,n){var R=n.pX,s=Math.abs(n.B9),Z=new Uint8Array(R*s),O=0,w=0,v=0;
while(w<s){var m=h[F++],V=h[F++],q=w*R+O;if(m>0){if(n.lD==4)for(v=0;v<m;v++){Z[q+v]=H(V,v)}else for(v=0;
v<m;v++){Z[q+v]=V}O+=m}else if(m==0&&V==0){w++;O=0}else if(m==0&&V==1){break}else if(m==0&&V==2){O+=h[F++];
w+=h[F++]}else{var i=V;if(n.lD==4){for(v=0;v<V;v++){Z[q+v]=H(h[F+(v>>>1)],v)}i=Math.ceil(V/2)}else{for(v=0;
v<V;v++){Z[q+v]=h[F+v]}}if((i&1)!=0)i++;F+=i;O+=V}}return Z}function u(h,F){var n=x.zJ,R=x.K6,s=x.kk,Z={};
Z.pX=n(h,F);F+=4;Z.B9=n(h,F);F+=4;Z.ya=s(h,F);F+=2;Z.lD=s(h,F);F+=2;Z.y5=R(h,F);F+=4;Z.size=R(h,F);F+=4;
var O=n(h,F);F+=4;var w=n(h,F);F+=4;Z.awL=R(h,F);F+=4;F+=4;return Z}function S(h,F,n,R){x.Nu(h,F,n.pX);
F+=4;x.Nu(h,F,n.B9);F+=4;x.W8(h,F,n.ya);F+=2;x.W8(h,F,n.lD);F+=2;x.Nu(h,F,n.y5);F+=4;x.Nu(h,F,n.size);
F+=4;x.Nu(h,F,2834);F+=4;x.Nu(h,F,2834);F+=4;x.Nu(h,F,n.awL);F+=4;F+=4}return{Zk:o,MJ:l,as8:D}}();fj.lC={};
fj.lC.MJ=function(l,o,D,H){if(H==null)H=[100,!1,0,0,0,0];var _=[],u=[],S=o*D*4,m=null;for(var h=0;h<l.length;
h++){var F=new Uint8Array(l[h][0].slice(0));for(var v=0;v<S;v+=4){var n=F[v+3]=F[v+3]>127?255:0;if(n==0)F[v]=F[v+1]=F[v+2]=0}_.push(F.buffer);
u.push(l[h][1])}var R=Math.round(2+254*H[0]/100),s=UPNG.encode.compress(_,o,D,R,[!0,!1,!1,8,!1,H[1]]),Z=s.plte,O=new Uint8Array(4),w=new Uint32Array(O.buffer);
for(var v=0;v<Z.length;v++){w[0]=Z[v];var V=O[0];O[0]=O[2];O[2]=V;Z[v]=w[0];if(w[0]==0)m=v}while(Z.length<256)Z.push(0);
var q=new Uint8Array(2e4+Math.round(1.5*o*D*l.length)),i=H[3],c={palette:Z};if(i!=1)c.loop=i==0?0:i-1;
var z=new GifWriter(q,o,D,c);for(var v=0;v<l.length;v++){var B=s.frames[v],t=B.rect,a=B.blend,I=B.dispose,N=Math.round(u[v]/10);
if(N<2)N=2;z.addFrame(t.x,t.y,t.width,t.height,B.img,{transparent:m,disposal:I+1,delay:N})}return q.slice(0,z.end()).buffer};
fj.lC.Zk=function(l){var o=Date.now(),D=[],H=UGIF.decode(l),_=UGIF.toRGBA8(H),u=new gt(0,0,H.width,H.height);
for(var v=0;v<_.length;v++){var S=H.frames[v];D.push({jH:u.clone(),dD:"_a_frm"+v+","+S.delay*10,data:_[v]})}return D};
fj.Dz={};fj.Dz.MJ=function(l,o,D,H){if(o>256||D>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var _=Math.min(o,256),u=Math.min(D,256),S=new gt(0,0,_,u),h=g.o(S.c()*4),F=new gt(0,0,o,D),n=new Uint8Array(l[0][0]);
g.Qo(n,F,h,S);l[0][0]=h.buffer;o=_;D=u}var R=new Uint8Array(l[0][0]).slice(0),Z=0;R[3]=Math.min(R[3],254);
var s=new dk,O=H&&H[0]==!0;x.Oy(s,Z,0);Z+=2;x.Oy(s,Z,O?2:1);Z+=2;x.Oy(s,Z,1);Z+=2;var w=new Uint8Array(UPNG.encode([R.buffer],o,D,null,null,null,!0));
s.tP(Z,16);s.data[Z]=o==256?0:o;Z++;s.data[Z]=D==256?0:D;Z++;Z+=2;x.Oy(s,Z,O?Math.round(o/2):1);Z+=2;
x.Oy(s,Z,O?Math.round(D/2):32);Z+=2;x.Xp(s,Z,w.length);Z+=4;x.Xp(s,Z,6+16);Z+=4;s.tP(Z,w.length);s.data.set(w,Z);
Z+=w.length;return s.data.slice(0,Z).buffer};fj.Dz.Zk=function(l){l=new Uint8Array(l);var o=4,D=x.kk(l,o);
o+=2;var H=[];for(var v=0;v<D;v++){var _=fj.Dz.azK(l,o+v*16),u=l.buffer.slice(_.offset,_.offset+_.size),S=fj.ZH(u);
S=S?S:"bmp";if(S=="png"){var h=fj.rU(S),F=h.Zk(u);_.Nq=F[0]}else{var n=fj.rU("BMP").as8(u,0),u=g.o(_.pX*_.B9*4);
g.Qo(new Uint8Array(n.data),new gt(0,0,n.jH.Q,n.jH._),u,new gt(0,_.B9,_.pX,_.B9));n.data=u.buffer;n.jH._=_.B9;
_.Nq=n}H.push(_)}H.sort(function(R,s){if(R.pX!=s.pX)return R.pX-s.pX;return R.a4t-s.a4t});return[H.pop().Nq]};
fj.Dz.azK=function(l,o){var D={};D.pX=l[o];o++;if(D.pX==0)D.pX=256;D.B9=l[o];o++;if(D.B9==0)D.B9=256;
D.a92=l[o];o++;o++;D.aBt=x.kk(l,o);o+=2;D.a4t=x.kk(l,o);o+=2;D.size=x.K6(l,o);o+=4;D.offset=x.K6(l,o);
o+=4;return D};fj.YG={};fj.YG.Zk=function(l){var o=Date.now(),H;if(g.raw.R8(l.byteLength))return[g.raw.atO(l)];
var D=UTIF.decode(l);console.log(D);if(D[0].t33421)H=D[0];else if(D[0].subIFD&&D[0].t271&&D[0].t271[0]=="Hasselblad"){H=D[0].subIFD[0];
H.t33421=[2,2]}else if(D[0].subIFD&&D[0].subIFD[0].t33421){H=D[0].subIFD[0];if(H.t50706==null){if(H.t258[0]==8)H.t258[0]=12}}else if(D[0].subIFD&&D[0].subIFD[0]&&D[0].subIFD[0].t262&&D[0].subIFD[0].t262[0]==34892)H=D[0].subIFD[0];
else if(D[0].t50706)H=D[0];else if(D[0].subIFD&&D[0].subIFD[1]&&D[0].subIFD[1].t33421)H=D[0].subIFD[1];
else if(D[0].subIFD&&D[0].subIFD[2]&&D[0].subIFD[2].t33421)H=D[0].subIFD[2];else if(D[3]&&D[3].t50648){var _=D[0].exifIFD,u=_.makerNote;
H=D[3];var S=u.t224[1],h=u.t224[2];H.t256=[S];H.t257=[h];H.t258=[16];H.t259=[7];H.t262=[32803];H.t277=[1];
H.t33421=[2,2];var F=H.t50656[0],n=g.raw.hi[F];if(n==null)throw"e";H.t33422=n}else if(D[0].t1&&D[0].t1.length==4){var R=D[0],s={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278,273:273,278:278},Z=R.t280==null;
H={};for(var O in s)if(R["t"+O])H["t"+s[O]]=R["t"+O];H.t2=R.t2;H.t3=R.t3;H.t10=R.t10;H.t45=R.t45;H.t258=[16];
H.t33421=[2,2];var w=R.t9[0];if(Z)w=2;H.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][w-1];var m=R.t4[0],V=R.t5[0],q=R.t6[0],i=R.t7[0];
H.t50829=[m,V,q,i];var c=R.t36[0],z=R.t37[0],B=R.t38[0];H.t50728=[z/c,z/z,z/B]}else if(D[0].t258&&D[0].t258[0]>=12&&D[0].t271&&(D[0].t271[0].startsWith("OLYMPUS")||D[0].t271[0].startsWith("OM Digital Solutions"))){H=D[0];
H.t33421=[2,2]}if(H){UTIF.decodeImage(l,H,D);for(var t in D[0])if((t[0]=="t"||t[0]=="e"||t[0]=="d")&&H[t]==null)H[t]=D[0][t];
H.r3=D[0].t274?D[0].t274[0]:1;return[H]}var a=[];for(var v=0;v<D.length;v++){var I=D[v],N=null,j=72;
UTIF.decodeImage(l,I,D);if(I.t258&&I.t258[0]==16&&I.t277&&I.t277[0]==1){var J=0,Q=0,A=0,f=I.data;for(var W=0;
W<f.length;W+=2){var C=f[W+1]<<8|f[W];if(C>J)J=C;Q+=C;A++}N=1/256*65535/(.5*J+.5*(2*Q/A))}var K=I.t282,$=I.t296;
if(K!=null&&$!=null){j=K[0][0]/K[0][1];if($[0]==3)j=Math.round(j/2.54)}if(I.width==null)continue;var r=UTIF.toRGBA8(I,N).buffer,U=j9.Sn(I);
console.log(I);a.push({jH:new gt(0,0,I.width,I.height),data:r,on:j,ff:U,US:I.t34675?I.t34675.slice(0):null})}return a};
fj.YG.MJ=function(l,o,D,H){if(H==null)H=[!1];var _={},u=l[0];if(u[3]!=null&&H[0])_=j9.lI(u[3]);if(u[2]!=null){_.t282=_.t283=[[Math.round(u[2]),1]];
_.t296=[2]}return UTIF.encodeImage(u[0],o,D,_)};fj.akB={};fj.akB.Zk=function(l){l=new Uint8Array(l);
var o=8,D,H=0;while(o<l.length){var _=x.Gk(l,o,4),u=x.C(l,o+4);if(_.startsWith("ic")){var S=l.slice(o+8,o+u),h=fj.ZH(S.buffer),F=fj.rU(h),n=F.Zk(S.buffer),R=n[0].jH.c();
if(R>H){H=R;D=n}}o+=u}return D};fj.U1={};fj.U1.pa=!0;fj.U1.Zk=function(l,o){dx.x2(l,o)};fj.U1.aet=function(l,o,D,H){if(H==null)H=[!1,!1,!1,!1,!1];
if(!H[0])l.zG();var _=new dk,u=dx.Y8(l,_,H);return[_.data.buffer,u]};fj.U1.MJ=function(l,o,D,H){var _=fj.U1.aet(l,o,D,H),u=_[0],S=_[1];
return u.byteLength==S?u:u.slice(0,S)};fj.J2={};fj.J2.pa=!0;fj.J2.Zk=function(l,o){var D=pako.inflate(new Uint8Array(l)),H=x.I9(D,0),_=x.I9(D,2),u=4;
o.Q=x.C(D,u);u+=4;o._=x.C(D,u);u+=4;o.buffer=g.o(o.Q*o._*4);var S=x.I9(D,u);u+=2;u+=4;for(var h=0;h<S;
h++){var F=o.O7(),w=0,j=1,K=2,$=3,r=0;o.R.push(F);var n=x.C(D,u);u+=4;var R=u,s=x.I9(D,R);R+=2;var Z=x.Fs(D,R,s);
R+=s;F.FH(Z);var O=D[R];R++;if(O!=0&&O!=1)throw O;F.rect.x=x.Kb(D,R);R+=4;F.rect.y=x.Kb(D,R);R+=4;F.rect.Q=x.C(D,R);
R+=4;F.rect._=x.C(D,R);R+=4;if(H>3){w=x.Kb(D,R);R+=4}F.opacity=Math.round(255*D[R]/100);R++;var m=D[R];
R++;F.rm(m!=0);F.TY="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[D[R]];
R++;var V=D[R];R++;if(V)F.add.lspf=1<<31;if(H>3){var q=x.I9(D,R);R+=2;if(q!=0){var i=JSON.parse(x.Fs(D,R,q));
R+=q;var c=i.text,z=i.textSettings,B=z.font,t=z.size,a=z.padding,I=parseInt(z.color.slice(1),16);F.add.lnsr="rend";
F.add.TySh=fX.D2(0,0);F.add.TySh.g6=new gt(0,0,100,100);var N=F.add.TySh.h=new de,J=F.rect.Q/2,Q=F.rect._/2;
N.translate(-J,-Q);N.rotate(-w*Math.PI/180);N.translate(J,Q);N.translate(F.rect.x+a,F.rect.y+a);var A=F.add.TySh.PF;
fX.aM(A,1);fX.nP(A,[0,0,F.rect.Q-a*2,F.rect._]);fX.yQ(A,0,c);var f=fX.eF(A,0,1);f.i7.FontSize=t;f.i7.FillColor={Type:1,Values:[1,(I>>>16&255)/255,(I>>>8&255)/255,(I>>>0&255)/255]};
if(z.bold)B+="-Bold";fX.LQ(f,B);f.z5.Justification=["left","right","center"].indexOf(z.align);fX.fn(A,0,c.length,f)}}var W=x.C(D,R);
R+=4;if(W!=F.rect.c()*4){for(var v=F.rect.Q;v>F.rect.Q/2;v--){var C=W/(v*4);if(C==Math.round(C)){F.rect.Q=v;
F.rect._=C;break}}}F.buffer=g.o(F.rect.c()*4);if(H>3){j=0;K=1;$=2;r=3}for(var v=0;v<W;v+=4){F.buffer[v]=D[R+v+j];
F.buffer[v+1]=D[R+v+K];F.buffer[v+2]=D[R+v+$];F.buffer[v+3]=D[R+v+r]}R+=W;var U=x.C(D,R);R+=4;if(U==0&&H>3){u+=n;
continue}var b=D[R];R++;var e=x.I9(D,R);R+=2;if(U!=0){F.I=new d.ow;F.I.rect=F.rect.clone();F.I.channel=g.o(F.rect.c());
for(var v=0;v<U;v+=4)F.I.channel[v>>>2]=D[R+v+1];R+=U}if(b!=0){var P=JSON.parse(cq.default);F.add.lmfx=P;
for(var v=0;v<cq.order.length;v++)P[cq.lZ[v]]={t:"VlLs",v:[]};var L={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var v=0;v<b;v++){var Y=x.I9(D,R),X=R+Y+4,G=D.slice(R,X),E=D[R+2];R+=3;var T=L[E+""],y=JSON.parse(cq.Rq[T]);
P[cq.lZ[T]].v.push({t:"Objc",v:y});if(T!=0){y.Md.v.BlnM=b2.De("norm");y.Opct.v.val=D[R];R++;if(T==9||T==2){y.Dstn.v.val=D[R+1];
R+=2}else R+=2;y.blur.v.val=Math.round(D[R]*1.2);R++;if(T==9||T==2){y.uglg.v=!1;y.lagl.v.val=180-x.I9(D,R);
R+=2}y.Clr.v=g.G.XF({$:D[R+1],H:D[R+2],J:D[R+3]})}else{y.hglM.v.BlnM=y.sdwM.v.BlnM=b2.De("norm");R+=2;
var d4=D[R++],dH=D[R++];y.blur.v.val=Math.round(Math.sqrt(dH*d4)*1.3);y.srgR.v.val=Math.round(100*d4/dH);
y.uglg.v=!1;y.lagl.v.val=180-x.I9(D,R);R+=2;y.hglO.v.val=D[R++];y.hglC.v=g.G.XF({$:D[R+1],H:D[R+2],J:D[R+3]});
R+=4;y.sdwO.v.val=D[R++];y.sdwC.v=g.G.XF({$:D[R+1],H:D[R+2],J:D[R+3]});R+=4}R=X}}if(R-u<n){var eV=x.C(D,R),i5=0;
R+=4;R++;var s=x.I9(D,R);R+=2;var c=x.Fs(D,R,s);R+=s;c=c.replace(/\r/g,"\n");var s=x.I9(D,R);R+=2;var B=x.Fs(D,R,s);
R+=s;var t=x.I9(D,R);R+=2;var bf=F.rect.x,jd=F.rect.Q;if(eV&4)i5=1;if(eV&2)i5=2;var fD=Math.round(t*.4);
if(i5==0||i5==2)jd+=fD;if(i5==1||i5==2){jd+=fD;bf-=fD}F.add.lnsr="rend";F.add.TySh=fX.D2(0,0);F.add.TySh.g6=new gt(0,0,100,100);
F.add.TySh.h=new de(1,0,0,1,bf,F.rect.y+t*.25);var A=F.add.TySh.PF;fX.aM(A,1);fX.nP(A,[0,0,jd,F.rect._]);
fX.yQ(A,0,c);var f=fX.eF(A,0,1);f.i7.FontSize=t;f.i7.FillColor={Type:1,Values:[1,D[R+1]/255,D[R+2]/255,D[R+3]/255]};
R+=4;if(D[R+5])B+="-Bold";if(D[R+6])B+="-Italic";fX.LQ(f,B);f.z5.Justification=i5;R+=8;fX.fn(A,0,c.length,f)}u+=n}};
fj.CG={};fj.CG.pa=!0;fj.CG.Zk=function(l,o){var D=UZIP.parse(l),H=JSON.parse(x.Fs(D["manifest.json"].buffer));
o.Q=H.width;o._=H.height;o.buffer=g.o(o.Q*o._*4);o.name=H.name+".psd";var _=H.stack;for(var u=0;u<_.length;
u++){var S=_[u],h=S.type,F=S.rect,n=S.format,R=o.O7();R.FH(S.name);R.rm(S.visible);R.opacity=Math.round(255*S.opacity);
var s=R.rect=new gt(F.x,F.y,F.w,F.h),Z=F.r;if(Z==null)Z=0;o.R.push(R);if(h=="image"&&Z!=0||h=="shape"&&n.variant=="svg"){var O=o.M9(D[S.content],R.getName(),0,0);
O.XL=R.XL;O.opacity=R.opacity;R=O;o.R.pop();o.R.push(R);var w=g.X.YZ(s).s;g.X.h(w,fj.CG.oM(s,Z),w);R.add.SoLd.Trnf=p.cA.y3(w);
R.add.SoLd.nonAffineTransform=p.cA.y3(w);R.mP(o,!1)}else if(h=="image"){if(s.c()!=0){var m=D[S.content].buffer,V=fj.ZH(m),q=fj.rU(V),i=q.Zk(m)[0];
s.Q=i.jH.Q;s._=i.jH._;R.buffer=new Uint8Array(i.data)}}else if(h=="shape"){R.XL|=16;var c=R.add.vstk=cq.K$.ts(!0),z=R.add.vmsk=new d.dO,B;
R.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.G.XF({$:0,H:0,J:0})}};var t=n.variant,a=n.fill;if(t=="rectangle"||t=="rounded"){B=g.n.Rd.Rect(s.x,s.y,s.Q,s._,n.radii)}else if(t=="ellipse"){B=g.n.Rd.lY(s.x,s.y,s.Q,s._)}else if(t=="path"){var I=Typr.U.SVGToPath(S.content),N={v:I.cmds,s:I.crds};
B=g.X.Op(N);var J=g.n.kU(B);g.n.Am(B,new de(s.Q/J.Q,0,0,s._/J._,s.x,s.y))}else console.log(n);R.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.G.XF({$:0,H:0,J:0})}};
if(a==null){c.fillEnabled.v=!1}else if(a.type=="color"){R.add.SoCo.Clr.v=g.G.XF(CSS.Bc(a.value))}else if(a.type=="gradient"){delete R.add.SoCo;
var Q=R.add.GdFl=JSON.parse(cq.Rq[cq.order.indexOf("GrFl")]),A=Q.Grad.v;A.Intr.v=0;var f=[],W=a.value.stops;
for(var v=0;v<W.length;v++){var C=W[v],j=CSS.Bc(C.color);f.push([C.position,[j.$/255,j.H/255,j.J/255]])}g.G.Ky(f,A);
Q.Angl.v.val=-(a.value.direction+Z)+90+180}else console.log(a);var K=fj.CG.oM(s,Z);g.n.Am(B,K);var $=S.style;
if($&&$.outline){var r=$.outline;c.strokeEnabled.v=!0;c.strokeStyleLineWidth.v.val=r.size;c.strokeStyleContent.v.Clr.v=g.G.XF(CSS.Bc(r.color))}z.d=B;
R.Xv();R.C$(o)}else if(h=="text"){R.add.lnsr="rend";R.add.TySh=fX.D2(0,0);R.add.TySh.g6=new gt(0,0,100,100);
var U=R.add.TySh.PF;fX.aM(U,1);fX.nP(U,[0,0,s.Q,s._]);var b=S.content;fX.yQ(U,0,b);var e=fX.eF(U,0,Math.min(b.length,1));
fX.LQ(e,n.font.name);var P=e.i7.FontSize=Math.round(n.size);if(n.fill&&n.fill.value){var L=CSS.Bc(n.fill.value);
e.i7.FillColor={Type:1,Values:[1,L.$/255,L.H/255,L.J/255]}}var Y=n.linespace;if(Y){e.i7.AutoLeading=!1;
e.i7.Leading=Math.round(P*(1.06+parseFloat(Y)));console.log(Y,e.i7)}e.i7.FauxBold=n.bold;e.z5.Justification=["left","right","center","justify"].indexOf(n.align);
fX.fn(U,0,b.length,e);R.add.TySh.h=new de(1,0,0,1,s.x+Math.round(P*.1),s.y+Math.round(P*.1));R.rect=new gt}else console.log(S)}o.hU=!0};
fj.CG.oM=function(l,o){var D=l.x+l.Q/2,H=l.y+l._/2,_=new de;_.translate(-D,-H);_.rotate(-o*Math.PI/180);
_.translate(D,H);return _};fj.sR={};fj.sR.pa=!0;fj.sR.Zk=function(l,o){aE.x2(l,o)};var aE=function(){function l(s,Z){var O=Date.now(),w=UZIP.parse(s),m=w["maindoc.xml"],V=new DOMParser,q=V.parseFromString(x.Fs(m),"image/svg+xml").children[0].children[0],i=q.getAttribute("name"),c=Z.Q=n(q,"width"),z=Z._=n(q,"height");
Z.on=Math.round(n(q,"x-res"));var B=q.children[0].children;o(B,Z,{TK:i,Sa:w,c$:null});console.log(Date.now()-O);
O=Date.now()}function o(s,Z,O){for(var w=0;w<s.length;w++){var m=s[s.length-1-w],V=m.getAttribute("nodetype");
if(V=="transparencymask"){O.c$.I=R(m,O);continue}var q=m.getAttribute("compositeop"),i=m.getAttribute("filename"),c=m.getAttribute("channelflags"),z=m.children;
z=z.length==0?null:z[0].children;var B=Z.O7();if(V=="paintlayer"){var t=n(m,"x"),a=n(m,"y"),I=O.Sa[O.TK+"/layers/"+i+".defaultpixel"],N=O.Sa[O.TK+"/layers/"+i],J=F(N);
B.rect=J[0];B.rect.offset(t,a);B.buffer=J[1];if(B.rect.lh()&&I.join()!="0,0,0,0"){B.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.G.XF({$:I[0],H:I[1],J:I[2]})}};
B.C$(Z)}}else if(V=="grouplayer"){B.add.lsct=jl.VV;B.TY="pass";B.XL|=24;Z.R.push(Z.k0());var Q=O.c$;
O.c$=B;o(z,Z,O);O.c$=Q}else if(V=="shapelayer"){var N=O.Sa[O.TK+"/layers/"+i+".shapelayer/content.svg"],A=x.Fs(N),f=Z.M9(N,B.getName(),0,0);
B=f;var W=new gt(0,0,Z.Q,Z._),C=g.X.YZ(W).s;B.add.SoLd.Trnf=p.cA.y3(C);B.add.SoLd.nonAffineTransform=p.cA.y3(C);
B.mP(Z,!1)}else if(V=="clonelayer"){var v=-1;for(var j=0;j<s.length;j++)if(s[j].getAttribute("name")==m.getAttribute("clonefrom"))v=j;
if(v!=-1){o([s[v]],Z,O);B=Z.R.pop()}}else console.log(V,m);B.FH(m.getAttribute("name"));if(n(m,"locked")==1)B.add.lspf=1<<31;
B.rm(n(m,"visible")==1);var K={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[q];if(K)B.TY=K;
else console.log(q);B.opacity=n(m,"opacity");if(c=="1110")B.vN=!0;var $=z?z[0]:null;if($&&$.tagName=="mask")B.I=R($,O);
Z.R.push(B)}}function D(s,Z){var O=0,w=0,m=s.length,V,q,i;while(O<m){V=s[O++];if(V>31){q=V>>>5;if(q==7)q=7+s[O++];
i=(V&31)<<8|s[O++];var c=w-i-1,z=q>>>1;Z[w++]=Z[c++];Z[w++]=Z[c++];for(var v=0;v<z;v++){Z[w++]=Z[c++];
Z[w++]=Z[c++]}if((q&1)==1)Z[w++]=Z[c++]}else{for(var v=0;v<=V;v++){Z[w++]=s[O++]}}}}function H(s,Z){var O=0;
while(s[Z+O]!=10)O++;return x.Gk(s,Z,O)}var _=new gt(0,0,64,64),u=new Uint8Array(64*64*4),S=new Uint8Array(64*64*4);
function h(){for(var v=0;v<4096;v++){var s=v<<2;u[s+0]=S[v+8192];u[s+1]=S[v+4096];u[s+2]=S[v];u[s+3]=S[v+12288]}}function F(s){var Z=0,O={};
for(var v=0;v<5;v++){var w=H(s,Z);Z+=w.length+1;w=w.split(" ");O[w[0]]=parseInt(w[1])}var m=O.PIXELSIZE,V=[],q=new gt;
while(Z<s.length){var w=H(s,Z),i=w.split(",");Z+=w.length+1;if(i[2]!="LZF")throw i[2];_.x=parseInt(i[0]);
_.y=parseInt(i[1]);q=q.tB(_);var c=parseInt(i[3]);V.push([_.clone(),new Uint8Array(s.buffer,Z+1,c-1)]);
Z+=c}var z=g.o(q.c()*m);for(var v=0;v<V.length;v++){var B=V[v];D(B[1],S);if(m==4){h();g.Qo(u,B[0],z,q)}else g.mB(S,B[0],z,q)}return[q,z]}function n(s,Z){return parseInt(s.getAttribute(Z))}function R(s,Z){var O=s.getAttribute("filename"),w=Z.Sa[Z.TK+"/layers/"+O+".pixelselection"],m=F(w),V=new d.ow;
V.bp=n(s,"visible")==1;V.rect=m[0];V.channel=m[1];return V}return{x2:l}}();fj.R$={};fj.R$.pa=!0;fj.R$.Zk=function(l,o){ae.x2(l,o)};
fj.Kp={};fj.Kp.Zk=function(l){var o=new Uint8Array(l),D=fj.Kp.t1(o,0,0),H=D.sub[2],_=fj.Kp.a7i(o,H),u=D.sub[3],S=fj.Kp.a7i(o,u);
return[_,S]};fj.Kp.a7i=function(l,o){var D=o.sub[o.sub.length-1],H=D.sub[0].i,_=D.sub[1].i,u=l.slice(H,H+16),S=l.slice(_,_+D.sub[1].size),h=x.K6,F=l[H],n=h(l,H+1),R=h(l,H+5),s=l[H+13],Z=new gt(0,0,n,R),O=g.o(n*R*4);
if(s){new Uint32Array(O.buffer).fill(4278190080)}else{UTEX.readBC1(l,_,O,n,R)}return{jH:Z,data:O}};fj.Kp.t1=function(l,o,D){var H=x.Gk,_=x.K6,u=H(l,o,4);
u=u.split("").reverse().join("");var S=_(l,o+4);if(S!=0){console.log(l.slice(o-8));throw S}var h=_(l,o+8);
while((h&3)!=0)h++;var F={Vj:u,i:o+12,size:h};if(u=="CARF"||u=="CTEX"||u=="CREW"||u=="BMAP"){F.sub=[];
o+=12;if(u=="CTEX"||u=="CREW")o+=32;var n=F.i+F.size;while(o<n){var R=fj.Kp.t1(l,o,D+1);F.sub.push(R);
o+=12+R.size+(R.size&1)}}return F};fj.Ow={};fj.Ow.pa=!0;fj.Ow.Zk=function(l,o){kz.x2(l,o)};fj.Ea={};
fj.Ea.pa=!0;fj.Ea.Zk=function(l,o){hJ.x2(l,o)};fj.kw={};fj.kw.pa=!0;fj.kw.Zk=function(l,o){bn.x2(l,o)};
fj.jh={};fj.jh.pa=!0;fj.jh.Zk=function(l,o){cV.x2(l,o)};fj.nI={};fj.nI.pa=!0;fj.nI.Zk=function(l,o){iL.x2(l,o)};
fj.Dx={};fj.Dx.pa=!0;fj.Dx.MJ=function(l,o,D,H,_,u){if(H==null)H=[!0,!1,!1,!1,!0];var S=d1.wd(l,{gA:H[0],hidden:H[1],auA:H[2],a22:H[3],Mo:H[4],aua:o,aa9:D},_.uh,u);
return S};fj.Dx.Zk=function(l,o,D){d1.x2(l,o,D)};fj.b7={};fj.b7.pa=!0;fj.b7.Zk=function(l,o){var D=150,H=new de(1,0,0,-1,0,0);
H.scale(D/72,D/72);o.on=D;var _=new ic(o,H,!0);FromPS.Parse(l,_)};fj.i8={};fj.i8.pa=!0;fj.i8.MJ=function(l,o,D,H,_){if(H==null)H=["",100,!1,!1,!1,0,!1];
H[7]=["jpg"];var u=new ToPDF;hd.wd(l,H,u,_.uh,o,D);return u.buffer};fj.i8.Zk=function(l,o,D){var H=2;
while(!0){var _=H*72,u=new de(1,0,0,-1,0,0);u.scale(_/72,_/72);o.on=_;var S=new ic(o,u,!0);FromPDF.Parse(l,S);
var h=Math.max(o.Q,o._);if(D&&h<Math.max(D[0],D[1])){o.R=[];var F=H;while(h*(H/F)<Math.max(D[0],D[1]))H++}else break}};
fj.RG={};fj.RG.pa=!0;fj.RG.Zk=function(l,o){var D=72,H=new de(1,0,0,1,0,0);H.scale(D/72,D/72);o.on=D;
var _=new ic(o,H,!1);FromWMF.Parse(l,_)};fj.KK={};fj.KK.gF=!0;fj.KK.pa=!0;fj.KK.MJ=function(l,o,D,H,_){if(H==null)H=["",100,!1,!1,!1,0,!1];
H[7]=[];var u=new ToEMF;hd.wd(l,H,u,_.uh);return u.buffer};fj.KK.Zk=function(l,o){var D=72,H=new de(1,0,0,1,0,0);
H.scale(D/72,D/72);o.on=D;var _=new ic(o,H,!1);FromEMF.Parse(l,_)};fj.Om={};fj.Om.pa=!0;fj.Om.Zk=function(l,o){return cb.x2(l,o)};
fj.ah4={};fj.ah4.Zk=function(){var l,o,D,H,_,u,S=0,h=0,F=0,n=0,R=0,i="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",c=null;
function s(z){var B=cr.x2(z),t=B.Gl,A=0,f,W;console.log(B);var a=new Uint8Array(z);if(t=="ILBM")return Z(B,a);
if(t=="CIMG")return m(B,a);if(t=="ANIM"&&B.sub[0].Vj=="ADAT")return q(B,a);if(t!="ANIM")throw t;var I=x.I9,N=x.C,J=B.sub,Q=Z(J[0],a);
for(var C=1;C<J.length-2;C++){var j=Q[Math.max(0,C-2)].aBh.slice(0),K=J[C];for(var $=0;$<K.sub.length;
$++){var r=K.sub[$],U=r.i;if(r.Vj=="ANHD"){var b=a[U++];if(b!=5)throw b;var H=a[U++],e=I(a,U),P=I(a,U+2);
if(e!=0&&e!=l)throw e;if(P!=0&&P!=o)throw P;var L=I(a,U+4),Y=I(a,U+6);if(L!=0||Y!=0)throw L;U+=8;var X=I(a,U);
U+=2;f=I(a,U);U+=2;if(a[U++]!=0)throw"e";if(a[U++]!=0)throw"e";W=I(a,U);U+=2}else if(r.Vj=="DLTA"){var G=[],E=U;
for(var v=0;v<16;v++)G.push(N(a,U+v*4));U+=64;var T=u;for(var y=0;y<_;y++){if(G[y]==0)continue;U=E+G[y];
for(var d4=0;d4<T;d4++){var dH=a[U++],eV=0;if(dH==0)continue;for(var v=0;v<dH;v++){var bf=a[U++];if(bf==0){var jd=a[U++],i5=a[U++];
for(var fD=0;fD<jd;fD++){j[(eV*_+y)*T+d4]=i5;eV++}}else if(bf<128){eV+=bf}else{bf-=128;for(var fD=0;
fD<bf;fD++){j[(eV*_+y)*T+d4]=a[U+fD];eV++}U+=bf}}}}}else console.log(r.Vj)}if(C==1&&f>100)f=0;var cK=f==0?17:Math.round((f-A)*1e3/60);
Q.push({data:w(a,j).buffer,jH:new gt(0,0,l,o),aBh:j,dD:"_a_frm"+C+","+cK});A=f}if(F!=0&&l>o*2){var g0=new Uint32Array(l*o*2);
g0.fill(4294967295);for(var C=0;C<Q.length;C++){var bW=Q[C],hF=new Uint32Array(bW.data);for(var eV=0;
eV<o;eV++){var aJ=eV*2;for(var d4=0;d4<l;d4++)g0[aJ*l+d4]=hF[eV*l+d4];aJ++;for(var d4=0;d4<l;d4++)g0[aJ*l+d4]=hF[eV*l+d4]}bW.jH._*=2;
bW.data=g0.slice(0).buffer}}return Q}function Z(z,B){var t,a,I;S=0;h=0;n=0;R=0;F=0;for(var N=0;N<z.sub.length;
N++){var J=z.sub[N],Q=J.i;if(J.Vj=="BMHD"){var A=[];for(var v=0;v<4;v++)A[v]=x.I9(B,Q+2*v);Q+=8;var f=A[2],W=A[3];
l=A[0];o=A[1];D=B[Q++];H=B[Q++];I=B[Q++];if(I!=0&&I!=1)throw I;u=l+15>>>4<<1;_=D+H}else if(J.Vj=="CMAP")S=Q;
else if(J.Vj=="CAMG"){var C=x.C(B,Q);h=C&32768,F=C&4,n=C&2048;R=C&128}else if(J.Vj=="BODY"){a=g.o(u*o*_);
if(I==0)a=B.slice(Q,Q+a.length);if(I==1)hI.Dt(B,Q,J.size,a,0,a.length)}else if(J.Vj=="PLTP"){console.log(B.slice(Q,Q+J.size))}}t=w(B,a);
return[{jH:new gt(0,0,l,o),data:t.buffer,aBh:a}]}function O(z,kC){return z[kC>>>3]>>>7-(kC&7)&1}function w(z,B){var t=D-2,a=(1<<t)-1,I=Math.round(255/a),N,J,Q,A=u*8;
if(S!=0){var f=1<<D,W=!0;for(var v=1;v<f;v++){var C=S+v*3;if(z[C]!=z[C-3]||z[C+1]!=z[C-2]||z[C+2]!=z[C-1]&&z[C+2]!=z[C-1]+1)W=!1}if(W){for(var v=0;
v<f;v++){var C=S+v*3,j=Math.round(v*255/(f-1));z[C]=z[C+1]=z[C+2]=j}}}var K=g.o(l*o*4);for(var $=0;$<o;
$++)for(var r=0;r<l;r++){var U=0;for(var b=0;b<_;b++){var e=($*_+b)*A+r,P=O(B,e);U|=P<<b}U=U&(1<<D)-1;
var v=$*l+r,L=v<<2;if(S!=0){if(n!=0&&U>>>t!=0){var Y=U>>>t,X=(U&a)*I;if(Y==1)Q=X;else if(Y==2)N=X;else if(Y==3)J=X}else{var X=S+U*3;
N=z[X+0];J=z[X+1];Q=z[X+2]}}else{if(D==24){N=U>>>0&255;J=U>>>8&255;Q=U>>>16&255}else if(D==16){var G=0,E=1,y=4;
for(var b=0;b<16;b++)G+=(U>>>b&1)<<15-b;var T=(1<<E)-1,d4=(1<<y)-1;N=(G>>>7&T)*(255/T);J=Q=N}else throw D}K[L+0]=N;
K[L+1]=J;K[L+2]=Q;K[L+3]=255}return K}function m(z,B){var t=1,a=2,I=4,N=x.C,J=x.I9,l=200,o=200,Q,A,f,W;
for(var C=0;C<z.sub.length;C++){var j=z.sub[C],K=j.i;if(j.Vj=="TBHD"){l=N(B,K);K+=4;o=N(B,K);K+=4;W=g.o(l*o*4);
f=new gt(0,0,l,o);K+=4;var $=N(B,K);K+=4;var r=J(B,K);K+=2;if(r!=0)throw"e";A=J(B,K);K+=2;var U=N(B,K);
K+=4;if(U!=1)throw U;Q=0;if($&t)Q+=3;if($&a)Q+=1}if(j.Gl=="TBMP"){var b=j.sub;for(var e=0;e<b.length;
e++){var P=b[e].i,L=b[e].size,Y=J(B,P),X=J(B,P+2),G=J(B,P+4)-Y+1,E=J(B,P+6)-X+1;P+=8;var T=g.o(G*E*4),y=g.o(G*E);
T.fill(255);for(var v=0;v<4;v++){P=V(B,P,L-8,y,0);g.Kl(y,T,3-v)}if(P!=b[e].i+L)throw"e";g.Qo(T,new gt(Y,X,G,E),W,f)}}}return[{jH:f,data:W.buffer}]}function V(z,B,t,a,I){var N=B;
while(I<a.length){var J=z[B++],du=(J&127)+1;if(J&128){J=z[B++];for(var v=0;v<du;++v)a[I++]=J}else{for(var v=0;
v<du;++v)a[I++]=z[B++]}}return B}function q(z,B){if(c==null){var t=fj.FI(i);c=new Uint32Array(pako.inflate(new Uint8Array(t)).buffer)}var a=x.C,I=x.I9,N=z.sub[0],J=z.sub[1],l=I(B,N.i),o=I(B,N.i+2),Q=I(B,N.i+4),j,v,K,$,r,U;
if(Q!=3)throw Q;var A=new gt(0,0,l,o),f=g.o(l*o*4),W=g.o(l*o);f.fill(255);var C=new Uint32Array(f.buffer),b=J.i;
for($=0;$<2;$++){U=$;r=0;j=Math.floor((l*o+2-$-1)/2);while(j>0){v=B[b++];if(v&128){v=257-v;j-=v;K=B[b++];
r=r&c[K]|c[K+256];do{C[U]=r;U+=2}while(--v)}else{v++;j-=v;do{K=B[b++];C[U]=r=r&c[K]|c[K+256];U+=2}while(--v)}}}for(var v=0;
v<f.length;v+=4){var e=f[v+3],P=f[v+2],L=f[v+1];f[v]=e;f[v+1]=P;f[v+2]=L;f[v+3]=255}for(var Y=0;Y<o>>>1;
Y++){for(var X=0;X<l;X++){var v=Y*l+X,K=(o-1-Y)*l+X,G=C[v];C[v]=C[K];C[K]=G}}return[{jH:A,data:f.buffer}]}return s}();
fj.Qr={};fj.Qr.pa=!1;fj.Qr.MJ=function(l,o,D,H){var _=l[0][4],u=new Uint8Array(l[0][0]),S=2,h=_?!0:!1,F=h?4:3,n=new Uint8Array(o*D*F);
for(var R=0;R<D;R++)for(var s=0;s<o;s++){var Z=R*o+s<<2,O=((D-R-1)*o+s)*F;n[O]=u[Z+2];n[O+1]=u[Z+1];
n[O+2]=u[Z+0];if(h)n[O+3]=_[0][R*o+s]}if(!0){var w=n.length,m=0,V=new Uint8Array(w*2),q=0,i=0,c=o*F;
while(i<w){var z=i,B=0,t=c*(Math.floor(i/c)+1);while(z<t&&B<128){var a=!0;for(var v=0;v<F;v++)a=a&n[i+v]==n[z+v];
if(!a)break;z+=F;B++}if(B==1){var I=1;while(I<128&&i+(I+1)*F<t){var a=!0,N=i+I*F;for(var v=0;v<F;v++)a=a&n[N+v]==n[N+F+v];
if(a)break;I++}V[q++]=I-1;for(var J=0;J<I;J++)for(var v=0;v<F;v++)V[q++]=n[i++]}else{V[q++]=127+B;for(var v=0;
v<F;v++)V[q+v]=n[i+v];q+=F;i+=F*B;m+=B}}n=V.slice(0,q);S+=8}var Q=new Uint8Array(18+n.length+26);Q[2]=S;
x.W8(Q,12,o);x.W8(Q,14,D);Q[16]=F*8;Q[17]=F==4?8:0;Q.set(n,18);x.RN(Q,18+n.length+8,"TRUEVISION-XFILE.");
return Q.buffer};fj.Qr.Zk=function(l){var o=new Uint8Array(l),D=0,H=o[0],_=o[1],u=o[2],S=o[4]*256+o[3],h=o[6]*256+o[5],F=o[7],n=o[9]*256+o[8],R=o[11]*256+o[10],s=o[13]*256+o[12],Z=o[15]*256+o[14],O=o[16],w=o[17],m=w>>>4,V=x.Gk(o,18,H),q=g.o(s*Z*4),D=18+H+(h*F>>>3),i=new Uint8Array(o.buffer,D);
if(u>3){var c=0,z=o,B=new Uint8Array(s*Z*O>>>3),t=D,a=0,I=o.length,N=O>>>3;while(a<B.length){var kC=z[t];
t++;if(kC<128)for(var v=0;v<kC+1;v++){for(var J=0;J<N;J++){B[a]=z[t];a++;t++}}else{for(var v=0;v<kC-127;
v++){for(var J=0;J<N;J++){B[a]=z[t+J];a++}}t+=N}}u-=8;i=B;D=t}else D+=s*Z*O>>>3;var Q=new Uint8Array(4),A=fj.Qr.a6O;
for(var f=0;f<Z;f++)for(var W=0;W<s;W++){var C=(m&2)==0?(Z-f-1)*s+W:f*s+W,j=f*s+W,K,$,r,U=255,b=C*O>>>3;
if(u==1){var e=0;if(O==8)e=i[b];else throw"e";A(o,18+H+S+(e*F>>>3),F,Q);K=Q[0];$=Q[1];r=Q[2];U=Q[3]}else if(u==2){A(i,b,O,Q);
K=Q[0];$=Q[1];r=Q[2];U=Q[3]}else if(u==3){if(O==8)K=$=r=i[b];else throw"e"}var P=j*4;q[P]=K;q[P+1]=$;
q[P+2]=r;q[P+3]=U}var Q={jH:new gt(0,0,s,Z),data:q.buffer,dD:V};if(g.pz(q)){var L=g.o(s*Z);g.mA(q,L,3);
g.M5(q,4278190080,16777215);Q.Lx=[L]}return[Q]};fj.Qr.a6O=function(l,o,D,H){var _,u,S,h=255;if(D==24||D==32){S=l[o];
u=l[o+1];_=l[o+2];if(D==32)h=l[o+3]}else if(D==16){var F=l[o+1]<<8|l[o+0];_=F>>>10&31;u=F>>>5&31;S=F>>>0&31;
_=Math.round(_*(255/31));u=Math.round(u*(255/31));S=Math.round(S*(255/31))}else throw"e";H[0]=_;H[1]=u;
H[2]=S;H[3]=h};fj.asp=function(){var l,o=[],D=!1;function H(S,h,F,n){l=F;o.push(S,n);_()}function _(){if(D||o.length==0)return;
D=!0;fj.acL(o.shift(),"image/avif",u)}function u(S){l(null,[S],o.shift());D=!1;_()}return{pa:!1,H1:!0,Zk:H}}();
fj.anf=function(){var l,o=[],D=!1,H,_,u,S=10,h,F,n,R=0,Z;function s(c,z,B,t,a){l=B;o.push(c,t);var I=h$.x2(c),N=h$.aeG(I,"vide"),J=N.tkhd,Q=N.mdia.minf.stbl,A=J.duration/I.moov.mvhd.Vv,f=Q.stsz.length,W=Math.round(f/A);
console.log(I);H=J.pX;_=J.B9;var C=H+" \xD7 "+_+" px, "+f+" frames, "+ke.g4(H*_*4*f)+" decoded<br/>";
C+=A.toFixed(2)+" seconds, "+W+" FPS";var j=new jJ(k.E.b,!0);j.data={q:k.L.E1,mg:"setFPS",aC:S,Gu:m,a3m:C};
a.A(j)}async function O(){if(D||o.length==0)return;D=!0;var c=o.shift(),z=h$.x2(c),B=h$.aeG(z,"vide"),t=B.tkhd,a=B.mdia.minf.stbl,I=a.stsd.a5O.avcC,N=t.duration/z.moov.mvhd.Vv,J=a.stsz.length,Q=Math.round(J/N),A=Math.max(1,Math.round(Q/S)),f=a.stsd.GA,j=0;
console.log(f);if(["hvc1","hev1","apcn"].indexOf(f)!=-1)alert(f.toUpperCase()+" codec not supported");
Z=Date.now();H=t.pX;_=t.B9;u=[];h=document.createElement("canvas");F=h.getContext("2d");h.width=H;h.height=_;
var W=new Uint8Array(c),C=[];if(f=="raw "||f=="rle "){for(var K=0;K<J;K++){var $=H*_;if(j%A==0){var r=h$.agT(z,"vide",K),U=new Uint8Array(c,r[0],r[1]),b=g.o(H*_*4);
b.fill(255);if(f=="rle "){var e=new Int8Array(c,r[0],r[1]),P=6,L=0;while(P<U.length){var Y=e[P];P++;
L+=(Y-1)*4;while(P<U.length){var X=e[P];P++;if(X==0){Y=e[P];L+=(Y-1)*4}else if(X==-1)break;else if(X>0){for(var v=0;
v<X*4;v++){b[L]=U[P];L++;P++}}else if(X<-1){for(var v=0;v<-X;v++){b[L]=U[P];b[L+1]=U[P+1];b[L+2]=U[P+2];
b[L+3]=U[P+3];L+=4}P+=4}}}}else for(var v=0;v<$;v++){var G=v*4,E=v*3;b[G]=U[E];b[G+1]=U[E+1];b[G+2]=U[E+2]}var T=u.length;
u[T]={dD:"_a_"+T+","+Math.round(A*1e3/Q),jH:new gt(0,0,H,_),data:b}}j++}w();return}var y=new VideoDecoder({output:function(eV){if(j%A==0){F.drawImage(eV,0,0);
eV.close();var b=F.getImageData(0,0,H,_).data.buffer,T=u.length;u[T]={dD:"_a_"+T+","+Math.round(A*1e3/Q),jH:new gt(0,0,H,_),data:b}}else eV.close();
clearTimeout(R);R=setTimeout(w,100);j++},error:function(eV){console.log(eV.message)}}),d4={codec:"vp09.00.10.08",codedWidth:H,codedHeight:_};
if(I){d4.codec="avc1.640034";d4.description=W.slice(I.i,I.i+I.B2)}y.configure(d4);for(var v=0;v<J;v++){var r=h$.agT(z,"vide",v),U=new Uint8Array(c,r[0],r[1]),dH=new EncodedVideoChunk({timestamp:v,duration:1e3,type:v==0?"key":"delta",data:U});
y.decode(dH)}await y.flush()}function w(){l(null,u,o.shift());D=!1;console.log(Date.now()-Z);O()}function m(c){S=Math.max(1,Math.min(60,c));
if(window.VideoDecoder)O();else V()}function V(){if(D||o.length==0)return;D=!0;h=document.createElement("canvas");
F=h.getContext("2d");n=document.createElement("video");var c="data:"+"video/mp4"+";base64,"+fj.Im(o.shift());
n.src=c;n.muted=!0;n.currentTime=0;n.addEventListener("canplay",q,!1);n.addEventListener("timeupdate",i,!1)}function q(c){n.removeEventListener("canplay",q);
H=h.width=n.videoWidth;_=h.height=n.videoHeight;u=[];n.play()}function i(c){clearTimeout(R);F.drawImage(n,0,0);
u.push({dD:"_a_"+u.length+","+Math.round(1e3/S),jH:new gt(0,0,H,_),data:F.getImageData(0,0,H,_).data.buffer});
var z=n.currentTime+1/S;if(z<n.duration&&c){n.currentTime=z;R=setTimeout(i,1e3)}else{l(null,u,o.shift());
n.removeEventListener("timeupdate",i);D=!1;V();u=null}}return{pa:!1,H1:!0,Zk:s}}();fj.anf.MJ=function(){var l,o,D,H,_,u,S=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101],h=40,F,n,R,s,Z,O;
function w(f,W){if(!_&&W){if(W.description){_=W.description}if(W.decoderConfig&&W.decoderConfig.description){_=W.decoderConfig.description}}var C=new ArrayBuffer(f.byteLength);
f.copyTo(C);m(C);D.push({duration:f.duration,timestamp:f.timestamp,type:f.type,byteLength:f.byteLength});
if(f.type=="key"){H.push(D.length)}}function m(f){var W=new Uint8Array(u.byteLength+f.byteLength);W.set(new Uint8Array(u));
W.set(new Uint8Array(f),u.byteLength);u=W.buffer}function V(f){return new Uint8Array([f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)]).buffer}function q(f){var W=new Uint32Array([f]),C=new Uint8Array(W.buffer);
return new Uint8Array([C[3],C[2],C[1],C[0]])}function i(f){Z[s]=f;++s}function c(f){Z[s]=f>>8&255;Z[s+1]=f&255;
s+=2}function z(f){Z[s]=f>>16&255;Z[s+1]=f>>8&255;Z[s+2]=f&255;s+=3}function B(f){Z[s]=f>>24&255;Z[s+1]=f>>16&255;
Z[s+2]=f>>8&255;Z[s+3]=f&255;s+=4}function t(f){R.push(s);s+=4;a(f)}function a(f){for(var v=0;v<f.length;
++v){Z[s]=f.charCodeAt(v);++s}}function I(f){Z.set(new Uint8Array(f),s);s+=f.byteLength}function N(){var f=s;
s=R.pop();B(f-s);s=f}function J(){R=[];var f=[],W={},C=9e4,j=D.length,K=H.length,$=-1;for(var v=0;v<D.length;
++v){F+=D[v].duration/1e3;n+=D[v].byteLength;if(D[v].duration!=$){if(v!=0){f.push(W)}$=D[v].duration;
W={duration:9e4*D[v].duration/1e6,sampleCount:1}}else{W.sampleCount=W.sampleCount+1}}n+=8;f.push(W);
var r=f.length,U=579+_.byteLength+4*j+4*j+4*K+8*r;Z=new Uint8Array(U);s=0;t("moov");t("mvhd");B(0);B(0);
B(0);B(1e3);B(F);B(65536);c(256);c(0);B(0);B(0);B(65536);B(0);B(0);B(0);B(65536);B(0);B(0);B(0);B(1073741824);
B(0);B(0);B(0);B(0);B(0);B(0);B(2);N();t("trak");t("tkhd");B(7);B(0);B(0);B(1);B(0);B(F);B(0);B(0);c(0);
c(0);c(256);c(0);B(65536);B(0);B(0);B(0);B(65536);B(0);B(0);B(0);B(1073741824);B(l*65536);B(o*65536);
N();t("mdia");t("mdhd");B(0);B(0);B(0);B(C);B(F/1e3*C);i(85);i(196);c(0);N();t("hdlr");B(0);B(0);a("vide");
B(0);B(0);B(0);a("VideoHandler");i(0);N();t("minf");t("vmhd");B(1);c(0);c(0);c(0);c(0);N();t("dinf");
t("dref");B(0);B(1);t("url ");B(1);N();N();N();t("stbl");t("stsd");B(0);B(1);t("avc1");c(0);c(0);c(0);
c(1);c(0);c(0);B(0);B(0);B(0);c(l);c(o);B(4718592);B(4718592);B(0);c(1);for(var v=0;v<8;++v){B(0)}c(24);
c(-1);t("avcC");I(_);N();N();N();t("stts");B(0);B(r);for(var v=0;v<r;++v){B(f[v].sampleCount);B(f[v].duration)}N();
t("stsc");B(0);B(1);B(1);B(1);B(1);N();t("stsz");B(0);B(0);B(j);for(var v=0;v<j;++v){B(D[v].byteLength)}N();
t("stco");B(0);B(j);var b=h;for(var v=0;v<j;++v){B(b);b+=D[v].byteLength}N();t("stss");B(0);B(K);for(var v=0;
v<K;++v){B(H[v])}N();N();N();N();N();N();return}function Q(f,W,C){var j=new Uint8Array(l*o*4),K=new Uint8Array(f),$=W?l-1:l,r=C?o-1:o;
if(W){for(var v=0;v<r;++v){j.set(K.slice(4*v*$,4*v*$+4*$),4*v*l);j[4*(v+1)*l-4]=K[4*(v+1)*$-4];j[4*(v+1)*l-3]=K[4*(v+1)*$-3];
j[4*(v+1)*l-2]=K[4*(v+1)*$-2];j[4*(v+1)*l-1]=K[4*(v+1)*$-1]}if(C){j.set(j.slice(4*l*r-4*l,4*l*r),4*l*r)}}else if(C){j.set(K);
j.set(K.slice(4*$*r-4*$),4*$*r)}return j.buffer}async function A(f,W,C,j){var K=Date.now(),$=!1,r=!1,G=0;
if(W%2!=0){$=!0;l=W+1}else{l=W}if(C%2!=0){r=!0;o=C+1}else{o=C}_=null;H=[];D=[];F=0;n=0;u=new Uint8Array;
m(new Uint8Array(S));m(q(0).buffer);m(V("mdat"));var U=new VideoEncoder({output:(chunk,opts)=>w(chunk,opts),error:ey=>{console.log(ey)}}),b=.02*(1+Math.pow(3.2*j[0]/100,2.3)),e=b*l*o,P=e*f.length,L=Math.round(e*24),Y={width:l,height:o,codec:"avc1.420034",bitrate:L},X=await VideoEncoder.isConfigSupported(Y);
console.log(X);if(X.supported==!1){console.log("Encoding not supported. Config: ",X.config);return new Uint8Array(0).buffer}U.configure(Y);
for(var v=0;v<f.length;++v){var E=f[v][1]*1e3,T=f[v][0];if(r||$){T=Q(f[v][0],$,r)}var y=new VideoFrame(T,{timestamp:G,duration:E,format:"RGBA",codedWidth:l,codedHeight:o});
U.encode(y);y.close();G+=E}await U.flush();J();O=new Uint8Array(u.byteLength+Z.byteLength);O.set(new Uint8Array(u),0);
O.set(q(n),h-8);O.set(Z,u.byteLength);var d4=Date.now();console.log(d4-K);return O.buffer}return A}();
fj.Qj={};fj.Qj.Zk=function(l){var o=new Uint8Array(l),D=0,H=112,_=42,u=x.K6,R;D+=8;var S=o[D];D++;if(S!=_)throw"e";
var h=u(o,D);D+=4;var F=x.pg(o,D,h);D+=h*2;var n=[];while(D<o.length){R=u(o,D);D+=4;if(R!=H)throw R;
D+=4;R=o[D];D++;if(R!=_)throw R;var s=u(o,D);D+=4;var Z=o[D];D++;if(Z!=_){D-=5;s=u(o,D);D+=8;R=o[D];
D++;if(R!=_)throw R}var O=u(o,D)*2;D+=4;if(s>0)n.push(D+O);D+=O+s}var w=new DOMParser,m=w.parseFromString(F,"image/svg+xml").firstChild.firstChild,V=[];
fj.Qj.awo(m,o,n,V);return V};fj.Qj.awo=function(l,o,D,H){var _=l.firstChild.firstChild;if(_.tagName=="Image"){var u=_.getElementsByTagName("ImageDescription")[0],S=u.children[0].children,h=u.children[1].children,F=D.shift(),n=[];
for(var v=0;v<h.length;v++)n.push(parseInt(h[v].getAttribute("NumberOfElements")));while(n.length>3)n[2]*=n.pop();
var R=S.length,s=n[0],Z=n[1],O=n[2],w=parseInt(h[0].getAttribute("BytesInc"));for(var m=0;m<O;m++){var V=g.o(s*Z*4);
g.M5(V,4278190080);for(var q=0;q<R;q++){var i=g.o(s*Z);if(w==1)for(var c=0;c<i.length;c++)i[c]=o[F+c];
else if(w==2)for(var c=0;c<i.length;c++)i[c]=Math.min(255,(o[F+c*2+1]<<8|o[F+c*2])>>>2);else throw w;
if(q!=3)g.Kl(i,V,q);if(R==1){g.Kl(i,V,1);g.Kl(i,V,2)}F+=s*Z*w}H.push({jH:new gt(0,0,s,Z),data:V.buffer})}}else{var z=l.children,B=0;
while(B<z.length&&z[B].tagName!="Children")B++;if(B==z.length)throw"e";z=z[B].children;for(var t=0;t<z.length;
t++)fj.Qj.awo(z[t],o,D,H)}};fj.apw=function(){function l(S,h,F,n,R){var s=new Int8Array(S.buffer),Z=new Int8Array(n.buffer),O=h+F;
while(h<O){var kC=s[h];h++;if(kC>=0&&kC<128)for(var v=0;v<kC+1;v++){Z[R]=s[h];R++;h++}if(kC>=-127&&kC<0){for(var v=0;
v<-kC+1;v++){Z[R]=s[h];R++}h++}}return R}function o(S,h,F,n,R,s){var Z=h*F*n>>>3,O=g.o(Z*R),w=H(S,0,0,0)[0];
for(var m=0;m<R;m++){var V=w[m+1];if(s){var q=fj.rU("jpg").Zk(V.buffer),i=g.o(Z);g.Hx(new Uint8Array(q[0].data),i);
O.set(i,Z*m)}else if(V[0]==255&&V[1]==216&&V[2]==255){var c=UTIF.LosslessJpegDecode(V);O.set(new Uint8Array(c.buffer),Z*m)}else l(V,64,V.length,O,Z*m)}return O}function D(S){var h=new Uint8Array(S),F=0,n=x.Gk(h,0,128);
F+=128;var R=x.Gk(h,F,4);F+=4;var s=_(h,F,0)[0],Z=s.g28;if(Z==null){alert("No image.");return[]}var O=Z.cols,w=Z.rows,m=O*w,V=Z.photoInterpret,q=Z.bitsAlloc,i=Z.bitsStored,c=Z.lossyCompr;
if(c==null)c=s.g8.lossyCompr;var z=s.g7fe0.pixelData,B=Z.numOfFrames;B=B?parseInt(B):1;var t=new Uint8Array(z.buffer),a=m*q>>>3;
if(t.length!=a*B){z=o(z,O,w,q,B,c)}else{}if(q==16)z=new Uint16Array(z.buffer);console.log(Z);console.log(s);
var I=[];for(var N=0;N<B;N++){var J=N*a,S=g.o(O*w*4);S.fill(255);if(V=="MONOCHROME2"){var Q=0,A=255,f=Z.largestValue,W=Z.smallestValue;
if(f!=null){A=f;Q=W}else if(i!=8){A=0;Q=1e9;for(var v=0;v<m;v++){var C=z[J+v];if(C>1<<i-8){if(C>A)A=C;
if(C<Q)Q=C}}}var j=255/(A-Q);for(var v=0;v<m;v++){var C=Math.max(0,Math.min(255,(z[J+v]-Q)*j)),K=v*4;
S[K]=S[K+1]=S[K+2]=C}}else if(V=="PALETTE COLOR"){var $=Z.pltRed,r=Z.pltGreen,U=Z.pltBlue;for(var v=0;
v<m;v++){var b=z[J+v],K=v*4;S[K]=$[b]>>>8;S[K+1]=r[b]>>>8;S[K+2]=U[b]>>>8}}else throw V;I.push({jH:new gt(0,0,O,w),data:S.buffer})}return I}function H(S,h,F,n){if(F==0)F=S.length;
var R=x.kk,s=x.E_,Z=x.K6,O=[],w=h;while(h<F){var m=R(S,h);h+=2;var V=R(S,h);h+=2;var q=Z(S,h);h+=4;if(m==65534&&V==57344){if(q==4294967295){var i=_(S,h,n+1);
O.push(i[0]);h=i[1]}else{O.push(S.slice(h,h+q));h+=q}}else if(m==65534&&V==57357){}else if(m==65534&&V==57565)break;
else throw"e"}return[O,h]}function _(S,h,F){var n=x.kk,R=x.E_,s=x.K6,Z={},O="\t".repeat(F);while(h<S.length){var w=n(S,h),i="",c=0,B=null;
h+=2;var m=n(S,h);h+=2;var V=w.toString(16),q=m.toString(16);if(w==65532)break;if(w==65534&&m==57357){h-=4;
break}if(w==65534&&m==57565)throw"e";if(m==0){h+=8;continue}if(65<=S[h+1]){i=x.Gk(S,h,2);h+=2;if(i=="OB"||i=="SQ"||i=="OW"){c=s(S,h+2);
h+=6}else{c=n(S,h);h+=2}}else{i=u[V][q].split(",")[1];c=s(S,h);h+=4}console.log(V,q,i,c);var z=u[V][q];
if(z)z=z.split(",")[0];if(z==null){z="t"+q}if(i=="SQ"){var t=H(S,h,h+c,F);B=t[0];h=t[1];c=0}else if(i=="US")B=n(S,h);
else if(i=="SS")B=R(S,h);else if(i=="UL")B=s(S,h);else if(i=="FL")B=x.jV(S,h);else if(i=="AT")B=[n(S,h),n(S,h+2)];
else if(i=="OB")B=S.slice(h,h+c);else if(i=="OW")B=new Uint16Array(S.slice(h,h+c).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(i)!=-1){var a=h+c;
while(S[a-1]==0)a--;B=x.Gk(S,h,a-h).trim()}else{console.log(O,JSON.stringify(x.Gk(S,h,Math.min(c,32))));
throw i}if(Z["g"+V]==null)Z["g"+V]={};Z["g"+V][z]=B;h+=c}return[Z,h]}var u={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{Zk:D}}();fj.a4F={};fj.a4F.Zk=function(l){var o=new Uint8Array(l),D=0,H={},R=1e9;for(var v=0;v<306;
v++){var _=x.Gk(o,D,8).trim(),u=x.Gk(o,D+9,71).split("/")[0].trim();H[_]=u;D+=80;if(_=="END"){D=Math.ceil(D/2880)*2880;
break}}var S=parseInt(H.NAXIS1),h=parseInt(H.NAXIS2),F=S*h,n=parseInt(H.BITPIX),s=-1e9,Z=new Float32Array(F),O=new Float32Array(l,D,l.byteLength-D>>>2);
for(var v=0;v<F;v++){var w=v<<2,m=v<<1;if(n==-32){var V=o[D+w+0];o[D+w+0]=o[D+w+3];o[D+w+3]=V;var V=o[D+w+1];
o[D+w+1]=o[D+w+2];o[D+w+2]=V;Z[v]=O[v]}else if(n==16){Z[v]=x.kk(o,D+m)}else throw n;var q=Z[v];if(q<R)R=q;
if(q>s)s=q}var i=g.o(F*4),c=1/s;for(var z=0;z<h;z++)for(var B=0;B<S;B++){var v=z*S+B,t=(h-z-1)*S+B,w=t<<2,q=Z[v]*c;
i[w]=i[w+1]=i[w+2]=255*q;i[w+3]=255}return[{jH:new gt(0,0,S,h),data:i,dD:H.OBJECT}]};fj.LK={};fj.LK.Zk=function(l){var o=new Uint8Array(l),D=16,H=x.Gk(o,D,4),u=32,q=0,i=0,c=!1,$;
D+=4;var _=x.Gk(o,D,8);D+=8;while(o[D+u-1]==0)u--;var S=x.Gk(o,D,u);D+=32;var h=x.Gk(o,D,4);D+=4;D+=20;
var F=x.C(o,D);D+=4;var n=x.C(o,D);D+=4;var R=x.C(o,D);D+=4;var s=x.C(o,D);D+=4;var Z=x.C(o,D);D+=4;
var O=x.C(o,D);D+=4;var w="FujiFilm "+S,m=[0,1,1,2];if(w=="FujiFilm X10"){w="FujiFilm FinePix X10";m=[2,1,1,0]}var V={t271:["FujiFilm"],t272:[w],t277:[1],t33421:[2,2],t33422:m,r3:1};
D=R;var z=[],B=x.I9,t=x.C(o,D);D+=4;for(var v=0;v<t;v++){var a=B(o,D);D+=2;var I=B(o,D);D+=2;if(a==256){i=B(o,D);
q=B(o,D+2)}else if(a==272){z=[B(o,D),B(o,D+2)]}else if(a==273){z.push(B(o,D),B(o,D+2))}else if(a==304){c=!(o[D]>>>7)}else if(a==305){var N=Math.round(Math.sqrt(I)),J=[];
for(var Q=0;Q<I;Q++)J.push(o[D+Q]);J.reverse();V.t33421=[N,N];V.t33422=J}else if(a==12272){var A=B(o,D),f=B(o,D+2),W=B(o,D+6);
V.t50728=[A/f,1,A/W]}D+=I}var C=q<i,j=o.slice(Z,Z+O),K=Math.round(O*8/(q*i));if(j[0]==73&&j[1]==73&&j[2]==42){$=UTIF.decode(j.buffer)[0].fujiIFD;
K=$.t61443[0];var r=$.t61454,U=$.t61450;if(U)V.t50714=U;if(r)V.t50728=[r[0]/r[1],1,r[0]/r[2]];var b=$.t61447[0];
j=j.slice(b,b+$.t61448[0])}var O=j.length,e=O*8<q*i*K;if(e){console.log("compressed");var P=V.t33422,L=~~Math.sqrt(P.length),Y=[];
for(var v=0;v<L;v++)Y[v]=P.slice(v*L,v*L+L);j=new Uint8Array(UTIF._decompressRAF(j,Y).buffer);O=j.length}function X(d4,dH,eV){eV=eV<<8-(dH&7);
var bf=dH>>>3;d4[bf]|=eV>>>16;d4[bf+1]|=eV>>>8;d4[bf+2]|=eV}var G=O*8/(q*i);if(G==16)for(var v=0;v<O;
v+=2){var E=j[v];j[v]=j[v+1];j[v+1]=E}else if(G==14){for(var v=0;v<O;v+=4){var E=j[v];j[v]=j[v+3];j[v+3]=E;
E=j[v+1];j[v+1]=j[v+2];j[v+2]=E}}else if(G==12)for(var v=0;v<O;v+=3){var T=j[v+2]<<16|j[v+1]<<8|j[v+0];
T=T>>>12|(T&4095)<<12;j[v]=T>>>16&255;j[v+1]=T>>>8&255;j[v+2]=T&255}if(C)j=fj.LK.azV(j,q,i);var y=C?2:1;
q*=y;V.t256=[q];V.t257=[i];V.t258=[K];V.t50719=[z[1],z[0]*y];V.t50720=[z[3],z[2]*y];V.width=q;V.height=i;
V.data=new Uint8Array(j.buffer);return[V]};fj.LK.azV=function(l,o,D){l=new Uint16Array(l.buffer);var H=new Uint16Array(o*D*2);
for(var _=0;_<D;_+=2)for(var u=0;u<o;u++){var S=_*o+u,h=S*2,F=l[S],n=l[S+o];H[h+1]=H[h+2*o]=n;if(((_>>>1)+u&1)==0){H[h]=F;
H[h+2*o+1]=l[S+1]}else{H[h]=l[S-1];H[h+2*o+1]=F}}return H};fj._B={};fj._B.adW=function(l,o,D){D=D<<8-(o&7);
var H=o>>>3;l[H]|=D>>>16;l[H+1]|=D>>>8;l[H+2]|=D};fj._B.Zk=function(l){var o=new Uint8Array(l),D=0,H=Date.now(),_=h$.x2(l),u=_.moov.uuid[0],S=new CR3Parser(l),h=S.getTrack().meta,F=u.CMT1[0],n=F.t256[0]=h.width,R=F.t257[0]=h.height,s=n*R,Z=F.exifIFD=u.CMT2[0],O=Z.makerNote=u.CMT3[0],w=_.moov.trak[3].mdia.minf.stbl,m=w.co64[0],V=o.slice(m,m+w.stsz[0]),q=0;
while(q<V.length){var i=x.K6(V,q);q+=4;var c=x.kk(V,q);q+=2;var z=V[q]==1;q+=2;q+=4;if(c==8||c==9){var B=UTIF.decode(V.slice(q+8,q+i-12).buffer)[0];
for(var t in B)O[t]=B[t]}q+=i-12}F.t277=[1];F.t33421=[2,2];F.t33422=[0,1,1,2];F.r3=1;if(F.t274)F.r3=F.t274[0];
var a=S.extractCFA(),I=h.bitDepth;if(I!=14)throw"e";F.t258=[I];var N=new Uint8Array(Math.ceil(s*I/8)),J=16-I;
for(var v=0;v<s;v++)fj._B.adW(N,v*14,a[v]<<J);F.width=n;F.height=R;F.data=N;return[F]};fj.SR={};fj.SR.gF=!0;
fj.SR.MJ=function(l,o,D,H){var _=new Uint8Array(l[0][0]),u=o*D,S=[1,3,4][H[0]],h=8+8*H[1],F=H[2];if(S==1){var n=new Uint8Array(o*D);
g.mA(_,n,0);_=n}if(S==3){var n=new Uint8Array(o*D*3);for(var v=0;v<u;v++){var R=v*4,s=v*3;n[s]=_[R];
n[s+1]=_[R+1];n[s+2]=_[R+2]}_=n}if(h==16){var Z=_.length,n=new Uint8Array(Z*2);for(var v=0;v<Z;v++){var O=Math.round(_[v]*(65535/255));
n[v*2+F]=O>>>8;n[v*2+1-F]=O&255}_=n}return _.buffer};fj.aAG={};fj.aAG.Zk=function(l,o){function D(F){return~~(.5+g.Xf(Math.max(0,Math.min(1,F)))*255)}var H=EXRLoader.parse(l),_=H.width,u=H.height,S=g.o(_*u*4);
for(var h=0;h<u;h++)for(var F=0;F<_;F++){var v=(h*_+F)*4,n=((u-h-1)*_+F)*4;S[v]=D(H.data[n+0]);S[v+1]=D(H.data[n+1]);
S[v+2]=D(H.data[n+2]);S[v+3]=D(H.data[n+3])}return[{jH:new gt(0,0,_,u),data:S.buffer}]};fj.MS={};fj.MS.gF=!0;
fj.MS.pa=!0;fj.MS.MJ=function(l,o,D,H,_){H=["",100,!1,!1,!1,0,!1];H[7]=["jpg"];var u=new ToDXF;hd.wd(l,H,u,_.uh);
return u.buffer};fj.MS.Zk=function(l,o){var D=72,H=new de(1,0,0,1,0,0);H.scale(D/72,D/72);o.on=D;var _=new ic(o,H,!1);
FromDXF.Parse(l,_)};fj.ax7={};fj.ax7.Zk=function(){var l=x.kk,o=x.K6,D=x.Gk,H;function _(S,h,F,n,R){var s=o(S,F),Z=o(S,F+4),O=o(S,F+8),w=l(S,F+12),m=l(S,F+14);
F+=16;var V={};for(var v=0;v<w+m;v++){var q=o(S,F),i=o(S,F+4),c,z;if(q>>>31==1){q=q&16777215}if(v<w)c=x.pg(S,h+q+2,l(S,h+q));
else c="id"+q;var B=n.slice(0);B.push(c);if(i>>>31==1){i=i&268435455;z=_(S,h,h+i,B,R)}else{var t=o(S,h+i),a=o(S,h+i+4),I=o(S,h+i+8),N=o(S,h+i+12);
if(N!=0)throw"e";if(t<R[0]||t>R[0]+R[1])throw"e";var J=R[2]+t-R[0];z=S.slice(J,J+a);var Q=fj.ZH(z.buffer);
if(Q&&["bmp","png","ico"].indexOf(Q)!=-1){var A=fj.rU(Q);if(!A.pa){var f=null;try{f=A.Zk(z.buffer)}catch(ey){}if(f){f[0].dD=B[1];
H.push(f[0])}}}else if(Q)console.log(Q)}V[c]=z;F+=8}return V}function u(S){H=[];var h=new Uint8Array(S),F=0,n=l(h,F);
F+=2;F+=58;var R=o(h,F);F+=4;F=R;var s=D(h,F,4);F+=4;var Z=l(h,F);F+=2;var O=l(h,F);F+=2;var w=o(h,F);
F+=4;var m=o(h,F);F+=4;var V=o(h,F);F+=4;var q=l(h,F);F+=2;var i=l(h,F);F+=2;F+=q;var c={};for(var v=0;
v<O;v++){var z=F;while(h[z]!=0)z++;var B=D(h,F,z-F),t=o(h,F+8),a=o(h,F+12),I=o(h,F+16),N=o(h,F+20),J=o(h,F+24),Q=o(h,F+28),A=l(h,F+32),f=l(h,F+34),i=o(h,F+36);
c[B]=[a,t,N,I,i];if(J+Q!=0)throw"e";F+=40}for(var W in c){var C=c[W];F=C[2];if(W==".rsrc"){var j=_(h,F,F,[],C),K="id134"}}return H}return u}();
fj.ar={};fj.ar.pa=!0;fj.ar.Zk=function(l,o,D){kO.x2(l,o,D)};fj.ar.MJ=function(l,o,D){return kO.wd(l)};
(function(){var l=fj.iS.get("wasm/zstd").buffer;WebAssembly.instantiate(l).then(function(o){var D=o.instance.exports;
fj.ar.amW=D})}());fj.ar.hW=function(l,o){var D=fj.ar.amW,H=l.length,_=D.memory,u=2*H+1e6,F=8;fj.O8(D,u);
var S=new Uint8Array(_.buffer),h=D.malloc(H);S.set(l,h);while(!0){var n=o==null?H*F:o;fj.O8(D,u+n);var R=D.malloc(n),s=D.ZSTD_decompress(R,n,h,H);
if(s==-70){D.free(R);F+=F>>>1;if(o!=null)throw"error"}else{S=new Uint8Array(_.buffer);l=S.slice(R,R+s);
D.free(R);break}}D.free(h);return l};fj.Em={};fj.Em.pa=!0;fj.Em.Zk=function(){var l=0,o=1,D=2,H=3,_=4,u=5,S=6,h=7,F=1,n=2,R=7,s=8,Z=9,O,w,m,V,q;
function i(){var kC=x.zJ(O,w);w+=4;return kC}function c(){var $=0,r=0;for(var v=0;v<5;v++){var U=O[w++];
$+=(U&127)<<r;r+=7;if((U&128)==0)break}return $}function z(){var $=c(),r=x.Fs(O,w,$);w+=$;return r}function B(){return{typeName:z(),ac5:i()}}function t(){var $=i(),r=z(),U=[],b=i();
for(var v=0;v<b;v++)U.push([z()]);return{id:$,Nt:r,aii:U}}function a($){var r=$.aii,U=[];for(var v=0;
v<r.length;v++)r[v].push(O[w++]);for(var v=0;v<r.length;v++){var b=r[v][1],e;r[v].push(I(b))}}function I($){var r;
if($==l)r=O[w++];else if($==H)r=z();else if($==_)r=B();else if($==o||$==D||$==S||$==u){}else throw $;
return r}function N($,r,U){var b;if($==l){if(r==F)b=O[w++]==1;else if(r==n){b=O[w++]}else if(r==s)b=i();
else if(r==Z){b=i();i()}else throw r}else if($==H){b=f(U+1)}else if($==_){b=f(U+1)}else if($==u){b=f(U+1)}else if($==o){b=f(U+1)}else if($==S){b=f(U+1)}else if($==D){b=f(U+1)}else throw $;
return b}function J($,r){var U=m["c"+$],b=U.aii,e={_class:U.Nt};for(var v=0;v<b.length;v++){var P=b[v],L=P[1],Y=P[2],X=N(L,Y,r),G=P[0];
e[G]=X}return e}function Q($,r,U,b){var e=[];for(var v=0;v<$;v++){var P=N(r,U,b);if(P.vB&&P.vB=="null_count"){var L=P.zh;
for(var Y=0;Y<L;Y++)e.push(null);v+=L-1}else e.push(P)}return e}function A(){return[i(),i()]}function f($){if($==null)throw"e";
var r=null,U=O[w],b=null;w++;if(U==0){var e=i(),P=i(),L=i(),Y=i();r=[e,P,L,Y]}else if(U==1){b=i();var X=i();
r=J(X,$)}else if(U==4){var G=t();b=G.id;a(G);m["c"+G.id]=G;r=J(G.id,$)}else if(U==5){var G=t();b=G.id;
a(G);var E=i();m["c"+G.id]=G;r=J(G.id,$)}else if(U==6){b=i();var T=z();r=T}else if(U==7){b=i();var y=O[w++];
if(y!=0)throw y;var d4=i();if(d4!=1)throw d4;var dH=i(),eV=O[w++],bf=I(eV);r=Q(dH,eV,bf,$)}else if(U==9){var jd=i();
r={vB:"ref",zh:jd};q["o"+jd]=!0}else if(U==10){r={vB:"null_count",zh:1}}else if(U==11){r={vB:"end"}}else if(U==12){var E=i(),i5=z()}else if(U==13){var fD=O[w++];
r={vB:"null_count",zh:fD}}else if(U==16){var eo=A();b=eo[0];r=Q(eo[1],_,null,$)}else if(U==17){var eo=A();
b=eo[0];r=Q(eo[1],o,null,$)}else throw"e";if(b!=null&&b>0){if(V["o"+b]!=null)throw"e";V["o"+b]=r}return r}function W($,V){if($ instanceof Array){for(var v=0;
v<$.length;v++)$[v]=C($[v],V)}else if($ instanceof Object){for(var r in $)$[r]=C($[r],V)}}function C($,V){if($&&$.vB&&$.vB=="ref")return V["o"+$.zh];
else return $}function j($,r,U){var b=Date.now();O=new Uint8Array($);w=0;m={};V={};q={};var e=x.Gk(O,0,4);
if(e!="PDN3")throw e;w+=4;var P=x.kk(O,w)+O[w+2]*256*256;w+=3;var L=x.Gk(O,w,P);w+=P;w+=2;while(!0){var Y=f(0);
if(Y&&Y.vB&&Y.vB=="end")break}for(var X in q)if(V[X]==null)throw X;for(var X in V)W(V[X],V);var G=V.o1;
console.log(G);r.Q=G.width;r._=G.height;r.buffer=g.o(r.Q*r._*4);var E=G.layers["ArrayList+_items"];for(var v=0;
v<E.length;v++){var T=E[v];if(T==null)continue;var y=T["Layer+width"],d4=T["Layer+height"],dH=T["Layer+properties"],eV=T.properties,bf=eV.blendOp._class.split("+").pop();
bf=bf.slice(0,bf.length-7);var jd={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[bf],i5=r.O7();
i5.FH(dH.name);i5.opacity=dH.opacity;i5.rm(dH.visible);i5.TY=jd;if(O[w]!=0)throw"e";w++;var fD=x.C(O,w);
w+=4;var eo=Math.ceil(y*d4*4/fD);i5.rect=new gt(0,0,y,d4);var iX=i5.buffer=g.o(y*d4*4);for(var cK=0;
cK<eo&&w<O.length;cK++){var g0=K();iX.set(g0[1],g0[0]*fD)}for(var bW=0;bW<iX.length;bW+=4){var hF=iX[bW+0];
iX[bW+0]=iX[bW+2];iX[bW+2]=hF}r.R.push(i5)}}function K(){var $=x.C(O,w);w+=4;var r=x.C(O,w);w+=4;w+=10;
r-=10;var U=pako.inflateRaw(O.slice(w,w+r));w+=r;return[$,U]}return j}();fj.h1={};fj.h1.pa=!0;fj.h1.Zk=function(l,o){gl.x2(l,o)};
fj._q={};fj._q.pa=!0;fj._q.Zk=function(){var l,o,V=null,I,N;function D(){var K=l[o];o+=1;return K}function H(){var K=x.I9(l,o);
o+=2;return K}function _(){var K=x.C(l,o);o+=4;return K}function u(){var K=x.Kb(l,o);o+=4;return K}function S(){var K=x.$Q(l,o);
o+=8;return K}function h(){var K=_();if(K>200)throw K;var $=x.tm(l,o,K);o+=K*2;return $}function F(){var K=x._k(l,o);
o+=8;return K}function n(){var K=x.R1(l,o);o+=4;return K}function R(){var K=_();if(_()!=4)throw"e";var $=[];
for(var v=0;v<K;v++)$.push(_());return $}function s(K,$,r){for(var v=0;v<K.length;v++)if(K[v][$]==r)return K[v]}function Z(K,$){var r=Date.now();
l=new Uint8Array(K);o=x.ZY(l,"CH"+"NK"+"SQ"+"Li")+8;var U=S(),b=jy.parse(l.buffer.slice(o,o+U)),e=jy.ain(b,!0);
console.log(e);var P=e.Canvas[0],L=P.Width,Y=P.Height,X=P.Unit,G=$.on=P.Resolution;if(X==0){}else if(X==1){L=Math.round(L*G/2.54);
Y=Math.round(Y*G/2.54)}else if(X==2){L=Math.round(L*G/25.4);Y=Math.round(Y*G/25.4)}else if(X==3){L=Math.round(L*G);
Y=Math.round(Y*G)}else if(X==5){L=Math.round(L*G/72);Y=Math.round(Y*G/72)}else{console.log(P);throw X}$.Q=L;
$._=Y;$.buffer=g.o(L*Y*4);console.log(Date.now()-r);var E=s(e.Layer,"MainId",P.RootFolder);f(e,l,$,E.FirstChildIndex,0);
console.log(Date.now()-r)}function O(){var K=x.kk(l,o);o+=2;return K}function w(){var K=x.K6(l,o);o+=4;
return K}function m(){var K=x.zJ(l,o);o+=4;return K}function q(K){var $={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},U=0;
l=K;o=0;var r={};while(o<l.length){var b=w(),e=w(),P=o+e;if(e==0)continue;var L=[];if(b==11){var Y=w();
for(var X=0;X<Y;X++){var G=[w(),w()];L.push(G);U+=G[1];var E=o+w()-4;G.push(O(),O(),O(),O());G.push(x.ul(l,o));
o+=8;var T=O();G.push(x.pg(l,o,T));o+=T*2;if(o!=E)throw"e"}}else if(b==31){L=x.Fs(l,o,e);o+=e}else if(b==34)for(var v=0;
v<3;v++)L.push(w()>>>16);else if(b==42)for(var v=0;v<4;v++)L.push(m());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(b)!=-1){if(e!=4)throw"e";
L=w();if([37,45,46,51,53,55,61,62].indexOf(b)!=-1){if(L!=0&&L!=1&&L!=360)throw b+":"+L;o=P;continue}}else if(b==47){var y=O();
if(w()!=50)throw"e";if(w()!=0)throw"e";var d4=O();L=x.Gk(l,o,d4);o+=d4}else if(b==57){var Y=O();for(var v=0;
v<Y;v++){var dH=O(),eV=x.Gk(l,o,dH);o+=dH;var bf=O(),jd=x.Gk(l,o,bf);o+=bf;L.push([eV,jd])}var i5=w();
for(var v=0;v<Y;v++)L[v].push(i5)}else if(b==39||b==63)L.push(w(),w());else if(b==64){for(var v=0;v<8;
v++)L.push(x.zJ(l,o+v*4)/100);o+=32}else{L=l.slice(o,P);o+=e}var fD=$[b];if(fD==null)fD="t"+b;if(r[fD])throw"e";
r[fD]=L;if(o!=P)throw b}if(V){}V=r;return r}function i(K){l=K;o=0;var $=_();if($!=K.length)throw"e";
var r=_(),U=h(),b=_(),e=F(),P=[_()/4294967295,_()/4294967295,_()/4294967295];return[b,e,P]}function c(K,$){function r(){var e0=[];
for(var v=0;v<4;v++)e0.push(x.Kb(l,o+v*4));o+=16;return e0}function U(kC){var e0=[];for(var v=0;v<kC;
v++)e0.push(n());return e0}function b(e0){var as="";for(var v=o;v<e0;v+=4)as+=l.slice(v,v+4).join(", ")+"\n";
return as}l=K;o=$+8;var e=S(),P=o+e;o+=56;if(o==P)return;var L=[],Y=[],X=[],G=[],E=[];while(o<P){var T=_(),eo=1;
if(T!=88&&T!=96)throw T;var T=_();if(T!=72)throw"e";var y=_();if(y!=88&&y!=104&&y!=120)throw y;var T=_();
if(T!=88)throw"e";var d4=_(),dH=_(),eV=r(),bf=[];X.push(bf);for(var v=0;v<6;v++){bf.push(B(_()))}var jd=F(),i5=_();
if(i5==16||i5==1040||i5==304){_();i5=_()}var fD=F();G.push(fD);var iX=_(),cK=(dH&256)!=0,g0=[],bW=[],hF={88:1,104:2,120:3}[y];
for(var v=0;v<d4;v++){var aJ=v==0?1:hF;for(var iR=0;iR<aJ;iR++)g0.push(F(),F());bW.push(aJ==1?v==0?"M":"L":aJ==2?"Q":"C");
var ex=r(),dX=_();eo=n();var iZ=U(10),j3=_(),by=_()}E.push(eo);if(y==104){var i9=F(),dm=F();if(cK){bW.push("Q");
g0.push(i9,dm,g0[0],g0[1])}}if(y==120){var i9=F(),dm=F(),kh=F(),jK=F();if(cK){bW.push("C");g0.push(i9,dm,kh,jK,g0[0],g0[1])}}if(dH&128){var bd=["M"],dz=[g0[0],g0[1]],dw=g0.length>>>1,ev=g.X.a2k(g0);
for(var v=0;v<dw;v++){var aq=g0[2*v],e3=g0[2*v+1],a9=.7;for(var iR=0;iR<2;iR++){ev[v*4+iR*2]=a9*ev[v*4+iR*2]+(1-a9)*aq;
ev[v*4+iR*2+1]=a9*ev[v*4+iR*2+1]+(1-a9)*e3}}for(var v=1;v<dw;v++){bd.push("C");dz.push(ev[v*4-2],ev[v*4-1],ev[v*4],ev[v*4+1],g0[v*2],g0[v*2+1])}if(cK){bd.push("C");
dz.push(ev[dw*4-2],ev[dw*4-1],ev[0],ev[1],g0[0],g0[1])}g0=dz;bW=bd}if(cK)bW.push("Z");Y=Y.concat(g0);
L=L.concat(bW)}if(o!=P)throw"e";return[{s:Y,v:L},X,G,E]}function z(K,$){l=K;o=$+8;var r=S(),U=o+r,b=0;
o+=56;var e=[];while(o<U){var P=_(),L=o+P-4;if(L>U)throw"e";if(P==11){o-=4;var Y=h(),X=_();if(X!=12)throw"e";
var G=R(),E=h(),X=_();if(X!=12)throw"e";var T=R();if(o!=U)throw"e"}else{var y=h(),d4=_();if(d4!=b)throw d4;
b++;var dH=H();if(dH!=0&&dH!=1&&dH!=2&&dH!=5)throw dH;var eV=D();if(eV!=0&&eV!=32&&eV!=64)throw eV;if(_()!=1)throw"e";
if(_()!=1)throw"e";if(D()!=0)throw"e";if(_()==1){var bf=_(),jd=x.K6(l,o);if(bf!=jd+4)throw"e";e.push(new Uint8Array(l.buffer,o+4,jd));
o+=bf}else e.push(new Uint8Array(0));var i5=h();if(o!=L)throw o}}return e}function B(K){return Math.min(255,Math.round(K/16777216))}function t(K){l=K;
o=0;var $=_();if($!=16)throw $;var r=_();if(r!=102)throw r;var U=_();if(U!=42&&U!=58)throw U;var b=_();
if(K.length-b!=118+U)throw K.length-b;var e=h();if(e!="Parameter")throw e;var P=_(),L=_(),Y=_(),X=_(),G=[];
for(var v=0;v<16;v++)G.push(_());var e=h();if(e!="InitColor")throw e;if(_()!=20)throw"e";var E=_(),T=_(),y=_();
if(_()!=4)throw"e";if(U==58){var d4=[];G.push(d4);for(var v=0;v<4;v++)d4.push(B(_()))}var e=h();if(e!="BlockSize")throw e;
var dH=_();if(dH!=12)throw dH;var eV=R();if(o!=l.length)throw"e";return[P,L,Y,X,E*255,G]}function a(K,$){var r=x.Gk($,0,40),U=s(K["ExternalC"+"hunk"],"Exte"+"rnalID",r);
if(U==null){console.log("chnk not found",r)}return U?U.Offset:-1}function J(K,$,r,U){if(I==null){I=g.o(256*256*4);
N=g.o(256*256)}var b=K.Mipmap,e=K.MipmapInfo,P=K.Offscreen,L=s(b,"MainId",r),Y=s(e,"MainId",L.BaseMipmapInfo),X=s(P,"MainId",Y.Offscreen),G=a(K,X.BlockData),Z=null;
if(G==-1)return null;var E=z($,G),T=t(X.Attribute),y=T[0],d4=T[1],dH=T[2],eV=T[3],bf=T[4],jd=T[5],i5=jd[16],fD=jd[1],eo=jd[2],iX=fD+eo;
if(eo!=jd[5])throw"e";if(fD!=jd[7])throw"e";var cK=g.o(256*(jd[6]+jd[8])),g0=new gt;if(i5)g0=new gt(0,0,y,d4);
else{for(var bW=0;bW<eV;bW++)for(var hF=0;hF<dH;hF++){var aJ=E[bW*dH+hF];if(aJ.length==0)continue;g0=g0.tB(new gt(hF<<8,bW<<8,256,256))}}var iR=g0.$o(new gt(0,0,y,d4)),ex=g.o(iR.c()*(iX==1?1:4));
if(i5)new Uint32Array(ex.buffer).fill(255<<24|i5[0]<<16|i5[1]<<8|i5[2]);if(iX==1)ex.fill(bf);for(var bW=0;
bW<eV;bW++)for(var hF=0;hF<dH;hF++){var aJ=E[bW*dH+hF];if(aJ.length==0)continue;var dX=new Uint8Array(aJ.buffer,aJ.byteOffset+2,aJ.length-6),iZ=new gt(hF<<8,bW<<8,256,256);
UZIP.inflateRaw(dX,cK);if(iX==1){if(jd[8]==32){Q(cK,0,N);g.mB(N,iZ,ex,iR)}else g.mB(cK,iZ,ex,iR)}else if(iX==2){if(jd[8]==32){new Uint32Array(I.buffer).fill(4278190335);
Q(cK,0,N);g.Kl(N,I,3);Q(cK,256*32,N);g.rT(N,I)}else for(var v=0;v<262144;v+=4){var i5=cK[65536+(v>>>2)];
I[v]=i5;I[v+1]=i5;I[v+2]=i5;I[v+3]=cK[v>>>2]}g.Qo(I,iZ,ex,iR)}else if(iX==5){for(var v=0;v<262144;v+=4){I[v]=cK[65536+v+2];
I[v+1]=cK[65536+v+1];I[v+2]=cK[65536+v+0];I[v+3]=cK[v>>>2]}g.Qo(I,iZ,ex,iR)}else throw iX}if(U&&iX==1){var j3=g.o(y*d4*4);
g.Kl(ex,j3,3);ex=j3}return[iR,ex,bf]}function Q(K,o,$){for(var v=0;v<$.length;v++){$[v]=(K[o+(v>>>3)]>>>7-(v&7)&1)*255}}var A=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ",null,"lddg","lddg",null,"over",null,"hLit",null,null,null,null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function f(K,$,r,U,b){var e=K.Layer,P=K.Canvas[0];while(U!=0){var L=s(e,"MainId",U),Y=L.Type,dH=!1;console.log(L);
var X=r.O7();X.FH(L.Name);X.opacity=Math.min(255,L.Opacity);X.rm((L.Visibility&1)!=0);X.TY=A[L.Composite];
if(X.TY==null){alert("Unknown blend mode "+L.Composite);X.TY="norm"}X.vN=L.Clip==1;r.R.push(X);var G=L.LayerMaskMipmap;
if(G!=0){var E=J(K,$,G,!1);if(E){X.I=new d.ow;X.I.rect=E[0];X.I.channel=E[1];X.I.color=E[2];W(X.I.rect,L,"Mask","Mask");
X.I.Hf()}}var T=[];for(var v=0;v<3;v++)T.push(B(L["DrawColorMain"+["Red","Green","Blue"][v]]));var y={t:"Objc",v:g.G.XF({$:T[0],H:T[1],J:T[2]})},d4=JSON.parse(cq.default);
for(var v=0;v<cq.order.length;v++)d4[cq.lZ[v]]={t:"VlLs",v:[]};if(L.DrawColorEnable==1&&Y!=1584){dH=!0;
var eV=JSON.parse(cq.Rq[cq.order.indexOf("SoFi")]);eV.Clr=y;d4.solidFillMulti.v.push({t:"Objc",v:eV})}if(L.EffectInfo){var bf=i(L.EffectInfo),T=bf[2];
if(bf[0]==1){dH=!0;var eV=JSON.parse(cq.Rq[cq.order.indexOf("FrFX")]);eV.Clr.v=g.G.XF({$:T[0]*255,H:T[1]*255,J:T[2]*255});
eV.Sz.v.val=Math.round(bf[1]);d4.frameFXMulti.v.push({t:"Objc",v:eV})}}if(L.FilterLayerInfo){l=L.FilterLayerInfo;
o=0;var jd=_(),i5=_();if(i5!=l.length-o)throw"e";var fD={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[jd];
if(fD!=null){var eo=at.ts(fD);X.add[fD]=eo?eo:{};if(fD=="brit")at.T7["g"+fD](eo,[u(),u(),!0]);if(fD=="hue2")gT.sQ(eo,0,[u(),u(),u()]);
if(fD=="curv"){var iX=[],cK=o;for(var v=0;v<32;v++){o=cK+v*130;var g0=H(),bW=[];iX.push(bW);for(var hF=0;
hF<g0;hF++)bW.push(H()/65535,H()/65535)}for(var v=0;v<4;v++){var bW=iX[v],aJ=hR.$m(eo,v),iR=aJ[0];for(var hF=0;
hF<bW.length;hF+=2){var ex=aJ[hF>>>1]=JSON.parse(JSON.stringify(iR));ex.v.Hrzn.v=Math.round(bW[hF]*255);
ex.v.Vrtc.v=Math.round(bW[hF+1]*255)}hR.sQ(eo,v,aJ)}}if(fD=="grdm"){var dX=eo.Grad.v,iZ=[],j3=_();if(j3!=i5-4)throw j3;
var i9=_();if(i9!=16)throw i9;var kh=_();if(kh!=28)throw kh;var bd=_();for(var v=0;v<bd;v++){var dz=0,dw=[];
for(var hF=0;hF<7;hF++)dw.push(_());iZ.push([dw[6]/32768,[dw[1]/4294967295,dw[2]/4294967295,dw[3]/4294967295],dw[4]/4294967295])}g.G.Ky(iZ,dX)}if(fD=="blnc"){eo.PrsL.v=_()==1;
for(var v=0;v<3;v++){var ev=eo[["ShdL","MdtL","HghL"][v]].v;for(var hF=0;hF<3;hF++)ev[hF].v=u()}}}else console.log("Unknown adjustment",jd,i5,X.getName())}if(Y==1584){X.XL|=16;
X.add.SoCo={classID:"null",Clr:y};X.C$(r)}else if(Y==800){r.R.pop()}else if(L.Folder!=0){X.add.lsct=(L.Folder&16)!=0?jl.qb:jl.VV;
X.TY="pass";r.R.pop();r.R.push(r.k0());f(K,$,r,L.FirstChildIndex,b+1);r.R.push(X)}else if(Y==0||Y==1||Y==2||Y==3){var E=J(K,$,L.RenderMipmap,!0);
if(E){X.rect=E[0];X.buffer=E[1];W(X.rect,L,"Render","");X.Hf()}if(L.TextLayerType!=null){var aq="TextLayerString",e3="TextLayerAttributes",a9=[L[aq]],e0=[L[e3]];
if(L[aq+"Array"]){l=L[aq+"Array"];o=0;while(o<l.length){var i5=w();a9.push(l.slice(o,o+i5));o+=i5}l=L[e3+"Array"];
o=0;while(o<l.length){var i5=w();e0.push(l.slice(o,o+i5));o+=i5}}var as=X;r.R.pop();for(var eK=0;eK<a9.length;
eK++){var X=as.clone();r.R.push(X);var gh=q(e0[eK]),gx=gh.runs,gc=gh.fnts,kQ=gh.bplg,dn=gh.bbox,bQ=dn[2]-dn[0],iK=dn[3]-dn[1],cJ=kQ[2]-kQ[0],i1=kQ[3]-kQ[1],bu=new de;
bu.translate(-bQ/2,-iK/2);bu.rotate(Math.atan2(-i1,cJ));bu.translate(bQ/2,iK/2);var gi=dn[0]+L.OffsetX,iv=dn[1]+L.OffsetY;
bu.translate(gi,iv);X.add.lnsr="rend";X.add.TySh=fX.D2(0,0);X.add.TySh.g6=new gt(0,0,500,500);X.add.TySh.h=bu;
var d0=X.add.TySh.PF,af=x.Fs(a9[eK]);X.FH(af);fX.yQ(d0,0,af);fX.aM(d0,1);fX.nP(d0,[0,0,bQ,iK]);if(gx)for(var v=0;
v<gx.length;v++){var eY=gx[v],hV=eY[0],i$=hV+eY[1],cz=eY[2],fk=fX.eF(d0,hV,i$),ee=r.on/72*gh.size/100;
if((cz&512)!=0)ee*=eY[6]/100;fk.i7.FontSize=Math.round(ee);var y=(cz&256)!=0?eY.slice(3):gh.colr;fk.i7.FillColor={Type:1,Values:[1,y[0]/65535,y[1]/65535,y[2]/65535]};
var aC=eY[7]==""?gh.font:eY[7];if(gc){if(gc[v])aC=gc[v][1];else for(var hF=0;hF<gc.length;hF++)if(gc[hF][0]==aC)aC=gc[hF][1]}fX.LQ(fk,aC);
fX.fn(d0,hV,i$,fk)}if(X.rect.c()==0)r.hU=!0;else{X.rect=new gt(gi,iv,bQ,iK);X.buffer=g.o(X.rect.c()*4);
g.Qo(as.buffer,as.rect,X.buffer,X.rect)}}}}var cI=K.VectorObjectList;if(L.VectorNormalType!=null&&cI&&s(cI,"LayerId",U)){var cZ=s(cI,"LayerId",U).VectorData,ad=a(K,cZ),j0=c($,ad);
if(j0){var cX=null;if(X.add.TySh){var cX=X.clone();r.R.push(cX);delete X.add.TySh}C(X,L,j0[0]);if(X.Cl()){X.XL|=24;
var bY=r.O7();bY.FH(X.getName());bY.opacity=X.opacity;r.R.push(bY);C(bY,L,j0[0]);j(bY,j0);bY.C$(r)}else{j(X,j0,cX!=null)}X.C$(r);
if(cX){cX.add.TySh.h.concat(new de(1,0,0,1,X.rect.x+X.rect.Q/2,X.rect.y+X.rect._/2))}}}if(dH)X.add.lmfx=d4;
if(U==P.CurrentLayer)r.T=[r.R.indexOf(X)];U=L.NextIndex}}function W(K,$,r,U){K.x+=$[r+"OffscrOffsetX"]+$[U+"OffsetX"];
K.y+=$[r+"OffscrOffsetY"]+$[U+"OffsetY"]}function C(K,$,r){K.add.vmsk=new d.dO;g.X.h(r.s,new de(1,0,0,1,$.OffsetX,$.OffsetY),r.s);
K.add.vmsk.d=g.X.Op(r);K.Xv()}function j(K,$,r){var U=$[1][0],b=$[2][0];K.XL|=16;var e=K.add.vstk=cq.K$.ts(!0,!0);
e.fillEnabled.v=r==!0;K.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.G.XF({$:255,H:255,J:255})}};e.strokeStyleContent.v.Clr.v=g.G.XF({$:U[0],H:U[1],J:U[2]});
e.strokeStyleLineWidth.v.val=b*2;e.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return Z}();
fj.tD={};fj.tD.pa=!0;fj.tD.Zk=function(l,o){var D=Date.now(),H=cw.parse(l),_=x.zJ,u=x.E_,S=H.LtfHeader,h=0,F=_(S,h);
h+=4;if(F!=S.length)throw"e";var n=_(S,h);h+=4;if(n!=4609100)throw"e";var R=_(S,h);h+=4;if(R!=600)throw R;
var s=u(S,h);h+=2;if(s!=2&&s!=4)throw s;var Z=u(S,h);h+=2;var O=_(S,h),w=_(S,h+4);h+=8;var m=_(S,h)/1e4;
h+=8;var R=_(S,h),s=_(S,h+4);h+=8;if(R!=0&&R!=1&&R!=2)throw R;for(var v=0;v<20;v++)if(S[h+v]!=0)throw v;
h+=20;var R=_(S,h);h+=4;if(R!=0&&R!=1)throw R;var V=_(S,h);h+=4;if(V!=0&&V!=1)throw V;for(var v=0;v<476;
v++)if(S[h+v]!=0)throw v;h+=476;var q=h+104;o.Q=O;o._=w;o.buffer=g.o(O*w*4);var i=H.LtfMainPalette,c=H.LtfObjectList;
h=0;if(c){var kC=_(c,0);if(_(c,4)!=kC)throw"e";for(var z=0;z<kC;z++){h=8+z*192;var B=h+128;while(c[B]!=0)B+=2;
var t=x.pg(c,h+128,B-(h+128)>>>1);fj.tD.KB(H[t],o,i)}}var a=o.O7();o.R.push(a);a.FH("Background");if(H.LtfMainImage){var I=fj.tD.Ko(H.LtfMainImage,null,i);
a.buffer=I[0];a.rect=I[1]}else{a.rect=new gt(0,0,O,w);var N=_(S,q);fj.tD.aAd(a,i?_(i,2+N*4):N)}o.R.reverse()};
fj.tD.aCe=function(l){var o="";for(var v=0;v<l.length;v++){var D=""+l[v];while(D.length<3)D=" "+D;o+=D+", "}return o};
fj.tD.KB=function(l,o,D){var H=x.zJ,_=o.O7(),S=0;o.R.push(_);var u=l.ObjectData;if(H(u,0)!=u.length)throw"e";
S+=4;var h=S;while(u[h]!=0)h++;_.FH(x.Gk(u,S,h-S));S=h+1;if(h==5){if(u[S]!=0)throw"e";S++}var F=l.ObjectMask0,n=l.PathStream;
if(n&&F==null){var R=_.add.vmsk=new d.dO;R.d=fj.tD.FP(n);_.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.G.XF({$:u[232],H:u[233],J:u[234]})}};
_.add.vstk=cq.K$.ts(!0);_.C$(o)}if(F==null)return;_.rect=new gt(H(F,0),H(F,4),H(F,8),H(F,12));if(l.ObjectImage){var s=fj.tD.Ko(l.ObjectImage,null,D);
_.buffer=s[0]}else fj.tD.aAd(_,H(u,188));fj.tD.Ko(new Uint8Array(F.buffer,16),_.buffer)};fj.tD.aAd=function(l,o){l.buffer=g.o(l.rect.c()*4);
new Uint32Array(l.buffer.buffer).fill(255<<24|o)};fj.tD.FP=function(l){var o=x.E_,D=x.zJ,H=x.jV,S=0;
function _(V,q){var i=o(V,q),c=o(V,q+2);return c}var u=pako.inflate(l.slice(12));S=128;for(var v=0;v<260;
v++)if(u[S+v]!=0)throw v;S+=260;if(D(u,S)!=50)throw"e";S+=4;if(D(u,S)!=0)throw"e";S+=4;if(D(u,S)!=0)throw"e";
S+=4;var h=D(u,S);S+=4;var h=D(u,S);if(h!=106&&h!=186&&h!=196&&h!=236)throw D(u,S);S+=4;if(D(u,S)!=0)throw"e";
S+=4;if(D(u,S)!=24)throw"e";S+=4;if(D(u,S)!=0)throw"e";S+=4;var h=D(u,S);S+=4;var F=D(u,S);S+=4;if(D(u,S)!=0)throw"e";
S+=4;if(D(u,S)!=0)throw"e";S+=4;if(D(u,S)!=1280)throw"e";S+=4;for(var v=0;v<24;v++)if(u[S+v]!=0)throw v;
S+=24;var n=D(u,S);S+=4;if(42+n*10!=F)throw"e";var R=D(u,S);S+=4;var s=D(u,S);S+=4;var Z=[{type:6},{type:8,all:0}];
Z.push({type:0,length:n,HN:0,qC:2,Zt:0,bb:0});for(var v=0;v<n;v++){var O=_(u,S+2),w=_(u,S+6),m=new he(O,w);
Z.push({type:2,e6:m.clone(),u:m,BN:m.clone()});S+=10}return Z};fj.tD.Ko=function(l,o,D){var H=x.zJ,_=x.kk,u=fj.tD.aCe,S=0,h=H(l,S),O,w=0,W;
S+=4;var F=H(l,S);S+=4;var n=H(l,S);S+=4;var R=H(l,S);S+=4;var s=H(l,S);S+=4;var Z=h*F,m=l.length;if(Z==m-20)O=new Uint8Array(l.buffer,20+l.byteOffset);
else if(n==64*64*3||o&&n==64*64){var V=fj.rU("jpg"),q=0,i=0;O=g.o(h*F);while(S<l.length){var c=H(l,S);
S+=4;var z=V.Zk(l.slice(S,S+c))[0],R=z.jH,B=new Uint8Array(z.data),t=o?h:h/3;for(var a=0;a<R._;a++)for(var I=0;
I<R.Q;I++){var N=a*R.Q+I,J=(a+i)*t+(I+q);if(o)O[J]=B[N*4];else{O[J*3+0]=B[N*4+2];O[J*3+1]=B[N*4+1];O[J*3+2]=B[N*4+0]}}q+=64;
if(q>t){i+=64;q=0}S+=c}}else{O=g.o(Z);for(var N=0;N<Z;N+=n){var Q=N+n,A=H(l,S);S+=4;while(w<Q&&S<m){var f=l[S];
S++;if(f<128)for(var v=0;v<f+1;v++){O[w++]=l[S++];if(o)continue;O[w++]=l[S++];O[w++]=l[S++]}else{f-=127;
for(var v=0;v<f;v++){O[w++]=l[S+0];if(o)continue;O[w++]=l[S+1];O[w++]=l[S+2]}S+=o?1:3}}}}if(o){for(var v=0;
v<Z;v++)o[v*4+3]=O[v];return[O,new gt(0,0,h,F)]}if(D){W=g.o(Z*4);for(var v=0;v<Z;v++){var C=v<<2,n=2+O[v]*4;
W[C]=D[n];W[C+1]=D[n+1];W[C+2]=D[n+2];W[C+3]=255}}else{h=Math.round(h/3);Z=h*F;W=g.o(Z*4);for(var v=0;
v<Z;v++){var J=v*3,C=v<<2;W[C]=O[J];W[C+1]=O[J+1];W[C+2]=O[J+2];W[C+3]=255}}return[W,new gt(0,0,h,F)]};
var kx={};kx.X7=!1;kx.apK=!1;kx.es=!1;kx.Pf=document.createElement("canvas");kx.Ig=null;kx.tg=null;kx.sE=0;
(function(){var l={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},o;if(!o)o=kx.Pf.getContext("webgl",l);
if(!o)o=kx.Pf.getContext("experimental-webgl",l);if(o){kx.X7=!0;kx.apK=!0;kx.Ig=o;kx.tg=o.createFramebuffer();
o.bindFramebuffer(o.FRAMEBUFFER,kx.tg);o.disable(o.BLEND);o.disable(o.DEPTH_TEST);var D=o.createBuffer();
o.bindBuffer(o.ARRAY_BUFFER,D);o.bufferData(o.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),o.STATIC_DRAW);
o.enableVertexAttribArray(0);o.vertexAttribPointer(0,2,o.FLOAT,!1,0,0)}}());kx.aa_=function(l){l=l.replace(/\s\s+/g," ");
l=l.replace(/; /g,";");l=l.replace(/} /g,"}");l=l.replace(/ }/g,"}");l=l.replace(/{ /g,"{");l=l.replace(/ {/g,"{");
l=l.replace(/= /g,"=");l=l.replace(/ =/g,"=");l=l.replace(/\| /g,"|");l=l.replace(/ \|/g,"|");return l};
kx.DP=function(l){var o=kx.Ig;if(l>o.getParameter(o.MAX_TEXTURE_SIZE)){kx.X7=!1;alert("Disabling WebGL")}};
kx.HX=function(l,o){return new Float32Array([(l.x-o.x)/o.Q,(l.y-o.y)/o._,l.Q/o.Q,l._/o._])};kx.WG=function(){return this.Pf};
kx._J=function(l,o){var D=kx.Ig;D.bindFramebuffer(D.FRAMEBUFFER,kx.tg);D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,l.mn,0);
D.viewport(0,0,l.Q,l._);if(o){D.enable(D.SCISSOR_TEST);D.scissor(o.x,o.y,o.Q,o._)}else D.disable(D.SCISSOR_TEST)};
kx.a6l=function(l,o,D){if(D)throw"error";var H=kx.Ig;H.disable(H.SCISSOR_TEST);H.bindFramebuffer(H.FRAMEBUFFER,null);
H.viewport(0,0,l,o);if(D){H.enable(H.SCISSOR_TEST);H.scissor(D.x,D.y,Math.round(D.Q),Math.round(D._))}else H.disable(H.SCISSOR_TEST)};
kx.clear=function(){var l=kx.Ig;l.clearColor(0,0,0,0);l.clear(l.COLOR_BUFFER_BIT)};kx.NX=function(l,o){if(o==null)o=0;
var D=(o>>>0&255)==0,H=(o>>>8&255)==0,_=(o>>>16&255)==0,u=(o>>>24&255)==0,S=(l>>>0&255)*(1/255),h=(l>>>8&255)*(1/255),F=(l>>>16&255)*(1/255),n=(l>>>24&255)*(1/255),R=kx.Ig;
R.colorMask(D,H,_,u);R.clearColor(S,h,F,n);R.clear(R.COLOR_BUFFER_BIT);R.colorMask(!0,!0,!0,!0)};kx.Lv=function(l,o,D,H,_){var u=o.$o(H);
if(_)u=u.$o(_);if(u.lh())return;var S=kx.Ig;kx._J(l);S.bindTexture(S.TEXTURE_2D,D.mn);S.copyTexSubImage2D(S.TEXTURE_2D,0,u.x-H.x,u.y-H.y,u.x-o.x,u.y-o.y,u.Q,u._)};
kx.jx=function(v,l,o){var D=kx.a6R[v];if(D==null||D.Q!=l||D._!=o){if(D)D.delete();D=new kx.Q9(l,o)}kx.a6R[v]=D;
return D};kx.a6R=[];kx.xL=function(){this.$k=null;this.fq=null};kx.xL.sw=null;kx.xL.prototype.ra=function(l){if(this.fq)return;
this.fq={};var o=kx.Ig,D=this.$k,H=this.fq;for(var v=0;v<l.length;v++){var _=l[v];H[_]=o.getUniformLocation(D,_)}};
kx.xL.prototype.o0=function(){};kx.xL.prototype.Hb=function(l){var o=kx.Ig;for(var v=0;v<l.length;v+=2){o.uniform1i(l[v],v>>>1);
o.activeTexture(o["TEXTURE"+(v>>>1)]);o.bindTexture(o.TEXTURE_2D,l[v+1])}o.activeTexture(o.TEXTURE0)};
kx.xL.prototype.Vk=function(l,o){var D=kx.Ig,H=D.createShader(D.FRAGMENT_SHADER);D.shaderSource(H,l);
D.compileShader(H);if(!D.getShaderParameter(H,D.COMPILE_STATUS))console.log(D.getShaderInfoLog(H));var _=D.createShader(D.VERTEX_SHADER);
D.shaderSource(_,o);D.compileShader(_);if(!D.getShaderParameter(_,D.COMPILE_STATUS))console.log(D.getShaderInfoLog(_));
var u=D.createProgram();D.attachShader(u,_);D.attachShader(u,H);D.linkProgram(u);if(!D.getProgramParameter(u,D.LINK_STATUS))console.log("Could not initialise shaders");
this.$k=u};kx.xL.prototype.Vi=function(){if(kx.xL.sw!=this){kx.Ig.useProgram(this.$k);kx.xL.sw=this}};
kx.jF=function(l,o){kx.VE++;kx.sE+=l*o;if(kx.es)console.log("GL.Channels instances: "+kx.VE+", memory: "+kx.sE);
var D=kx.Ig;this.Q=l;this._=o;this.mn=D.createTexture();this.M4=null;this.i9(this.mn,l,o)};kx.jF.prototype.i9=function(l,o,D){var H=kx.Ig;
H.bindTexture(H.TEXTURE_2D,l);H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,H.NEAREST);H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,H.NEAREST);
H.texParameteri(H.TEXTURE_2D,H.TEXTURE_WRAP_S,H.CLAMP_TO_EDGE);H.texParameteri(H.TEXTURE_2D,H.TEXTURE_WRAP_T,H.CLAMP_TO_EDGE);
H.texImage2D(H.TEXTURE_2D,0,H.ALPHA,o,D,0,H.ALPHA,H.UNSIGNED_BYTE,null)};kx.jF.prototype.set=function(l,o){var D=kx.Ig;
D.bindTexture(D.TEXTURE_2D,this.mn);D.pixelStorei(D.UNPACK_ALIGNMENT,1);var H=this.Q*this._;if(o==null||o.c()*10>H)D.texImage2D(D.TEXTURE_2D,0,D.ALPHA,this.Q,this._,0,D.ALPHA,D.UNSIGNED_BYTE,l);
else{var _=new gt(0,0,this.Q,this._),u=g.o(o.c());g.mB(l,_,u,o);D.texSubImage2D(D.TEXTURE_2D,0,o.x,o.y,o.Q,o._,D.ALPHA,D.UNSIGNED_BYTE,u)}D.pixelStorei(D.UNPACK_ALIGNMENT,4)};
kx.jF.prototype.delete=function(){var l=kx.Ig;if(this.mn){l.deleteTexture(this.mn);kx.VE--;kx.sE-=this.Q*this._}if(kx.es)if(kx.es)console.log("GL.Channels instances: "+kx.VE+", memory: "+kx.sE*4)};
kx.VE=0;kx.Q9=function(l,o,D){if(D==null)D=!1;kx.VE++;kx.sE+=l*o*4;if(kx.es)console.log("GL.Channels instances: "+kx.VE+", memory: "+kx.sE);
var H=kx.Ig;this.aj8=D;this.Q=l;this._=o;this.mn=H.createTexture();this.M4=null;this.i9(this.mn,l,o)};
kx.Q9.prototype.set=function(l,o){var D=kx.Ig;D.disable(D.SCISSOR_TEST);D.bindTexture(D.TEXTURE_2D,this.mn);
if(l==null||l instanceof Uint8Array){var H=this.Q*this._;if((o==null||o.c()*10>H)&&(l==null||l.length>=H*4))D.texImage2D(D.TEXTURE_2D,0,D.RGBA,this.Q,this._,0,D.RGBA,D.UNSIGNED_BYTE,l);
else{var _=l;if(l.length==H*4){var _=g.o(o.c()*4);g.Qo(l,new gt(0,0,this.Q,this._),_,o)}D.texSubImage2D(D.TEXTURE_2D,0,o.x,o.y,o.Q,o._,D.RGBA,D.UNSIGNED_BYTE,_)}}else D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,l)};
kx.Q9.prototype.get=function(l){var o=kx.Ig;kx._J(this);o.readPixels(0,0,this.Q,this._,o.RGBA,o.UNSIGNED_BYTE,l)};
kx.Q9.prototype.XJ=function(l){if(l.lh())return;var o=kx.Ig;if(this.M4==null){this.M4=o.createTexture();
this.i9(this.M4,this.Q,this._);kx.VE++;kx.sE+=this.Q*this._*4}o.bindFramebuffer(o.FRAMEBUFFER,kx.tg);
o.bindTexture(o.TEXTURE_2D,this.M4);if(l){var D=Math.max(l.x,0),H=Math.max(l.y,0);o.copyTexSubImage2D(o.TEXTURE_2D,0,D,H,D,H,l.Q,l._)}else o.copyTexImage2D(o.TEXTURE_2D,0,o.RGBA,0,0,this.Q,this._,0)};
kx.Q9.prototype.i9=function(l,o,D){var H=kx.Ig;H.bindTexture(H.TEXTURE_2D,l);H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,this.aj8?H.LINEAR:H.NEAREST);
H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,H.NEAREST);H.texParameteri(H.TEXTURE_2D,H.TEXTURE_WRAP_S,H.CLAMP_TO_EDGE);
H.texParameteri(H.TEXTURE_2D,H.TEXTURE_WRAP_T,H.CLAMP_TO_EDGE);H.texImage2D(H.TEXTURE_2D,0,H.RGBA,o,D,0,H.RGBA,H.UNSIGNED_BYTE,null)};
kx.Q9.prototype.delete=function(){var l=kx.Ig;if(this.mn){l.deleteTexture(this.mn);kx.VE--;kx.sE-=this.Q*this._*4}if(this.M4){l.deleteTexture(this.M4);
kx.VE--;kx.sE-=this.Q*this._*4}if(kx.es)if(kx.es)console.log("GL.Channels instances: "+kx.VE+", memory: "+kx.sE)};
kx.Q9.prototype.clone=function(){var l=kx.Ig,o=new kx.Q9(this.Q,this._);kx._J(this);l.bindTexture(l.TEXTURE_2D,o.mn);
l.copyTexImage2D(l.TEXTURE_2D,0,l.RGBA,0,0,this.Q,this._,0);return o};kx.Pd={aEc:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",at4:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",E3:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",Lz:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",aff:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",hs:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",SV:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",VM:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",aBK:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",zM:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",aAs:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",BJ:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",a3L:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",RL:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",Za:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",VN:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",UM:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",cO:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",nU:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",av6:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",a02:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",JJ:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",aoU:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
kx.z={};kx.z.gN={};kx.z.GQ=null;kx.z.s7=null;kx.z.fg=null;kx.z.afL=function(l,o,D,H,_,u,S,h){if(h==null)h=cN.uM();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(l)==-1){S=S*h.fill;h.fill=1;h.style=!1}var F=l+(h.$d?"1":"");
if(kx.z.gN[F]==null)kx.z.gN[F]=new kx.z.zu(l,h.$d!=null);var n=kx.z.gN[F],R=D.$o(_).$o(u);R.offset(-_.x,-_.y);
if(R.lh())return;var s=kx.Ig;kx._J(H,R);H.XJ(R);n.Vi();n.o0(o.mn,H.M4,kx.HX(D,_),S,h.fill,h.style?1:0,h.U$?1:0,h.$d?new Float32Array(h.$d):null);
s.drawArrays(s.TRIANGLES,0,6)};kx.z.Ur=function(l,o,D,H,_,u,S,h,F,n,R){if(kx.z.GQ==null)kx.z.GQ=new kx.z.Mj(!0,!0);
if(kx.z.s7==null)kx.z.s7=new kx.z.Mj(!0,!1);if(kx.z.fg==null)kx.z.fg=new kx.z.Mj(!1,!0);var s=n?1:0,Z=l?_?kx.z.GQ:kx.z.s7:kx.z.fg,O=new Float32Array(R?[R[0],R[1],R[2],1]:[1,1,1,1]),w=o?o.$o(H).$o(h):H.$o(h);
if(w.lh())return;w.offset(-H.x,-H.y);var m=kx.Ig;kx._J(D,w);D.XJ(w);Z.Vi();if(l==null)Z.o0(null,D.M4,_.mn,kx.HX(H,H),kx.HX(u,H),S/255,F,s,O);
else if(_)Z.o0(l.mn,D.M4,_.mn,kx.HX(o,H),kx.HX(u,H),S/255,F,s,O);else Z.o0(l.mn,D.M4,null,kx.HX(o,H),null,S/255,F,s,O);
m.drawArrays(m.TRIANGLES,0,6)};kx.z.axP=function(l,o,D){if(kx.z.a6C==null)kx.z.a6C=new kx.z.mu;var H=kx.z.a6C,_=new gt(0,0,l.Q,l._),u=kx.Ig;
kx._J(o);o.XJ(_);H.Vi();H.o0(_,l.mn,o.M4,D.mn);u.drawArrays(u.TRIANGLES,0,6)};kx.z.lj={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
kx.z.zu=function(l,o){kx.xL.call(this);var D="\t\t\tprecision highp float;\t\t\t"+kx.Pd.E3+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(o?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+kx.Pd.hs+"\t\t\t"+kx.Pd.SV+"\t\t\t"+kx.Pd.VM+"\t\t\t"+kx.Pd.aEc+"\t\t\t"+kx.Pd.at4+"\t\t\t"+kx.Pd.aBK+"\t\t\t"+kx.Pd.zM+"\t\t\t"+kx.Pd.aAs+"\t\t\t"+kx.Pd.BJ+"\t\t\t"+kx.Pd.hash+"\t\t\t"+(o?kx.Pd.JJ:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+kx.z.lj[l]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",H="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(l=="diss")D+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else D+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(o?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.Vk(D,H)};kx.z.zu.prototype=new kx.xL;kx.z.zu.prototype.o0=function(l,o,D,H,_,u,S,h){this.ra("srct alpha source target fill style keepBGA blIf".split(" "));
var F=kx.Ig,n=this.fq;F.uniform4fv(n.srct,D);F.uniform1f(n.alpha,H);F.uniform1f(n.fill,_);F.uniform1f(n.style,u);
F.uniform1f(n.keepBGA,S);if(h)F.uniform4fv(n.blIf,h);this.Hb([n.source,l,n.target,o])};kx.z.Mj=function(l,o){kx.xL.call(this);
this.aux=l;this.Jn=o;var D="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+kx.Pd.a3L+"\t\t\t"+kx.Pd.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(l?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(o?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(l?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(o?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",H="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Vk(D,H)};kx.z.Mj.prototype=new kx.xL;kx.z.Mj.prototype.o0=function(l,o,D,H,_,u,S,h,F){if(this.Jn)this.ra("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.ra("srct awg dissv source target cswitch".split(" "));var n=kx.Ig,R=this.fq;n.uniform4fv(R.srct,H);
if(this.Jn){n.uniform4fv(R.wrct,_);n.uniform1f(R.wcolor,u)}else{n.uniform4fv(R.cswitch,F)}n.uniform1f(R.awg,S);
n.uniform1f(R.dissv,h);var s=[R.source,l,R.target,o];if(this.Jn)s.push(R.weight,D);this.Hb(s)};kx.z.mu=function(){kx.xL.call(this);
var l="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",o="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Vk(l,o)};kx.z.mu.prototype=new kx.xL;kx.z.mu.prototype.o0=function(l,o,D,H){this.ra(["rct","prev","next","alpha"]);
var _=kx.Ig,u=this.fq;_.uniform4fv(u.rct,[0,0,1,1]);this.Hb([u.prev,o,u.next,D,u.alpha,H])};kx.PN={lB:{},uG:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
kx.PN.xd=function(l,o){var D=jW.sg,H=[D.ME,D.Q6,D._u,D.WY,D.$f,D.dr,D.Mh,D.H3].indexOf(l.type),_=kx.PN.lB[l.type];
if(_==null)_=kx.PN.lB[l.type]=new kx.lB[H];_.Vi();_.o0(o,l);kx.Ig.drawArrays(kx.Ig.TRIANGLES,0,6)};kx.lB=[];
kx.lB[0]=function(){kx.xL.call(this);this.ZS={};var l="\t\t\tprecision mediump float;\t\t\t"+kx.Pd.SV+"\t\t\t"+kx.Pd.E3+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.Vk(l,kx.PN.uG)};kx.lB[0].prototype=new kx.xL;kx.lB[0].prototype.o0=function(l,o){var D={$:o.LG,H:o.tw,J:o.BI,M:g.o(o.LG.length)},H=D.$.length;
if(this.ZS["m"+H]==null){this.ZS["m"+H]={aEj:new kx.Q9(H,1),G5:g.o(H*4)}}var _=this.ZS["m"+H];g.xQ(D,_.G5,0);
var u=_.aEj;u.set(_.G5);this.ra(["source","map","toGray","presLum"]);var S=kx.Ig,h=this.fq;S.uniform1f(h.toGray,o.X9?1:0);
S.uniform1f(h.presLum,o.Gh?1:0);this.Hb([h.source,l,h.map,u.mn])};kx.lB[1]=function(){kx.xL.call(this);
this.cM=new kx.Q9(256,1);this.a0R=g.o(256*4);var l="\t\t\t\tprecision mediump float;\t\t\t\t"+kx.Pd.VN+"\t\t\t\t"+kx.Pd.RL+"\t\t\t\t"+kx.Pd.Za+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.Vk(l,kx.PN.uG)};kx.lB[1].prototype=new kx.xL;kx.lB[1].prototype.o0=function(l,o){g.xQ({$:o.a4h,H:o.JW,J:o.abX,M:g.o(256)},this.a0R);
this.cM.set(this.a0R);this.ra(["source","map","cfa","cfb","colorize"]);var D=kx.Ig,H=this.fq;D.uniform1f(H.cfa,o.arU);
D.uniform1f(H.cfb,o.Wy);D.uniform1i(H.colorize,o.azr);this.Hb([H.source,l,H.map,this.cM.mn])};kx.lB[2]=function(){kx.xL.call(this);
var l="\t\t\tprecision mediump float;\t\t\t"+kx.Pd.VN+"\t\t\t"+kx.Pd.UM+"\t\t\t"+kx.Pd.cO+"\t\t\t"+kx.Pd.RL+"\t\t\t"+kx.Pd.Za+"\t\t\t"+kx.Pd.av6+"\t\t\t"+kx.Pd.a02+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.Vk(l,kx.PN.uG)};kx.lB[2].prototype=new kx.xL;kx.lB[2].prototype.o0=function(l,o){this.ra(["source","vib","sat","yF"]);
var D=kx.Ig,H=this.fq;D.uniform1f(H.vib,o.au[0]);D.uniform1f(H.sat,o.au[1]);D.uniform3fv(H.yF,new Float32Array([o.au[2],o.au[3],o.au[3]]));
this.Hb([H.source,l])};kx.lB[3]=function(){kx.xL.call(this);var l="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.Vk(l,kx.PN.uG)};kx.lB[3].prototype=new kx.xL;kx.lB[3].prototype.o0=function(l,o){this.ra(["source","trf"]);
var D=kx.Ig,H=this.fq;D.uniformMatrix4fv(H.trf,!1,new Float32Array(g.JX.ji(o.YF)));this.Hb([H.source,l])};
kx.lB[4]=function(){kx.xL.call(this);var l="\t\t\tprecision mediump float; \t\t\t"+kx.Pd.nU+"\t\t\t"+kx.Pd.VN+"\t\t\t"+kx.Pd.Za+"\t\t\t"+kx.Pd.RL+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.Vk(l,kx.PN.uG)};kx.lB[4].prototype=new kx.xL;kx.lB[4].prototype.o0=function(l,o){this.ra(["source","mnm","mxm","shift","lim"]);
var D=kx.Ig,H=this.fq;D.uniform3fv(H.mnm,new Float32Array(o.A6));D.uniform3fv(H.mxm,new Float32Array(o._2));
D.uniform3fv(H.shift,new Float32Array(o.shift));D.uniform1f(H.lim,o.WN);this.Hb([H.source,l])};kx.lB[5]=function(){kx.xL.call(this);
var l="\t\t\tprecision mediump float;\t\t\t"+kx.Pd.E3+"\t\t\t"+kx.Pd.Lz+"\t\t\t"+kx.Pd.aff+"\t\t\t"+kx.Pd.RL+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Vk(l,kx.PN.uG)};kx.lB[5].prototype=new kx.xL;kx.lB[5].prototype.o0=function(l,o){this.ra(["source","cfs"]);
var D=kx.Ig,H=this.fq;D.uniform3fv(H.cfs,o.aeu);this.Hb([H.source,l])};kx.lB[6]=function(){kx.xL.call(this);
var l="\t\t\tprecision mediump float;\t\t\t"+kx.Pd.VN+"\t\t\t"+kx.Pd.Lz+"\t\t\t"+kx.Pd.aff+"\t\t\t"+kx.Pd.RL+"\t\t\t"+kx.Pd.Za+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Vk(l,kx.PN.uG)};kx.lB[6].prototype=new kx.xL;kx.lB[6].prototype.o0=function(l,o){this.ra(["source","wght","prms"]);
var D=kx.Ig,H=this.fq,_=[o.E8,o.a1M,o.SV,o.atr,o.AD,o.a0o];D.uniform1fv(H.wght,new Float32Array(o.alv));
D.uniform1fv(H.prms,new Float32Array(_));this.Hb([H.source,l])};kx.lB[7]=function(){kx.xL.call(this);
this.bA={};var l="\t\t\tprecision mediump float;\t\t\t"+kx.Pd.aoU+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.Vk(l,kx.PN.uG)};kx.lB[7].prototype=new kx.xL;kx.lB[7].prototype.o0=function(l,o){this.ra(["source","lut","N"]);
var D=kx.Ig,H=this.fq,_=o.mW,u=o.L0;if(this.bA["m"+_]==null)this.bA["m"+_]=new kx.Q9(_,_*_);var S=this.bA["m"+_];
S.set(u);D.uniform1f(H.N,_);this.Hb([H.source,l,H.lut,S.mn]);D.activeTexture(D.TEXTURE1);var h=D.LINEAR;
D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,h);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,h);
D.activeTexture(D.TEXTURE0)};kx.filter={w0:{},uG:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",ak8:0,aa5:1,zQ:2,ak7:3,alC:4,apv:5,zY:6,a3M:7};
kx.filter.xd=function(l,o){var D=kx.filter,H,_=l.type+":"+(l.Bt?l.Bt.join(","):""),H=kx.filter.w0[_];
if(H==null)H=kx.filter.w0[_]=new kx.w0[l.type](l.Bt);H.Vi();H.o0(o,l);kx.Ig.drawArrays(kx.Ig.TRIANGLES,0,6)};
kx.w0=[0,0,0,0,0,0,0,0,0,0,0,0];kx.w0[7]=function(){kx.xL.call(this);var l="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.Vk(e2.nt(l),e2.nt(kx.filter.uG))};kx.w0[7].prototype=new kx.xL;kx.w0[7].prototype.o0=function(l,o){this.ra(["source","iwh","kern"]);
var D=kx.Ig,H=this.fq;D.uniform2fv(H.iwh,o.DW);D.uniform1fv(H.kern,o.a8x);this.Hb([H.source,l])};kx.w0[6]=function(l){kx.xL.call(this);
var o=l[0],D=l[1],H=l[2],_="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",u=e2.nt(_);
u=u.replaceAll("PRC",H+".0");u=u.replaceAll("DIR",["x,0","0,x"][D]);this.Vk(u,kx.PN.uG)};kx.w0[6].prototype=new kx.xL;
kx.w0[6].prototype.o0=function(l,o){this.ra(["source","iwh","rad"]);var D=kx.Ig,H=this.fq;D.uniform2fv(H.iwh,o.DW);
D.uniform1f(H.rad,o.$P);this.Hb([H.source,l])};kx.w0[4]=function(l){kx.xL.call(this);var o=l[0],D=l[1],H="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+l[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][D]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][o]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][D]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(D==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.Vk(H,kx.PN.uG)};kx.w0[4].prototype=new kx.xL;kx.w0[4].prototype.o0=function(l,o){this.ra(["source","iwh","rrad","tr"]);
var D=kx.Ig,H=this.fq;D.uniform2fv(H.iwh,o.DW);D.uniform1f(H.rrad,o.Yf);D.uniform1f(H.tr,o.ait);this.Hb([H.source,l]);
var _=D.LINEAR;_=D.NEAREST;D.activeTexture(D.TEXTURE0);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,_);
D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,_);D.activeTexture(D.TEXTURE0)};kx.w0[5]=function(){kx.xL.call(this);
var l="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.Vk(e2.nt(l),e2.nt(kx.filter.uG))};kx.w0[5].prototype=new kx.xL;kx.w0[5].prototype.o0=function(l,o){this.ra(["source","ssum","iwh","amnt","edgf"]);
var D=kx.Ig,H=this.fq;D.uniform2fv(H.iwh,o.DW);D.uniform1f(H.amnt,o.aru);D.uniform1f(H.edgf,o.ans);this.Hb([H.source,l,H.ssum,o.ah8])};
kx.w0[3]=function(){kx.xL.call(this);var l="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.Vk(e2.nt(l),e2.nt(kx.filter.uG))};kx.w0[3].prototype=new kx.xL;kx.w0[3].prototype.o0=function(l,o){this.ra("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var D=kx.Ig,H=this.fq;D.uniform2fv(H.iwh,o.DW);D.uniform1f(H.tdep,o.acH);D.uniform1f(H.rrad,o.Yf);D.uniform2fv(H.spec,o.aBw);
D.uniform3fv(H.nois,o.ahG);D.uniformMatrix4fv(H.poly0,!1,o.al5);D.uniformMatrix4fv(H.poly1,!1,o.a7W);
this.Hb([H.source,l]);var _=D.LINEAR;D.activeTexture(D.TEXTURE0);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,_);
D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,_);D.activeTexture(D.TEXTURE0)};kx.w0[0]=function(){kx.xL.call(this);
var l="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.Vk(e2.nt(l),e2.nt(kx.filter.uG))};kx.w0[0].prototype=new kx.xL;kx.w0[0].prototype.o0=function(l,o){this.ra(["source","iwh","ld","shine"]);
var D=kx.Ig,H=this.fq;D.uniform2fv(H.iwh,o.DW);D.uniform3fv(H.ld,o.ahy);D.uniform1f(H.shine,o.avi);this.Hb([H.source,l,H.tang,o.rj])};
kx.w0[1]=function(){kx.xL.call(this);var l="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.Vk(e2.nt(l),e2.nt(kx.filter.uG))};kx.w0[1].prototype=new kx.xL;kx.w0[1].prototype.o0=function(l,o){this.ra(["source","iwh","isc","bristle"]);
var D=kx.Ig,H=this.fq;D.uniform2fv(H.iwh,o.DW);D.uniform1f(H.isc,o.aD6);D.uniform1f(H.bristle,o.ay7);
this.Hb([H.source,l])};kx.w0[2]=function(){kx.xL.call(this);var l="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.Vk(e2.nt(l),e2.nt(kx.filter.uG))};kx.w0[2].prototype=new kx.xL;kx.w0[2].prototype.o0=function(l,o){this.ra(["source","tang","iwh","sigma","expo"]);
var D=kx.Ig,H=this.fq;D.uniform2fv(H.iwh,o.DW);D.uniform1f(H.sigma,o.a3N);D.uniform1f(H.expo,o.aoC);
this.Hb([H.source,l,H.tang,o.rj]);var _=D.LINEAR;D.activeTexture(D.TEXTURE0);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,_);
D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,_);D.activeTexture(D.TEXTURE0)};function g(){}g.g={};
g.aau={};g.ana=function(){var l=[64,64,128,256,512,1024,2048],o=[];for(var v=0;v<l.length;v++){var D=l[v],H=document.createElement("canvas");
H.width=D;H.height=D;o.push(H.getContext("2d",{willReadFrequently:!0}))}return o}();g.WG=function(l,o){var D,H=g.ana,v=1,_=Math.max(l,o);
while(v<H.length&&_>H[v].canvas.width)v++;if(v==H.length){D=H[0];var u=D.canvas;u.width=l;u.height=o}else{D=H[v];
D.clearRect(0,0,l,o)}return D};g.bs=function(l,o,D){var H=new Uint32Array(o*D);H[0]=l[0];for(var _=1;
_<o;_++)H[_]=H[_-1]+l[_];for(var u=1;u<D;u++){var v=u*o;H[v]=H[v-o]+l[v];for(var _=1;_<o;_++)H[v+_]=l[v+_]+H[v+_-1]+H[v+_-o]-H[v+_-o-1]}return H};
g.zv=function(l,o,D,H,_,u){var S=(_-1)*o,h=u*o;return l[h+H]-l[h+D-1]-l[S+H]+l[S+D-1]};g.q$=function(l,o,D){var H={},_=0,u=0,S=new Uint32Array(l.buffer),h=S.length,F=Date.now();
for(var n=1;n<D-1;n++)for(var R=1;R<o-1;R++){var s=n*o+R,Z=S[s];if(Z>>>24<230)u++;if(H[Z]==null){H[Z]=!0;
_++}}if(u!=0||_<20)return!1;return!0};g._x=function(l,o,D,H,_,u){if(_==null)_=u=0;H=Math.log(H)/Math.log(2);
H=Math.round(H);var S=new Uint32Array(l.buffer);for(var v=0;v<D;v++)for(var h=0;h<o;h++){S[v*o+h]=g.a73(v+u,h+_,H)}};
g.a18=function(v,l,o){return 255-((v>>>o)+(l>>>o)&1)*51};g.a73=function(v,l,o){return 4294967295-((v>>>o)+(l>>>o)&1)*3355443};
g.kJ=function(l,o){var D=o==null?1:o/255;return{$:(l>>>16&255)*D,H:(l>>>8&255)*D,J:(l&255)*D}};g.V$=function(l,o){var D=o==null?1:255/o;
return Math.round(l.$*D)<<16|Math.round(l.H*D)<<8|Math.round(l.J*D)};g.Bi=function(l){var o=l.toString(16);
while(o.length<6)o="0"+o;return o};g.aBn=function(l){return parseInt(l,16)};g.SV=function(l){return.3*l.$+.59*l.H+.11*l.J};
g.hs=function(l){return Math.max(l.$,l.H,l.J)-Math.min(l.$,l.H,l.J)};g.cn=function(l,o,D){return.3*l+.59*o+.11*D};
g.a8J=function(l,o,D){return Math.max(l,o,D)-Math.min(l,o,D)};g.Lz=function(l,o){var D=o-l,H=Math.abs(D),_=D-1,u=D+1;
if(Math.abs(_)<H)D=_;else if(Math.abs(u)<H)D=u;return D};g.Xf=function(l){return l<.0031308?12.92*l:1.055*Math.pow(l,1/2.4)-.055};
g.vH=function(l){return l<.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)};g.aaU=function(l,o){var D=Math.min(l.length,o.length);
for(var v=0;v<D;v+=4){var H=l[v],_=l[v+1],u=l[v+2];o[v]=16+Math.floor(65.481/255*H+128.553/255*_+24.966/255*u+.5);
o[v+1]=128-Math.floor(37.797/255*H-74.203/255*_+112/255*u+.5);o[v+2]=128+Math.floor(112/255*H-93.786/255*_-18.214/255*u+.5);
o[v+3]=l[v+3]}};g.a4L=function(l,o,D){var H,_,u,S=Math.max(l,o,D),h=Math.min(l,o,D);u=S;if(S!=0)_=(S-h)/S;
else _=0;if(_==0)H=0;else{var F=S-h,n=(S-l)/F,R=(S-o)/F,s=(S-D)/F;if(l==S)H=s-R;else if(o==S)H=2+n-s;
else H=4+R-n;H*=1/6;if(H<0)H=H+1}return{B9:H,lv:_,J:u}};g.ao4=function(l,o,D){var H=0,_=0,u=0;if(o==0)H=_=u=D;
else{var S=(l-Math.floor(l))*6,h=Math.floor(S),F=S-Math.floor(S),n=D*(1-o),R=D*(1-o*F),s=D*(1-o*(1-F));
switch(h){case 0:H=D;_=s;u=n;break;case 1:H=R;_=D;u=n;break;case 2:H=n;_=D;u=s;break;case 3:H=n;_=R;
u=D;break;case 4:H=s;_=n;u=D;break;case 5:H=D;_=n;u=R;break}}return{$:H,H:_,J:u}};g.RL=function(l,o,D){var H=Math.max(l,o,D),_=Math.min(l,o,D),u=0,S=0,h=(H+_)*.5;
if(H!=_){var F=H-_;S=h>.5?F/(2-(H+_)):F/(H+_);switch(H){case l:u=(o-D)/F+(o<D?6:0);break;case o:u=(D-l)/F+2;
break;case D:u=(l-o)/F+4;break}u*=1/6}return{B9:u,lv:S,Cx:h}};g.Za=function(l,o,D){var H,_,u;if(o==0)H=_=u=D;
else{var S=D<.5?D*(1+o):D+o-D*o,h=2*D-S;H=g.VN(h,S,l+1/3);_=g.VN(h,S,l);u=g.VN(h,S,l-1/3)}return{$:H,H:_,J:u}};
g.VN=function(l,o,D){if(D<0)D+=1;if(D>1)D-=1;if(D<1/6)return l+(o-l)*6*D;if(D<1/2)return o;if(D<2/3)return l+(o-l)*(2/3-D)*6;
return l};g.UM=function(l,o,D){var H=Math.max(l,o,D),_=Math.min(l,o,D),u,S,h=H,F=H-_;S=H==0?0:F/H;if(H==_)u=0;
else{switch(H){case l:u=(o-D)/F+(o<D?6:0);break;case o:u=(D-l)/F+2;break;case D:u=(l-o)/F+4;break}u*=1/6}return{B9:u,lv:S,zh:h}};
g.cO=function(l,o,D){var H,_,u,v,S,h,F,n;v=Math.floor(l*6);S=l*6-v;h=D*(1-o);F=D*(1-S*o);n=D*(1-(1-S)*o);
switch(v%6){case 0:H=D,_=n,u=h;break;case 1:H=F,_=D,u=h;break;case 2:H=h,_=D,u=n;break;case 3:H=h,_=F,u=D;
break;case 4:H=n,_=h,u=D;break;case 5:H=D,_=h,u=F;break}return{$:H,H:_,J:u}};g.dN=function(){var l=[],o=[];
for(var v=0;v<8e3;v++){var D=v*(1/4e3);l[v]=g.vH(D);o[v]=D>.008856?Math.pow(D,1/3):(903.3*D+16)*(1/116)}return[l,o]}();
g.nU=function(l,o,D,H){if(H==null)H=[.9642,1,.8249];var _=g.dN[0],u=g.dN[1];l=_[~~(.5+l*(4e3/255))];
o=_[~~(.5+o*(4e3/255))];D=_[~~(.5+D*(4e3/255))];var S=g.JX.a1Q,h=S[0]*l+S[1]*o+S[2]*D,F=S[4]*l+S[5]*o+S[6]*D,n=S[8]*l+S[9]*o+S[10]*D;
h=h*(1/H[0]);F=F*(1/H[1]);n=n*(1/H[2]);return g.aCV(h,F,n)};g.aCV=function(l,o,D){var H=g.dN[1],_=H[~~(.5+l*4e3)],u=H[~~(.5+o*4e3)],S=H[~~(.5+D*4e3)];
return{Ct:116*u-16,M:500*(_-u),J:200*(u-S)}};g.Wn=function(l,o,D){var H=903.3,_=.008856,u=(l+16)/116,S=u*u*u,h=u-D/200,F=h*h*h,n=o/500+u,R=n*n*n,s=F>_?F:(116*h-16)/H,Z=S>_?S:(116*u-16)/H,O=R>_?R:(116*n-16)/H,w=O*96.42,m=Z*100,V=s*82.49,q=g.JX.GS(g.JX.sq,[w/100,m/100,V/100,0]);
for(var v=0;v<4;v++)q[v]=Math.max(0,Math.min(255,g.Xf(q[v])*255));return{$:q[0],H:q[1],J:q[2]}};g.ay0=function(l,o,D,H,_){var u=l.Ct,S=l.M,h=l.J,F=(u<o.Ct?o.Ct-u:D.Ct<u?D.Ct-u:0)*(1/100),n=(S<o.M?o.M-S:D.M<S?D.M-S:0)*(1/116),R=(h<o.J?o.J-h:D.J<h?D.J-h:0)*(1/116),s=Math.sqrt(F*F+n*n+R*R)*1.35;
return s<=H?Math.min(1,1.17*(1-s*_)):0};g.IG=function(l){var o=g.jZ("cmykToRgb"),D=o[2],H=o[3],_=[0,0,0,0];
ICC.U.applyLUT4Float(H,D,l,_);return _};g.abG=function(){var l=function(kC){return Math.round(kC*255)},o="",D=3;
for(var v=0;v<tab.length;v++){var H=l(tab[v]);if(D<=v)H=H-l(tab[v-D])+256&255;o+=H.toString(16).padStart(2,"0")}return o};
g.jZ=function(l){var o=LUTS["_"+l];if(o==null){var D=LUTS[l],H=D[0],kC=D[1],_=D[2],u=D[3],S=[];for(var v=0;
v<u.length;v+=2)S.push(parseInt(u.slice(v,v+2),16));for(var v=kC;v<S.length;v++)S[v]=S[v]+S[v-kC]&255;
for(var v=0;v<S.length;v++)S[v]*=1/255;o=LUTS["_"+l]=[H,kC,_,S]}return o};g.xY=function(l){var o=g.jZ("rgbToCmyk"),D=o[2],H=o[3],_=[0,0,0,0];
ICC.U.applyLUT3to4Float(H,D,l,_);return _};g.aq_=function(l){for(var v=0;v<l.length;v+=4){var o=[l[v+0]*(1/255),l[v+1]*(1/255),l[v+2]*(1/255)],D=g.xY(o);
l[v+0]=255-Math.floor(.5+D[0]*255);l[v+1]=255-Math.floor(.5+D[1]*255);l[v+2]=255-Math.floor(.5+D[2]*255);
l[v+3]=255-Math.floor(.5+D[3]*255)}};g.Hx=function(l,o,D){var H=l.length,_=.3,u=.59,S=.11;if(D){_=D[0];
u=D[1];S=D[2]}for(var v=0;v<H;v+=4)o[v>>2]=~~(l[v+0]*_+l[v+1]*u+l[v+2]*S+.5)};g.rT=function(l,o){var D=o.length;
for(var v=0;v<D;v+=4){var H=l[v>>>2];o[v]=H;o[v+1]=H;o[v+2]=H}};g.xQ=function(l,o){var D=l.M,H=l.$,_=l.H,u=l.J,S=Math.min(l.M.length,o.buffer.byteLength>>>2),h=4*Math.floor(S/4),F=new Uint32Array(o.buffer),n=new Uint32Array(D.buffer),R=new Uint32Array(H.buffer),s=new Uint32Array(_.buffer),Z=new Uint32Array(u.buffer);
for(var v=0;v<h;v+=4){var O=n[v>>2],w=Z[v>>2],m=s[v>>2],V=R[v>>2];F[v]=O<<24|(w&255)<<16|(m&255)<<8|V&255;
F[v+1]=(O&65280)<<16|(w&65280)<<8|m&65280|(V&65280)>>>8;F[v+2]=(O&16711680)<<8|w&16711680|(m&16711680)>>>8|(V&16711680)>>>16;
F[v+3]=O&4278190080|(w&4278190080)>>>8|(m&4278190080)>>>16|(V&4278190080)>>>24}for(var v=h;v<S;v++)F[v]=D[v]<<24|u[v]<<16|_[v]<<8|H[v]};
g.gV=function(l,o){var D=o.M,H=o.$,_=o.H,u=o.J,S=Math.min(o.M.length,l.buffer.byteLength>>>2),h=4*Math.floor(S/4),F=new Uint32Array(l.buffer),n=new Uint32Array(D.buffer),R=new Uint32Array(H.buffer),s=new Uint32Array(_.buffer),Z=new Uint32Array(u.buffer);
for(var v=0;v<h;v+=4){var O=F[v],w=F[v+1],m=F[v+2],V=F[v+3];R[v>>2]=O&255|(w&255)<<8|(m&255)<<16|V<<24;
s[v>>2]=(O&65280)>>8|w&65280|(m&65280)<<8|(V&65280)<<16;Z[v>>2]=(O&16711680)>>16|(w&16711680)>>8|m&16711680|(V&16711680)<<8;
n[v>>2]=O>>>24|w>>>24<<8|m>>>24<<16|V&4278190080}for(var v=h;v<S;v++){var q=F[v];H[v]=q>>0&255;_[v]=q>>8&255;
u[v]=q>>16&255;D[v]=q>>24&255}};g.mA=function(l,o,D){var H=new Uint8Array(l.buffer),_=Math.min(H.length/4,o.length);
for(var v=0;v<_;v++){o[v]=H[(v<<2)+D]}};g.Kl=function(l,o,D){var H=new Uint8Array(o.buffer),_=new Uint32Array(l.buffer),u=Math.min(H.length/4,l.length),v=0;
while(v+4<u){var S=_[v>>>2];H[(v<<2)+D]=S&255;H[(v<<2)+D+4]=S>>>8&255;H[(v<<2)+D+8]=S>>>16&255;H[(v<<2)+D+12]=S>>>24;
v+=4}while(v<u){H[(v<<2)+D]=l[v];v++}};g.M5=function(l,o,D){if(D==null)D=0;var H=new Uint32Array(l.buffer),_=H.length;
for(var v=0;v<_;v++)H[v]=H[v]&D|o};g.arx=function(l,o,D,H,_){if(_==null)_=0;var u=new Uint32Array(l.buffer);
D=D.$o(o);var S=D.x-o.x,h=D.y-o.y,F=D.Q,n=D._,R=o.Q;for(var s=0;s<n;s++){var v=(h+s)*R+S;for(var Z=0;
Z<F;Z++){u[v]=u[v]&_|H;v++}}};g.Tg=function(l,o){var D=Math.min(l.buffer.byteLength,o.buffer.byteLength),H=D>>>2,l=new Uint32Array(l.buffer,0,H),o=new Uint32Array(o.buffer,0,H);
o.set(l)};g.kn=function(l,o){var D=l.buffer.byteLength,H=o.buffer.byteLength,_=new Uint32Array(l.buffer,0,D>>2),u=new Uint32Array(o.buffer,0,H>>2);
if(D!=H)return!1;var S=_.length;for(var v=0;v<S;v++)if(u[v]!=_[v])return!1;return!0};g.L5=function(l){var o=new Uint32Array(l.buffer),D=o.length;
for(var v=0;v<D;v++)o[v]=~o[v]};g.ac8=function(l){var o=l.length;for(var v=0;v<o;v+=4){l[v]=~l[v];l[v+1]=~l[v+1];
l[v+2]=~l[v+2]}};g.aqC=function(l){var o=l.length;for(var v=3;v<o;v+=4)l[v]=~l[v]};g.a9C=function(l){return l+(l%4==0?0:4-l%4)};
g.o=function(l,o){if(o==null)o=!1;if(!o)l=g.a9C(l);try{var D=new Uint8Array(l)}catch(ey){alert("Not enough RAM! (need "+Math.round(l/(1<<20))+" MB)",7e3);
throw"low_ram"}return D};g.ai3=function(l,o,D,H){if(H==null)H=0;var _=0;while(_+3<l.length&&l[_+3].c()>=H&&o.jX()*(1<<(_>>>1))<D)_+=2;
var u=l[1],S=l[_+1],h=new de;h.translate(-u.x,-u.y);h.scale(u.Q/S.Q,u._/S._);h.translate(u.x,u.y);h.concat(o);
return[_,h]};g.Na=function(l){var o=l.length,D=l[o-2],H=l[o-1];while(H.Q>=2&&H._>=2){var _=g.hl(D,H);
l.push(_.G5,_.rect);D=_.G5;H=_.rect}};g.mk=function(l){var o=l.length,D=l[o-2],H=l[o-1];while(H.Q>=2&&H._>=2){var _=g.xR(D,H);
l.push(_.G5,_.rect);D=_.G5;H=_.rect}};g.hl=function(l,o,D){var H=o.Q,_=o._,u=H>>1,S=_>>1,h=new gt(o.x,o.y,u,S),F=D&&D.length==u*S*4?D:g.o(u*S*4),n=new Uint32Array(l.buffer),R=new Uint32Array(F.buffer);
for(var s=0;s<S;s++)for(var Z=0;Z<u;Z++){var O=s*u+Z,w=(s<<1)*H+(Z<<1),m=n[w],V=n[w+1],q=n[w+H],i=n[w+H+1],c=m>>>24,z=V>>>24,B=q>>>24,t=i>>>24,a=c+z+B+t;
if(a==1020){var I=(m>>>0&255)+(V>>>0&255)+(q>>>0&255)+(i>>>0&255)+2>>>2,N=(m>>>8&255)+(V>>>8&255)+(q>>>8&255)+(i>>>8&255)+2>>>2,J=(m>>>16&255)+(V>>>16&255)+(q>>>16&255)+(i>>>16&255)+2>>>2;
R[O]=255<<24|J<<16|N<<8|I}else if(a==0)R[O]=0;else{var I=(m>>>0&255)*c+(V>>>0&255)*z+(q>>>0&255)*B+(i>>>0&255)*t,N=(m>>>8&255)*c+(V>>>8&255)*z+(q>>>8&255)*B+(i>>>8&255)*t,J=(m>>>16&255)*c+(V>>>16&255)*z+(q>>>16&255)*B+(i>>>16&255)*t,Q=1/a;
I=~~(I*Q+.5);N=~~(N*Q+.5);J=~~(J*Q+.5);R[O]=a+2>>>2<<24|J<<16|N<<8|I}}return{rect:h,G5:F}};g.agA=function(l,o,D){var H=o.Q,_=o._,u=H>>1,S=_>>1,h=new gt(o.x,o.y,u,S),F=D&&D.length==u*S*4?D:g.o(u*S*4),n=new Uint32Array(l.buffer),R=new Uint32Array(F.buffer);
for(var s=0;s<S;s++)for(var Z=0;Z<u;Z++){var O=s*u+Z,w=(s<<1)*H+(Z<<1),m=n[w],V=n[w+1],q=n[w+H],i=n[w+H+1],c=2+(m>>>0&255)+(V>>>0&255)+(q>>>0&255)+(i>>>0&255)>>>2,z=2+(m>>>8&255)+(V>>>8&255)+(q>>>8&255)+(i>>>8&255)>>>2,B=2+(m>>>16&255)+(V>>>16&255)+(q>>>16&255)+(i>>>16&255)>>>2,t=2+(m>>>24&255)+(V>>>24&255)+(q>>>24&255)+(i>>>24&255)>>>2;
R[O]=t<<24|B<<16|z<<8|c}return{rect:h,G5:F}};g.a0k=function(l,o,D){var H=o.Q,_=o._,u=2*Math.floor(H/3),S=2*Math.floor(_/3),h=new gt(o.x,o.y,u,S),F=D&&D.length==u*S*4?D:g.o(u*S*4),n=new Uint32Array(l.buffer),R=new Uint32Array(F.buffer);
for(var s=0;s<S;s+=2)for(var Z=0;Z<u;Z+=2){var O=s*u+Z,w=(s*3>>>1)*H+(Z*3>>>1),m=n[w],V=n[w+1],q=n[w+2],i=n[w+H],c=n[w+1+H],z=n[w+2+H],B=n[w+H+H],t=n[w+1+H+H],a=n[w+2+H+H],I=m>>>24<<2,N=(m>>>16&255)*I,J=(m>>>8&255)*I,Q=(m&255)*I,A=V>>>24<<1,f=(V>>>16&255)*A,W=(V>>>8&255)*A,C=(V&255)*A,j=q>>>24<<2,K=(q>>>16&255)*j,$=(q>>>8&255)*j,r=(q&255)*j,U=i>>>24<<1,b=(i>>>16&255)*U,e=(i>>>8&255)*U,P=(i&255)*U,L=c>>>24,Y=(c>>>16&255)*L,X=(c>>>8&255)*L,G=(c&255)*L,E=z>>>24<<1,T=(z>>>16&255)*E,y=(z>>>8&255)*E,d4=(z&255)*E,dH=B>>>24<<2,eV=(B>>>16&255)*dH,bf=(B>>>8&255)*dH,jd=(B&255)*dH,i5=t>>>24<<1,fD=(t>>>16&255)*i5,eo=(t>>>8&255)*i5,iX=(t&255)*i5,cK=a>>>24<<2,g0=(a>>>16&255)*cK,bW=(a>>>8&255)*cK,hF=(a&255)*cK,aJ=I+A+U+L,iR=j+A+E+L,ex=dH+i5+U+L,dX=cK+i5+E+L,iZ=aJ==0?0:1/aJ,j3=iR==0?0:1/iR,by=ex==0?0:1/ex,i9=dX==0?0:1/dX,dm=0,kh=0,jK=0,bd=0;
dm=~~(.5+(Q+C+P+G)*iZ);kh=~~(.5+(J+W+e+X)*iZ);jK=~~(.5+(N+f+b+Y)*iZ);bd=~~(.5+aJ*(1/9));R[O]=bd<<24|jK<<16|kh<<8|dm;
dm=~~(.5+(r+C+d4+G)*j3);kh=~~(.5+($+W+y+X)*j3);jK=~~(.5+(K+f+T+Y)*j3);bd=~~(.5+iR*(1/9));R[O+1]=bd<<24|jK<<16|kh<<8|dm;
dm=~~(.5+(jd+iX+P+G)*by);kh=~~(.5+(bf+eo+e+X)*by);jK=~~(.5+(eV+fD+b+Y)*by);bd=~~(.5+ex*(1/9));R[O+u]=bd<<24|jK<<16|kh<<8|dm;
dm=~~(.5+(hF+iX+d4+G)*i9);kh=~~(.5+(bW+eo+y+X)*i9);jK=~~(.5+(g0+fD+T+Y)*i9);bd=~~(.5+dX*(1/9));R[O+u+1]=bd<<24|jK<<16|kh<<8|dm}return{rect:h,G5:F}};
g.arD=function(l,o,D){var H=o.Q,_=o._,u=2*Math.floor(H/3),S=2*Math.floor(_/3),h=new gt(o.x,o.y,u,S),F=D&&D.length==u*S*4?D:g.o(u*S*4),n=new Uint32Array(l.buffer),R=new Uint32Array(F.buffer);
for(var s=0;s<S;s+=2)for(var Z=0;Z<u;Z+=2){var O=s*u+Z,w=(s*3>>>1)*H+(Z*3>>>1),m=n[w],V=n[w+1],q=n[w+2],i=n[w+H],c=n[w+1+H],z=n[w+2+H],B=n[w+H+H],t=n[w+1+H+H],a=n[w+2+H+H],I=(m>>>16&255)<<2,N=(m>>>8&255)<<2,J=(m&255)<<2,Q=(V>>>16&255)<<1,A=(V>>>8&255)<<1,f=(V&255)<<1,W=(q>>>16&255)<<2,C=(q>>>8&255)<<2,j=(q&255)<<2,K=(i>>>16&255)<<1,$=(i>>>8&255)<<1,r=(i&255)<<1,U=c>>>16&255,b=c>>>8&255,e=c&255,P=(z>>>16&255)<<1,L=(z>>>8&255)<<1,Y=(z&255)<<1,X=(B>>>16&255)<<2,G=(B>>>8&255)<<2,E=(B&255)<<2,T=(t>>>16&255)<<1,y=(t>>>8&255)<<1,d4=(t&255)<<1,dH=(a>>>16&255)<<2,eV=(a>>>8&255)<<2,bf=(a&255)<<2,jd=0,i5=0,fD=0;
jd=~~(.5+(J+f+r+e)*(1/9));i5=~~(.5+(N+A+$+b)*(1/9));fD=~~(.5+(I+Q+K+U)*(1/9));R[O]=255<<24|fD<<16|i5<<8|jd;
jd=~~(.5+(j+f+Y+e)*(1/9));i5=~~(.5+(C+A+L+b)*(1/9));fD=~~(.5+(W+Q+P+U)*(1/9));R[O+1]=255<<24|fD<<16|i5<<8|jd;
jd=~~(.5+(E+d4+r+e)*(1/9));i5=~~(.5+(G+y+$+b)*(1/9));fD=~~(.5+(X+T+K+U)*(1/9));R[O+u]=255<<24|fD<<16|i5<<8|jd;
jd=~~(.5+(bf+d4+Y+e)*(1/9));i5=~~(.5+(eV+y+L+b)*(1/9));fD=~~(.5+(dH+T+P+U)*(1/9));R[O+u+1]=255<<24|fD<<16|i5<<8|jd}return{rect:h,G5:F}};
g.pz=function(l){var o=255,D=l.length;D-=D&31;for(var v=3;v<D;v+=32)o=o&l[v]&l[v+4]&l[v+8]&l[v+12]&l[v+16]&l[v+20]&l[v+24]&l[v+28];
return o!=255};g.RC=function(l,o,D,H){var _=g.hl,u=g.a0k;if(!g.pz(l)){_=g.agA;u=g.arD}var S={G5:l,rect:o},h=g.LU(D);
for(var v=0;v<h.length;v++){if(h[v]==2)S=_(S.G5,S.rect,H);else S=u(S.G5,S.rect,H)}return S};g.a0b=function(l,o,D,H){var _=g.xR,u=g.auZ,S={G5:l,rect:o},h=g.LU(D);
for(var v=0;v<h.length;v++){if(h[v]==2)S=_(S.G5,S.rect,H);else S=u(S.G5,S.rect,H)}return S};g.LU=function(l){var o=[],D=l;
while(D<.499){o.push(2);D*=2}o.push(D<.5001?2:3);return o};g.xR=function(l,o,D){var H=o.Q,_=o._,u=H>>1,S=_>>1,h=new gt(o.x,o.y,u,S);
if(l==null)return{rect:h};var F=D&&D.length>=u*S?D:g.o(u*S);for(var n=0;n<S;n++){var R=n*u;for(var s=0;
s<u;s++){var Z=(n<<1)*H+(s<<1);F[R+s]=2+l[Z]+l[Z+1]+l[Z+H]+l[Z+H+1]>>>2}}return{rect:h,G5:F}};g.auZ=function(l,o,D){var H=o.Q,_=o._,u=2*Math.floor(H/3),S=2*Math.floor(_/3),h=new gt(o.x,o.y,u,S);
if(l==null)return{rect:h};var F=D&&D.length>=u*S?D:g.o(u*S);for(var n=0;n<S;n+=2)for(var R=0;R<u;R+=2){var s=n*u+R,Z=(n*3>>>1)*H+(R*3>>>1),O=l[Z]<<2,w=l[Z+1]<<1,m=l[Z+2]<<2,V=l[Z+H]<<1,q=l[Z+1+H],i=l[Z+2+H]<<1,c=l[Z+H+H]<<2,z=l[Z+1+H+H]<<1,B=l[Z+2+H+H]<<2;
F[s]=~~(.5+(O+w+V+q)*(1/9));F[s+1]=~~(.5+(m+w+i+q)*(1/9));F[s+u]=~~(.5+(c+z+V+q)*(1/9));F[s+u+1]=~~(.5+(B+z+i+q)*(1/9))}return{rect:h,G5:F}};
g.a7V=function(l,o,D,H,_){var u=o.$o(H);if(_)u=u.$o(_);var S=Math.max(0,u.x-o.x),h=Math.max(0,u.x-H.x),F=Math.max(0,u.y-o.y),n=Math.max(0,u.y-H.y),R=u.Q,s=u._;
for(var v=0;v<s;v++){var Z=(F+v)*o.Q+S,O=(n+v)*H.Q+h;for(var w=0;w<R;w++){D[O+w]=Math.max(D[O+w],l[Z+w])}}};
g.mB=function(l,o,D,H,_){var u=o.$o(H);if(_)u=u.$o(_);var S=Math.max(0,u.x-o.x),h=Math.max(0,u.x-H.x),F=Math.max(0,u.y-o.y),n=Math.max(0,u.y-H.y),R=u.Q,s=u._;
for(var v=0;v<s;v++){var Z=(F+v)*o.Q+S,O=(n+v)*H.Q+h;D.set(new Uint8Array(l.buffer,Z,R),O)}};g.axk=function(l,o,D,H){if(o.kn(H)){g.Kl(l,D,3);
return}var _=o.$o(H),u=Math.max(0,_.x-o.x),S=Math.max(0,_.x-H.x),h=Math.max(0,_.y-o.y),F=Math.max(0,_.y-H.y),n=_.Q,R=_._;
for(var v=0;v<R;v++){var s=(h+v)*o.Q+u,Z=(F+v)*H.Q+S;for(var O=0;O<n;O++)D[(Z+O<<2)+3]=l[s+O]}};g.ej=function(l,o,D,H){var _=o.$o(H),u=Math.max(0,_.x-o.x),S=Math.max(0,_.x-H.x),h=Math.max(0,_.y-o.y),F=Math.max(0,_.y-H.y),n=_.Q,R=_._;
for(var v=0;v<R;v++){var s=(h+v)*o.Q+u,Z=(F+v)*H.Q+S;for(var O=0;O<n;O++)D[Z+O]=l[(s+O<<2)+3]}};g.Qo=function(l,o,D,H,_){if(o.kn(H)&&(_==null||_.kn(H))){g.Tg(l,D);
return}l=new Uint32Array(l.buffer),D=new Uint32Array(D.buffer);var u=o.$o(H);if(_)u=u.$o(_);var S=Math.max(0,u.x-o.x),h=Math.max(0,u.x-H.x),F=Math.max(0,u.y-o.y),n=Math.max(0,u.y-H.y),R=u.Q,s=u._,Z=R&3,O=Z==0?R:R-Z;
for(var v=0;v<s;v++){var w=(F+v)*o.Q+S,m=(n+v)*H.Q+h;D.set(new Uint32Array(l.buffer,w*4,R),m)}};g.Lv=function(l,o,D,H){var _=o.$o(H),u=Math.max(0,_.x-o.x),S=Math.max(0,_.x-H.x),h=Math.max(0,_.y-o.y),F=Math.max(0,_.y-H.y),n=_.Q,R=_._,s=l.M,Z=l.$,O=l.H,w=l.J,m=D.M,V=D.$,q=D.H,i=D.J;
for(var v=0;v<R;v++){var c=(h+v)*o.Q+u,z=(F+v)*H.Q+S;for(var B=0;B<n;B++){m[z+B]=s[c+B];V[z+B]=Z[c+B];
q[z+B]=O[c+B];i[z+B]=w[c+B]}}};g.IQ=function(l){var o=l.length;for(var v=0;v<o;v+=4){var D=l[v+3];if(D==255)continue;
l[v]=~~(l[v]*D*(1/255)+.5);l[v+1]=~~(l[v+1]*D*(1/255)+.5);l[v+2]=~~(l[v+2]*D*(1/255)+.5)}};g.PU=function(l){var o=l.length;
for(var v=0;v<o;v+=4){var D=l[v+3];if(D==0||D==255)continue;var H=255/D;l[v]=~~(l[v]*H+.5);l[v+1]=~~(l[v+1]*H+.5);
l[v+2]=~~(l[v+2]*H+.5)}};g.$p=function(l,o){for(var v=0;v<l.length;v++)if(l[v]!=o)return!1;return!0};
g.UL=function(l){return l+1+(l>>>8)>>>8};g.round=function(l,o){if(o==null)o=128;var D=l.length;for(var v=0;
v<D;v++)l[v]=l[v]<o?0:255};g.jd=function(l,o){var D=l.length;for(var v=0;v<D;v++)l[v]=Math.round(l[v]*o)};
g.zV=function(l,o){var D=new Uint32Array(l.buffer),H=new Uint32Array(o.buffer),_=D.length;for(var v=0;
v<_;v++){var u=D[v],S=H[v];H[v]=g.UL((u>>>24)*(S>>>24))<<24|g.UL((u>>>16&255)*(S>>>16&255))<<16|g.UL((u>>>8&255)*(S>>>8&255))<<8|g.UL((u&255)*(S&255))}};
g.NY=function(l,o){var D=l.length;for(var v=0;v<D;v++)o[(v<<2)+3]=g.UL(o[(v<<2)+3]*l[v])};g.ajn=function(l,o,D,H){var _=Math.max(0,H.x-o.x),u=Math.max(0,o.x-H.x),S=Math.max(0,H.y-o.y),h=Math.max(0,o.y-H.y),F=Math.min(o.x+o.Q,H.x+H.Q)-Math.max(o.x,H.x),n=Math.min(o.y+o._,H.y+H._)-Math.max(o.y,H.y);
for(var v=0;v<n;v++){var R=(S+v)*o.Q+_,s=(h+v)*H.Q+u;for(var Z=0;Z<F;Z++){D[s]=g.UL(D[s]*l[R]);R++;s++}}};
g._c=function(l,o,D,H){var _=Math.max(0,H.x-o.x),u=Math.max(0,o.x-H.x),S=Math.max(0,H.y-o.y),h=Math.max(0,o.y-H.y),F=Math.min(o.x+o.Q,H.x+H.Q)-Math.max(o.x,H.x),n=Math.min(o.y+o._,H.y+H._)-Math.max(o.y,H.y);
for(var v=0;v<n;v++){var R=(S+v)*o.Q+_,s=((h+v)*H.Q+u<<2)+3;for(var Z=0;Z<F;Z++){D[s]=g.UL(D[s]*l[R]);
R++;s+=4}}};g.yD=function(l,o,D,H){var _=Math.max(0,H.x-o.x),u=Math.max(0,o.x-H.x),S=Math.max(0,H.y-o.y),h=Math.max(0,o.y-H.y),F=Math.min(o.x+o.Q,H.x+H.Q)-Math.max(o.x,H.x),n=Math.min(o.y+o._,H.y+H._)-Math.max(o.y,H.y);
for(var v=0;v<n;v++){var R=((S+v)*o.Q+_<<2)+3,s=((h+v)*H.Q+u<<2)+3;for(var Z=0;Z<F;Z++){D[s]=g.UL(D[s]*l[R]);
R+=4;s+=4}}};g.Pn=function(l,o){if(o==null)o=1;var D=4*o,H=l.length>>>2,_=new Float64Array(256),u=new Float64Array(256),S=new Float64Array(256),h=new Float64Array(256),F=4*Math.floor(H/o)*o,n=0;
for(var v=0;v<F;v+=D){var R=l[v+0],s=l[v+1],Z=l[v+2],O=l[v+3]*o,w=O*(1/255);u[R]+=w;S[s]+=w;h[Z]+=w;
n+=O}for(var v=0;v<256;v++)_[v]=u[v]+S[v]+h[v];return[_,u,S,h,H,n/255]};g.a66=function(l,o){function D(t,a){var I=-1,N=0;
while(N<=a){I++;N+=t[I]}return I}function H(t,a){var I=256,N=0;while(N<=a){I--;N+=t[I]}return I}function _(t){var a=0,I=0;
for(var v=0;v<256;v++){I+=t[v];a+=t[v]*v*(1/255)}return a/I}var u=l[0],S=l[1]/100,h=l[2]/100,F=[],n=[];
for(var v=0;v<4;v++){var R=v==0?3:1;F[v]=D(o[v],R*S*o[5]);n[v]=H(o[v],R*h*o[5])}var s=[_(o[1]),_(o[2]),_(o[3])],Z=s.slice(0);
Z.sort(function(t,a){return t-a});var O=s.indexOf(Z[1]),w=(s[0]+s[1]+s[2])/3,m=[];for(var v=0;v<4;v++){var V=0,q=255,i=F[v],c=n[v];
if(u==0&&v==0){V=i;q=c}if(u==1&&v!=0){V=i;q=c}if(u==2&&v!=0){var R=s[v-1]/w;q=Math.max(0,Math.min(255,n[O]*R))}var z=[V,q];
m.push(z);if(u==3&&v==0){var B=255*(1-w);z.push(B)}}return m};g.avt=function(l,o){var D=new Uint32Array(l.buffer),H=D.length;
for(var v=0;v<H;v++){var _=D[v],u=_&255,S=_>>8&255,h=_>>16&255,F=_>>24&255;D[v]=o[u]|o[S]<<8|o[h]<<16|o[F]<<24}};
g.a9A=function(l,o,D,H,_,u,S){var h=new Uint32Array(l.buffer),F=new Uint32Array(o.buffer),n=h.length,R=0;
while(256<<R<D.length)R++;if(!S&&!u){for(var v=0;v!=n;v++){var s=h[v],Z=(s&255)<<R,O=(s>>>8&255)<<R,w=(s>>>16&255)<<R,m=D[Z],V=H[O],q=_[w];
F[v]=m|V<<8|q<<16|s&4278190080}return}for(var v=0;v<n;v++){var s=h[v],Z=(s&255)<<R,O=(s>>>8&255)<<R,w=(s>>>16&255)<<R;
if(u)Z=O=w=Math.round(Z*.3+O*.59+w*.11);var m=D[Z],V=H[O],q=_[w];if(S){var i=g.cn(Z,O,w),c=g.cn(m,V,q);
if(i>c){var z=(i-c)/(255-c);m+=z*(255-m);V+=z*(255-V);q+=z*(255-q)}else if(c==0)m=V=q=0;else{var z=i/c;
m=z*m;V=z*V;q=z*q}}F[v]=m|V<<8|q<<16|s&4278190080}};g.uA=function(l,o){var D=o.Q,H=o._,top=0,_=0,u=0,S=0,h=0;
h=0;for(var F=0;F<H;F++){var n=F*D;for(var v=0;v<D;v++)h|=l[n+v];if(h!=0)break;top++}if(top==H)return new gt(0,0,0,0);
h=0;for(var F=H-1;F>=0;F--){var n=F*D;for(var v=0;v<D;v++)h|=l[n+v];if(h!=0)break;u++}var R=H-u;h=0;
for(var v=0;v<D;v++){for(var F=top;F<R;F++)h|=l[F*D+v];if(h!=0)break;_++}h=0;for(var v=D-1;v>=0;v--){for(var F=top;
F<R;F++)h|=l[F*D+v];if(h!=0)break;S++}var s=new gt(o.x+_,o.y+top,D-_-S,H-top-u);return s};g.fP=function(l,o,D,H,_){if(H==null)H=[!0,!0,!0,!0];
if(D==null)D=0;if(_==null)_=4294967295;var u=new Uint32Array(l.buffer),S=o.Q,h=o._,top=0,F=0,n=0,R=0,s=!1,Z=[u[0],u[u.length-1],0][D];
s=!1;if(H[0])for(var O=0;O<h;O++){var w=O*S;for(var v=0;v<S;v++)if(u[w+v]&_^Z)s=!0;if(s)break;top++}s=!1;
if(H[2])for(var O=h-1;O>=0;O--){var w=O*S;for(var v=0;v<S;v++)if(u[w+v]&_^Z)s=!0;if(s)break;n++}s=!1;
if(H[1])for(var v=0;v<S;v++){for(var O=0;O<h;O++)if(u[O*S+v]&_^Z)s=!0;if(s)break;F++}s=!1;if(H[3])for(var v=S-1;
v>=0;v--){for(var O=0;O<h;O++)if(u[O*S+v]&_^Z)s=!0;if(s)break;R++}var m=new gt(o.x+F,o.y+top,S-F-R,h-top-n);
return m.lh()?new gt(0,0,0,0):m};g.Hf=function(l){var o=g.uA(l.channel,l.rect);if(o.kn(l.rect))return;
var D=g.o(o.c());g.mB(l.channel,l.rect,D,o);l.channel=D;l.rect=o};g.yl=function(l){var o=g.fP(l.buffer,l.rect,2,null,4278190080);
if(o.kn(l.rect))return;var D=new g.o(o.c()*4);g.Qo(l.buffer,l.rect,D,o);l.buffer=D;l.rect=o};g.extend=function(l,o,D){if(l.rect.u4(o))return;
var H=l.rect.tB(o),_=g.o(H.c());if(D!=null)_.fill(D);g.mB(l.channel,l.rect,_,H);l.rect=H;l.channel=_};
g.a1e=function(l,o){if(o.lh()||l.rect.u4(o))return;var D=l.rect.tB(o),H=g.o(D.c()*4);g.Qo(l.buffer,l.rect,H,D);
l.rect=D;l.buffer=H};g.Id=function(l,o,D){if(!D.j0(l))return!1;var H=Math.floor(l.x)-D.x,_=Math.floor(l.y)-D.y,v=_*D.Q+H;
return o[v]>128};g.agC=function(l,o,D){if(!D.j0(l))return!1;var H=Math.floor(l.x)-D.x,_=Math.floor(l.y)-D.y,v=_*D.Q+H;
return o[4*v+3]>128};g.QV=function(l){if(g.EH.length<l){g.EH=g.o(l);g.EH.fill(255)}return g.EH};g.EH=g.o(0);
g.c9=function(l){if(g.VX.length<l)g.VX=g.o(l);return g.VX};g.VX=g.o(0);g.Q9=function(l){this.M=g.o(l);
this.$=g.o(l);this.H=g.o(l);this.J=g.o(l)};g.Q9.prototype.clone=function(){var l=this.M.length,o=new g.Q9(1);
o.M=this.M.slice(0);o.$=this.$.slice(0);o.H=this.H.slice(0);o.J=this.J.slice(0);return o};g.g.afl=function(l,o,D,H,_){var u=_[0]+1,S=_[1],h=Math.abs(S-25)/4,F=_[2],n=F%2+F*F>>1,R=g.g.p;
R.Vk(o,D);var s=R.MG(1),Z=R.MG(1),O=R.MG(1);R.gu(l,H,F,F,n);R.Kn(H);R.jG(H,s);R.Yj(s,Z,u,u,1);R.Yj(s,O,u,u,u*u);
R.sub(O,Z);R.zV(Z,h);(S<25?R.sub:R.add)(s,Z);R.g1(Z,H);R._g(H)};g.g.a55=function(l,o,D,H,_){var u=g.g.p;
u.Vk(o,D);var S=_[0]*2.55,h=_[1],F=h>>1,n=_[2]*.25,R=u.MG(4),s=u.MG(1),Z=u.MG(1);u.Qc(l,R,h,1,!0,F);
u.Qc(l,H,h,1,!1,F);u.Vb(l,s);u._T(s,S);u.Zc(s,Z,3);u.WR(H,Z,R);u.q6(R,H,n)};g.g.anc=function(l,o,D,H,_){var u=g.g.p;
u.Vk(o,D);u.WB(_[3]);var S=_[0]*-3+80,h=_[1]*-3+80,F=_[2]/2+.5,n=_[4],R=_[5],s=u.MG(1),Z=u.MG(1),O=u.MG(1),w=u.MG(1),m=u.MG(4),V=u.MG(4);
u.Vb(l,s);u.Tg(s,Z);u.Vp(s,h,5);u.aAN(s,.4,0);u.Zc(s,O,3);u.jj(O,s,9,3,!0,27);u.Tg(Z,O);u.L5(O);var q=u.vw(S,5,O);
for(var v=0;v<u.k$;v++){Z[v]=q[255-Z[v]]}u.aAN(Z,.4,0);u.Tg(Z,O);u.Zc(O,w,2);u.jj(w,O,5,3,!1,15);u.zV(s,F);
u.zV(O,F);u.O_(H,2155905279);u.O_(V,n);u.O_(m,R);u.WR(V,s,H);u.WR(m,O,H)};g.g.ap4=function(l,o,D,H,_){var u=g.g.p;
u.Vk(o,D);var S=new Uint8Array(256),h=5+10*_[1];h+=_[1]>3?(_[1]-3)*10:0;var F=~~(_[2]*.73)+50,n=Math.min(F+h,128),R=n-F,s=-255*F;
for(var v=0;v<256;v++){var Z=v*65;S[v]=u.$n(s/R);s+=255}var O=u.MG(1),w=u.MG(1),m=u.MG(1);u.Vb(l,O);
u.Tg(O,m);u.Zc(O,w,2*_[0]+1);u.sub(w,O);u.zV(O,65);u.jj(O,w,9,3,!0,20);for(var v=0;v<u.k$;v++){var V=m[v],q=w[v];
O[v]=q>0?~~((q*V+(255-q)*128)/255):128}u.Zc(O,w,3);u.jj(w,O,15,2,!0,16);u.jj(w,m,15,2,!1,15);u.QL(O,m);
u.rx(m,w,2);u.tx(w,S);u.Zc(w,O,2);u.xU(O,H)};g.g.abQ=function(l,o,D,H,_){var u=g.g.p;u.Vk(o,D);var S=2*_[0]+1,h=u.ay3[_[1]],F=_[2]*5.1,n=_[3],R=u.MG(1),s=u.MG(1),Z=u.MG(4),O=u.MG(4);
u.O_(Z,n);u.Kn(Z,H);u.asZ(R,F);u.g1(R,H);u._g(H,Z);u.Vb(l,s);u.Zc(s,R,S);u.sub(R,s);u.zV(s,h);u.jj(s,R,9,3,!0,20);
u.WR(l,R,Z);u.Qf(Z,H,3);u.Qc(H,Z,15,2,!0,16);u.Qc(H,O,15,2,!1,16);u.QL(Z,O);u.q6(O,H,2)};g.g.azm=function(l,o,D,H,_){var u=g.g.p;
u.Vk(o,D);var S=(15-_[0])/4+1,h=(15-_[1])/4+1,F=_[2],n=_[3],R=u.pU(_[4]),s=_[5]+1,Z=_[6],O=_[7],w=_[8],m=u.MG(1),V=u.MG(1),q=u.MG(1),i=u.MG(1),c=u.MG(4),z=u.MG(4);
u.mV(q,F,n,Z);u.Vb(l,V);u.Zc(V,m,5);u._H(q,m,i,s,R);u.zV(i,S);u.Xm(i,2);u.L5(m);u._H(q,m,V,s,R);u.zV(V,h);
u.Xm(V,2);u.O_(c,2155905279);u.O_(z,O);u.O_(H,w);u.WR(c,V,z);u.WR(z,i,H)};g.g.ao9=function(l,o,D,H,_){var u=g.g.p;
u.Vk(o,D);u.WB(_[3]);var S=_[0],h=_[1]/10,F=_[2]/10,n=u.MG(1),R=u.MG(1),s=u.MG(1),Z=u.sZ(),O=u.sZ(),w=u.sZ();
u.Zg(n);u.Zc(n,R,11);u.Zc(R,n,11);u.Ob(n,Z);u.hq(l,n);u.Tg(n,s);u.Zc(n,R,9);u.Zc(R,n,9);u.Ob(n,O);u.IA(O,w,5);
u.IA(w,O,5);u.aj9(Z,.8);u.ab7(Z,O,.8,.9);u.aeT(O,n,S);u.Yj(n,R,2,2,1);u.Yj(R,n,2,2,3);u.Yj(n,R,2,2,3);
u.Yj(s,n,5,5,13);u.JO(R,n,R,h);u.Wt(n,R,R,F);u._H(R,R,n,5,1);u.Kn(l,H);u.g1(n,H);u._g(H)};g.g.ac3=function(l,o,D,H,_){var u=g.g.p;
u.Vk(o,D);var S=_[0],h=_[1]/2,F=_[2],n=S/2,R=u.MG(4),s=u.MG(4);u.Tg(l,H);for(var Z=0;Z<F;Z++){u.Qc(H,R,S,1,!0,n);
u.Qc(H,s,S,1,!1,n);u.QL(s,R);u.Qf(R,s,2);u.q6(s,H,h)}};g.g.a91=function(l,o,D,H,_){var u=g.g.p;u.Vk(o,D);
var S=_[0]*10,h=_[1]*4.9,F=_[2]*4.9,n=u.MG(1),R=u.MG(1),s=u.MG(4),Z=u.MG(4);u.Vb(l,n);u._T(n,u.akc(n,S));
u.Zc(n,R,3);u.Qc(l,s,5,1,!1,1);u.Qc(l,H,15,2,!0,16);u.WR(H,R,s);u.Kn(s,H);u.jG(H,n);u.Vp(n,h,F);u.g1(n,H);
u._g(H)};g.g.are=function(l,o,D,H,_){var u=g.g.p;u.Vk(o,D);u.WB(_[4]);var S=_[0]/20,h=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][_[1]],F=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][_[2]],n=_[3],R=new Int16Array(256);
for(var v=0;v<256;v++){R[v]=~~((v-128)*S)}var s=u.MG(1),Z=u.MG(1),O=u.MG(4);u.Vb(l,s);u.Zc(s,Z,25);u.zV(Z,h);
u.Xm(Z,F);u.Zc(Z,s,25);u.Zg(Z);u.a1b(s,Z,R);u.Tg(l,H);u.O_(O,n);u.WR(O,s,H)};g.g.ab0=function(l,o,D,H,_){var u=g.g.p;
u.Vk(o,D);var S=_[0]+5,h=15-_[1],F=S*S/2,n=1-(3-_[2])/10,R=~~(h*h*n-1),s=~~(h*h*(1-n));if(s==0)s=1;var Z=u.MG(1),O=u.MG(1),w=u.MG(1),m=u.MG(4);
u.Vb(l,w);u.Yj(w,Z,S,S,F);u.Zc(w,O,S);u.sub(Z,O);u._T(O,1);u.gu(l,m,h,h,R);u.gu(l,H,h,h,s);u.WR(m,O,H)};
g.g.ajF=function(l,o,D,H,_){var u=g.g.p;u.Vk(o,D);u.WB(_[3]);var S=(20-_[0])*.05,h=_[1]*-2.75+60,F=65-h,n=_[2]/10,R=u.MG(1),s=u.MG(1);
u.hq(l,s);var Z=u.vw(h,F,s);u.Kn(l,H);u.jG(H,s);u.Zg(R);u.P4(s,R,S);u.tx(s,Z);u.zV(s,_[2]/10);u.add(R,s);
u.g1(s,H);u._g(H)};g.g.a9J=function(l,o,D,H,_){var u=g.g.p;u.Vk(o,D);var S=5+_[0],h=15-_[1],F=_[2],n=S*S/2+S*S%2*1,R=1-(3-_[2])/10,s=~~(h*h*R-1),Z=~~(h*h*(1-R));
if(Z==0)Z=1;var O=u.MG(1),w=u.MG(1),m=u.MG(1),V=u.MG(1),q=u.MG(1);u.hq(l,w);u.rx(w,O,3);u.Yj(O,w,2,2,1);
var i=u.vw(20,20,w);u.tx(w,i);u.Zc(w,q,5);u.Yj(q,O,S,S,n);u.Yj(q,w,h,h,s);u.Yj(q,m,h,h,Z);u.Zc(q,V,S);
u.sub(O,V);u._T(V,1);u.a4d(w,V,m);u.Kn(l,H);u.g1(m,H);u._g(H)};g.g.aq4=function(l,o,D,H,_){var u=g.g.p;
u.Vk(o,D);u.WB(_[5]);var S=u.k$,h=u.mC,F=_[0],n=_[1],R=_[2],s=_[3],Z=_[4],O=.05*F+1,w=F/100,m=F>>1,V=2*F-100,q=+(n==9),i=+(n==7),c=[4,1][q],z=[3,2][q],B=[1,2][i],t=[2,1][i],a=[50,75][q],I=n<4?R:(R>>1)+50,N=u.azb(a,I),J=u.xV(s),Q=u.xV(Z),A=u.MG(4),f=u.MG(4),W=u.MG(1),C=u.MG(1);
function j(H,N){if(I!=50){u.a6Y(H,N)}}function K(l,T){for(var v=0;v<S;v++){l[v]=u.$n(l[v]+(T[v]-128)*w)}}function $(l,T){for(var v=0,y=0;
v<S;v++){l[y]=u.$n(l[y]+(T[y]-128)*w);l[y+1]=u.$n(l[y+1]+(T[y+1]-128)*w);l[y+2]=u.$n(l[y+2]+(T[y+2]-128)*w);
y+=4}}function r(l,H){u.Zg(f);u.Tg(l,H);$(H,f);j(H,N)}function U(T){var y=0;for(var d4=0;d4<12;d4++)y+=u.random();
return u.$n(m*(y-6)+T)}function b(l,H){u.Tg(l,H);for(var v=0;v<h;v+=4){H[v]=U(H[v]);H[v+1]=U(H[v+1]);
H[v+2]=U(H[v+2])}j(H,N)}function e(l,H){u.Tg(l,H);for(var v=0;v<h;v+=4){if(u.random()<w){H[v]=J[0];H[v+1]=J[1];
H[v+2]=J[2]}}j(H,N)}function P(l,H){u.Zg(A);u.gu(A,f,z,z,c);u.Tg(l,A);$(A,f);u.gu(A,H,5,5,13);j(H,N)}function L(l,H){u.Zg(f);
u.Tg(l,A);$(A,f);j(H,N);u.gu(A,H,z,z,c)}function Y(l,H){u.Tg(l,A);j(H,N);u.Vb(A,W);for(var v=0,T=0;v<S;
v++){var y=((V-W[v]+255)*128.5+.5)/32767;if(u.random()<=y){H[T++]=Q[0];H[T++]=Q[1];H[T++]=Q[2]}else{H[T++]=J[0];
H[T++]=J[1];H[T++]=J[2]}H[T]=l[T];T++}}function X(l,H){u.Kn(l,H);u.jG(H,W);u.rx(W,C,O);u.Yj(C,W,z,z,c);
u.tx(W,N);u.g1(W,H);u._g(H)}function G(l){var T=0;if(n==8){for(var y=0;y<o;y++){l[T++]=~~(u.random()*255)}for(var v=1;
v<D;v++){for(var y=0;y<o;y++){l[T++]=l[y]}}}else{for(var v=0;v<D;v++){var d4=~~(u.random()*255);for(var y=0;
y<o;y++){l[T++]=d4}}}}function E(l,H){u.Vb(l,W);u.Zg(C);K(W,C);G(C);K(W,C);u.Qf(l,A,9);u.Qf(A,f,9);u.Zc(W,C,2);
u.tx(C,N);u.Zc(C,W,2);u.Kn(f,H);u.g1(W,H);u._g(H)}[r,b,e,P,P,L,Y,E,E,X][n](l,H)};g.g.aEe=function(l,o,D,H,_){var u=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],S=g.g.p,m=0,V,v,B,t,a,I=0,N=1,J=255;
S.Vk(o,D);S.WB(_[3]);var h=S.MG(1),F=S.MG(1);S.Vb(l,h);var n=_[0],R=_[1],s=R<=50?u[R]/255:1+(255-u[101-R])/255,Z=_[2],O=h.length,w=new Float32Array(O),q=1+1/10*n,i=(1-1/q)/2,c=16/256,z=o-1;
for(v=0;v<S.k$;v++){w[v]=h[v]/255;F[v]=n==1?S.random()<1/255?J:N:N}function Q(A,f){var W=A*o+f;if(F[W]!=N||A>=D||f>=o){return}var t=w[W],C=s-t,j=S.random(),K=j/q+i;
if(m==0||Math.abs(a-t)>c){V=K<=C?I:J;m=~~(S.random()*n)}else if(.1<j){m--}else{m=0}F[W]=V;a=t}if(Z==0){for(v=0;
v<o;v++){for(B=0;B<o;B++){t=v+B;if(t>=o)break;Q(B,z-t)}m=0}for(v=1;v<D;v++){for(B=0;B<D;B++){t=v+B;if(t>=D||B>=o)break;
Q(t,z-B)}m=0}}else if(Z==1){for(v=0;v<D;v++){for(B=0;B<o;B++){Q(v,B)}m=0}}else if(Z==2){for(v=0;v<o;
v++){for(B=0;B<o;B++){t=v+B;if(t>=o)break;Q(B,t)}m=0}for(v=1;v<D;v++){for(B=0;B<D;B++){t=v+B;if(t>=D||B>=o)break;
Q(t,B)}m=0}}else{for(v=0;v<o;v++){for(B=0;B<D;B++){Q(B,v)}m=0}}S.xU(F,H)};g.g.amx=function(l,o,D,H,_){var u=g.g.p;
u.Vk(o,D);var S=_[0],h=_[1],F=_[2],n=u.MG(1),R=u.MG(1),s=u.MG(1),Z=u.MG(1),O=u.MG(4),w=u.MG(4);u.jG(l,Z,3,4);
u.Vb(l,n);u.Yj(n,R,3,3,1);u.Yj(n,s,3,3,9);u.sub(s,R);u.Zc(R,n,3);u.Vp(n,40,10,Z);u.Qc(l,H,S,2,!1,S);
u.Qc(l,O,S,2,!0,S);u.O_(w,255);u.WR(H,n,w);u.WR(w,n,O);u.q6(O,H,1);u.Kn(H);u.jG(H,n);u.Vp(n,h,F,Z);u.g1(n,H);
u._g(H)};g.g.a4N=function(l,o,D,H,_){var u=g.g.p;u.Vk(o,D);u.WB(_[3]);var S=_[0],h=_[1],F=_[2]/10;S=S+h;
var n=u.MG(1),R=u.MG(1),s=u.sZ(),Z=u.sZ();u.Zg(n);u.Zc(n,R,11);u.Zc(R,n,11);u.Ob(n,s);u.IA(s,Z,5);u.IA(Z,s,5);
u.aj9(Z,.97);u.aeT(Z,n,S);u.Yj(n,R,h,h,1);u.hq(l,n);u.JO(R,n,R,.6);u.Wt(n,R,R,F);u._H(R,R,n,5,1);u.Kn(l,H);
u.g1(n,H);u._g(H)};g.g.awV=function(l,o,D,H,_){var u=g.g.p;u.Vk(o,D);var S=Math.abs(_[0]),h=S+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][S],F=2*S+1,n=_[1]/10,R=n*13/15,s=u.MG(1),Z=u.MG(1),O=u.MG(1),w=u.MG(1),m=u.MG(4),V=u.MG(4),q=u.MG(4),i=u.MG(4),c=u.MG(4);
u.Vb(l,s);if(_[0]>=0){u.L5(s)}u.Tg(s,O);u.Zc(s,w,h);u.Zc(w,s,h);u.zV(s,n);u.Tg(s,Z);u.Zc(s,w,F);u.Zc(w,s,F);
u.zV(s,R);u.O_(q,_[2]);u.O_(i,_[3]);u.O_(c,_[4]);u.WR(q,s,i,m);u.WR(c,Z,m,V);u.WR(i,O,V,H);u.jG(l,O,3);
u.g1(O,H,3)};g.g.a64=function(l,o,D,H,_){var u=g.g.p;u.Vk(o,D);u.WB(_[5]);var S=_[0]*5.1,h=_[1]/100,F=u.atj[_[2]],n=u.MG(1),R=u.MG(1),s=u.MG(1);
u.Vb(l,n);u.asZ(R,255);u.Zg(s);u._T(n,S);u.P4(R,n,.7);u.P4(s,n,h);u._H(n,n,R,5,F);u.Tg(l,H);u.ay6(H,S,_[4],_[3]);
u.Kn(H);u.g1(R,H);u._g(H)};g.g.arF=function(l,o,D,H,_){var u=g.g.p;u.Vk(o,D);var S=_[0],h=4-_[1],F=11-_[2],n=u.MG(1),R=u.MG(1),s=u.MG(4);
u.hq(l,R);for(var v=0;v<h;v++){u.Tg(R,n);u.adS(n,R,S,S)}u.Qf(l,s,S);u.Kn(s,s);u.g1(R,s);u._g(s,s);(F<11?u.a7m:u.Tg)(s,H,F)};
g.g.aht=function(l,o,D,H,_){var u=g.g.p;u.Vk(o,D);u.WB(_[2]);var S=_[0]+5,h=~~(S/5+1),F=~~(S/2)+1,n=F*F,R=~~(S/3),s=u.atj[_[1]],Z=new Array(256);
for(var v=0;v<256;v++){Z[v]=~~(.2*(v-128))}var O=u.MG(1),w=u.MG(1);u.ae2(l,H,S);u.Kn(H);u.jG(H,O);u.Zg(w);
u.a1b(O,w,Z);u.ank(w,S,S,h,h);u.JO(O,w,O,1);u.Zc(O,w,R);u.Zc(w,O,R);u.Yj(O,w,F,F,n);u._H(w,w,O,5,s);
u.g1(O,H);u._g(H)};g.g.au0=function(l,o,D,H,_){var u=g.g.p;u.Vk(o,D);var S=u.MG(1),h=u.MG(1),F=u.MG(1),n=u.sZ(),R=u.sZ();
u.Vb(l,S);u.Zc(S,h,_[2]);u._T(h,_[0]*5.1);u.Yj(h,S,2,2,4);u.Zc(S,h,3);u.Zc(h,S,3);u.Tg(S,F);u.Zc(S,h,5);
u.Zc(h,S,5);u.Ob(S,n);u.IA(n,R,5);u.IA(R,n,5);u.aD2(n,h,_[1]);u.L5(h);u.JO(F,h,F,1);u.xU(F,H)};g.g.ako=function(l,o,D,H,_){var u=g.g.p;
u.Vk(o,D);var S=1<<7-_[2],h=u.MG(1),F=u.MG(1),n=u.MG(1);u.hq(l,F);u.Zc(F,h,3);u.Tg(h,F);u.Zc(h,n,_[0]+5);
u.sub(n,F);u.Vp(F,1,_[1]);u.zV(h,1/S);u.zV(h,S);u.sub(h,F);u.Kn(l,H);u.g1(F,H);u._g(H)};g.g.anS=function(l,o,D,H,_){var u=g.g.p;
u.Vk(o,D);u.WB(_[3]);var S=u.MG(1),h=u.MG(1),F=u.MG(1);u.Vb(l,S);u.af1(h,_[0]/50);u.Zc(h,F,3);u.Yj(S,h,9,9,41);
u.Vp(h,_[1],_[2]);u.JO(h,F,F,.75);u.Wt(h,F,h,.5);u.Tg(h,S);u.Yj(S,F,3,3,8);u.JO(F,h,F,.75);u.zV(F,1.2);
u.rx(F,S,1);u.Zc(S,F,2);u.rx(F,S,2);u.zV(S,1.2);u.Zc(S,F,2);u.xU(F,H)};g.g.atg=function(l,o,D,H,_){var u=g.g.p;
u.Vk(o,D);var S=_[0]+9,h=_[1]/2,F=_[2],n=_[3],R=u.pU(_[4]),s=_[5]+1,Z=_[6],O=u.MG(1),w=u.MG(1),m=u.MG(4),V=u.MG(4);
u.mV(w,F,n,Z);u.a31(l,H,S,1,1);u.a31(H,m,S,1,1);u.aqd(m,m,V,7,h);u.zV(V,1.2);u.Xm(V,1.2);u._H(w,O,O,s,R);
u.zV(O,3);u.Tg(l,H);u.WR(V,O,H)};g.g.ao5=function(l,o,D,H,_){var u=g.g.p;u.Vk(o,D);u.WB(_[3]);var S=_[0]+4,h=S*2/5+(S%5|0);
S--;var F=_[1]*-2.75+60,n=65-F,R=_[2]/10,s=u.MG(1),Z=u.MG(1);u.Zg(s);u.hq(l,Z);var O=u.vw(F,n,Z);u.Kn(l,H);
u.jG(H,Z);u.P4(Z,s,.8);u.tx(Z,O);u.zV(Z,R);u.add(s,Z);u.jj(Z,s,S,3,!1,h);u.g1(s,H);u._g(H)};g.g.amT=function(l,o,D,H,_){var u=g.g.p;
u.Vk(o,D);u.WB(_[3]);var S=_[0]+5,h=(S*S>>1)+S%2,F=_[1]/10,n=_[2],R=(n*n>>1)+n%2,s=u.MG(1),Z=u.MG(1),O=u.MG(1),w=u.MG(4),m=u.MG(4),V=u.MG(4);
u.Zg(O);u.Kn(l,V);u.jG(V,s);u.P4(s,O,.8);u.Zc(O,s,3);u.rx(s,O,F);u.g1(O,V);u._g(V,V);u.Vb(V,O);u.Yj(O,s,S,S,h);
u.Zc(O,Z,S);u.sub(s,Z);u._T(Z,1);u.gu(V,w,7,7,40);u.gu(V,m,7,7,10);u.WR(w,Z,m);u.gu(m,H,n,n,R)};g.g.aom=function(l,o,D,H,_){var u=g.g.p,h=255,v,n;
u.Vk(o,D);var S=_[0];if(S<2)h=S;else if(S<12)h=5*S-5;else if(S<47)h=2*S+28;else if(S<50){v=S-47;h=125+12.5*v+12.5*v*v}var F=new Uint8Array(256);
for(v=75,n=15;v<256;v++,n+=24)F[v]=Math.min(255,n);var R=u.MG(1),s=u.MG(1),Z=u.MG(1);u.Vb(l,R);u.Zc(R,s,11);
u.Zc(s,Z,11);u.sub(Z,R);u.zV(R,8);u.sub(Z,R);u._T(R,h);u.L5(R);u.Zc(R,s,5);u._T(s,51);u.Zc(s,R,_[1]);
u.Zc(R,s,_[1]);u.L5(s);u.tx(s,F);u.xU(s,H)};g.g.aEh=function(l,o,D,H,_){var u=g.g.p;u.Vk(o,D);var S=u.ay3[_[1]],h=_[2],F=h*1.5,n=u.MG(1),R=u.MG(1),s=u.MG(1);
u.hq(l,n);u.jj(n,R,15,2,!0,15);u.Tg(R,s);u.Vp(s,h,F);u.Zc(s,n,3);u.Zc(R,s,_[0]);u.sub(s,R);u.zV(R,S);
u.sub(n,R);u.Zc(R,n,3);u.jj(n,R,3,1,!1,1);u.Qf(l,H,15);u.Kn(H);u.g1(R,H);u._g(H)};g.g.amF=function(l,o,D,H,_){var u=g.g.p;
u.Vk(o,D);u.WB(_[3]);var S=_[0]*5.1,h=16-_[1],F=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][_[2]],n=u.MG(1),R=u.MG(1),s=u.MG(1);
u.Vb(l,n);u._T(n,S);u.Zc(n,R,h);u.Zc(R,n,h);u.Zg(s);u.Wt(n,s,s,1);u.JO(n,s,n,.75);u.zV(n,F);u.Xm(n,F);
u.Yj(n,R,2,2,2);u.xU(R,H)};g.g.aBA=function(l,o,D,H,_){var u=g.g.p;u.Vk(o,D);var S=_[0]+9,h=_[1]+9,F=_[2],n=_[3],R=u.pU(_[4]),s=_[5]+1,Z=_[6],O=u.MG(1),w=u.MG(1),m=u.MG(1),V=u.MG(1),q=u.MG(1),i=u.MG(4);
u.hq(l,O);u.adS(O,m,S,S);u.Zc(m,O,h);u.Tg(m,q);u.Tg(O,V);u.sub(q,V);u.sub(O,q);u.add(q,V);u.zV(V,10);
u.mV(w,F,n,Z);u._H(w,O,q,s,R);u.a4d(q,V,m,.8);u.Qf(l,i,9);u.Qf(i,H,9);u.Kn(H);u.g1(m,H);u._g(H)};g.g.atR=function(l,o,D,H,_){var u=g.g.p;
u.Vk(o,D);var S=16-_[0],h=_[1]*8,F=1-(3-_[2])/10,n=~~(S*S*F-1),R=~~(S*S*(1-F));if(R==0)R=1;var s=u.MG(1),Z=u.MG(1),O=u.MG(1),w=u.MG(4);
u.Vb(l,O);u.Yj(O,s,7,7,25);u.Zc(O,Z,7);u.sub(s,Z);u._T(Z,1);u.gu(l,w,S,S,n);u.gu(l,H,S,S,R);u.WR(w,Z,H);
u.Kn(H);u.jG(H,s);u.Yj(s,O,3,3,1);u.Yj(s,Z,3,3,9);u.sub(Z,O);u.Tg(O,Z);u.sub(s,O);u.sub(O,Z);u.Yj(Z,s,3,3,8);
u.Vp(s,h,1);u.g1(s,H);u._g(H)};g.g.awa=function(l,o,D,H,_){var u=g.g.p;u.Vk(o,D);u.WB(_[3]);var S=_[0],h=_[1],F=_[2],n=S>>1,R=Math.max(~~(S/5),1),s=Math.max(~~(S*2/3),1),Z=u.azb(h,F),O=u.MG(1),w=u.MG(1),m=u.MG(1),V=u.MG(1),q=u.MG(4);
u.hq(l,O);u.aBb(2147483647,4,2,2,0,255,w);u.aBb(4,2147483647,2,2,0,255,V);u.Zg(m);u.Wt(w,m,w,1);u.Wt(V,m,V,1);
u.Wt(w,O,w,1);u.Wt(V,O,V,1);u.Qf(l,q,n);u.Qf(q,H,n);u.Yj(w,O,1,S,R);u.Yj(O,w,3,S,s);u.Yj(V,O,S,1,R);
u.Yj(O,V,S,3,s);u.QL(w,V);u.Kn(H);u.g1(V,H);u._g(H);u.a6Y(H,Z)};g.g.qd=function(l,o,D){var H=D.a1D,_=D.k$,u=D.MG(1),top=D.MG(1),S=D.MG(1),h=D.MG(1),F=D.MG(1),n=D.MG(1),R=D.MG(1),s=D.MG(1),Z=D.MG(1),O=D.pX,w=D.B9,m=g.$z.y4,V=g.$z.B7;
m(l,u,O,w,V([8,5,2,5,2,-1,2,-1,-4]));m(l,top,O,w,V([5,5,5,2,2,2,-1,-1,-1]));m(l,S,O,w,V([2,5,8,-1,2,5,-4,-1,2]));
m(l,h,O,w,V([5,2,-1,5,2,-1,5,2,-1]));m(l,F,O,w,V([2,2,2,2,2,2,2,2,2]));m(l,n,O,w,V([-1,2,5,-1,2,5,-1,2,5]));
m(l,R,O,w,V([2,-1,-4,5,2,-1,8,5,2]));m(l,s,O,w,V([-1,-1,-1,2,2,2,5,5,5]));m(l,Z,O,w,V([-4,-1,2,-1,2,5,2,5,8]));
var q=[u,top,S,h,F,n,R,s,Z];for(var i=0;i<w;i++){for(var c=0;c<O;c++){var z=i*O+c,B=l[z],t=null,a=0;
for(var I=-1;I<2;I++){for(var N=-1;N<2;N++){var J=q[(I+1)*3+N+1],Q=Math.max(0,Math.min(i+I,w-1)),A=Math.max(0,Math.min(c+N,O-1)),f=J[Q*O+A],W=Math.abs(f-B);
if(t==null||W<t){t=W;a=f}}}o[z]=a}}};g.g.aon=function(l,o,D,H,_){var self=g.g.p;self.Vk(o,D);var u=self.MG(1),S=self.MG(1);
for(var v=0;v<4;v++){self.jG(l,u,v);if(v<3){g.g.qd(u,S,self);g.g.qd(S,u,self);g.g.qd(u,S,self);g.g.qd(S,u,self);
g.g.qd(u,S,self);g.g.qd(S,u,self);g.g.qd(u,S,self);g.g.qd(S,u,self);g.g.qd(u,S,self)}else S=u;self.g1(S,H,v)}};
g.g.p={};g.g.p.pX=0;g.g.p.B9=0;g.g.p.k$=0;g.g.p.Fd=0;g.g.p.mC=0;g.g.p.Vk=function(l,o){var D=l*o,self=g.g.p;
self.pX=l;self.B9=o;self.k$=D;self.Fd=D<<1;self.mC=D<<2};g.g.p.WB=function(l){g.g.p.random=function(){var o=l+=1831565813;
o=Math.imul(o^o>>>15,o|1);o^=o+Math.imul(o^o>>>7,o|61);return((o^o>>>14)>>>0)/4294967296}};g.g.p.MG=function(l){var o=g.g.p;
return new Uint8Array([-1,o.k$,o.Fd,-1,o.mC][l])};g.g.p.sZ=function(){return new Int32Array(g.g.p.Fd)};
g.g.p.Zc=function(l,o,D,H){if(H==null)H=D;var self=g.g.p,_=self.pX,u=self.B9,S=H,h=H>>1,F=D,n=D>>1,R=D*H,s=0;
for(var v=0;v<u;v++){var Z=0;for(var O=0;O<S;O++){for(var w=0;w<F;w++){var m=0-n+w,V=v-h+O;if(m<0)m=0;
else if(m>=_)m=_-1;if(V<0)V=0;else if(V>=u)V=u-1;Z+=l[V*_+m]}}o[s++]=~~(Z/R);for(var q=1;q<_;q++){for(var O=0;
O<S;O++){var i=q-n-1,c=i+F,V=v-h+O;if(i<0)i=0;if(c>=_)c=_-1;if(V<0)V=0;else if(V>=u)V=u-1;Z+=l[V*_+c]-l[V*_+i]}o[s++]=~~(Z/R)}}};
g.g.p.IA=function(l,o,D,H){var self=g.g.p,_=new Int32Array(self.k$),u=new Int32Array(self.k$);for(var v=0;
v<2;v++){self.jG(l,_,v,2);self.Zc(_,u,D,H);self.g1(u,o,v,2)}};g.g.p.Qf=function(l,o,D,H){var self=g.g.p,_=self.MG(1),u=self.MG(1);
for(var v=0;v<4;v++){self.jG(l,_,v);if(v<3)self.Zc(_,u,D,H);else u=_;self.g1(u,o,v)}};g.g.p.a31=function(l,o,D,H,_){var self=g.g.p,u=self.pX,S=self.B9,h=D+H-1,F=D>>1,n=h>>1,R=0,s=D*H,Z=new Int32Array(D);
for(var v=0;v<S;v++){var O=0,w=0,m=0;for(var V=0;V<D;V++){var q=_?h-V-H:V;for(var i=q,c=H+q;i<c;i++){var z=0-n+i,B=v-F+V;
if(i==q){Z[V]=z}if(z<0)z=0;else if(z>=u)z=u-1;if(B<0)B=0;else if(B>=S)B=S-1;var t=u*B+z<<2;O+=l[t];w+=l[t+1];
m+=l[t+2]}}o[R++]=~~(O/s);o[R++]=~~(w/s);o[R++]=~~(m/s);o[R]=l[R];R++;for(var a=1;a<u;a++){for(var V=0;
V<D;V++){var B=v-F+V,q=Z[V]+1;Z[V]=q;var I=q-1,N=q+H-1;if(B<0)B=0;else if(B>=S)B=S-1;if(I<0)I=0;else if(I>=u)I=u-1;
if(N<0)N=0;else if(N>=u)N=u-1;var J=B*u+I<<2,Q=B*u+N<<2;O=O+l[Q]-l[J];w=w+l[Q+1]-l[J+1];m=m+l[Q+2]-l[J+2]}o[R++]=~~(O/s);
o[R++]=~~(w/s);o[R++]=~~(m/s);o[R]=l[R];R++}}};g.g.p.jj=function(l,o,D,H,_,u){var self=g.g.p,S=self.pX,h=self.B9,F=D+H-1,n=D>>1,R=F>>1,s=0,Z=new Int32Array(D),O=new Int32Array(256),w=new Int32Array(16);
for(var v=0;v<h;v++){for(var m=0;m<256;m++){O[m]=0}for(var m=0;m<16;m++){w[m]=0}for(var V=0;V<D;V++){var q=_?F-V-H:V;
for(var i=q,c=H+q;i<c;i++){var z=0-R+i,B=v-n+V;if(i==q){Z[V]=z}if(z<0)z=0;else if(z>=S)z=S-1;if(B<0)B=0;
else if(B>=h)B=h-1;O[l[B*S+z]]++;w[l[B*S+z]>>>4]++}}var t=0,a=0;while(t+w[a>>>4]<u){t+=w[a>>>4];a+=16}for(;
a<256;a++){t+=O[a];if(t>=u)break}o[s++]=a;for(var m=1;m<S;m++){for(var V=0;V<D;V++){var B=v-n+V,q=Z[V]+1;
Z[V]=q;var I=q-1,N=q+H-1;if(B<0)B=0;else if(B>=h)B=h-1;if(I<0)I=0;else if(I>=S)I=S-1;if(N<0)N=0;else if(N>=S)N=S-1;
O[l[B*S+I]]--;O[l[B*S+N]]++;w[l[B*S+I]>>>4]--;w[l[B*S+N]>>>4]++}t=0;a=0;while(t+w[a>>>4]<u){t+=w[a>>>4];
a+=16}for(;a<256;a++){t+=O[a];if(t>=u)break}o[s++]=a}}};g.g.p.Qc=function(l,o,D,H,_,u){var self=g.g.p,S=self.MG(1),h=self.MG(1);
for(var v=0;v<4;v++){self.jG(l,S,v);if(v<3)self.jj(S,h,D,H,_,u);else h=S;self.g1(h,o,v)}};g.g.p.Yj=function(l,o,D,H,_){_=Math.min(H*D,_);
var self=g.g.p,u=self.pX,S=self.B9,h=H>>1,F=D>>1,n=0,R=new Int32Array(H),s=new Int32Array(256),Z=new Int32Array(16);
for(var v=0;v<S;v++){for(var O=0;O<256;O++){s[O]=0}for(var O=0;O<16;O++){Z[O]=0}for(var w=0;w<H;w++){for(var m=0,V=D;
m<V;m++){var q=0-F+m,i=v-h+w;if(m==0){R[w]=q}if(q<0)q=0;else if(q>=u)q=u-1;if(i<0)i=0;else if(i>=S)i=S-1;
s[l[i*u+q]]++;Z[l[i*u+q]>>>4]++}}var c=0,z=0;while(c+Z[z>>>4]<_){c+=Z[z>>>4];z+=16}for(;z<256;z++){c+=s[z];
if(c>=_)break}o[n++]=z;for(var O=1;O<u;O++){for(var w=0;w<H;w++){var i=v-h+w,B=R[w]+1;R[w]=B;var t=B-1,a=B+D-1;
if(i<0)i=0;else if(i>=S)i=S-1;if(t<0)t=0;else if(t>=u)t=u-1;if(a<0)a=0;else if(a>=u)a=u-1;s[l[i*u+t]]--;
s[l[i*u+a]]++;Z[l[i*u+t]>>>4]--;Z[l[i*u+a]>>>4]++}c=0;for(z=0;z<256;z++){c+=s[z];if(c>=_)break}o[n++]=z}}};
g.g.p.gu=function(l,o,D,H,_){var self=g.g.p,u=self.MG(1),S=self.MG(1);for(var v=0;v<4;v++){self.jG(l,u,v);
if(v<3)self.Yj(u,S,D,H,_);else S=u;self.g1(S,o,v)}};g.g.p.rx=function(l,o,D){var self=g.g.p,H=self.pX,_=self.B9,u=0;
for(var v=0;v<_;v++){var S=v*H,h=(v-1)*H,F=(v+1)*H;if(h<0)h=S;if(F>=_)F=S;for(var n=0;n<H;n++){var R=n-1,s=n+1;
if(R<0)R=n;if(s>=H)s=n;var Z=S+R,O=S+s,w=h+n,m=F+n,V=S+n,q=l[Z],i=l[O],c=l[w],z=l[m],B=l[V],t=B+(B*4*D+.5);
t=t-((q+i+z+c)*D+.5);o[u++]=self.$n(t)}}};g.g.p.q6=function(l,o,D){var self=g.g.p,H=self.MG(1),_=self.MG(1);
for(var v=0;v<4;v++){self.jG(l,H,v);if(v<3)self.rx(H,_,D);else _=H;self.g1(_,o,v)}};g.g.p.a7m=function(l,o,D){var self=g.g.p,H=self.pX,_=self.B9,u=0,S=D+4;
for(var v=0;v<_;v++){var h=v*H,F=(v-1)*H,n=(v+1)*H;if(F<0)F=h;if(n>=_)n=h;for(var R=0;R<H;R++){var s=R-1,Z=R+1;
if(s<0)s=R;if(Z>=H)Z=R;var O=h+s<<2,w=h+Z<<2,m=F+R<<2,V=n+R<<2,q=h+R<<2;for(var i=0;i<3;i++){var c=l[O+i],z=l[w+i],B=l[m+i],t=l[V+i],a=l[q+i];
o[u++]=(a*D+c+z+t+B)/S}o[u]=l[u];u++}}};g.g.p.adS=function(l,o,D,H){var self=g.g.p,_=self.pX,u=self.B9,S=D>>1,h=H>>1,F=0,n=new Int32Array(D),R=new Int32Array(256);
for(var v=0;v<u;v++){for(var s=0;s<256;s++){R[s]=0}for(var Z=0;Z<D;Z++){for(var O=0,w=H;O<w;O++){var m=0-h+O,V=v-S+Z;
if(O==0){n[Z]=m}if(m<0)m=0;else if(m>=_)m=_-1;if(V<0)V=0;else if(V>=u)V=u-1;R[l[V*_+m]]++}}var q=0,i=0;
for(var c=0;c<256;c++){if(q<R[c]){i=c;q=R[c]}}o[F++]=i;for(var s=1;s<_;s++){for(var Z=0;Z<D;Z++){var V=v-S+Z,z=n[Z]+1;
n[Z]=z;var B=z-1,t=z+H-1;if(V<0)V=0;else if(V>=u)V=u-1;if(B<0)B=0;else if(B>=_)B=_-1;if(t<0)t=0;else if(t>=_)t=_-1;
R[l[V*_+B]]--;R[l[V*_+t]]++}q=0;i=0;for(var c=0;c<256;c++){if(q<R[c]){i=c;q=R[c]}}o[F++]=i}}};g.g.p.agj=[function(l,o,D,H,_,u,S,h,F,n){return _+(l+o+D)*n-(F+h+S)*n},function(l,o,D,H,_,u,S,h,F,n){return _+(o+D+u)*n-(h+S+H)*n},function(l,o,D,H,_,u,S,h,F,n){return _+(D+u+F)*n-(S+H+l)*n},function(l,o,D,H,_,u,S,h,F,n){return _+(u+F+h)*n-(H+l+o)*n},function(l,o,D,H,_,u,S,h,F,n){return _+(F+h+S)*n-(l+o+D)*n},function(l,o,D,H,_,u,S,h,F,n){return _+(h+S+H)*n-(o+D+u)*n},function(l,o,D,H,_,u,S,h,F,n){return _+(S+H+l)*n-(D+u+F)*n},function(l,o,D,H,_,u,S,h,F,n){return _+(H+l+o)*n-(u+F+h)*n}];
g.g.p._H=function(l,o,D,H,_){var self=g.g.p,u=self.pX,S=self.B9,h=u,F=self.agj[H-1];for(var v=0;v<S;
v++){var n=(v>0?v-1:0)*h,R=v*h,s=(v<S?v+1:v)*h;for(var Z=0;Z<u;Z++){var O=Z>0?Z-1:0,w=Z<u?Z+1:Z,m=R+Z,V=l[n+O],q=l[n+Z],i=l[n+w],c=l[R+O],z=o[m],B=l[R+w],t=l[s+O],a=l[s+Z],I=l[s+w];
D[m]=self.$n(F(V,q,i,c,z,B,t,a,I,_))}}};g.g.p.aqd=function(l,o,D,H,_){var self=g.g.p,u=self.MG(1),S=self.MG(1),h=self.MG(1);
for(var v=0;v<3;v++){self.jG(l,u,v);self.jG(o,S,v);self._H(u,S,h,H,_);self.g1(h,D,v)}self.jG(o,u,3);
self.g1(u,D,3)};g.g.p.Vb=function(l,o){var D=l.length,H=0;for(var v=0;v<D;v++){o[H++]=~~((l[v++]+l[v++]+l[v++]+2)/3)}};
g.g.p.xU=function(l,o){var D=o.length,H=0;for(var v=0;v<D;v++){var _=l[v];o[H++]=_;o[H++]=_;o[H++]=_;
o[H++]=255}if(o[0]==255)o[0]--;else o[0]++};g.g.p.hq=function(l,o){var D=o.length,H=0;for(var v=0;v<D;
v++){var _=l[H++],u=l[H++],S=l[H++];H++;if(u>_)_=u;if(S>_)_=S;o[v]=_}};g.g.p.Kn=function(l,o){if(o==null)o=l;
var D=l.length;for(var H=0;H<D;H+=4){var _=l[H],u=l[H+1],S=l[H+2],h=_,F=0,n=_,s;if(u<=_){_=u}else{F=1;
n=u}if(S<=n){if(_>S){_=S}}else{F=2;n=S}var R=n-_;if(R!=0){if(F==0){s=~~(43*(u-S)/R)}else if(F==1){s=~~(43*(S+2*R-h)/R)}else{s=43*(h+4*R-u)/R}if(s<0){s=255&s-1}o[H]=s;
o[H+1]=~~(255*R/n)}else{o[H]=R;o[H+1]=R}o[H+2]=n;o[H+3]=l[H+3]}};g.g.p._g=function(l,o){if(o==null)o=l;
var D=l.length;for(var H=0;H<D;H+=4){var _=l[H],u=l[H+1],S=l[H+2];if(u){if(_==255)_=0;var h=~~(6*_/255),F=~~(-255*h+6*_);
if(h==0){o[H]=S;o[H+1]=~~(S*(255-u*(255-F)/255)/255);o[H+2]=~~(S*(255-u)/255)}else if(h==1){o[H]=~~(S*(255-u*F/255)/255);
o[H+1]=S;o[H+2]=~~(S*(255-u)/255)}else if(h==2){o[H]=~~(S*(255-u)/255);o[H+1]=S;o[H+2]=~~(S*(255-u*(255-F)/255)/255)}else if(h==3){o[H]=~~(S*(255-u)/255);
o[H+1]=~~(S*(255-u*F/255)/255);o[H+2]=S}else if(h==4){o[H]=~~(S*(255-u*(255-F)/255)/255);o[H+1]=~~(S*(255-u)/255);
o[H+2]=S}else{o[H]=S;o[H+1]=~~(S*(255-u)/255);o[H+2]=~~(S*(255-u*F/255)/255)}}else{o[H]=S;o[H+1]=S;o[H+2]=S}o[H+3]=l[H+3]}};
g.g.p.g1=function(l,o,D,H){if(D==null)D=2;if(H==null)H=4;var _=l.length;for(var v=0;v<_;v++){o[D]=l[v];
D+=H}};g.g.p.jG=function(l,o,D,H){if(D==null)D=2;if(H==null)H=4;var _=o.length;for(var v=0;v<_;v++){o[v]=l[D];
D+=H}};g.g.p.a4d=function(l,o,D,H){if(H==null)H=1;var _=o.length,u=0,S;for(var u=0;u<_;u++){S=o[u];if(S){S*=H;
D[u]=~~((S*l[u]+(255-S)*D[u])/255)}}};g.g.p.WR=function(l,o,D,H){if(H==null)H=D;var _=o.length,u=0,S,h;
for(var v=0;v<_;v++){S=o[v];if(S){h=255-S;H[u]=~~((S*l[u]+h*D[u])/255);H[u+1]=~~((S*l[u+1]+h*D[u+1])/255);
H[u+2]=~~((S*l[u+2]+h*D[u+2])/255)}H[u+3]=l[u+3];u+=4}};g.g.p.JO=function(l,o,D,H){var _=~~(H*255),u=D.length;
for(var v=0;v<u;v++){D[v]=((255-_*(255-l[v])/255)*o[v]+l[v]*(_*(255-l[v])/255))/255}};g.g.p.Wt=function(l,o,D,H){var _=~~(H*255),u=D.length;
for(var v=0;v<u;v++){D[v]=((255-_*l[v]/255)*o[v]+l[v]*(_*l[v]/255))/255}};g.g.p.P4=function(l,o,D){var H=o.length;
for(var v=0;v<H;v++){o[v]=~~(l[v]*D+.5)+(o[v]-~~(o[v]*D+.5))}};g.g.p.sub=function(l,o){var D=l.length;
for(var v=0;v<D;v++){o[v]=Math.max(l[v]-o[v],0)}};g.g.p.add=function(l,o){var D=l.length;for(var v=0;
v<D;v++){o[v]=Math.min(l[v]+o[v],255)}};g.g.p.a1D=function(l,o){var D=l.length;for(var v=0;v<D;v++){o[v]=l[v]+o[v]}};
g.g.p.QL=function(l,o){var D=l.length;for(var v=0;v<D;v++){o[v]=l[v]+o[v]>>1}};g.g.p.Tg=function(l,o){var D=l.length;
for(var v=0;v<D;v++){o[v]=l[v]}};g.g.p.tx=function(l,o){var D=l.length;for(var v=0;v<D;v++){l[v]=o[l[v]]}};
g.g.p.a6Y=function(l,o){var D=g.g.p.mC;for(var v=0;v<D;v+=4){var H=l[v],_=l[v+1],u=l[v+2],S=H;if(_>H)S=_;
if(u>H)S=u;var h=o[S];if(h){l[v]=~~(h*H/S);l[v+1]=~~(h*_/S);l[v+2]=~~(h*u/S)}else{l[v]=h;l[v+1]=h;l[v+2]=h}}};
g.g.p.zV=function(l,o){for(var v=0,D=l.length;v<D;v++){l[v]=Math.min(255,~~(.5+l[v]*o))}};g.g.p.Xm=function(l,o){for(var v=0,D=l.length;
v<D;v++){l[v]=255-Math.min(255,~~(.5+(255-l[v])*o))}};g.g.p.L5=function(l){var o=l.length;for(var v=0;
v<o;v++){l[v]=255-l[v]}};g.g.p._T=function(l,o,D,H){if(D==null)D=0;if(H==null)H=255;for(var v=0,_=l.length;
v<_;v++){l[v]=l[v]>=o?H:D}};g.g.p.xV=function(l){return[l>>24&255,l>>16&255,l>>8&255,l&255]};g.g.p.ay6=function(l,o,D,H){if(D==null)D=255;
if(H==null)H=4278190335;var _=g.g.p,u=_.mC,S=_.xV(D),h=_.xV(H);for(var v=0;v<u;v+=4){var F=~~((l[v]+l[v+1]+l[v+2]+2)/3);
if(F>=o){l[v]=S[0];l[v+1]=S[1];l[v+2]=S[2]}else{l[v]=h[0];l[v+1]=h[1];l[v+2]=h[2]}}};g.g.p.O_=function(l,o){var D=g.g.p,H=D.mC,_=D.xV(o);
for(var v=0;v<H;){l[v++]=_[0];l[v++]=_[1];l[v++]=_[2];l[v++]=_[3]}};g.g.p.asZ=function(l,o){var D=l.length;
for(var v=0;v<D;){l[v++]=o}};g.g.p.azb=function(l,o){l=l>5?(100-Math.max(4,l))/100:.95;o=o!=100?Math.max(4,o)/100:.9995;
var D=new Uint8Array(256),H=o>.5?.5/(1-o):o*2,_=~~(H*256),u=~~((.5-l*H)*256)<<8;for(var v=0;v<256;v++){D[v]=g.g.p.$n(u>>8);
u+=_}return D};g.g.p.Zg=function(l){for(var v=0,o=g.g.p,D=l.length;v<D;v++){l[v]=~~(o.random()*256)}};
g.g.p.af1=function(l,o){for(var v=0,D=g.g.p,H=l.length;v<H;v++){l[v]=D.random()<o?255:0}};g.g.p.aAN=function(l,o,D){for(var v=0,H=g.g.p,_=l.length;
v<_;v++){if(H.random()<o)l[v]=D}};g.g.p.a1b=function(l,o,D){var H=l.length;for(var v=0;v<H;v++){l[v]=g.g.p.$n(l[v]+D[o[v]])}};
g.g.p.oZ=function(l){var o=new Uint32Array(256);for(var v=0,D=l.length;v<D;v++)o[l[v]]++;return o};g.g.p.agt=function(l,o){var D=0,H=0,_=new Uint32Array(256),u=new Float32Array(256);
for(var v=0,S=l.length;v<S;v++){var h=l[v],F=o[v];if(F==255){_[h]++;D++}else if(F>0){F/=255;H+=F;u[h]+=F;
if(H>=1){H--;D++}if(u[h]>=1){u[h]--;_[h]++}}}return[D,_]};g.g.p.vw=function(l,o,D,H){var self=g.g.p,_,u,R=0,Z=256;
if(H){var S=self.agt(D,H);_=S[1];u=S[0]/100}else{_=self.oZ(D);u=self.k$/100}var h=new Uint8Array(256),F=u*l,n=u*o,s=-1;
do{R+=_[++s]}while(R<=F);R=0;do{R+=_[--Z]}while(R<=n);if(Z-s<=0)Z=s+1;if(Z>255){Z=255;s=254}var O=255/(Z-s),w=-s;
for(var v=0;v<256;v++){h[v]=self.$n(O*w+.5);w++}return h};g.g.p.Vp=function(l,o,D,H){var _=g.g.p;_.tx(l,_.vw(o,D,l,H))};
g.g.p.akc=function(l,o){var self=g.g.p,D=self.oZ(l),H=self.k$*o/100,_=0,u=-1;do{_+=D[++u]}while(_<=H);
return u};g.g.p.Ob=function(l,o){var D=0,self=g.g.p,H=self.pX,_=self.B9,u=1/Math.PI,S=u*255;for(var v=0;
v<_;v++){var h=v+1;if(h==_)h--;var F=v*H,n=~~((1-(v+1)/_)*255);for(var R=0;R<H;R++){var s=R+1;if(s==H)s--;
var Z=l[F+R],O=l[F+s],w=l[h*H+R];if(Z-w==0){o[D++]=n}else{var m=Z-w+255;if(m==255){m=0}else{m=~~(Math.atan2(1/(255-m),1)*S+.5);
if(m<0)m+=255}o[D++]=m}if(Z-O==0){o[D++]=~~((1-(R+1)/H)*255)}else{var m=Z-O+255;if(m==255){m=0}else{m=~~(Math.atan2(1/(255-m),1)*S+.5);
if(m<0)m+=255}o[D++]=m}}}};g.g.p.aj9=function(l,o){var self=g.g.p,D=self.pX,H=self.B9,_=0;for(var v=0;
v<H;v++){for(var u=0;u<D;u++){l[_]=~~(v*o+.5)+~~(l[_]*(1-o)+.5);_++;l[_]=~~(u*o+.5)+~~(l[_]*(1-o)+.5);
_++}}};g.g.p.ab7=function(l,o,D,H){var self=g.g.p,_=self.pX,u=self.B9,S=0;for(var v=0;v<u;v++){for(var h=0;
h<_;h++){o[S]=~~(o[S]*(1-D)+.5)+~~(l[S]*H+.5);S++;o[S]=~~(o[S]*(1-D)+.5)+~~(l[S]*H+.5);S++}}};g.g.p.aeT=function(l,o,D){var self=g.g.p,H=self.pX,_=self.B9,u=0,S=0;
for(var v=0;v<_;v++){for(var h=0;h<H;h++){var F=l[u++],n=l[u++];o[S++]=n%D>=2&&F%D>=2?255:0}}};g.g.p.aBb=function(l,o,D,H,_,u,S){var self=g.g.p,h=self.pX,F=self.B9,n=0,R=0,s=0;
for(var v=0;v<F;v++){var Z=v%l<D||F-D<=v;for(var O=0;O<h;O++){S[n++]=Z||O%o<H||h-H<=O?_:u}}};g.g.p.mV=function(l,o,D,H){var self=g.g.p,_=self.pX,u=self.B9,S=kL.mV(o),h=S[1],F=S[0].Q,n=S[0]._,R=100/D;
for(var s=0;s<u;s++)for(var Z=0;Z<_;Z++){var O=g.t.kM(Z*R,s*R,h,F,n);l[s*_+Z]=H?255-O:O}};g.g.p.$n=function(l){return~~Math.min(255,Math.max(0,l))};
g.g.p.ay3=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];g.g.p.atj=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
g.g.p.pU=function(l){return l>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][l-41]:l/40};g.g.p.ae2=function(l,o,D){var self=g.g.p,H=self.pX,_=self.B9,u=D,S=D>>1,h=S-1,F=u*u,n=0;
for(var v=0;v<_;v++){var R=0,s=0,Z=0,O=~~(v/D)*D,w=0;for(var m=0;m<u;m++){for(var V=0;V<u;V++){var q=w+V,i=O+m;
if(q>=H)q=H-1;if(i>=_)i=_-1;R+=l[i*H+q<<2];s+=l[(i*H+q<<2)+1];Z+=l[(i*H+q<<2)+2]}}var c=~~(R/F),z=~~(s/F),B=~~(Z/F);
o[n]=c;o[n+1]=z;o[n+2]=B;o[n+3]=l[n+3];n+=4;for(var t=1;t<H;t++){for(var m=0;m<u;m++){var a=t-1,I=a+u,i=O+m;
if(I>=H)I=H-1;if(i>=_)i=_-1;var N=i*H,J=N+I<<2,Q=N+a<<2;R+=l[J]-l[Q];s+=l[J+1]-l[Q+1];Z+=l[J+2]-l[Q+2]}if(t%D==0){c=~~(R/F);
z=~~(s/F);B=~~(Z/F)}o[n]=c;o[n+1]=z;o[n+2]=B;o[n+3]=l[n+3];n+=4}}};g.g.p.ank=function(l,o,D,H,_){var self=g.g.p,u=self.pX,S=self.B9,h=0,F=0,n=0,R=0;
for(var v=R;v<S+R;v++){var s=v%o>=H||v<H||S+R-H<=v;for(var Z=0;Z<u;Z++){l[h++]=s&&(Z%D>=_||Z<_||u-_<=Z)?255:0}}};
g.g.p.aD2=function(l,o,D){var H=function(n,R){return R<=n?n/R&1?R-n%R:n%R:n},_=[function(h,F){return H(h,255)/255},function(h,F){return(255+H(h,255)-H(F,255))/510},function(h,F){return(255-H(F,255))/255},function(h,F){return(510-H(h,255)-H(F,255))/510},function(h,F){return(255-H(h,255))/255},function(h,F){return(255-H(h,255)+H(F,255))/510},function(h,F){return H(F,255)/255},function(h,F){return(H(h,255)+H(F,255))/510}][D],u=0,S=0;
for(var v=0;v<g.g.p.k$;v++){var h=l[u++],F=l[u++];o[S++]=~~(255*_(h,F))}};g.g.aiB=function(){var l=[],o=new Uint8Array(512),D=new Float32Array(512),H=new Float32Array(512),_=[1,-1,1,-1,1,-1,0,0],u=[1,1,-1,-1,0,0,1,-1],S=0,h,w=0;
for(;S<256;S++)l[S]=S;while(S!=0){S--;h=Math.floor(Math.random()*S);l[h]^=l[S]^(l[S]=l[h])}function F(F){F=Math.floor(F*65536);
if(F<256){F|=F<<8}for(var v=0;v<256;v++){var q=v+256,i=l[v]^(v&1?F:F>>8)&255;o[v]=o[q]=i;i=i%8;D[v]=D[q]=_[i];
H[v]=H[q]=u[i]}}function n(q){return q*q*q*(q*(q*6-15)+10)}function R(q,i,c){return(1-c)*q+c*i}function s(q,i){return q&i}function Z(q,i){return q%i}function O(q,i,c,z,B){var t=Math.floor(q),a=Math.floor(i),S,I,N,J,Q,A;
q=q-t;i=i-a;t=t&255;a=a&255;S=t+o[a];J=D[S]*q+H[S]*i;S=t+o[B(a+1,z)];N=D[S]*q+H[S]*(i-1);S=B(t+1,c)+o[a];
Q=D[S]*(q-1)+H[S]*i;S=B(t+1,c)+o[B(a+1,z)];A=D[S]*(q-1)+H[S]*(i-1);I=n(q);return R(R(J,Q,I),R(N,A,I),n(i))}function m(q,S,i){q[S]=i}function V(q,i,c,z,B){var t=Math.min(Math.min(i,256),Math.min(256,c)),a=t==256||t<8,I=8,N=new Uint32Array(I),J=new Uint32Array(I),Q=new Float32Array(I),A=new Float32Array(I),f=1,W=1,C=a?s:Z,j=m,K;
for(var v=0;v<I;v++){K=W*1/t;if(a){J[v]=(1<<Math.ceil(Math.log2(c*K)))-1;N[v]=(1<<Math.ceil(Math.log2(i*K)))-1}else{J[v]=K*c;
N[v]=K*i}Q[v]=f;A[v]=K;f*=.5;W=W<<1}F(Math.random());for(var $=0,S=0;$<c;$++){for(var r=0;r<i;r++){var U=0;
for(var b=0;b<I;b++){K=A[b];U+=O(r*K,$*K,N[b],J[b],C)*Q[b]}j(z,S++,Math.round(Math.max(0,255*Math.min(1,.5+U*.5))))}}}return V}();
g.g.adZ=function(){function l(o,D,H,_){var u=new Uint8Array(o.length>>>2),S=new Uint8Array(o.length>>>2),h=new Uint8Array(o.length);
for(var v=0;v<o.length;v+=4){var F=o[v+0]*.3+o[v+1]*.59+o[v+2]*.11;S[v>>>2]=F;h[v]=o[v];h[v+1]=o[v+1];
h[v+2]=o[v+2]}g.$z.ady(S,u,D,H);g.$z.Z_(o,_,D,H,g.$z.lF[1],0,!0);for(var v=0;v<o.length;v+=4){h[v+3]=255-u[v>>>2]}for(var v=0,n=o.length;
v<n;v+=4){var R=h[v+3]/255;_[v]=h[v]*R+_[v]*(1-R);_[v+1]=h[v+1]*R+_[v+1]*(1-R);_[v+2]=h[v+2]*R+_[v+2]*(1-R)}}return l}();
g.g.a6I=function(){function l(u,S,h,F,n){var R=new Uint32Array(u.buffer),s=0;for(var v=0;v<h;v++){for(var Z=0;
Z<S;Z++,s+=4){var O=R[v*S+Z],w=O&255,m=O>>>8&255,V=O>>>16&255,q=O>>>24&255,i=~~(Math.random()*8),c=i%3,z=0,B=0;
if(i<3){B--}else if(i>4){B++}if(c==0){z--}else if(c==2){z++}var t=Z+z,a=v+B;if(t<0)t=0;else if(t>S-1)t=S-1;
if(a<0)a=0;else if(a>h-1)a=h-1;var O=R[a*S+t],I=O&255,N=O>>>8&255,J=O>>>16&255,Q=O>>>24&255;F[s]=n(w,I);
F[s+1]=n(m,N);F[s+2]=n(V,J);F[s+3]=n(q,Q)}}}function o(u,S){return S}function D(u,S){return u>S?S:u}function H(u,S){return u<S?S:u}function _(u,S,h,F,n){var R=n[0];
if(R==0)l(u,S,h,F,o);else if(R==1)l(u,S,h,F,D);else if(R==2)l(u,S,h,F,H);else if(R==3){console.error("Not implemented")}else console.error("Mew mew")}return _}();
g.g.au_=function(){function l(o,D,H,_,u){var S=u&&u[0]?u[0]:4,h,F,n,R,s,Z,O;for(var v=0;v<H;v++){var w=Math.max(v-S,0),m=Math.min(v+S,H-1);
for(var V=0;V<D;V++){var q=Math.max(V-S,0),i=Math.min(V+S,D-1);h=w*D+q<<2;R=o[h];s=o[h+1];Z=o[h+2];O=o[h+3];
h=w*D+i<<2;R+=o[h];s+=o[h+1];Z+=o[h+2];O+=o[h+3];h=m*D+q<<2;R+=o[h];s+=o[h+1];Z+=o[h+2];O+=o[h+3];h=m*D+i<<2;
R+=o[h];s+=o[h+1];Z+=o[h+2];O+=o[h+3];h=v*D+V<<2;_[h]=R+2>>>2;_[h+1]=s+2>>>2;_[h+2]=Z+2>>>2;_[h+3]=O+2>>>2}}}return l}();
g.g.ahA=function(){function l(o,D,H,_){var u=new Uint8Array(o.length),S=new Uint8Array(o.length>>>2),h=new Uint8Array(o.length>>>2);
g.$z.Z_(o,u,D,H,g.$z.lF[2],0,!0);for(var v=0;v<o.length;v+=4){var F=u[v+0]*.3+u[v+1]*.59+u[v+2]*.11;
S[v>>>2]=F;_[v+0]=o[v+0];_[v+1]=o[v+1];_[v+2]=o[v+2];_[v+3]=o[v+3]}g.$z.ady(S,h,D,H);for(var v=0;v<o.length;
v+=4){u[v+3]=~~(Math.max(0,255-h[v>>>2]-50)*(255/205))}for(var v=0,n=o.length;v<n;v+=4){var R=u[v+3]/255;
_[v]=u[v]*R+_[v]*(1-R);_[v+1]=u[v+1]*R+_[v+1]*(1-R);_[v+2]=u[v+2]*R+_[v+2]*(1-R)}}return l}();g.g.mg=function(){function l(i,c){return i[c]+i[c+1]+i[c+2]+i[c+3]}function o(i,c){return i[c]+i[c+1]+i[c+2]+2*i[c+3]}function D(i,c,z,B){i[c]=z[B];
i[c+1]=z[B+1];i[c+2]=z[B+2];i[c+3]=z[B+3]}function H(i,c,z){i[c]=i[z];i[c+1]=i[z+1];i[c+2]=i[z+2];i[c+3]=i[z+3]}function _(i,c,z){i[z]=c[z];
i[z+1]=c[z+1];i[z+2]=c[z+2];i[z+3]=255-c[z+3]}function u(i){for(var v=0,c=i.length;v<c;v+=4){i[v+3]=255-i[v+3]}}function S(){var i=Math.random();
if(i>.5)return 0;if(i>.25)return 1;if(i>.1)return 2;if(i>.02143)return 3;if(i>.00445)return 4;if(i>65e-5)return 5;
if(i>415e-6)return 6;if(i>55e-6)return 7;return 8}function h(i,c,z,B,t,a){i[c]=z[B]+(t[a]-z[B]>>1);i[c+1]=z[B+1]+(t[a+1]-z[B+1]>>1);
i[c+2]=z[B+2]+(t[a+2]-z[B+2]>>1);i[c+3]=z[B+3]+(t[a+3]-z[B+3]>>1)}function F(i,c,z,B,t,a){i[c]=t[a]+z[B]>>1;
i[c+1]=t[a+1]+z[B+1]>>1;i[c+2]=t[a+2]+z[B+2]>>1;i[c+3]=t[a+3]+z[B+3]>>1}function n(i,c,z,B,t,a,I,N,J){var Q=0,A=0,f=0,v,W=t[a],C;
h(N,0,i,c,i,z);for(v=0;v<W;v++){h(N,(v+1)*4,N,v*4,i,z)}A=(W+1)*4;f+=W;a--;D(i,c,N,A-4);B[a]=l(i,c);c-=J;
while(a>0&&B[a-1]<B[a]){C=N;N=I;I=C;Q=A;F(N,0,i,c-J,I,0);for(v=4;v<Q;v+=4){F(N,v,N,v-4,I,v)}W=t[a];for(v=f;
v<W;v++){h(N,A,N,A-4,I,Q-4);A+=4;f++}a--;D(i,c,N,A-4);B[a]=l(i,c);c-=J}}function R(i,c,z,B,t){var a=c*4,I=0,N,J,Q=new Uint8Array(c+1),A=new Uint8Array(10*4),f=new Uint8Array(10*4);
for(var v=0;v<z;v++){_(B,i,I);t[0]=l(B,I);Q[0]=S();N=I;I+=4;for(var W=1;W<c;W++){_(B,i,I);t[W]=l(B,I);
J=S();Q[W]=J;if(t[W-1]<t[W]&&J>0){n(B,I-4,I,t,Q,W,A,f,4)}I+=4}t[c]=t[0];Q[c]=Q[0];if(t[c-1]<t[c]&&J>0){n(B,I,N,t,Q,c,A,f,4)}}u(B)}function s(){var i=Math.random();
if(i>.659755)return 0;if(i>.1625)return 10;if(i>.06)return 20;if(i>.01)return 30;if(i>.0035)return 40;
if(i>65e-5)return 50;if(i>415e-6)return 60;if(i>55e-6)return 70;return 80}function Z(i,c,z,B,t,a){var I=s()+1,N=B[t];
for(var v=1;v<I;v++){if(0>t)break;if(B[t-v]<N){H(i,c,z)}else{break}c+=a}}function O(i,c,z,B,t){var a=c*4,I=0;
for(var v=0;v<z;v++){_(B,i,I);t[0]=l(B,I);I+=4;for(var N=1;N<c;N++){_(B,i,I);t[N]=l(i,I);if(t[N-1]<t[N]){Z(B,I-4,I,t,N,-4)}I+=4}t[c]=t[0];
if(t[N-1]<t[N]){Z(B,I-4,I-a,t,N,-4)}}u(B)}function w(i,c,z,B,t,a){var I=1,N,J,Q=new Uint8Array(4),A,f=c;
while(Math.random()<1/I){f=c;if(B<=1)break;N=z[B];J=z[B-1];if(N<=J)break;D(Q,0,i,f-a);A=!0;for(var v=B;
v<t;v++){if(J>z[v]){D(i,f-a,Q,0);z[v-1]=J;A=!1;break}D(i,f-a,i,f);z[v-1]=z[v];f+=a}if(A){D(i,f-a,Q,0);
z[t-1]=J}I++;B--;c-=a}}function m(i,c,z,B,t){var a=0,I=0,N=c*4;for(var v=0;v<z;v++){I=a;for(var J=0;
J<c;J++){_(B,i,a);t[J]=o(B,a);a+=4}a=I;for(var J=1;J<c;J++){if(t[J-1]<t[J]&&Math.random()<.66){w(B,a+4,t,J,c,4)}a+=4}a+=4}u(B)}function V(i,c,z,B,t){var a=t[0],I=t[1],N=new Uint16Array(c+1),J=i,Q=B,A;
if(I){A=B.slice(0);q(i,B,c,z);J=B;Q=A}if(a==0)R(J,c,z,Q,N);else if(a==1)O(J,c,z,Q,N);else if(a==2)m(J,c,z,Q,N);
if(I){q(A,B,c,z)}}function q(i,c,z,B){for(var t=0;t<B;t++)for(var a=0;a<z;a++){var I=t*z+a<<2,N=t*z+(z-1-a)<<2;
c[N]=i[I];c[N+1]=i[I+1];c[N+2]=i[I+2];c[N+3]=i[I+3]}}return V}();g.g.ay_=function(l,o,D,H,_){var u=g.g.p,S=1,V=0,c=0;
u.Vk(o,D);u.WB(_[2]);var h=3<<13,F=Math.PI/2.43,n=F/256,R=Math.PI*2/256;function s(){var a=u.random()*256,I=u.random()*256;
return S*~~(Math.tan(F-a*n)*325*Math.cos(I*R)*256)+h>>16}S=_[0];var Z=_[1],O=(Z+2)/2,w=u.random()*255,m=u.MG(1);
for(var v=0;v<D;v++){var q=u.$n(s()+w);for(var i=0;i<o;i++){q=u.$n(s()+q);m[V++]=q}}V=o;for(var v=1;
v<D;v++){var z=u.$n(s()+m[c++]);m[V++]=z;for(var i=1;i<o;i++){var B=c+1;if(i+1==o){B--}var t=(O+z+m[B]+m[c]*Z)/(Z+2);
z=u.$n(s()+t);m[V++]=z;c++}}u.xU(m,H)};var eX=function(){function l(L){L=L^61^L>>>16;L=L+(L<<3);L=L^L>>>4;
L=L*668265261;L=L^L>>>15;return L}var o=function(){var o=function(L){if(L){this.M=L}this.M=l(this.M);
return(this.M&16777215)*(1/16777215)};return o};function D(L,Y){if(Y==null){Y=[0,0]}return Math.sqrt((Y[0]-L[0])*(Y[0]-L[0])+(Y[1]-L[1])*(Y[1]-L[1]))}function H(L,Y){if(Y==null){Y=[0,0]}return[-(Y[1]-L[1])/D(L,Y),(Y[0]-L[0])/D(L,Y)]}function _(L){return[Math.cos(L),Math.sin(L)]}function u(L){var Y=D(L,[0,0]),X=[L[0]/Y,L[1]/Y],G=Math.atan(X[1]/X[0]);
if(X[0]>0&&X[1]<0){G+=2*Math.PI}else if(X[0]<0&&X[1]<0){G+=Math.PI}else if(X[0]<0&&X[1]>0){G+=Math.PI}return G}function S(L){var S=0;
for(var v=1;v<L.length/2;++v){S+=D([L[2*v],L[2*v+1]],[L[2*(v-1)],L[2*(v-1)+1]])}return S}function h(L,Y,X){var G=new Float32Array(L.length),E=1/(L.length/2),T=B(X);
for(var v=0;v<L.length/2;++v){var y=v*E,d4=y/2+.5,dH=1,eV=0;if(X.shape==2){dH=1/(2*d4)}if(X.shape==3){d4=(1-y)/2+.5;
dH=1/(2*d4)+.5}if(X.shape==4){d4=y;dH=Math.sin(3/2*Math.PI*d4)/4+1}if(X.shape==5){d4=(y-.5)*6;dH=(-Math.atan(d4)/1.25+1)/5+.6-.2*y}var bf=[null,null];
if(v==0){bf=H([L[2*v],L[2*v+1]],[L[2*(v+1)],L[2*(v+1)+1]])}else if(v==L.length/2-1){bf=H([L[2*(v-1)],L[2*(v-1)+1]],[L[2*v],L[2*v+1]])}else{bf=H([L[2*(v-1)],L[2*(v-1)+1]],[L[2*(v+1)],L[2*(v+1)+1]])}G[2*v]=L[2*v]+(dH*Y+eV)*bf[0];
G[2*v+1]=L[2*v+1]+(dH*Y+eV)*bf[1];if(X.style==2){G[2*v]+=t(2*v/G.length,T,X)}}return G}function F(L,Y,X){var G=new Float32Array(L.length),E=1/(L.length/2);
for(var v=0;v<L.length/2;++v){var T=v*E,y=[null,null],d4=.6*X.Pm*N(T,Y.abU)*X.sa/100,dH=.6*X.Pm*N(T,Y.aac)*X.sa/100,eV=Y.avE*d4+(1-Y.avE)*dH;
if(v==0){y=H([L[2*v],L[2*v+1]],[L[2*(v+1)],L[2*(v+1)+1]])}else if(v==L.length/2-1){y=H([L[2*(v-1)],L[2*(v-1)+1]],[L[2*v],L[2*v+1]])}else{y=H([L[2*(v-1)],L[2*(v-1)+1]],[L[2*(v+1)],L[2*(v+1)+1]])}G[2*v]=L[2*v]+eV*y[0];
G[2*v+1]=L[2*v+1]+eV*y[1]}return G}function n(L){if(L.DU==1){return[.150684932,.205479452,.465753425,.178082192]}else if(L.DU==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var Y=[],X=1/(f(L)-1);
for(var v=0;v<f(L)-1;++v){Y.push(X)}return Y}}function R(L,Y,X){var G=[],E=Y-L,T=L;for(var v=0;v<X.length-1;
++v){G.push(T+X[v]*E);T=G[v]}return G}function s(L,Y,X,G){var E=new Float32Array(X.length),T=0,y={shape:Math.floor(G.random()*2.99),aEk:G.random()*.1+.15};
for(var v=0;v<X.length-1;++v){var d4=T+X[v];E[v]=((1-d4)*L+d4*Y)*q(G,d4,y);T=d4}return E}function Z(L,Y,X,G){var E=Q(G),T=G.random(),y=T*20+(1-T)*26,d4=new Float32Array(X.length),dH=0;
for(var v=0;v<X.length-1;++v){var eV=dH+X[v];d4[v]=(1-eV)*L+eV*Y+E/y*(2/3*Math.sin(Math.PI*eV)+1/3*Math.sqrt(Math.sin(Math.PI*eV)));
dH=eV}return d4}function O(L,Y,X){var G=[];for(var v=0;v<Y.length-1;++v){G.push(Y[v].slice());var E=v*(f(X)-1),T=(v+1)*(f(X)-1),y=L[T]-L[E];
for(var d4=E+1;d4<T;++d4){var dH=B(X),eV=new Float32Array(Y[0].length),bf=(L[d4]-L[E])/y;for(var jd=0;
jd<Y[0].length/2;++jd){eV[2*jd]=(1-bf)*Y[v][2*jd]+bf*Y[v+1][2*jd];eV[2*jd+1]=(1-bf)*Y[v][2*jd+1]+bf*Y[v+1][2*jd+1];
if(X.style==2){eV[2*jd]+=t(2*jd/Y[0].length,dH,X)}}G.push(eV)}}G.push(Y[Y.length-1]);return G}function w(L,Y,X){var G=new Array(Y.length),E=U(L),y=null;
for(var v=0;v<Y.length;++v){G[v]=h(E,(Y[v]-.5)*X.sa,X)}var T=1+.05*X.axt*Q(X)/Q({DU:1});for(var v=0;
v<Y.length;++v){if(Y[v]==0){y=v}}for(var v=0;v<Y.length;++v){var d4=(X.random()-.5)*2,dH=Math.round(X.random()*9+1),eV=new Float32Array(dH*2+2);
for(var bf=0;bf<=dH;++bf){eV[2*bf]=G[v][0]-(G[v][2*bf]-G[v][0]);eV[2*bf+1]=G[v][1]-(G[v][2*bf+1]-G[v][1])}if(v==y){d4*=.1}for(var bf=(G[v].length-1)/2;
bf>dH;--bf){G[v][2*bf]=(1-d4)*G[v][2*bf]+d4*(G[v][2*(bf-dH)]+T*(G[v][2*bf]-G[v][2*(bf-dH)]));G[v][2*bf+1]=(1-d4)*G[v][2*bf+1]+d4*(G[v][2*(bf-dH)+1]+T*(G[v][2*bf+1]-G[v][2*(bf-dH)+1]))}for(var bf=dH-1;
bf>=0;--bf){G[v][2*bf]=(1-d4)*G[v][2*bf]+d4*(eV[2*(dH-bf)]+T*(G[v][2*bf]-eV[2*(dH-bf)]));G[v][2*bf+1]=(1-d4)*G[v][2*bf+1]+d4*(eV[2*(dH-bf)+1]+T*(G[v][2*bf+1]-eV[2*(dH-bf)+1]))}}var jd=I(Y,X);
if(X.Pm>0){var i5=0;for(var v=0;v<Y.length;++v){if(v==0){i5+=Y[v]}else{i5+=Math.abs(Y[v]-Y[v-1])}var fD=i5-Math.floor(i5),eo=1;
if(fD==0){eo=0}G[v]=F(G[v],{abU:jd[Math.floor(i5)],aac:jd[Math.floor(i5)+eo],avE:fD},X)}}return G}function m(L,Y){var X=j(Y,L),G=K(Y,L),E=[],T=[],y=[],d4=n(L);
for(var v=0;v<Y.length-1;++v){E.push(Y[v]);T.push(X[v]);y.push(G[v]);var dH=R(Y[v],Y[v+1],d4),eV=s(X[v],X[v+1],d4,L),bf=Z(G[v],G[v+1],d4,L);
for(var jd=0;jd<dH.length;++jd){E.push(dH[jd]);T.push(eV[jd]);y.push(bf[jd])}}E.push(Y[Y.length-1]);
T.push(X[X.length-1]);y.push(G[G.length-1]);return{aes:E,a4O:T,Vm:y}}function V(L,Y,X,G){var E=new Float32Array(2*G),T=L.length/2,y=T-Y,d4=X*y,dH=d4/G;
for(var v=0;v<G;++v){var eV=Math.floor(Y+v*dH),bf=Math.ceil(Y+v*dH),X=Y+v*dH,jd=bf-eV,i5=1,fD=0;if(jd!=0){i5=(bf-X)/jd;
fD=(X-eV)/jd}E[2*v]=i5*L[2*eV]+fD*L[2*bf];E[2*v+1]=i5*L[2*eV+1]+fD*L[2*bf+1]}return E}function q(L,Y,X){var G=X.aEk,E=Y*2*Math.PI,T=E,y=0;
if(X.shape==0){y=(Math.sin(2*T+Math.PI/2)+1)/2}else if(X.shape==1){y=(Math.sin(T+Math.PI/2)+1)/2}else{y=(4*Math.sin(3/4*T+Math.PI)+Math.sin(Math.PI/2+2*T)-2*T/Math.PI+6)/7}return Math.min(1,1-G+G*y)}function i(L,Y,X,G){var E=[];
for(var v=0;v<L.length;++v){E.push(V(L[v],Y[v],X[v],G))}return E}function c(L,Y,X){var G=[];for(var v=0;
v<L.length;++v){var E=_(2*Math.PI*X.random()),T=_(2*Math.PI*X.random()),y=X.nj*.5*W({DU:1})/W(X),d4=y*X.sa/200,dH=y*Y/500,eV=new Float32Array(L[0].length);
for(var bf=0;bf<L[0].length/2;++bf){var jd=_(2*Math.PI*X.random()),i5=2*bf/L[0].length;eV[2*bf]=L[v][2*bf]+d4*(jd[0]+((1-i5)*E[0]+i5*T[0]));
eV[2*bf+1]=L[v][2*bf+1]+dH*(jd[1]+((1-i5)*E[1]+i5*T[1]))}G.push(eV)}return G}function z(L,Y,X){var G=X._S,E=2/G,T=[1/10,1/30,1/40,1/45,1/100],y=T[X.DU-1],d4=4*(X.opacity/25*E*y)*(1-X.nj/150),jd=0,fD=0;
if(X.style==3){return d4*.09}var dH=2.2*(L-.5),eV=dH*dH*dH*dH+.27+Math.max(0,(X.opacity-50)/15),bf=2*(Math.sin(3*Math.PI*Y)/(Math.PI*Y+2)+1.1)-Y/2;
Y=2*Y;if(Y<.41){var i5=2*Math.PI*Y/.41;jd=(Math.sin(i5-Math.PI/2)+1)/4+.5}else if(Y<.77){var i5=2*Math.PI*(Y-.41)/.36;
jd=(Math.sin(i5-Math.PI/2)+1)/4+.5-i5/2/Math.PI*.5}else{var i5=2*Math.PI*(Y-.77)/.23;jd=(Math.sin(i5-Math.PI/2)+1)/2*.12}jd*=3;
jd+=Math.max(0,(X.opacity-50)/15);if(X.type==6){fD=bf}else{fD=jd}return d4*eV*fD}function B(L){return{L:L.random()*7/2+.5,ED:L.random()*2*Math.PI}}function t(L,Y,X){return X.sa/300*f({DU:1})/f(X)*10*(Math.sin(Y.L*2*Math.PI*L+Y.ED)+10*(X.random()-.5))}function a(L){var Y=Math.exp(-L.Pm/25);
return{L:L.random()*3/2+.5,ED:L.random()*2*Math.PI,AP:(L.random()-.5)*10*Y}}function I(L,Y){var X=Math.ceil($(L)),G=[];
for(var v=0;v<=X;++v){G.push(a(Y))}return G}function N(L,Y){var X=Y.L*4*Math.PI*L+Y.ED;return Math.exp(-1/2*Math.PI*L)*Math.cos(X)*Math.cos(X)*Math.cos(X)*Math.cos(X)*Math.cos(X)+L*Y.AP-Y.AP/4}function J(L,Y,X,G,E){var T=0,y=W(Y)-1;
for(var v=0;v<y;++v){for(var d4=0;d4<L.length-1;d4+=f(Y)-1){for(var dH=v;dH<L[0].length/2-y;dH+=y){for(var eV=d4;
eV<d4+(f(Y)-1);++eV){X[E+T]=z(eV*(Y._S-1)/(L.length-1)%1,dH/L[0].length,Y);var bf=0,jd=0;if(Y.type==6&&eV!=0&&eV!=L.length-1){jd=(L[eV][2*(dH+1)+1]-L[eV][2*dH+1])/2;
bf=(L[eV][2*(dH+1)]-L[eV][2*dH])/2}G[8*E+8*T]=L[eV][2*dH]+bf;G[8*E+8*T+1]=L[eV][2*dH+1]+jd;G[8*E+8*T+2]=L[eV][2*(dH+y)]+bf;
G[8*E+8*T+3]=L[eV][2*(dH+y)+1]+jd;G[8*E+8*T+4]=L[eV+1][2*(dH+y)];G[8*E+8*T+5]=L[eV+1][2*(dH+y)+1];G[8*E+8*T+6]=L[eV+1][2*dH];
G[8*E+8*T+7]=L[eV+1][2*dH+1];++T}}}}}function Q(L){var Y=[100,300,500,700,1e3];return Y[L.DU-1]}function A(L){var Y=[30,70,100,140,300];
return Y[L.DU-1]}function f(L){var Y=[5,7,26,40,100];return Y[L.DU-1]}function W(L){if(L.DU==1){return 4}else if(L.DU==2){return 8}else{return Math.floor(A(L)/9)}}function C(L){var Y=L._S,X=new Float32Array(Y),G=null;
for(var v=0;v<Y;++v){X[v]=L.random()}if(L._S<=3){X[0]=0;X[L._S-1]=1}else{for(var v=0;v<2;++v){var E=Math.floor(L.random()*Y);
if(G==null||G!=E){X[E]=v;G=E}else{X[E+1]=v}}}return X}function j(L,Y){var X=[],G=.2,T=0;for(var v=0;
v<L.length;++v){var E=Y.random()*(1-G)+G;X.push(E)}var y=Math.min(3,Y._S);for(var v=0;v<L.length;++v){if(X[v]>.9){++T}}while(T<y){var d4=Math.floor(Y.random()*L.length);
if(X[d4]<=.9){X[d4]=.9+.1*Y.random();++T}}return X}function K(L,Y){var X=Q(Y),G=Q({DU:1}),E=[];for(var v=0;
v<L.length;++v){E.push(Math.max(1,(Y.random()*10+2)*X/G))}return E}function $(L){var Y=0;for(var v=0;
v<L.length;++v){if(v==0){Y+=L[v]}else{Y+=Math.abs(L[v]-L[v-1])}}return Y}function r(L,Y){if(L.length/2-1==Q(Y)){return L}var X=new Float32Array(2*(Q(Y)+1)),G=(L.length-2)/(X.length-2);
for(var v=0;v<X.length/2;++v){var E=v*G,T=Math.floor(E),y=Math.ceil(E),d4=y-T,dH=1,eV=0;if(d4!=0){dH=(y-E)/d4;
eV=(E-T)/d4}X[2*v]=dH*L[2*T]+eV*L[2*y];X[2*v+1]=dH*L[2*T+1]+eV*L[2*y+1]}return X}function U(L,Y){var X=L.length/2,G=S(L),E=G/X,T=!1,dH=0,eV=0,bf=1;
if(Y){var y=Math.floor(G/Y.ame),d4=Y.ame;if(Y.ayf&&L[0]==L[L.length-2]&&L[1]==L[L.length-1]){T=!0;d4=G/(y+1)}if(Y.type==2&&!T&&d4*y+Y.length>G){X=y+1}else{X=y+2}E=d4}var jd=new Float32Array(X*2);
jd[0]=L[0];jd[1]=L[1];for(var v=1;v<X;++v){while(dH<=v*E){eV=dH;dH+=D([L[2*bf],L[2*bf+1]],[L[2*(bf-1)],L[2*(bf-1)+1]]);
++bf}var i5=1-(v*E-eV)/(dH-eV);jd[2*v]=(1-i5)*L[2*bf]+i5*L[2*(bf-1)];jd[2*v+1]=(1-i5)*L[2*bf+1]+i5*L[2*(bf-1)+1]}jd[jd.length-2]=L[L.length-2];
jd[jd.length-1]=L[L.length-1];return jd}function b(L,Y){var X=U(L,Y),G=[];for(var v=0;v<(X.length-2)/2;
++v){var E=[];E.push(X[2*v]);E.push(X[2*v+1]);var T=D([X[2*(v+1)],X[2*(v+1)+1]],[X[2*v],X[2*v+1]]),y=[(X[2*(v+1)]-X[2*v])/T,(X[2*(v+1)+1]-X[2*v+1])/T],d4=_((Y.au5-90)/360*2*Math.PI),dH=y;
if(Y.type==3){dH=d4}else if(Y.type==4){dH=_(u(y)+u(d4))}else if(Y.type==5){dH=_(((Y.random()-.5)*Y.au5-90)/360*2*Math.PI)}var eV=Y.length;
if(Y.apo){eV=2*Y.random()*Y.length}E.push(X[2*v]+dH[0]*eV);E.push(X[2*v+1]+dH[1]*eV);G.push(E)}return G}function e(L){if(L.a6$){L.jb=100*Math.random()}else{L.jb=L.a1I}L.random=new o;
L.random(L.jb);if(L.type==6){L._S=2;L.shape=5;L.axt=0}}function P(L,Y){L=r(L,Y);var X=[L],eV=0;if(Y.type>=2&&Y.type<6){X=b(L,Y)}var G=W(Y)-1,E=A(Y)-G,T=(Y._S-1)*(f(Y)-1),y=X.length*E*T,d4=new Float32Array(y),dH=new Float32Array(8*y);
for(var v=0;v<X.length;++v){for(var bf=0;bf<1e4;++bf){Y.jb=l(Y.jb)}Y.random(Y.jb);var L=r(X[v],Y),jd=C(Y),i5=$(jd),fD=w(L,jd,Y),eo=m(Y,jd),iX=O(eo.aes,fD,Y);
iX=i(iX,eo.Vm,eo.a4O,A(Y));if(Y.nj>0){iX=c(iX,S(X[v]),Y)}J(iX,Y,d4,dH,eV);eV+=E*T}return[d4,dH]}var eX=function(L){var Y=performance.now(),X=L[0],G=L[1];
e(G);var E=[new Float32Array(0),new Float32Array(0)];for(var v=0;v<X.length;++v){G.jb=l(G.jb);var T=P(X[v],G),y=new Float32Array(E[0].length+T[0].length),d4=new Float32Array(E[1].length+T[1].length);
y.set(E[0]);y.set(T[0],E[0].length);E[0]=y;d4.set(E[1]);d4.set(T[1],E[1].length);E[1]=d4}var dH=performance.now();
if(G.ae7){console.tM("Geometry: "+String(dH-Y)+"ms")}return E};return eX}(),bG=function(){function l(_,u){var S=[],h=0,F=u.length,n=0,R=0,s=new gt,Z=0,O=1e9;
for(R=0;R<F;R++){var w=R*8,m=u[R];if(m<O)O=m;var V=_[w+0],q=_[w+1],i=_[w+2],c=_[w+3],z=_[w+4],B=_[w+5],t=_[w+6],a=_[w+7],I=Math.min(V,i,z,t),N=Math.max(V,i,z,t),J=Math.min(q,c,B,a),Q=Math.max(q,c,B,a),A=new gt(I,J,N-I,Q-J),f=A.tB(s),W=Z+m;
if(R-n<10&&(R==n||f.c()*.8<A.c()+s.c())){s=f;Z=W}else{S.push(R-n);n=R;s=A;Z=m;O=m}}if(R!=n)S.push(R-n);
return S}function o(_,u,S,h,F,n){var R=document.createElement("canvas"),q=0,y=.8;R.width=u;R.height=S;
var s=R.getContext("2d"),Z=F[0],O=F[1],w=new Float64Array(u*S),m=Date.now(),V=l(O,Z);for(var i=0;i<V.length;
i++){var c=q,z=q+V[i],a=1e9,N=1e9,j=0;q=z;var B=c*8,t=z*8,I=-a,J=-N;for(var Q=B;Q<t;Q+=2){var A=O[Q],f=O[Q+1];
if(A<a)a=A;if(A>I)I=A;if(f<N)N=f;if(f>J)J=f}a=Math.floor(a);I=Math.ceil(I);N=Math.floor(N);J=Math.ceil(J);
var W=I-a,C=J-N;for(var K=c;K<z;K++)j+=Z[K];for(var Q=B;Q<t;Q+=8){var $=Z[Q>>>3],r=O[Q+0],U=O[Q+1],b=O[Q+2],e=O[Q+3],P=O[Q+4],L=O[Q+5],Y=O[Q+6],X=O[Q+7];
s.fillStyle="rgba(0,0,0,"+$/j+")";s.beginPath();s.moveTo(r,U);s.lineTo(b,e);s.lineTo(P,L);s.lineTo(Y,X);
s.closePath();s.fill()}var G=s.getImageData(a,N,W,C).data;for(var f=0;f<C;f++)for(var A=0;A<W;A++){var v=f*W+A,E=G[v*4+3],T=(N+f)*u+a+A;
if(E!=0)w[T]+=E*j}s.clearRect(a,N,W,C)}var d4=n[1].color,dH=Math.pow(d4.$/255,y),eV=Math.pow(d4.H/255,y),bf=Math.pow(d4.J/255,y),jd=new gt(0,0,u,S),i5=g.o(u*S*4);
for(var f=0;f<S;f++)for(var A=0;A<u;A++){var v=f*u+A,K=v*4,Z=w[v]*(1/255);i5[K]=H(dH,Z);i5[K+1]=H(eV,Z);
i5[K+2]=H(bf,Z);i5[K+3]=Math.min(255,Z*255)}g.z.JM("norm",i5,jd,h,jd,jd,1)}var D=new Uint8Array(2e3);
for(var v=0;v<2e3;v++)D[v]=255*Math.min(1,Math.log(v/700+1));function H(_,u){return D[Math.min(1500,~~(_*u*1e3))]}return o}(),h5=function(){var l=new Float32Array(3e3),o=new Float32Array(3e3),D=new Float32Array(256),H=new Float32Array(3e3);
function _(){var O=l.length;l[0]=Math.log10(157647e-9);for(var v=1;v<O;++v)l[v]=Math.log10(v/O)}function u(){var O=o.length;
for(var v=0;v<O;++v)o[v]=Math.pow(10,20*(v-O/2)/O)}function S(){var O=D.length;for(var v=0;v<O;++v)D[v]=g.vH(v/255)}function h(){var O=H.length;
for(var v=0;v<O;++v)H[v]=255*g.Xf(v/(O-1))}function F(O,w){var m=O.length>>>2;for(var v=0;v<m;++v){var V=D[O[4*v]],q=D[O[4*v+1]],i=D[O[4*v+2]],c=.3811*V+.5783*q+.0402*i,z=.1967*V+.7244*q+.0782*i,B=.0241*V+.1288*q+.8444*i;
c=l[~~(c*l.length)];z=l[~~(z*l.length)];B=l[~~(B*l.length)];w[3*v]=(c+z+B)*.5773502692;w[3*v+1]=(c+z-2*B)*.4082482905;
w[3*v+2]=(c-z)*.7071067812}}function n(O,w){var m=w.length>>>2,V=H.length-1;for(var v=0;v<m;++v){var q=.5773502692*O[3*v],i=.4082482905*O[3*v+1],c=.7071067812*O[3*v+2],z=o[~~((q+i+c+10)*(3e3/20))],B=o[~~((q+i-c+10)*(3e3/20))],t=o[~~((q-2*i+10)*(3e3/20))],a=4.4679*z-3.5873*B+.1193*t,I=-1.2186*z+2.3809*B-.1624*t,N=.0497*z-.2439*B+1.2045*t;
w[4*v]=H[~~(V*Math.max(0,Math.min(1,a)))];w[4*v+1]=H[~~(V*Math.max(0,Math.min(1,I)))];w[4*v+2]=H[~~(V*Math.max(0,Math.min(1,N)))]}}function R(O){var w=0,m=0,V=0;
for(var v=0;v<O.length;v+=3){w+=O[v];m+=O[v+1];V+=O[v+2]}return[w/(O.length/3),m/(O.length/3),V/(O.length/3)]}function s(O,R){var w=0,m=0,V=0;
for(var v=0;v<O.length;v+=3){var q=O[v]-R[0],i=O[v+1]-R[1],c=O[v+2]-R[2];w+=q*q;m+=i*i;V+=c*c}return[Math.sqrt(w/(O.length/3)),Math.sqrt(m/(O.length/3)),Math.sqrt(V/(O.length/3))]}function Z(O,w,m,V,q,i){_();
u();S();h();var c=0,U,b;if(i[0]>100)c=-(i[0]-100)/100*.13;else if(i[0]>=75)c=(100-i[0])/25*.04;else if(i[0]>=50)c=.04+(75-i[0])/25*.04;
else if(i[0]>=25)c=.08+(50-i[0])/25*.08;else c=.16+(25-i[0])/25*.24;var z=(i[1]-100+100)/100,B=i[2]/100,t=i[3],a=new Float32Array(O.length*3/4),I=new Float32Array(V.length*3/4),N=Date.now();
F(O,a);F(V,I);var J=Date.now(),Q=R(a),A=R(I),f=Date.now(),W=s(a,Q),C=s(I,A),j=Date.now();A[0]*=Math.pow(10,c);
var K=[C[0]/W[0],C[1]/W[1],C[2]/W[2]],$=a.length,r=1/-1.1546978950500488;for(var v=0;v<$;v+=3){if(t){var e=Math.max(0,Math.min(1,a[v]*r));
e=1-Math.sqrt(e);U=e*A[1];b=e*A[2]}else{U=A[1];b=A[2]}a[v]=(a[v]-Q[0])*K[0]+A[0];a[v+1]=(a[v+1]-Q[1])*K[1]*z+U;
a[v+2]=(a[v+2]-Q[2])*K[2]*z+b}var P=Date.now();n(a,q);var L=q.length>>>2;for(var v=0;v<L;++v){q[4*v]=(1-B)*q[4*v]+B*O[4*v];
q[4*v+1]=(1-B)*q[4*v+1]+B*O[4*v+1];q[4*v+2]=(1-B)*q[4*v+2]+B*O[4*v+2];q[4*v+3]=255}}return Z}(),f7=function(){function l(o,D,H,_,u){var S=[-1,-1,-1,-1],h=255,F=160,n,R=!1,s=new Array(4);
s[0]=new Array(D);s[1]=new Array(H);s[2]=new Array(D);s[3]=new Array(H);var Z=new Array(2);Z[0]=new Array(H);
Z[1]=new Array(H);function O(C,j,K,$,r){this.start=$;this.axis=r;this.dir=C;this.end=-1;this.source=j;
this.c=K}function w(C,j,K,$,r){if(K%2==0){if(!s[K][C])s[K][C]=new Array;s[K][C].push(new O(K,$,r,j,C))}else{if(!s[K][j])s[K][j]=new Array;
s[K][j].push(new O(K,$,r,C,j))}var U=Date.now()}function m(v){var C=!1,j=0;if(o[4*v+3]<h)return C;var K=v%D,$=Math.floor(v/D);
V(K,$);if(v+D<D*H&&o[4*(v+D)+3]<h&&o[4*(v-D)+3]>=h&&o[4*(v-2*D)+3]>=h){var r=2;if(o[4*(v+D)+3]<=F)j=-1;
if(o[4*(v+2*D-1)+3]<h&&o[4*(v+2*D+1)+3]<h)C=!0;else if(o[4*(v+2*D-1)+3]>=h&&o[4*(v+1)+3]>=h)C=!0;else if(o[4*(v+2*D+1)+3]>=h&&o[4*(v-1)+3]>=h)C=!0;
w(K,$,r,j,C)}else if(v-D>=0&&o[4*(v-D)+3]<h&&o[4*(v+D)+3]>=h&&o[4*(v+2*D)+3]>=h){var r=0;if(o[4*(v-D)+3]<=F)j=-1;
if(o[4*(v-2*D-1)+3]<h&&o[4*(v-2*D+1)+3]<h)C=!0;else if(o[4*(v-2*D-1)+3]>=h&&o[4*(v+1)+3]>=h)C=!0;else if(o[4*(v-2*D+1)+3]>=h&&o[4*(v-1)+3]>=h)C=!0;
w(K,$,r,j,C)}j=0;if(v+1<D*H&&o[4*(v+1)+3]<h&&o[4*(v-1)+3]>=h&&o[4*(v-2)+3]>=h){var r=3;if(o[4*(v+1)+3]<=F)j=-1;
if(!C&&o[4*(v+D+2)+3]<h&&o[4*(v-D+2)+3]<h){C=!0;w(K,$,r,j,!0)}else w(K,$,r,j,!1)}else if(v>=1&&o[4*(v-1)+3]<h&&o[4*(v+1)+3]>=h&&o[4*(v+2)+3]>=h){var r=1;
if(o[4*(v-1)+3]<=F)j=-1;if(!C&&o[4*(v+D-2)+3]<h&&o[4*(v-D-2)+3]<h){C=!0;w(K,$,r,j,!0)}else w(K,$,r,j,!1)}return C}function V(v,C){if(S[0]==-1){S[0]=v;
S[1]=C;S[2]=1;S[3]=1}if(v<S[0]){S[2]+=S[0]-v;S[0]=v}if(v>S[0]+S[2])S[2]=v-S[0];if(C<S[1]){S[3]+=S[1]-C;
S[1]=C}if(C>S[1]+S[3])S[3]=C-S[1]}function q(C,v,j,K){if(!j.c)return;var $=(C+2)%4,r=j.start,U=S[1];
if(C==2)U+=S[3];else if(C==1)U=S[0];else if(C==3)U=S[0]+S[2];var b=j.source;if(s[$][v])for(var e=0;e<s[$][v].length;
++e){if(C>1){var P=r+Math.floor((s[$][v][e].start-r)/2);if(s[$][v][e].start>r&&P<U)U=P}else{var P=r-Math.floor((r-s[$][v][e].start)/2);
if(s[$][v][e].start<r&&P>U)U=P}}for(var L=1;L<Math.abs(U-r);++L){var e=r+L;if(C==1||C==0)e=r-L;for(var Y=0;
Y<2;++Y){var X=2*Y,G=!1;if(C%2==0)X+=1;if(s[X][e]){for(var E=0;E<s[X][e].length;++E){if(s[X][e][E].c){var T=s[X][e][E].start,y=v-T,d4=e-r;
if(X==0||X==1)y=-y;if(y<=0)continue;if(C==0||C==1)d4=-d4;if(d4>y){U=e;G=!0;break}}}if(G)break}}}j.end=U;
z(C,v,r,U,b)}function i(C){for(var v=0;v<s[C].length;++v){if(s[C][v])for(var j=0;j<s[C][v].length;++j){q(C,v,s[C][v][j])}}}function c(){var C=[2,0,3,1];
for(var v=0;v<C.length;++v)i(C[v])}function z(C,v,j,K,$){if(C==2)for(var r=j;r<=K;++r){if(!B(r*D+v,(j+$)*D+v))return!1}else if(C==0)for(var r=j;
r>=K;--r){if(!B(r*D+v,(j-$)*D+v))return!1}else if(C==1)for(var r=j;r>=K;--r){if(!B(v*D+r,v*D+j-$))return!1}else if(C==3)for(var r=j;
r<=K;++r){if(!B(v*D+r,v*D+j+$))return!1}}function B(C,j){if(!n[C]){_[4*C]=_[4*j];_[4*C+1]=_[4*j+1];_[4*C+2]=_[4*j+2];
if(R)_[4*C+3]=255;n[C]=!0;return!0}return!1}function t(){for(var v=0;v<4;v+=1){for(var C=0;C<s[v].length;
++C){if(s[v][C])for(var j=0;j<s[v][C].length;++j){var K=s[v][C][j];for(var $=1;$<3;$+=2){var r=(v+$)%4;
if(s[r][K.start])for(var U=0;U<s[r][K.start].length;++U){if(s[r][K.start][U].start==K.axis){var kC=D*K.start+K.axis;
if(v%2==1){kC=K.start+D*K.axis;a(s[r][K.start][U])}else a(K)}}}}}}}function a(C){if(C.dir%2==0){var kC=D*C.start+C.axis,j=C.start,K=1;
if(!n[kC+1])K=3;else if(n[kC-1])return;var $=_[4*kC],r=_[4*kC+1],U=_[4*kC+2];while(_[4*kC]==$&&_[4*kC+1]==r&&_[4*kC+2]==U){if(K==1){if(!Z[0][j])Z[0][j]=new Array;
Z[0][j].push(new O(K,0,!1,C.axis,j))}else{if(!Z[1][j])Z[1][j]=new Array;Z[1][j].push(new O(K,0,!1,C.axis,j))}if(C.dir==2){kC+=D;
j++}else{kC-=D;j--}}}}function I(){for(var C=0;C<2;++C){var j=(C+1)%2;for(var v=0;v<Z[C].length;++v){if(Z[C][v])for(var K=0;
K<Z[C][v].length;++K){var $=S[0];if(C==1)$+=S[2];var r=Z[C][v][K].start;if(Z[j][v])for(var U=0;U<Z[j][v].length;
++U){var b=Z[j][v][U].lv;if(C==0){if(b>$&&b<r){$=r-Math.floor((r-b)/2)}}else{if(b<$&&b>r){$=r+Math.ceil((b-r)/2)}}}if(C==0)z(Z[C][v][K].dir,v,r-1,$,-1);
else z(Z[C][v][K].dir,v,r+1,$,-1)}}}for(var v=0;v<n.length;++v){if(!n[v]&&v%D>=S[0]&&v%D<=S[0]+S[2]&&Math.floor(v/D)>=S[1]&&Math.floor(v/D)<=S[1]+S[3]){var r=D;
if(v<r||!n[v-r])r=1;_[4*v]=_[4*(v-r)];_[4*v+1]=_[4*(v-r)+1];_[4*v+2]=_[4*(v-r)+2];n[v]=!0;if(R)_[4*v+3]=255}}}function N(){n=new Array(o.length/4);
for(var v=0;v<_.length/4;++v){n[v]=!1;_[4*v]=o[4*v];_[4*v+1]=o[4*v+1];_[4*v+2]=o[4*v+2];_[4*v+3]=o[4*v+3];
if(_[4*v+3]==255)n[v]=!0;if(m(v))n[v]=!1}if(S[0]>0){S[0]--;S[2]++}if(S[1]>0){S[1]--;S[3]++}if(S[0]+S[2]<D){S[2]++}if(S[1]+S[3]<H){S[3]++}}var J=Date.now();
N();var Q=Date.now();c();var A=Date.now();t();var f=Date.now();I();var W=Date.now();console.log("Init: "+String(Q-J));
console.log("Filling: "+String(A-Q));console.log("Check areas: "+String(f-A));console.log("Fill areas: "+String(W-f))}return l}();
function hM(){}hM.aow=function(l){var o=[g.vH(l[0]),g.vH(l[1]),g.vH(l[2]),0];return g.JX.GS(g.JX.a1Q,o)};
hM.ahK=function(l){var o=g.JX.GS(g.JX.sq,l);return[g.Xf(o[0]),g.Xf(o[1]),g.Xf(o[2])]};hM.kb=function(l,o){var D={},H=5003,_=1667,u=25e3,S=57.4,h=16.1,F=1.8,n=0,R=1.54,s=.75,w=0;
if(o>0){l-=o/100*4}if(l<0){h=22.54;S=80.36;R=.756}if(o>0){F=1.3;s=.2}var Z=Math.min(H+S*l,u),O=Math.max(H-h*l,_);
if(l<0){Z=Math.max(H+h*l,_);O=Math.min(H-S*l,u)}if(l>0){if(l<=14){w=(l-1)/13*.075+.025}else if(l<=29){w=.1}else if(l<=60){w=.1-.1*(l-29)/(60-29)}else{var m=l-60;
n=-20*(m/40);w=-.3*(m/40)}}else{if(l<-60){var m=l+60;n=-20*(m/40)}}var V=Math.abs(l)/100*R+Math.abs(o)/100*s+w,q=-(o*F+n),i=dM.Eb(Z,-q),c=dM.U9(i),z=dM.Eb(O,0),B=dM.U9(z),t=dM.a6b(c,B);
D.aAp=V;D.aaC=t;if(l==0&&o==0)D.aBR=!0;else D.aBR=!1;return D};hM.ahM=function(l,o,D,H){if(H.aBR){return[l,o,D]}var _=this.aow([l,o,D]),u=_[0],S=_[1],h=_[2],F=S+1e-12,n=[u/F,S/F,h/F,0],R=g.JX.GS(H.aaC,n),s=0,Z=.4;
R[0]*=F;R[1]*=F;R[2]*=F;if(F>Z)s=1/(1-Z)*(F-Z);_[0]=(1-s)*R[0]+s*u;_[1]=(1-s)*R[1]+s*S;_[2]=(1-s)*R[2]+s*h;
return this.ahK(_)};g.atH={IX:function(l,o){var v=l.length;l.push(o);var D=v>>>1;while(D!=0&&l[v][0]<l[D][0]){var H=l[v];
l[v]=l[D];l[D]=H;v=D;D=v>>>1}},ZN:function(l){if(l.length==2)return l.pop();var top=l[1],v=1;l[1]=l.pop();
var o=l.length;while(!0){var D=v<<1,H=D+1,_=v;if(D<o&&l[D][0]<l[_][0])_=D;if(H<o&&l[H][0]<l[_][0])_=H;
if(_==v)break;var u=l[v];l[v]=l[_];l[_]=u;v=_}return top},akL:function(l){for(var v=1;v<l.length;v++){var o=v,D=1e9;
while(o!=0){var H=l[o][0];if(H>D){console.log(v);throw"e"}D=H;o=o>>>1}}}};g.z={};g.z.rR=new Float64Array(256);
g.z.fS=new Uint8Array(256*256);g.z.nM=new Uint8Array(256*256);(function(){for(var v=0;v<256;v++)g.z.rR[v]=255/v;
for(var v=0;v<256;v++)for(var l=0;l<256;l++)g.z.fS[v*256+l]=v==0?0:Math.round(l*255/v);for(var v=0;v<256;
v++)for(var l=0;l<256;l++)g.z.nM[v*256+l]=Math.round(v*(255-l)/255)}());g.z.JM=function(l,o,D,H,_,u,S,h){if(h==null)h=cN.uM();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(l)==-1){S=S*h.fill;h.fill=1;h.style=!1}var F="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),n="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),R=g.z[l+"F"];
if(h.$d==null&&l=="norm")g.z.alx(o,D,H,_,u,S,R,h.U$?1:0);else if(l=="diss")g.z.a59(o,D,H,_,u,S,R,h.U$?1:0);
else if(F.indexOf(l)!=-1)g.z.awf(o,D,H,_,u,S,R,h);else if(n.indexOf(l)!=-1)g.z.a5v(o,D,H,_,u,S,R,h)};
g.z.a0X=function(l,o,D){var H=l*D+1-D;return H<.001?0:1-Math.min(1,(1-o)/H)};g.z.ahP=function(l,o,D){return l*D==1?1:Math.min(1,o/(1-l*D))};
g.z.VM=function(l){return l<=.25?((16*l-12)*l+4)*l:Math.sqrt(l)};g.z.normF=function(l,o,D){return l};
g.z.darkF=function(l,o,D){return Math.min(l,o)};g.z["mul F"]=function(l,o,D){return l*o};g.z.idivF=function(l,o,D){var H=l*D+1-D;
return o==1?1:1-o>=H?0:1-(1-o)/H};g.z.lbrnF=function(l,o,D){return Math.max(0,l*D+o-D)};g.z.dkClF=function(l,o,D){var H=g.SV(l)<g.SV(o)?l:o;
D.$=H.$;D.H=H.H;D.J=H.J;return D};g.z.liteF=function(l,o,D){return Math.max(l,o)};g.z.scrnF=function(l,o,D){return o+l-o*l};
g.z["div F"]=function(l,o,D){l*=D;return o==0?0:o>=1-l?1:o/(1-l)};g.z.lddgF=function(l,o,D){l*=D;return Math.min(1,l+o)};
g.z.lgClF=function(l,o,D){var H=g.SV(l)>g.SV(o)?l:o;D.$=H.$;D.H=H.H;D.J=H.J;return D};g.z.overF=function(l,o,D){return g.z.hLitF(o,l,D)};
g.z.sLitF=function(l,o,D){return l<=.5?o-(1-2*l)*o*(1-o):o+(2*l-1)*(g.z.VM(o)-o)};g.z.hLitF=function(l,o,D){return l<=.5?g.z["mul F"](2*l,o,D):g.z.scrnF(2*l-1,o,D)};
g.z.vLitF=function(l,o,D){return l<=.5?g.z.a0X(2*l,o,D):g.z.ahP(2*l-1,o,D)};g.z.lLitF=function(l,o,D){return l<=.5?g.z.lbrnF(2*l,o,D):g.z.lddgF(2*l-1,o,D)};
g.z.pLitF=function(l,o,D){return l<=.5?g.z.darkF(2*l,o,D):g.z.liteF(2*l-1,o,D)};g.z.hMixF=function(l,o,D){if(D>.99)return l+o<1?0:1;
return Math.min(1,Math.max(0,(o+l*D-D)/(1-D+1e-6)))};g.z.diffF=function(l,o,D){l*=D;return Math.abs(l-o)};
g.z.smudF=function(l,o,D){return l+o-2*l*o};g.z.fsubF=function(l,o,D){return Math.max(o-l,0)};g.z.fdivF=function(l,o,D){return Math.min(o/l,1)};
g.z["hue F"]=function(l,o,D){g.z.zM(l,g.hs(o),D);g.z.BJ(D,g.SV(o),D)};g.z["sat F"]=function(l,o,D){g.z.zM(o,g.hs(l),D);
g.z.BJ(D,g.SV(o),D)};g.z.colrF=function(l,o,D){g.z.BJ(l,g.SV(o),D)};g.z["lum F"]=function(l,o,D){g.z.BJ(o,g.SV(l),D)};
g.z.BJ=function(l,o,D){var H=o-g.SV(l);D.$=l.$+H;D.H=l.H+H;D.J=l.J+H;g.z.apl(D)};g.z.apl=function(l){var o=l.$,D=l.H,H=l.J,_=g.cn(o,D,H),kC=Math.min(o,D,H),u=Math.max(o,D,H);
if(kC<0){var S=_/(_-kC);o=_+(o-_)*S;D=_+(D-_)*S;H=_+(H-_)*S}if(u>1){var S=(1-_)/(u-_);o=_+(o-_)*S;D=_+(D-_)*S;
H=_+(H-_)*S}l.$=o;l.H=D;l.J=H};g.z.zM=function(l,o,D){var H=g.z.akX,_=l.$,u=l.H,S=l.J;if(_==u&&u==S){D.$=D.H=D.J=0}else if(_>u){if(_>S){if(u>S){D.$=o;
D.H=H(_,u,S,o);D.J=0}else{D.$=o;D.J=H(_,S,u,o);D.H=0}}else{D.J=o;D.$=H(S,_,u,o);D.H=0}}else{if(_<S){if(u>S){D.H=o;
D.J=H(u,S,_,o);D.$=0}else{D.J=o;D.H=H(S,u,_,o);D.$=0}}else{D.H=o;D.$=H(u,_,S,o);D.J=0}}};g.z.akX=function(l,o,D,H){return(o-D)*H/(l-D)};
g.z.alx=function(l,o,D,H,_,u,S,h){var F=o.$o(H).$o(_),n=Math.max(0,F.x-o.x),R=Math.max(0,F.x-H.x),s=Math.max(0,F.y-o.y),Z=Math.max(0,F.y-H.y),O=F.Q,w=F._,m=o.Q,V=H.Q,q=g.z.fS,i=g.z.nM,c=new Uint32Array(l.buffer),z=new Uint32Array(D.buffer);
for(var v=0;v<w;v++){var B=(s+v)*m+n,t=(Z+v)*V+R;for(var a=0;a<O;a++){var I=c[B+a],K=1;if(I>>>24==0)continue;
if(I>>>24==255&&u==1&&h==0){z[t+a]=c[B+a];continue}var N=z[t+a],J=I&255,Q=I>>>8&255,A=I>>>16&255,f=N&255,W=N>>>8&255,C=N>>>16&255,j=u,$=(N>>>24)*(1/255);
if(h==0){j=(I>>>24)*u*(1/255);K=$}var r=K*(1-j),U=j+r,b=1/U;z[t+a]=~~(.5+(h*$+(1-h)*U)*255)<<24|~~(.5+(A*j+C*r)*b)<<16|~~(.5+(Q*j+W*r)*b)<<8|~~(.5+(J*j+f*r)*b)}}};
g.z.axU=function(l,o,D,H,_,u){var S=o.$o(H).$o(_),h=Math.max(0,S.x-o.x),F=Math.max(0,S.x-H.x),n=Math.max(0,S.y-o.y),R=Math.max(0,S.y-H.y),s=S.Q,Z=S._,O=o.Q,w=H.Q,m=g.z.fS,V=g.z.nM,q=new Uint32Array(l.buffer),i=new Uint32Array(D.buffer),c=Math.floor(Math.random()*16777215),z=0;
for(var v=0;v<Z;v++){var B=(n+v)*O+h,t=(R+v)*w+F;for(var a=0;a<s;a++){var I=q[B+a];if(I>>>24==0)continue;
if(I>>24==255&&u==1){i[t+a]=I;continue}var N=i[t+a],J=(I>>>24)*u*(1/255),Q=(N>>>24)*(1/255),A=Q*(1-J),f=J+A,W=I&255,C=I>>>8&255,j=I>>>16&255,K=N&255,$=N>>>8&255,r=N>>>16&255;
z>>>=8;if((a&3)==0)z=g.z.cT(t+a+c);var U=f==0?0:1/f,b=Math.floor(f*(256*255))+(z&255)>>>8,e=Math.floor((j*J+r*A)*U+.5),P=Math.floor((C*J+$*A)*U+.5),L=Math.floor((W*J+K*A)*U+.5);
i[t+a]=b<<24|e<<16|P<<8|L}}};g.z.JJ=function(l,o,D,H,_,u,S,h){var F=g.cn(l,o,D),n=g.cn(H,_,u),R=Math.min,s=g.z.af0,Z=s(F,h,0);
Z=R(Z,s(l,h,8));Z=R(Z,s(o,h,16));Z=R(Z,s(D,h,24));var O=s(n,h,4);O=R(O,s(H,h,12));O=R(O,s(_,h,20));O=R(O,s(u,h,28));
O=Math.max(O,1-S);var w=Math.min(Z,O);return w<0?0:w>1?1:w};g.z.af0=function(l,o,v){return Math.min((l-o[v])*o[v+1],(l-o[v+3])*o[v+2])};
g.z.awf=function(l,o,D,H,_,u,S,h){var F=1/255,n=F*u,R=h.U$?1:0,s=h.fill,Z=h.style,O=o.$o(H).$o(_),w=Math.max(0,O.x-o.x),m=Math.max(0,O.x-H.x),V=Math.max(0,O.y-o.y),q=Math.max(0,O.y-H.y),i=O.Q,c=O._,z=o.Q,B=H.Q,t=new Uint32Array(l.buffer),a=new Uint32Array(D.buffer);
for(var v=0;v<c;v++){var I=(V+v)*z+w,N=(q+v)*B+m;for(var J=0;J<i;J++,I++,N++){var Q=t[I],U=1;if(Q>>>24==0)continue;
var A=a[N],f=(Q&255)*F,W=(Q>>>8&255)*F,C=(Q>>>16&255)*F,j=(A&255)*F,K=(A>>>8&255)*F,$=(A>>>16&255)*F,r=u;
if(R==0){r=(Q>>>24)*n;U=(A>>>24)*F}if(h.$d)r*=g.z.JJ(f,W,C,j,K,$,U,h.$d);var b=U*(1-r),e=r+b,P=e==0?0:255/e,L=Z?1:r,Y=((1-U)*r*f+(1-L)*U*j+L*U*S(f,j,(1+r-L)*s))*P,X=((1-U)*r*W+(1-L)*U*K+L*U*S(W,K,(1+r-L)*s))*P,G=((1-U)*r*C+(1-L)*U*$+L*U*S(C,$,(1+r-L)*s))*P;
e=r*s+U*(1-r*s);var E=~~(e*255+.5);a[N]=R*(A>>>24)+(1-R)*E<<24|G<<16|X<<8|Y}}};g.z.a5v=function(l,o,D,H,_,u,S,h){var F=1/255,n=F*u,R=h.U$?1:0,s=o.$o(H).$o(_),Z=Math.max(0,s.x-o.x),O=Math.max(0,s.x-H.x),w=Math.max(0,s.y-o.y),m=Math.max(0,s.y-H.y),V=s.Q,q=s._,i=new Uint32Array(l.buffer),c=new Uint32Array(D.buffer),z={$:0,H:0,J:0},B={$:0,H:0,J:0},t={$:0,H:0,J:0};
for(var v=0;v<q;v++){var a=(w+v)*o.Q+Z,I=(m+v)*H.Q+O;for(var N=0;N<V;N++,a++,I++){var J=i[a],Q=c[I],A=(J&255)*F,f=(J>>>8&255)*F,W=(J>>>16&255)*F,C=(Q&255)*F,j=(Q>>>8&255)*F,K=(Q>>>16&255)*F,$=u,r=1;
if(R==0){$=(J>>>24)*n;r=(Q>>>24)*F}if(h.$d)$*=g.z.JJ(A,f,W,C,j,K,r,h.$d);var U=r*(1-$),b=$+U,e=255/b;
z.$=A;z.H=f;z.J=W;B.$=C;B.H=j;B.J=K;S(z,B,t);var P=(((1-r)*A+r*t.$)*$+C*U)*e,L=(((1-r)*f+r*t.H)*$+j*U)*e,Y=(((1-r)*W+r*t.J)*$+K*U)*e,X=R*(Q>>>24)+(1-R)*Math.round(b*255);
c[I]=X<<24|Y<<16|L<<8|P}}};g.z._5=function(l){l=l^61^l>>>16;l=l+(l<<3);l=l^l>>>4;l=l*668265261;l=l^l>>15;
return(l&16777215)*(1/16777215)};g.z.cT=function(l){l=l^61^l>>>16;l=l+(l<<3);l=l^l>>>4;l=l*668265261;
l=l^l>>>15;return l};g.z.yu=function(l){this.WB=l};g.z.yu.prototype.get=function(){var l=this.WB=g.z.cT(this.WB);
return(l&16777215)*(1/16777215)};g.z.a59=function(l,o,D,H,_,u,S,h){var F=1/255,n=F*u,R=Math.round(u*(256*256*256/255)),s=o.$o(H).$o(_),Z=Math.max(0,s.x-o.x),O=Math.max(0,s.x-H.x),w=Math.max(0,s.y-o.y),m=Math.max(0,s.y-H.y),V=s.Q,q=s._,i=new Uint32Array(l.buffer),c=new Uint32Array(D.buffer);
for(var v=0;v<q;v++){var z=(w+v)*o.Q+Z,B=(m+v)*H.Q+O;for(var t=0;t<V;t++,z++,B++){var a=i[z],I=c[B],N=h*255+(1-h)*(a>>>24);
if((g.z.cT(z)&16777215)>=N*R)continue;c[B]=a&16777215|h*(I>>>24)+(1-h)*255<<24}}};g.z.aoi=function(l,o,D){for(var v=0;
v<l.length;v+=4){var H=D[v>>>2];if(H==0)continue;var _=H*(1/255),u=1/_,S=o[v],h=o[v+1],F=o[v+2],n=l[v],R=l[v+1],s=l[v+2];
o[v]=Math.min(255,Math.max(0,Math.round((S-(1-_)*n)*u)));o[v+1]=Math.min(255,Math.max(0,Math.round((h-(1-_)*R)*u)));
o[v+2]=Math.min(255,Math.max(0,Math.round((F-(1-_)*s)*u)));o[v+3]=255}};g.z.vx=function(l,o,D,H,_,u,S,h,F,n,R){if(n==null)n=!1;
if(R==null)R=[1,1,1];var s=255<<24|R[2]*16711680|R[1]*65280|R[0]*255,Z=~s;if(_&&!o.kn(u)){var O=g.o(o.c()*4);
O.fill(S);g.mB(_,u,O,o);_=O;u=o}if(n){if(_==null)g.z.aih(l,o,D,H,_,h,F,s,Z);else g.z.abC(l,o,D,H,_,h,F)}else{if(_==null)g.z.ayb(l,o,D,H,_,h,F,s,Z);
else g.z.ah1(l,o,D,H,_,h,F)}};g.z.ayb=function(l,o,D,H,_,u,S,h,F){var n=1/255,R=o.$o(H).$o(u),s=Math.max(0,R.x-o.x),Z=Math.max(0,R.x-H.x),O=Math.max(0,R.y-o.y),w=Math.max(0,R.y-H.y),m=R.Q,V=R._,q=new Uint32Array(l.buffer),i=new Uint32Array(D.buffer),c=g.z.fS,z=S*255&255;
for(var v=0;v<V;v++){var B=(O+v)*o.Q+s,t=(w+v)*H.Q+Z;for(var a=0;a<m;a++,B++,t++){var I=q[B],N=i[t],J=I>>>24,Q=N>>>24,A=g.UL(z*J+(255-z)*Q),f=g.UL(J*z),W=g.UL(Q*(255-z)),C=I&255,j=I>>>8&255,K=I>>>16&255,$=N&255,r=N>>>8&255,U=N>>>16&255,b=f*C+$*W,e=f*j+r*W,P=f*K+U*W;
b=c[A<<8|g.UL(b)];e=c[A<<8|g.UL(e)];P=c[A<<8|g.UL(P)];var L=A<<24|P<<16|e<<8|b;i[t]=F&N|h&L}}};g.z.aih=function(l,o,D,H,_,u,S,h,F){var n=1/255,R=o.$o(H).$o(u),s=Math.max(0,R.x-o.x),Z=Math.max(0,R.x-H.x),O=Math.max(0,R.y-o.y),w=Math.max(0,R.y-H.y),m=R.Q,V=R._,q=new Uint32Array(l.buffer),i=new Uint32Array(D.buffer),c=g.z.fS,z=S*16777215&16777215;
for(var v=0;v<V;v++){var B=(O+v)*o.Q+s,t=(w+v)*H.Q+Z;for(var a=0;a<m;a++,B++,t++){if((g.z.cT(B)&16777215)<z){i[t]=F&i[t]|h&q[B]}}}};
g.z.ah1=function(l,o,D,H,_,u,S){var h=1/255,F=o.$o(H).$o(u),n=Math.max(0,F.x-o.x),R=Math.max(0,F.x-H.x),s=Math.max(0,F.y-o.y),Z=Math.max(0,F.y-H.y),O=F.Q,w=F._,m=new Uint32Array(l.buffer),V=new Uint32Array(D.buffer),q=g.z.fS;
for(var v=0;v<w;v++){var i=(s+v)*o.Q+n,c=(Z+v)*H.Q+R;for(var z=0;z<O;z++,i++,c++){var B=_[i]*S&255;if(B==0)continue;
if(B==255){V[c]=m[i];continue}var t=m[i],a=V[c],I=t>>>24,N=a>>>24,J=g.UL(B*I+(255-B)*N),Q=g.UL(I*B),A=g.UL(N*(255-B)),f=t&255,W=t>>>8&255,C=t>>>16&255,j=a&255,K=a>>>8&255,$=a>>>16&255,r=q[J<<8|g.UL(Q*f+j*A)],U=q[J<<8|g.UL(Q*W+K*A)],b=q[J<<8|g.UL(Q*C+$*A)];
V[c]=J<<24|b<<16|U<<8|r}}};g.z.abC=function(l,o,D,H,_,u,S){var h=1/255,F=o.$o(H).$o(u),n=Math.max(0,F.x-o.x),R=Math.max(0,F.x-H.x),s=Math.max(0,F.y-o.y),Z=Math.max(0,F.y-H.y),O=F.Q,w=F._,m=new Uint32Array(l.buffer),V=new Uint32Array(D.buffer),q=g.z.fS,i=Math.round(S*257);
for(var v=0;v<w;v++){var c=(s+v)*o.Q+n,z=(Z+v)*H.Q+R;for(var B=0;B<O;B++,c++,z++){var t=_[c]*i;if((g.z.cT(c)&65535)<t)V[z]=m[c]}}};
g.z.ac9=function(l,o,D,H,_,u,S){var h=1/255,F=o.$o(H).$o(u),n=Math.max(0,F.x-o.x),R=Math.max(0,F.x-H.x),s=Math.max(0,F.y-o.y),Z=Math.max(0,F.y-H.y),O=F.Q,w=F._,m=new Uint32Array(l.buffer),V=new Uint32Array(D.buffer),q=Math.floor(Math.random()*H.c()),i=g.z.ag9;
for(var v=0;v<w;v++){var c=(s+v)*o.Q+n,z=(Z+v)*H.Q+R;for(var B=0;B<O;B++){var t=_[c+B]*S;if(t==0)continue;
if(t==255){V[z+B]=m[c+B];continue}var a=m[c+B],I=V[z+B],N=a>>>24,J=I>>>24,Q=N*t*(1/255),A=J*(255-t)*(1/255),f=a&255,W=a>>>8&255,C=a>>>16&255,j=I&255,K=I>>>8&255,$=I>>>16&255,r=g.z.cT(z+B+q),U=Math.floor((Q+A)*256+.5)+(r>>>0&255)>>>8,b=U==0?0:256/(Q+A),e=f*Q+j*A,P=W*Q+K*A,L=C*Q+$*A,Y=Math.floor(e*b+.5)+(r>>>8&255)>>>8,X=Math.floor(P*b+.5)+(r>>>16&255)>>>8,G=Math.floor(L*b+.5)+(r>>>24&255)>>>8;
V[z+B]=U<<24|G<<16|X<<8|Y}}};g.z.ag9=function(l){return Math.floor(l+Math.random())};g.z.d_=function(l,o,D,H,_,u,S){var h=1/255,F=o.$o(H).$o(u),n=Math.max(0,F.x-o.x),R=Math.max(0,F.x-H.x),s=Math.max(0,F.y-o.y),Z=Math.max(0,F.y-H.y),O=F.Q,w=F._;
for(var v=0;v<w;v++){var m=(s+v)*o.Q+n,V=(Z+v)*H.Q+R;for(var q=0;q<O;q++,m++,V++){var i=S*_[m]*h;if(i==0)continue;
if(i==1){D[V]=l[m];continue}D[V]=l[m]*i+D[V]*(1-i)}}};g.arP=function(){function l(u){var S=u*.85;return Math.exp(-(S*S)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function o(u,S){var h=u<S?1:l((u-S)/Math.pow(1.001-S,.86));
return h}var D=[];function H(u){if(D[u])return D[u];var S=Math.pow(u,.55),h=new Float64Array(8e3),F=0,n=8e3;
for(var v=0;v<8e3;v++){var R=o(v*(1.55/4e3),S);if(R>=1)F=v;else if(R<=0&&n==8e3)n=v;h[v]=R}var s=[h,F,n];
D[u]=s;return s}function _(u,S,h){if(u<4)S=1;var F=1+.55*(1-S),n=Math.round(h*u*F)+2,R=new gt(0,0,n,n),s=g.o(n*n),Z=[s,R],O=n/2,w=F/(O-1);
if(u==2)w*=2;if(u==3)w*=1.6;var m=Date.now(),V=H(S),q=Math.round(8e3/O),i=V[0],c=V[1]-q,z=V[2]+q,B=Math.min(n,n+1>>>1),t=w*.4*(4e3/1.55),a=g.o(8e3);
for(var v=0;v<8e3;v++){var I=v,N=v,J=~~Math.max(0,I-t-t),Q=~~Math.max(0,I-t),A=~~Math.min(7999,I+t),f=~~Math.min(7999,I+t+t),W=~~(.5+255*(1/5)*(i[N]+i[J]+i[Q]+i[A]+i[f]));
a[v]=W;if(W==0)break}for(var v=0;v<B;v++){var C=w*(v-O+.5),j=C*C,K=v*n,$=(n-1-v)*n;for(var r=0;r<B;r++){var U=w*(r-O+.5),N=~~(Math.sqrt(U*U+j)*(4e3/1.55));
if(z<N)continue;else if(N<c){var W=255;while(r<B){var b=n-1-r;s[K+r]=W;s[K+b]=W;s[$+r]=W;s[$+b]=W;r++}break}else{var W=a[N],b=n-1-r;
s[K+r]=W;s[K+b]=W;s[$+r]=W;s[$+b]=W}}}return Z}return{a5d:_}}();g.fc={};g.fc.aem=function(l,o,D,H,_,u){g.fc.wf(l,o,D,H,_,u,null,0)};
g.fc.a7g=function(l,o,D,H,_){g.fc.wf(l,o,D,H,_,null,null,0)};g.fc.azj=function(l,o,D,H,_,u,S){g.fc.wf(l,o,D,H,_,null,u,S*.5)};
g.fc.wf=function(l,o,D,H,_,u,S,h){var F=0,A=0,f=1e9,W=0,C=1e9,j=0,K=1e9,$=0,r=0,U=0,b=0;if(u){F=_*.5;
_=3+Math.round((_-3)*.75)}if(S){_=Math.round(_*2.2)}var n=1/_,R=Math.floor(o*n)+1,s=Math.floor(D*n)+1,Z=[],O=new Uint8Array(R*s*4),w=S?.5:1,m=u?64:0;
for(var V=0;V<s;V++){var q=S?.5*(V&1):0;for(var i=0;i<R;i++){var c=(i+Math.random()*w+q)*_,z=(V+Math.random()*w)*_;
Z.push(c,z);var B=Math.min(o-1,Math.floor(c)),t=Math.min(D-1,Math.floor(z)),a=(t*o+B)*4,I=(V*R+i)*4;
for(var v=0;v<4;v++)O[I+v]=Math.max(0,Math.min(255,Math.floor(l[a+v]+(Math.random()-.5)*m)))}}var N=u?u:S?S:[0,0,0],J=R*s*2,Q=[-R-1,-R,-R+1,-1,0,1,R-1,R,R+1];
for(var V=0;V<D;V++){U=0;for(var i=0;i<o;i++){var e=i+.5,P=V+.5,L=Math.floor(P*n),Y=Math.floor(e*n),X=L*R+Y,T=0,y=0;
if(U>1+h){f=g.fc.aCJ(Z,A,e,P);$=Math.sqrt(f);U--;b++}else{f=C=K=1e9;for(var v=0;v<Q.length;v++){var G=(X+Q[v])*2;
if(G<0||G>=J)continue;var E=g.fc.aCJ(Z,G,e,P);if(E<K){if(E<C){if(E<f){j=W;K=C;W=A;C=f;A=G;f=E}else{j=W;
K=C;W=G;C=E}}else{j=G;K=E}}}$=Math.sqrt(f);r=Math.sqrt(C);U=r-($+r)*.5}if(S==null){var d4=($+r)*.5,dH=u?Math.max(0,d4-F):0;
T=Math.max(0,Math.min(1,.5+d4-$-dH));y=Math.max(0,Math.min(1,1-(.5+d4-$)-dH))}else{var eV=Math.min(g.fc.aAR(Z,A,W,e,P),g.fc.aAR(Z,A,j,e,P));
T=Math.max(0,Math.min(1,eV-h*.5));if(e<h||o-h<e||P<h||D-h<P)T=0;y=0}var bf=1-y-T,I=V*o+i<<2,jd=A<<1,i5=W<<1;
H[I+0]=Math.floor(.5+T*O[jd+0]+y*O[i5+0]+bf*N[0]);H[I+1]=Math.floor(.5+T*O[jd+1]+y*O[i5+1]+bf*N[1]);
H[I+2]=Math.floor(.5+T*O[jd+2]+y*O[i5+2]+bf*N[2]);H[I+3]=l[I+3]}}};g.fc.aCJ=function(l,o,D,H){var _=D-l[o],u=H-l[o+1];
return _*_+u*u};g.fc.aAR=function(l,o,D,H,_){var u=l[o],S=l[o+1],h=l[D],F=l[D+1],n=(u+h)*.5,R=(S+F)*.5,s=n+(F-S),Z=R-(h-u),O=Z-R,w=s-n;
return Math.abs(O*H-w*_+s*R-Z*n)/Math.sqrt(w*w+O*O)};g.l5={};g.l5.ML=function(l){if(g.l5.ex.length<l)g.l5.ex=g.o(l);
return g.l5.ex};g.l5.ex=g.o(0);g.l5.awh=function(l){if(g.l5.w$.length<l)g.l5.w$=new Float32Array(l);
return g.l5.w$};g.l5.w$=new Float32Array(0);g.l5.Cc=function(l,o,D,H){var _=D.Q,u=D._;g.l5.ari(l,o,_,u,H)};
g.l5.Kt=function(l,o,D,H){var _=D.Q,u=D._;g.l5.a2N(l,o,_,u,H)};g.l5.sO=function(l,o,D){var H=o.Q,_=o._;
g.l5.a53(l,H,_,D)};g.l5.X6=function(l,o,D,H){var _=o.Q,u=o._;g.l5.a1s(l,_,u,D,H)};g.l5.a5x=function(l,o,D,H){var _=D.Q,u=D._;
H=Math.round(H);var S=g.l5.ML(_*u);g.Tg(l,o);g.l5.PX(o,S,_,u,H)};g.l5.am=function(l,o,D){var H=o.Q,_=o._;
D=Math.round(D);var u=g.l5.ML(H*_*4);g.l5.jl(l,u,H,_,D)};g.l5.a0H=function(l,o,D){var H=o.Q,_=o._;D=Math.round(D);
g.l5.aDw(l,g.l5.awh(H*_),H,_,D)};g.l5.aa4=function(l,o,D){var H=o.Q,_=o._;D=Math.round(D);var u=g.l5.ML(H*_*4);
g.l5.aDW(l,u,H,_,D);g.Tg(u,l)};g.l5.vu=function(l,kC){var o=Math.sqrt(12*l*l/kC+1),D=Math.floor(o);if(D%2==0)D--;
var H=D+2,_=(12*l*l-kC*D*D-4*kC*D-3*kC)/(-4*D-4),u=Math.round(_),S=[];for(var v=0;v<kC;v++)S.push(v<u?D:H);
return S};g.l5.ari=function(l,o,D,H,_){var u=g.l5.vu(_,3),S=g.l5.ML(D*H);g.Tg(l,o);g.l5.PX(o,S,D,H,u[0]-1>>1);
g.l5.PX(o,S,D,H,u[1]-1>>1);g.l5.PX(o,S,D,H,u[2]-1>>1)};g.l5.a2N=function(l,o,D,H,_){var u=g.l5.vu(_,2),S=g.l5.ML(D*H);
g.Tg(l,o);g.l5.PX(o,S,D,H,u[0]-1>>1);g.l5.PX(o,S,D,H,u[1]-1>>1)};g.l5.a53=function(l,o,D,H){var _=g.l5.vu(H,3),u=g.l5.ML(o*D*4);
g.l5.jl(l,u,o,D,_[0]-1>>1);g.l5.jl(l,u,o,D,_[1]-1>>1);g.l5.jl(l,u,o,D,_[2]-1>>1)};g.l5.a1s=function(l,o,D,H,_){if(_==null)_=3;
var u=g.l5.vu(H,_),S=g.l5.awh(o*D);for(var v=0;v<_;v++)g.l5.aDw(l,S,o,D,(u[v]-1)/2)};g.l5.PX=function(l,o,D,H,_){g.l5.ah6(l,o,D,H,_);
g.l5.ahk(o,l,D,H,_)};g.l5.jl=function(l,o,D,H,_){g.l5.aDW(l,o,D,H,_);g.l5.atL(o,l,D,H,_)};g.l5.aDw=function(l,o,D,H,_){g.l5.av8(l,o,D,H,_);
g.l5.atP(o,l,D,H,_)};g.l5.g_=[];g.l5.PW=function(l){if(g.l5.g_[l])return g.l5.g_[l];var o=1/(l+l+1),D=(l+l+1)*256,H=g.o(D);
for(var v=0;v<D;v++)H[v]=Math.round(v*o);g.l5.g_[l]=H;return H};g.l5.ah6=function(l,o,D,H,_){var u=1/(_+_+1),S=D-_-_-1,h=g.l5.PW(_);
for(var v=0;v<H;v++){var F=v*D,n=F,R=F+_,s=l[F],Z=l[F+D-1],O=(_+1)*s;for(var w=0;w<_;w++)O+=l[F+w];for(var w=0;
w<=_;w++){O+=l[R+w]-s;o[F+w]=h[O]}R+=_+1;F+=_+1;for(var w=0;w<S;w++){O+=l[R+w]-l[n+w];o[F+w]=h[O]}R+=S;
n+=S;F+=S;for(var w=D-_;w<D;w++){O+=Z-l[n++];o[F++]=h[O]}}};g.l5.aDW=function(l,o,D,H,_){var u=D<<2,S=_<<2,h=1/(_+_+1),F=D-_-_-1,n=F<<2,R=g.l5.PW(_);
for(var v=0;v<H;v++){var s=v*u,Z=s,O=s+S,w=s+u,m=l[s],V=l[s+1],q=l[s+2],i=l[s+3],c=(_+1)*m,z=(_+1)*V,B=(_+1)*q,t=(_+1)*i;
for(var a=0;a<S;a+=4){c+=l[s+a];z+=l[s+a+1];B+=l[s+a+2];t+=l[s+a+3]}for(var a=0;a<=S;a+=4){c+=l[O]-m;
o[s]=R[c];z+=l[O+1]-V;o[s+1]=R[z];B+=l[O+2]-q;o[s+2]=R[B];t+=l[O+3]-i;o[s+3]=R[t];O+=4;s+=4}for(var a=0;
a<n;a+=4){c+=l[O+a]-l[Z+a];o[s+a]=R[c];z+=l[O+a+1]-l[Z+a+1];o[s+a+1]=R[z];B+=l[O+a+2]-l[Z+a+2];o[s+a+2]=R[B];
t+=l[O+a+3]-l[Z+a+3];o[s+a+3]=R[t]}O+=n;Z+=n;s+=n;m=l[w-4];V=l[w-3];q=l[w-2];i=l[w-1];for(var a=D-_;
a<D;a++){c+=m-l[Z];o[s]=R[c];z+=V-l[Z+1];o[s+1]=R[z];B+=q-l[Z+2];o[s+2]=R[B];t+=i-l[Z+3];o[s+3]=R[t];
Z+=4;s+=4}}};g.l5.av8=function(l,o,D,H,_){var u=1/(_+_+1),S=D-_-_-1;for(var v=0;v<H;v++){var h=v*D,F=h,n=h+_,R=l[h],s=l[h+D-1],Z=(_+1)*R;
for(var O=0;O<_;O++)Z+=l[h+O];for(var O=0;O<=_;O++){Z+=l[n+O]-R;o[h+O]=Z*u}n+=_+1;h+=_+1;for(var O=0;
O<S;O++){Z+=l[n+O]-l[F+O];o[h+O]=Z*u}n+=S;F+=S;h+=S;for(var O=D-_;O<D;O++){Z+=s-l[F++];o[h++]=Z*u}}};
g.l5.ahk=function(l,o,D,H,_){var u=1/(_+_+1),S=H-_-_-1,h=g.l5.PW(_);for(var v=0;v<D;v++){var F=v,n=F,R=F+_*D,s=l[F],Z=l[F+D*(H-1)],O=(_+1)*s;
for(var w=0;w<_;w++)O+=l[F+w*D];for(var w=0;w<=_;w++){O+=l[R]-s;o[F]=h[O];R+=D;F+=D}for(var w=0;w<S;
w++){var m=w*D;O+=l[R+m]-l[n+m];o[F+m]=h[O]}n+=S*D;R+=S*D;F+=S*D;for(var w=H-_;w<H;w++){O+=Z-l[n];o[F]=h[O];
n+=D;F+=D}}};g.l5.atL=function(l,o,D,H,_){var u=D<<2,S=_<<2,h=1/(_+_+1),F=H-_-_-1,n=F<<2,R=g.l5.PW(_);
for(var v=0;v<D;v++){var s=v<<2,Z=s,O=s+_*u,w=s+u*(H-1),m=l[s],V=l[s+1],q=l[s+2],i=l[s+3],c=(_+1)*m,z=(_+1)*V,B=(_+1)*q,t=(_+1)*i;
for(var a=0;a<_;a++){var I=s+a*u;c+=l[I];z+=l[I+1];B+=l[I+2];t+=l[I+3]}for(var a=0;a<=_;a++){c+=l[O]-m;
o[s]=R[c];z+=l[O+1]-V;o[s+1]=R[z];B+=l[O+2]-q;o[s+2]=R[B];t+=l[O+3]-i;o[s+3]=R[t];O+=u;s+=u}for(var a=0;
a<F;a++){var N=a*u;c+=l[O+N]-l[Z+N];o[s+N]=R[c];z+=l[O+N+1]-l[Z+N+1];o[s+N+1]=R[z];B+=l[O+N+2]-l[Z+N+2];
o[s+N+2]=R[B];t+=l[O+N+3]-l[Z+N+3];o[s+N+3]=R[t]}Z+=F*u;O+=F*u;s+=F*u;m=l[w];V=l[w+1];q=l[w+2];i=l[w+3];
for(var a=H-_;a<H;a++){c+=m-l[Z];o[s]=R[c];z+=V-l[Z+1];o[s+1]=R[z];B+=q-l[Z+2];o[s+2]=R[B];t+=i-l[Z+3];
o[s+3]=R[t];Z+=u;s+=u}}};g.l5.atP=function(l,o,D,H,_){var u=1/(_+_+1),S=H-_-_-1;for(var v=0;v<D;v++){var h=v,F=h,n=h+_*D,R=l[h],s=l[h+D*(H-1)],Z=(_+1)*R;
for(var O=0;O<_;O++)Z+=l[h+O*D];for(var O=0;O<=_;O++){Z+=l[n]-R;o[h]=Z*u;n+=D;h+=D}for(var O=0;O<S;O++){var w=O*D;
Z+=l[n+w]-l[F+w];o[h+w]=Z*u}F+=S*D;n+=S*D;h+=S*D;for(var O=H-_;O<H;O++){Z+=s-l[F];o[h]=Z*u;F+=D;h+=D}}};
g.cC={};g.cC.o=function(l,o,D,H){var _=[];for(var u=0;u<4;u++)for(var S=0;S<4;S++)_.push(l+D*S/3,o+H*u/3);
return _};g.cC.abl=function(l,o){var D=l.slice(0);for(var v=0;v<4;v++)for(var H=0;H<4;H++){var _=2*(v*4+H),u=2*(H*4+(3-v));
if(o){var S=_;_=u;u=S}D[u]=l[_];D[u+1]=l[_+1]}return D};g.cC.v6=g.o(0);g.cC.drawImage=function(l,o,D,H,_,u,S){var h=!1,F=Date.now(),n=2,R=D+2*n,s=H+2*n,Z=new gt(n,n,D,H),O=Z.clone();
O.ag(n,n);var w=g.cC.v6;if(w.length!=O.c()*4)w=g.cC.v6=g.o(O.c()*4);else w.fill(0);g.Qo(o,Z,w,O);if(h)console.log(Date.now()-F,"copy rect");
F=Date.now();g.IQ(w);if(h)console.log(Date.now()-F,"multiply alpha");F=Date.now();var m=Math.max(D,H),V=Math.round(50*D/m),q=Math.round(Math.sqrt(3)*.5*50*H/m),i=V-.5,c=[],z=[],B=[];
for(var t=0;t<q+1;t++){var a=(t&1)==0;for(var I=0;I<V+1;I++){var N=(I-(a?.5:0))/i,J=t/q;if(I==0)N=0;
if(I==V)N=1;c.push(R*N,s*J);if(I<V&&t<q){var Q=t*(V+1)+I,A=Q+1,f=Q+V+1,W=f+1;if(a)z.push(Q,A,f,f,A,W);
else z.push(Q,A,W,Q,W,f)}var C=g.cC.a6m(l,N,J);B.push(-C)}}var j=c.slice(0);g.cC.h(l,j,Z);g.X.h(j,new de(1,0,0,1,-u.x,-u.y),j);
if(h)console.log(Date.now()-F,"mesh built");F=Date.now();var K=u.Q,$=u._;g.WL.qz(w,R,s,_,K,$,c,j,B,z,S);
if(h)console.log(Date.now()-F,"rendered");F=Date.now();g.PU(_);if(h)console.log(Date.now()-F,"divided");
F=Date.now()};g.cC.OW=new Array(10);g.cC.p9=function(l,o){var D=200,H=0,_=0,u=1e9,S=g.cC.OW;for(var h=0;
h<D+1;h++)for(var F=0;F<D+1;F++){var n=F/D,R=h/D;g.cC.agq(l,n,R,S);var s=S[8]-o.x,Z=S[9]-o.y,O=s*s+Z*Z;
if(O<u){u=O;H=n;_=R}}return[H,_]};g.cC.h=function(l,o,D){var H=D.x,_=D.y,u=1/D.Q,S=1/D._,h=g.cC.OW;for(var F=0;
F<o.length;F+=2){var n=(o[F]-H)*u,R=(o[F+1]-_)*S;g.cC.agq(l,n,R,h);o[F]=h[8];o[F+1]=h[9]}};g.cC.a6m=function(l,o,D){var H,_,u,S,h=g.cC.OW;
g.cC.a1L(l,o,D,h);H=h[8];_=h[9];g.cC.a2D(l,o,D,h);u=h[8];S=h[9];return H*S-_*u};g.cC.nV=function(l,o,D){var H=0,_=0,u=l[2][0],S=l[2][1];
while(H+2<u.length&&u[H+1]<o)H++;o=(o-u[H])/(u[H+1]-u[H]);while(_+2<S.length&&S[_+1]<D)_++;D=(D-S[_])/(S[_+1]-S[_]);
return[H*3,_*3,o,D]};g.cC.agq=function(l,o,D,H){var _=g.cC.nV(l,o,D);g.cC.Bb(H,0,_[3]);g.cC.Bb(H,4,_[2]);
g.cC.X2(l[3],_[0],_[1],l[0],H)};g.cC.a1L=function(l,o,D,H){var _=g.cC.nV(l,o,D);g.cC.Bb(H,0,_[3]);g.cC.ad7(H,4,_[2]);
g.cC.X2(l[3],_[0],_[1],l[0],H)};g.cC.a2D=function(l,o,D,H){var _=g.cC.nV(l,o,D);g.cC.ad7(H,0,_[3]);g.cC.Bb(H,4,_[2]);
g.cC.X2(l[3],_[0],_[1],l[0],H)};g.cC.ad7=function(l,v,o){var D=1-o;l[v]=-3*(D*D);l[v+1]=3*(D*D)-6*(o*D);
l[v+2]=6*(o*D)-3*(o*o);l[v+3]=3*(o*o)};g.cC.Bb=function(l,v,o){var D=1-o;l[v]=D*(D*D);l[v+1]=3*o*(D*D);
l[v+2]=3*(o*o)*D;l[v+3]=o*o*o};g.cC.alT=function(l,o,D,H,_){var u=g.cC.nV(l,o,D),S=u[0],h=u[1],F=u[2],n=u[3],R=l[0],s=Math.floor(F*3),Z=Math.floor(n*3),O=g.cC.OW,w=16,a=0;
g.cC.Bb(O,0,n);g.cC.Bb(O,4,F);var m=[],V=[],q=[];for(var i=0;i<4;i++){for(var c=0;c<4;c++){var v=i*4+c,z=O[i]*O[4+c];
m.push(z);V.push((h+i)*R+S+c);if((i==Z||i==Z+1)&&(c==s||c==s+1)){var B=F*3-s;if(c==s)B=1-B;var t=n*3-Z;
if(i==Z)t=1-t;q[v]=B*t/z}else q[v]=0}}for(var v=0;v<w;v++)a+=m[v]*q[v];for(var v=0;v<w;v++)q[v]/=a;for(var v=0;
v<w;v++){var z=m[v],I=V[v];l[3][I*2]+=q[v]*H;l[3][I*2+1]+=q[v]*_}};g.cC.ji=function(l){var o=l[0],D=l[1],H=l[2],_=l[3],u=_.slice(0);
for(var S=0;S<D;S++)for(var h=0;h<o;h++){_[(h*D+S)*2]=u[(S*o+h)*2];_[(h*D+S)*2+1]=u[(S*o+h)*2+1]}l[0]=D;
l[1]=o;l[2]=[H[1],H[0]]};g.cC.split=function(l,o,D){if(o==1)g.cC.ji(l);var H=l[0],_=l[1],u=l[2][0],S=l[3],h=0;
while(u[h+1]&&u[h+1]<D)h++;var F=(D-u[h])/(u[h+1]-u[h]),n=1-F;for(var R=0;R<_;R++){var v=(R*(H+3)+h*3)*2,s=n*S[v]+F*S[v+2],Z=n*S[v+1]+F*S[v+3],O=n*S[v+2]+F*S[v+4],w=n*S[v+3]+F*S[v+5],m=n*S[v+4]+F*S[v+6],V=n*S[v+5]+F*S[v+7],q=n*s+F*O,i=n*Z+F*w,c=n*O+F*m,z=n*w+F*V,B=n*q+F*c,t=n*i+F*z;
S.splice(v+2,4,s,Z,q,i,B,t,c,z,m,V)}u.push(D);u.sort();l[0]+=3;if(o==1)g.cC.ji(l)};g.cC.X2=function(l,o,D,H,_){var u=0,S=0,h=0,F=_[0],n=_[1],R=_[2],s=_[3],Z=_[4],O=_[5],w=_[6],m=_[7],v=(D*H+o)*2;
h=F*Z;u+=l[v+0]*h;S+=l[v+1]*h;h=F*O;u+=l[v+2]*h;S+=l[v+3]*h;h=F*w;u+=l[v+4]*h;S+=l[v+5]*h;h=F*m;u+=l[v+6]*h;
S+=l[v+7]*h;v+=H+H;h=n*Z;u+=l[v+0]*h;S+=l[v+1]*h;h=n*O;u+=l[v+2]*h;S+=l[v+3]*h;h=n*w;u+=l[v+4]*h;S+=l[v+5]*h;
h=n*m;u+=l[v+6]*h;S+=l[v+7]*h;v+=H+H;h=R*Z;u+=l[v+0]*h;S+=l[v+1]*h;h=R*O;u+=l[v+2]*h;S+=l[v+3]*h;h=R*w;
u+=l[v+4]*h;S+=l[v+5]*h;h=R*m;u+=l[v+6]*h;S+=l[v+7]*h;v+=H+H;h=s*Z;u+=l[v+0]*h;S+=l[v+1]*h;h=s*O;u+=l[v+2]*h;
S+=l[v+3]*h;h=s*w;u+=l[v+4]*h;S+=l[v+5]*h;h=s*m;u+=l[v+6]*h;S+=l[v+7]*h;v+=H+H;_[8]=u;_[9]=S};g.Hz={};
g.Hz.a3C=function(l,o,D){var H=Date.now(),_=new ArrayBuffer(o*D*16),u=g.Hz.avw(l,o,D,_),S=g.Hz.aw4(o,D,_);
return{mW:S,Cx:u}};g.Hz.aaj=function(l,o,D){var H=Math.round(l.length/8),_=new Uint32Array(H),u=new Uint8Array(H),S=new Uint32Array(H);
g.M5(_,4294967295,0);_[D]=0;var h=new bE(H);h.push(D,_[D]);var F={mW:l,Cx:o,$l:_,kr:u,lP:S,Ct:h,acj:D};
return F};g.Hz.bP=function(l,o){var D=l.mW,H=l.Cx,_=l.$l,u=l.kr,S=l.lP,h=l.Ct;while(!h.lh()&&(o==null||u[o]==0)){var F=h.pop();
u[F]=1;for(var v=0;v<8;v++){var n=D[8*F+v],R=F+n;if(n==0||u[R])continue;var s=_[F]+H[8*F+v];if(h.contains(R)&&s<_[R])h.remove(R,_[R]);
if(!h.contains(R)){_[R]=s;S[R]=F;h.push(R,_[R])}}}};function bE(l){this.ot=new Uint32Array(l);this.list=[];
this.UH=0;this.mR=4294967295}bE.prototype.lh=function(){return this.UH==0};bE.prototype.push=function(l,o){var D=this.list;
if(D[o]==null)D[o]=[];D[o].push(l);this.UH++;this.ot[l]=D[o].length-1+1;this.mR=Math.min(this.mR,o)};
bE.prototype.pop=function(){this.UH--;var l=this.list,o=this.mR,D=l[o].pop();if(l[o].length==0)l[o]=null;
this.a5H();this.ot[D]=0;return D};bE.prototype.contains=function(l){return this.ot[l]!=0};bE.prototype.remove=function(l,o){this.UH--;
var D=this.list,v=this.ot[l]-1;if(v==D[o].length-1)D[o].pop();else{var H=D[o].pop();D[o][v]=H;this.ot[H]=v+1}if(D[o].length==0)D[o]=null;
this.ot[l]=0;this.a5H()};bE.prototype.a5H=function(){if(this.UH==0){this.mR=4294967295;return}var l=this.mR,o=this.list;
while(o[l]==null)l++;this.mR=l};g.Hz.aDF=function(l,o,D,H){var _=new Int16Array(H);for(var u=0;u<D;u++)for(var S=0;
S<o;S++){var v=u*o+S,h=0;if(1<S&&S<o-2&&1<u&&u<D-2){h+=l[v-o-o];h+=l[v-o-1]+2*l[v-o]+l[v-o+1];h+=l[v-2]+2*l[v-1]-16*l[v]+2*l[v+1]+l[v+2];
h+=l[v+o-1]+2*l[v+o]+l[v+o+1];h+=l[v+o+o]}else h=-16*l[v];_[v]=h}return _};g.Hz.akT=function(l,o,D,H){if(H==null)H=128;
var _=new Uint8Array(o*D);for(var u=1;u<D-1;u++)for(var S=1;S<o-1;S++){var v=u*o+S;_[v]=g.Hz.a1u(l[v],l[v-1],l[v+1],l[v-o],l[v+o],H)}return _};
g.Hz.a1u=function(l,o,D,H,_,u){var S=Math.abs(l);return l*o<0&&S<Math.abs(o)&&Math.abs(o-l)>u||l*D<0&&S<Math.abs(D)&&Math.abs(D-l)>u||l*H<0&&S<Math.abs(H)&&Math.abs(H-l)>u||l*_<0&&S<Math.abs(_)&&Math.abs(_-l)>u?1:0};
g.Hz.a7D=function(l,o,D,H){var _=new Float32Array(H),u=0;new Uint32Array(H).fill(0);for(var S=0;S<D;
S++)for(var h=0;h<o;h++){var F=0,n=0,v=S*o+h,R=v*3;if(0<h&&h<o-1)F=l[v+1]-l[v-1];if(0<S&&S<D-1)n=l[v+o]-l[v-o];
var s=_[R+2]=Math.sqrt(F*F+n*n);if(s!=0){var Z=1/s;_[R]=F*Z;_[R+1]=n*Z}if(s>u)u=s}var O=o*D,w=u==0?0:1/u;
for(var v=0;v<O;v++)_[v*3+2]=1-_[v*3+2]*w;return _};g.Hz.asC=function(l,o,D){return D[~~((.5+.5*l)*255)]+D[~~((.5+.5*o)*255)]};
g.Hz.avw=function(l,o,D,H){var _=Date.now(),u=g.Hz.aDF(l,o,D,H),S=g.Hz.akT(u,o,D),h=g.Hz.a7D(l,o,D,H),F=new Float32Array(256);
for(var v=0;v<256;v++)F[v]=Math.acos(-1+2*v/255)*(.95/Math.PI);var n=[-1,0,1,1,1,0,-1,-1],R=[-1,-1,-1,0,1,1,1,0];
for(var v=0;v<8;v++){var s=1/Math.sqrt(n[v]*n[v]+R[v]*R[v]);n[v]*=s;R[v]*=s}var Z=[n[0],R[0],n[1],R[1],n[2],R[2],n[3],R[3]],O=[-o-1,-o,-o+1,1],w=new Uint8Array(o*D*8);
new Uint32Array(w.buffer).fill(4294967295);var m=o*D;for(var V=1;V<D-1;V++)for(var q=1;q<o-1;q++){var i=V*o+q,c=1-S[i],z=h[i*3+2],B=h[3*i+1],t=-h[3*i];
for(var a=0;a<4;a++){var I=i+O[a];g.Hz.axK(i,I,a,w,S,h,c,z,B,t,Z,F)}}return w};g.Hz.axK=function(l,o,D,H,_,u,S,h,F,n,R,s){var Z=1-_[o],O=(D&1)==0?1:Math.SQRT1_2,w=u[o*3+2]*O,m=u[3*o+1],V=-u[3*o],q=h*O,i=R[D+D],c=R[D+D+1],z=F*i+n*c,B=m*i+V*c;
if(z+B<0){z=-z;B=-B}var t=g.Hz.asC(z,B,s);H[(l<<3)+D]=g.Hz.ary(Z,t,w);H[(o<<3)+D+4]=g.Hz.ary(S,t,q)};
g.Hz.ary=function(l,o,D){return 1+~~(.5+20*(.43*l+.43*o+.14*D))};g.Hz.aw4=function(l,o,D){var H=new Int16Array(D),_=H,v=0,u=0;
new Uint32Array(D).fill(0);for(var S=0;S<o;S++)for(var h=0;h<l;h++){if(S>0&&h>0)_[u+0]=-l-1;if(S>0)_[u+1]=-l;
if(S>0&&h<l-1)_[u+2]=-l+1;if(h<l-1)_[u+3]=1;if(S<o-1&&h<l-1)_[u+4]=l+1;if(S<o-1)_[u+5]=l;if(S<o-1&&h>0)_[u+6]=l-1;
if(h>0)_[u+7]=-1;v++;u+=8}return H};g.$z={};g.$z.B7=function(l){var o=l.slice(0),D=0;for(var v=0;v<l.length;
v++)D+=l[v];for(var v=0;v<l.length;v++)o[v]/=D;return o};g.$z.lF=[g.$z.B7([1,2,1,2,16,2,1,2,1]),g.$z.B7([1,2,1,2,4,2,1,2,1]),g.$z.B7([0,-1,0,-1,8,-1,0,-1,0]),g.$z.B7([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
g.$z.Z_=function(l,o,D,H,_,u,S,h){if(S==null)S=!1;if(h==null)h=!1;var F=Math.floor(Math.sqrt(_.length)),n=F-1>>>1,R=new Uint32Array(l.buffer),o=new Uint8ClampedArray(o.buffer);
for(var v=0;v<H;v++)for(var s=0;s<D;s++){var Z=0,O=0,w=0,m=0;for(var V=0;V<F;V++)for(var q=0;q<F;q++){var i=_[V*F+q];
if(i==0)continue;var c=s-n+q,z=v-n+V;if(c<0)c=0;else if(c>D-1)c=D-1;if(z<0)z=0;else if(z>H-1)z=H-1;if(h&&R[z*D+c]>>>24==0){z=v;
c=s}var B=R[z*D+c];Z+=(B&255)*i;O+=(B>>>8&255)*i;w+=(B>>>16&255)*i;m+=(B>>>24&255)*i}if(S){if(Z<0)Z=-Z;
if(O<0)O=-O;if(w<0)w=-w;if(m<0)m=-m}if(h){Z=Math.max(0,Math.min(255,Z));O=Math.max(0,Math.min(255,O));
w=Math.max(0,Math.min(255,w));m=Math.max(0,Math.min(255,m))}var t=v*D+s<<2;o[t]=~~(.5+Z);o[t+1]=~~(.5+O);
o[t+2]=~~(.5+w);o[t+3]=255-u&o[t+3]|u&~~(.5+m)}};g.$z.atN=function(l,o,D,H){var _=l.length,u=new Uint8Array(_);
g.$z.Z_(l,o,D,H,g.$z.lF[4],0,!0);g.$z.Z_(l,u,D,H,g.$z.lF[5],0,!0);for(var v=0;v<_;v+=4){var S=o[v],h=o[v+1],F=o[v+2],n=o[v+3],R=u[v],s=u[v+1],Z=u[v+2],O=u[v+3];
o[v]=255-Math.max(0,Math.min(255,Math.sqrt(S*S+R*R)));o[v+1]=255-Math.max(0,Math.min(255,Math.sqrt(h*h+s*s)));
o[v+2]=255-Math.max(0,Math.min(255,Math.sqrt(F*F+Z*Z)))}};g.$z.ady=function(l,o,D,H){var _=l.length,u=new Uint8Array(_);
g.$z.y4(l,o,D,H,g.$z.lF[4],!0);g.$z.y4(l,u,D,H,g.$z.lF[5],!0);for(var v=0;v<_;v++){var S=o[v],h=u[v];
o[v]=255-Math.max(0,Math.min(255,Math.sqrt(S*S+h*h)))}};g.$z.y4=function(l,o,D,H,_,u){o=new Uint8ClampedArray(o.buffer);
var S=[-D-1,-D,-D+1,-1,0,1,D-1,D,D+1],h=H-1,F=D-1;for(var v=1;v<h;v++)for(var n=1;n<F;n++){var R=v*D+n,s=g.$z.ee(l,R,D,_);
if(u){if(s<0)s=-s}o[R]=~~(s+.5)}};g.$z.ee=function(l,o,D,H){return l[o-D-1]*H[0]+l[o-D]*H[1]+l[o-D+1]*H[2]+l[o-1]*H[3]+l[o]*H[4]+l[o+1]*H[5]+l[o+D-1]*H[6]+l[o+D]*H[7]+l[o+D+1]*H[8]};
g.$z.a8o=function(l,o,D,H,_){var u=[-D-1,-D,-D+1,-1,0,1,D-1,D,D+1],S=H-1,h=D-1;for(var v=1;v<S;v++)for(var F=1;
F<h;F++){var n=v*D+F;o[n]=g.$z.anA(l,n,D,_)}};g.$z.anA=function(l,o,D,H){return l[o-D-1]*H[0]+l[o-D]*H[1]+l[o-D+1]*H[2]+l[o-1]*H[3]+l[o]*H[4]+l[o+1]*H[5]+l[o+D-1]*H[6]+l[o+D]*H[7]+l[o+D+1]*H[8]};
g.cs={};g.cs.Yk=function(){function l(S,h,F,n,R,s){if(R==0){h.set(S);return}var Z=g.o(F*n),O=g.o(F*n);
if(g.pz(S)){o(S,h,F,n,R,s);g.mA(S,Z,3);g.cs.a1W(Z,O,F,n,R,s);g.Kl(O,h,3)}else{for(var v=0;v<3;v++){g.mA(S,Z,v);
g.cs.a1W(Z,O,F,n,R,s);g.Kl(O,h,v)}}}function o(S,h,F,n,R,s){var Z=0,O=new ArrayBuffer(512*4*3),w=[new Int32Array(O,0),new Int32Array(O,2048),new Int32Array(O,2*2048)],m=1+2*Math.round(Math.sqrt(R)),V=m>>>1,q=new Array(m),i=new Array(m);
for(var v=0;v<m;v++){var O=new ArrayBuffer(512*4*3);q[v]=[new Int32Array(O,0),new Int32Array(O,2048),new Int32Array(O,2*2048)];
i[v]=q[v][0]}var c=[g.cs.E0,g.cs.wY][s],z=c[0],B=c[1],t=w[0];for(var a=0;a<F;a++)if(a<R||a>F-R-m-1){t.fill(0);
var I=Math.max(a-R,0),N=Math.min(F,a+R+1),J=N-I;for(var Q=0;Q<R;Q++)H(t,S,Q*F+I,Q*F+N,1);for(var Q=0;
Q<n;Q++){var A=Q-R-1,f=Q+R;if(f<n)H(t,S,f*F+I,f*F+N,1);if(A>=0)H(t,S,A*F+I,A*F+N,-1);var W=Q*F+a<<2;
Z=t[300];if(Z!=0)for(var v=0;v<3;v++)h[W+v]=z(w[v],S[W+v],Z)}}else{for(var v=0;v<m;v++)i[v].fill(0);
var I=a-R+V,N=a+R+1+V;for(var Q=0;Q<R;Q++)D(i,S,Q*F+I,Q*F+N,1,V);for(var Q=0;Q<n;Q++){var A=Q-R-1,f=Q+R;
if(A>=0)D(i,S,A*F+I,A*F+N,-1,V);if(f<n)D(i,S,f*F+I,f*F+N,1,V);var C=q[V];Z=C[0][300];for(var v=0;v<V;
v++){var j=V-1-v,K=V+1+v,$=q[j],r=q[K],U=Z+$[0][300],P=Z+r[0][300],L=Q*F+a+j<<2,Y=Q*F+a+K<<2;if(U!=0)for(var X=0;
X<3;X++)h[L+X]=B(C[X],$[X],S[L+X],U);if(P!=0)for(var X=0;X<3;X++)h[Y+X]=B(C[X],r[X],S[Y+X],P)}var W=Q*F+a+V<<2;
if(Z!=0)for(var X=0;X<3;X++)h[W+X]=z(C[X],S[W+X],Z)}a+=m-1}}function D(S,h,F,n,R,s){var Z=_,O=F<<2,w=n<<2;
Z(S[s-1],h,F-1<<2,R);Z(S[s-1],h,n-1<<2,-R);Z(S[s+1],h,n<<2,R);Z(S[s+1],h,F<<2,-R);for(var v=1;v<s;v++){var m=S[s-v-1],V=S[s+v+1];
for(var q=0;q<=v;q++){var i=q<<2;Z(m,h,F-1-q<<2,R);Z(m,h,n-1-q<<2,-R);Z(V,h,n+q<<2,R);Z(V,h,F+q<<2,-R)}}H(S[s],h,F,n,R)}function H(S,h,v,F,n){var R=v<<2,s=F<<2;
while(R<s){_(S,h,R,n);R+=4}}function _(S,h,F,n){var R=n*h[F+3];S[300]+=R;u(S,h[F],0,R);u(S,h[F+1],512,R);
u(S,h[F+2],1024,R)}function u(S,h,F,n){S[F|h]+=n;S[F|256|h>>>4]+=n}return l}();g.cs.a1W=function(){function l(s,Z,O,w,m,V){if(m==0){Z.set(s);
return}if(m<=200)o(s,Z,O,w,m,V);else u(s,Z,O,w,m,V)}function o(s,Z,O,w,m,V){var q=0,i=new Int32Array(512),c=1+2*Math.round(Math.sqrt(m)),z=c>>>1,B=new Array(c);
for(var v=0;v<c;v++)B[v]=new Int32Array(512);var t=[g.cs.E0,g.cs.wY][V],a=t[0],I=t[1];for(var N=0;N<O;
N++)if(N<m||N>O-m-c-1){i.fill(0);q=0;var J=Math.max(N-m,0),Q=Math.min(O,N+m+1),A=Q-J;for(var f=0;f<m;
f++){q+=A;H(i,s,f*O+J,f*O+Q,1)}for(var f=0;f<w;f++){var W=f-m-1,C=f+m;if(W>=0){q-=A;H(i,s,W*O+J,W*O+Q,-1)}if(C<w){q+=A;
H(i,s,C*O+J,C*O+Q,1)}var j=a(i,s[f*O+N],q);Z[f*O+N]=j}}else{for(var v=0;v<c;v++)B[v].fill(0);q=0;var J=N-m+z,Q=N+m+1+z,A=Q-J;
for(var f=0;f<m;f++){q+=A;D(B,s,f*O+J,f*O+Q,1,z)}for(var f=0;f<w;f++){var W=f-m-1,C=f+m;if(W>=0){q-=A;
D(B,s,W*O+J,W*O+Q,-1,z)}if(C<w){q+=A;D(B,s,C*O+J,C*O+Q,1,z)}for(var v=0;v<z;v++){var K=z-1-v,$=z+1+v;
Z[f*O+N+K]=I(B[z],B[K],s[f*O+N+K],q);Z[f*O+N+$]=I(B[z],B[$],s[f*O+N+$],q)}Z[f*O+N+z]=a(B[z],s[f*O+N+z],q)}N+=c-1}}function D(s,Z,O,w,m,V){var q=_;
q(s[V-1],Z[O-1],0,m);q(s[V-1],Z[w-1],0,-m);q(s[V+1],Z[w],0,m);q(s[V+1],Z[O],0,-m);for(var v=1;v<V;v++){var i=s[V-v-1],c=s[V+v+1];
for(var z=0;z<=v;z++){q(i,Z[O-1-z],0,m);q(i,Z[w-1-z],0,-m);q(c,Z[w+z],0,m);q(c,Z[O+z],0,-m)}}H(s[V],Z,O,w,m)}function H(s,Z,v,O,w){while(v<O)_(s,Z[v++],0,w)}function _(s,Z,O,w){s[O|Z]+=w;
s[O|256|Z>>>4]+=w}function u(s,Z,O,w,m,V){var q=0,i=new Int32Array(512),c=new Int32Array(1*O),z=new Int32Array(512*O),B=Math.min(m,O),t=Math.min(m,w),a=[g.cs.E0,g.cs.wY][V],I=a[0];
for(var N=0;N<t;N++)S(z,c,s,O,N,1);for(var N=0;N<w;N++){if(N+m<w)S(z,c,s,O,N+m,1);if(N-m-1>=0)S(z,c,s,O,N-m-1,-1);
i.fill(0);q=0;for(var J=0;J<B;J++){q+=c[J];h(i,z,J)}for(var J=0;J<O;J++){var Q=J-m-1,A=J+m;if(Q>=0&&c[Q]!=0){q-=c[Q];
F(i,z,Q)}if(A<O&&c[A]!=0){q+=c[A];h(i,z,A)}var f=q==0?0:I(i,s[N*O+J],q);Z[N*O+J]=f}}}function S(s,Z,O,w,m,V){var v=m*w;
for(var q=0;q<w;q++){_(s,O[v+q],q<<9,V);Z[q]+=V}}function h(s,Z,O){for(var v=0;v<16;v++){var w=Z[O<<9|256|v];
if(w==0)continue;s[256|v]+=w;var m=v<<4,V=O<<9|m;n(s,Z,m,V);n(s,Z,m+4,V+4);n(s,Z,m+8,V+8);n(s,Z,m+12,V+12)}}function F(s,Z,O){for(var v=0;
v<16;v++){var w=Z[O<<9|256|v];if(w==0)continue;s[256|v]-=w;var m=v<<4,V=O<<9|m;R(s,Z,m,V);R(s,Z,m+4,V+4);
R(s,Z,m+8,V+8);R(s,Z,m+12,V+12)}}function n(s,Z,O,w){s[O]+=Z[w];s[O+1]+=Z[w+1];s[O+2]+=Z[w+2];s[O+3]+=Z[w+3]}function R(s,Z,O,w){s[O]-=Z[w];
s[O+1]-=Z[w+1];s[O+2]-=Z[w+2];s[O+3]-=Z[w+3]}return l}();g.cs.f3=.5;g.cs.E0=[function(l,o,D){var H=~~(.5+g.cs.f3*D),_=0,v=256;
while(_+l[v]<H)_+=l[v++];v=v-256<<4;while(_<H)_+=l[v++];return v-1},function(l,o,D,H){var _=~~(.5+g.cs.f3*H),u=0,v=256;
while(u+l[v]+o[v]<_){u+=l[v]+o[v];v++}v=v-256<<4;while(u<_){u+=l[v]+o[v];v++}return v-1}];g.cs.FJ=100;
g.cs.wY=[function(l,o,D){var H=g.cs.FJ,_=0,u=0,v=Math.max(0,o-H),S=Math.min(256,o+H+1);while(v<S){var h=l[v];
_+=v*h;u+=h;v++}return u==0?0:_/u},function(l,o,D,H){var _=g.cs.FJ,u=0,S=0,v=Math.max(0,D-_),h=Math.min(256,D+_+1);
while(v<h){var F=l[v]+o[v];u+=v*F;S+=F;v++}return S==0?0:u/S}];g.t={};g.t.Ro=function(l){var o=p.cA.TX(l.Trnf),D=l.Sz.v,H=g.t.kb(o,new gt(0,0,D.Wdth.v,D.Hght.v));
return g.t.eP(H)};g.t.kb=function(l,o){var D=l[0],H=l[1],_=l[2],u=l[3],S=l[6],h=l[7],F=l[4],n=l[5],R=0,s=0,Z=1,O=0,w=0,m=1,V=1,q=1;
if(o){R=o.x;s=o.y;Z=o.x+o.Q;O=o.y;w=o.x;m=o.y+o._;V=o.x+o.Q;q=o.y+o._}return g.t.aCl(l,[R,s,Z,O,V,q,w,m])};
g.t.aA3=function(l){function o(_,u){for(var v=0;v<u.length;v+=2)if(!D(_,u[v],u[v+1]))return!1;return!0}function D(_,u,S){return _[2*u]==_[2*S]&&_[2*u+1]==_[2*S+1]}var H=0;
if(o(l,[0,1,2,3]))H+=1;if(o(l,[0,3,1,2]))H+=2;return H};g.t.aCl=function(l,o){function D(j,v,K){var f=j[v*2]-j[K*2],W=j[v*2+1]-j[K*2+1];
return Math.sqrt(f*f+W*W)}var H=l[0],_=l[1],u=l[2],S=l[3],h=l[6],F=l[7],n=l[4],R=l[5],s=o[0],Z=o[1],O=o[2],w=o[3],m=o[6],V=o[7],q=o[4],i=o[5],c=[[s,Z,1,0,0,0,-s*H,-Z*H,H],[0,0,0,s,Z,1,-s*_,-Z*_,_],[O,w,1,0,0,0,-O*u,-w*u,u],[0,0,0,O,w,1,-O*S,-w*S,S],[m,V,1,0,0,0,-m*h,-V*h,h],[0,0,0,m,V,1,-m*F,-V*F,F],[q,i,1,0,0,0,-q*n,-i*n,n],[0,0,0,q,i,1,-q*R,-i*R,R]],z=[0,0,0,0,0,0,0,0],B=g.YF.wr(c,z);
if(B!=0){z=[0,0,0,0,0,0,0,0];var t=g.t.aA3(l),a=g.t.aA3(o);if(t==a&&t!=0){var I=t==1,N=I?3:1,J=D(l,0,N),Q=D(o,0,N),A=Q/J,f=l[2*N]-l[0],W=l[2*N+1]-l[1],C=new de;
C.translate(-H,-_);C.rotate(Math.atan2(W,f)-(I?Math.PI/2:0));if(I)C.scale(1,A);else C.scale(A,1);C.translate(s,Z);
C.L5();z=g.t.Lw(C)}}return z};g.t.o=function(l,o){if(l==null)l=o=0;return[1,0,l,0,1,o,0,0]};g.t.QP=function(l){return Math.abs(l[6])<1e-10&&Math.abs(l[7])<1e-10};
g.t.eP=function(l){return new de(l[0],l[3],l[1],l[4],l[2],l[5])};g.t.Lw=function(l){return[l.M,l.oe,l.ip,l.J,l.me,l.nl,0,0]};
g.t.h=function(l,o){var D=new Float64Array(2);for(var H=0;H<o.length;H+=2){var _=o[H],u=o[H+1];g.t.jN(_,u,l,D);
o[H]=D[0];o[H+1]=D[1]}};g.t.jN=function(l,o,D,H){var _=1/(D[6]*l+D[7]*o+1);H[0]=(D[0]*l+D[1]*o+D[2])*_;
H[1]=(D[3]*l+D[4]*o+D[5])*_};g.t.a2p=function(l,o){var D=new Float64Array(2);g.t.jN(o.x,o.y,l,D);return new he(D[0],D[1])};
g.t.ji=function(l,o,D,H){l=new Uint32Array(l.buffer);o=new Uint32Array(o.buffer);for(var _=0;_<H;_++){for(var u=0;
u<D;u++){o[u*H+_]=l[_*D+u]}}};g.t.yk=function(l,o,D,H){l=new Uint32Array(l.buffer);o=new Uint32Array(o.buffer);
for(var _=0;_<H;_++){for(var u=0;u<D;u++){o[_*D+u]=l[_*D+D-1-u]}}};g.t.afM=function(l,o,D,H){l=new Uint32Array(l.buffer);
o=new Uint32Array(o.buffer);for(var _=0;_<H;_++){for(var u=0;u<D;u++){o[_*D+u]=l[(H-1-_)*D+u]}}};g.t.a7p=function(l){return Math.abs(l[6])<1e-9&&Math.abs(l[7])<1e-9};
g.t.a0Y=function(l){return Math.abs(l[0])<1e-9&&Math.abs(l[4])<1e-9||Math.abs(l[1])<1e-9&&Math.abs(l[3])<1e-9};
g.t.drawImage=function(l,o,D,H,_,u,S,h,F){if(S==null)S=!1;if(h==null)h=!1;var n=g.t.L5(l),R=!0,s=0;for(var v=0;
v<8;v++){var Z=Math.round(l[v]);if(v!=2&&v!=5)s+=Math.abs(Z);if(Math.abs(Z-l[v])>1e-9)R=!1}var O=g.t.a7p(l),w=g.t.a0Y(l)&&O,m=w?1:0;
if(S||R&&s==D+H&&O){g.t.a1p(n,o,D,H,_,u,h,O,F);return}var V=u.Q,q=u._,i=new Float64Array(2);_=new Uint32Array(_.buffer);
o=new Uint32Array(o.buffer);for(var c=0;c<q;c++)for(var z=0;z<V;z++){var B=c*V+z,t,a,I,N,U=0,b=0,e=0,P=0;
_[B]=0;var J=z+u.x+.5,Q=c+u.y+.5;t=J;a=Q;I=n;var A=I[0]*t+I[1]*a+I[2],f=I[3]*t+I[4]*a+I[5];if(!O){N=1/(I[6]*t+I[7]*a+1);
A*=N;f*=N}var W=A*D,C=f*H,j=W<-1||W>D+1||C<-1||C>H+1;if(h){W=Math.max(.001,Math.min(D-1,W));C=Math.max(.001,Math.min(H-1,C))}else if(j)continue;
var K=g.t.anq(l,D,H,J,Q,A,f),$=Math.round(K*2.3);if(K<1.1){g.t.E7(W,C,o,D,H,_,B,m);continue}if(!h&&(W<.6||W>D-.6||C<.6||C>H-.6)){$=Math.max($,5)}if(h&&j)$=1;
var r=1/$,L=u.x+z,Y=u.y+c;I=n;for(var v=0;v<$;v++)for(var X=0;X<$;X++){t=L+(v+.5)*r;a=Y+(X+.5)*r;var W=I[0]*t+I[1]*a+I[2],C=I[3]*t+I[4]*a+I[5];
if(!O){N=1/(I[6]*t+I[7]*a+1);W*=N;C*=N}if(h){W=Math.max(.001,Math.min(.999,W));C=Math.max(.001,Math.min(.999,C))}else if(W<0||W>=1||C<0||C>=1)continue;
W=Math.floor(W*D);C=Math.floor(C*H);var G=C*D+W,E=o[G],T=E>>>24;U+=(E&255)*T;b+=(E>>>8&255)*T;e+=(E>>>16&255)*T;
P+=T}if(P!=0){var y=1/P;U=~~(U*y+.5);b=~~(b*y+.5);e=~~(e*y+.5);P=~~(P*r*r+.5);_[B]=P<<24|e<<16|b<<8|U}}};
g.t.anq=function(l,o,D,H,_,u,S){var h=g.t.a7G(l,H,_,u+1/o,S),F=g.t.a7G(l,H,_,u,S+1/D);return 1/Math.sqrt(Math.max(h,F))};
g.t.a7G=function(l,o,D,H,_){var u=1/(l[6]*H+l[7]*_+1),S=(l[0]*H+l[1]*_+l[2])*u-o,h=(l[3]*H+l[4]*_+l[5])*u-D;
return S*S+h*h};g.t.a1p=function(l,o,D,H,_,u,S,h,F){if(h&&!S&&u.c()>4e6&&F){g.t.aEq(l,o,D,H,_,u,S,h,F);
return}var n=u.x+u.Q,R=u.y+u._,s=0,Z=new Uint32Array(_.buffer),O=new Uint32Array(o.buffer),w=l[0]*D,m=l[1]*D,V=l[2]*D,q=l[3]*H,i=l[4]*H,c=l[5]*H,z=l[6],B=l[7];
if(h&&!S)for(var t=u.y+.5;t<R;t++)for(var a=u.x+.5;a<n;a++){var I=w*a+m*t+V,N=q*a+i*t+c;if(0<I&&I<D&&0<N&&N<H){var J=~~N*D+~~I;
Z[s]=O[J]}else Z[s]=0;s++}else for(var t=u.y+.5;t<R;t++)for(var a=u.x+.5;a<n;a++){var Q=1/(z*a+B*t+1),I=(w*a+m*t+V)*Q,N=(q*a+i*t+c)*Q;
if(S){I=Math.max(.001,Math.min(D-1,I));N=Math.max(.001,Math.min(H-1,N))}if(0<I&&I<D&&0<N&&N<H){var J=Math.floor(N)*D+Math.floor(I);
Z[s]=O[J]}else Z[s]=0;s++}};g.t.aEq=function(l,o,D,H,_,u,S,h,F){var n=new Uint32Array(_.buffer),R=new Uint32Array(o.buffer),B=0;
if(F&&(u.Q&3)!=0)throw"e";var s=l[0]*D,Z=l[1]*D,O=l[2]*D,w=l[3]*H,m=l[4]*H,V=l[5]*H,q=l[6],i=l[7],c=u.Q,z=u._,t=u.x+.5,a=u.y+.5,I=(c>>>2<<2)-1e-9,N=-.1+(z>>>1<<1)-1e-9,J=~~D,Q=s==0?0:1/s,A=w==0?0:1/w;
for(var f=0;f<z;f++){var W=t*s+Z*(f+a)+O,C=t*w+m*(f+a)+V,j=0,K=c;if(s==0){}else if(Q>0){j=Math.max(j,-W*Q);
K=Math.min(K,(D-W)*Q)}else{K=Math.min(K,-W*Q);j=Math.max(j,(D-W)*Q)}if(w==0){}else if(A>0){j=Math.max(j,-C*A);
K=Math.min(K,(H-C)*A)}else{K=Math.min(K,-C*A);j=Math.max(j,(H-C)*A)}if(K<0)K=0;if(j>K)j=K;j=~~Math.ceil(j);
K=~~K;B=~~(f*c);n.fill(0,B,B+j);B+=j;for(var $=j;$<K;$+=4){var r=s*$+W,U=w*$+C,b=~~U*J+~~r,e=R[b];n[B]=e;
n[B+1]=e;n[B+2]=e;n[B+3]=e;B+=4}n.fill(0,B,B+c-K)}};g.t.L5=function(l){var o=l[4]-l[5]*l[7],D=l[2]*l[7]-l[1],H=l[1]*l[5]-l[2]*l[4],_=l[5]*l[6]-l[3],u=l[0]-l[2]*l[6],S=l[3]*l[2]-l[0]*l[5],h=l[3]*l[7]-l[4]*l[6],F=l[1]*l[6]-l[0]*l[7],n=1/(l[0]*l[4]-l[1]*l[3]);
return[o*n,D*n,H*n,_*n,u*n,S*n,h*n,F*n]};g.t.GM=function(l,o){var D=l[0],H=l[1],_=l[2],u=l[3],S=l[4],h=l[5],F=l[6],n=l[7],R=o[0],s=o[1],Z=o[2],O=o[3],w=o[4],m=o[5],V=o[6],q=o[7],i=[D*R+H*O+_*V,D*s+H*w+_*q,D*Z+H*m+_,u*R+S*O+h*V,u*s+S*w+h*q,u*Z+S*m+h,F*R+n*O+V,F*s+n*w+q],c=1/(F*Z+n*m+1);
for(var v=0;v<8;v++)i[v]*=c;return i};g.t.E7=function(l,o,D,H,_,u,S,h){var F=l,n=o,Z=0,O=0,w=0,m=0;l-=.499999;
o-=.499999;var R=Math.floor(l),s=Math.floor(o);if(h==0){var v=s*H+R,V=R>=0&&R<H,q=R+1>=0&&R+1<H,i=s>=0&&s<_,c=s+1>=0&&s+1<_;
if(V&&i)Z=D[v];if(q&&i)O=D[v+1];if(V&&c)w=D[v+H];if(q&&c)m=D[v+H+1]}else if(h==1){var z=R<0?0:R>H-1?H-1:R,B=R<-1?0:R>H-2?H-1:R+1,t=s<0?0:s>_-1?_-1:s,a=s<-1?0:s>_-2?_-1:s+1;
Z=D[t*H+z];O=D[t*H+B];w=D[a*H+z];m=D[a*H+B]}else{var z=(R+50*H)%H,B=(R+50*H+1)%H,t=(s+50*_)%_,a=(s+50*_+1)%_;
Z=D[t*H+z];O=D[t*H+B];w=D[a*H+z];m=D[a*H+B]}var I=l-R,N=o-s,J=(1-N)*(1-I)*(Z>>>24),Q=(1-N)*I*(O>>>24),A=N*(1-I)*(w>>>24),f=N*I*(m>>>24),W=J+Q+A+f,C=J*(Z&255)+Q*(O&255)+A*(w&255)+f*(m&255),j=J*(Z>>>8&255)+Q*(O>>>8&255)+A*(w>>>8&255)+f*(m>>>8&255),K=J*(Z>>>16&255)+Q*(O>>>16&255)+A*(w>>>16&255)+f*(m>>>16&255);
if(W==0)u[S]=0;else{var $=1/W;C=~~(C*$+.5);j=~~(j*$+.5);K=~~(K*$+.5);W=~~(W+.5);u[S]=W<<24|K<<16|j<<8|C}};
g.t.axO=function(l,o,D,H,_,u){var S=l-.499999,h=o-.499999,F=~~S,n=~~h,R=S-F,s=h-n,Z=(1-s)*(1-R),O=(1-s)*R,w=s*(1-R),m=s*R,V=n*H+F<<2,q=(n+1)*H+F<<2,i=Z*D[V]+O*D[V+4]+w*D[q]+m*D[q+4],c=Z*D[V+1]+O*D[V+5]+w*D[q+1]+m*D[q+5],z=Z*D[V+2]+O*D[V+6]+w*D[q+2]+m*D[q+6],B=Z*D[V+3]+O*D[V+7]+w*D[q+3]+m*D[q+7];
u[0]=i;u[1]=c;u[2]=z;u[3]=B};g.t.kM=function(l,o,D,H,_){l-=.499999;o-=.499999;var u=Math.floor(l),S=Math.floor(o),h=l-u,F=o-S,n=(1-F)*(1-h),R=(1-F)*h,s=F*(1-h),Z=F*h,O=(u+50*H)%H,w=(u+1+50*H)%H,m=(S+50*_)%_,V=(S+1+50*_)%_,q=D[m*H+O],i=D[m*H+w],c=D[V*H+O],z=D[V*H+w];
if(q==null||z==null)throw"e";return n*q+R*i+s*c+Z*z};g.t.ap1=function(l,o,D,H,_){l-=.499999;o-=.499999;
var u=Math.floor(l),S=Math.floor(o),h=l-u,F=o-S,n=(1-F)*(1-h),R=(1-F)*h,s=F*(1-h),Z=F*h,O=0,w=S*H+u,m=w+H;
if(0<=S&&S<_&&0<=u&&u<H)O+=n*D[w];if(0<=S&&S<_&&0<=u+1&&u+1<H)O+=R*D[w+1];if(0<=S+1&&S+1<_&&0<=u&&u<H)O+=s*D[m];
if(0<=S+1&&S+1<_&&0<=u+1&&u+1<H)O+=Z*D[m+1];return O};g.t.a62=function(l,o,D,H,_,u,S,h,F,n,R,s){var Z=new Uint32Array(l.buffer),O=new Uint32Array(H.buffer),w=(1+2*n)/_,m=[],V=[];
for(var q=0;q<_;q++){var i=-.25+n-q*w;m.push(Math.cos(2*Math.PI*i)*s/R);m.push(Math.sin(2*Math.PI*i)/R)}S*=o;
h*=D;for(var c=0;c<u;c++){var z=Math.pow(c/u,F)*u;for(var q=0;q<_;q++){var B=S+m[q<<1]*z,t=h+m[(q<<1)+1]*z,a=~~(.5+(B<0?0:B>o-1?o-1:B)),I=~~(.5+(t<0?0:t>D-1?D-1:t));
O[c*_+q]=Z[I*o+a]}}};g.t.ab3=function(l,o,D,H,_,u,S,h,F,n,R,s){var Z=new Uint32Array(l.buffer),O=new Uint32Array(H.buffer),w=1/s,m=[],V=D*4,q=1/V;
for(var i=0;i<V+10;i++)m.push(Math.pow(i*q,1/F)*D*R);S*=_;h*=u;for(var i=0;i<u;i++)for(var c=0;c<_;c++){var z=w*(c-S),B=i-h,t=1.75-Math.atan2(B,z)*(1/(2*Math.PI));
t=t-~~t;t=(t+n)*(1/(1+2*n));var a=Math.sqrt(z*z+B*B);a=m[~~(a*4)];g.t.E7(t*o+.5,a+.5,Z,o,D,O,i*_+c,1)}};
g.t.ri=function(l,o,D,H,_){var u=_[0],S=_[1];for(var h=0;h<S;h++)for(var F=0;F<u;F++){var n=_[2]*F+_[3]*h+_[4],R=_[5]*F+_[6]*h+_[7],s=h*u+F<<2,Z=R*o+n<<2;
H[s]=l[Z+0];H[s+1]=l[Z+1];H[s+2]=l[Z+2];H[s+3]=l[Z+3]}};g.G={bN:function(l,o){var D=~~(.499+l*o);return D<0?0:D>o?o:D},aqf:function(l,o,D,H,_,u,S,h){var F=D[0],n=D[1],R=D[2],s=D[3],Z=H.Q,O=H._,w=new Uint32Array(1),m=new Uint8Array(w.buffer),V=Math.round(Math.random()*H.c()*100);
for(var q=0,v=0;q<O;q++){for(var i=0;i<Z;i++,v++){var c=i+_,z=q+u,B=F*c+n*z,t=R*c+s*z,a=0,J=0;if(h==0)a=B+.5;
else if(h==1)a=2*Math.sqrt(B*B+t*t);else if(h==2)a=(Math.PI+Math.atan2(-t,-B))/(2*Math.PI);else if(h==3)a=Math.abs(B*2);
else if(h==4)a=2*(Math.abs(B)+Math.abs(t));var I=g.G.bN(a,S)*4,N=i*4;w[0]=g.z.cT(v+V);for(var Q=0;Q<4;
Q++){var A=o[I+Q],f=Math.floor(A);if(m[Q]<(A-f)*255)f++;J|=f<<Q*8}l[v]=J}}},rD:[function(l,o,D,H,_,u,S){var h=D[0],F=D[1],n=D[2],R=D[3],s=H.Q,Z=H._;
for(var O=0,v=0;O<Z;O++)for(var w=0;w<s;w++,v++){var m=w+_,V=O+u,q=h*m+F*V,i=n*m+R*V,c=q+.5;l[v]=o[g.G.bN(c,S)]}},function(l,o,D,H,_,u,S){var h=D[0],F=D[1],n=D[2],R=D[3],s=H.Q,Z=H._;
for(var O=0,v=0;O<Z;O++)for(var w=0;w<s;w++,v++){var m=w+_,V=O+u,q=h*m+F*V,i=n*m+R*V,c=2*Math.sqrt(q*q+i*i);
l[v]=o[g.G.bN(c,S)]}},function(l,o,D,H,_,u,S){var h=D[0],F=D[1],n=D[2],R=D[3],s=H.Q,Z=H._;for(var O=0,v=0;
O<Z;O++)for(var w=0;w<s;w++,v++){var m=w+_,V=O+u,q=h*m+F*V,i=n*m+R*V,c=(Math.PI+Math.atan2(-i,-q))/(2*Math.PI);
l[v]=o[g.G.bN(c,S)]}},function(l,o,D,H,_,u,S){var h=D[0],F=D[1],n=D[2],R=D[3],s=H.Q,Z=H._;for(var O=0,v=0;
O<Z;O++)for(var w=0;w<s;w++,v++){var m=w+_,V=O+u,q=h*m+F*V,i=n*m+R*V,c=Math.abs(q*2);l[v]=o[g.G.bN(c,S)]}},function(l,o,D,H,_,u,S){var h=D[0],F=D[1],n=D[2],R=D[3],s=H.Q,Z=H._;
for(var O=0,v=0;O<Z;O++)for(var w=0;w<s;w++,v++){var m=w+_,V=O+u,q=h*m+F*V,i=n*m+R*V,c=2*(Math.abs(q)+Math.abs(i));
l[v]=o[g.G.bN(c,S)]}}]};g.G.afU=function(l,o){return l+.5};g.G.aaz=function(l,o){return 2*Math.sqrt(l*l+o*o)};
g.G.adz=function(l,o){return(Math.PI+Math.atan2(-o,-l))/(2*Math.PI)};g.G.aqV=function(l,o){return Math.abs(l*2)};
g.G.a8X=function(l,o){return 2*(Math.abs(l)+Math.abs(o))};g.G.Wl=function(l,o,D,H,_,u,S,h,F,n,R,s){var Z=l.Clrs,O=new Uint32Array(o.buffer),w=1023,m=Z?g.G.pD(l,F,n):null;
if(s&&Z){var V=g.G.afG(l,m,w+1,S);g.G.aqf(O,V,H,D,D.x-_,D.y-u,w,h)}else{var q=Z?g.G.a1h(l,m,w+1,S):g.G.a4X(l,w+1,S);
if(h<5){g.G.rD[h](O,q,H,D,D.x-_,D.y-u,w)}else{var i=new Uint8Array(q.buffer),c=D.Q,z=D._,B=R.PP-R.OY,t=1/B,a=R.$N.Q-D.Q>>1,I=R.$N._-D._>>1,N=R.$N.Q,J=-.6*t,Q=(-.6+.4)*t,A=(-.6+2*.4)*t,f=(-.6+3*.4)*t;
for(var W=0,v=0;W<z;W++)for(var C=0;C<c;C++,v+=4){var j=0,K=0,$=0,r=0,U=(W+I)*N+C+a,b=(R.d9[U]-R.OY)*t,e=0;
if(b<=0||b>=1){e=(b<=0?0:w)<<2;o[v]=i[e];o[v+1]=i[e+1];o[v+2]=i[e+2];o[v+3]=i[e+3];continue}e=Math.max(0,Math.min(w-1,Math.round((b+J)*w)))<<2;
K+=i[e];$+=i[e+1];r+=i[e+2];j+=i[e+3];e=Math.max(0,Math.min(w-1,Math.round((b+Q)*w)))<<2;K+=i[e];$+=i[e+1];
r+=i[e+2];j+=i[e+3];e=Math.max(0,Math.min(w-1,Math.round((b+A)*w)))<<2;K+=i[e];$+=i[e+1];r+=i[e+2];j+=i[e+3];
e=Math.max(0,Math.min(w-1,Math.round((b+f)*w)))<<2;K+=i[e];$+=i[e+1];r+=i[e+2];j+=i[e+3];o[v]=K>>>2;
o[v+1]=$>>>2;o[v+2]=r>>>2;o[v+3]=j>>>2}}}};g.G.pD=function(l,o,D){var H=[l.Clrs.v,l.Trns.v],_=[[],[]],u=255;
for(var S=0;S<2;S++)for(var v=0;v<H[S].length;v++){var h,F=H[S][v].v;if(S==0){var n=F.Type.v.Clry;if(n=="FrgC")h={$:o>>16&255,H:o>>8&255,J:o&255};
else if(n=="BckC")h={$:D>>16&255,H:D>>8&255,J:D&255};else h=g.G.s3(F.Clr.v)}else{h=F.Opct.v.val*(255/100);
if(h<u)u=h}_[S].push([h,F.Lctn.v/4096,F.Mdpn.v/100])}_.push(u>254);return _};g.G.s3=function(l){var o,D=l.classID;
if(D=="RGBC"){if(l.Rd)o={$:l.Rd.v,H:l.Grn.v,J:l.Bl.v};else o={$:l.redFloat.v*255,H:l.greenFloat.v*255,J:l.blueFloat.v*255}}else if(D=="HSBC"){o=g.cO(l.H.v.val/360,l.Strt.v/100,l.Brgh.v/100);
o.$*=255;o.H*=255;o.J*=255}else if(D=="CMYC"){var H=l.Cyn.v,_=l.Mgnt.v,u=l.Ylw.v,S=l.Blck.v,h=[H/100,_/100,u/100,S/100],F=g.IG(h);
o={$:F[0]*255,H:F[1]*255,J:F[2]*255}}else if(D=="Grsc")o={$:255-l.Gry.v,H:255-l.Gry.v,J:255-l.Gry.v};
else if(D=="LbCl"){o=g.Wn(l.Lmnc.v,l.A.v,l.B.v)}else if(D=="BkCl")o={$:0,H:0,J:0};else console.log(l);
if(isNaN(o.$))o.$=o.H=o.J=0;return o};g.G.a4X=function(l,o,D){var H=new Uint32Array(o),_=new Uint8Array(H.buffer);
H.fill(4278190080);var u=[],S=[],h=l.RndS.v,F=l.Smth.v/4096;for(var v=0;v<4;v++){u[v]=~~(l.Mnm.v[v].v*255/100);
S[v]=~~(l.Mxm.v[v].v*255/100)}var n=g.o(o*4),R=g.o(o);for(var s=0;s<3;s++){g.g.ay_(null,o,1,n,[1+Math.round(F*F*F*60),22,h*(2+s)]);
g.mA(n,R,0);g.Kl(R,_,s);var Z=u[s],O=S[s];for(var v=0;v<o;v++)_[4*v+s]=Math.max(Z,Math.min(O,_[4*v+s]))}if(D)for(var v=0;
v<o/2;v++){var w=H[v];H[v]=H[o-1-v];H[o-1-v]=w}return H};g.G.XF=function(l){return{classID:"RGBC",Rd:{t:"doub",v:l.$},Grn:{t:"doub",v:l.H},Bl:{t:"doub",v:l.J}}};
g.G.afG=function(l,o,D,H){var _=[],u=1/(D-0);for(var v=0;v<D;v++){var S=v*4,h=g.G.fL(l,o,(H?D-1-v:v)*u);
_[S]=h[0];_[S+1]=h[1];_[S+2]=h[2];_[S+3]=h[3]}return _};g.G.a1h=function(l,o,D,H){var _=new Uint32Array(D),u=1/(D-0);
for(var v=0;v<D;v++)_[v]=g.G.Wb(l,o,(H?D-1-v:v)*u);return _};g.G.fL=function(l,o,D){var H=l.Intr.v*(1/4096),_=o[0],u=o[1],S=_.length-1,h=u.length-1,v=-1,F=0,n=0,R=0,s=0;
if(o[2])F=255;else{while(v<h&&u[v+1][1]<=D)v++;if(v==-1){F=u[0][0]}else if(v==h){F=u[v][0]}else{var Z=g.G.a4v(u,v,D,H);
F=Z*u[v][0]+(1-Z)*u[v+1][0]}}v=-1;while(v<S&&_[v+1][1]<=D)v++;if(v==-1){var O=_[0][0];n=O.$;R=O.H;s=O.J}else if(v==S){var O=_[v][0];
n=O.$;R=O.H;s=O.J}else{var w=_[v][0],m=_[v+1][0],V=g.G.a4v(_,v,D,H);n=Math.min(255,V*w.$+(1-V)*m.$);
R=Math.min(255,V*w.H+(1-V)*m.H);s=Math.min(255,V*w.J+(1-V)*m.J)}return[n,R,s,F]};g.G.Wb=function(l,o,D){var H=g.G.fL(l,o,D),_=~~(.5+H[0]),u=~~(.5+H[1]),S=~~(.5+H[2]),h=~~(.5+H[3]);
return h<<24|S<<16|u<<8|_};g.G.a4v=function(l,v,o,D){if(l.length==2)D*=.5;var H=l[v][1],_=l[v+1][1],u=H+l[v+1][2]*(_-H),S;
if(o<u)S=.5*(o-H)/(u-H);else S=.5+.5*(o-u)/(_-u);S=.5+.5*(D*Math.cos(Math.PI*S)+(1-D)*(1-2*S));return S};
g.G.aAB=function(l,o,D){var H=.5*D._,_=H*(l/o),u=Math.sqrt(H*H+_*_),S=.5*D.Q,h=S*(o/l),F=Math.sqrt(S*S+h*h);
return Math.min(u,F)};g.G.apH=function(l,o){var D=Math.PI*l.Angl.v.val/180,H=l.Scl.v.val/100,_=l.Ofst.v,u=_.Hrzn.v.val/100,S=_.Vrtc.v.val/100,h=Math.cos(D),F=-Math.sin(D),n=g.G.aAB(h,F,o),R=n*H,s=o.x+o.Q/2+u*o.Q,Z=o.y+o._/2+S*o._;
return[new he(s,Z),new he(s+h*R,Z+F*R)]};g.G.iW=function(l,o,D,H){var _=o.x-l.x,u=-(o.y-l.y),S=Math.sqrt(_*_+u*u),h=Math.atan2(u,_),F=Math.cos(h),n=-Math.sin(h),R=g.G.aAB(F,n,D),s=S/R,Z=(l.x-D.x-D.Q/2)/D.Q,O=(l.y-D.y-D._/2)/D._;
H.Angl.v.val=180*h/Math.PI;H.Scl.v.val=s*100;var w=H.Ofst.v;w.Hrzn.v.val=Z*100;w.Vrtc.v.val=O*100};g.G.Ky=function(l,o){for(var v=0;
v<l.length;v++){var D=l[v],H=Math.round(D[0]*4096),_=D[1],u=D[2],S=l[Math.max(0,v-1)][3];if(u==null)u=1;
if(S==null)S=.5;var h=g.G.XF({$:_[0]*255,H:_[1]*255,J:_[2]*255});o.Clrs.v[v]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:H},Mdpn:{t:"long",v:Math.round(S*100)},Clr:{t:"Objc",v:h},Type:{t:"enum",v:{Clry:"UsrS"}}}};
o.Trns.v[v]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:H},Mdpn:{t:"long",v:Math.round(S*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(u*100)}}}}}};
g.G.ant=function(l,o,D){if(o){l=JSON.parse(JSON.stringify(l));for(var v=0;v<2;v++){var H=l[v==0?"Clrs":"Trns"].v;
for(var _=0;_<H.length;_++)H[_].v.Lctn.v=4096-H[_].v.Lctn.v;H.reverse()}}var u=[],S=1/255,h=l.Clrs.v,F=l.Trns.v,H=h;
if(a8==0||h.length!=F.length){if(a8!=0)console.log("strange gradient");if(D!=!0)H=h.concat(F);var n=g.G.pD(l,0,0);
for(var v=0;v<H.length;v++){var R=H[v].v,s=R.Lctn.v/4096,Z=g.G.fL(l,n,s);u.push([s,[Z[0]*S,Z[1]*S,Z[2]*S],Z[3]*S,R.Mdpn.v/100])}u.sort(function(w,m){return w[0]-m[0]});
for(var v=1;v<u.length;v++)if(u[v][0]-u[v-1][0]<.001){u.splice(v,1);v--}}else{for(var v=0;v<H.length;
v++){var R=h[v].v,O=R.Clr.v,s=R.Lctn.v/4096;u.push([s,[O.Rd.v*S,O.Grn.v*S,O.Bl.v*S],F[v].v.Opct.v.val/100,h[Math.min(v+1,h.length-1)].v.Mdpn.v/100])}}return u};
g.G.wS=function(l,o){function D(l,S){l.addColorStop(S[0],CSS.ajX(S[1],S[2]))}function H(S,h,F,n){var R=Math.log(.5)/Math.log(n),s=Math.log(.5)/Math.log(1-n),Z=n>.5?Math.pow(F,R):1-Math.pow(1-F,s),O=1-Z,w=S[0],m=S[1],V=h[1],q=[w+(h[0]-w)*F,[m[0]*O+V[0]*Z,m[1]*O+V[1]*Z,m[2]*O+V[2]*Z],S[2]*O+h[2]*Z];
return q}D(l,o[0]);for(var v=1;v<o.length;v++){var _=o[v-1][3];if(_!=.5)for(var u=1;u<20;u++)D(l,H(o[v-1],o[v],u/20,_));
D(l,o[v])}};g.a3x={};g.a3x.vP=function(l,o,D,H,_,u,S,h,F,n,R,s){var Z,O,w,m=Date.now(),V=!1,q=S,i=n,c,z,B,t,a=u*255,I=255-F*255,N=1+_*6,J=1+h*6,Q=1+s*4,A=(Q-1)/7,f=0,W=255-0,C,j,K,$,r,U,b,e,P,L,Y,X,G,E=0,T=1,y,d4,dH,eV,bf,jd,i5,fD,eo,iX,cK=1+R,g0,bW=g.o(D*H),hF=g.o(D*H),aJ=g.o(D*H),iR=g.o(D*H),ex=255/a,dX=255/(255-I);
for(O=0;O<H;O++){for(Z=0;Z<D;Z++){var v=O*D+Z,iZ=v<<2;y=g.cn(l[iZ],l[iZ+1],l[iZ+2]);iR[v]=y;if(y<a)bW[v]=255-y*ex;
if(y>I)hF[v]=255-(255-y)*dX}}if(V)console.log("init",Date.now()-m);m=Date.now();if(_*q>0){aJ.set(bW);
g.l5.Kt(aJ,bW,new gt(0,0,D,H),q)}if(h*i>0){aJ.set(hF);g.l5.Kt(aJ,hF,new gt(0,0,D,H),i)}if(V)console.log("blur",Date.now()-m);
m=Date.now();var j3=g.o(256),by=g.o(256);for(var v=0;v<256;v++){var i9=v*(1/255),dm=0;dm=(1-Math.pow(1-i9,N))*255;
j3[v]=Math.max(0,Math.min(255,~~(dm+.5)));dm=Math.pow(i9,J)*255;by[v]=Math.max(0,Math.min(255,~~(dm+.5)))}var kh=new Uint8ClampedArray(o.buffer),jK=new Float32Array(32768);
for(var v=0;v<32768;v++){g0=Math.sqrt(v)*(1/128);if(cK>1)g0=(1-g0)*(cK-1)+1;else g0=g0*(cK-1)+1;jK[v]=g0}for(O=0;
O<H;O++){for(Z=0;Z<D;Z++){var v=O*D+Z,iZ=v<<2,dm=iR[v],bd=bW[v]*(1/255),dz=hF[v]*(1/255);dm=(1-bd)*dm+bd*j3[~~dm];
dm=(1-dz)*dm+dz*by[~~dm];y=dm;var dw=l[iZ],ev=l[iZ+1],aq=l[iZ+2];d4=-dw*.168736-ev*.331264+aq*.5;dH=dw*.5-ev*.418688-aq*.081312;
g0=jK[~~(.5+d4*d4+dH*dH)];eV=d4*g0;jd=dH*g0;T=1-Math.min(2-(bd+dz),1);d4=T*d4+(1-T)*eV;dH=T*dH+(1-T)*jd;
fD=y+1.402*dH;eo=y-.34414*d4-.71414*dH;iX=y+1.772*d4;kh[iZ]=~~(.5+fD);kh[iZ+1]=~~(.5+eo);kh[iZ+2]=~~(.5+iX)}}if(V)console.log("apply masks",Date.now()-m);
m=Date.now()};g.DA={};g.DA.hA=function(l,o,D,H,_){var u=Date.now(),S=!1,m=1,W=0,P=0;if(!o.u4(_)){var h=o.tB(_),F=g.o(h.c()*4);
g.Qo(l,o,F,h);l=F;o=h}var n=g.o(o.c());g.mB(D,_,n,o);g.round(n);_=_.$o(o);var R=_.Q,s=_._,Z=R*3<s?2:1,O=s*3<R?2:1;
if(_.c()*(Z*2+1)*(O*2+1)<o.c()){var h=new gt(_.x-R*Z,_.y-s*Z,R*(Z*2+1),s*(O*2+1)).$o(o),F=g.o(h.c()*4);
g.Qo(l,o,F,h);var w=g.o(h.c());g.mB(n,o,w,h);o=h;l=F;n=w}while((o.Q+o._)/2/m>400)m++;var V=l,q=o,i=n,c=Math.floor(q.Q/m),z=Math.floor(q._/m);
l=g.o(c*z*4);g.scale.gp(V,q.Q,q._,l,c,z,1/m);n=g.o(c*z);g.scale.ri(i,q.Q,q._,n,c,z,1/m);g.round(n,1);
if(S)console.log("scale down:",m,c,z);var B=g.uA(n,new gt(0,0,c,z));if(B.lh())return 1;var t=Math.round((B.Q+B._)/2/15);
if(S)console.log(Date.now()-u,"preprocess");u=Date.now();var a=g.o(c*z*4);g.aaU(l,a);var I=Int16Array,N=new I(c*z*24),J=new I(64),Q=new I(64),A=new I(64),f=new I(64);
for(var C=3;C<z-4;C++)for(var j=3;j<c-4;j++){var K=C*c+j;if(n[K]==255)continue;if(g.DA.adH(a,n,j,C,c,z,J,Q,A)!=0)continue;
g.DA.ng(J,f);var $=W*24;N[$]=j;N[$+1]=C;g.DA.Tg(J,N,$+4,12);g.DA.ng(Q,f);g.DA.Tg(Q,N,$+16,4);g.DA.ng(A,f);
g.DA.Tg(A,N,$+20,4);var r=N[$+5],U=N[$+6];N[$+5]=N[$+16];N[$+6]=N[$+20];N[$+16]=r;N[$+20]=U;W++}if(W==0)return 2;
if(S)console.log(Date.now()-u,"FWHT computed");u=Date.now();var b=[];g.DA.FF(0,W-1,b,N,new I(2*24));
if(S)console.log(Date.now()-u,"KD tree computed");u=Date.now();var e=new Uint32Array(c*z*4);for(var v=0;
v<W;v++){var L=v,Y=g.DA.auc(L,N,b,t);if(Y==-1)continue;var X=L*24,G=Y*24,E=N[X],T=N[X+1],y=N[G],d4=N[G+1];
P+=g.DA.getError(G,X,N,1e99);var dH=y-E,eV=d4-T;e[(z+eV)*2*c+(c+dH)]+=1}if(S)console.log(Date.now()-u,"NN found");
u=Date.now();var bf=[],jd=1/(2*c);for(var v=0;v<e.length;v++){if(e[v]>0){var C=Math.floor(v*jd),j=v-C*2*c;
bf.push({x:j-c,y:C-z,P:e[v],Vu:-1})}}bf.sort(function(kh,jK){return jK.P-kh.P});var i5=new Int32Array(c*z),fD=[];
for(var v=0;v<c*z;v++){if(n[v]==255){i5[v]=fD.length>>>1;fD.push(v%c,Math.floor(v/c))}else if(l[(v<<2)+3]<200){i5[v]=-2}else{i5[v]=-1}}var eo=g.DA.aCz(c,z,bf,i5,fD);
if(eo==null){if(S)console.log("no appropriate labeling");return 3}var iX=eo.uC,top=eo.top;iX=g.DA.a8h(iX,l,c,z,top,i5,fD);
if(S)console.log(Date.now()-u,"optimal labeling found");u=Date.now();var h=_.clone();h.ag(1,1);h=h.$o(q);
var cK=g.o(h.c()*4),g0=g.o(h.c());g.Qo(V,q,cK,h);var bW=q.Q,hF=q._;for(var C=0;C<hF;C++)for(var j=0;
j<bW;j++){if(i[C*bW+j]==0)continue;var aJ=Math.min(Math.floor(j/m),c-1),iR=Math.min(Math.floor(C/m),z-1),ex=i5[iR*c+aJ];
if(ex==-1)continue;var dX=iX[ex],iZ=top[dX],j3=j+iZ.x*m,by=C+iZ.y*m,i9=by*bW+j3<<2,dm=(C-h.y+q.y)*h.Q+(j-h.x+q.x)<<2;
cK[dm]=V[i9];cK[dm+1]=V[i9+1];cK[dm+2]=V[i9+2];cK[dm+3]=V[i9+3];cK[dm+3]=V[i9+3];g0[dm>>2]=dX+1}if(S)console.log(Date.now()-u,"copied back");
u=Date.now();g.a8.hA(cK,g0,h,null,1e3);if(S)console.log(Date.now()-u,"poisson smooth");u=Date.now();
g.Qo(cK,h,H,_);return 0};g.DA.amY=function(l,o,D,H,_,u){return g.DA.vF(l+_.x,o+_.y,D,H,u)?0:1e9};g.DA.a8h=function(l,o,D,H,top,_,u){var S=Date.now(),h=u.length>>>1,F=[-1,0,0,-1,1,0,0,1],n=1e99,R=[],s=[],Z=2*(h*2*3+h*2),O=null,w=0,m=0,V=0,q=1e99;
while(!0&&Date.now()<S+12e3){V++;var i=null,c=n;for(var z=0;z<top.length;z++){var B=top[z],t=0,a=h+2,I=0;
for(var v=0;v<h;v++){var N=u[v*2],J=u[v*2+1],Q=top[l[v]],A=g.DA.amY(N,J,D,H,B,_),f=l[v]==z?1e9:g.DA.amY(N,J,D,H,Q,_);
for(var kC=0;kC<4;kC++){if(kC==0&&N==0||kC==1&&J==0||kC==2&&N==D-1||kC==3&&J==H-1)continue;var W=F[2*kC],C=F[2*kC+1],j=N+W,K=J+C,$=_[K*D+j];
if($==-2){}else if($==-1){A+=3*g.DA.CU(j+B.x,K+B.y,j,K,D,H,o,_);A+=2*g.DA.CU(j+B.x+W,K+B.y+C,j+W,K+C,D,H,o,_);
f+=3*g.DA.CU(j+Q.x,K+Q.y,j,K,D,H,o,_);f+=2*g.DA.CU(j+Q.x+W,K+Q.y+C,j+W,K+C,D,H,o,_)}else if(kC>1){if(l[v]==l[$]){var r=0;
r+=g.DA.CU(N+Q.x,J+Q.y,N+B.x,J+B.y,D,H,o,_);r+=g.DA.CU(j+Q.x,K+Q.y,j+B.x,K+B.y,D,H,o,_);R[t]=v;R[t+1]=$;
s[t]=r;s[t+1]=r;t+=2}else{var U=top[l[$]],b=a,e=0,P=0,L=0;a++;e+=g.DA.CU(N+Q.x,J+Q.y,N+B.x,J+B.y,D,H,o,_);
e+=g.DA.CU(j+Q.x,K+Q.y,j+B.x,K+B.y,D,H,o,_);P+=g.DA.CU(N+U.x,J+U.y,N+B.x,J+B.y,D,H,o,_);P+=g.DA.CU(j+U.x,K+U.y,j+B.x,K+B.y,D,H,o,_);
L+=g.DA.CU(N+U.x,J+U.y,N+Q.x,J+Q.y,D,H,o,_);L+=g.DA.CU(j+U.x,K+U.y,j+Q.x,K+Q.y,D,H,o,_);R[t]=v;R[t+1]=b;
s[t]=e;s[t+1]=e;t+=2;R[t]=$;R[t+1]=b;s[t]=P;s[t+1]=P;t+=2;R[t]=b;R[t+1]=h+1;s[t]=L;s[t+1]=0;t+=2}}}R[t]=h;
R[t+1]=v;s[t]=A;s[t+1]=0;t+=2;R[t]=v;R[t+1]=h+1;s[t]=f;s[t+1]=0;t+=2;I+=Math.min(A,f)}if(I>c)continue;
var Y=g.kI.wr(a,t,h,h+1,R,s,c);if(Y.$l<c){c=Y.$l;var X=l.slice(0);g.DA.aeY(X,t,R,Y.eR,z,h);i=X}}if(c*1>=n){break}n=c;
l=i;if((V&3)==0){if(c*1.03>=q)break;q=c}if((V&3)==0){var G=0*top.length;for(var v=0;v<top.length&&top.length>G;
v++){if(l.indexOf(v)!=-1)continue;top.splice(v,1);for(var $=0;$<l.length;$++)if(l[$]>v)l[$]--;v--}}}return l};
g.DA.aeY=function(l,o,D,H,_,u){for(var v=0;v<H.length;v++){var S=H[v]<<1,h=0,F=0;if(S<o){h=D[S];F=D[S+1]}else{F=D[S];
h=D[S+1]}if(h==u&&l[F]!=_)l[F]=_}};g.DA.agL=function(top,l,o,D,H,_,u,S,h){for(var v=0;v<o.length;v++){var F=o[v],n=!0;
if(S!=null&&!g.DA.vF(S+F.x,h+F.y,_,u,D))continue;if(F.Vu==-1)F.Vu=g.DA.a5C(F,D,H,_,u);if(F.Vu<=0)continue;
for(var R=0;R<top.length;R++){var s=top[R],Z=F.x-s.x,O=F.y-s.y;if(Z*Z+O*O<l){n=!1;break}}if(n)return F}return null};
g.DA.a5C=function(l,o,D,H,_){var u=0;for(var v=0;v<D.length;v+=2){var S=D[v]+l.x,h=D[v+1]+l.y;if(g.DA.vF(S,h,H,_,o))u++}return u/(D.length>>1)};
g.DA.aCz=function(l,o,D,H,_){var u=_.length>>>1,top=[];for(var v=0;v<60;v++){var S=g.DA.agL(top,25,D,H,_,l,o);
if(S==null)break;else top.push(S)}if(top.length==0)return null;var h=[];for(var v=0;v<u;v++){var F=_[v*2],n=_[v*2+1],R=-1,s=0;
while(!0){s++;var Z=Math.random();R=Math.floor(Z*.99999*top.length);var O=top[R],w=F+O.x,m=n+O.y;if(g.DA.vF(w,m,l,o,H))break;
if(s>1e3){var S;S=g.DA.agL(top,0,D,H,_,l,o,F,n);if(S==null)for(var V=0;V<4;V++){var q,i,c=0;while(!0){q=~~(Math.random()*l);
i=~~(Math.random()*o);if(g.DA.vF(q,i,l,o,H))break;c++;if(c>500)throw"e"}S={x:q-F,y:i-n,P:1,Vu:-1};D.push(S);
top.push(S)}else top.push(S);s=0}}h.push(R)}return{top:top,uC:h}};g.DA.CU=function(l,o,D,H,_,u,S,h){if(l==D&&o==H)return 0;
if(l<0||o<0||l>=_||o>=u||D<0||H<0||D>=_||H>=u||h[o*_+l]!=-1||h[H*_+D]!=-1)return 1e7;var F=o*_+l<<2,n=H*_+D<<2,R=S[F]-S[n],s=S[F+1]-S[n+1],Z=S[F+2]-S[n+2];
return 1+(R*R+s*s+Z*Z)};g.DA.vF=function(l,o,D,H,_){return l>=0&&l<D&&o>=0&&o<H&&_[o*D+l]==-1};g.DA.auc=function(l,o,D,H){var _=24*l,u=o[_],S=o[_+1],h=H*H,F=0,Z=1e9;
while(D[F]!=99)if(o[_+D[F]]<D[F+1])F=D[F+2];else F=D[F+3];var n=D[F+1],R=D[F+2],s=-1;for(var v=n;v<=R;
v++){var F=v,O=F*24,w=o[O],m=o[O+1];if((w-u)*(w-u)+(m-S)*(m-S)<h)continue;var V=g.DA.getError(O,_,o,Z);
if(V<Z){Z=V;s=F}}return s};g.DA.getError=function(l,o,D,H){var _=0;for(var u=4;u<24;u+=4){var S=D[o+u]-D[l+u],h=D[o+u+1]-D[l+u+1],F=D[o+u+2]-D[l+u+2],n=D[o+u+3]-D[l+u+3];
_+=S*S+h*h+F*F+n*n;if(_>=H)return _+1}return _};g.DA.FF=function(l,o,D,H,_){var u=16,Z=0;if(o-l<=u){D.push(99,l,o);
return}g.DA.dm(l,o,H,_);var S=-1,h=-1;for(var v=4;v<24;v++){var F=_[2*v+1]-_[2*v];if(F>h){h=F;S=v}}var n=l+o>>1,R=g.DA.ard(n,l,o,H,S),s=-1;
for(var v=l;v<=o;v++)if(H[24*v+S]==R){if(s==-1)s=v;Z=v}if(l+8<s&&s-l>o-Z)n=s;else if(Z+1<o-8)n=Z+1;else if(o-l<64){D.push(99,l,o);
return}else n=n;var O=D.length;D.push(S,R,0,0);D[O+2]=O+4;g.DA.FF(l,n-1,D,H,_);D[O+3]=D.length;g.DA.FF(n,o,D,H,_)};
g.DA.dm=function(l,o,D,H){for(var v=0;v<48;v+=4){H[v]=3e4;H[v+1]=-3e4;H[v+2]=3e4;H[v+3]=-3e4}for(var v=l;
v<=o;v++){var _=v*24;for(var u=0;u<24;u++){var S=D[_+u],h=H[u<<1],F=H[(u<<1)+1];if(S<h)H[u<<1]=S;if(S>F)H[(u<<1)+1]=S}}};
g.DA.u0=function(l,o,D){var H=0,v=0;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;
v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;
v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;
v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;
v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;
v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;
v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;
v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;
v++;H=D[l+v];D[l+v]=D[o+v];D[o+v]=H;v++};g.DA.ka=function(l,o,D,H){var _=D+H>>>1,u=l[24*_+o];while(D<=H){while(l[24*D+o]<u)D++;
while(l[24*H+o]>u)H--;if(D<=H){if(l[24*D+o]!=l[24*H+o])g.DA.u0(D*24,H*24,l);D++;H--}}return D};g.DA.ard=function(l,o,D,H,_){var u=0;
while(o!=D){u=g.DA.ka(H,_,o,D);if(l<u)D=u-1;else o=u}return H[l*24+_]};g.DA.Tg=function(l,o,D,H){for(var v=0;
v<H;v++)o[D+v]=l[v]};g.DA.adH=function(l,o,D,H,_,u,S,h,F){var n=(H-3)*_+(D-3),R=n<<2;for(var s=0;s<8;
s++){if(o[n]+o[n+1]+o[n+2]+o[n+3]+o[n+4]+o[n+5]+o[n+6]+o[n+7]!=0||l[R+3]<200||l[R+7]<200||l[R+11]<200||l[R+15]<200||l[R+19]<200||l[R+23]<200||l[R+27]<200||l[R+31]<200)return 1;
var v=s<<3;S[v+0]=l[R+0];h[v+0]=l[R+1];F[v+0]=l[R+2];S[v+1]=l[R+4];h[v+1]=l[R+5];F[v+1]=l[R+6];S[v+2]=l[R+8];
h[v+2]=l[R+9];F[v+2]=l[R+10];S[v+3]=l[R+12];h[v+3]=l[R+13];F[v+3]=l[R+14];S[v+4]=l[R+16];h[v+4]=l[R+17];
F[v+4]=l[R+18];S[v+5]=l[R+20];h[v+5]=l[R+21];F[v+5]=l[R+22];S[v+6]=l[R+24];h[v+6]=l[R+25];F[v+6]=l[R+26];
S[v+7]=l[R+28];h[v+7]=l[R+29];F[v+7]=l[R+30];R+=_<<2;n+=_}return 0};g.DA.ng=function(l,o){o[0]=l[32]+l[0];
o[1]=l[33]+l[1];o[2]=l[34]+l[2];o[3]=l[35]+l[3];o[4]=l[36]+l[4];o[5]=l[37]+l[5];o[6]=l[38]+l[6];o[7]=l[39]+l[7];
o[8]=l[40]+l[8];o[9]=l[41]+l[9];o[10]=l[42]+l[10];o[11]=l[43]+l[11];o[12]=l[44]+l[12];o[13]=l[45]+l[13];
o[14]=l[46]+l[14];o[15]=l[47]+l[15];o[16]=l[48]+l[16];o[17]=l[49]+l[17];o[18]=l[50]+l[18];o[19]=l[51]+l[19];
o[20]=l[52]+l[20];o[21]=l[53]+l[21];o[22]=l[54]+l[22];o[23]=l[55]+l[23];o[24]=l[56]+l[24];o[25]=l[57]+l[25];
o[26]=l[58]+l[26];o[27]=l[59]+l[27];o[28]=l[60]+l[28];o[29]=l[61]+l[29];o[30]=l[62]+l[30];o[31]=l[63]+l[31];
o[32]=l[0]-l[32];o[33]=l[1]-l[33];o[34]=l[2]-l[34];o[35]=l[3]-l[35];o[36]=l[4]-l[36];o[37]=l[5]-l[37];
o[38]=l[6]-l[38];o[39]=l[7]-l[39];o[40]=l[8]-l[40];o[41]=l[9]-l[41];o[42]=l[10]-l[42];o[43]=l[11]-l[43];
o[44]=l[12]-l[44];o[45]=l[13]-l[45];o[46]=l[14]-l[46];o[47]=l[15]-l[47];o[48]=l[16]-l[48];o[49]=l[17]-l[49];
o[50]=l[18]-l[50];o[51]=l[19]-l[51];o[52]=l[20]-l[52];o[53]=l[21]-l[53];o[54]=l[22]-l[54];o[55]=l[23]-l[55];
o[56]=l[24]-l[56];o[57]=l[25]-l[57];o[58]=l[26]-l[58];o[59]=l[27]-l[59];o[60]=l[28]-l[60];o[61]=l[29]-l[61];
o[62]=l[30]-l[62];o[63]=l[31]-l[63];l[0]=o[16]+o[0];l[1]=o[17]+o[1];l[2]=o[18]+o[2];l[3]=o[19]+o[3];
l[4]=o[20]+o[4];l[5]=o[21]+o[5];l[6]=o[22]+o[6];l[7]=o[23]+o[7];l[8]=o[24]+o[8];l[9]=o[25]+o[9];l[10]=o[26]+o[10];
l[11]=o[27]+o[11];l[12]=o[28]+o[12];l[13]=o[29]+o[13];l[14]=o[30]+o[14];l[15]=o[31]+o[15];l[16]=o[0]-o[16];
l[17]=o[1]-o[17];l[18]=o[2]-o[18];l[19]=o[3]-o[19];l[20]=o[4]-o[20];l[21]=o[5]-o[21];l[22]=o[6]-o[22];
l[23]=o[7]-o[23];l[24]=o[8]-o[24];l[25]=o[9]-o[25];l[26]=o[10]-o[26];l[27]=o[11]-o[27];l[28]=o[12]-o[28];
l[29]=o[13]-o[29];l[30]=o[14]-o[30];l[31]=o[15]-o[31];o[0]=l[8]+l[0];o[1]=l[9]+l[1];o[2]=l[10]+l[2];
o[3]=l[11]+l[3];o[4]=l[12]+l[4];o[5]=l[13]+l[5];o[6]=l[14]+l[6];o[7]=l[15]+l[7];o[8]=l[0]-l[8];o[9]=l[1]-l[9];
o[10]=l[2]-l[10];o[11]=l[3]-l[11];o[12]=l[4]-l[12];o[13]=l[5]-l[13];o[14]=l[6]-l[14];o[15]=l[7]-l[15];
l[0]=o[4]+o[0];l[1]=o[5]+o[1];l[2]=o[6]+o[2];l[3]=o[7]+o[3];l[4]=o[0]-o[4];l[5]=o[1]-o[5];l[6]=o[2]-o[6];
l[7]=o[3]-o[7];l[8]=o[12]+o[8];l[9]=o[13]+o[9];l[10]=o[14]+o[10];l[11]=o[15]+o[11];l[12]=o[8]-o[12];
l[13]=o[9]-o[13];l[14]=o[10]-o[14];l[15]=o[11]-o[15];o[0]=l[2]+l[0];o[1]=l[3]+l[1];o[2]=l[0]-l[2];o[3]=l[1]-l[3];
o[4]=l[6]+l[4];o[5]=l[7]+l[5];o[6]=l[4]-l[6];o[7]=l[5]-l[7];o[8]=l[10]+l[8];o[9]=l[11]+l[9];o[10]=l[8]-l[10];
o[11]=l[9]-l[11];o[12]=l[14]+l[12];o[13]=l[15]+l[13];o[14]=l[12]-l[14];o[15]=l[13]-l[15];l[0]=o[1]+o[0];
l[1]=o[0]-o[1];l[2]=o[3]+o[2];l[3]=o[2]-o[3];l[4]=o[5]+o[4];l[5]=o[4]-o[5];l[6]=o[7]+o[6];l[7]=o[6]-o[7];
l[8]=o[9]+o[8];l[9]=o[8]-o[9];l[10]=o[11]+o[10];l[11]=o[10]-o[11];l[12]=o[13]+o[12];l[13]=o[12]-o[13];
l[14]=o[15]+o[14];l[15]=o[14]-o[15]};g.DA.azD=function(){var l="",kC=64,o="v",D="t",H="a",_=5,v,u,S;
for(v=kC>>1;v>0;v>>=1,_--){for(u=0;u<kC;u++){S=(u>>_&1)!=0;if(S){l+=D+"["+u+"] = "+o+"["+(-v+u)+"] - "+o+"["+u+"];  "}else{l+=D+"["+u+"] = "+o+"["+(v+u)+"] + "+o+"["+u+"];  "}}H=o;
o=D;D=H;l+="\n"}console.log(l)};g.DA.aoY=function(kC,l,o){var D=l,H=o,_=D,u=0,v,h,F;while(kC>>u!=2)u++;
var S=u;for(v=kC>>1;v>0;v>>=1,u--){for(h=0;h<kC;h++){F=(h>>u&1)!=0;if(F)H[h]=D[-v+h]-D[h];else H[h]=D[v+h]+D[h]}_=D;
D=H;H=_}if((S&1)==1)for(v=0;v<kC;v++)o[v]=D[v]};g.rH={};g.rH.Y3=function(l,o,D,H,_,u,S,h,F){var n=Date.now(),R=new Uint32Array(l.buffer),s=new Uint32Array(o.buffer),Z=S/D,O=h/H,w=1/Z,m=1/O,V=new Float64Array(2),q=3,i=1/q,c=1/(q*q),z=0,B=0,t=D,a=H;
if(_){z=_.x;B=_.y;t=_.Q;a=_._}for(var I=0;I<a;I++)for(var N=0;N<t;N++){var J=z+N,Q=B+I,v=Q*D+J,A=v<<1,f=v<<2;
g.rH.a52(u,S,h,(J+.5)*Z,(Q+.5)*O,V);var W=V[0]*w,C=V[1]*m;if(W==0&&C==0)s[v]=R[v];else{g.t.E7(J+W+.5,Q+C+.5,R,D,H,s,v,F)}}};
g.rH.a52=function(l,o,D,H,_,u){H-=.499999;_-=.499999;var S=~~H,h=~~_,F=H-S,n=_-h,R=(1-n)*(1-F),s=(1-n)*F,Z=n*(1-F),O=n*F,w=S<o-1?S+1:S,m=h<D-1?h+1:h,V=h*o+S<<1,q=h*o+w<<1,i=m*o+S<<1,c=m*o+w<<1;
u[0]=R*l[V]+s*l[q]+Z*l[i]+O*l[c];u[1]=R*l[V+1]+s*l[q+1]+Z*l[i+1]+O*l[c+1]};g.rH.ajx=function(l,o,D,H,_){var u=1/l,S=[-1,1,-l,l],h=H.length;
for(var F=0;F<h;F++){var v=H[F],n=v<<1,R=F<<1,s=~~(v*u),Z=v-l*s,O=D[n],w=D[n+1],m=0,V=0;if(Z!=0&&Z!=l-1){var q=v-1<<1,i=v+1<<1,c=D[q],z=D[i],B=D[q+1],t=D[i+1],a=O-(c+z)*.5,I=w-(B+t)*.5;
m-=a*_;V-=I*_}if(s!=0&&s!=o-1){var q=v-l<<1,i=v+l<<1,c=D[q],z=D[i],B=D[q+1],t=D[i+1],a=O-(c+z)*.5,I=w-(B+t)*.5;
m-=a*_;V-=I*_}D[n]=O+m;D[n+1]=w+V}};g.rH.ad8=function(l,o){var D=l+","+o;if(g.rH.a5N==D)return g.rH.atC;
var H=g.rH.atC=[];g.rH.a5N=D;for(var v=0;v<=1e3;v++){var _=v*.001,u=Math.sqrt(_),S=Math.exp(-4*u),h=.96*(1-u*u),F=o*((1-l)*S+l*h);
H[v]=F}return H};g.rH.a5N="";g.rH.atC=[];g.rH.ai0=function(l,o,D,H,_,u,S,h,F,n,R,s,Z){var O=Math.max(0,Math.floor(_-S-1)),w=Math.min(o,Math.ceil(_+S+1)),m=Math.max(0,Math.floor(u-S-1)),V=Math.min(D,Math.ceil(u+S+1)),q=2*o,i=S*S,c=1/S,z=0;
if(Z&&(H==3||H==6))F=-F;var B=g.rH.ad8(h,F);for(var t=m;t<V;t++)for(var a=O;a<w;a++){var v=t*o+a,I=v<<1,N=(_-a)*c,J=(u-t)*c,Q=N*N+J*J;
if(Q<1){s[z]=v;var A=B[~~(Q*1e3)];if(H==1){l[I]=l[I]*(1-A*.05);l[I+1]=l[I+1]*(1-A*.05)}else{var f=0,W=0,K,$,r,U;
if(H==0){f=n*A;W=R*A}else if(H==2){}else if(H==3){f=A*J;W=-A*N}else if(H==4){f=A*N;W=A*J}else if(H==5){f=-A*N;
W=-A*J}else if(H==6){f=R*A;W=-n*A}var C=l[I],j=l[I+1];if(a==0||a!=o-1&&f<0){K=1+l[I+2]-C;r=l[I+3]-j}else{K=C-l[I-2]+1;
r=j-l[I-1]}if(t==0||t!=D-1&&W<0){$=l[I+q]-C;U=1+l[I+q+1]-j}else{$=C-l[I-q];U=j-l[I-q+1]+1}l[I]=-(K*f+$*W-C);
l[I+1]=-(r*f+U*W-j)}z++}}};g.rH.aks=function(l){var o=l[0],D=l[0],H=l[1],_=l[1];for(var v=0;v<l.length;
v+=2){var u=l[v],S=l[v+1];if(u<o)o=u;else if(u>D)D=u;if(S<H)H=S;else if(S>_)_=S}return[o,H,D,_]};g.a9h=function(l,o,D,H,_){function u(y,d4,dH,eV){return Math.sqrt((y-dH)*(y-dH)+(d4-eV)*(d4-eV))}function S(y,d4){return y>=0&&y<o&&d4>=0&&d4<D}function h(y){if(y<0)return 0;
if(y>=o)return o-1;return y}function F(y){if(y<0)return 0;if(y>=D)return D-1;return y}function n(v,y){var d4=y[3]*(1/255),dH=H[v]+y[0]*d4;
if(dH>255)dH=255;H[v]=dH;dH=H[v+1]+y[1]*d4;if(dH>255)dH=255;H[v+1]=dH;dH=H[v+2]+y[2]*d4;if(dH>255)dH=255;
H[v+2]=dH}function R(y,d4,dH){if(!b(y,d4))return;if(dH[3]<0)dH[3]=0;n((d4*o+y)*4,dH)}function s(y){var d4=y.slice(0,3);
d4[3]=0;return d4}var Z=o/800;function O(y){return Math.round(y*Z)}function w(){for(var v=0;v<=300;v++){P[v]=m(v)}}function m(D){var y=.8,d4=.2,dH=y*d4,eV=D/60%2-1,bf=dH*(1-eV*eV),jd=d4-dH,i5;
if(D<60){i5=[dH+jd,bf,0]}else if(D<120){i5=[bf,dH,0]}else if(D<180){i5=[0,dH,bf]}else if(D<240){i5=[0,bf,dH]}else if(D<300){i5=[bf,0,dH]}else{i5=[dH,0,bf]}return[(i5[0]+jd)*255,(i5[1]+jd)*255,(i5[2]+jd)*255]}function V(D){return P[~~D]}function q(y){return 1-i(y)}function i(y){return y-~~y}function c(y,d4,dH,eV){r(y,d4,dH,0,d4+1,1,eV)}function z(y,d4,dH,eV,bf,jd){r(y,d4,dH,0,eV,1,bf,jd)}function B(y){for(var v=0;
v<H.length;v+=4){n(v,y)}}function t(y,d4,dH,eV,bf,jd,i5,fD){a(y,d4,dH,eV,bf,1,jd,i5,fD)}function a(y,d4,dH,eV,bf,jd,i5,fD,eo){if(jd==null)jd=.5;
if(i5==null)i5=0;if(fD==null)fD=0;if(eo==null)eo=!1;var iX=y.x,cK=y.y,g0=dH.slice(0),bW=~~(dH[3]*Y);
eV=eV*Y;if(!eo){d4=U(d4);bf=U(bf);i5=U(i5);fD=U(fD)}var hF=h(iX-d4),aJ=h(iX+d4);for(var iR=hF;iR<=aJ;
iR++){var ex=iR-iX,dX=Math.floor(Math.sqrt(d4*d4-ex*ex)),iZ=F(cK-dX),j3=F(cK);for(var by=iZ;by<=j3;by++){var i9=u(iR,by,iX,cK);
if(i9>d4||i9<=d4-bf)break;var dm=(i9-d4+bf)/bf;g0[3]=bW-eV*(jd==1?dm:Math.pow(dm,jd));n((by*o+iR)*4,g0)}iZ=F(cK+dX);
for(var by=iZ;by>j3;by--){var i9=u(iR,by,iX,cK);if(i9>d4||i9<=d4-bf)break;var dm=(i9-d4+bf)/bf;g0[3]=bW-eV*(jd==1?dm:Math.pow(dm,jd));
n((by*o+iR)*4,g0)}}if(i5>0){r(y,d4+i5,g0,g0[3],i5,1,0,0,!0)}if(fD>0){r(y,d4-bf,e(dH),-dH[3],fD,1,0,0,!0)}}function I(y,d4,dH,eV,bf,jd){r(y,d4,dH,dH[3],d4+1,1,eV,bf,jd)}function N(y,d4,dH,eV,bf){if(bf==null)bf=!1;
var jd=y.x,i5=y.y;eV*=Y;if(!bf){d4=U(d4);dH=U(dH)}var fD=h(jd-d4),eo=h(jd+d4);for(var iX=fD;iX<eo;iX++){var cK=iX-jd,g0=~~Math.sqrt(d4*d4-cK*cK),bW=F(i5-g0),hF=F(i5);
for(var aJ=bW;aJ<=hF;aJ++){var iR=u(iX,aJ,jd,i5);if(iR>d4||iR<=d4-dH)break;var ex=(d4-iR)/dH,dX=V(300*ex);
dX[3]=eV;n((aJ*o+iX)*4,dX)}bW=F(i5+g0);for(var aJ=bW;aJ>hF;aJ--){var iR=u(iX,aJ,jd,i5);if(iR>d4||iR<=d4-dH)break;
var ex=(d4-iR)/dH,dX=V(300*ex);dX[3]=eV;n((aJ*o+iX)*4,dX)}}}function J(L,y){var d4=L.TE,dH=L.tV,eV=y.slice(0),bf=y[3]*Y,jd=Math.abs(dH.y-d4.y)>Math.abs(dH.x-d4.x);
if(jd){var i5=d4.x;d4.x=d4.y;d4.y=i5;i5=dH.x;dH.x=dH.y;dH.y=i5}if(d4.x>dH.x){var i5=d4;d4=dH;dH=i5}var fD=dH.x-d4.x,eo=dH.y-d4.y,iX=fD==0?1:eo/fD,cK=Math.round(d4.x),g0=d4.y+iX*(cK-d4.x),bW=q(d4.x+.5),hF=cK,aJ=~~g0;
if(jd){eV[3]=bf*q(g0)*bW;R(aJ,hF,eV);eV[3]=bf*i(g0)*bW;R(aJ+1,hF,eV)}else{eV[3]=bf*q(g0)*bW;R(hF,aJ,eV);
eV[3]=bf*i(g0)*bW;R(hF,aJ+1,eV)}var iR=g0-iX;cK=Math.round(dH.x);g0=dH.y+iX*(cK-dH.x);bW=i(dH.x+.5);
var ex=cK,dX=~~g0;if(jd){eV[3]=bf*q(g0)*bW;R(dX,ex,eV);eV[3]=bf*i(g0)*bW;R(dX+1,ex,eV)}else{eV[3]=bf*q(g0)*bW;
R(ex,dX,eV);eV[3]=bf*i(g0)*bW;R(ex,dX+1,eV)}if(jd){for(var iZ=hF+1;iZ<=ex-1;iZ++){eV[3]=bf*q(iR);R(~~iR,iZ,eV);
eV[3]=bf*i(iR);R(~~iR+1,iZ,eV);iR+=iX}}else{for(var iZ=hF+1;iZ<=ex-1;iZ++){eV[3]=bf*q(iR);R(iZ,~~iR,eV);
eV[3]=bf*i(iR);R(iZ,~~iR+1,eV);iR+=iX}}}function Q(y,d4,dH,eV){for(var v=0;v<4;v++){var bf=y.na(d4+1.3*v,dH);
J(bf,eV,1)}}function he(y,d4){this.x=Math.round(y);this.y=Math.round(d4)}var A=Math.PI/180;he.prototype.na=function(y,d4){y=y*A;
var dH=this.x+d4*Math.cos(y),eV=this.y+d4*Math.sin(y);return new f(this.x,this.y,dH,eV)};he.prototype.ar5=function(y,d4){y=y*A;
var dH=this.s8+d4*Math.cos(y),eV=this.gh+d4*Math.sin(y);return new he(dH,eV)};function f(y,d4,dH,eV){this.TE=new he(y,d4);
this.tV=new he(dH,eV)}f.prototype.IM=function(y){var d4=y*this.TE.x+(1-y)*this.tV.x,dH=y*this.TE.y+(1-y)*this.tV.y;
return new he(d4,dH)};var W=t,C=I,j=c,K=z,$=N,r=a,U=O,b=S,e=s,P=[];w();for(var v=0;v<l.length;v++){H[v]=l[v]}var L=new f(o*_[2],D*_[3],o/2,D/2),Y=_[1],X=[];
X[0]=function G(){var y=[80,40,15,60],dH=0,eV=0;j(L.IM(1.4),260,y,10);j(L.IM(1),100,[240,50,50,30],30);
C(L.IM(1),60,[255,40,0,40]);var d4=[255,255,255,255];r(L.IM(1),70,d4,d4[3],58,.5);j(L.IM(1),12,d4);d4[3]=40;
W(L.IM(1),150,d4,d4[3],150);for(var v=0;v<40;v++){dH+=Math.random()*25;eV=Math.random()*U(300)+U(100);
var bf=L.IM(1).na(dH,eV);J(L.IM(1).na(dH,eV),[110,110,110,30])}C(L.IM(1),130,[255,255,255,8]);var jd=[170,30,23,70];
K(L.IM(1),70,jd,1,3,3);var i5=[60,60,130,40];j(L.IM(.47),44,i5,5);j(L.IM(.43),22,i5,3);i5[3]=16;j(L.IM(.53),15,i5,2);
var fD=[138,94,42,100];j(L.IM(.2),16,fD,2);var eo=[130,255,170,180];C(L.IM(0),4,eo);C(L.IM(-.25),5,eo);
fD=[150,90,0,50];W(L.IM(-.45),55,e(fD),-fD[3],40,2);j(L.IM(-.42),35,fD,2);j(L.IM(-.5),15,fD,2);$(L.IM(-1.28),145,11,70);
var iX=V(0);iX[3]=50;W(L.IM(-1.28),149,iX,iX[3],4);iX=V(300);iX[3]=50;W(L.IM(-1.28),155-1,e(iX),-iX[3],3);
var cK=[130,130,10,50];K(L.IM(-1),73,cK,3,2);var g0=[40,130,70,40];W(L.IM(-1),70,e(g0),-g0[3],35);g0=[40,170,60,50];
j(L.IM(-.7),25,g0,4);var g0=[70,110,50,60];W(L.IM(1.3),30,e(g0),-g0[3],11,3);i5=[0,50,210,80];C(L.IM(-.72),20,i5)};
X[1]=function E(){C(L.IM(1),150,[240,70,70,60]);j(L.IM(1),100,[200,60,60,40],30);var y=[255,255,255,255],d4=0,dH=0;
r(L.IM(1),75,y,y[3],63);j(L.IM(1),12,y);C(L.IM(1),270,[200,200,200,20],10);for(var v=0;v<10;v++){d4+=10+Math.random()*40;
dH=Math.random()*U(250)+U(80);var eV=L.IM(1).na(d4,dH);J(eV,[110,110,110,35])}d4=5;dH=100;for(var v=0;
v<12;v++){d4+=30;Q(L.IM(1),d4,dH,[90,90,90,40])}var bf=[150,40,23,100];K(L.IM(1),70,bf,1,3,3);var jd=[30,100,60,40];
C(L.IM(-.9),180,[255,255,255,20]);j(L.IM(-.9),140,jd,15);var i5=[170,80,25,15];K(L.IM(-.9),120,i5,1,4,4);
var fD=[110,240,190,200];C(L.IM(-.6),3,fD);fD[3]=100;C(L.IM(-.6),7,fD);var eo=[230,120,40,85];C(L.IM(-.73),9,eo);
var iX=[60,60,190,50];j(L.IM(.3),28,iX,6);iX[3]=25;j(L.IM(.34),20,iX,3)};X[2]=function T(){var y=[255,255,255,255],dH=0,eV=0;
j(L.IM(1),13,y);r(L.IM(1),150,y,y[3],137);var d4=[120,80,35,20];j(L.IM(1.4),260,d4,10);for(var v=0;v<40;
v++){dH+=5+Math.random()*30;eV=Math.random()*U(300);J(L.IM(1).na(dH,eV),[110,110,110,20])}var bf=[10,30,255,30];
j(L.IM(1),70,bf,50);var jd=[15,90,170,15];j(L.IM(1.5),60,jd);var i5=[220,220,20,50];j(L.IM(-1.15),8,i5,2);
var y=[255,255,255,40];C(L.IM(-1.18),6,y);C(L.IM(-1.18),4,y);i5=[110,110,10,8];W(L.IM(-1.2),32,e(i5),-i5[3],20,3);
var fD=[5,0,16,255];for(var v=0;v<4;v++){j(L.IM(-1.36),10,fD,3)}var eo=[90,200,150,20],iX=eo.slice(0);
iX[3]*=2;j(L.IM(-1.32),7,iX,3);j(L.IM(-1.36),7,iX,3);j(L.IM(-1.4),7,iX,3);var y=[230,230,230,100];C(L.IM(-1.36),2,y);
y[3]=3;j(L.IM(-.55),10,y);i5=[120,100,10,18];j(L.IM(-.55),160,i5,8);j(L.IM(-.55),80,i5,4);eo[3]=3;iX[3]=6;
W(L.IM(-.49),13,e(iX),-iX[3],13,2);W(L.IM(-.55),13,e(iX),-iX[3],13,2);eo[3]=20;j(L.IM(.15),25,eo,3);
i5[3]=100;C(L.IM(-.52),3,i5);i5=[200,200,50,40];j(L.IM(.27),1,i5,4);var cK=[150,40,23,30];W(L.IM(1),80,e(cK),-cK[3],2,1)};
return X[_[0]]()};g.YF={};g.YF.ji=function(l){var o=l.length,kC=l[0].length,D=new Array(kC);for(var v=0;
v<kC;v++)D[v]=new Array(o);for(var v=0;v<kC;v++)for(var H=0;H<o;H++)D[v][H]=l[H][v];return D};g.YF.c_=function(l,o){var D=l.length,kC=l[0].length,H=new Array(D);
for(var v=0;v<D;v++)H[v]=new Array(kC);for(var v=0;v<D;v++)for(var _=0;_<kC;_++)H[v][_]=l[v][_]-o[v][_];
return H};g.YF.add=function(l,o){var D=l.length,kC=l[0].length,H=new Array(D);for(var v=0;v<D;v++)H[v]=new Array(kC);
for(var v=0;v<D;v++)for(var _=0;_<kC;_++)H[v][_]=l[v][_]+o[v][_];return H};g.YF.multiply=function(l,o){var D=l.length,H=l[0].length,kC=o[0].length;
if(H!=o.length)throw"e";var _=new Array(D);for(var v=0;v<D;v++)_[v]=new Array(kC);if((H&1)!=0)for(var v=0;
v<D;v++){var u=l[v],S=_[v];for(var h=0;h<kC;h++){var F=0;for(var n=0;n<H;n++)F+=u[n]*o[n][h];S[h]=F}}else for(var v=0;
v<D;v++){var u=l[v],S=_[v];for(var h=0;h<kC;h++){var F=0;for(var n=0;n<H;n+=2)F+=u[n]*o[n][h]+u[n+1]*o[n+1][h];
S[h]=F}}return _};g.YF.Xk=function(l,o){var D=l.length,kC=l[0].length,H=new Array(D);for(var v=0;v<D;
v++){var _=0;for(var u=0;u<kC;u++)_+=l[v][u]*o[u];H[v]=_}return H};g.YF.Vm=function(l,o){var D=[];for(var v=0;
v<l;v++){D.push([]);for(var H=0;H<o;H++)D[v].push(0)}return D};g.YF.anK=function(l){for(var v=0;v<l.length;
v++)console.log(JSON.stringify(l[v]))};g.YF.apx=function(l){var o=[];for(var v=0;v<l.length;v++)o.push(l[v].join(","));
return"["+o.join(";")+"]"};g.YF.wr=function(l,o){var D=l.length;for(var H=0;H<D;H++){var _=0,u=Number.NEGATIVE_INFINITY;
for(var v=H;v<D;v++)if(Math.abs(l[v][H])>u){_=v;u=Math.abs(l[v][H])}g.YF.aB3(l,H,_);for(var v=H+1;v<D;
v++){if(l[H][H]==0)return 1;var S=l[v][H]/l[H][H];for(var h=H;h<D+1;h++)l[v][h]-=l[H][h]*S}}for(var v=D-1;
v>=0;v--){if(l[v][v]==0)return 1;var F=l[v][D]/l[v][v];o[v]=F;for(var h=v-1;h>=0;h--){l[h][D]-=l[h][v]*F;
l[h][v]=0}}return 0};g.YF.aB3=function(l,o,D){var H=l[o];l[o]=l[D];l[D]=H};g.YF.a17=function(l){var o=l.length,D=g.YF.Vm(o,o);
for(var v=0;v<o;v++)D[v][v]=l[v];return D};g.YF.ahg=function(l){var o=l.length,D=l[0].length,H=new Array(o);
for(var v=0;v<o;v++){H[v]=0;for(var _=0;_<D;_++)H[v]+=l[v][_];H[v]/=D}return H};g.YF.nv=function(l){var o=0;
for(var v=0;v<l.length;v++)o+=l[v]*l[v];return Math.sqrt(o)};g.JX={};g.JX.pd=function(l){var o=~~(l+.5);
return o<0?0:o>255?255:o};g.JX.transform=function(l,o,D){var H=g.JX.pd,_=l.$.length;for(var v=0;v<_;
v++){var u=l.$[v],S=l.H[v],h=l.J[v];o.$[v]=H(D[0]*u+D[1]*S+D[2]*h+D[3]*255);o.H[v]=H(D[4]*u+D[5]*S+D[6]*h+D[7]*255);
o.J[v]=H(D[8]*u+D[9]*S+D[10]*h+D[11]*255)}};g.JX.anx=function(l,o,D){var H=g.JX.pd,_=l.length;for(var v=0;
v<_;v+=4){var u=l[v],S=l[v+1],h=l[v+2];o[v]=H(D[0]*u+D[1]*S+D[2]*h+D[3]*255);o[v+1]=H(D[4]*u+D[5]*S+D[6]*h+D[7]*255);
o[v+2]=H(D[8]*u+D[9]*S+D[10]*h+D[11]*255)}};g.JX.ap0=function(l){var o=l[0]+l[1]+l[2],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(o==1){var H=l.indexOf(1);D[H]=D[H+4]=D[H+8]=1}else{D[0]=l[0];D[5]=l[1];D[10]=l[2]}return D};g.JX.NB=function(l,o,D){return[1,0,0,l,0,1,0,o,0,0,1,D,0,0,0,1]};
g.JX.Xu=function(l,o,D){return[l,0,0,0,0,o,0,0,0,0,D,0,0,0,0,1]};g.JX.a6c=function(l){return[l[0],l[1],l[2],l[4],l[5],l[6],l[8],l[9],l[10]]};
g.JX.OH=function(l){return[l[0],l[1],l[2],0,l[3],l[4],l[5],0,l[6],l[7],l[8],0,0,0,0,1]};g.JX.GS=function(l,o){return[l[0]*o[0]+l[1]*o[1]+l[2]*o[2]+l[3]*o[3],l[4]*o[0]+l[5]*o[1]+l[6]*o[2]+l[7]*o[3],l[8]*o[0]+l[9]*o[1]+l[10]*o[2]+l[11]*o[3],l[12]*o[0]+l[13]*o[1]+l[14]*o[2]+l[15]*o[3]]};
g.JX.ji=function(l){var o=[];o[0]=l[0];o[1]=l[4];o[2]=l[8];o[3]=l[12];o[4]=l[1];o[5]=l[5];o[6]=l[9];
o[7]=l[13];o[8]=l[2];o[9]=l[6];o[10]=l[10];o[11]=l[14];o[12]=l[3];o[13]=l[7];o[14]=l[11];o[15]=l[15];
return o};g.JX.add=function(l,o){var D=l.slice(0);for(var v=0;v<16;v++)D[v]+=o[v];return D};g.JX.multiply=function(l,o){var D=[];
D[0]=l[0]*o[0]+l[1]*o[4]+l[2]*o[8]+l[3]*o[12];D[1]=l[0]*o[1]+l[1]*o[5]+l[2]*o[9]+l[3]*o[13];D[2]=l[0]*o[2]+l[1]*o[6]+l[2]*o[10]+l[3]*o[14];
D[3]=l[0]*o[3]+l[1]*o[7]+l[2]*o[11]+l[3]*o[15];D[4]=l[4]*o[0]+l[5]*o[4]+l[6]*o[8]+l[7]*o[12];D[5]=l[4]*o[1]+l[5]*o[5]+l[6]*o[9]+l[7]*o[13];
D[6]=l[4]*o[2]+l[5]*o[6]+l[6]*o[10]+l[7]*o[14];D[7]=l[4]*o[3]+l[5]*o[7]+l[6]*o[11]+l[7]*o[15];D[8]=l[8]*o[0]+l[9]*o[4]+l[10]*o[8]+l[11]*o[12];
D[9]=l[8]*o[1]+l[9]*o[5]+l[10]*o[9]+l[11]*o[13];D[10]=l[8]*o[2]+l[9]*o[6]+l[10]*o[10]+l[11]*o[14];D[11]=l[8]*o[3]+l[9]*o[7]+l[10]*o[11]+l[11]*o[15];
D[12]=l[12]*o[0]+l[13]*o[4]+l[14]*o[8]+l[15]*o[12];D[13]=l[12]*o[1]+l[13]*o[5]+l[14]*o[9]+l[15]*o[13];
D[14]=l[12]*o[2]+l[13]*o[6]+l[14]*o[10]+l[15]*o[14];D[15]=l[12]*o[3]+l[13]*o[7]+l[14]*o[11]+l[15]*o[15];
return D};g.JX.L5=function(l){var o=[];o[0]=l[5]*l[10]*l[15]-l[5]*l[14]*l[11]-l[6]*l[9]*l[15]+l[6]*l[13]*l[11]+l[7]*l[9]*l[14]-l[7]*l[13]*l[10];
o[1]=-l[1]*l[10]*l[15]+l[1]*l[14]*l[11]+l[2]*l[9]*l[15]-l[2]*l[13]*l[11]-l[3]*l[9]*l[14]+l[3]*l[13]*l[10];
o[2]=l[1]*l[6]*l[15]-l[1]*l[14]*l[7]-l[2]*l[5]*l[15]+l[2]*l[13]*l[7]+l[3]*l[5]*l[14]-l[3]*l[13]*l[6];
o[3]=-l[1]*l[6]*l[11]+l[1]*l[10]*l[7]+l[2]*l[5]*l[11]-l[2]*l[9]*l[7]-l[3]*l[5]*l[10]+l[3]*l[9]*l[6];
o[4]=-l[4]*l[10]*l[15]+l[4]*l[14]*l[11]+l[6]*l[8]*l[15]-l[6]*l[12]*l[11]-l[7]*l[8]*l[14]+l[7]*l[12]*l[10];
o[5]=l[0]*l[10]*l[15]-l[0]*l[14]*l[11]-l[2]*l[8]*l[15]+l[2]*l[12]*l[11]+l[3]*l[8]*l[14]-l[3]*l[12]*l[10];
o[6]=-l[0]*l[6]*l[15]+l[0]*l[14]*l[7]+l[2]*l[4]*l[15]-l[2]*l[12]*l[7]-l[3]*l[4]*l[14]+l[3]*l[12]*l[6];
o[7]=l[0]*l[6]*l[11]-l[0]*l[10]*l[7]-l[2]*l[4]*l[11]+l[2]*l[8]*l[7]+l[3]*l[4]*l[10]-l[3]*l[8]*l[6];o[8]=l[4]*l[9]*l[15]-l[4]*l[13]*l[11]-l[5]*l[8]*l[15]+l[5]*l[12]*l[11]+l[7]*l[8]*l[13]-l[7]*l[12]*l[9];
o[9]=-l[0]*l[9]*l[15]+l[0]*l[13]*l[11]+l[1]*l[8]*l[15]-l[1]*l[12]*l[11]-l[3]*l[8]*l[13]+l[3]*l[12]*l[9];
o[10]=l[0]*l[5]*l[15]-l[0]*l[13]*l[7]-l[1]*l[4]*l[15]+l[1]*l[12]*l[7]+l[3]*l[4]*l[13]-l[3]*l[12]*l[5];
o[11]=-l[0]*l[5]*l[11]+l[0]*l[9]*l[7]+l[1]*l[4]*l[11]-l[1]*l[8]*l[7]-l[3]*l[4]*l[9]+l[3]*l[8]*l[5];o[12]=-l[4]*l[9]*l[14]+l[4]*l[13]*l[10]+l[5]*l[8]*l[14]-l[5]*l[12]*l[10]-l[6]*l[8]*l[13]+l[6]*l[12]*l[9];
o[13]=l[0]*l[9]*l[14]-l[0]*l[13]*l[10]-l[1]*l[8]*l[14]+l[1]*l[12]*l[10]+l[2]*l[8]*l[13]-l[2]*l[12]*l[9];
o[14]=-l[0]*l[5]*l[14]+l[0]*l[13]*l[6]+l[1]*l[4]*l[14]-l[1]*l[12]*l[6]-l[2]*l[4]*l[13]+l[2]*l[12]*l[5];
o[15]=l[0]*l[5]*l[10]-l[0]*l[9]*l[6]-l[1]*l[4]*l[10]+l[1]*l[8]*l[6]+l[2]*l[4]*l[9]-l[2]*l[8]*l[5];var D=l[0]*o[0]+l[1]*o[4]+l[2]*o[8]+l[3]*o[12];
for(var v=0;v<16;v++)o[v]/=D;return o};g.JX.a4e=function(l){var o=[],D=l[5]*l[10]*l[15]-l[5]*l[14]*l[11]-l[6]*l[9]*l[15]+l[6]*l[13]*l[11]+l[7]*l[9]*l[14]-l[7]*l[13]*l[10],H=-l[4]*l[10]*l[15]+l[4]*l[14]*l[11]+l[6]*l[8]*l[15]-l[6]*l[12]*l[11]-l[7]*l[8]*l[14]+l[7]*l[12]*l[10],_=l[4]*l[9]*l[15]-l[4]*l[13]*l[11]-l[5]*l[8]*l[15]+l[5]*l[12]*l[11]+l[7]*l[8]*l[13]-l[7]*l[12]*l[9],u=-l[4]*l[9]*l[14]+l[4]*l[13]*l[10]+l[5]*l[8]*l[14]-l[5]*l[12]*l[10]-l[6]*l[8]*l[13]+l[6]*l[12]*l[9];
return l[0]*D+l[1]*H+l[2]*_+l[3]*u};g.JX.oM=function(l,o,D,H){var _=Math.sin(H),u=Math.cos(H),S=1/Math.sqrt(l*l+o*o+D*D);
l*=S;o*=S;D*=S;return g.JX.OH([l*l*(1-u)+u,l*o*(1-u)-D*_,l*D*(1-u)+o*_,l*o*(1-u)+D*_,o*o*(1-u)+u,o*D*(1-u)-l*_,l*D*(1-u)-o*_,o*D*(1-u)+l*_,D*D*(1-u)+u])};
g.JX.sq=g.JX.OH([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
g.JX.a3P=g.JX.OH([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
g.JX.a1Q=g.JX.L5(g.JX.sq);g.kI={};g.kI.n8=new Uint32Array(1);g.kI.al9=function(l,o,D,H,_,u){var S=new Uint32Array(l),h=0,F=g.kI.n8;
if(F.length<o*4)g.kI.n8=F=new Uint32Array(o*4);var n=new Float64Array(F.buffer);for(var v=0;v<o;v+=2){var R=_[v],s=_[v+1],Z=u[v],O=u[v+1];
F[h]=s;n[h+2>>1]=Z;F[h+1]=S[R];S[R]=h+1;h+=4;F[h]=R;n[h+2>>1]=O;F[h+1]=S[s];S[s]=h+1;h+=4}return{kr:F,aBo:n,awz:S}};
g.kI.wr=function(l,o,D,H,_,u,S){var h=1,F=g.kI.al9(l,o,D,H,_,u),n=F.kr,R=F.aBo,s=F.awz,Z=new Uint32Array(l),O=new g.kI.rg(l),m=1,z=0;
O.push(D);O.push(H);var w=new g.kI.rg(l),V=new Uint8Array(l),q=new Uint32Array(l);V[D]=1;V[H]=2;var i=new Uint32Array(l),c=new Uint32Array(l);
c[D]=c[H]=0;i[D]=i[H]=1;while(!0){var B=-1,A=0,j=1e30;while(!O.qV()&&B==-1){var t=O.top(),a=V[t],I=s[t]-1;
while(I!=-1){var N=n[I],J=V[N],Q=I^a-1<<2;if(R[Q+2>>1]!=0){if(J==0){g.kI.x4(t,I,N,V,q,c,i);O.push(N)}else if(J==a&&i[N]<=i[t]&&c[N]>c[t])g.kI.x4(t,I,N,V,q,c,i);
else if(J!=a){B=Q}}I=n[I+1]-1}if(B!=-1)break;O.pop()}if(B==-1){break}m++;var f=B;while(f!=-1){Z[A]=f;
A++;f=q[n[f^4]]-1}var W=A>>1;for(var v=0;v<W;v++){var C=Z[v];Z[v]=Z[A-v-1];Z[A-v-1]=C}f=q[n[B]]-1;while(f!=-1){Z[A]=f^4;
A++;f=q[n[f^4]]-1}for(var v=0;v<A;v++)j=Math.min(j,R[Z[v]+2>>1]);z+=j;if(z>=S)return{eR:null,$l:z};for(var v=0;
v<A;v++){var K=Z[v],$=K^4,t=n[$],N=n[K];R[K+2>>1]-=j;R[$+2>>1]+=j;if(R[K+2>>1]==0&&V[t]==V[N]){if(V[t]==1){q[N]=0;
w.push(N)}if(V[t]==2){q[t]=0;w.push(t)}}}while(!w.qV()){var t=w.pop(),a=V[t],I=s[t]-1,r=a==1?4:0,U=0,b=0,e=1e9;
while(I!=-1){var N=n[I],P=I^4,Q=I^r;if(V[N]==a&&R[Q+2>>1]>0&&g.kI.a2A(N,D,H,q,n,m,i,c)+1<e){U=N;b=P;
e=c[N]+1}I=n[I+1]-1}if(b!=0){g.kI.x4(U,b,t,V,q,c,i);continue}I=s[t]-1;while(I!=-1){var N=n[I],Q=I^r;
if(V[N]==a){if(R[Q+2>>1]>0){O.push(N)}if(q[N]==I+1){q[N]=0;w.push(N)}}I=n[I+1]-1}V[t]=0;O.remove(t)}}var L=[];
for(var v=0;v<o;v+=2){var t=_[v],N=_[v+1];if(V[t]==1&&V[N]!=1){L.push(v>>1)}if(V[N]==1&&V[t]!=1){L.push(o+v>>1)}}return{eR:L,$l:z}};
g.kI.x4=function(l,o,D,H,_,u,S){H[D]=H[l];_[D]=o+1;u[D]=u[l]+1;S[D]=S[l]};g.kI.a2A=function(l,o,D,H,_,u,S,h){var F=l,n=H[l]-1,R=0;
while(n!=-1&&S[l]!=u){l=_[n^4];n=H[l]-1;R++}if(n==-1&&l!=o&&l!=D)return 1e9;var s=h[l]+R;R=0;n=H[F]-1;
while(F!=l){h[F]=s-R;R++;S[F]=u;F=_[n^4];n=H[F]-1}return s};g.kI.avJ=function(l,o,D,H,_,u){var S=g.kI.al9(l,o,D,H,_,u),h=S.kr,F=S.aBo,n=S.awz,R=0,s=0,Z=new Uint32Array(l*2),O=new g.kI.aaE(l),w=0;
while(!0){O.reset();O.push(D);for(var v=0;v<l;v++)Z[v<<1]=0;while(!O.qV()){var m=O.pop(),V=n[m]-1;while(V!=-1){w=h[V];
if(Z[w<<1]==0&&F[V+2>>1]>0&&w!=D){Z[w<<1]=m+1;Z[(w<<1)+1]=V;O.push(w)}V=h[V+1]-1}if(Z[H<<1]!=0){break}}if(Z[H<<1]==0){break}var q=1e30;
w=H;while(!0){var i=Z[w<<1]-1;if(i==-1)break;var c=Z[(w<<1)+1];q=Math.min(q,F[c+2>>1]);w=i}w=H;while(!0){var i=Z[w<<1]-1;
if(i==-1)break;var c=Z[(w<<1)+1],z=c^4;F[c+2>>1]-=q;F[z+2>>1]+=q;w=i}R+=q}var B=[];for(var v=0;v<o;v+=2){var i=_[v],w=_[v+1];
if((Z[i<<1]!=0||i==D)&&Z[w<<1]==0&&w!=D){B.push(v>>1)}if((Z[w<<1]!=0||w==D)&&Z[i<<1]==0&&i!=D){B.push(o+v>>1)}}return{eR:B,$l:R}};
g.kI.aaE=function(l){l|=l>>1;l|=l>>2;l|=l>>4;l|=l>>8;l|=l>>16;this.hC=new Uint32Array(l+1);this.ve=l;
this.dV=0;this.rI=0};g.kI.aaE.prototype={push:function(l){var o=this.rI;this.hC[o]=l;this.rI=o+1&this.ve},pop:function(){var l=this.dV,o=this.hC[l];
this.dV=l+1&this.ve;return o},qV:function(){return this.dV==this.rI},reset:function(){this.dV=0;this.rI=0}};
g.kI.rg=function(l){l|=l>>1;l|=l>>2;l|=l>>4;l|=l>>8;l|=l>>16;this.hC=new Uint32Array(l+1);this.IF=new Uint32Array(l+1);
this.ve=l;this.dV=0;this.rI=0};g.kI.rg.prototype={top:function(){return this.hC[this.dV]},aBp:function(){return this.hC[this.rI]},push:function(l){if(this.IF[l]!=0)return;
this.IF[l]=this.rI+1;var o=this.rI;this.hC[o]=l;this.rI=o+1&this.ve},pop:function(){var l=this.dV,o=this.hC[l];
this.IF[o]=0;this.dV=l+1&this.ve;return o},qV:function(){return this.dV==this.rI},remove:function(l){var o=this.IF[l]-1;
if(o==-1)return;this.IF[l]=0;if(o==this.dV){this.pop();return}var D=this.pop();this.hC[o]=D;this.IF[D]=o+1},Pr:function(v){return v+this.ve+1&this.ve}};
g.kI.acy=function(l,o,D){var H=g.kI.ka(l,o,D);if(o<H-1)g.kI.acy(l,o,H-1);if(H<D)g.kI.acy(l,H,D)};g.kI.ka=function(l,o,D){var H=l[o+D>>>1];
while(o<=D){while(l[o]<H)o++;while(l[D]>H)D--;if(o<=D){g.kI.u0(l,o,D);o++;D--}}return o};g.kI.u0=function(l,o,D){var H=l[o];
l[o]=l[D];l[D]=H};g.AF=function(){var l,o;function D(S,h,kC){var F=kC-1,n=h+kC;l[kC-2]=S[n-2];o[0]=S[n-1];
var R=Math.max;for(var v=1;v<F;v++){l[kC-2-v]=R(l[kC-1-v],S[n-2-v]);o[v]=R(o[v-1],S[n-1+v])}for(var v=0;
v<F;v++)S[h+v]=R(l[v],o[v])}function H(S,h,kC){var F=kC-1,n=Math.ceil(h/F)*F;for(var R=0;R<n;R+=F)D(S,R,kC)}function _(S,h,F,n,kC,R){h.set(S);
if(kC==1)return;l=g.o(kC-1);o=g.o(kC-1);var s=kC>>>1,Z=g.o(Math.ceil(Math.max(F,n)/(kC-1))*(kC-1)+(kC-2)),O=new Uint8Array(Z.buffer,0,F);
if(!R)g.L5(h);for(var w=0;w<n;w++){Z.fill(0);Z.set(new Uint8Array(h.buffer,w*F,F),s);H(Z,F,kC);h.set(O,w*F)}for(var m=0;
m<F;m++){Z.fill(0);for(var w=0;w<n;w++)Z[w+s]=h[w*F+m];H(Z,n,kC);for(var w=0;w<n;w++)h[w*F+m]=Z[w]}if(!R)g.L5(h)}function u(S,h,F,n,kC,R){var s=g.o(F*n);
for(var Z=0;Z<4;Z++){g.mA(S,s,Z);if(Z==3)g.L5(s);_(s,s,F,n,kC,R);if(Z==3)g.L5(s);g.Kl(s,h,Z)}}return{vP:_,acS:u}}();
g.uQ={};g.uQ.auB=function(l){for(var v=0;v<l.length;v++)g.uQ.A8(l,v)};g.uQ.A8=function(l,v){l[v].v.keyShapeInvalidated={t:"bool",v:!0}};
g.uQ.aCL=function(l){for(var v=0;v<l.length;v++)l[v].v.keyOriginIndex.v=v};g.uQ.c9=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
g.uQ.Yy=function(l){l=l.v;var o={Rctn:2,Ln:4,Elps:5},D=o[l.classID],H=l.topLeft?g.uQ.ax5(l):null,_=null,u=0,S=[!1,!1,0,0,0];
if(D==4){var h=l.Strt.v,F=l.End.v;_=[h.Hrzn.v.val,h.Vrtc.v.val,F.Hrzn.v.val,F.Vrtc.v.val];u=l.Wdth.v.val;
for(var v=0;v<2;v++){var n=l[v==0?"StrA":"EndA"];if(n==null)continue;n=n.v;S[v]=n.On.v;S[2]=n.Wdth.v;
S[3]=n.Lngt.v;S[4]=n.Cncv.v.val}}if(D==null)return null;return g.uQ.EQ(D,D==4?null:g.uQ.Gd(l),H,_,u,S)};
g.uQ.yR=function(l,o,D,H,_,u,S){var h={classID:l,unitValueQuadVersion:{t:"long",v:1}};if(o)g.uQ.W0(h,["Left","Top","Rght","Btom"],o);
if(D)g.uQ.W0(h,["topLeft","topRight","bottomRight","bottomLeft"],D);if(l=="Ln"){h.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:H[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:H[1]}}}},h.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:H[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:H[3]}}}},h.Wdth={t:"UntF",v:{type:"#Pxl",val:_}};
for(var v=0;v<2;v++){var F=v==0?"StrA":"EndA";h[F]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:S[v]},Wdth:{t:"doub",v:S[2]},Lngt:{t:"doub",v:S[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:S[4]}}}}}}if(u)h.Nm={t:"TEXT",v:u};
return{t:"Objc",v:h}};g.uQ.auh=function(l,o){var D=g.uQ.Zr(l),H=l[2]-l[0],_=l[3]-l[1],u=Math.sqrt(H*H+_*_),S=[0,0,u,0,u,o,0,o],h=new de;
h.rotate(-D);h.translate(l[0],l[1]);g.X.h(S,h,S);return S};g.uQ.EQ=function(l,o,D,H,_,u){var S=g.uQ.c9(),h=S.v,F;
delete h.keyShapeInvalidated;h.keyOriginType={t:"long",v:l};h.keyOriginResolution={t:"doub",v:75};if(l==4){h.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:H[0]},Vrtc:{t:"doub",v:H[1]}}};
h.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:H[2]},Vrtc:{t:"doub",v:H[3]}}};F=g.uQ.auh(H,_);
var n=g.X.dm(F);o=[n.x,n.y,n.x+n.Q,n.y+n._];h.keyOriginLineWeight={t:"doub",v:_};if(u)g.uQ.a07(h,u)}else F=[o[0],o[1],o[2],o[1],o[2],o[3],o[0],o[3]];
h.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};g.uQ.BH(h,"keyOriginBoxCorners",F);var R={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
h.keyOriginShapeBBox={t:"Objc",v:R};g.uQ.a7Z(h,o);if(D!=null){var s={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
h.keyOriginRRectRadii={t:"Objc",v:s};g.uQ.gl(h,D)}return S};g.uQ.h=function(l,o,D,H){var _=g.t.a0Y(o),u=g.t.a7p(o),S=g.t.eP(o),h=S.M*S.me-S.J*S.oe;
for(var v=0;v<l.length;v++){var F=l[v].v;if(!g.uQ.Rh(F))continue;if(D.length!=0&&D.indexOf(v)==-1)continue;
var n=F.keyOriginType.v,R=o;if(h<0&&n==2){var s=g.uQ.LH(F),Z=0;Z=s[0];s[0]=s[1];s[1]=Z;Z=s[2];s[2]=s[3];
s[3]=Z;g.uQ.gl(F,s);var O=g.uQ.du(F,"keyOriginBoxCorners"),w=g.X.dm(O),m=w.x+w.Q/2,V=new de;V.translate(-m,0);
V.scale(-1,1);V.translate(m,0);R=g.t.GM(R,g.t.Lw(V))}var q=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var i=0;i<q.length;i++){var O=g.uQ.du(F,q[i]);if(O==null)continue;g.t.h(R,O);g.uQ.BH(F,q[i],O);var w=g.X.dm(O);
g.uQ.a7Z(F,[w.x,w.y,w.x+w.Q,w.y+w._]);var c=new de;c.rotate(-g.uQ.Zr(O));var z={classID:"Trnf"};F.Trnf={t:"Objc",v:z};
var B="xx xy yx yy tx ty".split(" "),t=[c.M,c.J,c.oe,c.me,c.ip,c.nl];for(var a=0;a<6;a++)z[B[a]]={t:"doub",v:t[a]}}if(n==2&&H){var s=g.uQ.LH(F);
for(var i=0;i<4;i++)s[i]=Math.round(s[i]*o[0]);g.uQ.gl(F,s)}var O=g.uQ.du(F,"keyOriginBoxCorners"),I=O[2]-O[0],N=O[3]-O[1],J=Math.sqrt(I*I+N*N);
I/=J;N/=J;var Q=O[6]-O[0],A=O[7]-O[1],f=Math.sqrt(Q*Q+A*A);Q/=f;A/=f;if(n==4){F.keyOriginLineWeight.v=f;
var W=g.uQ.Bo(F);g.t.h(o,W);g.uQ.awT(F,W)}var C=I*Q+N*A;if(Math.abs(C)>.001){g.uQ.A8(l,v)}}};g.uQ.Rh=function(l){var o=l.keyShapeInvalidated,D=l.keyOriginType;
return(o==null||!o.v)&&D!=null&&D.v!=9};g.uQ.a8_=function(l){var o=l.keyOriginType.v,D=g.uQ.QZ(l),H=D[0],_=D[1],u=D[2],S=D[3],h=new de,F=l.keyOriginPolyCornerRadius,O;
F=F?F.v:0;var n=g.uQ.du(l,o==7||o==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),R=g.uQ.axq(n),s=R[2],Z=R[3];
H=-s/2;u=s/2;_=-Z/2;S=Z/2;h.rotate(-g.uQ.Zr(n));h.ip=R[0];h.nl=R[1];if(o==1||o==2){var w=o==1?0:g.uQ.LH(l);
O=g.n.Rd.Rect(H,_,u-H,S-_,w)}else if(o==4){var m=g.uQ.Bo(l),V=g.uQ.a0K(l);h=new de;if(V==null)O=g.n.Rd.Lb(m[0],m[1],m[2],m[3],l.keyOriginLineWeight.v);
else O=g.n.Rd.i5(m[0],m[1],m[2],m[3],l.keyOriginLineWeight.v,V)}else if(o==5){O=g.n.Rd.lY(H,_,u-H,S-_)}else if(o==7||o==8){var q=o==7?3:l.keyOriginPolySides.v;
O=g.n.Rd.Zo(0,0,100,Math.PI/q-Math.PI/2,q,F,u,S)}g.n.Am(O,h);return O};g.uQ.$S=function(l,o){var D=o.d;
for(var v=0;v<l.length;v++){var H=l[v].v;if(!g.uQ.Rh(H))continue;var _=g.uQ.a8_(H),u=g.n.An(D,v),S=g.n.oc(D,v);
_[2].HN=D[u].HN;var h=D;D=D.slice(0,u);for(var F=2;F<_.length;F++)D.push(_[F]);for(var F=u+S;F<h.length;
F++)D.push(h[F])}o.d=D;o.cF=!0};g.uQ.kb=function(l){var o=1e9,D=-o,H=1e9,_=-H,u=[],S=l.CS(),h=S[0],F=S[1];
for(var n=0;n<F.length;n++){var R=h[F[n]],s=R.add.vogk;if(s==null)continue;var Z=R.add.vmsk.T;for(var O=0;
O<s.length;O++){var w=s[O].v,q=0;if(!g.uQ.Rh(w))continue;if(F.length==1&&Z.length!=0&&Z.indexOf(O)==-1)continue;
var m=w.keyOriginType.v;if(m==9)continue;var V=g.uQ.QZ(w);o=Math.min(o,V[0]);H=Math.min(H,V[1]);D=Math.max(D,V[2]);
_=Math.max(_,V[3]);var i=g.uQ.du(w,"keyOriginBoxCorners");if(i){var c=g.uQ.axq(i),z=c[2],B=c[3];V[2]=V[0]+z;
V[3]=V[1]+B;q=g.uQ.Zr(i)}var t=[m,V,q];u.push(t);var a=w.keyOriginPolyCornerRadius;if(m==2)t.push(g.uQ.LH(w));
if(m==7||m==8)t.push(a?a.v:0);if(m==8)t.push(w.keyOriginPolySides.v)}}return u.length==1?u[0]:[0,o<D?[o,H,D,_]:null,0]};
g.uQ.Zr=function(l){var o=l[2]-l[0],D=l[3]-l[1];return-Math.atan2(-D,o)};g.uQ.aD7=function(l){var o=g.uQ.QZ(l);
return g.uQ.Zr(o)};g.uQ.a9s=function(l,o,D){var H=g.uQ.kb(l),_=-1;for(var v=0;v<o.length;v++)if(JSON.stringify(o[v])!=JSON.stringify(H[v]))_=v;
if(_==1||_==2){}var u=l.CS(),S=u[0],h=u[1];for(var F=0;F<h.length;F++){var n=S[h[F]],R=n.add.vogk;if(R==null)continue;
var s=n.add.vmsk.T;for(var Z=0;Z<R.length;Z++){var O=R[Z].v;if(!g.uQ.Rh(O))continue;if(h.length==1&&s.length!=0&&s.indexOf(Z)==-1)continue;
var w=O.keyOriginType.v;if(_==1||_==2){g.uQ.h(R,g.uQ.aqe(_,O,H,o),s,!1);break}if(_==3)if(w==2)g.uQ.gl(O,o[3]);
else O.keyOriginPolyCornerRadius={t:"doub",v:o[3]};if(_==4)O.keyOriginPolySides.v=o[4];if(D)g.uQ.A8(R,Z)}}};
g.uQ.aqe=function(l,o,D,H){var _=H[1],u=D[1],S=(_[2]-_[0])/(u[2]-u[0]),h=(_[3]-_[1])/(u[3]-u[1]),F=new de;
if(l==1){if(Math.max(Math.abs(S-1),Math.abs(h-1))>1e-8){var n=_[0],R=_[1];if(H[0]!=0){var s=g.uQ.du(o,"keyOriginBoxCorners");
n=s[0];R=s[1]}F.translate(-n,-R);F.rotate(H[2]);F.scale(S,h);F.rotate(-H[2]);F.translate(n,R)}else{F.translate(-u[0],-u[1]);
F.translate(_[0],_[1])}}else{if(H[0]!=0)_=g.uQ.QZ(o);var n=(_[0]+_[2])/2,R=(_[1]+_[3])/2;F.translate(-n,-R);
if(D[0]!=0)F.rotate(D[2]);F.rotate(-H[2]);F.translate(n,R)}return g.t.Lw(F)};g.uQ.axq=function(l){var o=l[0],D=l[1],H=l[2],_=l[3],u=l[4],S=l[5],h=l[6],F=l[7],n=H-o,R=_-D,s=Math.sqrt(n*n+R*R),n=u-H,R=S-_,Z=Math.sqrt(n*n+R*R);
return[(o+u)/2,(D+S)/2,s,Z]};g.uQ.du=function(l,o){var D=l[o];if(D==null)return null;var H=[];D=D.v;
for(var _=0;_<4;_++){var u=D["rectangleCorner"+["A","B","C","D"][_]].v;H.push(u.Hrzn.v,u.Vrtc.v)}return H};
g.uQ.BH=function(l,o,D){var H=l[o];if(H==null)return null;H=H.v;for(var _=0;_<4;_++){var u="rectangleCorner"+["A","B","C","D"][_];
H[u]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:D[2*_]},Vrtc:{t:"doub",v:D[2*_+1]}}}}};g.uQ.QZ=function(l){return g.uQ.Gd(l.keyOriginShapeBBox.v)};
g.uQ.Gd=function(l){var o=l.classID,D=l.Left.v,H=l.Rght.v,_=l.Top.v,u=l.Btom.v;if(D.val!=null){D=D.val;
H=H.val;_=_.val;u=u.val}return[D,_,H,u]};g.uQ.a7Z=function(l,o){g.uQ.W0(l.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],o)};
g.uQ.LH=function(l){var o=l.keyOriginRRectRadii;if(o==null)return[0,0,0,0];return g.uQ.ax5(o.v)};g.uQ.ax5=function(l){var o=[],D=["topLeft","topRight","bottomRight","bottomLeft"];
for(var H=0;H<4;H++)o.push(l[D[H]].v.val);return o};g.uQ.gl=function(l,o){g.uQ.W0(l.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],o)};
g.uQ.W0=function(l,o,D){var H=l.classID;if(H=="unitRect"||H=="radii"||H=="Rctn"){for(var v=0;v<4;v++)if(D[v]!=null)l[o[v]]={t:"UntF",v:{type:"#Pxl",val:D[v]}}}else{for(var v=0;
v<4;v++)if(D[v]!=null)l[o[v]]={t:"doub",v:D[v]}}};g.uQ.Bo=function(l){var o=l.keyOriginLineStart.v,D=l.keyOriginLineEnd.v;
return[o.Hrzn.v,o.Vrtc.v,D.Hrzn.v,D.Vrtc.v]};g.uQ.awT=function(l,o){var D=l.keyOriginLineStart.v,H=l.keyOriginLineEnd.v;
D.Hrzn.v=o[0];D.Vrtc.v=o[1];H.Hrzn.v=o[2];H.Vrtc.v=o[3]};g.uQ.a0K=function(l){var o=[],D=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var v=0;v<5;v++){var H=l["keyOriginLineArr"+D[v]];if(H==null)return null;o[v]=H.v}return o};g.uQ.a07=function(l,o){l.keyOriginLineArrowSt={t:"bool",v:o[0]};
l.keyOriginLineArrowEnd={t:"bool",v:o[1]};l.keyOriginLineArrWdth={t:"doub",v:o[2]};l.keyOriginLineArrLngth={t:"doub",v:o[3]};
l.keyOriginLineArrConc={t:"long",v:o[4]}};g.uQ.afK=function(l){function o(z,B){return Math.abs(z-B)<.5}function D(z,B){return o(z.x,B.x)&&o(z.y,B.y)}function H(z,B,t,a,I,N,J){for(var v=0;
v<J;v++){var Q=z[B+(t+v)%J],A=a[I+(N+v)%J];if(!(D(Q.u,A.u)&&D(Q.e6,A.e6)&&D(Q.BN,A.BN)))return!1}return!0}var _=[];
for(var u=0;u<l.length;u++){var S=l[u],F=null;if(S.type!=0&&S.type!=3||S.HN==-1)continue;var h=u;if(S.length==4||S.length==8){var n=g.n.a6A(l.slice(0,2).concat(l.slice(h,h+S.length+1)));
h=2;if(S.length==4){var R=g.n._U(n,h+1,4),s=R.x,Z=R.y,O=s+R.Q,w=Z+R._;if(R.c()>4){if(g.n.OC(n.slice(h-2,h+5)))F=g.uQ.EQ(2,[s,Z,O,w],[0,0,0,0]);
else{var m=-1;for(var v=0;v<4;v++)if(o(n[h+1+v].u.y,w))m=v;if(m!=-1){var V=g.n.Rd.lY(s,Z,O-s,w-Z),q=H(n,h+1,m,V,3,0,4);
if(q)F=g.uQ.EQ(5,[s,Z,O,w])}}}}if(S.length==8){var R=g.n._U(n,h+1,8),s=R.x,Z=R.y,O=s+R.Q,w=Z+R._;if(R.c()>4){var m=-1;
for(var v=0;v<8;v++)if(o(n[h+1+(v+1&7)].u.y,Z)&&o(n[h+1+(v+2&7)].u.y,Z))m=v;if(m!=-1){var i=Math.abs(n[h+1+m].u.y-Z),c=[i,i,i,i];
if(i>.5){var V=g.n.Rd.Rect(s,Z,O-s,w-Z,c),q=H(n,h+1,m,V,3,0,8);if(q)F=g.uQ.EQ(2,[s,Z,O,w],c)}}}}}_.push(F?F:g.uQ.c9())}return _};
g.X={};g.X.clone=function(l){return{v:l.v.slice(0),s:l.s.slice(0)}};g.X.alu=function(l){if(l.length<6)return!0;
var o=l.length-4;for(var v=0;v<o;v+=2)if(!g.X.BZ(l[v],l[v+1],l[v+2],l[v+3],l[v+4],l[v+5]))return!1;if(!g.X.BZ(l[o],l[o+1],l[o+2],l[o+3],l[0],l[1]))return!1;
if(!g.X.BZ(l[o+2],l[o+3],l[0],l[1],l[2],l[3]))return!1;return!0};g.X.BZ=function(l,o,D,H,_,u){return(o-H)*(_-D)+(D-l)*(u-H)>=0};
g.X.yJ=function(l){var o={},D=null,H=0,_={M:2,L:2,Q:4,C:6},u="",S="";for(var v=0;v<l.v.length;v++){var h=l.v[v];
if(h[0]=="#")u=h;else if(h[0]=="X")u="";else if(h[0]=="O"&&h[1]=="-")S=h;else if(h=="OX")S="";else{var F=u+S;
D=o[F];if(D==null)D=o[F]={s:[],v:[]};D.v.push(h);var n=_[h];if(n==null)n=0;for(var R=0;R<n;R++)D.s.push(l.s[H+R]);
H+=n}}return o};g.X.abJ=function(l,o,D){var H=l[o]-l[D-2],_=l[o+1]-l[D-1];return H*H+_*_<1e-4};g.X.Op=function(l,o,D){l=g.X.xN(l);
var H=l.s,_=l.v,u=0,S="",h=0,F=0,u=0,s=null;for(var v=0;v<_.length;v++){var n=_[v];if(n=="M"){h=H[u];
F=H[u+1];u+=2;S=n}if(n=="C"){if(S=="Z"){_.splice(v,0,"M");H.splice(u,0,h,F);v--;continue}u+=6;S=n}if(n=="Z"){S=n}}var R=[];
u=0;for(var v=0;v<_.length;v++){var n=_[v];if(n=="M"){s={da:u,k$:0,QW:!1};R.push(s);u+=2}if(n=="C"){s.k$++;
u+=6}if(n=="Z"&&s!=null){s.QW=!0}}var Z=[];for(var v=0;v<R.length;v++)if(R[v].k$!=0)Z.push(R[v]);R=Z;
for(var v=0;v<R.length;v++){var O=R[v],w=O.da,m=w+2+O.k$*6,q=0;O.EZ=g.X.dm(H,w,m);var V=g.X.abJ(H,w,m);
for(var i=0;i<O.k$;i++){var c=w+i*6,z=c+6;q+=(H[z]-H[c])*(H[z+1]+H[c+1])}if(O.k$==2){var B=function(E,T,y){var d4=1-y;
return d4*d4*d4*E[T]+3*d4*d4*y*E[T+2]+3*d4*y*y*E[T+4]+y*y*y*E[T+6]},t=H[w],a=H[w+1],I=H[w+6],N=H[w+7],J=H[w+6],Q=H[w+7],A=B(H,w,.5),f=B(H,w+1,.5),W=B(H,w+6,.5),C=B(H,w+7,.5);
q=(A-t)*(f-a)+(I-A)*(N-f)+(W-I)*(C-N)+(J-W)*(Q-C)}if(!V)q+=(H[w]-H[m-2])*(H[w+1]+H[m-1]);O.bj=q<=0}for(var v=0;
v<R.length-1;v++)for(var c=v+1;c<R.length;c++){var j=R[v],K=R[c];if(K.EZ.u4(j.EZ)){R[v]=K;R[c]=j}}var $=R.length==0?!0:R[0].bj,r=[{type:6},{type:8,all:0}];
for(var v=0;v<R.length;v++){var O=R[v],w=O.da,m=w+2+O.k$*6,V=g.X.abJ(H,w,m);if(O.k$==1)V=!1;var U=O.QW||V?0:3,b=O.bj==$&&!o?1:0;
if(!o&&v!=0){if(R[v-1].EZ.u4(O.EZ)&&R[v-1].bj!=O.bj)b=0;for(var c=0;c<R.length;c++)if(c!=v&&R[c].EZ.u4(O.EZ))b=0}r.push({type:U,length:O.k$+(V?0:1),HN:D?0:b,qC:2});
for(var c=0;c<O.k$;c++){var u=w+c*6,e=new he(H[u],H[u+1]),P=new he(H[u+2],H[u+3]),L;if(c==0){if(V){L=new he(H[m-4],H[m-3]);
if(he.At(L,e)<1e-5)L=e.clone()}else L=e.clone()}else L=new he(H[u-2],H[u-1]);r.push({type:U+2,e6:L,u:e,BN:P})}if(!V){var Y=new he(H[m-2],H[m-1]);
r.push({type:U+2,e6:new he(H[m-4],H[m-3]),u:Y,BN:Y.clone()})}}for(var c=0;c<r.length;c++){var X=r[c];
if(X.type>5||X.type==0||X.type==3)continue;var G=X.e6.kn(X.u)||X.BN.kn(X.BN);if(!G){var j=X.e6.x*(X.u.y-X.BN.y)+X.u.x*(X.BN.y-X.e6.y)+X.BN.x*(X.e6.y-X.u.y);
if(Math.abs(j)<1e-6)G=!0}if(G)X.type--}return r};g.X.Jp=function(l,o){var D=g.n.Ly(l),H=[];for(var v=2;
v<l.length;v++){var _=l[v].HN;if(_!=null){if(_==2||_==0||_==3||_==-1)H.push(_)}}var u=H.length!=0;if((u||o)&&l.length<2e3&&1<D&&D<200)l=g.n.z3(l);
var S=g.X.Ja(l);return{Xz:S,PH:u?1:0}};g.X.Ja=function(){function l(H,_,u,S){if(S!=2&&H.BN.kn(H.u)&&_.e6.kn(_.u)){u.s.push(_.u.x,_.u.y);
u.v.push("L")}else{var h=H.u,F=H.BN,n=_.e6,R=_.u,s=3/2*F.x-1/2*h.x,Z=3/2*F.y-1/2*h.y,O=3/2*n.x-1/2*R.x,w=3/2*n.y-1/2*R.y,m=O-s,V=w-Z;
if(S==0&&m*m+V*V<.001){u.s.push((s+O)*.5,(Z+w)*.5,R.x,R.y);u.v.push("Q")}else{u.s.push(F.x,F.y,n.x,n.y,R.x,R.y);
u.v.push("C")}}}function o(H,_,v,u,S,h){var F=_[v];H.s.push(F.u.x,F.u.y);H.v.push("M");for(var n=v;n<v+u-1;
n++)l(_[n],_[n+1],H,h);if(!S)l(_[n],_[v],H,h)}function D(H,_){if(_==null)_=0;var u={s:[],v:[]};for(var v=0;
v<H.length;v++){if(H[v].type>5)continue;var S=H[v].length;if(S==0)continue;if(v==H.length-1)break;var h=H[v].type==3;
o(u,H,v+1,S,h,_);if(!h)u.v.push("Z");v+=S}return u}return D}();g.X.ahf=function(l){var o=l.s,D=[],H,_=0;
for(var v=0;v<l.v.length;v++){var u=l.v[v];if(u=="C"){H.push(o[_++],o[_++],o[_++],o[_++],o[_++],o[_++])}else if(u=="Z"){}else{H=[];
if(u!="M"){H.push(u);v++}H.push(o[_++],o[_++]);D.push(H)}}return D};g.X.RS=function(l,o,D,H){if(H==null)H=1e9;
var _=1e9,u=0;for(var v=0;v<l.length;v+=2){var S=o-l[v],h=D-l[v+1],F=S*S+h*h;if(F<_){_=F;u=v>>>1}}return _<H*H?u:-1};
g.X.aoR=function(l,o,D,H){for(var v=0;v<l.length;v+=2){var _=l[v],u=l[v+1],S=o[v],h=o[v+1];D[v]=_+(S-_)*H;
D[v+1]=u+(h-u)*H}};g.X.h=function(l,o,D){for(var v=0;v<l.length;v+=2){var H=l[v],_=l[v+1];D[v]=H*o.M+_*o.oe+o.ip;
D[v+1]=H*o.J+_*o.me+o.nl}};g.X.dm=function(l,o,D){if(o==null)o=0;if(D==null)D=l.length;var H=99999999999,_=-H,u=99999999999,S=-u;
for(var v=o;v<D;v+=2){var h=l[v],F=l[v+1];H=Math.min(H,h);u=Math.min(u,F);_=Math.max(_,h);S=Math.max(S,F)}return new gt(H,u,_-H,S-u)};
g.X.amN=function(l,o){var D=Math.max(o.x,Math.min(o.x+o.Q,l.x)),H=Math.max(o.y,Math.min(o.y+o._,l.y)),_=l.x-D,u=l.y-H;
return Math.sqrt(_*_+u*u)};g.X.rP=function(l,o){var D=Math.floor,H=Math.ceil;if(o){D=Math.ceil;H=Math.floor}var _=D(l.x),u=H(l.x+l.Q),S=D(l.y),h=H(l.y+l._);
return new gt(_,S,u-_,h-S)};g.X.Mg=function(l,o){return g.X.rP(g.X.dm(l),o)};g.X.YZ=function(l,o){var D=l.x,H=l.y,_=l.x+l.Q,u=l.y+l._,S=[D,H,_,H,_,u,D,u];
if(o){var h=o.clone();h.L5();g.X.h(S,h,S)}return{v:["M","L","L","L","Z"],s:S}};g.X.concat=function(l,o,D){if(D==null)D=new de;
for(var v=0;v<o.s.length;v+=2){var H=o.s[v],_=o.s[v+1];l.s.push(H*D.M+_*D.oe+D.ip);l.s.push(H*D.J+_*D.me+D.nl)}for(var v=0;
v<o.v.length;v++)l.v.push(o.v[v])};g.X.reverse=function(l){var o=l.v.slice(1),D=o.pop();if(D!="Z")o.push(D);
o.reverse();o=["M"].concat(o);if(D=="Z")o.push("Z");var H=[],_=l.s.length;for(var u=0;u<_;u+=2){H[u]=l.s[_-2-u];
H[u+1]=l.s[_-2-u+1]}return{s:H,v:o}};g.X.aCb=function(l,o,D,H,_){function u(Z,O,w){return new he(Z.x*(1-w)+O.x*w,Z.y*(1-w)+O.y*w)}var S=u(l,o,_),h=u(D,H,_),F=u(o,D,_),n=u(S,F,_),R=u(F,h,_),s=u(n,R,_);
return[S,n,s,R,h]};g.X.xN=function(l){var o=l.s,D=[],H=[],_=0,u=0,S=0,h=0,F=0,n=0,R=0,s=0,Z=0,O=0,w=0;
for(var v=0;v<l.v.length;v++){var m=l.v[v];if(m=="M"){u=o[_];S=o[_+1];_+=2;H.push(m);D.push(u,S);O=u;
w=S}else if(m=="C"){h=o[_];F=o[_+1];n=o[_+2];R=o[_+3];s=o[_+4];Z=o[_+5];_+=6;H.push(m);D.push(h,F,n,R,s,Z);
u=s;S=Z}else if(m=="Q"){h=o[_];F=o[_+1];n=o[_+2];R=o[_+3];_+=4;var V=h-u,q=F-S,i=n-h,c=R-F;H.push("C");
D.push(u+2/3*V,S+2/3*q,h+1/3*i,F+1/3*c,n,R);u=n;S=R}else if(m=="L"){h=o[_];F=o[_+1];_+=2;if(h!=u||F!=S){H.push("C");
D.push(u,S,h,F,h,F);u=h;S=F}}else{if(m=="Z"){u=O;S=w}H.push(m)}}return{v:H,s:D}};g.X.a1f=function(l){var o=l.s,D=[],H=[],_=0;
for(var v=0;v<l.v.length;v++){var u=l.v[v];if(u=="Q"){var S=o[_-2],h=o[_-1],F=o[_],n=o[_+1],R=o[_+2],s=o[_+3];
_+=4;var Z=F-S,O=n-h,w=R-F,m=s-n;H.push("C");D.push(S+2/3*Z,h+2/3*O,F+1/3*w,n+1/3*m,R,s)}else{var V=0;
if(u=="M"||u=="L")V=2;else if(u=="C")V=6;for(var q=0;q<V;q++)D.push(o[_+q]);_+=V;H.push(u)}}return{v:H,s:D}};
g.X.Cg=function(l,o){var D=l.s,H=[],_=[],u=0,S=0,h=0,F=0,n=0,R=0,s=0,Z=0,O=0;for(var v=0;v<l.v.length;
v++){var w=l.v[v];if(w=="M"){S=D[u];h=D[u+1];u+=2;_.push(w);H.push(S,h)}else if(w=="C"){F=D[u];n=D[u+1];
R=D[u+2];s=D[u+3];Z=D[u+4];O=D[u+5];u+=6;g.X.sv(S,h,F,n,R,s,Z,O,o,_,H,0);S=Z;h=O}else _.push(w)}return{v:_,s:H}};
g.X.sv=function(l,o,D,H,_,u,S,h,F,n,R,s){var Z=Math.sqrt((S-l)*(S-l)+(h-o)*(h-o)),O=Math.sqrt((S-_)*(S-_)+(h-u)*(h-u))+Math.sqrt((_-D)*(_-D)+(u-H)*(u-H))+Math.sqrt((D-l)*(D-l)+(H-o)*(H-o)),w=(Z+O)/2;
if(w<=F){n.push("C");R.push(D,H,_,u,S,h)}else{var m=0,V=0,q=0,i=0,c=0,z=0,B=0,t=0,a=0,I=0,N=0,J=0,Q=0;
V=(l+D)/2;q=(o+H)/2;i=(D+_)/2;c=(H+u)/2;z=(_+S)/2;B=(u+h)/2;t=(V+i)/2;a=(q+c)/2;I=(i+z)/2;N=(c+B)/2;
J=(t+I)/2;Q=(a+N)/2;g.X.sv(l,o,V,q,t,a,J,Q,F,n,R,s+1);g.X.sv(J,Q,I,N,z,B,S,h,F,n,R,s+1)}};g.X.awH=function(l,o,D,H,_){var u=Date.now(),S=g.X.a3a(l,o,D);
if(_){console.log("trace polygons",Date.now()-u);u=Date.now()}var h=[];for(var v=0;v<S.length;v++){var F=S[v],n=F[0],R=["M"],s=l[n[1]*o+n[0]];
if(n.length>8)n=g.X.ahr(n,H,F[1]);if(n.length<=4)continue;for(var Z=2;Z<n.length;Z+=2)R.push("L");R.push("Z");
h.push({path:{s:n,v:R},color:s,parent:-1,EZ:g.X.dm(n)})}if(_){console.log("simplify polygons",Date.now()-u);
u=Date.now()}for(var v=1;v<h.length;v++){var O=h[v],w=O.path.s,m=w[0],V=w[1],q=w[2],i=w[3],c=q-m,z=i-V,B=m+.5*c-.001*z,t=V+.5*z+.001*c;
for(var Z=v-1;Z>=0;Z--){var a=h[Z];if(!a.EZ.u4(O.EZ))continue;if(!iS.EP(a.path.s,B,t))continue;O.parent=Z;
break}}if(_){console.log("checking parents",Date.now()-u);u=Date.now()}return h};g.X.a3a=function(l,o,D){var H=o*D,_=new Uint16Array(o*D),S=0;
for(var v=0;v<H;v++)_[v]=l[v];var u=new Uint8Array(o*D);u[1*o+1]=u[(D-1)*o+1]=u[1*o+o-1]=u[(D-1)*o+o-1]=1;
for(var h=1;h<D;h++)for(var F=1;F<o;F++){var v=h*o+F,n=_[v-o-1],R=_[v-o],s=_[v-1],Z=_[v],O=n==Z&&R==s&&n!=R,w=0;
if(Z<s){S=Z;Z=s;s=S}if(s<R){S=s;s=R;R=S}if(R<n){S=R;R=n;n=S}if(Z<s){S=Z;Z=s;s=S}if(s<R){S=s;s=R;R=S}if(Z<s){S=Z;
Z=s;s=S}if(n!=R)w++;if(R!=s)w++;if(s!=Z)w++;if(Z!=n)w++;if(w>=3||O)u[v]=1}var m=[];for(var h=1;h<D;h++)for(var F=1;
F<o;F++){var v=h*o+F;if(_[v]!=_[v-1]){var V=g.X.aCW(_,o,D,F,h),q=[];for(var i=0;i<V.length;i+=2)if(u[V[i+1]*o+V[i]]==1)q.push(i>>>1);
m.push([V,q]);g.X.JA(_,o,D,F,h)}}return m};g.X.JA=function(l,o,D,H,_){var u=[_*o+H],S=l[_*o+H];l[_*o+H]=65535;
while(u.length!=0){var v=u.pop();l[v]=0;if(l[v+o]==S){u.push(v+o);l[v+o]=65535}if(l[v-o]==S){u.push(v-o);
l[v-o]=65535}if(l[v-1]==S){u.push(v-1);l[v-1]=65535}if(l[v+1]==S){u.push(v+1);l[v+1]=65535}}};g.X.aCW=function(l,o,D,H,_){var u=[0,-1,1,0,0,1,-1,0],R=1;
function S(Z,O,R){var v=n*o+F,w=0;if(R==0)w=v-o;else if(R==1)w=v;else if(R==2)w=v-1;else if(R==3)w=v-o-1;
return l[w]}var h=[],F=H,n=_,s=S(F,n,R);do{h.push(F,n);F+=u[R*2];n+=u[R*2+1];if(S(F,n,R)!=s)R=R+1&3;
else if(S(F,n,R+3&3)!=s)R=R;else if(S(F,n,R+2&3)!=s)R=R+3&3}while(F!=H||n!=_);return h};g.X.ahr=function(l,o,D){var H=l.length-2;
if(D&&D.length!=0){var _=D[0]*2,u=D[D.length-1]*2,S=_==0?H:_-2,h=l.slice(u);for(var v=0;v<_;v++)h.push(l[v]);
if(_==u)h.push(.9*l[_]+.1*l[S],.9*l[_+1]+.1*l[S+1]);else h.push(l[_],l[_+1]);h=g.X.vT(h,o);h.pop();h.pop();
for(var v=0;v<D.length-1;v++){var F=l.slice(D[v]*2,D[v+1]*2+2);F=g.X.vT(F,o);for(var n=0;n<F.length-2;
n++)h.push(F[n])}return h}var R=l.slice(0);R.push(.9*l[0]+.1*l[H],.9*l[1]+.1*l[H+1]);R=g.X.vT(R,o);R.pop();
R.pop();return R};g.X.vT=function(l,o){var D=l.length-2,H=l[0],_=l[1],u=l[D],S=l[D+1],h=u-H,F=S-_,n=1/Math.sqrt(h*h+F*F),R=u*_-S*H,s=-1,Z=-1,O=0;
for(var v=2;v<D;v+=2){var w=l[v],m=l[v+1],V=m*m*1e6+w*w,q=Math.abs(F*w-h*m+R)*n;if(q>Z||q==Z&&V>O){Z=q;
s=v;O=V}}if(Z<o)return[H,_,u,S];var i=g.X.vT(l.slice(0,s+2),o),c=g.X.vT(l.slice(s),o);for(var v=2;v<c.length;
v++)i.push(c[v]);return i};g.X.as0=function(){var l=function(H,_,u,S,h,F){return(_-S)*(h-u)+(u-H)*(F-S)>=0},o=function(H,_,u,S,h,F,n,R){var s=n-u,Z=R-S,O=h-u,w=F-S,m=H-u,V=_-S,q=s*s+Z*Z,i=s*O+Z*w,c=s*m+Z*V,z=O*O+w*w,B=O*m+w*V,t=1/(q*z-i*i),a=(z*c-i*B)*t,I=(q*B-i*c)*t;
return a>=0&&I>=0&&a+I<1},D=function(H){var kC=H.length>>>1,v=0;if(kC<3)return[];var _=[],u=[];for(var v=0;
v<kC;v++)u.push(v);var S=kC;while(S>3){var h=u[(v+0)%S],F=u[(v+1)%S],n=u[(v+2)%S],R=H[2*h],s=H[2*h+1],Z=H[2*F],O=H[2*F+1],w=H[2*n],m=H[2*n+1],V=!1;
if(l(R,s,Z,O,w,m)){V=!0;for(var q=0;q<S;q++){var i=u[q];if(i==h||i==F||i==n)continue;if(o(H[2*i],H[2*i+1],R,s,Z,O,w,m)){V=!1;
break}}}if(V){_.push(h,F,n);u.splice((v+1)%S,1);S--;v=0}else if(v++>3*S)break}_.push(u[0],u[1],u[2]);
return _};return D}();g.X.aAP=function(l,o){var D={},H={v:[],s:[]};for(var v=0;v<o.length;v+=3){var _=o[v]*2,u=o[v+1]*2,S=o[v+2]*2;
g.X.nd(l,_,u,H,D);g.X.nd(l,_,S,H,D);g.X.nd(l,u,S,H,D)}return H};g.X.nd=function(l,o,D,H,_){if(o>D){var u=D;
D=o;o=u}if(_[o+","+D])return;_[o+","+D]=!0;H.v.push("M","L");H.s.push(l[o],l[o+1],l[D],l[D+1])};g.X.a29=function(l,o){var D=[],H=l.length;
for(var v=0;v<H;v+=2){var _=l[v],u=l[v+1],S=l[(v+2)%H],h=l[(v+3)%H];if(h<u){var F=u;u=h;h=F}if(u<o&&o<h){var n=(o-u)/(h-u);
D.push(_+n*(S-_))}}D.sort(function(R,s){return R-s});return D};g.X.azH=function(l,o,D,H,_,u,S){var h=l-D,F=o-H,n=_-D,R=u-H,s=1/Math.sqrt(h*h+F*F),Z=1/Math.sqrt(n*n+R*R),O=h*s,w=F*s,m=n*Z,V=R*Z,q=w*S,i=-O*S,c=-V*S,z=m*S,B=g.X.uF(q,i,O,w,c,z,m,V),t=q+O*B,a=i+w*B,B=g.X.uF(0,0,O,w,t,a,-w,O),I=O*B,N=w*B;
return[Math.sqrt(I*I+N*N),O,w,m,V]};g.X.anI=function(l,o,D,H,_,u,S){var h=g.X.azH(l,o,D,H,_,u,S),F=h[0],n=h[1],R=h[2],s=h[3],Z=h[4],O=Math.atan2(n*Z-R*s,n*s+R*Z);
if(O<0){O=O*-1}var w=Math.PI-O,m=4/3*Math.tan(w/4),V=D+F*n,q=H+F*R,i=D+F*s,c=H+F*Z,z=V+m*S*-n,B=q+m*S*-R,t=i+m*S*-s,a=c+m*S*-Z;
return[0,0,V,q,z,B,t,a,i,c]};g.X.uF=function(l,o,D,H,_,u,S,h){var F=S*(o-u)-h*(l-_),n=h*D-S*H;if(n==0)return 0;
return F/n};g.X.CC=function(l,o,D,H,_,u){return l*(H-u)+D*(u-o)+_*(o-H)};g.X.a2k=function(l){function o(W,C,j,K,$,r,U,P,L){var Y=g.X.uF(W,C,j,K,$,r,U,P);
L.push(W+j*Y,C+K*Y)}var D=[],H=l.length,_=[];for(var v=0;v<H;v+=2){var u=v==0?H-2:v-2,S=v==H-2?0:v+2,h=l[v],F=l[v+1],n=h-l[u],R=F-l[u+1],s=l[S]-h,Z=l[S+1]-F,O=Math.sqrt(n*n+R*R),w=Math.sqrt(s*s+Z*Z);
_.push(w);var m=O/(O+w),V=h-n*.5,q=F-R*.5,i=h+s*.5,c=F+Z*.5,z=(l[S]+l[u])*.5,B=(l[S+1]+l[u+1])*.5,t=V+m*(i-V),a=q+m*(c-q),I=h-t,N=F-a,J=(s*-n+Z*-R)/(O*w),Q=(m-.5)*7,A=1+Q*m,f=1-Q*(1-m);
D.push(V+I*A,q+N*A,i+I*f,c+N*f)}return D};g.a8=function(){};g.a8.hA=function(l,o,D,H,_){var u=D.Q,S=D._,h=u*S,F=new Int32Array(h),kC=0;
for(var v=0;v<h;v++)if(o[v]!=0){F[v]=kC;kC++}else if(l[(v<<2)+3]<200){F[v]=-2}else F[v]=-1;if(kC==0)return;
var n=new g.Li(kC,kC),R=new Array(3*kC),s=new Array(3*kC);for(var v=0;v<s.length;v++)s[v]=R[v]=0;var Z=1/255,O=[-u,-1,1,u],w=[],m=[];
for(var V=0;V<S;V++)for(var q=0;q<u;q++){var i=V*u+q,c=i<<2,v=F[i],z=v*3,B=0,t=0,a=0;if(v==-1||v==-2)continue;
for(var I=0;I<4;I++){if(I==2){t=a;w[a]=0;m[a]=v;a++}var N=i+O[I],J=N<<2,Q=F[N];if(I==0&&V==0||I==1&&q==0||I==2&&q==u-1||I==3&&V==S-1||Q==-2)continue;
B++;if(Q==-1){R[z+0]+=l[J+0];R[z+1]+=l[J+1];R[z+2]+=l[J+2]}else{w[a]=-1;m[a]=Q;a++;if(o[i]==o[N]){R[z+0]+=l[c+0]-l[J+0];
R[z+1]+=l[c+1]-l[J+1];R[z+2]+=l[c+2]-l[J+2]}}}w[t]=B;n.fy(w,m,a)}for(var v=0;v<h;v++)if(F[v]!=-1){var A=v<<2,f=F[v],W=f*3;
s[W]=l[A+0];s[W+1]=l[A+1];s[W+2]=l[A+2]}var C=Date.now();n.afI(s,R,H,_);console.log(Date.now()-C);for(var v=0;
v<h;v++){var f=F[v],j=f*3,A=v<<2;if(f==-1||l[A+3]!=255)continue;l[A+0]=~~(.5+Math.max(0,Math.min(255,s[j+0])));
l[A+1]=~~(.5+Math.max(0,Math.min(255,s[j+1])));l[A+2]=~~(.5+Math.max(0,Math.min(255,s[j+2])))}};g.rect={};
g.rect.amm=function(l,o){var D=[l],H=[];for(var v=0;v<o.length;v++){var _=o[v],u=!1;for(var S=v+1;S<o.length;
S++){var h=o[S];if(h[0]<=_[0]&&h[1]<=_[1]&&_[2]<=h[2]&&_[3]<=h[3]){u=!0;break}}if(!u)H.push(_)}o=H;for(var v=0;
v<o.length;v++){var _=o[v];for(var S=0;S<D.length;S++){var h=D[S],F=Math.max(_[0],h[0]),n=Math.min(_[2],h[2]),R=Math.max(_[1],h[1]),s=Math.min(_[3],h[3]);
if(F<n&&R<s){var Z=[];if(h[1]<_[1]){var O=h.slice(0);O[3]=_[1];Z.push(O)}if(h[0]<_[0]){var w=h.slice(0);
w[1]=R;w[2]=_[0];Z.push(w)}if(_[2]<h[2]){var m=h.slice(0);m[1]=R;m[0]=_[2];Z.push(m)}if(_[3]<h[3]){var V=[F,s,n,h[3]];
Z.push(V)}if(Z.length!=0){D[S]=Z[0];for(var q=1;q<Z.length;q++)D.push(Z[q])}}}D.push(_);D=g.rect.a7j(D)}D.sort(function(_,h){return _[1]!=h[1]?_[1]-h[1]:_[0]-h[0]});
for(var v=1;v<D.length;v++){var _=D[v-1],h=D[v];if(_[0]==h[0]&&_[1]==h[1]&&_[2]==h[2]&&_[3]==h[3]){D.splice(_[4]==null?v-1:v,1);
v--}}return D};g.rect.a7j=function(l){l=l.slice(0);for(var v=0;v<l.length;v++){var o=l[v],D=null;if(o[4]!=null)continue;
for(var H=0;H<l.length;H++){var _=l[H];if(v==H||_[4]!=null)continue;var u=o[0]==_[0],S=o[1]==_[1],h=o[2]==_[2],F=o[3]==_[3];
if(S&&F&&(o[2]==_[0]||o[0]==_[2])){D=[Math.min(o[0],_[0]),o[1],Math.max(o[2],_[2]),o[3]]}if(u&&h&&(o[3]==_[1]||o[1]==_[3])){D=[o[0],Math.min(o[1],_[1]),o[2],Math.max(o[3],_[3])]}if(D){l[v]=D;
l.splice(H,1);break}}if(D){v--}}return l};g.rect.jS=function(l){var o=new gt;for(var v=0;v<l.length;
v++)o=o.tB(l[v]);return o};g.rect.a9f=function(l,o){var D=g.rect.jS,H=new UnionFind(l.length),t=1e3,a=1e3;
for(var v=0;v<l.length;v++)for(var _=v+1;_<l.length;_++){if(!o)continue;var u=l[v],S=l[_],s=1e9,Z=1e9;
if(u.Q5(S)){H.link(v,_);continue}var h=u.x+u.Q,F=u.y+u._,n=S.x+S.Q,R=S.y+S._;if((h<S.x||n<u.x)&&(F<S.y||R<u.y))continue;
if(!(F<S.y||R<u.y))s=Math.min(Math.abs(h-S.x),Math.abs(u.x-n));if(!(h<S.x||n<u.x))Z=Math.min(Math.abs(F-S.y),Math.abs(u.y-R));
var O=Math.min(s,Z),w=Math.min(u.Q,u._,S.Q,S._);if(O<.3*w)H.link(v,_)}var m=[],V={};for(var v=0;v<l.length;
v++){var q=H.find(v),i=l[v];if(V[q]==null){V[q]=m.length;m.push([])}m[V[q]].push(i)}var c=[],z=[];for(var v=0;
v<m.length;v++){c.push(D(m[v]));var B=D(m[v]);B.Pr=v;z.push(B)}z.sort(function(K,$){return Math.max($._,$.Q)-Math.max(K._,K.Q)});
var I=new NETXUS.RectanglePacker(t,a);while(!0){var N=!1;I.reset(t,a);for(var v=0;v<z.length;v++){var J=I.findCoords(z[v].Q,z[v]._);
if(J){z[v].x=J.x;z[v].y=J.y}else{t=Math.floor(t*1.1);a=Math.floor(a*1.1);N=!0;break}}if(N)continue;break}for(var v=0;
v<m.length;v++){var Q=z[v],A=Q.Pr,f=c[A],W=m[A],C=Q.x-f.x,j=Q.y-f.y;for(var _=0;_<W.length;_++)W[_].offset(C,j)}};
g.vL=function(){};g.vL.wv=Math.floor(16*window.devicePixelRatio);g.vL.Qg={};g.vL.vd=0;g.vL.Ez=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
g.vL.aaG=["px","in","cm","mm","%"];g.vL.bQ=function(l,o,D,H){var _=[1,o,o/2.54,o/25.4,D/100][H];return l*_};
g.vL.aun=function(l,o,D,H){var _=[1,o,o/2.54,o/25.4,D/100][H];return l/_};g.vL.oo=function(l,o,D,H,_){var u=D.og.wc,S=[1,o,o/2.54,o/25.4,H/100][u],h=[2,3,2,1,2][u];
l=l/S;var F=Math.round(l),n=u==0&&Math.abs(l-F)<1e-6?F+"":l.toFixed(h);if(_)n+=" "+g.vL.aaG[u];return n};
g.vL.azs=function(l,o,D,H){var _=D.og.wc,u=[1,o,o/2.54,o/25.4,H/100][_];l=parseFloat(l)*u;return l};
g.vL.a5r=function(l,o){var D=l+","+o;if(g.vL.Qg.clr==D)return;var H=Math.round(g.vL.wv*.5);g.vL.vd=H;
var _=g.WG(H,H);_.save();_.font=H*1.5+"px monospace";var u="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var v=0;
v<u.length;v++){_.fillStyle="#"+g.Bi(o);_.fillRect(0,0,H,H);_.fillStyle="#"+g.Bi(l);_.fillText(u[v],0,H);
g.vL.Qg[u[v]]=new Uint8Array(_.getImageData(0,0,H,H).data.buffer)}g.vL.Qg.clr=D;_.restore()};g.vL.aCo=function(l,o,D){var H=0,_=0,u=4*g.vL.wv;
for(var v=9;v>=0;v--){var S=Math.pow(10,v);if(5*S*l<=u){H=5*S;_=10;break}if(2*S*l<=u){H=2*S;_=4;break}if(1*S*l<=u){H=1*S;
_=10;break}}if(H==0){H=1;_=10}var h=Math.ceil(H*l),F=g.o(h*g.vL.wv*4);g.M5(F,4278190080|D);for(var v=0;
v<g.vL.wv;v++)g.vL.SY(F,4*v*h,o);for(var v=0;v<h;v++)g.vL.SY(F,4*((g.vL.wv-1)*h+v),o);if(H==2)_=2;if(H==5)_=5;
if(H>1||H==1&&h>20)for(var v=1;v<_;v++)g.vL.any(F,v*(h/_),h,(v&1)==1?.8:.7,o);return{Ao:F,step:H}};g.vL.any=function(l,o,D,H,_){var o=Math.round(o);
for(var u=Math.round(g.vL.wv*H);u<g.vL.wv-1;u++)g.vL.SY(l,4*(u*D+o),_)};g.vL.SY=function(l,o,D){l[o+0]=D>>16&255;
l[o+1]=D>>8&255;l[o+2]=D&255};g.vL.akn=function(l,o,D,H,_,u,S){var h=l.T3.Q,F=l.T3._,n=g.vL.wv,R=o&255,s=o>>8&255,Z=o>>16&255;
o=Math.round(R*.6)<<16|Math.round(s*.6)<<8|Math.round(Z*.6);g.vL.a5r(Math.round(R*.8)<<16|Math.round(s*.8)<<8|Math.round(Z*.8),D);
var O=l.F,w=l.i,m=l.vb;for(var V=0;V<2;V++){var q=V==0?u:S;l.F=q[0];l.i=q[1];l.vb=0;var i=this.aCo(l.F,o,D),c=l.vp(0,0),z=l.vp(h,F),B=Math.floor(c.x/i.step)*i.step,t=Math.ceil(z.x/i.step)*i.step,a=Math.floor(c.y/i.step)*i.step,I=Math.ceil(z.y/i.step)*i.step,N=l.zp(B,a),J=l.zp(t,a),Q=i.step*l.F,A=Math.ceil(Q);
if(V==1){var f=i.Ao;i.Ao=g.o(f.length*4);g.t.ji(f,i.Ao,A,n)}var W=V==0?l.Sj.data:l.aB.data,C=new gt(0,0,[h,n][V],[n,F][V]),j=new gt(0,0,[A,n][V],[n,A][V]),K=new gt([0,Math.round(n*.2)][V],[Math.round(n*.08),0][V],g.vL.vd,g.vL.vd),$=(V==0?t-B:I-a)/i.step;
for(var v=0;v<$;v++){if(V==0)j.x=Math.round(N.x+v*Q);else j.y=Math.round(N.y+v*Q);g.Qo(i.Ao,j,W,C,j);
var r=(V==0?B+v*i.step:Math.abs(a+v*i.step)).toString(10);for(var U=0;U<r.length;U++){if(V==0)K.x=j.x+3+U*Math.round(g.vL.vd*.8);
else K.y=j.y+3+U*Math.round(g.vL.vd*1.15);var b=g.vL.Qg[r[U]];g.Qo(b,K,W,C,K)}}}l.F=O;l.i=w;l.vb=m;var e=Math.floor(n*.6),P=new Uint32Array(l.Sj.data.buffer),L=new Uint32Array(l.aB.data.buffer),Y=R<128?4278190080:4294967295;
if(0<H&&H<h)for(var v=0;v<e;v++)P[v*h+H]=Y;if(0<_&&_<F)for(var v=0;v<e;v++)L[_*n+v]=Y};g.scale={};g.scale.Pf=document.createElement("canvas");
g.scale.Ig=g.scale.Pf.getContext("2d");g.scale.eT=function(l,o,D){var H=g.scale.Pf,_=g.scale.Ig;H.width=o;
H.height=D;var u=new ImageData(new Uint8ClampedArray(l.buffer),o,D);_.putImageData(u,0,0);return _.createPattern(_.canvas,"repeat")};
g.scale.aas=function(l,o,D,H,_,u,S,h,F){var n=g.scale.aoF(l,D,H,_,u,S,h,F);if(o)o.set(n);return new Uint8Array(n.buffer)};
g.scale.aoF=function(l,o,D,H,_,u,S,h){var F=g.WG(o,D);F.save();F.rect(0,0,o,D);F.translate(u,S);F.scale(H,_);
if(h!=null)F.rotate(-h);F.fillStyle=l;F.fill();F.restore();return new Uint8Array(F.getImageData(0,0,o,D).data.buffer)};
g.scale.h=function(l,o,D,H,_){var u=D.J==0&&D.oe==0,S=_.Q,h=_._,F=g.X.YZ(o,D).s,n=g.X.Mg(F,u).$o(_),R=n.x,s=n.y,Z=R+n.Q,O=s+n._,w=~~o.x,m=~~o.y,V=~~o.Q,q=~~o._;
if(u)for(var i=s;i<O;i++){var c=D.me*(i+.5)+D.nl-m,z=~~c*V;for(var B=R;B<Z;B++){var t=D.M*(B+.5)+D.ip-w;
H[i*S+B]=l[z+~~t]}}else for(var i=s;i<O;i++)for(var B=R;B<Z;B++){var a=B+.5,I=i+.5,t=D.M*a+D.oe*I+D.ip-w,c=D.J*a+D.me*I+D.nl-m;
if(0<=t&&0<=c&&t<V&&c<q)H[i*S+B]=l[~~c*V+~~t]}};g.scale.aou=function(l,o,D,H,_,u){var S=new Uint32Array(l.buffer),h=new Uint32Array(H.buffer),F=_.Q,n=_._,R=g.X.YZ(o,D).s,s=u?_:g.X.Mg(R).$o(_),Z=s.x,O=s.y,w=Z+s.Q,m=O+s._,V=~~o.x,q=~~o.y,i=~~o.Q,c=~~o._;
for(var z=O;z<m;z++)for(var B=Z;B<w;B++){var t=B+.5,a=z+.5,I=D.M*t+D.oe*a+D.ip-V,N=D.J*t+D.me*a+D.nl-q;
if(u){I=((i<<10)+I)%i;N=((c<<10)+N)%c}if(0<=I&&0<=N&&I<i&&N<c)h[z*F+B]=S[~~N*i+~~I]}};g.scale.ri=function(l,o,D,H,_,u,S){if(S<1)g.scale.apk(l,o,D,H,_,u,Math.round(1/S));
else g.scale.aum(l,o,D,H,_,u,S)};g.scale.gp=function(l,o,D,H,_,u,S,h){if(h)h=h.$o(new gt(0,0,o,D));l=new Uint32Array(l.buffer);
H=new Uint32Array(H.buffer);if(S<1)g.scale.aep(l,o,D,H,_,u,Math.round(1/S),h);else g.scale.a8K(l,o,D,H,_,u,S)};
g.scale.aum=function(l,o,D,H,_,u,S){for(var h=0;h<D;h++)for(var F=0;F<o;F++){var n=l[h*o+F],R=Math.min(S,_-F*S),s=Math.min(S,u-h*S);
for(var v=0;v<s;v++)for(var Z=0;Z<R;Z++)H[(S*h+v)*_+S*F+Z]=n}};g.scale.apk=function(l,o,D,H,_,u,S){for(var h=0;
h<u;h++)for(var F=0;F<_;F++){var n=0,R=Math.min(S,o-F*S),s=Math.min(S,D-h*S);for(var v=0;v<s;v++)for(var Z=0;
Z<R;Z++)n+=l[(S*h+v)*o+(S*F+Z)];H[h*_+F]=Math.round(n/(R*s))}};g.scale.a8K=function(l,o,D,H,_,u,S){for(var h=0;
h<D;h++)for(var F=0;F<o;F++){var n=l[h*o+F],R=Math.min(S,_-F*S),s=Math.min(S,u-h*S);for(var v=0;v<s;
v++)for(var Z=0;Z<R;Z++)H[(S*h+v)*_+S*F+Z]=n}};g.scale.ap9=function(l,o,D){return(l>>>D&255)+(o>>>D&255)>>>1};
g.scale.wA=function(l,o){var D=g.scale.ap9;return D(l,o,24)<<24|D(l,o,16)<<16|D(l,o,8)<<8|D(l,o,0)};
g.scale.ayG=function(l,o,D,H,_,u){var S=new Uint32Array(l.buffer),h=new Uint32Array(H.buffer);for(var F=0;
F<D;F++){for(var n=0;n<o;n++){var R=F*o+n,s=S[R],Z=s,O=s,w=s;if(n<o-1)Z=g.scale.wA(s,S[R+1]);if(F<D-1)O=g.scale.wA(s,S[R+o]);
if(n<o-1&&F<D-1)w=g.scale.wA(s,S[R+o+1]);var m=(F*_+n)*2;h[m]=s;h[m+1]=Z;h[m+_]=O;h[m+_+1]=w}}if((_&1)==1)for(var F=0;
F<u;F++)h[F*_+_-1]=h[F*_+_-2];var V=_*(u-1);if((u&1)==1)for(var n=0;n<_;n++)h[V+n]=h[V-_+n]};g.scale.aep=function(l,o,D,H,_,u,S,h){var F=0,n=_,R=0,s=u;
if(h){F=Math.floor(h.x/S);n=Math.ceil((h.x+h.Q)/S);R=Math.floor(h.y/S);s=Math.ceil((h.y+h._)/S)}for(var Z=R;
Z<s;Z++)for(var O=F;O<n;O++){var w=0,m=0,V=0,q=0,i=Math.min(S,o-O*S),c=Math.min(S,D-Z*S);for(var v=0;
v<c;v++)for(var z=0;z<i;z++){var B=l[(S*Z+v)*o+S*O+z],t=B>>>24;w+=t;m+=t*(B>>>16&255);V+=t*(B>>>8&255);
q+=t*(B&255)}if(w!=0){var a=1/w;H[Z*_+O]=w/(i*c)<<24|m*a<<16|V*a<<8|q*a}else H[Z*_+O]=0}};g.f=function(){function l(h,F,v){return(128&h[v-F-1]&h[v-F]&h[v-2]&h[v-1]&h[v+1]&h[v+F-1]&h[v+F])==0}function o(h,F,v){return(128&h[v-F-F]&h[v-F+1]&h[v+2]&h[v+F+1]&h[v+F+F])==0}function D(h,F,v){return(h[v-F]&h[v-1]&h[v+1]&h[v+F]&128)==0}function H(h,v){return(h[v]&128)!=0}function _(h,F,n,R){var v=0,s=n.Q,Z=n._;
if(R)for(var O=0;O<Z;O++)for(var w=0;w<s;w++){if(H(h,v)&&(w<2||O<2||w>s-3||O>Z-3||((h[v-1]&128)==0||F[v-1]!=0)&&l(h,s,v)||o(h,s,v)))F[v]=255;
v++}else for(var O=0;O<Z;O++)for(var w=0;w<s;w++){if(H(h,v)&&(w==0||O==0||w==s-1||O==Z-1||D(h,s,v)))F[v]=255;
v++}}function u(h,F,n,R,s){var Z=n.Q,O=n._,w=new Uint8Array(F.buffer),m=new Uint32Array(F.buffer);if(s)for(var V=2;
V<O-2;V++)for(var q=2;q<Z-2;q++){var v=V*Z+q;if(H(h,v)&&(((h[v-1]&128)==0||m[v-1]!=0)&&l(h,Z,v)||o(h,Z,v)))m[v]=R[(q+V&4)>>>2]}else for(var V=1;
V<O-1;V++)for(var q=1;q<Z-1;q++){var v=V*Z+q;if(H(h,v)&&D(h,Z,v)){m[v]=R[(q+V&4)>>>2]}}}function S(h,F,n,R,s){var Z=n.Q,O=n._,w=new Uint8Array(F.buffer),m=new Uint32Array(F.buffer),v=0;
if(R==1)for(var V=0;V<O;V++)for(var q=0;q<Z;q++,v++){var i=h[v];m[v]=255-i>>>1<<24|255}else for(var V=0;
V<O;V++)for(var q=0;q<Z;q++,v++){var i=h[v];m[v]=255<<24|(i<<16|i<<8|i)}}return{aeZ:_,aw0:u,a6j:S}}();
g.Tc={};g.Tc.tL=function(l,o,D){var H,_;if(D==0){H=l.rect.clone();_=g.Tc.aA9}if(D==1){H=l.rect.tB(o.rect);
_=g.Tc.tB}if(D==2){H=o.rect.clone();_=g.Tc.av2}if(D==3){H=l.rect.$o(o.rect);_=g.Tc.$o}if(D==4){H=l.rect.tB(o.rect);
_=g.Tc.aAY}if(H.lh())return null;var u=g.o(H.c());g.mB(o.channel,o.rect,u,H);var S=g.o(H.c());g.mB(l.channel,l.rect,S,H);
_(S,u,u);var h=g.uA(u,H);if(h.lh())return null;if(!h.kn(H)){var F=g.o(h.c());g.mB(u,H,F,h);u=F;H=h}return{channel:u,rect:H}};
g.Tc.aA9=function(l,o,D){for(var v=0;v<l.length;v++)D[v]=l[v]};g.Tc.tB=function(l,o,D){for(var v=0;v<l.length;
v++)D[v]=Math.min(l[v]+o[v],255)};g.Tc.av2=function(l,o,D){for(var v=0;v<l.length;v++)D[v]=Math.max(o[v]-l[v],0)};
g.Tc.$o=function(l,o,D){var H=1/255;for(var v=0;v<l.length;v++)D[v]=l[v]*o[v]*H};g.Tc.aAY=function(l,o,D){var H=1/255;
for(var v=0;v<l.length;v++)D[v]=Math.min(l[v]+o[v],255)-l[v]*o[v]*H};g.Li=function(l,o){this.L=[];this.T4=[0];
this.TD=[];this.rh=[];this.L6=[0];this.oV=[];this.wm=[];this.rows=l;this.cols=o};g.Li.prototype.clone=function(){var l=this,o=l.rows,D=l.cols,H=new g.Li(o,D);
H.L=l.L.slice(0);H.T4=l.T4.slice(0);H.TD=l.TD.slice(0);H.rh=l.rh.slice(0);H.L6=l.L6.slice(0);H.oV=l.oV.slice(0);
H.wm=l.wm.slice(0);return H};g.Li.prototype.fy=function(l,o,D){var H=this.T4.length-1;for(var v=0;v<D;
v++){var _=l[v],u=o[v];this.L.push(_);this.TD.push(u);if(u==H){this.wm.push(_==0?0:1/_)}else{this.rh.push(_);
this.oV.push(u)}}this.T4.push(this.L.length);this.L6.push(this.rh.length)};g.Li.prototype.Xk=function(l,o){var D=this,H=D.rows,_=D.L,u=D.TD;
if(o==null)o=new Array(H);for(var v=0;v<H;v++){var S=D.T4[v],h=D.T4[v+1],F=0;while((h-S&3)!=0){F+=_[S]*l[u[S]];
S++}for(var n=S;n<h;n+=4)F+=_[n]*l[u[n]]+_[n+1]*l[u[n+1]]+_[n+2]*l[u[n+2]]+_[n+3]*l[u[n+3]];o[v]=F}return o};
g.Li.prototype.multiply=function(l){return this.r4(l.ji())};g.Li.prototype.r4=function(l){var o=this,D=o.rows,H=o.cols,_=l.rows,u=new g.Li(D,_),S=o.TD,h=l.TD;
for(var v=0;v<D;v++){var F=[],n=[],R=o.T4[v],s=o.T4[v+1];for(var Z=0;Z<_;Z++){var O=l.T4[Z],w=l.T4[Z+1],m=0,V=R,q=O;
while(V<s&&q<w){var i=Math.max(S[V],h[q]);while(V<s&&S[V]<i)V++;while(q<w&&h[q]<i)q++;if(V<s&&q<w&&S[V]==h[q])m+=o.L[V++]*l.L[q++]}if(m!=0){F.push(m);
n.push(Z)}}u.fy(F,n,F.length)}return u};g.Li.prototype.ji=function(){var l=this.rows,o=this.cols,D=[];
for(var v=0;v<o;v++)D.push([[],[]]);var H=this.L,_=this.T4,u=this.TD;for(var v=0;v<l;v++){var S=_[v],h=_[v+1];
for(var F=S;F<h;F++){var n=D[u[F]];n[0].push(H[F]);n[1].push(v)}}var R=new g.Li(o,l);for(var v=0;v<o;
v++)R.fy(D[v][0],D[v][1],D[v][1].length);return R};g.Li.prototype.QV=function(){var l=this.rows,o=this.cols,D=new Array(l),H=this.L,_=this.T4,u=this.TD;
for(var v=0;v<l;v++){var S=D[v]=new Array(o);for(var h=0;h<o;h++)S[h]=0;var F=_[v],n=_[v+1];for(var R=F;
R<n;R++)S[u[R]]=H[R]}return D};g.Li.prototype.IY=function(l,o,D,H,_){function u(a,o,I,N){var J=a.length;
for(var v=0;v<J;v++)N[v]=a[v]-o[v]*I}function S(a,o,I,N){var J=a.length,Q=0;while((J-Q&3)!=0){N[Q]=a[Q]+o[Q]*I;
Q++}for(var v=Q;v<J;v+=4){N[v]=a[v]+o[v]*I;N[v+1]=a[v+1]+o[v+1]*I;N[v+2]=a[v+2]+o[v+2]*I;N[v+3]=a[v+3]+o[v+3]*I}}function h(a,o,I){var N=a.length;
for(var v=0;v<N;v++)I[v]=a[v]*o[v]}function F(a,o){var I=a.length,N=0,J=0;while((I-N&3)!=0){J+=a[N]*o[N];
N++}for(var v=N;v<I;v+=4)J+=a[v]*o[v]+a[v+1]*o[v+1]+a[v+2]*o[v+2]+a[v+3]*o[v+3];return J}var n=H!=null?2:1,R=Date.now(),s=0,Z=this,O=l.slice(0),w=l.slice(0);
Z.Xk(l,w);u(o,w,1,O);var m=this.wm;if(n==0){m=O.slice(0);m.fill(1)}var V=O.slice(0);h(m,O,V);var q=V.slice(0),i=F(O,V);
while(!0){Z.Xk(q,w);var c=i/F(q,w);S(l,q,c,l);u(O,w,c,O);if((s&7)==0&&Math.sqrt(F(O,O))<D)break;if(n<=1)h(m,O,V);
else{var z=O.slice(0);H.atZ(z,O);_.aaK(V,z)}var B=F(O,V),t=B/i;S(V,q,t,q);i=B;s++}};g.Li.prototype.aA7=function(l,o,D,H){var _=Date.now(),u=1.96,h=0;
if(D==null)D=5e-6;if(H==null)H=1e9;var S=1-u,kC=this.rows,F=this.rh,n=this.L6,R=this.oV,s=this.wm;while(!0){var Z=0;
for(var v=0;v<kC;v++){var O=o[v],w=n[v],m=n[v+1];if(m-w==4)O-=F[w]*l[R[w]]+F[w+1]*l[R[w+1]]+F[w+2]*l[R[w+2]]+F[w+3]*l[R[w+3]];
else for(var V=w;V<m;V++)O-=F[V]*l[R[V]];var q=l[v]*S+s[v]*O*u,i=q-l[v];Z+=i*i;l[v]=q}if(Z/kC<D||Date.now()>_+H)break}};
g.Li.prototype.afI=function(l,o,D,H){var _=Date.now(),u=1.96,h=0;if(D==null)D=5e-5;if(H==null)H=1e9;
var S=1-u,kC=this.rows,F=this.rh,n=this.L6,R=this.oV,s=this.wm;while(!0){var Z=0;for(var v=0;v<kC;v++){var O=v*3,w=o[O],m=o[O+1],V=o[O+2],q=n[v],i=n[v+1];
for(var c=q;c<i;c++){var z=F[c],B=R[c]*3;w-=z*l[B+0];m-=z*l[B+1];V-=z*l[B+2]}var t=s[v]*u,a=l[O+0]*S+w*t,I=l[O+1]*S+m*t,N=l[O+2]*S+V*t,J=a-l[O+0],Q=I-l[O+1],A=N-l[O+2];
Z+=.4*J*J+.5*Q*Q+.1*A*A;l[O+0]=a;l[O+1]=I;l[O+2]=N}if(Z/kC<D||Date.now()>_+H)break}};g.SA={};g.SA.ll=function(l,o,D){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:l},Vrtc:{t:"doub",v:o},Cnty:{t:"bool",v:D}}}};
g.SA.h=function(l,o){for(var v=0;v<l.length;v++){var D=l[v].v,H=o.wq(new he(D.Hrzn.v,D.Vrtc.v));D.Hrzn.v=Math.round(H.x);
D.Vrtc.v=Math.round(H.y)}};g.SA.awj=function(l,o,D){var kC=l.length-1,H=g.YF.Vm(kC+1,kC+2);for(var v=1;
v<kC;v++){H[v][v-1]=1/(l[v]-l[v-1]);H[v][v]=2*(1/(l[v]-l[v-1])+1/(l[v+1]-l[v]));H[v][v+1]=1/(l[v+1]-l[v]);
H[v][kC+1]=3*((o[v]-o[v-1])/((l[v]-l[v-1])*(l[v]-l[v-1]))+(o[v+1]-o[v])/((l[v+1]-l[v])*(l[v+1]-l[v])))}H[0][0]=2/(l[1]-l[0]);
H[0][1]=1/(l[1]-l[0]);H[0][kC+1]=3*(o[1]-o[0])/((l[1]-l[0])*(l[1]-l[0]));H[kC][kC-1]=1/(l[kC]-l[kC-1]);
H[kC][kC]=2/(l[kC]-l[kC-1]);H[kC][kC+1]=3*(o[kC]-o[kC-1])/((l[kC]-l[kC-1])*(l[kC]-l[kC-1]));g.YF.wr(H,D)};
g.SA.ad3=function(l,o,D,H){if(l<=o[0])return D[0];if(l>=o[o.length-1])return D[o.length-1];var v=1;while(o[v]<l)v++;
var _=o[v],u=o[v-1],S=D[v],h=D[v-1],F=(l-u)/(_-u),n=H[v-1]*(_-u)-(S-h),R=-H[v]*(_-u)+(S-h),s=(1-F)*h+F*S+F*(1-F)*(n*(1-F)+R*F);
return s};g.SA.a9v=function(l,o,D,H){var _={Vf:[l[0]],$e:[o[0]],UN:[]};H[0]=_;for(var v=1;v<l.length-1;
v++){_.Vf.push(l[v]);_.$e.push(o[v]);if(D[v]==!1){g.SA.awj(_.Vf,_.$e,_.UN);_={Vf:[l[v]],$e:[o[v]],UN:[]}}H[v]=_}_.Vf.push(l[v]);
_.$e.push(o[v]);g.SA.awj(_.Vf,_.$e,_.UN);H[v]=_};g.SA.azg=function(l,o,D,H){if(l<=o[0])return D[0];if(l>=o[o.length-1])return D[o.length-1];
var v=1;while(o[v]<l)v++;var _=H[v-1];return g.SA.ad3(l,_.Vf,_.$e,_.UN)};g.SA.atY=function(l){var o={Vf:[],$e:[],JW:[]};
for(var v=0;v<l.length;v++){o.Vf[v]=l[v].v.Hrzn.v;o.$e[v]=l[v].v.Vrtc.v;o.JW[v]=l[v].v.Cnty?l[v].v.Cnty.v:!0}return o};
g.SA.KH=function(l,kC,o){var D=0,H=255;if(o){D=-1e9;H=1e9}var _=g.SA.atY(l),u=[];g.SA.a9v(_.Vf,_.$e,_.JW,u);
var S=[];for(var v=0;v<kC;v++)S[v]=1/255*Math.max(D,Math.min(H,g.SA.azg(v*(255/(kC-1)),_.Vf,_.$e,u)));
return S};g.SA.aln=function(l,kC,o){var D=Math.round(l.length/20),H=kC-l.length,_=o?(l[D]-l[0])/D:0,u=o?l[0]-H*_:l[l.length-1],S=[];
for(var v=0;v<H;v++)S.push(u+v*_);return o?S.concat(l):l.concat(S)};g.SA.d0=function(l,kC,o){var D=g.SA.atY(l),H=[];
g.SA.a9v(D.Vf,D.$e,D.JW,H);var _=new Uint8Array(kC),u=kC/256;for(var v=0;v<kC;v++)_[v]=Math.max(0,Math.min(kC-1,g.SA.azg(v*u,D.Vf,D.$e,H)));
if(o){_[0]=0;if(_[1]>100)_[1]=.4*_[1];if(_[2]>150)_[1]=.7*_[2]}return _};g.SA.avs=function(l,o){var D=new Uint8Array(l.length);
for(var v=0;v<l.length;v++)D[v]=o[l[v]];return D};g.SA.cK=function(l,o,D){var H=document.createElement("canvas");
H.width=o;H.height=D;var _=H.getContext("2d"),u=g.SA.d0(l,256);_.scale(o/255,D/255);_.fillStyle="#fff";
_.fillRect(0,0,255,255);_.fillStyle="#333";_.beginPath();_.moveTo(0,255);for(var v=0;v<u.length;v++)_.lineTo(v,255-u[v]);
_.lineTo(255,255);_.closePath();_.fill();return H.toDataURL()};g.style={};g.style.stroke=function(l,o,D,H){var _=D.Q,u=D._,S=g.style.QK(l,_,u);
g.style.LB(o,D,S,D,H)};g.style.LB=function(l,o,D,H,_){var u=o.$o(H),S=u.Q,h=u._;_+=.5;var F=u.x-o.x,n=u.y-o.y,R=o.Q,s=u.x-H.x,Z=u.y-H.y,O=H.Q;
for(var w=0;w<h;w++){var m=(w+Z)*O+s,V=(w+n)*R+F;for(var q=0;q<S;q++){var i=Math.max(0,Math.min(1,_-D[m+q]));
l[V+q]=Math.round(i*255)}}};g.style.a6N=function(l,o,D,H){for(var _=0;_<D;_++)for(var u=0;u<o;u++){var S=_*o+u,h=0,F=0,n=l[S];
if(u==0||_==0){h=l[S+1]-n;F=l[S+o]-n}else if(u==D-1||_==o-1){h=n-l[S-1];F=n-l[S-o]}else{h=l[S+1]-l[S-1];
F=l[S+o]-l[S-o]}if(h!=0||F!=0){var R=1/Math.sqrt(h*h+F*F);h*=R;F*=R}H[S+S]=h;H[S+S+1]=F}};g.style.QK=function(l,o,D){var H=o*D,_=new ArrayBuffer((H+o*4)*4),u=new Float32Array(_,0,H),S=new Uint16Array(_,0,H<<1),h=new Int32Array(_,H*4,o),F=new Int32Array(_,(H+o)*4,o),n=new Int32Array(_,(H+o*2)*4,o),R=new Int32Array(_,(H+o*3)*4,o),s=1/255;
for(let v=0;v<o;++v){let Z=-D-o,O=0,w=v,m=0;for(;m<D;++m,w+=o){if(l[w]>128)Z=m,O=l[w];S[w<<1]=m-Z;S[(w<<1)+1]=O}Z=S[w+=w-o-o],O=S[w+1];
for(;m>1;--m){if(S[w-=o+o]>Z)S[w]=++Z,S[w+1]=O;else Z=S[w],O=S[w+1]}}for(let V=0;V<H;V+=o){var q=V+o,i=S[V<<1]*S[V<<1],c=0;
let z=h[0]=V,B=F[0]=V,t=i,a=t;for(let w=V+1;w<q;++w){var I=S[w<<1]*S[w<<1];while(c&&a>(B-w)*(B-w)+I){B=F[--c],z=h[c],t=S[z<<1]*S[z<<1],a=(B-z)*(B-z)+t}if(c||a<=(B-w)*(B-w)+I){var N=w-z,J=V+Math.floor((N*(w+z-V-V)+I-t)/(N<<1))+1;
if(J<q){B=F[++c]=J,z=h[c]=w,t=I,a=(B-z)*(B-z)+t}}else B=V,z=h[0]=w,t=I,a=(B-z)*(B-z)+t}for(let v=0;v<c;
++v){var Q=h[v]<<1;n[v]=S[Q]*S[Q];R[v]=S[Q+1]}let A=.5-S[(h[c]<<1)+1]*s;for(let w=q-1;w>=V;--w){u[w]=Math.max(0,Math.sqrt((w-z)*(w-z)+t)+A);
if(c&&w==B){B=F[--c],z=h[c],t=n[c],A=.5-R[c]*s}}}return u};g.style.ax1=function(l,o,D){var H=new Float64Array(o*D),_=0,u=o*D;
for(var v=0;v<u;v++)_|=l[v];if(_==0){H.fill(1e9);return}var S=g.style.Sr(l,o,D);for(var h=0;h<D;h++)for(var F=0;
F<o;F++){var v=h*o+F,n=S[v*2],R=S[v*2+1];if(n==0&&R==0){H[v]=0;continue}var s=Math.sqrt(n*n+R*R),Z=l[(h+R)*o+F+n]*(1/255);
H[v]=s+.5-Z}return H};g.style.a9d=function(l,o,D){return(.5-D)*l};g.style.Sr=function(l,o,D,H){var _=new Int16Array(o*D*2);
g.style.akd(l,_,o,D,128);return _};g.style.akd=function(l,o,D,H,_){var u=new Int32Array(D*H);g.style.a9E(l,u,D,H,_);
g.style.a06(u,o,D,H)};g.style.a9E=function(l,o,D,H,_){var u=new Int32Array(H);for(var S=0;S<D;S++){var h=D+H;
for(var F=H-1;F>=0;F--){if(l[F*D+S]>_)h=0;else h++;u[F]=h}h=D+H;for(var F=0;F<H;F++){if(l[F*D+S]>_)h=0;
else h++;o[F*D+S]=h<u[F]?-h:u[F]}}};g.style.a06=function(l,o,D,H){var _=(D+H)*(D+H),u=new Float64Array(D),S=new Uint16Array(D);
for(var h=0;h<H;h++){var F=h*D,n=0;S[0]=0;u[0]=-_;u[1]=+_;for(var R=1;R<D;R++){var s=l[R+F]*l[R+F]+R*R,Z=(s-(l[S[n]+F]*l[S[n]+F]+S[n]*S[n]))/(2*R-2*S[n]);
while(Z<=u[n]){n--;Z=(s-(l[S[n]+F]*l[S[n]+F]+S[n]*S[n]))/(2*R-2*S[n])}n++;S[n]=R;u[n]=Z;u[n+1]=_}n=0;
for(var R=0;R<D;R++){while(u[n+1]<R)n++;var O=S[n]-R,w=l[S[n]+F],v=h*D+R<<1;o[v]=O;o[v+1]=w}}};g.style.f$=function(l,o,D){if(D)for(var v=0;
v<l.length;v++){var H=l[v];if(H>0)l[v]=Math.max(0,Math.min(255,H+o*2*(g.style._5(v)-128)))}else for(var v=0;
v<l.length;v++){var H=l[v];if(H>0)l[v]=Math.max(0,Math.min(255,H+Math.min(H*3,o*2*(g.style._5(v)-128))))}};
g.style._5=function(l){l=l^61^l>>16;l=l+(l<<3);l=l^l>>4;l=l*668265261;l=l^l>>15;return l&255};g._9={};
g._9.NG=function(l,o,D){var H=l.canvas;if(H.width!=o||H.height!=D){H.width=o;H.height=D}};g._9.Jd=function(l,o,D,H,_,u){g._9.NG(l,o,D);
if(u==null)u=!1;var S=_.channel,h=_.rect,F=!_.isEnabled;if(o*D==0)return;var n=l.createImageData(o,D),R=n.data,s=1/o,Z=1/D;
for(var v=0;v<D;v++)for(var O=0;O<o;O++){var w=v*o+O,m=w*4,V=Math.round(H.x+O*s*H.Q),q=Math.round(H.y+v*Z*H._),i=0;
if(V<h.x||V>=h.x+h.Q||q<h.y||q>=h.y+h._)i=_.color;else i=S[(q-h.y)*h.Q+(V-h.x)];i=255*(255-_.dJ)+i*_.dJ>>>8;
if(u)i=170+Math.round(.4*(i-170));R[m]=i;R[m+1]=i;R[m+2]=i;R[m+3]=255}l.putImageData(n,0,0);if(F)g._9.ayT(l,o,D)};
g._9.aDZ=[];g._9.agJ=function(l,o,D,H){var _,u,S;_=Math.ceil(Math.max(o,D)*.35);u=o-_;S=D-_;var h=g._9.aDZ[_];
if(h==null){var F=g.WG(_,_);F.fillStyle="#eeeeee";F.fillRect(0,0,_,_);var n=Math.round(_*.27),R=F.lineWidth=Math.max(1,Math.round(_*.12)),s=R/2;
F.strokeRect(1+s,1+s,_-R-2,_-R-2);F.strokeRect(n+s,n+s,_-n-n-R,_-n-n-R);h=g._9.aDZ[_]=F.getImageData(0,0,_,_)}l.putImageData(h,u,S)};
g._9.asx=[];g._9.aCx=function(l,o,D){var H,_,u;H=Math.ceil(Math.max(o,D)*.35);_=o-H;u=D-H;var S=g._9.asx[H];
if(S==null){var h=g.WG(H,H);h.fillStyle="#eeeeee";h.fillRect(0,0,H,H);h.lineWidth=1;h.strokeRect(2.5,2.5,H-5,H-5);
var F=h.createImageData(3,3);g.M5(F.data,4278190080);F.data[4*4]=F.data[4*4+1]=F.data[4*4+2]=238;h.putImageData(F,1,1);
h.putImageData(F,H-4,1);h.putImageData(F,1,H-4);h.putImageData(F,H-4,H-4);S=g._9.asx[H]=h.getImageData(0,0,H,H)}l.putImageData(S,_,u)};
g._9.aAD=function(l,o,D,H,_){g._9.NG(l,o,D);var u=o/H.Q;if(o*D==0)return;l.fillStyle="#999999";l.setTransform(1,0,0,1,0,0);
l.clearRect(0,0,o,D);var S=g._9.a5c;if(S==null)S=g._9.a5c=cq.K$.ts(!0,!0);S.strokeStyleLineWidth.v.val=1/u;
l.fillStyle="#ffffff";l.scale(u,u);g.n.zn(_.d,l,0,0);g.n.zn(_.d,l,0,0,S)};g._9.aqS=function(l,o,D,H,_){g._9.NG(l,o,D);
if(o*D==0)return;l.setTransform(1,0,0,1,0,0);l.fillStyle="white";l.fillRect(0,0,o,D);var u=_.U,S;if(u.add.SoLd)S=p.cA.TX(u.add.SoLd.nonAffineTransform);
else if(u.add.vmsk)S=u.add.vmsk.hI();else if(u.add.TySh){if(u.rD.L2==null)return;S=g.X.YZ(u.rD.L2).s;
g.X.h(S,u.add.TySh.h,S)}var h=g.X.dm(S),F=Math.min(o/h.Q,D/h._),n=h.Q*F,R=h._*F;l.translate(-h.x*F+(o-n)*.5,-h.y*F+(D-R)*.5);
l.scale(F,F);_.Wh(H,l,null,null)};g._9.a5f=null;g._9.dF=function(l,o,D,H,_,u,S,h,F){g._9.NG(l,o,D);if(o*D==0)return;
var n=Math.max(o,D),R=g._9.a5f;if(R==null||R.width<n||R.height<n){g._9.a5f=R=l.createImageData(n,n)}n=R.width;
var s=R.data,Z=H.Q/o,O=H._/D,w=u.x,m=u.x+u.Q,V=u.y,q=u.y+u._;for(var v=0;v<D;v++)for(var i=0;i<o;i++){var c=v*n+i,z=c*4,B=~~(H.x+i*Z),t=~~(H.y+v*O),a=g.a18(v,i,2);
if(B<w||B>=m||t<V||t>=q||F){s[z]=a;s[z+1]=a;s[z+2]=a;s[z+3]=255}else{var I=(t-u.y)*u.Q+(B-u.x)<<2,N=_[I+3]*(1/255);
s[z]=_[I+0]*N+a*(1-N);s[z+1]=_[I+1]*N+a*(1-N);s[z+2]=_[I+2]*N+a*(1-N);s[z+3]=255}}if(h!=null)for(var v=0;
v<s.length;v+=4)s[v]=s[v+1]=s[v+2]=s[v+h];l.putImageData(R,0,0);if(S)g._9.ayT(l,o,D)};g._9.a50=function(l,o,D,H){g._9.NG(l,o,D);
l.fillStyle=g._9.s3(H.Clr.v);l.fillRect(0,0,o,D);g._9.ii(l,o,D)};g._9.a4C=null;g._9.apb=function(l,o,D,H){g._9.NG(l,o,D);
var _=l.canvas.width,u=l.canvas.height,S=g._9.a4C;if(S==null||S.width!=_||S.height!=u){l.fillStyle="#ffffff";
l.fillRect(0,0,o,D);l.fillStyle="#000000";l.font=""+D*.7+"px serif";l.fillText("T",(o-D*.43)/2,D*.75);
l.fillText("T",(o-D*.43)/2,D*.75);g._9.a4C=l.getImageData(0,0,_,u)}else l.putImageData(S,0,0)};g._9.ae1=function(l,o,D){g._9.NG(l,o,D);
l.clearRect(0,0,o,D);l.font=D*.7+"px serif";l.fillText(":(",(o-D*.43)/2,D*.7)};g._9.avN=function(l,o,D,H){g._9.NG(l,o,D);
var _=jW.get(H),u=l.canvas.width,S=g._9.akz[u+_];if(S==null){var h=PIMG["adj/"+_],F=fj.co(h),n=UPNG.decode(F.buffer),R=new Uint8Array(UPNG.toRGBA8(n)[0]),s=new gt(0,0,160,160),Z=0,O=u-Z*2,w=p.cA.in([R,s],new de(O/160,0,0,O/160,0,0)),m=new gt(0,0,u,u),V=g.o(m.c()*4);
g.z.JM("norm",w.buffer,w.rect,V,m,w.rect,1);S=g._9.akz[u+_]=new ImageData(new Uint8ClampedArray(V.buffer),u,u)}l.putImageData(S,0,0)};
g._9.akz={};g._9.a0y=function(l,o,D,H){g._9.NG(l,o,D);var _=l.canvas.width,u=l.canvas.height,S=l.getImageData(0,0,_,u);
g.G.Wl(H.Grad.v,new Uint8Array(S.data.buffer),new gt(0,0,_,u),[1/_,0,0,1/u],_/2,u/2,!1,0,16711680,65280);
l.putImageData(S,0,0);g._9.ii(l,o,D)};g._9.ars=function(l,o,D,H,_){g._9.NG(l,o,D);var u=l,S=cN.Sf(H.Ptrn.v,_.add.Patt);
if(S==null)return;var h=S.dT[1];g._9.dF(l,o,D,h,S.dT[0],h,!1);g._9.ii(u,o,D)};g._9.ayT=function(l,o,D){l.strokeStyle="#bb0000";
l.lineWidth=3;l.beginPath();l.moveTo(o*.15,D*.15);l.lineTo(o*.85,D*.85);l.moveTo(o*.85,D*.15);l.lineTo(o*.15,D*.85);
l.closePath();l.stroke()};g._9.ii=function(l,o,D){l.fillStyle="#eeeeee";l.fillRect(0,D*.75,o,D*.25);
l.beginPath();l.moveTo(0,D*.75);l.lineTo(o,D*.75);l.moveTo(o*.1,D*.875);l.lineTo(o*.9,D*.875);l.moveTo(o*.65,D*.825);
l.lineTo(o*.65,D*.95);l.closePath();l.stroke()};g._9.s3=function(l){var o=g.G.s3(l),D=Math.round(o.$)<<16|Math.round(o.H)<<8|Math.round(o.J);
return"#"+g.Bi(D)};g.n={};g.n.GL=function(l,o,D){var H=[],_=-1;for(var v=0;v<l.length;v++){var u=l[v];
if((u.type==0||u.type==3)&&u.HN!=-1)_++;if(u.type>5||u.type==0||u.type==3)continue;if(o!=null&&o.indexOf(_)==-1)continue;
if(D!=null&&D.indexOf(v)==-1)continue;H.push(u.e6.x);H.push(u.e6.y);H.push(u.u.x);H.push(u.u.y);H.push(u.BN.x);
H.push(u.BN.y)}return H};g.n.dS=function(l,o,D,H){var _=0,u=-1;for(var v=0;v<o.length;v++){var S=o[v];
if((S.type==0||S.type==3)&&S.HN!=-1)u++;if(S.type>5||S.type==0||S.type==3)continue;if(D!=null&&D.indexOf(u)==-1)continue;
if(H!=null&&H.indexOf(v)==-1)continue;S.e6.pN(l[_],l[_+1]);S.u.pN(l[_+2],l[_+3]);S.BN.pN(l[_+4],l[_+5]);
_+=6}};g.n.Am=function(l,o,D,H){var _=g.n.GL(l,D,H);g.X.h(_,o,_);g.n.dS(_,l,D,H)};g.n.ahN=function(l,o,D,H){var _=g.n.GL(l,D,H);
g.t.h(o,_);g.n.dS(_,l,D,H)};g.n.atT=function(l,o,D,H){if(H==null){var _=g.n.ayd(l,40,D);for(var v=0;
v<_.length;v++)l[v]=_[v]}var u=g.n.GL(l,D,H);g.cC.h(o,u,g.X.dm(u));g.n.dS(u,l,D,H)};g.n.ayd=function(l,o,D){var H=[],_=-1;
for(var v=0;v<l.length;v++){var u=l[v],S=u.length;if(u.type>5){H.push(JSON.parse(JSON.stringify(u)));
continue}u=JSON.parse(JSON.stringify(u));H.push(u);if(u.HN!=-1)_++;if(D&&D.indexOf(_)==-1){H=H.concat(l.slice(v+1,v+1+S))}else{var h=g.n.ax2(l,v+1,S);
h=g.X.Cg(h,o);var F=g.n.a6s(h);u.length=F.length;for(var n=0;n<F.length;n++)H.push(F[n])}v+=S}return H};
g.n.ax2=function(l,o,D){var H={v:["M"],s:[]},_=l[o],u=l[o+D-1];H.s.push(_.u.x,_.u.y);for(var v=1;v<D;
v++){var S=l[o+v-1],h=l[o+v];H.v.push("C");H.s.push(S.BN.x,S.BN.y,h.e6.x,h.e6.y,h.u.x,h.u.y)}H.v.push("C");
H.s.push(u.BN.x,u.BN.y,_.e6.x,_.e6.y,_.u.x,_.u.y);return H};g.n.a6s=function(l){var o=[],D=l.v,H=l.s,_=0,kC=H.length;
o.push({type:2,e6:new he(H[kC-4],H[kC-3]),u:new he(H[0],H[1]),BN:new he(H[2],H[3])});for(var v=0;v<D.length-2;
v++){var u=v*6+4;o.push({type:2,e6:new he(H[u],H[u+1]),u:new he(H[u+2],H[u+3]),BN:new he(H[u+4],H[u+5])})}return o};
g.n.aEF=function(l){for(var v=0;v<l.length;v++){if(l[v].type>5)continue;var o=l[v].length;if(!(o==4||o==6||o==8)){v+=o;
continue}for(var D=0;D<o;D++){var H=l[v+1+D],_=l[v+1+(D+1)%o],u=Math.min(H.u.x,_.u.x),S=Math.min(H.u.y,_.u.y),h=0,F=0;
if(H.u.x<_.u.x){h=H.u.y-S;F=h-(_.u.x-u)}else{h=_.u.y-S;F=h-(H.u.x-u)}if(Math.abs(F)<.2*h)return h}}return-1};
g.n.kU=function(l,o,D){function H(Z,O){var w=Math.min(Z.x,O.x),m=Math.min(Z.y,O.y),V=Math.max(Z.x+Z.Q,O.x+O.Q),q=Math.max(Z.y+Z._,O.y+O._);
return new gt(w,m,V-w,q-m)}var _=null,u=-1,S=!g.n.pG(l);for(var v=0;v<l.length;v++){var h=l[v];if(h.type>5)continue;
if((h.type==0||h.type==3)&&h.HN!=-1)u++;if(o!=null&&o.indexOf(u)==-1)continue;if(v==l.length-1)break;
var F=h.type==3,n=h.length,R=h.HN,s=g.n._U(l,v+1,n,F);if(_==null)_=s;else if(D)_=H(_,s);else if(S){if(o!=null||R==0||R==-1||R==2)_=H(_,s);
else if(R==1)_=_;else if(R==3){_=s;S=!1}}else{if(o!=null||R==0||R==-1||R==1)_=H(_,s);else if(R==2)_=_;
else if(R==3)_=_.$o(s)}v+=n}if(_==null||_.Q<0||_._<0)_=new gt(0,0,0,0);return _};g.n.am$=new Float64Array(4);
g.n._U=function(l,v,o,D){var H=g.n.am$;H[0]=1e30;H[1]=1e30;H[2]=-1e30;H[3]=-1e30;var _=l[v+o-1];if(!D)g.n.axE(_.u.x,_.u.y,_.BN.x,_.BN.y,l[v].e6.x,l[v].e6.y,l[v].u.x,l[v].u.y,H);
for(var u=v;u<v+o-1;u++){var S=l[u],h=l[u+1];g.n.axE(S.u.x,S.u.y,S.BN.x,S.BN.y,h.e6.x,h.e6.y,h.u.x,h.u.y,H)}return new gt(H[0],H[1],H[2]-H[0],H[3]-H[1])};
g.n.axE=function(l,o,D,H,_,u,S,h,F){if(l==D&&o==H&&_==S&&u==h){F[0]=Math.min(F[0],Math.min(l,S));F[1]=Math.min(F[1],Math.min(o,h));
F[2]=Math.max(F[2],Math.max(l,S));F[3]=Math.max(F[3],Math.max(o,h));return}var n=l,R=o,s=l,Z=o,O=40,w=1/(O-1);
for(var m=0;m<O;m++){var V=m*w,q=1-V,i=q*q*q,c=3*q*q*V,z=3*q*V*V,B=V*V*V,t=i*l+c*D+z*_+B*S,a=i*o+c*H+z*u+B*h;
if(t<n)n=t;else if(t>s)s=t;if(a<R)R=a;else if(a>Z)Z=a}if(n<F[0])F[0]=n;if(R<F[1])F[1]=R;if(s>F[2])F[2]=s;
if(Z>F[3])F[3]=Z};g.n.ah9=function(l,o){var D=l.length-3,H=o%D,_=Math.floor(H);if(o<0||_>=D)return null;
var u=l[3+_],S=l[3+(_+1)%D],h=u.u,F=u.BN,n=S.e6,R=S.u,s=H-_,Z=1-s,O=Z*Z*Z*h.x+3*Z*Z*s*F.x+3*Z*s*s*n.x+s*s*s*R.x,w=Z*Z*Z*h.y+3*Z*Z*s*F.y+3*Z*s*s*n.y+s*s*s*R.y;
return new he(O,w)};g.n.Sh=function(l,o){var D=g.X.Jp(l),H=D.Xz;D.Xz=Typr.U.pathToSVG({crds:H.s,cmds:H.v},o==null?2:o);
return D};g.n.z3=function(l){g.n.Xo();var o,D=g.n.hd(l),H=[];for(var v=0;v<D.length;v++){var _=D[v][0],u=D[v][1];
if(Math.abs(_.area)<1e-5)H.push(_);else if(o==null)o=_;else{if(!_.closed)_.closed=!0;o=o[u](_);o.remove()}}if(o==null)o=new paper.CompoundPath(H);
else{if(o.segments)o=new paper.CompoundPath(o);for(var v=0;v<H.length;v++){o.addChild(H[v])}}var S=l.slice(0,2);
S=S.concat(g.n.pv(o));g.n.D_(D);g.n.D_([[o]]);if(S[2])S[2].HN=1;for(var v=3;v<S.length;v++)if(S[v].HN!=null)S[v].HN=-1;
return S};g.n.Xo=function(){if(g.n.aoW==null){var l=document.createElement("canvas");paper.setup(l);
g.n.aoW=!0}};g.n.alL=function(l,o){g.n.Xo();var D=[],H=g.n.hd(l),_=new paper.Path.Rectangle(new paper.Rectangle(o.x,o.y,o.Q,o._));
_.remove();_.fillColor=new paper.Color(1,0,0);for(var v=0;v<H.length;v++){if(_.intersects(H[v][0])||_.contains(H[v][0].children[0].segments[0].point))D.push(v)}g.n.D_(H);
return D};g.n.Id=function(l,o,D,H){g.n.Xo();var _=D?{curves:!0,tolerance:H}:null,u=new paper.Point(o.x,o.y),S=g.n.hd(l);
g.n.D_(S);for(var v=S.length-1;v>=0;v--){var h=S[v][0],F=h.hitTest(u,_);if(F!=null)return{wN:v,rz:D?F.location.index:null,Ug:D?F.location.time:0}}return{wN:-1}};
g.n.Nv=function(l,o,D,H){var _=[[],[],[]];for(var v=0;v<l.length;v++){var u=l[v];if(u.type>5||u.type==0||u.type==3)continue;
var S=o.j0(u.u),h=o.j0(u.e6),F=o.j0(u.BN);if(D&&D.indexOf(v)==-1){if(H){if(D.indexOf(v-1)==-1)h=!1;if(D.indexOf(v+1)==-1)F=!1}else h=F=!1}if(S)_[0].push(v);
if(h)_[1].push(v);if(F)_[2].push(v)}_[3]=_[0].length+_[1].length+_[2].length;return _};g.n.aeH=function(l,o,D){var H=l[o];
for(var _=o+1;_<D;_++)l[_-1]=l[_];l[D-1]=H};g.n.at0=function(l,o,D,H){var v,_,u,S=0;l=l.slice(0);o.sort(function(w,m){return w-m});
u=-1;for(v=2;v<l.length;){var h=l[v],F=h.length;if(h.HN!=-1)u++;var n=S;while(n<o.length&&o[n]<v+1+F)n++;
if(S!=n){var R=o.slice(S,n);S=n;for(_=0;_<F;_++)if(R.indexOf(v+1+_)!=-1)l[v+1+_]=null;if(h.type==0){var s=R[0]-(v+1);
while(s!=0){g.n.aeH(l,v+1,v+1+F);s--}}var Z=h;Z.length=0;_=0;while(_<F&&l[v+1+_]==null)_++;while(_<F){var O=l[v+1+_];
if(O!=null)Z.length++;else if(_<F+1&&l[v+1+_+1]&&H){Z=l[v+1+_]={type:0,HN:-1,length:0,Zt:0,bb:0,qC:1}}_++}if(H)for(_=-1;
_<F;_++)if(l[v+1+_]&&l[v+1+_].type<3)l[v+1+_].type+=3;g.uQ.A8(D,u)}v+=1+F}for(v=0;v<l.length;v++)if(l[v]==null){l.splice(v,1);
v--}u=0;for(v=2;v<l.length;v++){var h=l[v];if(h.length==0){if(l[v+1]&&l[v+1].HN==-1)l[v+1].HN=h.HN;else if(h.HN!=-1)D.splice(u,1);
l.splice(v,1);v--}else if(h.length!=null&&h.HN!=-1)u++}return l};g.n.aA$=function(l,o){var D=l.slice(0,2),H=-1;
for(var v=2;v<l.length;v++){if((l[v].type==0||l[v].type==3)&&l[v].HN!=-1)H++;if(o.indexOf(H)==-1)D.push(l[v])}return D};
g.n.ayi=function(l,o){var D=l.slice(0,2),H=-1;for(var v=2;v<l.length;v++){if((l[v].type==0||l[v].type==3)&&l[v].HN!=-1)H++;
if(o.indexOf(H)!=-1)D.push(l[v])}return D};g.n.ae9=function(l){var o=0;for(var v=0;v<l.length;v++)if(l[v].type==0||l[v].type==3)o=v;
return l[o]};g.n.Ly=function(l){var o=-1;for(var v=0;v<l.length;v++)if((l[v].type==0||l[v].type==3)&&l[v].HN!=-1)o++;
return o+1};g.n.An=function(l,o,D){var H=-1;for(var v=0;v<l.length;v++)if((l[v].type==0||l[v].type==3)&&(D||l[v].HN!=-1)){H++;
if(H==o)return v}return-1};g.n.si=function(l,o,D){var H=-1;for(var v=0;v<l.length;v++)if((l[v].type==0||l[v].type==3)&&(D||l[v].HN!=-1)){if(v>=o)return H;
H++}return H};g.n.oc=function(l,o){var D=-1,H=0;for(var v=0;v<l.length;v++){if((l[v].type==0||l[v].type==3)&&l[v].HN!=-1)D++;
if(D==o)H++}return H};g.n.a3u=function(l){var o=180;for(var v=0;v<l.length;v++){if(l[v].type!=0&&l[v].type!=3)continue;
var D=l[v].length;if(D<3)continue;for(var H=0;H<D;H++){var _=l[v+1+(H-1+D)%D],u=l[v+1+H],S=l[v+1+(H+1)%D],h=u.u,F=u.e6.kn(h)?_.BN:u.e6,n=u.BN.kn(h)?S.e6:u.BN;
if(h.kn(F)||h.kn(n))continue;var R=F.x-h.x,s=F.y-h.y,Z=n.x-h.x,O=n.y-h.y,F=Math.atan2(F.y-h.y,F.x-h.x)*180/Math.PI,n=Math.atan2(n.y-h.y,n.x-h.x)*180/Math.PI,w=Math.abs(n-F)%360,m=w>180?360-w:w;
if(m<o)o=m}}return o*Math.PI/180};g.n.pv=function(l){var o=l.segments?[l]:l.children,D=[];for(var v=0;
v<o.length;v++){var H=o[v],_=H.segments,u=H.closed?0:3,S=D.length,h=null;if(_.length<=1)continue;D.push({type:u,length:_.length,HN:0,qC:2});
for(var F=0;F<_.length;F++){var n=_[F],R=new he(n.handleIn.x,n.handleIn.y),s=new he(n.handleOut.x,n.handleOut.y),Z=new he(n.point.x,n.point.y),O={type:u+1,e6:Z.add(R),u:Z,BN:Z.add(s)};
if(h==null)h=O;D.push(O);if(F+1==_.length&&he.At(h.u,O.u)<1e-5){D.pop();D[S].length--;h.e6=O.e6;if(u==3)for(var w=S;
w<D.length;w++)D[w].type-=3}}}return D};g.n.hd=function(l){g.n.Xo();var o=[],D,H=new paper.Color(1,0,0);
function _(O,h){O.remove();O.closed=!h;O.fillRule="evenodd"}for(var v=0;v<l.length;v++){if(l[v].type>5)continue;
var u=l[v].length,S;if(v==l.length-1)break;var h=l[v].type==3;if(v==2){if(!g.n.fM(l))S="subtract";else S="unite"}else{if(l[v].HN==0)S="exclude";
if(l[v].HN==1)S="unite";if(l[v].HN==2)S="subtract";if(l[v].HN==3)S="intersect"}if(l[v].HN!=-1){D=new paper.CompoundPath;
o.push([D,S]);D.fillRule="evenodd";D.fillColor=H}var F=[];for(var n=0;n<u;n++){var R=l[v+1+n],s=R.e6.c_(R.u),Z=R.BN.c_(R.u);
F.push([[R.u.x,R.u.y],[s.x,s.y],[Z.x,Z.y]])}var O=new paper.Path(F);_(O,h);D.addChild(O);v+=u}return o};
g.n.D_=function(l){for(var v=0;v<l.length;v++)l[v][0].remove()};g.n.YS=function(l){for(var v=0;v<l.length;
v++){var o=l[v];if(o.u==null)continue;if(!o.u.kn(o.e6)||!o.u.kn(o.BN))return!1}return!0};g.n.a0m=function(l){if(l.length<=5)return 0;
var o=0,D=l.length-3-1;for(var v=0;v<D;v++){var H=l[3+v],_=l[3+v+1];if(H.type==0||_.type==0)return 0;
o+=(_.u.x-H.u.x)*(H.u.y+_.u.y)}o+=(l[3].u.x-l[3+D].u.x)*(l[3+D].u.y+l[3+1].u.y);return-o*.5};g.n.pG=function(l){var o=l[2],D=!1;
if(l.length==2)D=l[1].all==0;else if(l[1].all==1){if(o.HN==1||o.HN==3)D=!0;else D=!1}else{if(o.HN==1||o.HN==3||o.HN==0)D=!0;
else D=!1}return D};g.n.fM=function(l){var o=g.n.pG(l);for(var v=3;v<l.length;v++)if(l[v].HN==3)o=!0;
return o};g.n.azy=0;g.n.a4y=0;g.n.aAb=0;g.n.aAh=function(l,o,D,H){if(D.lh())return;var _=D.c(),q=16384;
g.n.azy+=_;if(_>g.n.a4y){g.n.a4y=_}var u=D.Q,S=D._;if(H==null&&g.n.YS(l)&&l[2]&&l[2].HN!=2){var h=!0;
for(var v=2;v<l.length;)if(l[v].length==2)v+=3;else{h=!1;break}if(h){return}if(g.n.OC(l)){o.fill(255);
var F=g.n.kU(l);if(F.c()!=_){var n=1-(F.x-D.x),R=1-(F.y-D.y),s=1-(D.x+D.Q-(F.x+F.Q)),Z=1-(D.y+D._-(F.y+F._)),O=~~(n*255),w=~~(s*255),m=~~(R*255),V=~~(Z*255);
o.fill(m,0,u);o[0]=~~(n*R*255);o[u-1]=~~(s*R*255);for(var v=u;v<_;v+=u){o[v]=O;o[v+u-1]=w}o.fill(V,(S-1)*u,S*u);
o[_-u]=~~(n*Z*255);o[_-1]=~~(s*Z*255)}return}}var i=Math.ceil(u/q),c=Math.ceil(S/q),z=Math.ceil(u/i),B=Math.ceil(S/c),t=Date.now();
for(var a=0;a<c;a++)for(var I=0;I<i;I++){var N=I*z,J=a*B,Q=z,A=B,f=g.WG(Q,A);if(!g.n.pG(l))f.fillRect(0,0,Q,A);
g.n.zn(l,f,-D.x-N,-D.y-J,H);var W=new Uint8Array(f.getImageData(0,0,Q,A).data.buffer);if(Q==u&&A==S)g.mA(W,o,3);
else g.ej(W,new gt(N,J,Q,A),o,new gt(0,0,u,S))}};g.n.av_=function(l){var o=!1,D=!1,H=0,_=!1;for(var v=0;
v<l.length;v++){var u=l[v].HN;if(u!=null){H++;if(u==-1)o=!0;if(u==1||u==2||u==3)D=!0;if(l[v].type==0)_=!0}}if(!o&&H<20&&_&&D)l=g.n.z3(l);
return l};g.n.zn=function(l,o,D,H,_,u){if(_!=null){l=g.n.av_(l)}for(var v=0;v<l.length;v++){if(l[v].type>5)continue;
var S=l[v].length;if(S==0)continue;if(v==l.length-1)break;var h=l[v].type==3,F=l[v].HN;if(F!=-1&&_==null){var n=["xor","source-over","destination-out","source-in"][F];
o.globalCompositeOperation=n}if(l[v].HN!=-1){o.beginPath();if(_)g.n.lr(cq.K$.yz(_),o)}g.n.a2Y(o,l,v+1,S,D,H,h);
if(h){}else o.closePath();if(l[v+1+S]==null||l[v+1+S].HN!=-1){if(_){if(u)o.clip();o.stroke()}else o.fill(F==-1?"nonzero":"evenodd")}v+=S}o.globalCompositeOperation="source-over";
o.setLineDash([])};g.n.lr=function(l,o){var D=l.W5;o.setLineDash(l.dE);o.lineCap=["butt","round","square"][l.iw];
o.lineJoin=["miter","round","bevel"][l.h_];o.lineWidth=l.QH==1?D:D*2;o.miterLimit=l.wk};g.n.a2Y=function(l,o,v,D,H,_,u){var S=o[v],h=null;
l.moveTo(S.u.x+H,S.u.y+_);for(var F=v;F<v+D-1;F++){S=o[F];h=o[F+1];l.bezierCurveTo(S.BN.x+H,S.BN.y+_,h.e6.x+H,h.e6.y+_,h.u.x+H,h.u.y+_)}if(!u){S=o[F];
h=o[v];l.bezierCurveTo(S.BN.x+H,S.BN.y+_,h.e6.x+H,h.e6.y+_,h.u.x+H,h.u.y+_)}};g.n.aA2=function(l,o){var D=[],H=o?4:1;
for(var v=0;v<l.length;v+=2){var _=new he(l[v],l[v+1]);D.push({type:H,e6:_.clone(),u:_.clone(),BN:_.clone()})}return D};
g.n.amv=function(l,o,D){var H=(1-(D!=null?D:25)*.01)*10;if(H>0){for(var v=0;v<o.length;v++){var _=o[v],u=g.n.An(l,_),S=g.n.oc(l,_),h=l.slice(u,u+S);
g.n.Xo();var F=new paper.Path;F.remove();F.closed=!0;for(var n=1;n<h.length;n++)F.add(new paper.Point(h[n].u.x,h[n].u.y));
var R=F.simplify(H);if(R)l.splice(u,S,...g.n.pv(F))}}return l};g.n.vo=function(l,o,D){var H=g.X.dm(l),_=Math.sqrt(Math.sqrt(H.c()))*.2,u=.2;
l=l.slice(0);var S=l.length,h=o?0:2;for(var F=0;F<5;F++)for(var v=h;v<l.length-h;v+=2){var n=(v-2+S)%S,R=(v+2)%S,s=l[v],Z=l[v+1],O=(l[n]+l[R])*.5,w=(l[n+1]+l[R+1])*.5;
l[v]=s+(O-s)*u;l[v+1]=Z+(w-Z)*u}if(D)return g.n.Rd.el(l,null,!o);g.n.Xo();var m=new paper.Path;m.remove();
m.closed=o;for(var v=0;v<l.length;v+=2)m.add(new paper.Point(l[v],l[v+1]));m.simplify(_);var V=[{type:6},{type:8,all:0}];
V=V.concat(g.n.pv(m));return V};g.n.fG=function(l,o,D){var H=l[o].length,_=l[o].type,u=0,S=l.slice(o+1,o+1+H);
for(var v=0;v<H;v++){var h=D[(v-1+H)%H],F=D[(v+1+H)%H],n=D[v];if(n!=0){var R=S[(v-1+H)%H].u,s=S[(v+0+H)%H].u,Z=S[(v+1+H)%H].u,O=he.At(s,R),w=he.At(s,Z),m=g.X.azH(R.x,R.y,s.x,s.y,Z.x,Z.y,n)[0],V=Math.min(m,h==0?O:O/2,F==0?w:w/2);
n*=V/m;var q=g.X.anI(R.x,R.y,s.x,s.y,Z.x,Z.y,n),i={type:_+1,e6:new he(q[2],q[3]),u:new he(q[2],q[3]),BN:new he(q[4],q[5])},c={type:_+1,e6:new he(q[6],q[7]),u:new he(q[8],q[9]),BN:new he(q[8],q[9])};
l.splice(o+u+1,1,i,c);u++;l[o].length++}u++}};g.n.YS=function(l){for(var v=0;v<l.length;v++){var o=l[v],D=o.type;
if(D==1||D==2||D==4||D==5)if(!o.u.kn(o.e6)||!o.u.kn(o.BN))return!1}return!0};g.n.OC=function(l){if(l.length!=7||l[2].length!=4||!g.n.YS(l))return!1;
for(var v=0;v<4;v++){var o=!0;for(var D=0;D<4;D++){var H=l[3+(v+D&3)],_=l[3+(v+D+1&3)];if(H.u.x!=_.u.x&&H.u.y!=_.u.y)o=!1}if(o)return!0}return!1};
g.n.aok=function(l){if(l.length<6)return 0;var o=l.length-2,D=0;for(var v=0;v<o;v+=2)D+=(l[v+2]-l[v])*(l[v+1]+l[v+3]);
D+=(l[0]-l[o])*(l[o+1]+l[1]);return-D*.5};g.n.a6A=function(l){l=d.dO.Wu(l);var o=g.n.Ly(l);for(var D=0;
D<o;D++){var H=g.n.An(l,D)+1,_=l[H-1].length,u=[];for(var v=0;v<_;v++){var S=l[H+v].u;u.push(S.x,S.y)}var h=g.n.aok(u);
if(h<0)g.n.aEm(l,H-1)}return l};g.n.aEm=function(l,o){var D=o+1,H=l[o].length,_=[];for(var v=0;v<H;v++){var u=l[D+v],S=u.e6;
u.e6=u.BN;u.BN=S;_.push(u)}for(var v=0;v<H;v++)l[D+v]=_[H-1-v]};g.n.Rd={};g.n.Rd.el=function(l,o,D){var H=[{type:6},{type:8,all:0}],_=null;
H.push({type:D?3:0,HN:1,length:0,Zt:0,bb:0,qC:1});if(o==0||o==null)_=null;else if(o instanceof Array)_=o;
else{_=[];for(var v=0;v<l.length;v+=2)_.push(o)}H=H.concat(g.n.aA2(l,D));H[2].length=H.length-3;if(_)g.n.fG(H,2,_);
return H};g.n.Rd.aiN=function(l,o,D,H,_){var u=[],S=[],h=.553,F=1,n=-1;u.push({type:1,e6:new he(0,h),u:new he(0,0),BN:new he(0,-h)});
_+=2;for(var v=0;v<_;v++){var R={type:1};if(v==0){R.u=new he(1,-1);R.e6=new he(1-h,-1);R.BN=new he(1+h,-1)}else{var s=-(v+2)*Math.PI/2,Z=1+((v&1)==1?v-1:v),O=Math.sin(s),w=Math.cos(s);
F+=Z*(O-w);n+=Z*(w+O);R.u=new he(F,n);R.e6=new he(F+Z*w*h,n-Z*O*h);if((v&1)==1)Z+=2;R.BN=new he(F-Z*w*h,n+Z*O*h)}var m={type:1,e6:new he(-R.BN.x,-R.BN.y),u:new he(-R.u.x,-R.u.y),BN:new he(-R.e6.x,-R.e6.y)};
u.push(R);if(v<_-2)S.push(m)}S.reverse();u=u.concat(S);var V=[{type:6},{type:8,all:0}];V.push({type:0,HN:1,length:u.length,Zt:0,bb:0,qC:1});
V=V.concat(u);var q=new de(D/_,0,0,D/_,0,0);q.rotate(H);q.translate(l,o);g.n.Am(V,q);return V};g.n.Rd.Rect=function(l,o,D,H,_){var u=[l,o,l+D,o,l+D,o+H,l,o+H];
return g.n.Rd.el(u,_)};g.n.Rd.Zo=function(l,o,D,H,_,u,S,h){var F=[],n=2*Math.PI/_;for(var v=0;v<_;v++)F.push(Math.cos(v*n-H),Math.sin(v*n-H));
if(S!=null){var R=g.X.dm(F),s=R.Q,Z=R._,O=S/(s/2),w=h/(Z/2);for(var v=0;v<F.length;v+=2){F[v]=(F[v]-(R.x+s/2))*O;
F[v+1]=(F[v+1]-(R.y+Z/2))*w}D=1}var m=new de(D,0,0,D,0,0);m.translate(l,o);g.X.h(F,m,F);return g.n.Rd.el(F,u)};
g.n.Rd.a9y=function(l,o,D,H,_,u,S){var h=[],F=Math.PI/_;for(var v=0;v<_*2;v++){var n=(v&1)==0?1:S;h.push(n*Math.cos(v*F),n*Math.sin(v*F))}var R=new de(D,0,0,D,0,0);
R.rotate(H);R.translate(l,o);g.X.h(h,R,h);return g.n.Rd.el(h,u)};g.n.Rd.Lb=function(l,o,D,H,_){return g.n.Rd.N2(0,l,o,D,H,_)};
g.n.Rd.aaB=function(l,o,D,H,_,u){return g.n.Rd.N2(1,l,o,D,H,_,u)};g.n.Rd.i5=function(l,o,D,H,_,u){return g.n.Rd.N2(2,l,o,D,H,_,u)};
g.n.Rd.N2=function(l,o,D,H,_,u,S){var h=Math.sqrt((H-o)*(H-o)+(_-D)*(_-D)),F;u/=2;if(l==0)F=[-u,0,u,0,u,h,-u,h];
if(l==1){var n=u*2*S*1.3/1.5,R=u*S;F=[-u,0,u,0,u,h-n,R,h-n,0,h,-R,h-n,-u,h-n]}if(l==2){var n=S[3],R=S[2]/2,s=n*(2/3)*S[4]/100,Z=n-s,O=n;
F=[];if(S[0])F.push(-u,Z,-R,O,0,0,R,O,u,Z);else if(u==0)F.push(0,0);else F.push(-u,0,u,0);if(S[1])F.push(u,h-Z,R,h-O,0,h,-R,h-O,-u,h-Z);
else if(u==0)F.push(0,h);else F.push(u,h,-u,h)}var w=new de(1,0,0,1,0,0);w.rotate(Math.atan2(-_+D,H-o)+Math.PI/2);
w.translate(o,D);g.X.h(F,w,F);return g.n.Rd.el(F,0)};g.n.Rd.lY=function(l,o,D,H){var _=[{type:6},{type:8,all:0}],s=.553;
_.push({type:0,HN:1,length:4,Zt:0,bb:0,qC:1});var u=l,S=o,h=l+D,F=o+H,l=(u+h)/2,o=(S+F)/2,n=(u-h)/2,R=(S-F)/2;
_.push({type:1,e6:new he(l-s*n,o-R),u:new he(l,o-R),BN:new he(l+s*n,o-R)});_.push({type:1,e6:new he(l+n,o-s*R),u:new he(l+n,o),BN:new he(l+n,o+s*R)});
_.push({type:1,e6:new he(l+s*n,o+R),u:new he(l,o+R),BN:new he(l-s*n,o+R)});_.push({type:1,e6:new he(l-n,o+s*R),u:new he(l-n,o),BN:new he(l-n,o-s*R)});
return _};g.n.Rd.a6o=function(l,o,D,H,_){var u=[{type:6},{type:8,all:0}];u.push({type:3,HN:1,length:5,Zt:0,bb:0,qC:1});
var S=(_-H)/4;for(var v=0;v<5;v++){var h=v*S,F=Math.cos(h),n=Math.sin(h),R=.553*(S/(Math.PI/2)),s=n*R,Z=-F*R,O=new he(F,n);
u.push({type:4,e6:v==0?O.clone():new he(F+s,n+Z),u:O,BN:v==4?O.clone():new he(F-s,n-Z)})}var w=new de;
w.rotate(-H);w.scale(D,D);w.translate(l,o);g.n.Am(u,w);return u};g.Y9={};g.Y9.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
g.Y9.aAQ={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
g.Y9.yL=function(l){var o=l.warpStyle.v.warpStyle;if(o=="warpNone")return!0;else if(o=="warpCylinder")return!1;
else if(o=="warpCustom"){var D=!1,H=g.Y9.agm(l);for(var v=0;v<4;v++)for(var _=0;_<4;_++){var u=H[v*2]-H[(_*4+v)*2],S=H[v*4*2+1]-H[(v*4+_)*2+1];
if(u*u>1||S*S>1)D=!0}return!D}else return l.warpValue.v==0&&l.warpPerspective.v==0&&l.warpPerspectiveOther.v==0};
g.Y9.aoO=function(l){var o=JSON.parse(JSON.stringify(l));o.v.classID="quiltWarp";o.v.deformNumRows={t:"long",v:4};
o.v.deformNumCols={t:"long",v:4};if(o.v.customEnvelopeWarp)g.Y9.asj(o.v,[[0,1],[0,1]]);return o};g.Y9.aqw=function(l){var o;
if(g.Y9.Aq(l.v)==16)o=JSON.parse(JSON.stringify(l));else o={t:"Objc",v:g.Y9.o(g.Y9.fZ(l.v))};o.v.classID="warp";
delete o.v.deformNumRows;delete o.v.deformNumCols;var D=o.v.customEnvelopeWarp;if(D){delete D.v.quiltSliceX;
delete D.v.quiltSliceY}return o};g.Y9.Aq=function(l){return l.deformNumRows.v*l.deformNumCols.v};g.Y9.o=function(l){var o={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(l){o.classID="quiltWarp";o.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:l.y}},Left:{t:"UntF",v:{type:"#Pxl",val:l.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:l.y+l._}},Rght:{t:"UntF",v:{type:"#Pxl",val:l.x+l.Q}}}};
o.uOrder={t:"long",v:4};o.vOrder={t:"long",v:4};o.deformNumRows={t:"long",v:4};o.deformNumCols={t:"long",v:4}}return o};
g.Y9.aho=function(l,o,D){for(var v=0;v<l.length;v+=2){var H=l[v],_=l[v+1],u=(1-o)/2,S=1-u,h=u+H*(S-u);
_=.5+(_-.5)*h*2;var F=(1-D)/2,n=1-F,R=F+_*(n-F);H=.5+(H-.5)*R*2;l[v]=H;l[v+1]=_}};g.Y9.C0=function(l,o){return{id:l,type:"UnFl",uID:"#Pxl",arr:o}};
g.Y9.asj=function(l,o){var D=g.Y9.fZ(l);function H(u,S){u=u.slice(0);var h=u.length,v;for(v=0;v<h;v++)u[v]*=S;
u[0]-=.6;u[h-1]+=.6;return u}var _=l.customEnvelopeWarp.v;_.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[g.Y9.C0("quiltSliceX",H(o[0],D.Q))]}};
_.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[g.Y9.C0("quiltSliceY",H(o[1],D._))]}}};g.Y9.ayW=function(l){var o=g.Y9.fZ(l);
function D(S,h){S=S.slice(0);var u=S.length,v,F=1e9,n=-F;for(v=0;v<u;v++){if(S[v]<F)F=S[v];if(S[v]>n)n=S[v]}for(v=0;
v<u;v++)S[v]=(S[v]-F)/(n-F);S[0]=0;S[u-1]=1;return S}var H=l.customEnvelopeWarp.v,_=[],u=["X","Y"];for(var v=0;
v<2;v++)_.push(D(H["quiltSlice"+(v==0?"X":"Y")].v.arr[0].arr.slice(0),v==0?o.Q:o._));return _};g.Y9.auI=function(l,o){var D=[],H=[];
for(var v=0;v<o.length;v+=2){D.push(o[v]);H.push(o[v+1])}l.customEnvelopeWarp.v.meshPoints.v.arr=[g.Y9.C0("Hrzn",D),g.Y9.C0("Vrtc",H)]};
g.Y9.agm=function(l){var o=[],D=l.customEnvelopeWarp.v.meshPoints.v.arr,H=D[0].arr,_=D[1].arr;for(var v=0;
v<H.length;v++)o.push(H[v],_[v]);return o};g.Y9.N7=function(l,o){var D,H=l.warpStyle.v.warpStyle;if(H=="warpCustom")D=[l.deformNumCols.v,l.deformNumRows.v,g.Y9.ayW(l),g.Y9.agm(l)];
else{if(o==null)o=g.Y9.fZ(l);if(o.lh())o.Q=o._=1;if(H=="warpCylinder"){var _=p.cA.TX(l.warpValues);D=g.Y9.Y9(H,_)}else{var u="warpPerspective";
D=g.Y9.Y9(H,l.warpValue.v/100,l.warpRotate.v.Ornt=="Hrzn",l[u].v/100,l[u+"Other"].v/100,o.Q/o._)}g.Y9.a9b(D[3],o)}return D};
g.Y9.a9b=function(l,o){for(var v=0;v<l.length;v+=2){l[v]=o.x+l[v]*o.Q;l[v+1]=o.y+l[v+1]*o._}};g.Y9.a7l=function(l){var o=Math.sin(l*Math.PI/2),D=Math.pow(l,1/3.5),H=(1-l)*o+l*D;
H=Math.pow(H,1.045);var _=.1725+.0573*H,u=1-(.96*o+.04*D);u=Math.pow(u,1.27);var S=1/129+(.167684-1/129)*u;
return[_,S]};g.Y9.bk=function(l,o){l.warpStyle.v.warpStyle="warpCustom";l.deformNumCols.v=o[0];l.deformNumRows.v=o[1];
var D="customEnvelopeWarp";if(l[D]==null)l[D]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
g.Y9.asj(l,o[2]);g.Y9.auI(l,o[3])};g.Y9.fZ=function(l){var o=l.bounds.v,D=o.Left.v.val,H=o.Rght.v.val,_=o.Top.v.val,u=o.Btom.v.val;
if(D==null){D=o.Left.v,H=o.Rght.v;_=o.Top.v,u=o.Btom.v}return new gt(D,_,H-D,u-_)};g.Y9.Y9=function(l,o,D,H,_,u){if(l=="warpCylinder"){var S=o,h=S[0],F=S[1],n=S[2],R=S[3],s=S[4],Z=S[5],O=S[6],w=[];
for(var m=0;m<4;m++)for(var V=0;V<13;V++)w.push(V/12,m/3);var q=n-h,i=F-R,c=s*.5*(q/i),z=Z*.5*(q/i),B=g.Y9.a7l(O),t=[0,0,0,0,0,B[0],.5],a=[0,0,0,0,c*.42,c,c],I=[0,0,0,0,z*.42,z,z];
for(var m=0;m<4;m++)for(var V=0;V<7;V++){var v=m*13+V;w[v*2]=t[V];var N=a[V],J=1+I[V],Q=m/3;w[v*2+1]=N*(1-Q)+J*Q}for(var m=0;
m<4;m++)for(var V=0;V<6;V++){var v=m*13+V,A=m*13+12-V;w[A*2]=1-w[v*2];w[A*2+1]=w[v*2+1]}var Q=B[1];return[13,4,[[0,Q,.5,1-Q,1],[0,1]],w]}var f=g.cC.o(0,0,1,1);
if(l!="warpNone"){if(!D)u=1/u;g.Y9.a3o(f,l,o,H,_,u);var W=f.slice(0);if(!D)for(var m=0;m<4;m++)for(var V=0;
V<4;V++){f[(m*4+V)*2]=W[(V*4+m)*2+1];f[(m*4+V)*2+1]=W[(V*4+m)*2]}if(o==0)g.Y9.aho(f,H,_);else{var C=new de;
C.translate(-.5,-.5);g.X.h(f,C,f);g.Y9.aC_(f,_,H);C.L5();g.X.h(f,C,f)}}return[4,4,[[0,1],[0,1]],f]};
g.Y9.a3o=function(l,o,D,H,_,u){var S=new gt(0,0,u,1);for(var v=0;v<l.length;v+=2)l[v]*=u;for(var v=0;
v<4;v++){for(var h=0;h<4;h++){var F=2*(4*v+h),n=l[F]-S.x,R=l[F+1]-S.y,s=n,Z=R;if(D!=0){var O=S.Q/2,w=S._/2;
s-=O;Z-=w;var m=s,V=s,q=-w,i=w,c=Math.abs(D),z=Math.tan((1-c)*Math.PI/2),B=Math.sqrt(z*z+1),t=Math.atan2(1,z),a=s/O*t,I=O*B,N=O*B+S._,J=Math.cos(t),Q=Math.sin(t),A=g.Y9.afR(J,Q),f=g.Y9.a5L(J,Q),W=-z*O+A*I;
if(o=="warpArc"){m=Math.sin(a)*N;q=z*O-Math.cos(t)*N+w;V=Math.sin(a)*I;i=z*O-Math.cos(t)*I+w;if(h==1||h==2){m=h==1?-f*N:f*N;
V=h==1?-f*I:f*I;q=z*O+w-A*N;i=z*O+w-A*I}if(D<0){var C=m;m=V;V=C;C=q;q=-i;i=-C}}if(o=="warpArcLower"){if(h==1||h==2){V=h==1?-f*I:f*I;
i=D<0?w-W:w+W}}if(o=="warpArcUpper"||o=="warpArch"||o=="warpBulge"){if(h==1||h==2){m=h==1?-f*I:f*I;q=D<0?-w+W:-w-W}if(o=="warpArch"){V=m;
i=q+2*w}if(o=="warpBulge"){V=m;i=-q}}if(o=="warpFish"||o=="warpFlag"||o=="warpWave"){var j=h;if(o=="warpFlag")j=3-h;
if(j==1){q-=D*4*w;i+=D*4*w}if(j==2){q+=D*4*w;i-=D*4*w}if(o=="warpFlag"||o=="warpWave")q=i-2*w}if(o=="warpRise"){if(h<2)q=-w+D*w*4;
i=q+2*w}var K=(Z+w)/S._;s=m+K*(V-m);Z=q+K*(i-q);if(o=="warpWave"){if(v==0)Z=-w;if(v==3)Z=w;if(v==1||v==2)Z=2*w*(v/3-.5)*(1/3)+Z*(2/3)}if(o=="warpFisheye"){if((v==1||v==2)&&(h==1||h==2)){s=s+4*s*D;
Z=Z+4*Z*D}}if(o=="warpInflate"){var $=2/3;if((v==1||v==2)&&(h==1||h==2)){s=s+.5*s*D;Z=Z+.5*Z*D}else if(v==1||v==2)s=s+$*s*D;
else if(h==1||h==2)Z=Z+$*Z*D}if(o=="warpSqueeze"){var $=2/3;if((v==1||v==2)&&(h==1||h==2)){if(D>0)s=s-$*s*D;
else Z=Z+$*Z*D}else if(v==1||v==2)s=s-$*s*D;else if(h==1||h==2)Z=Z+$*Z*D}if(o=="warpTwist"){if((v==1||v==2)&&(h==1||h==2)){var r=D*Math.PI/2,B=1+Math.abs(D)*2,U=s*Math.cos(r)-Z*Math.sin(r),b=s*Math.sin(r)+Z*Math.cos(r);
s=U*B;Z=b*B}}if(o=="warpShellLower"||o=="warpShellUpper"){if(o=="warpShellUpper"){v=3-v;Z=-Z}if(v>2||v==2&&(h==0||h==3)){if(D>0){var e=I+v/3*2*w;
s=Math.sin(a)*e;Z=-z*O-w+Math.cos(a)*e;if(h==1||h==2){s=h==1?-f*e:f*e;Z=-z*O-w+A*e}}else{if((h==1||h==2)&&v==3){s=h==1?-f*I:f*I;
Z=z*O-A*I+w}else if(v==2){Z=w-w*(2/3)*Math.cos(a);s=s+w*(2/3)*Math.sin(a)}}}if(o=="warpShellUpper"){v=3-v;
Z=-Z}}s+=O;Z+=w}n=s,R=Z;l[F]=n+S.x;l[F+1]=R+S.y}}for(var v=0;v<l.length;v+=2)l[v]/=u};g.Y9.aC_=function(l,o,D){var H=[];
for(var _=0;_<4;_++)H.push(1-D+_/3*2*D);var u=[];for(var _=0;_<4;_++)u.push(1-o+_/3*2*o);var S=[0,0,0,0],h=[0,0,0,0];
for(var v=0;v<4;v++)for(var _=0;_<4;_++){var F=2*(4*v+_),n=l[F],R=l[F+1];S[_]+=n/4;h[_]+=R/4}for(var v=0;
v<4;v++)for(var _=0;_<4;_++){var s=H[_],F=2*(4*v+_),n=l[F],R=l[F+1],Z=S[_],O=h[_];l[F]=Z+s*(n-Z);l[F+1]=O+s*(R-O)}var w=l.slice(0);
for(var v=0;v<4;v++)for(var _=1;_<3;_++){var F=2*(4*v+_),n=l[F],R=l[F+1],m=F+(_==1?-2:2),V=l[m],q=l[m+1];
l[F]=n-V;l[F+1]=R-q}var i=l[0],c=l[1],z=l[8],B=l[9],t=l[16],a=l[17],I=l[24],N=l[25],J=l[6],Q=l[7],A=l[14],f=l[15],W=l[22],C=l[23],j=l[30],K=l[31],$=J-i,r=Q-c,U=A-z,b=f-B,e=W-t,P=C-a,L=j-I,Y=K-N;
for(var v=0;v<4;v++){var X=2*v*4,G=0,E=0,T=v==1?.33:.66,y=1-T;if(v==0){G=$;E=r}if(v==1){G=y*$+T*-L;E=y*r+T*-Y}if(v==2){G=y*$+T*-L;
E=y*r+T*-Y}if(v==3){G=-L;E=-Y}l[X]=l[X]+G/2;l[X+1]=l[X+1]+E/2;l[X+6]=l[X+6]-G/2;l[X+7]=l[X+7]-E/2}for(var v=0;
v<4;v++)for(var _=1;_<3;_++){var F=2*(4*v+_),n=l[F],R=l[F+1],m=F+(_==1?-2:2),V=l[m],q=l[m+1],s=2*v/3;
l[F]=V+s*n;l[F+1]=q+s*R}for(var v=1;v<3;v++)for(var _=1;_<3;_++){var F=2*(4*v+_),n=l[F],R=l[F+1],d4=v==1?-8:-16,dH=v==1?16:8,eV=l[F+d4],bf=l[F+d4+1],jd=l[F+dH],i5=l[F+dH+1],s=v/3;
n=(1-s)*eV+s*jd;R=(1-s)*bf+s*i5;l[F]=n;l[F+1]=R}g.X.aoR(w,l,l,o)};g.Y9.afR=function(l,o){return(4-l)*(1/3)};
g.Y9.a5L=function(l,o){return(1-l)*(3-l)/(3*o)};g.y_={};g.y_.av$=function(l,o,D,H,_,u,S,h,F,n){for(var R=0;
R<h;R++)for(var s=0;s<S;s++){var Z=3*(R*S+s),O=R+u,w=s+_,m=l[O*o+w];H[Z]=m;H[Z+1]=m;H[Z+2]=m}};g.y_.ri=function(l,o,D,H,_,u,S,h,F,n){var R=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],s=1/F,Z=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],O=new Uint32Array(6);
for(var w=0;w<h;w++){for(var m=0;m<S;m++){var V=3*(w*S+m),q=w+u,i=m+_;O[0]=0;O[1]=0;O[2]=0;O[3]=0;O[4]=0;
O[5]=0;for(var v=0;v<16;v+=2){var c=i+Z[v],z=q+Z[v+1],B=c-F*~~(c*s),t=z-F*~~(z*s),a=n[t*F+B];O[a]+=l[z*o+c];
O[a+3]++}var c=i,z=q,B=c-F*~~(c*s),t=z-F*~~(z*s),a=n[t*F+B];O[a]=l[q*o+i];O[a+3]=1;H[V]=O[0]*R[O[3]];
H[V+1]=O[1]*R[O[4]];H[V+2]=O[2]*R[O[5]]}}};g.y_.ahB=function(l,o,D){for(var v=0;v<D;v+=2)l[o+v]=l[o+v+1];
o=o+D;for(var v=0;v<D;v+=2)l[o+v+1]=l[o+v]};g.y_.apX=function(l,o,D,H){for(var v=0;v<H;v+=2){var _=o+v*D;
l[_]=l[_+D];l[_+D+1]=l[_+1]}};g.y_.aDd=function(l,o,D,H,_,u){var S=H[_],h=H[_+1],F=H[u],n=H[u+1],R=h+F>>>1;
l[o]=l[o+3]=l[D]=l[D+3]=S;l[o+1]=R;l[o+4]=h;l[D+1]=F;l[D+4]=R;l[o+2]=l[o+5]=l[D+2]=l[D+5]=n};g.y_.af7=function(l,o,D,H,_,u){var S=u*3;
for(var v=0;v<u;v+=2){var h=o+v,F=_+v*3;g.y_.aDd(H,F,F+S,l,h,h+D)}};g.y_.a9e=function(l,o,D,H,_,u,S){var h=u*3;
for(var v=0;v<S;v+=2){var F=o+v*D,n=_+v*u*3;g.y_.aDd(H,n,n+h,l,F,F+D)}};g.y_.awv=function(l,v,o){var D=l[v-o-o],H=l[v-o],_=l[v-2],u=l[v-1],S=l[v],h=l[v+1],F=l[v+2],n=l[v+o],R=l[v+o+o],s=Math.abs(H-n),Z=Math.abs(u-h),O=Math.abs(S-D)*2+s,w=Math.abs(S-F)*2+Z,m=Math.abs(S-_)*2+Z,V=Math.abs(S-R)*2+s,q=Math.min(O,Math.min(w,Math.min(m,V)));
if(q==O)return H*3+n+S-D>>2;if(q==w)return h*3+u+S-F>>2;if(q==m)return u*3+h+S-_>>2;return n*3+H+S-R>>2};
g.y_.Fn=function(l,o,D,H,_){if(l<o&&o<D||l>o&&o>D)return~~(.5+H+(_-H)*(o-l)/(D-l));else return(H+_>>1)+(o+o-l-D>>2)};
g.y_.agY=function(l,o,v,D){var H=o[v-D-1],_=o[v-D+1],u=o[v],S=o[v+D-1],h=o[v+D+1],F=l[v-D-1],n=l[v-D+1],R=l[v],s=l[v+D-1],Z=l[v+D+1],O=Math.abs(n-s)+Math.abs(l[v-D-D+2]-R)+Math.abs(R-l[v+D+D-2])+Math.abs(_-u)+Math.abs(u-S),w=Math.abs(F-Z)+Math.abs(l[v-D-D-2]-R)+Math.abs(R-l[v+D+D+2])+Math.abs(H-u)+Math.abs(u-h);
if(O<w)return g.y_.Fn(_,u,S,n,s);else return g.y_.Fn(H,u,h,F,Z)};g.y_.j3=function(l,o,D,H,_,u){l[o+0]=D[_];
l[o+1]=H[_];l[o+2]=g.y_.agY(D,H,_,u)};g.y_.lE=function(l,o,D,H,_,u){var S=H[_];l[o+0]=g.y_.Fn(H[_-1],S,H[_+1],D[_-1],D[_+1]);
l[o+1]=S;l[o+2]=g.y_.Fn(H[_-u],S,H[_+u],D[_-u],D[_+u])};g.y_.xk=function(l,o,D,H,_,u){var S=H[_];l[o+0]=g.y_.Fn(H[_-u],S,H[_+u],D[_-u],D[_+u]);
l[o+1]=S;l[o+2]=g.y_.Fn(H[_-1],S,H[_+1],D[_-1],D[_+1])};g.y_.n4=function(l,o,D,H,_,u){l[o+0]=g.y_.agY(D,H,_,u);
l[o+1]=H[_];l[o+2]=D[_]};g.y_.a0i=function(l,o,D,H,_,u,S,h,F){var n=Date.now(),R=2,s=o-2,Z=2;if((_&1)==1){R++;
s--}var O=D-2;if((u&1)==1){Z++;O--}if(F==1||F==3){R++;s--}var w=l.slice(0);g.y_.ahB(w,0,o);g.y_.apX(w,0,o,D);
g.y_.apX(w,o-2,o,D);g.y_.ahB(w,(D-2)*o,o);for(var m=Z;m<O;m+=2)for(var V=R;V<s;V+=2){var v=m*o+V,q=g.y_.awv(w,v,o),i=g.y_.awv(w,v+o+1,o);
w[v]=Math.max(0,q);w[v+o+1]=Math.max(0,i)}var c=S,z=h;if(u+h==D){z-=2;g.y_.af7(l,(D-2)*o+_,o,H,(h-2)*S*3,S)}if(_+S==o){c-=2;
g.y_.a9e(l,u*o+_+S-2,o,H,(S-2)*3,S,h)}if(F==0)for(var m=0;m<z;m+=2)for(var V=0;V<c;V+=2){var B=(m+u)*o+V+_,t=(m*S+V)*3;
g.y_.j3(H,t,l,w,B,o);g.y_.lE(H,t+3,l,w,B+1,o);B+=o;t+=3*S;g.y_.xk(H,t,l,w,B,o);g.y_.n4(H,t+3,l,w,B+1,o)}else if(F==1)for(var m=0;
m<z;m+=2)for(var V=0;V<c;V+=2){var B=(m+u)*o+V+_,t=(m*S+V)*3;g.y_.lE(H,t,l,w,B,o);g.y_.j3(H,t+3,l,w,B+1,o);
B+=o;t+=3*S;g.y_.n4(H,t,l,w,B,o);g.y_.xk(H,t+3,l,w,B+1,o)}else if(F==2)for(var m=0;m<z;m+=2)for(var V=0;
V<c;V+=2){var B=(m+u)*o+V+_,t=(m*S+V)*3;g.y_.n4(H,t,l,w,B,o);g.y_.xk(H,t+3,l,w,B+1,o);B+=o;t+=3*S;g.y_.lE(H,t,l,w,B,o);
g.y_.j3(H,t+3,l,w,B+1,o)}else if(F==3)for(var m=0;m<z;m+=2)for(var V=0;V<c;V+=2){var B=(m+u)*o+V+_,t=(m*S+V)*3;
g.y_.xk(H,t,l,w,B,o);g.y_.n4(H,t+3,l,w,B+1,o);B+=o;t+=3*S;g.y_.j3(H,t,l,w,B,o);g.y_.lE(H,t+3,l,w,B+1,o)}};
g.raw={};g.raw.akE=function(l){var o=Date.now(),D=l.width,H=l.height,_=0,u=0,S=D,h=H;if(l.t50829){var F=l.t50829;
_=F[1];u=F[0];S=F[3];h=F[2]}if(l.t50720&&l.t50720[0]*1.2>D){if(l.t50719){var n=l.t50719;_+=n[0]>>1<<1;
u+=n[1]>>1<<1}if(l.t50720){var R=l.t50720;S=_+R[0];h=u+R[1]}}var s=S-_,Z=h-u,O=g.raw.a0n(l),w=l.t33422,m=l.t33421;
if(m){var R=m[0],V=w.slice(0);for(var q=0;q<R;q++)for(var i=0;i<R;i++){var c=(i+(_&1))%R,z=(q+(u&1))%R;
V[q*R+i]=w[z*R+c]}w=V}if(l.t277[0]==1&&w)g.raw.az8(O,D,H,l,w);g.raw.cY(2,l,O,D,H);var B=new Float32Array(s*Z*3);
if(l.t277[0]==1){if(m==null){g.y_.av$(O,D,H,B,_,u,s,Z)}else if(m.length!=2||m[0]!=2||m[1]!=2){console.log("Unknown CFA pattern size",m);
g.y_.ri(O,D,H,B,_,u,s,Z,m[0],w)}else{var t=l.t33422.join(","),a=0;if(t=="0,1,1,2")a=0;else if(t=="1,0,2,1")a=1;
else if(t=="2,1,1,0")a=2;else if(t=="1,2,0,1")a=3;else throw"Unknown CFA pattern "+t;if((s&1)!=0||(Z&1)!=0)throw"e";
g.y_.a0i(O,D,H,B,_,u,s,Z,a)}}else{for(var q=0;q<Z;q++)for(var i=0;i<s;i++){var I=((q+u)*D+i+_)*3,N=(q*s+i)*3;
B[N+0]=O[I+0];B[N+1]=O[I+1];B[N+2]=O[I+2]}}var J=B,Q=B.length,A=g.raw.HI(l),f=1/A;for(var v=0;v<Q;v+=3){B[v]=J[v]*f;
B[v+1]=J[v+1]*f;B[v+2]=J[v+2]*f}g.raw.cY(3,l,B,s,Z);var W=l.r3,C=s,j=Z;if(W==1||W==9){}else{var K=g.raw.a2j(W,s,Z),N=0;
C=K[0];j=K[1];var $=B.slice(0);for(var q=0;q<j;q++)for(var i=0;i<C;i++){var r=K[2]*i+K[3]*q+K[4],U=K[5]*i+K[6]*q+K[7],I=(U*s+r)*3;
B[N]=$[I];B[N+1]=$[I+1];B[N+2]=$[I+2];N+=3}}return{G5:B,cy:C,L8:j}};g.raw.a2j=function(l,o,D){var H=o,_=D;
if(!1){}else if(l==2)return[o,D,-1,0,o-1,0,1,0];else if(l==3)return[o,D,-1,0,o-1,0,-1,D-1];else if(l==4)return[o,D,1,0,0,0,-1,D-1];
else if(l==5)return[D,o,0,1,0,1,0,0];else if(l==6)return[D,o,0,1,0,-1,0,D-1];else if(l==7)return[D,o,0,-1,o-1,-1,0,D-1];
else if(l==8)return[D,o,0,-1,o-1,1,0,0];else throw"unknown orientation "+l};g.raw.az8=function(l,o,D,H,_){var u=Date.now(),f=0,j=0;
if(g.raw.HI(H)>4e4){for(var v=0;v<l.length;v++)l[v]>>=1;var S=["t50714","t50715","t50712","t50717"];
for(var v=0;v<S.length;v++){var h=H[S[v]];if(h)for(var F=0;F<h.length;F++)h[F]>>>=1}console.log("remapping to lower bit depth")}var n=~~Math.sqrt(_.length),R=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],s=[];
for(var Z=0;Z<n;Z++)for(var O=0;O<n;O++){var v=Z*n+O,w=_[v],m=4,V=4,q=8,i=0,c=0;for(var F=0;F<18;F+=2){var z=(n+O+R[F])%n,B=(n+Z+R[F+1])%n,t=_[B*n+z];
if(t==w){}else if(m==4){m=t;i=F}else if(V==4&&t!=m){V=t;c=F;break}}if(V<m){var a=V;V=m;m=a;a=c;c=i;i=a}if(m<w){var a=m;
m=w;w=a;a=i;i=q;q=a}if(V<m){var a=V;V=m;m=a;a=c;c=i;i=a}s[v*3]=R[q+1]*o+R[q];s[v*3+1]=R[i+1]*o+R[i];
s[v*3+2]=R[c+1]*o+R[c]}var I=~~(.996*g.raw.HI(H)),N=~~(.992*g.raw.HI(H)),J=H.t50728;if(J==null||J[0]==0)J=[1,1,1];
var Q=[],A=[0,0,0];for(var Z=1;Z<D-1;Z++)for(var O=1;O<o-1;O++){var v=Z*o+O,W=Z%n*n+O%n,w=l[v+s[W*3+0]],m=l[v+s[W*3+1]],V=l[v+s[W*3+2]],C=Math.max(w,m,V);
if(C>I)Q.push(v);else if(C>N){A[0]+=w;A[1]+=m;A[2]+=V;f++}}if(Q.length==0)return;if(f/(o*D)<1e-5){console.log("not enough semi-saturated pixels",f);
A=J}if(A[1]<A[j])j=1;if(A[2]<A[j])j=2;var K=[A[0]/A[j],A[1]/A[j],A[2]/A[j]],$=l.slice(0);for(var r=0;
r<Q.length;r++){var v=Q[r],Z=~~(v/o),O=v-Z*o,W=Z%n*n+O%n,U=Math.min(65535,~~(l[v+s[W*3+j]]*K[_[W]]));
if(U>$[v])$[v]=U}l.set($)};g.raw.VK=function(l,o,D,H){var _=Math.round(l.length/3),u=dM.Eb(H[0],H[1]),S=g.raw.amG(D,u),h=g.JX.multiply(g.JX.sq,S),F=Math.pow(2,D.t50730?D.t50730[0]:0);
h=g.JX.multiply(h,g.JX.Xu(F,F,F));var n=g.raw.VK.arY;if(n==null){n=g.raw.VK.arY=new Float64Array(8e3);
for(var v=0;v<8e3;v++)n[v]=g.Xf(v*(1/1e3))}for(var v=0;v<_;v++){var R=v<<2,s=R-v,Z=l[s],O=l[s+1],w=l[s+2],m=h[0]*Z+h[1]*O+h[2]*w,V=h[4]*Z+h[5]*O+h[6]*w,q=h[8]*Z+h[9]*O+h[10]*w;
if(m<0)m=0;if(V<0)V=0;if(q<0)q=0;o[s]=n[~~(m*1e3)];o[s+1]=n[~~(V*1e3)];o[s+2]=n[~~(q*1e3)]}};g.raw.a0n=function(l){var o=l.width,D=l.height,H=o*D*l.t277,_=new Uint16Array(H),u=null,S=0;
g.raw.ade(l,_);g.raw.cY(1,l,_,o,D);if(l.t50712){u=l.t50712;S=u.length-1;if(u[S]>65535)throw"too big values"}var h=g.raw.aE8(l),F=g.raw.a7Y(l);
if(u==null)for(var v=0;v<H;v++)_[v]=Math.max(0,_[v]-h);else for(var v=0;v<H;v++){var n=_[v];if(n>S)n=S;
n=u[n];_[v]=Math.max(0,n-h)}return _};g.raw.aE8=function(l){var o=l.t50714,D=o?o[0]:0,H=l.t50715,_=l.t50716;
if(H)D+=H[0][0]/H[0][1];if(_)D+=_[0][0]/_[0][1];return Math.round(D)};g.raw.a7Y=function(l){var o=null,D=0;
if(l.t50712){o=l.t50712;D=o.length-1}var H=l.t50717?l.t50717[0]:(1<<l.t258[0])-1;if(o)H=Math.min(H,o[D]);
return H};g.raw.HI=function(l){var o=g.raw.aE8(l),D=g.raw.a7Y(l);return D-o};g.raw.ade=function(l,o){var D=o.length,H=l.data,_=l.t258[0];
if(_!=16&&_!=14&&_!=12&&_!=10&&_!=8)throw"Unsupported Bits Per Sample:"+_;_=Math.round(H.length*8/D);
if(_==16&&l.isLE){g.Tg(H,o);return}for(var v=0;v<D;v+=2){var u=0,S=0,h=0;if(_==16){u=v<<1;S=H[u]<<8|H[u+1];
h=H[u+2]<<8|H[u+3]}else if(_==14){var F=v*14,n=F>>>3,R=H[n]<<24|H[n+1]<<16|H[n+2]<<8|H[n+3];if((F&7)==0){S=R>>>18;
h=R>>>4&16383}else{S=R>>>14&16383;h=R&16383}}else if(_==12){u=v+(v>>>1);S=H[u]<<4|H[u+1]>>4;h=(H[u+1]&15)<<8|H[u+2]}else if(_==10){var F=v*10,n=F>>>3;
if((F&7)==0){S=(H[n]<<2|H[n+1]>>6)&1023;h=(H[n+1]<<4|H[n+2]>>4)&1023}else{S=(H[n]<<6|H[n+1]>>2)&1023;
h=(H[n+1]<<8|H[n+2]>>0)&1023}}else if(_==8){u=v;S=H[u];h=H[u+1]}o[v]=S;o[v+1]=h}};g.raw.amt=function(l,o,D,H,_,u,S){var h=l-.499999,F=o-.499999,n=~~h,R=~~F,s=h-n,Z=F-R,O=(1-Z)*(1-s),w=(1-Z)*s,m=Z*(1-s),V=Z*s,q=(R*H+n)*3,i=((R+1)*H+n)*3,c=O*D[q]+w*D[q+3]+m*D[i]+V*D[i+3],z=O*D[q+1]+w*D[q+4]+m*D[i+1]+V*D[i+4],B=O*D[q+2]+w*D[q+5]+m*D[i+2]+V*D[i+5];
u[S]=c;u[S+1]=z;u[S+2]=B};g.raw.cY=function(l,o,D,H,_){var u=o["t"+[51008,51009,51022][l-1]],R=0;if(u==null)return;
var S=H*_,h=x.C,F=x._k,n=new Uint8Array(u),aO=x.C(n,R);R+=4;for(var s=0;s<aO;s++){var Z=h(n,R);R+=4;
var O=h(n,R);R+=4;var w=h(n,R);R+=4;var m=h(n,R);R+=4;if(!1){}else if(Z==1&&l==3){var V=R,q=h(n,V);V+=4;
var i=F(n,V);V+=8;var c=F(n,V);V+=8;var z=F(n,V);V+=8;var B=F(n,V);V+=8;var t=F(n,V);V+=8;var a=F(n,V);
V+=8;V+=(q-1)*8*6;var I=F(n,V);V+=8;var N=F(n,V);V+=8;var J=I*H,Q=N*_,A=Math.max(J,H-J),f=Math.max(Q,_-Q),W=Math.sqrt(A*A+f*f),C=1/W,j=D.slice(0);
for(var K=0;K<_;K++)for(var $=0;$<H;$++){var r=($+.5-J)*C,U=(K+.5-Q)*C,b=r*r+U*U,e=i+c*b+z*(b*b)+B*(b*b)*b,P=t*(2*r*U)+a*(b+2*r*r),L=a*(2*r*U)+t*(b+2*U*U),Y=Math.min(J+W*(e*r+P),H-1),X=Math.min(Q+W*(e*U+L),_-1),G=(K*H+$)*3;
g.raw.amt(Y,X,j,H,_,D,G)}}else if(Z==3&&l==3){var V=R,E=F(n,V);V+=8;var T=F(n,V);V+=8;var y=F(n,V);V+=8;
var d4=F(n,V);V+=8;var dH=F(n,V);V+=8;var I=F(n,V);V+=8;var N=F(n,V);V+=8;var J=I*H,Q=N*_,A=Math.max(J,H-J),f=Math.max(Q,_-Q),W=Math.sqrt(A*A+f*f),C=1/W;
for(var K=0;K<_;K++)for(var $=0;$<H;$++){var r=($+.5-J)*C,U=(K+.5-Q)*C,b=r*r+U*U,eV=1+(E+(T+(y+(d4+dH*b)*b)*b)*b)*b,G=(K*H+$)*3;
D[G]=eV*D[G];D[G+1]=eV*D[G+1];D[G+2]=eV*D[G+2]}}else if(Z==4&&l==1){var V=R,bf=h(n,V);V+=4;var jd=h(n,V);
V+=4;for(var v=0;v<S;v++)if(D[v]==bf)D[v]=D[v-2]+D[v+2]>>1}else if(Z==5&&l==1){var V=R,i5=h(n,V);V+=4;
var fD=h(n,V);V+=4;var eo=h(n,V);V+=4;for(var v=0;v<fD;v++){var iX=h(n,V);V+=4;var cK=h(n,V);V+=4;var v=iX*H+cK;
D[v]=D[v-2]+D[v+2]>>1}}else if(Z==7&&l==1){var V=R,g0=x.m3(n,V);V+=16;var bW=h(n,V);V+=4;var hF=h(n,V);
V+=4;var aJ=h(n,V),iR=h(n,V+4);V+=8;var ex=h(n,V);V+=4;var dX=new Uint16Array(ex);for(var v=0;v<ex;v++)dX[v]=x.I9(n,V+2*v);
var iZ=g0.Q,j3=g0._;for(var K=0;K<j3;K+=aJ)for(var $=0;$<iZ;$+=iR){var v=(g0.y+K)*H+(g0.x+$);D[v]=dX[D[v]]}}else if(Z==8&&l==2){var V=R,g0=x.m3(n,V);
V+=16;var bW=h(n,V);V+=4;var hF=h(n,V);V+=4;var aJ=h(n,V),iR=h(n,V+4);V+=8;var by=h(n,V);V+=4;var i9=[];
for(var v=0;v<=by;v++)i9[v]=x._k(n,V+v*8);var dm=g0.x,kh=g0.x+g0.Q,jK=g0.y,bd=g0.y+g0._,dz=o.t50717[0],dw=1/dz;
for(var ev=0;ev<hF;ev++)for(var K=jK;K<bd;K+=aJ){var G=3*K*H+bW+ev;for(var $=dm;$<kh;$+=iR){var v=G+3*$,aq=D[v]*dw,e3=i9[by];
for(var a9=by;a9>0;a9--)e3=e3*aq+i9[a9-1];D[v]=Math.max(0,Math.min(65535,~~(e3*dz)))}}}else if(Z==9&&l==2){var V=R,g0=x.m3(n,V),iK=!0;
V+=16;var bW=h(n,V);V+=4;var hF=h(n,V);V+=4;var aJ=h(n,V),iR=h(n,V+4);V+=8;var e0=h(n,V),as=h(n,V+4);
V+=8;var eK=F(n,V),gh=F(n,V+8);V+=16;var gx=F(n,V),gc=F(n,V+8);V+=16;var kQ=h(n,V);V+=4;if(kQ!=1)throw"more than one map plane";
var dn=e0*as,bQ=new Float32Array(dn);for(var a9=0;a9<dn;a9++)bQ[a9]=x.R1(n,V+a9*4);for(var a9=0;a9<dn;
a9++)if(bQ[a9]!=1)iK=!1;if(!iK){var iZ=g0.Q,j3=g0._,cJ=.9999*(as-1)/iZ,i1=.9999*(e0-1)/j3;for(var K=0;
K<j3;K+=aJ)for(var $=0;$<iZ;$+=iR){var v=(g0.y+K)*H+(g0.x+$),bu=$*cJ,gi=K*i1,iv=Math.floor(bu),d0=Math.floor(gi),af=bu-iv,eY=gi-d0,G=d0*as+iv,cz=bQ[G]*(1-af)+bQ[G+1]*af,fk=bQ[G+as]*(1-af)+bQ[G+1+as]*af,ee=cz*(1-eY)+fk*eY;
D[v]=Math.max(0,Math.min(65535,~~(D[v]*ee+.5)))}}}else console.log("Unknown opcode "+Z+" in OpcodeList"+l+". Length: "+m);
R+=m}};g.raw.amG=function(l,o){var D=dM.U9(o),H=g.raw.awe(l,o),_=g.JX.L5(H),u=dM.a6b(D,dM.U9(dM.ao1)),S=g.JX.multiply(u,_);
return S};g.raw.adF=function(l){var o=l.t50728,_=1;if(o==null||o[0]==0)o=[1,1,1];var D=o.slice(0);D.push(0);
var H={x:.34567,y:.3585};do{var u=g.JX.L5(g.raw.awe(l,H)),S=g.JX.GS(u,D),h=dM.aeg(S);_=Math.abs(H.x-h.x)+Math.abs(H.y-h.y);
H=h}while(_>1e-7);return H};g.raw.awe=function(l,o){var D=dM.aiR(o),H=g.raw.aoP,_=l.t50778?l.t50778[0]:0,u=l.t50779?l.t50779[0]:0,S=l.t50723,h=l.t50724;
if(S&&S.length==3)S=null;if(h&&h.length==3)h=null;var F=H(l.t50721,l.t50722,_,u,D.M_),n=H(S,h,_,u,D.M_);
F=F||[1,0,0,0,1,0,0,0,1];n=n||[1,0,0,0,1,0,0,0,1];var R=l.t50727?[l.t50727[0],0,0,0,l.t50727[1],0,0,0,l.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return g.JX.multiply(g.JX.OH(R),g.JX.multiply(g.JX.OH(n),g.JX.OH(F)))};g.raw.aoP=function(l,o,D,H,_){if(!l&&!o){return null}else if(l&&!o){return l}else if(_<D){return l}else if(_>H){return o}else{var u=(1/_-1/H)/(1/D-1/H),S=1-u,h=[];
for(var v=0;v<9;v++)h[v]=l[v]*u+o[v]*S;return h}};var dM={};dM.ao1={x:.34567,y:.3585};dM.ay1=[{$:0,lc:.18006,zh:.26352,vB:-.24341},{$:10,lc:.18066,zh:.26589,vB:-.25479},{$:20,lc:.18133,zh:.26846,vB:-.26876},{$:30,lc:.18208,zh:.27119,vB:-.28539},{$:40,lc:.18293,zh:.27407,vB:-.3047},{$:50,lc:.18388,zh:.27709,vB:-.32675},{$:60,lc:.18494,zh:.28021,vB:-.35156},{$:70,lc:.18611,zh:.28342,vB:-.37915},{$:80,lc:.1874,zh:.28668,vB:-.40955},{$:90,lc:.1888,zh:.28997,vB:-.44278},{$:100,lc:.19032,zh:.29326,vB:-.47888},{$:125,lc:.19462,zh:.30141,vB:-.58204},{$:150,lc:.19962,zh:.30921,vB:-.70471},{$:175,lc:.20525,zh:.31647,vB:-.84901},{$:200,lc:.21142,zh:.32312,vB:-1.0182},{$:225,lc:.21807,zh:.32909,vB:-1.2168},{$:250,lc:.22511,zh:.33439,vB:-1.4512},{$:275,lc:.23247,zh:.33904,vB:-1.7298},{$:300,lc:.2401,zh:.34308,vB:-2.0637},{$:325,lc:.24792,zh:.34655,vB:-2.4681},{$:350,lc:.25591,zh:.34951,vB:-2.9641},{$:375,lc:.264,zh:.352,vB:-3.5814},{$:400,lc:.27218,zh:.35407,vB:-4.3633},{$:425,lc:.28039,zh:.35577,vB:-5.3762},{$:450,lc:.28863,zh:.35714,vB:-6.7262},{$:475,lc:.29685,zh:.35823,vB:-8.5955},{$:500,lc:.30505,zh:.35907,vB:-11.324},{$:525,lc:.3132,zh:.35968,vB:-15.628},{$:550,lc:.32129,zh:.36011,vB:-23.325},{$:575,lc:.32931,zh:.36038,vB:-40.77},{$:600,lc:.33724,zh:.36051,vB:-116.45}];
dM.aiR=function(l){var o=dM.ay1,D=2*l.x/(1.5-l.x+6*l.y),H=3*l.y/(1.5-l.x+6*l.y),_=0,u=0,S=0;for(;S<31;
S++){_=H-o[S].zh-o[S].vB*(D-o[S].lc);if(S>0&&_<0){break}u=_}while(S>=o.length)S--;_/=Math.sqrt(1+o[S].vB*o[S].vB);
u/=Math.sqrt(1+o[S-1].vB*o[S-1].vB);var h=u/(u-_),F=1e6/((o[S].$-o[S-1].$)*h+o[S-1].$),n=D-((o[S].lc-o[S-1].lc)*h+o[S-1].lc),R=H-((o[S].zh-o[S-1].zh)*h+o[S-1].zh),s=Math.sqrt(1+o[S].vB*o[S].vB),Z=1/s,O=o[S].vB/s,w=Math.sqrt(1+o[S-1].vB*o[S-1].vB),m=1/w,V=o[S-1].vB/w,q=(Z-m)*h+m,i=(O-V)*h+V,c=Math.sqrt(q*q+i*i);
q/=c;i/=c;var z=(n*q+R*i)*-3e3;return{M_:F,E8:z}};dM.Eb=function(l,o){var D=dM.ay1,H=1e6/l,_=1;for(;
_<31;_++){if(H<D[_].$){break}}var u=(D[_].$-H)/(D[_].$-D[_-1].$),S=(D[_-1].lc-D[_].lc)*u+D[_].lc,h=(D[_-1].zh-D[_].zh)*u+D[_].zh,F=Math.sqrt(1+D[_].vB*D[_].vB),n=1/F,R=D[_].vB/F,s=Math.sqrt(1+D[_-1].vB*D[_-1].vB),Z=1/s,O=D[_-1].vB/s,w=(Z-n)*u+n,m=(O-R)*u+R,V=Math.sqrt(w*w+m*m);
w/=V;m/=V;S+=w*o/-3e3;h+=m*o/-3e3;return{x:1.5*S/(S-4*h+2),y:h/(S-4*h+2)}};dM.aeg=function(l){var o=l[0]+l[1]+l[2];
return{x:l[0]/o,y:l[1]/o}};dM.U9=function(l){return{x:l.x/l.y,y:1,qi:(1-l.x-l.y)/l.y}};dM.a6b=function(l,o){var D=g.JX.OH([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),H=[l.x,l.y,l.qi,0],_=[o.x,o.y,o.qi,0];
H=g.JX.GS(D,H);_=g.JX.GS(D,_);var u=_[0]/H[0],S=_[1]/H[1],h=_[2]/H[2],F=g.JX.OH([u,0,0,0,S,0,0,0,h]),n=g.JX.L5(D);
return g.JX.multiply(g.JX.multiply(n,F),D)};g.raw.nv={};g.raw.R8=function(l){l*=8;var o=[8,10,12,14,16];
for(var D in CAMS){var H=CAMS[D];if(H.length==4)continue;var _=H[4],u=H[5];for(var v=0;v<o.length;v++)if(_*u*o[v]==l)return[D,o[v]]}var S=[[4e3,3e3]];
for(var v=0;v<S.length;v++){var H=S[v],_=H[0],u=H[1];for(var v=0;v<o.length;v++)if(_*u*o[v]==l)return[H,o[v]]}return null};
g.raw.atO=function(l){var l=new Uint8Array(l);for(var v=0;v<l.length;v+=2){var o=l[v];l[v]=l[v+1];l[v+1]=o}var D=g.raw.R8(l.length),H=CAMS[D[0]];
if(H==null)H=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,D[0][0],D[0][1]];var _=H[4],u=H[5],S=Math.max(H[2],116),h={data:l,r3:1,width:_,height:u,t256:[_],t257:[u],t258:[D[1]],t277:[1],t33421:[2,2],t33422:g.raw.hi[H[1]],t50706:[1,2,0,0],t50714:[S,S,S,S],t50717:[H[3]],t50721:H[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var v=0;v<9;v++)h.t50721[v]/=1e4;return h};g.raw.aq$=function(l){if(l==null||l.length==0||typeof l[0]=="number")return l;
var o=[];for(var v=0;v<l.length;v++)o[v]=l[v][1]==0?0:l[v][0]/l[v][1];return o};g.raw.hi=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
g.raw.normalize=function(l,o){if(l.t50706!=null||l.t271[0].startsWith("Hasselblad")){var D=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var v=0;v<D.length;v++)if(l["t"+D[v]]!=null)l["t"+D[v]]=g.raw.aq$(l["t"+D[v]]);if(l.t271&&l.t271[0].startsWith("Hasselblad")){l.t50706=[1,2,0,0];
l.t33422=g.raw.hi[1];l.t50723=[1,0,0,0,1,0,0,0,1];l.t50778=[17];if(!l.isLE)for(var v=0;v<l.data.length;
v+=2){var H=l.data[v];l.data[v]=l.data[v+1];l.data[v+1]=H}}if(l.t272&&l.t272[0]=="HERO10 Black"){l.t50728=[.469725,1,.739884];
if(!l.t305[0].startsWith("Adobe")){var _=new Uint16Array(l.data.buffer);for(var v=0;v<_.length;v++)_[v]>>>=2}}return}var u=l.t258[0],S=l.exifIFD,o=new Uint8Array(o);
l.t50706=[1,2,0,0];var h=l.t271[0].trim(),F=l.t272[0].trim();if(l.t50708==null)l.t50708=[h+" "+F];var n=(h+":"+F).toLowerCase(),R=CAMS[n];
if(n=="panasonic:dmc-lx2")R[3]=1<<16;if(R==null){alert("Unknown camera:"+n);if(n.startsWith("canon"))R=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(R!=null){var s=R[2];
l.t50714=[s,s,s,s];if(l.t272=="Canon EOS REBEL T3")R[3]=13584;l.t50717=[R[3]];l.t50721=R[0].slice(0);
for(var v=0;v<9;v++)l.t50721[v]=l.t50721[v]*(1/1e4)}l.t50723=[1,0,0,0,1,0,0,0,1];if(l.t50728==null)l.t50728=[.35,1,.6];
l.t50778=[17];if(h.startsWith("OLYMPUS")||h.startsWith("OM Digital Solutions")){l.t33422=[2,1,1,0];var Z=S.t41730,V;
if(Z)l.t33422=[Z[4],Z[5],Z[6],Z[7]];var O=l.t50341;if(O==null)O=S.t36864;var w=g.raw.aCP(O.buffer,l);
l.data=new Uint8Array(w.buffer);if((l.height&1)==1)l.t50829=[0,0,l.height-1,l.width];var m=S.makerNote,q=m.t8256;
if(q)V=q.t256;else V=m.t12288.t256;l.t50728=[256/V[0],1,256/V[1]]}else if(l.t271[0].startsWith("SONY")){var i=UTIF["_bin"+(l.isLE?"LE":"BE")],c=l.t28688,J;
if(JSON.stringify(c)!="[8000,10400,12900,14100]")console.log(c);if(c&&c.join("")!="0000"){var z=[0,0,0,0,0,4095],B=new Uint16Array(16385);
for(var v=0;v<4;v++){var t=c[v]>>>2;z[v+1]=t;if(t>4095)throw"e"}for(var v=0;v<16385;v++)B[v]=v;for(var v=0;
v<5;v++)for(var a=z[v]+1;a<=z[v+1];a++)B[a]=B[a-1]+(1<<v);var I=o.length*8<l.width*l.height*u;if(I)l.t50712=B}else console.log("no curve");
var N=l.dngPrvt;if(N){var Q=N.t29184[0],A=N.t29185[0],f=(l.isLE?x.K6:x.C)(N.t29217,0),W=new Uint32Array(o.slice(Q,Q+(A&4294967292)).buffer),C=new Uint32Array(A>>>2);
g.raw.acr(W,C,A>>>2,f);var j=new Uint8Array(Q+A);j.set(new Uint8Array(C.buffer),Q);var K=[];UTIF._readIFD(i,j,Q,K,0,!1);
var $=K.pop(),r=$.t29458;l.t50728=[r[1]/r[0],1,r[1]/r[3]];l.t50730=[.5];var U=$.t29891;l.t50829=[U[1],U[0],U[3],U[2]]}else if(S.makerNote&&S.makerNote.t8208){var J=S.makerNote,b=J.t8208,e=b.length,P=0,L=new Uint8Array(256);
for(var v=249;v<256;v++)L[v]=v;for(var v=0;v<249;v++)L[v*v*v%249]=v;for(var v=0;v<e;v++)b[v]=L[b[v]];
if(e==6604)P=612;else throw"e";var r=[];for(var v=0;v<3;v++)r.push(x.E_(b,P+v*2));console.log(r);l.t50728=[r[1]/r[0],1,r[1]/r[2]]}else console.log("no white balance");
if(l.width*l.height*1.5==l.t279[0]){s=s>>>2;l.t50714=[s,s,s,s];l.t50717=[R[3]>>>2]}}else if(l.t271[0].startsWith("Canon")){var o=l.data,Y=o.slice(0),X=l.t50752,G=[],T=0;
if(X==null||X[0]==0&&X[1]==0)G.push(l.width);else{for(var v=0;v<X[0];v++)G.push(X[1]);G.push(X[2])}var E=l.width*2,y=l.t50885&&l.t50885[0]==4;
if(!y)for(var d4=0;d4<G.length;d4++){var dH=G[d4],eV=2*T,bf=2*dH;for(var jd=0;jd<l.height;jd+=2){var i5=jd*E+eV,fD=l.height*eV+jd*bf;
for(var v=0;v<bf;v++){o[i5+v]=Y[fD+v];o[i5+v+E]=Y[fD+v+bf]}}T+=dH}else{var eo=new Uint16Array(Y.buffer),iX=new Uint16Array(o.buffer);
function cK(bW,hF){iX[hF*3+0]=eo[bW*3+0];iX[hF*3+1]=eo[bW*3+1];iX[hF*3+2]=eo[bW*3+2]}var g0=(X[0]*X[1]+X[2])/l.width;
for(var d4=0;d4<G.length;d4++){var dH=Math.round(G[d4]/g0);for(var jd=0;jd<l.height;jd++){var bW=l.height*T+(g0==3?(jd>>>3)*8+[0,4,1,5,2,6,3,7][jd&7]:jd)*dH,hF=jd*l.width+T;
for(var aJ=0;aJ<dH;aJ++)cK(bW+aJ,hF+aJ)}T+=dH}var iR=new Uint16Array(o.buffer),ex=new Uint16Array(1),dX=new Int16Array(ex.buffer);
for(var v=0;v<iR.length;v+=3){var iZ=iR[v],j3=iR[v+1],by=iR[v+2];ex[0]=j3<<2;j3=dX[0]>>2;ex[0]=by<<2;
by=dX[0]>>2;iR[v+0]=Math.max(0,by+iZ);iR[v+1]=Math.max(0,(iZ<<12)-j3*778-(by<<11)>>12);iR[v+2]=Math.max(0,j3+iZ)}}var J=S.makerNote,bW=J.t224;
if(bW){var Q=l.t50719=[bW[5],bW[6]],i9=l.t50720=[bW[7]+1-bW[5],bW[8]+1-bW[6]],dm=J.t154;if(dm){Q[0]+=dm[3];
Q[1]+=dm[4];i9[0]=dm[1];i9[1]=dm[2]}}if(J.t16385){var kh=J.t16385,jK=kh.length,bd=0;console.log(kh);
if(kh instanceof Array)kh=new Uint16Array(kh);if(jK==582)bd=1;else if(jK==653)bd=2;else if(jK==796)bd=3;
else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(jK)!=-1)bd=4;else if([1816,1820,1824,5120].indexOf(jK)!=-1){bd=5;
kh=new Int16Array(kh.slice(0).buffer)}else if(jK==1273||jK==1275)bd=6;else if([1312,1313,1316,1506].indexOf(jK)!=-1)bd=7;
else if([1560,1592,1353,1602].indexOf(jK)!=-1)bd=8;else if(jK==3656)bd=9;else if(jK==3778||jK==3973)bd=10;
else throw"e"+jK;var dz=kh[0],dw=[null,[25,166],[34,286],[63,196],[63],[71,dz==-4?333:dz==16||dz==17||dz==18||dz==19?329:264],[63,251],[63,dz==10?504:728],[63,326],[85,343],[105,363]],P=dw[bd][0],ev=dw[bd][1];
if(bd==4){if(kh[0]==2)ev=231;else if(kh[0]==3)ev=231;else if(kh[0]==4)ev=231;else if(kh[0]==5)ev=231;
else if(kh[0]==6)ev=231;else if(kh[0]==7)ev=231;else if(kh[0]==9)ev=231;else throw"e"}l.t50728=[kh[P+1]/kh[P],1,kh[P+1]/kh[P+3]];
var s=ev==null?1024:kh[ev];if(bd!=4)l.t50714=[s,s,s,s]}else{l.t50728=[.4,1,.6]}if(y){l.t277=[3];l.t50728=[1,1,1];
l.t50714=[0,0,0,0]}}else if(l.t271[0].startsWith("NIKON")){var J=S.makerNote,aq=l.isLE?x.E_:x.Kc,gh=0,gx=0,iK,af=0;
if(J.t61){var e3=J.t61,a9=[];for(var v=0;v<4;v++)a9[v]=e3[v]/Math.pow(2,14-u);l.t50714=a9}if(J.t3585){var e0=J.t3585,v=0,Q=22;
while(Q<e0.length&&v!=-4){var as=x.K6(e0,Q);Q+=4;Q+=14;v=x.K6(e0,Q)-4;Q+=4;if(as==1990472198){if(e0[Q]!=0)throw"Flip"}if(as==1990472199){var eK=x.E_(e0,Q);
if(eK==0)l.r3=1;else if(eK==270)l.r3=8;else throw"e "+eK}Q+=v}}if(J.t183){var gc=J.t183,i9=[];for(var v=0;
v<6;v++)i9.push(aq(gc,16+v*2));gh=i9[0];gx=i9[1]}if(J.t3614){var kQ=J.t3614;gh=x.K6(kQ,8);gx=x.K6(kQ,12)}if(gh!=0&&Math.max(gh,gx)<Math.max(l.width,l.height)){if(gh<gx){var H=gh;
gh=gx;gx=H}var aJ=l.width-gh>>>1,jd=l.height-gx>>>1;l.t50829=[jd,aJ,jd+gx,aJ+gh]}else l.t50829=[8,8,l.height-8,l.width-56];
var dn=J.t69;if(dn){var bQ=dn[1];if((bQ&1)==1)bQ++;l.t50829=[bQ,dn[0],bQ+dn[3],dn[0]+dn[2]]}if(J.t12){var cJ=g.raw.aq$(J.t12);
iK=[1/cJ[0],1,1/cJ[1]]}else if(J.t151){var i1=g.raw.aui(J,151),bu=i1[0],du=i1[1],gi=i1[2];if(bu=="0100"&&du>=80)throw"e";
else if(bu=="0102"){var iv=[];for(var v=0;v<4;v++)iv.push(aq(gi,6+v*2));iK=[iv[1]/iv[0],1,iv[1]/iv[3]]}else if(bu=="0103"&&du>=26){var iv=[];
for(var v=0;v<4;v++)iv.push(aq(gi,16+v*2));iK=[iv[1]/iv[0],1,iv[3]/iv[2]]}else if(bu=="0204"&&du>=564||bu=="0205"&&du>=284){var Q=bu=="0204"?6:14,iv=[];
for(var v=0;v<4;v++)iv.push(aq(gi,Q+v*2));iK=[iv[1]/iv[0],1,iv[1]/iv[3]]}else throw"e"}else console.log("no white balance info");
if(F=="NIKON D1")iK=[1,1,1];if(iK)l.t50728=iK;var d0=J.t150?J.t150:J.t140;if(d0){var eY=d0[af++],hV=d0[af++],fk;
if(eY==73||hV==88)af+=2110;af+=8;var i$=1<<u&32767,cz=aq(d0,af);af+=2;var B=[];if(cz>1)fk=Math.floor(i$/(cz-1));
if(eY==68&&hV==32&&fk>0){for(v=0;v<cz;v++){B[v*fk]=aq(d0,af);af+=2}for(v=0;v<i$;v++)B[v]=Math.floor((B[v-v%fk]*(fk-v%fk)+B[v-v%fk+fk]*(v%fk))/fk)}else if(eY!=70&&cz<=16385){i$=cz;
for(var v=0;v<cz;v++)B[v]=aq(d0,af+2*v);af+=2*cz}var F=l.t272[0];if(B.length!=0)l.t50712=new Uint16Array(B);
if(l.t258[0]==14&&l.t50717&&l.t50717[0]<1e4){console.log("fixing white");l.t50717[0]*=4}}}else if(h.startsWith("FujiFilm")){}else if(h.startsWith("Panasonic")){if(l.t277==null)l.t277=[1]}else alert("Unknown camera "+h)};
g.raw.acr=function(l,o,D,H){if(0==D)return;var _=new Uint32Array(128),u=new Uint8Array(_.buffer),S=127,h=0,F=0;
for(var S=0;S<4;S++)_[S]=H=(H*15625>>>0)*3125+1>>>0;_[3]=_[3]<<1|(_[0]^_[2])>>>31;for(var S=4;S<127;
S++)_[S]=(_[S-4]^_[S-2])<<1|(_[S-3]^_[S-1])>>>31;for(var S=0;S<127;S++)_[S]=x.C(u,S*4);for(;D>0;D--){_[S&127]=_[S+1&127]^_[S+1+64&127];
var n=_[S&127],R=l[h];R^=n;o[F]=R;h++;F++;S++}};g.raw.a1K=function(l,o){var D=x.Gk(o,0,4),H=g.raw.alw;
for(var v=0;v<H.length;v++)if(H[v][0]==l&&D.startsWith(H[v][1])&&(H[v][2]==0||H[v][2]==o.length))return H[v];
throw"e"};g.raw.af_=function(l){if(l.t29==null)return[];var o=g.raw.aoL,D=g.raw.ap8,H=l.t29[0],_=0,S=0;
for(var v=0;v<H.length;v++){var u=H.charCodeAt(v);_=_*10+(48<=u&&u<=57?u-48:u%10)}var du=l.t167[0];for(var v=0;
v<4;v++)S^=du>>>(v<<3)&255;var h=o[_&255],F=D[S&255];return[h,F,96]};g.raw.aui=function(l,o){var D=l["t"+o],du=D.length,H=g.raw.a1K(o,D),_=x.Gk(D,0,4),u,S=H[4];
if(S==null)u=D.slice(4);else{u=new Uint8Array(du-S);var h=g.raw.af_(l),F=h[0],n=h[1],R=h[2];for(var v=0;
v<u.length;v++){n=n+F*R++&255;u[v]=D[S++]^n}}return[_,du,u]};g.raw.aCP=function(l,o){var D=o.t271[0],H=o.t272[0],_=o.t256[0],u=o.t257[0],S=o.t258[0],h=o.t273[0],F=h,n=new Uint8Array(l),R,s=_-4,Z=u,O=n.length-h,V=0,q=0;
function w(){var t=new Uint16Array(4096),kC=0;t[kC]=3084;for(var v=12;v--;)for(var a=0;a<2048>>v;a++)t[++kC]=v+1<<8|v;
return t}function m(){return n[F++]}function i(t,a){var I;if(t>25)return 0;if(t==0||q<0)return 0;if(t<0){V=0;
q=0;return 0}while(q<t){I=m();if(I==null)break;V=(V<<8)+(255&I);q+=8}I=q==0?0:V<<32-q>>>32-t;if(a){q-=a[I]>>8;
I=255&a[I]}else q-=t;return I}function c(){var t=w();F+=7;i(-1);for(var a=0;a<Z;a++){var I=[new Int32Array(3),new Int32Array(3)];
for(var N=0;N<_;N++){var J=I[N&1],v=2*(J[2]<3),Q;for(Q=2+v;(65535&J[0])>>Q+v;Q++);var A=i(3),f=A&3;A=A<<29>>31;
var W=i(12,t);if(W==12)W=i(16-Q)>>>1;var C=i(Q);J[0]=W<<Q|C;var j=(J[0]^A)+J[1];J[1]=j*3+J[1]>>5;J[2]=J[0]>16?0:J[2]+1;
if(N>=s)continue;var K=R[a*_+N-2],kC=R[(a-2)*_+N],$=R[(a-2)*_+N-2];R[a*_+N]=(a<2&&N<2?0:a<2?K:N<2?kC:K<$&&$<kC||kC<$&&$<K?Math.abs(K-$)>32||Math.abs(kC-$)>32?K+kC-$:K+kC>>1:Math.abs(K-$)>Math.abs(kC-$)?K:kC)+(j<<2|f)}}}function z(){var t=_*S/8,a=u+1>>1,N=0,J=0;
t+=t&6>>7;var I=t*8-_*S;for(var Q=0;Q<u;Q++){var A=Q%a*2+~~(Q/a);if(A==1){N=0;F=h-(-a*t&-2048)}for(var f=0;
f<_;f++){for(N-=S;N<0;N+=8){J<<=8;for(var v=0;v<8;v+=8)J|=m()<<v}var W=J<<64-S-N>>>64-S;R[A*_+f]=W}N-=I}}function B(){var t=!D.startsWith("OLYMPUS")||!D.startsWith("OM Digi")||!D.toLowerCase().startsWith("clauss")&&!H.toLowerCase().startsWith("pix 5oo");
return t&&O<_*u}if(B()){R=new Uint16Array(s*Z);c()}else{R=new Uint16Array(_*u);z()}return R};g.raw.alw=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
g.raw.aoL=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
g.raw.ap8=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
g.Jj={};g.Jj.Jj=function(l,o,D,H,_){if(H==null)H=3;if(_==null)_=!0;var u=l.Q,S=l._,h=1/u,F=u*S,n=Date.now(),R=!1,s=g.Jj.ahe(D,u,S,255,128),Z=g.Jj.ahe(D,u,S,0,128),T=0;
if(R)console.log("extract contours",Date.now()-n);n=Date.now();var O=function(e0,as){var eK=e0<<2,gh=as<<2;
return o[eK]+o[eK+1]+o[eK+2]-(o[gh]+o[gh+1]+o[gh+2])};s.sort(O);Z.sort(O);var w=g.o(F),m=g.o(F),V=[],q=new Uint32Array(u*S);
q.fill(4294967295);for(var v=0;v<F;v++)if(D[v]==0)m[v]=255;else if(D[v]==255)w[v]=255;else{q[v]=V.length;
V.push(v)}var i=s.length,c=Z.length,z=V.length;function B(e0,as,eK,gh){var gx=e0.length,gc=new Array(gx*2);
for(var v=0;v<gx;v++){var K=e0[v],$=~~(K*gh),r=K-$*eK,aq=K<<2;gc[v*2]=r<<16|$;gc[v*2+1]=as[aq]<<16|as[aq+1]<<8|as[aq+2]}return gc}var t=B(s,o,u,h),a=B(Z,o,u,h),I=B(V,o,u,h);
if(R)console.log("Itemize",Date.now()-n,"Unknown:",z,i,c);n=Date.now();var N=g.style.Sr(w,u,S,!0),J=g.style.Sr(m,u,S,!0),Q=new Array(z),A=new Array(z),f=new Array(z),W=new Array(z),C=new Array(z);
if(R)console.log("Dist transform",Date.now()-n);n=Date.now();var j=g.Jj.$l;for(var v=0;v<z;v++){var K=V[v],$=~~(K*h),r=K-$*u,U=N[K<<1],b=N[(K<<1)+1],e=Math.sqrt(U*U+b*b),P=J[K<<1],L=J[(K<<1)+1],Y=Math.sqrt(P*P+L*L);
Q[v]=1/e;A[v]=1/Y;var X=Math.floor(g.z._5(K*17)*i),G=Math.floor(g.z._5(K*19)*c);f[v]=X;W[v]=G;C[v]=j(I[v*2],I[v*2+1],t[X*2],t[X*2+1],a[G*2],a[G*2+1],Q[v],A[v],1e9)}var E=[-u-1,-u,-u+1,-1,1,u-1,u,u+1];
while(Math.floor(Math.max(i,c)*Math.pow(.5,T))>1)T++;for(var y=0;y<H;y++){var d4=0;for(var v=0;v<z;v++){var K=V[v],$=~~(K*h),r=K-$*u,dH=Q[v],eV=A[v],bf=I[v*2],jd=I[v*2+1],i5=C[v],X=f[v],G=W[v],hF=1;
if($!=0&&r!=0&&r!=u-1&&$!=S-1)for(var fD=0;fD<8;fD++){var eo=q[K+E[fD]];if(eo==4294967295)continue;var cK=f[eo],g0=W[eo];
if(cK==X&&g0==G)continue;var bW=j(bf,jd,t[cK*2],t[cK*2+1],a[g0*2],a[g0*2+1],dH,eV,i5);if(bW<i5){i5=bW;
X=cK;G=g0}}for(var aJ=0;aJ<T;aJ++){var iR=~~(i*hF),ex=~~(c*hF);hF*=.5;var dX=g.z._5(K+y*17+aJ*31),iZ=g.z._5(K+y*29+aJ*63),j3=Math.max(0,X-iR),by=Math.min(X+iR,i-1),i9=Math.max(0,G-ex),dm=Math.min(G+ex,c-1),cK=j3+~~(dX*(by-j3)),g0=i9+~~(iZ*(dm-i9)),bW=j(bf,jd,t[cK*2],t[cK*2+1],a[g0*2],a[g0*2+1],dH,eV,i5);
if(bW<i5){i5=bW;X=cK;G=g0}}C[v]=i5;f[v]=X;W[v]=G;d4+=i5}}if(R)console.log(d4);if(R)console.log("iterations",Date.now()-n);
n=Date.now();var kh=D.slice(0);for(var v=0;v<z;v++){var dz=g.Jj.alpha(I[v*2+1],t[f[v]*2+1],a[W[v]*2+1]);
kh[V[v]]=~~(.5+255*dz)}kh=g.eE.a4S(kh,o,new gt(0,0,u,S),16,.01*.01);if(R)console.log("guided filter",Date.now()-n);
n=Date.now();if(_)for(var v=0;v<F;v++)if(D[v]==255||D[v]==0)kh[v]=D[v];var dw=o.slice(0);for(var v=0;
v<z;v++){var ev=V[v],X=s[f[v]],i5=C[v],aq=ev<<2,e3=kh[ev],a9=(e3>=250?ev:X)<<2;dw[aq]=o[a9];dw[aq+1]=o[a9+1];
dw[aq+2]=o[a9+2]}g.Kl(kh,dw,3);if(R)console.log(Date.now()-n);n=Date.now();return dw};g.Jj.$l=function(l,o,D,H,_,u,S,h,F){var n=l>>>16,R=l&65535,s=n-(D>>>16),Z=R-(D&65535),O=n-(_>>>16),w=R-(_&65535),m=Math.sqrt(s*s+Z*Z)*S,V=Math.sqrt(O*O+w*w)*h;
if(m+V>=F)return 1e9;var q=g.Jj.a3h(o,H,u);return q+m+V};g.Jj.a3h=function(l,o,D){var H=l>>>16,_=l>>>8&255,u=l&255,S=o>>>16,h=o>>>8&255,F=o&255,n=D>>>16,R=D>>>8&255,s=D&255,Z=g.Jj.alpha(l,o,D),O=H-(Z*S+(1-Z)*n),w=_-(Z*h+(1-Z)*R),m=u-(Z*F+(1-Z)*s);
return Math.sqrt(O*O+w*w+m*m)};g.Jj.alpha=function(l,o,D){var H=l>>>16,_=l>>>8&255,u=l&255,S=o>>>16,h=o>>>8&255,F=o&255,n=D>>>16,R=D>>>8&255,s=D&255,Z=S-n,O=h-R,w=F-s,m=H-n,V=_-R,q=u-s,i=Z*Z+O*O+w*w,c=i==0?.5:(m*Z+V*O+q*w)/i;
return Math.max(0,Math.min(1,c))};g.Jj.asu=function(l){};g.Jj.ahe=function(l,o,D,H,_){var u=[],S=o-1,h=D-1;
for(var F=1;F<h;F++)for(var n=1;n<S;n++){var v=F*o+n;if(l[v]==H&&(l[v-o-1]==_||l[v-o]==_||l[v-o+1]==_||(l[v-1]==_||l[v+1]==_)||(l[v+o-1]==_||l[v+o]==_||l[v+o+1]==_)))u.push(v)}return u};
g.eE={};g.eE.ab2=function(l,o,D,H,_){var u=D.Q,S=D._,h=u*S,F=g.eE.aqD,n=g.o(h*4),R;g.M5(n,4294967295);
var s=D,Z=l,O=o,w=H;g.Kl(l,n,0);R=g.hl(n,D);R=g.hl(R.G5,R.rect);s=R.rect;w=H>>>2;console.log(s,w);Z=g.o(s.c());
g.mA(R.G5,Z,0);g.Kl(o,n,0);R=g.hl(n,D);R=g.hl(R.G5,R.rect);O=g.o(s.c());g.mA(R.G5,O,0);var m=g.eE.apI(Z,O,s,w,_),V=m[0],q=m[1],i=new gt(0,0,s.Q*2,s._*2);
V=F(V,s,i,!0);V=F(V,i,D,!0);q=F(q,s,i,!0);q=F(q,i,D,!0);var c=g.o(h);for(var v=0;v<h;v++)c[v]=Math.max(0,Math.min(255,Math.floor(.5+(V[v]*o[v]+255*q[v]))));
return c};g.eE.l5=function(l,o,D,H){o.set(l);g.l5.a0H(o,D,H)};g.eE.aqD=function(l,o,D,H){var _=D.Q,u=D._,S=o.Q,h=o._,F=g.eE.E7,n=new Float32Array(_*u);
for(var R=0;R<h;R++){var s=(R+R)*_;for(var Z=0;Z<S;Z++){if(!0||Z==0||R==0||Z==S-1||R==h-1)n[s]=n[s+1]=n[s+_]=n[s+_+1]=l[R*S+Z];
else{n[s]=F(Z+.25,R+.25,l,S,h);n[s+1]=F(Z+.75,R+.25,l,S,h);n[s+_]=F(Z+.25,R+.75,l,S,h);n[s+_+1]=F(Z+.75,R+.75,l,S,h)}s+=2}}return n};
g.eE.E7=function(l,o,D,H,_){l-=.499999;o-=.499999;var u=Math.floor(l),S=Math.floor(o),h=S*H+u,F=l-u,n=o-S,R=(1-n)*(1-F),s=(1-n)*F,Z=n*(1-F),O=n*F;
if(D[h]==null||D[h+H+1]==null){console.log(l,o,H,_);throw"e"}return R*D[h+0]+s*D[h+1]+Z*D[h+H+0]+O*D[h+H+1]};
g.eE.apI=function(l,o,D,H,_){var u=D.Q,S=D._,h=u*S,F=g.eE.ayP,n=g.eE.o,R=g.eE.l5,s=g.eE.z$,o=F(o,h),l=F(l,h),Z=n(h);
R(o,Z,D,H);var O=n(h);R(l,O,D,H);var w=n(h);s(o,o,w);R(w,w,D,H);var m=n(h);s(o,l,m);R(m,m,D,H);var V=n(h),q=n(h);
for(var v=0;v<h;v++){var i=Z[v],c=O[v],z=w[v]-i*i,B=m[v]-i*c,t=B/(z+_),a=c-t*i;V[v]=t;q[v]=a}var I=n(h);
R(V,I,D,H);var N=n(h);R(q,N,D,H);return[I,N]};g.eE.a4S=function(l,o,D,H,_){var u=D.Q,S=D._,h=u*S,F=g.eE.aqD,n=Date.now(),R=!1,s=D,Z=l,O=o,w=H;
s=new gt(0,0,u>>>2,S>>>2);w=H>>>2;Z=g.eE.aiM(l,u,S);O=g.eE.a8Q(o,u,S);if(R)console.log(Date.now()-n);
n=Date.now();var m=g.eE.a41(Z,O,s,w,_),V=m[0],q=m[1],i=m[2],c=m[3];if(R)console.log(Date.now()-n);n=Date.now();
var z=g.o(h);for(var B=0;B<S;B++)for(var t=0;t<u;t++){var v=B*u+t,a=(B>>>2)*(u>>>2)+(t>>>2),I=v<<2,N=V[a]*o[I]+q[a]*o[I+1]+i[a]*o[I+2]+c[a]*255;
z[v]=Math.max(0,Math.min(255,~~(.5+N)))}if(R)console.log(Date.now()-n);n=Date.now();return z};g.eE.aiM=function(l,o,D){var H=o>>>2,_=D>>>2,u=g.o(H*_);
for(var S=0;S<_;S++)for(var h=0;h<H;h++)u[S*H+h]=l[S*o+h<<2];return u};g.eE.a8Q=function(l,o,D){var H=o>>>2,_=D>>>2,u=g.o(H*_*4);
for(var S=0;S<_;S++)for(var h=0;h<H;h++){var F=S*H+h<<2,n=S*o+h<<4;u[F]=l[n];u[F+1]=l[n+1];u[F+2]=l[n+2];
u[F+3]=l[n+3]}return u};g.eE.a41=function(l,o,D,H,_){var u=D.Q,S=D._,h=u*S,F=g.eE.ayP,n=g.eE.o,R=g.eE.l5,s=g.eE.z$,l=F(l,h),Z=new g.Q9(u*S);
g.gV(o,Z);var o=[F(Z.$,h),F(Z.H,h),F(Z.J,h)],O=g.eE.aAt(l,o,D,H,_),w=n(h);R(l,w,D,H);var m=n(h);s(o[0],l,m);
R(m,m,D,H);var V=n(h);s(o[1],l,V);R(V,V,D,H);var q=n(h);s(o[2],l,q);R(q,q,D,H);var i=n(h),c=n(h),z=n(h),B=n(h);
for(var v=0;v<h;v++){var t=w[v],a=O.sN[v],I=O.DV[v],N=O.V_[v],J=m[v]-a*t,Q=V[v]-I*t,A=q[v]-N*t;i[v]=O.asq[v]*J+O.SX[v]*Q+O.A4[v]*A;
c[v]=O.SX[v]*J+O.agB[v]*Q+O.Uy[v]*A;z[v]=O.A4[v]*J+O.Uy[v]*Q+O.as$[v]*A;B[v]=t-i[v]*a-c[v]*I-z[v]*N}R(i,i,D,H);
R(c,c,D,H);R(z,z,D,H);R(B,B,D,H);return[i,c,z,B]};g.eE.aAt=function(l,o,D,H,_){var u=D.Q,S=D._,h=u*S,F=g.eE.o,n=g.eE.l5,R=g.eE.z$,s={};
s.sN=F(h);n(o[0],s.sN,D,H);s.DV=F(h);n(o[1],s.DV,D,H);s.V_=F(h);n(o[2],s.V_,D,H);var Z=F(h);R(o[0],o[0],Z);
n(Z,Z,D,H);var O=F(h);R(o[0],o[1],O);n(O,O,D,H);var w=F(h);R(o[0],o[2],w);n(w,w,D,H);var m=F(h);R(o[1],o[1],m);
n(m,m,D,H);var V=F(h);R(o[1],o[2],V);n(V,V,D,H);var q=F(h);R(o[2],o[2],q);n(q,q,D,H);s.asq=Z;s.SX=O;
s.A4=w;s.agB=m;s.Uy=V;s.as$=q;for(var v=0;v<h;v++){var i=s.sN[v],c=s.DV[v],z=s.V_[v],B=Z[v]-i*i+_,t=O[v]-i*c,a=w[v]-i*z,I=m[v]-c*c+_,N=V[v]-c*z,J=q[v]-z*z+_,Q=I*J-N*N,A=N*a-t*J,f=t*N-I*a,W=B*J-a*a,C=a*t-B*N,j=B*I-t*t,K=Q*B+A*t+f*a,$=1/K;
s.asq[v]=Q*$;s.SX[v]=A*$;s.A4[v]=f*$;s.agB[v]=W*$;s.Uy[v]=C*$;s.as$[v]=j*$}return s};g.eE.o=function(l){return new Float32Array(l)};
g.eE.ayP=function(l,o){var D=new Float32Array(o);for(var v=0;v<o;v++)D[v]=l[v]*(1/255);return D};g.eE.z$=function(l,o,D){for(var v=0;
v<l.length;v++)D[v]=l[v]*o[v]};g.L$={};g.L$.G9=function(l,o,D,H){var _=l[o]-D[H],u=l[o+1]-D[H+1],S=l[o+2]-D[H+2];
return Math.sqrt(_*_+u*u+S*S)*(1/441.7)};g.L$.getSelection=function(l,o,D){var H=o*D,_=g.o(H),u=!1,S=Math.round(D*.7),h=1,F=new Uint32Array(12),n=g.o(12);
for(var R=0;R<S;R++)for(var s=0;s<o;s++){if(s<h||R<h||s>o-h-1||R>D-h-1){var v=R*o+s,Z=v<<2,O=0;if(R<h)O=4;
else if(s>o-h-1)O=8;F[O]+=l[Z];F[O+1]+=l[Z+1];F[O+2]+=l[Z+2];F[O+3]++;_[v]=255}}for(var v=0;v<12;v+=4)for(var w=0;
w<3;w++)n[v+w]=F[v+w]/F[v+3];var m=new Float32Array(H);for(var v=0;v<H;v++){var Z=v*4,V=g.L$.G9(l,Z,n,0),q=g.L$.G9(l,Z,n,4),i=g.L$.G9(l,Z,n,8),c=Math.max(V,Math.max(q,i));
m[v]=V+q+i-c}g.L$.Fe(m);var z=Date.now(),B=new Float32Array(H),t=[],a=g.o(H);for(var v=0;v<3;v++){g.mA(l,a,v);
var I=new Uint16Array(H);t.push(I);g.L$.aph(a,_,o,D,I)}if(u)console.log("MBD",Date.now()-z);z=Date.now();
for(var v=0;v<H;v++)B[v]=t[0][v]+t[1][v]+t[2][v];g.L$.Fe(B);for(var v=0;v<H;v++)B[v]+=.4*m[v];var N=o>>>1,S=D>>>1,J=1/Math.sqrt(N*N+S*S);
for(var R=0;R<D;R++)for(var s=0;s<o;s++){var Q=s-N,A=R-S,f=1-Math.sqrt(Q*Q+A*A)*J;B[R*o+s]*=f}if(u)console.log("Centeredness",Date.now()-z);
z=Date.now();for(var v=0;v<H;v++)_[v]=B[v]*255;var W=Math.round(o/120),C=Math.round(W*.8);if(u)console.log(W,C);
g.AF.vP(_,_,o,D,W+W+1,!1);if(u)console.log("erosion",Date.now()-z);z=Date.now();for(var v=0;v<H;v++)B[v]=_[v];
g.L$.Fe(B);var j=g.o(256);for(var v=0;v<256;v++)j[v]=256/(1+Math.exp(-20*(v/255-.5)));for(var v=0;v<H;
v++){var K=~~(B[v]*255+.5);_[v]=j[K]}if(u)console.log("Simoid",Date.now()-z);z=Date.now();return _};
g.L$.Fe=function(l){var o=l.length,D=0;for(var v=0;v<o;v++)D=Math.max(D,l[v]);var H=1/D;for(var v=0;
v<o;v++)l[v]=l[v]*H};g.L$.aph=function(l,o,D,H,_){var u=D*H,S=l.slice(0),h=l.slice(0);for(var v=0;v<u;
v++)_[v]=o[v]==255?0:65535;g.L$.abA(l,h,S,_,D,H);g.L$.aqq(l,h,S,_,D,H);g.L$.abA(l,h,S,_,D,H);g.L$.aqq(l,h,S,_,D,H);
return _};g.L$.abA=function(l,o,D,H,_,u){for(var S=1;S<_;S++)g.L$.it(S,-1,l,o,D,H);for(var h=1;h<u;h++){g.L$.it(h*_,-_,l,o,D,H);
for(var S=1;S<_;S++){var v=h*_+S;g.L$.it(v,-1,l,o,D,H);g.L$.it(v,-_,l,o,D,H)}}};g.L$.aqq=function(l,o,D,H,_,u){for(var S=_-2;
S>=0;S--)g.L$.it(_*u-_+S,1,l,o,D,H);for(var h=u-2;h>=0;h--){g.L$.it(h*_+_-1,_,l,o,D,H);for(var S=_-2;
S>=0;S--){var v=h*_+S;g.L$.it(v,1,l,o,D,H);g.L$.it(v,_,l,o,D,H)}}};g.L$.it=function(v,l,o,D,H,_){var u=v+l,S=o[v],h=D[u],F=H[u];
if(h<S)h=S;else if(S<F)F=S;var n=h-F;if(_[u]!=65535&&n<_[v]){_[v]=n;D[v]=h;H[v]=F}};g.KX={};g.KX.filter=function(l,o,D,H){var _=o.Q,u=o._,S=_*u,h=H[0],F=H[1],n=H[2],R=H[3],s=H[4],Z=H[5],O=H[6],w=Date.now(),m=new Float32Array(_*u*4);
g.KX.am_(l,_,u,m);var V=Math.ceil(h*Math.sqrt(-2*Math.log(.1))),q=new ArrayBuffer(S*4),i=new Float32Array(q),c=new Float32Array(S),z=new Float32Array(S);
for(var v=0;v<S;v++){var B=v*4;i[v]=m[B];c[v]=m[B+1];z[v]=m[B+2]}g.l5.X6(i,o,V*1/2.4,2);g.l5.X6(c,o,V*1/2.4,2);
g.l5.X6(z,o,V*1/2.4,2);for(var v=0;v<S;v++){var B=v*4;m[B]=i[v];m[B+1]=c[v];m[B+2]=z[v]}var t=new Uint8Array(q);
for(var v=0;v<S;v++){var B=v*4,a=v*4,i=m[B],c=m[B+1],z=m[B+2],I=Math.sqrt((i-z)*(i-z)+4*c*c),N=(i+z+I)*.5,J=(i+z-I)*.5,Q=J-z,A=c,f=Q*Q+A*A;
if(f!=0){var W=Math.sqrt(f),C=1/W;Q*=C;A*=C}t[a]=128+127*Q;t[a+1]=128+127*A}var j=1.3*F+2,K=R*(2/10),$=l.slice();
if(kx.X7){var r=new Float32Array([1/_,1/u]),U=kx.jx(0,_,u);U.set($);var b=kx.jx(1,_,u);b.set(t);kx._J(U,o);
if(s){U.XJ(o);kx.filter.xd({type:kx.filter.aa5,DW:r,aD6:1/n,ay7:K},U.M4)}U.XJ(o);kx.filter.xd({type:kx.filter.zQ,rj:b.mn,DW:r,a3N:j,aoC:2},U.M4);
if(s){U.XJ(o);kx.filter.xd({type:kx.filter.ak8,DW:r,ahy:new Float32Array(O),avi:Z},U.M4)}U.get(D)}else{if(s)g.KX.f$(1/n,K,$,_,u);
g.KX.zQ($,D,t,_,u,j);if(s)g.KX.ac$(_,u,D,O,Z)}var e=S*4;for(var v=3;v<e;v+=4)D[v]=l[v]};g.KX.zQ=function(l,o,D,H,_,u){var S=Math.ceil(2*u),h=-1/(2*u*u),F=[],n=1;
for(var v=0;v<S+20;v++)F[v]=Math.exp(v*v*h);var R=[0,0,0,0];for(var s=0;s<_;s++){for(var Z=0;Z<H;Z++){var O=s*H+Z,w=O*4,m=1,V=l[w],q=l[w+1],i=l[w+2],c=l[w+3],z=(D[w]-128)*(1/127),B=(D[w+1]-128)*(1/127),t=z,a=B,I=Z==0?.51:.49,N=s==0?.51:.49;
for(var v=0;v<2;v++){var J=Z+I,Q=s+N,A=0;while(A<S){if(J<.5||H-.5<J||Q<.5||_-.5<Q)break;var f=~~J,W=~~Q,C=W*H+f,j=C*4,K=(D[j]-128)*(1/127),$=(D[j+1]-128)*(1/127);
if(K*t+$*a<0){K=-K;$=-$}t=K;a=$;J+=n*K;Q+=n*$;if(J<.5||H-.5<J||Q<.5||_-.5<Q)break;var r=~~J,U=~~Q,b=U*H+r<<2;
A+=n;var e=F[~~A];g.t.axO(J,Q,l,H,_,R);V+=R[0]*e;q+=R[1]*e;i+=R[2]*e;c+=R[3]*e;m+=e}t=-z;a=-B}var P=1/m;
o[w]=~~(.5+V*P);o[w+1]=~~(.5+q*P);o[w+2]=~~(.5+i*P);o[w+3]=~~(.5+c*P)}}};g.KX.ac$=function(l,o,D,H,_){for(var u=0;
u<o;u++)for(var S=0;S<l;S++){var h=u*l+S<<2,F=1+g.KX.aav(S,u,D,l,o,H)*_;D[h]=Math.max(0,Math.min(255,D[h]*F));
D[h+1]=Math.max(0,Math.min(255,D[h+1]*F));D[h+2]=Math.max(0,Math.min(255,D[h+2]*F))}};g.KX.aav=function(l,o,D,H,_,u){var S=D[(o*H+Math.max(0,l-1))*4+3],h=D[(o*H+Math.min(H-1,l+1))*4+3],F=D[(Math.max(0,o-1)*H+l)*4+3],n=D[(Math.min(_-1,o+1)*H+l)*4+3],R=.7,s=(h-S)*(1/255),Z=.7,O=(n-F)*(1/255),w=-s*Z,m=-R*O,V=R*Z,q=Math.sqrt(w*w+m*m+V*V),i=1/q,c=w*i,z=m*i,B=V*i,t=u[0]*c+u[1]*z+u[2]*B;
return t};g.KX.f$=function(l,o,D,H,_){function u(h,n,R){return Math.max(n,Math.min(R,h))}for(var S=0;
S<_;S++)for(var h=0;h<H;h++){var F=g.KX.a6E(h+.5,S+.5,l,o);D[(S*H+h)*4+3]=Math.max(0,Math.min(255,F*255))}};
g.KX.a6E=function(l,o,D,H){function _(a,I,N){return(1-N)*a+N*I}var u=(l+613)*D,S=(o+117)*D,h=~~u,F=~~S,n=u-h,R=S-F,s=Math.sin(11),Z=Math.cos(h)*s,O=Math.cos(h+1)*s,w=Math.cos(F)*s,m=Math.cos(F+1)*s,kC=g.KX.hash(Z,w),V=g.KX.hash(O,w),q=g.KX.hash(Z,m),i=g.KX.hash(O,m),c=_(kC,V,n),z=_(q,i,n),B=_(c,z,R);
B=B<.5?0:1;var t=B+H*g.KX.hash(Math.cos(u)*s,Math.cos(S)*s);return t*(1/3)};g.KX.hash=function(l,o){var D=Math.sin(l*11.697096+o*73.32456)*12157.47691;
return D-Math.floor(D)};g.KX.am_=function(l,o,D,H){var _=[-1,0,1,-2,0,2,-1,0,1],u=[-1,-2,-1,0,0,0,1,2,1],S=o-1,h=D-1,F=o*4;
for(var n=1;n<h;n++)for(var R=1;R<S;R++){var v=n*o+R,s=v*4,Z=g.KX.ee(l,s,F,_),O=g.KX.ee(l,s,F,u),w=g.KX.ee(l,s+1,F,_),m=g.KX.ee(l,s+1,F,u),V=g.KX.ee(l,s+2,F,_),q=g.KX.ee(l,s+2,F,u);
H[s]=Z*Z+w*w+V*V;H[s+1]=Z*O+w*m+V*q;H[s+2]=O*O+m*m+q*q}g.KX.a65(H,o,D)};g.KX.ee=function(l,o,D,H){return l[o-D-4]*H[0]+l[o-D]*H[1]+l[o-D+4]*H[2]+l[o-4]*H[3]+l[o]*H[4]+l[o+4]*H[5]+l[o+D-4]*H[6]+l[o+D]*H[7]+l[o+D+4]*H[8]};
g.KX.a65=function(l,o,D){function H(F,v,n){var R=v*4,s=n*4;F[s]=F[R];F[s+1]=F[R+1];F[s+2]=F[R+2]}var _=o-1,u=D-1;
H(l,o+1,0);H(l,2*o-2,o-1);for(var S=1;S<_;S++)H(l,o+S,S);for(var h=1;h<u;h++){H(l,h*o+1,h*o);H(l,h*o+o-2,h*o+o-1)}for(var S=1;
S<_;S++)H(l,(D-2)*o+S,(D-1)*o+S);H(l,(h-2)*o+1,(h-1)*o);H(l,(h-1)*o-2,h*o-1)};g.Ik=function(){function l(n,R,s,Z){var O=new Float32Array(n*n),w=n/2;
for(var m=0;m<n;m++)for(var V=0;V<n;V++){var q=V+s-w,i=m+Z-w;O[m*n+V]=Math.max(0,Math.min(1,R+.5-Math.sqrt(q*q+i*i)))}return O}var o=[],H=null;
function D(n,R,s,Z){var O=Math.floor(R*10),w=o[O],m=n*8,V=m>>>1;if(w==null){w=o[O]=[];var q=new gt(0,0,m,m),i=n/2/(1+.2*R),c=Math.floor(n*O*.1);
for(var z=0;z<2;z++)for(var B=0;B<2;B++){var t=l(m,i,.25+B*.5,.25+z*.5),a=0;g.l5.X6(t,q,c);while(t[m*V+a]<.005)a++;
if(a!=0)a--;var I=2*(V-a),N=new gt(a,a,I,I),J=new Float32Array(I*I);for(var Q=0;Q<I;Q++)for(var A=0;
A<I;A++)J[Q*I+A]=t[(a+Q)*m+a+A];w.push([J,N])}}var f=Math.floor(s),W=Math.floor(Z),C=s-f,j=Z-W,K=C<.5?1:0,$=j<.5?1:0;
w=w[$*2+K];var N=w[1].clone();N.x+=f-V;N.y+=W-V;return[w[0],N]}function _(n,R,s){if(H==null){H=new Uint8Array(4e4);
for(var v=0;v<4e4;v++)H[v]=Math.min(255,~~(.5+255*g.vH(v*(1/255))))}var Z=n.length;for(var v=0;v<Z;v++){var O=n[v],w=~~(255*O);
R[v]=H[w]<<24|s}}function u(n,R,s,Z,O){var w=R.$o(Z),m=Math.max(0,w.x-R.x),V=Math.max(0,w.x-Z.x),q=Math.max(0,w.y-R.y),i=Math.max(0,w.y-Z.y),c=w.Q,z=w._;
for(var v=0;v<z;v++){var B=(q+v)*R.Q+m,t=(i+v)*Z.Q+V;for(var a=0;a<c;a++){s[t+a]+=O*n[B+a]}}}var S=-1;
function h(n,R,s,Z,O){var w=Math.round(Z[1]*R*s*.01),m=Z[2],V=Z[3],q=Z[4],i=Z[5],c=Z[6],z=Z[7],B=Z[8],t=Z[9],a=Z[10]?Z[10]:1,e=!1;
if(m!=S){o=[];S=m}var I=Date.now(),N=new gt(0,0,R,s),J=new F(Z[0]);if(O)n.fill(0);var Q=new Float32Array(O?n.buffer:R*s);
for(var v=0;v<w;v++){var A=J.get()*R,f=J.get()*s,W=J.get()*V,C=J.get()*m*4,j=(J.get()+c)*Math.PI*2,K=J.get()*m*4,$=(J.get()+2*c)*Math.PI*2;
A+=t*(C*Math.cos(j)+K*Math.cos($));f+=t*(C*Math.sin(j)+K*Math.sin($));if(B)f=f+c*s*a;var r=D(m,W,A,f%s),U=q,b=J.get();
if(z)U=.5+.5*q*(.5+.5*Math.sin((2*c+b)*2*Math.PI));u(r[0],r[1],Q,N,U)}if(e)console.log(Date.now()-I,"add floats");
I=Date.now();var P=new Uint8Array(Q.buffer);_(Q,new Uint32Array(P.buffer),i.J<<16|i.H<<8|i.$);if(e)console.log(Date.now()-I,"toInt");
I=Date.now();if(!O){g.z.JM("scrn",P,N,n,N,N,1);if(e)console.log(Date.now()-I,"blendOver")}}function F(n){this.H5=123456789;
this.u9=987654321;this.I=4294967295;this.WB(n)}F.prototype.WB=function(v){this.H5=123456789+v&this.I;
this.u9=987654321-v&this.I};F.prototype.get=function(){this.u9=36969*(this.u9&65535)+(this.u9>>16)&this.I;
this.H5=18e3*(this.H5&65535)+(this.H5>>16)&this.I;var n=(this.u9<<16)+(this.H5&65535)>>>0;n/=4294967296;
return n};return{nW:h}}();g._o={};g._o.BD=function(l,o,D,H){var _=l[o*2],u=l[o*2+1],S=l[D*2],h=l[D*2+1],F=l[H*2],n=l[H*2+1];
return _*h+S*n+F*u-F*h-S*u-_*n};g._o.a6u=function(l,o){var D=[],H=[],_=[],u={};for(var v=0;v<o.length;
v+=3){var S=~~(v*(1/3)),h=o[v+0],F=o[v+1],n=o[v+2],R=g._o.BD(l,h,F,n);if(R>0){var s=F;F=n;n=s}var Z=u[n+"-"+F],O=u[F+"-"+h],w=u[h+"-"+n],m=[n,Z,S,null],V=[F,O,S,m],q=[h,w,S,V];
m[3]=q;if(Z)Z[1]=m;if(O)O[1]=V;if(w)w[1]=q;u[n+"-"+h]=q;u[h+"-"+F]=V;u[F+"-"+n]=m;D[h]=V;_[v]=V;D[F]=m;
_[v+1]=m;D[n]=q;_[v+2]=q;H[S]=V}return{C8:D,YW:H,Ru:_}};g._o.aqN=function(l){var o=[],D=l.YW;for(var v=0;
v<D.length;v++){var H=D[v];o.push(H[0]);H=H[3];o.push(H[0]);H=H[3];o.push(H[0])}return o};g._o.a9a=function(l,o,D,H){var _=l[o*2],u=l[o*2+1],S=l[D*2],h=l[D*2+1],F=l[H*2],n=l[H*2+1],R=S-_,s=h-u,Z=F-_,O=n-u,w=R*(_+S)+s*(u+h),m=Z*(_+F)+O*(u+n),V=2*(R*(n-h)-s*(F-S));
if(Math.abs(V)<1e-5){var q=Math.min(_,S,F),i=Math.min(u,h,n),c=(Math.max(_,S,F)-q)*.5,z=(Math.max(u,h,n)-i)*.5;
return[q+c,i+z,c*c+z*z,1]}var B=(O*w-s*m)/V,t=(R*m-Z*w)/V,c=B-_,z=t-u;return[B,t,c*c+z*z,0]};g._o.avO=function(l,o,D){var H=D[1],_=D[3],u=_[3],S=H[3],h=S[3],F=D[2],n=H[2],R=D[0],s=H[0],Z=_[0],O=S[0],w=g._o.a9a(l,s,O,Z),m=l[R*2]-w[0],V=l[R*2+1]-w[1],q=m*m+V*V>w[2]&&w[3]==0&&g._o.BD(l,O,R,Z)<0&&g._o.BD(l,Z,s,O)<0;
if(q){D[0]=Z;H[0]=O;D[3]=u;u[3]=S;S[3]=D;H[3]=h;h[3]=_;_[3]=H;_[2]=n;S[2]=F;o.YW[n]=h;o.YW[F]=u;o.C8[s]=S;
o.C8[R]=_}return q};g._o.ao0=function(l,o,D){var H=l[o*2]-l[D*2],_=l[o*2+1]-l[D*2+1];return Math.sqrt(H*H+_*_)};
g._o.amK=function(l,o,D){var H=D[1],_=D[3],u=_[3],S,h,F=D[2],n,R=D[0],s=u[0],Z=_[0],O;if(H){S=H[3];h=S[3];
n=H[2];O=S[0]}var w=l.length>>>1;l[2*w]=(l[2*s]+l[2*R])*.5;l[2*w+1]=(l[2*s+1]+l[2*R+1])*.5;if(!0){var m=F,V=D,q=o.YW.length,i=[w,null,m,V],c=[Z,i,q,u];
i[1]=c;var z=[w,null,q,c];_[3]=i;u[3]=z;u[2]=q;o.YW[m]=_;o.YW[q]=z;o.C8[R]=_;o.C8[Z]=u;o.Ru.push(i,c,z)}if(H){var B=n,t=H,a=q+1;
z[1]=t,t[1]=z;var I=[w,null,B,t],N=[O,I,a,h];I[1]=N;var J=[w,V,a,N];V[1]=J;S[3]=I;h[3]=J;h[2]=a;o.YW[B]=S;
o.YW[a]=h;o.C8[s]=S;o.C8[O]=h;o.Ru.push(I,N,J)}o.C8[w]=V};g._o.akh=function(l,o){var D=0;while(!0){var H=D;
for(var v=0;v<o.Ru.length;v++){var _=o.Ru[v];if(_[1]==null)continue;var u=g._o.avO(l,o,_);if(u){D++;
break}}if(H==D)break}return D!=0};g._o.ag2=function(l,o,D,H){var _=0;for(var v=0;v<H;v++){var u=null,S=0;
for(var h=0;h<o.Ru.length;h++){var F=o.Ru[h],n=g._o.ao0(l,F[0],F[3][3][0])*(F[1]?1:2);if(n>S){u=F;S=n}}if(S>D){g._o.amK(l,o,u);
_++}}return _!=0};g._o.a0B=function(l,o){var D=[],Z=0;for(var v=0;v<l.length;v++)D.push(0);for(var v=0;
v<o.Ru.length;v++){var H=o.Ru[v],_=H[0],u=H[3][3][0],S=l[_*2],h=l[_*2+1],F=l[u*2],n=l[u*2+1],R=S-F,s=h-n;
D[_*2]+=-R;D[_*2+1]+=-s;D[u*2]+=R;D[u*2+1]+=s}for(var v=0;v<l.length;v+=2){var O=v>>>1,w=o.C8[O],H=w,m=!0;
do{if(H[1]==null){m=!1;break}H=H[1][3]}while(H!=w);if(m){var V=.02;l[v]+=V*D[v];l[v+1]+=V*D[v+1];Z+=V*(D[v]*D[v]+D[v+1]*D[v+1])}}return Z};
g._o.a0f=function(l,o,D){var H=g.X.dm(l),_=g._o.a6u(l,o);g._o.akh(l,_);for(var u=0;u<300;u++){var S=!1,h=!1;
S=g._o.ag2(l,_,D,5);if(S)h=g._o.akh(l,_);var F=g._o.a0B(l,_);if(!S&&!h&&F<1e-4){break}}return g._o.aqN(_)};
g.WL={};g.WL.aab=function(l){var o=l.hg,D=l.az,H=l.QE,_=l.BV,u=l.Da,S=l.zP,h=l._3,F=g.YF.Xk,i,c,z=0;
function n(kC){var d4=new Array(kC);for(var v=0;v<kC;v++)d4[v]=0;return d4}var R=D.length>>>1,s=n(o._F*2),Z=n(o._F),O=n(o._F),w=Date.now();
for(var v=0;v<l.xy.length;v++){var m=o.agp+v,V=o.pX*(S[v*2]+h[v*2]),q=o.pX*(S[v*2+1]+h[v*2+1]);s[m*2]=V;
s[m*2+1]=q;Z[m]=V;O[m]=q}o.a7$.IY(_,o.aoj.Xk(s),.01,i,c);for(var v=0;v<o.ae0.Ru.length;v++){var B=o.ae0.Ru[v],t=B[3][3][0],a=B[0],I=B[3][0],N=B[1]?B[1][3][0]:I;
if(B[1]&&t>a)continue;var J=D[t*2],Q=D[t*2+1],A=D[a*2],f=D[a*2+1],W=_[t*2],C=_[t*2+1],j=_[a*2],K=_[a*2+1],$=_[I*2],r=_[I*2+1],U=_[N*2],b=_[N*2+1],e=[W,C,j,K,$,r];
if(B[1])e.push(U,b);var P=F(o.auT[z],e),L=P[0],Y=P[1],X=1/Math.sqrt(L*L+Y*Y);L*=X;Y*=X;var G=A-J,E=f-Q;
Z[z]=L*G+Y*E;O[z]=-Y*G+L*E;z++}var T=new Array(R),y=new Array(R);for(var v=0;v<R;v++){T[v]=u[v*2];y[v]=u[v*2+1]}o.ayt.IY(T,o.alY.Xk(Z),.5);
o.ayt.IY(y,o.alY.Xk(O),.5);for(var v=0;v<R;v++){u[v*2]=T[v];u[v*2+1]=y[v]}};g.WL.a3w=function(l){var o=l.az,D=l.QE,H=l.xy,_=g.YF.multiply,u=Date.now(),S=g._o.a6u(o,D),h=o.length>>>1,F=0,w=0,Y=1e3;
for(var v=0;v<S.Ru.length;v++)F+=S.Ru[v][1]?.5:1;var n=F+H.length,R=[],s=new g.Li(n*2,h*2),Z=new g.Li(n,h),O=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],m=[],V=[];
for(var v=0;v<S.Ru.length;v++){var q=S.Ru[v],i=q[3][3][0],c=q[0],z=q[3][0],B=q[1]?q[1][3][0]:z;if(q[1]&&i>c)continue;
var t=o[i*2],a=o[i*2+1],I=o[c*2],N=o[c*2+1],J=o[z*2],Q=o[z*2+1],A=o[B*2],f=o[B*2+1],W=[[t,a,1,0],[a,-t,0,1],[I,N,1,0],[N,-I,0,1],[J,Q,1,0],[Q,-J,0,1]];
if(q[1])W.push([A,f,1,0],[f,-A,0,1]);var C=g.YF.ji(W),j=_(linear.invert(_(C,W)),C);j.pop();j.pop();R.push(j);
var K=I-t,$=N-a,r=O[q[1]?1:0];r=g.YF.c_(r,_([[K,$],[$,-K]],j));var U=[i*2,i*2+1,c*2,c*2+1,z*2,z*2+1,B*2,B*2+1],b=q[1]?8:6,e=[];
for(var P=0;P<b;P++)e.push([U[P],r[0][P],r[1][P]]);e.sort(function(d4,dH){return d4[0]-dH[0]});for(var L=0;
L<2;L++){for(var P=0;P<b;P++){m[P]=e[P][0];V[P]=e[P][1+L]}s.fy(V,m,b)}if(i<c)Z.fy([-1,1],[i,c],2);else Z.fy([1,-1],[c,i],2);
w++}for(var v=0;v<H.length;v++){var X=H[v];s.fy([Y],[X*2],1);s.fy([Y],[X*2+1],1);Z.fy([Y],[X],1)}var G=s.ji(),E=G.r4(G),T=Z.ji(),y=T.r4(T);
return{agp:F,_F:n,aoj:G,a7$:E,alY:T,ayt:y,ae0:S,auT:R,pX:Y}};g.WL.aje=function(l,o,D,H,_){var u=new gt(0,0,o,D),S=g.o(u.c());
g.mA(l,S,3);g.round(S,70);var h=g.uA(S,u),F=[.1,.065,.035][H]*Math.max(h.Q,h._),n=_+1,R=o+n*2,s=D+n*2,Z=new gt(-n,-n,R,s),O=g.o(Z.c());
g.mB(S,u,O,Z);var w=O.slice(0);for(var m=0;m<_;m++){for(var V=1;V<s-1;V++){for(var q=1;q<R-1;q++){var v=V*R+q;
w[v]=O[v-R]|O[v-1]|O[v]|O[v+1]|O[v+R]}}var i=w;w=O;O=i}var c=iS.ss(O,R,s,Math.round(h.c()*5e-4)),z=iS.CS(c),B=new de(1,0,0,1,-n,-n);
for(var v=0;v<z.length;v++){var t=z[v];g.X.h(t.path.s,B,t.path.s);t.az=g.WL.apz(t.path);t.QE=g.X.as0(t.az);
t.QE=g._o.a0f(t.az,t.QE,F)}return z};g.WL.apz=function(l){var o=[],D=l.s,H=l.v.length-1,_=0,u=0;for(var S=0;
S<H;S++){var v=S*6,h=D[v+6]-D[v+0],F=D[v+7]-D[v+1],n=Math.ceil(Math.sqrt(h*h+F*F));for(var R=0;R<n;R++){var s=R/n,Z=1-s,O=Z*Z*Z*D[v+0]+3*Z*Z*s*D[v+2]+3*Z*s*s*D[v+4]+s*s*s*D[v+6],w=Z*Z*Z*D[v+1]+3*Z*Z*s*D[v+3]+3*Z*s*s*D[v+5]+s*s*s*D[v+7];
o.push(O,w);_=O;u=w}}o=g.X.ahr(o,1);var m=[],V=o.length;for(var v=0;v<V;v+=2){var w=o.pop(),O=o.pop();
m.push(O,w)}return m};g.WL.ao2=function(l,o,D,H){function _(I,N,J,Q,A){var f=A[I*2]-A[N*2],W=A[I*2+1]-A[N*2+1],C=Math.sqrt(f*f+W*W);
if(J[I].indexOf(N)==-1){J[I].push(N);Q[I].push(C)}if(J[N].indexOf(I)==-1){J[N].push(I);Q[N].push(C)}}var u=l.length>>>1,S=new Array(u);
if(D.length==0){S.fill(0);return S}var h=new Array(u),F=new Array(u);for(var v=0;v<u;v++){h[v]=[];F[v]=[]}for(var v=0;
v<o.length;v+=3){_(o[v],o[v+1],h,F,l);_(o[v],o[v+2],h,F,l);_(o[v+1],o[v+2],h,F,l)}var n=new Float64Array(u*2),R=new Uint32Array(u*2);
n.fill(1e9);var s=new Uint8Array(u);for(var Z=0;Z<D.length;Z++){s.fill(0);var O=["---",[0,D[Z]]];while(O.length!=1){var w=g.atH.ZN(O),m=w[0],V=w[1];
if(s[V]==1)continue;var q=V<<1;if(m<n[q]){n[q+1]=n[q];R[q+1]=R[q];n[q]=m;R[q]=Z}else if(m<n[q+1]){n[q+1]=m;
R[q+1]=Z}s[V]=1;var i=h[V],c=F[V];for(var v=0;v<i.length;v++){var z=i[v];if(s[z]!=1){g.atH.IX(O,[m+c[v],z])}}}}for(var v=0;
v<u;v++){var q=v<<1,B=n[q],t=n[q+1],a=1/(B+t);S[v]=(1-B*a)*H[R[q]]+(1-t*a)*H[R[q+1]]}return S};g.WL.al_=function(l){var o={v:[],s:[]},D=[l];
while(D.length!=0){var H=D.pop(),_=H.EZ;if(H.as4 instanceof Array||H.a1o instanceof Array){o.v.push("M","L","L","L","Z");
o.s.push(_[0],_[1],_[2],_[1],_[2],_[3],_[0],_[3])}else D.push(H.as4,H.a1o)}return o};g.WL.qz=function(l,o,D,H,_,u,S,h,F,n,R){var s=Math.round(n.length/3),Z=new Array(s);
for(var v=0;v<s;v++)Z[v]=v;Z.sort(function(w,m){return F[n[w*3]]-F[n[m*3]]});for(var v=0;v<s;v++){var O=Z[v]*3;
g.WL.ad6(n[O]*2,n[O+1]*2,n[O+2]*2,S,h,l,o,D,H,_,u,R)}};g.WL.ad6=function(l,o,D,H,_,u,S,h,F,n,R,s){var Z=[l,o,D,1.2,1.2,1.2,0],O=[0,0,0,0],w=_[l],m=_[l+1],V=_[o],q=_[o+1],i=_[D],c=_[D+1],z=V-w,B=q-m,t=i-w,a=c-m,I=z*a-t*B+1e-9,N=1/I,J=Math.max(0,Math.min(S-1,H[l])),Q=Math.max(0,Math.min(S-1,H[o])),A=Math.max(0,Math.min(S-1,H[D])),f=Math.max(0,Math.min(h-1,H[l+1])),W=Math.max(0,Math.min(h-1,H[o+1])),C=Math.max(0,Math.min(h-1,H[D+1])),j=w<V?w<i?l:D:V<i?o:D,K=_[j+1]+.5,$=Math.max(0,Math.floor(Math.min(w,V,i))),r=Math.min(n,Math.ceil(Math.max(w,V,i))),U=Math.max(0,Math.floor(Math.min(m,q,c))),b=Math.min(R,Math.ceil(Math.max(m,q,c))),e=1e9;
for(var P=U;P<b;P++){var L=P>K&&e!=1e9?e:$;e=1e9;for(var Y=L;Y<r;Y++){var X=Y+.5-w,G=P+.5-m,E=(X*a-t*G)*N,T=(z*G-X*B)*N;
if(E>=0&&T>=0&&E+T<=1){if(e==1e9)e=Y;var y=1-E-T,d4=J*y+Q*E+A*T,dH=f*y+W*E+C*T;if(s){var eV=Math.floor(.5+dH)*S+Math.floor(.5+d4),bf=eV<<2,jd=P*n+Y<<2;
F[jd]=u[bf];F[jd+1]=u[bf+1];F[jd+2]=u[bf+2];F[jd+3]=u[bf+3]}else{g.t.axO(d4,dH,u,S,h,O);g.WL.ajN(O,F,P*n+Y<<2)}}else if(e!=1e9)break}}};
g.WL.ajN=function(l,o,D){if(l[3]>250){o[D]=~~(.5+l[0]);o[D+1]=~~(.5+l[1]);o[D+2]=~~(.5+l[2]);o[D+3]=~~(.5+l[3])}else{var H=o[D],_=o[D+1],u=o[D+2],S=o[D+3],h=1-l[3]*(1/255);
o[D]=~~(.5+l[0]+H*h);o[D+1]=~~(.5+l[1]+_*h);o[D+2]=~~(.5+l[2]+u*h);o[D+3]=~~(.5+l[3]+S*h)}};g.WL.ah7=function(){var l=function(D,H,_,u){var S=u[0],h=u[1],F=u[2],n=D[S+0],R=D[S+1],s=D[h+0],Z=D[h+1],O=D[F+0],w=D[F+1],m=s-n,V=Z-R,q=O-n,i=w-R,c=H-n,z=_-R,B=m*i-q*V,t=1/(B+1e-9),a=(c*i-q*z)*t,I=(m*z-c*V)*t;
if(a>=0&&I>=0&&a+I<=1){u[3]=1-a-I;u[4]=a;u[5]=I;return 1}return 0},o=function(D,H,_,u){var S=[0,0,0,0,0,0];
for(var v=0;v<H.length;v+=3){S[0]=H[v]*2;S[1]=H[v+1]*2;S[2]=H[v+2]*2;if(l(D,_,u,S)==1)return!0}return!1};
return{ak5:l,aa8:o}}();g.sF={};g.sF.a4Q=function(l,o,D,H){l=l.slice(0);if(H)g.Kl(H,l,3);else for(var v=0;
v<l.length;v+=4)l[v+3]=0;var _=g.o(o*D*4),u=!1;g.t.ri(l,o,D,_,[D,o,0,1,0,1,0,0]);return[g.sF.cg(l,o,D,u),g.sF.cg(_,D,o,u)]};
g.sF.h=function(l,o){var D=!1,H=l[0],_=l[1],u=H[1],S=H[2],h=H[3],F=o.Q,n=o._;if(S==F&&h==n)u=u.slice(0);
else if(h!=n){var R=g.o(S*n*4);g.sF.tX(_,n,R,D);u=g.o(S*n*4);g.t.ri(R,n,S,u,[S,n,0,1,0,1,0,0]);if(S!=F){H=g.sF.cg(u,S,n,D);
u=g.o(F*n*4);g.sF.tX(H,F,u,D)}}else if(S!=F){u=g.o(F*h*4);g.sF.tX(H,F,u,D)}for(var v=0;v<u.length;v+=4)u[v+3]=255;
return u};g.sF.cg=function(l,o,D,H){var _=Date.now(),u=new Uint16Array(o*D),n=1;g.sF.a3O(l,o,D,u);var S=g.o(o*D);
g.mA(l,S,3);for(var h=0;h<D;h++)for(var F=0;F<o;F++)u[h*o+F]+=Math.floor((65535-u[h*o+F])*S[h*o+F]*(1/255));
var R=Math.ceil(o/n),s=new Uint32Array(n),Z=new Uint32Array(n),R=Math.floor(o/n);for(var O=0;O<n;O++)Z[O]=O<n-1?R:o-(n-1)*R;
for(var h=0;h<D;h++){var v=h*o;for(var O=0;O<n;O++){var R=Z[O];for(var F=0;F<R;F++)s[O]+=u[v+F];v+=R}}if(H){console.log(Date.now()-_,"cost");
_=Date.now()}var w=new Uint32Array(o),m=new Uint32Array(o),V=new Uint32Array(o*D);for(var F=0;F<o;F++){V[(D-1)*o+F]=u[(D-1)*o+F]}for(var h=D-2;
h>=0;h--){var q=h*o;for(var O=0;O<n;O++){var R=Z[O];V[q]=u[q]+Math.min(V[q+o],V[q+o+1]);for(var F=1;
F<R-1;F++){var v=q+F;V[v]=u[v]+Math.min(V[v+o-1],Math.min(V[v+o],V[v+o+1]))}q+=R-1;V[q]=u[q]+Math.min(V[q+o-1],V[q+o]);
q++}}if(H){console.log(Date.now()-_,"Building M");_=Date.now()}function i(A,f){return A<f?A:f}function c(v,A){var f=m[v],W=V[A],C=~~(f*W*1e-4);
return C}var z=new Uint8Array(o*D),B=new Uint32Array(o);for(var v=0;v<o;v++){w[v]=v;m[v]=u[v]}for(var h=1;
h<D;h++){var t=0,q=h*o;for(var O=0;O<n;O++){var R=Z[O],v=q;B[t]=c(t,v);var a=B[t]+c(t+1,v+1),I=c(t,v+1)+c(t+1,v);
B[t+1]=i(a,I);for(var F=2;F<R;F++){var v=q+F,N=B[t+F-1]+c(t+F-1,v-1),J=B[t+F-2]+c(t+F-1,v-2)+c(t+F-2,v-1);
B[t+F]=i(N,J)}var F=R-1;while(F>=2){var v=q+F,N=B[t+F-1]+c(t+F-1,v-1),J=B[t+F-2]+c(t+F-1,v-2)+c(t+F-2,v-1);
if(B[t+F]==N){z[v-o]=1;F-=1}else{z[v-o]=0;z[v-o-1]=2;F-=2}}var v=q;if(F==0){z[v-o]=1}else{if(B[t+1]==a){z[v+1-o]=1;
z[v-o]=1}else{z[v+1-o]=0;z[v-o]=2}}q+=R;t+=R}g.sF.aq6(h,o,z,u,w,m,!0,_)}if(H){console.log(Date.now()-_,"Matching");
_=Date.now()}var Q=u;return[UZIP.adler(l,0,l.length),l,o,D,n,Z,s,w,m,z,Q]};g.sF.tX=function(l,o,D,H){var _=l.slice(0),u=_.shift(),S=_.shift(),h=_.shift(),F=_.shift(),n=_.shift(),R=_.shift(),s=_.shift(),Z=_.shift(),O=_.shift().slice(0),w=_.shift(),m=_.shift(),V=Date.now(),q=Math.abs(h-o),i=Math.floor(q/n),c=new Uint32Array(n),B=0,t=1e9,I=0,N=0,J=0;
for(var z=0;z<n;z++)c[z]=z<n-1?i:q-(n-1)*i;m.fill(0);for(var a=0;a<h;a++){B=Math.max(B,O[a]);t=Math.min(t,O[a])}for(var z=0;
z<n;z++){var Q=R[z],i=c[z];for(var A=0;A<i;A++){var f=0,W=1e9;for(var a=0;a<Q;a++)if(O[N+a]<W){W=O[N+a];
f=N+a}if(o<h)O[f]=1e9;else O[f]*=1.2;if(J<h/3)I+=W;var C=Z[f],j=m[C],K=j<65280?65280:j+1;if(K<65280)throw"e";
for(var $=0;$<F;$++){var v=$*h+C;m[v]=K;C+=w[v]-1}J++}N+=Q}if(H){console.log(Date.now()-V,"Removing best seams");
V=Date.now()}function r(v,b){var e=v<<2,P=b<<2;D[e]=S[P];D[e+1]=S[P+1];D[e+2]=S[P+2];D[e+3]=S[P+3]}for(var $=0;
$<F;$++){var U=0,v=$*h;for(var a=0;a<o;a++,U++){if(o<h){while(m[v+U]==65280)U++;r($*o+a,$*h+U)}else{r($*o+a,$*h+U);
while(m[v+U]>=65280){m[v+U]--;a++;r($*o+a,$*h+U)}}}}if(H){console.log(Date.now()-V,"Shifting image pixels");
V=Date.now()}};g.sF.aq6=function(l,o,D,H,_,u){var S=0,v=l*o;while(S<o){if(D[v-o]==1){u[S]=u[S]+H[v];
S++;v++}else{var h=_[S];_[S]=_[S+1];_[S+1]=h;var F=u[S];u[S]=u[S+1]+H[v];u[S+1]=F+H[v+1];S+=2;v+=2}}};
g.sF.a3O=function(l,o,D,H){function _(l,v,F){var s=v<<2,Z=F<<2,O=l[s]-l[Z],w=l[s+1]-l[Z+1],m=l[s+2]-l[Z+2];
return Math.abs(O)+Math.abs(w)+Math.abs(m)}for(var u=1;u<o;u++){var S=_(l,u,u-1);H[u-1]+=S;H[u]+=S}for(var h=1;
h<D;h++){var F=h*o,S=_(l,F,F-o);H[F]+=S;H[F-o]+=S;for(var u=1;u<o;u++){var v=h*o+u,n=_(l,v,v-1),R=_(l,v,v-o);
H[v-o]+=R;H[v-1]+=n;H[v]+=R+n}}for(var h=0;h<D;h++){H[h*o]*=2;H[h*o+o-1]*=2}for(var v=0;v<H.length;v++)if(H[v]==0)H[v]=1};
g.gQ=function(){function l(){return 1953e6+Math.floor(Math.random()*999999)}function o(W,C){var j=C[0]-W[0],K=C[1]-W[1];
return j*j+K*K}function D(W,C,j,K,$,r,U,b){var e=j-W,P=K-C,L=g.X.uF(W,C,e,P,$,r,U-$,b-r),Y=[W+L*e,C+L*P],X=L>0?[[[W,C],Y,!1,0,1],[[$,r],Y,!1,0,5]]:[[[j,K],Y,!1,0,1],[[U,b],Y,!1,0,5]];
return X}function H(W,C){var j=D(W[0],W[1],W[2],W[3],W[6],W[7],W[4],W[5]),K=D(W[0],W[1],W[6],W[7],W[2],W[3],W[4],W[5]),$=[j,K],r=[j[0][1],K[0][1]];
for(var v=0;v<2;v++){var U=r[1-v],b=$[v];if(o(b[0][0],U)<o(b[1][0],U)){var e=b[0];b[0]=b[1];b[1]=e}}var P=[l(),0,-1,0,[0,0],j[0],j[1],K[0],K[1]],L=B(P,C),Y=L[1][0];
P[3]=Y;P[4]=L[0][Y];P[5][3]=P[6][3]=L[0].indexOf(P[5][1]);P[7][3]=P[8][3]=L[0].indexOf(P[7][1]);if((P[6][3]+1)%3!=P[7][3]){var e=P[5];
P[5]=P[7];P[7]=e;var e=P[6];P[6]=P[8];P[8]=e}for(var v=0;v<4;v++)P[5+v][4]=[1,5,7,3][v];return P}function _(W){var C=W[5],j=W[8],K=W[6],$=C[0],r=j[0],U=K[0],b=C[1],e=j[1],P=r[0],L=r[1],Y=e[0]-P,X=e[1]-L,G=g.X.uF(P,L,Y,X,U[0],U[1],b[0]-U[0],b[1]-U[1]);
return[$[0],$[1],P,L,P+G*Y,L+G*X,U[0],U[1]]}function u(W,C){return W[0]==C[0]&&W[1]==C[1]}function S(W){return{1:0,5:1,7:2,3:3}[W]}function h(W,C,j){var K=C[5+S(W)],$=K[1],r=K[0][0]-$[0],U=K[0][1]-$[1],b=Math.sqrt(r*r+U*U);
r/=b;U/=b;for(var e=0;e<j.length;e++){var P=j[e];if(P[0]!=C[1]&&P[1]!=C[0])continue;for(var v=0;v<4;
v++){var L=P[5+v],Y=L[0];if(!u($,L[1]))continue;var X=Y[0]-$[0],G=Y[1]-$[1];b=Math.sqrt(X*X+G*G);X/=b;
G/=b;var E=X*r+G*U;if(Math.abs(E-1)<1e-7)return!0}}return!1}function F(W,C){g.t.h(W,C);return C}function n(W,C){var j=[];
for(var K=0;K<W.length;K++){var $=W[K],r=$[1];for(var U=0;U<r.length;U++){if(C&&C[K].indexOf(U)==-1)continue;
var b=r[U],e=[],P=g.t.kb(_(b),new gt(0,0,1,1));for(var v=1;v<=7;v+=2){e[v]=h(v,b,r)}if(!e[1]){if(!e[7])j.push([F(P,[0,0]),K,U,0]);
j.push([F(P,[.5,0]),K,U,1])}if(!e[3]){if(!e[1])j.push([F(P,[1,0]),K,U,2]);j.push([F(P,[1,.5]),K,U,3])}if(!e[5]){if(!e[3])j.push([F(P,[1,1]),K,U,4]);
j.push([F(P,[.5,1]),K,U,5])}if(!e[7]){if(!e[5])j.push([F(P,[0,1]),K,U,6]);j.push([F(P,[0,.5]),K,U,7])}}}return j}function R(W){var C=W.length-2,j=0;
for(var v=0;v<C;v+=2)j+=(W[v+2]-W[v])*(W[v+1]+W[v+3]);j+=(W[0]-W[C])*(W[C+1]+W[1]);return-j*.5}function s(W,C,j,K){}function Z(W,v){var C=W[v+2&7]-W[v&7],j=W[v+3&7]-W[v+1&7],K=1/Math.sqrt(C*C+j*j);
return[C*K,j*K]}function O(W){var C=W[2];W[2]=W[6];W[6]=C;var C=W[3];W[3]=W[7];W[7]=C}function w(W,C,j,K){if(K==null)K=0;
var $=C[1],r=_(C),G=null,E,dH,eV,by,i9,X,dm;if($==0){if(R(r)<0)O(r);var U=6,b=r[7]+r[1];for(var v=0;
v<6;v+=2){var e=r[v+1]+r[v+3];if(e<b){b=e;U=v}}r=r.slice(U).concat(r.slice(0,U));var P=p.WS.wo(r,j[0],j[1]),L=Math.sqrt(o(r,r.slice(2))),Y=Math.sqrt(o(r.slice(4),r.slice(6))),X=(L+Y)*.5;
return[r,new gt(0,0,X,X/P)]}for(var v=0;v<W.length&&G==null;v++){E=W[v][1];for(var T=0;T<E.length&&G==null;
T++)if(E[T][0]==$)G=E[T]}var y=w(W,G,j,K+1),d4=y[0];y=y[1];for(var v=0;v<8;v+=2){var bf=d4[v&7],jd=d4[v+1&7],i5=d4[v+2&7],fD=d4[v+3&7];
for(var T=0;T<8;T+=2){var eo=r[T],iX=r[T+1],cK=r[T+2&7],g0=r[T+3&7],bW=Math.abs(g.X.CC(bf,jd,i5,fD,eo,iX))+Math.abs(g.X.CC(bf,jd,i5,fD,cK,g0));
if(bW<=30){dH=T;eV=v}}}var hF=Z(d4,eV),aJ=Z(r,dH),iR=hF[0]-aJ[0],ex=hF[1]-aJ[1],dX=iR*iR+ex*ex;if(dX<.001){O(r);
dH={0:6,2:4,4:2,6:0}[dH]}while(dH!=(eV+4&7)){r.unshift(r.pop());dH=dH+1&7}var P=p.WS.wo(r,j[0],j[1]),iZ=g.t.kb(d4,y);
iZ=g.t.L5(iZ);var j3=[r[dH],r[dH+1],r[dH+2&7],r[dH+3&7]];g.t.h(iZ,j3);var kh=g.X.dm(j3);if(eV==0||eV==4){X=kh.Q;
dm=X/P;by=kh.x;i9=kh.y+(eV==0?-dm:0)}else{dm=kh._;X=dm*P;i9=kh.y;by=kh.x+(eV==6?-X:0)}return[r,new gt(by,i9,X,dm)]}function m(W,C){function j(Y,X,G,E){var T=F(Y,[X,G]);
T.push(E);return T}var K=[];for(var $=0;$<W.length;$++){var r=W[$],U=r[1];for(var b=0;b<U.length;b++){var e=U[b],P=w(W,e,C),L=P[0],Y=g.t.kb(L,new gt(0,0,1,1));
K.push(j(Y,.5,0,1));K.push(j(Y,1,.5,3));K.push(j(Y,.5,1,5));K.push(j(Y,0,.5,7));K.push(j(Y,.5,.5,[P?(P[1].Q/P[1]._).toFixed(2):""].join(", ")))}}return K}function V(W,C,j,K){var $=[C],r=[C];
while(!0){var U=[];for(var v=0;v<W.length;v++){var b=W[v],e=!1;for(var P=0;P<$.length;P++){if(b[1]==W[$[P]][0]||b[0]==W[$[P]][1])U.push(v)}}var L=$.length;
for(var v=0;v<U.length;v++){var Y=U[v],b=W[Y];if(r.indexOf(Y)!=-1)continue;r.push(Y);var X=w([[10,W]],b,K);
if(X[1].Q5(j))$.push(Y)}if(L==$.length)break}return $}function q(W,C,j){var K=j[0],$=j[1],r=C.x-W[0],U=C.y-W[1],b=g.X.uF(W[0],W[1],r,U,$[0],$[1],K[0]-$[0],K[1]-$[1]);
return[W[0]+b*r,W[1]+b*U]}function i(W,C,j){W=JSON.parse(JSON.stringify(W));var K=W[C[1]][1][C[2]],$=C[3]>=8,r=C[3]&7;
if((r&1)==0)return W;var U=S(r);if(r==1||r==7){var b=K[5+U],e=K[5+2-U],P=K[5+(r==1?3:1)],L=K[5+(r==1?1:3)],Y=b[1],X=q(Y,j,e);
if(!$&&o(X,e[1])<o(L[0],e[1]))return W;b[0]=e[0]=X;P[0]=q(Y,j,P)}else{var P=K[5+U],Y=P[1],b=K[5+(r==3?0:2)],X=q(Y,j,b);
if(!$&&o(X,b[1])>o(b[0],b[1]))return W;if(Math.sign(b[1][0]-b[0][0])!=Math.sign(b[1][0]-X[0]))return W;
P[0]=X}return W}function c(W,C,j){var K=C[0]-W[0],$=C[1]-W[1],r=g.X.uF(j[0],j[1],-$,K,W[0],W[1],K,$);
return[j[0]-$*r,j[1]+K*r]}function z(W,C,j){var K=j[0],$=j[1],F=c(W,C,j),r=F[0],U=F[1],b=c(W,j,C),e=g.X.uF(r,U,K-r,$-U,C[0],C[1],b[0]-C[0],b[1]-C[1]);
return[r+(K-r)*e,U+($-U)*e]}function B(W,C){var j=W[5][1],K=W[7][1],$=z(j,K,C),r=[j,K,$];r.sort(function(e,P){return e[0]-P[0]});
if(R([r[0][0],r[0][1],r[1][0],r[1][1],r[2][0],r[2][1]])<0){var U=r[1];r[1]=r[2];r[2]=U}var b=[r.indexOf(j),r.indexOf(K),r.indexOf($)];
return[r,b]}function t(W,C,j){W=JSON.parse(JSON.stringify(W));var K=C[1],$=W[K][1][C[2]],r=C[3];if((r&1)!=1)return W;
var U=B($,j),b=U[1][2],e=U[0][b],P=JSON.parse(JSON.stringify($));W[K][1].push(P);P[0]=l();P[1]=$[0];
P[2]=-10+r;P[3]=b;P[4]=e;if(r==1||r==5){P[7][3]=P[8][3]=b;P[7][1]=P[8][1]=e;if(r==5){P[5][0]=P[7][0]=$[6][0];
P[8][0]=_($).slice(4,6)}}else{P[5][3]=P[6][3]=b;P[5][1]=P[6][1]=e;if(r==3){P[5][0]=P[7][0]=$[8][0];P[6][0]=_($).slice(4,6)}}return W}function a(W,C,j){W=JSON.parse(JSON.stringify(W));
var K=C[1],$=W[K][1][C[2]],r=$[2]+10,U=r+4&7,b=r==1||r==5,e=$[5+S(b?7:1)][1],P=$[5+S(U)][0],L=$[5+S(r)][0];
$[2]=(b?90:0)+(o(P,e)<o(L,e)?180:0);var Y=H(_($),j);for(var v=5;v<9;v++)$[v]=Y[v];return W}function I(W,C,j){var kC=W.length>>1,K,$=W[2*kC-3]-j,r=W[2*kC-2]-C,U=W[2*kC-1]-j,b=!1,e=0;
for(var v=0;v<kC;v++){K=r;$=U;r=W[2*v]-C;U=W[2*v+1]-j;if($==U)continue;b=U>$}for(var v=0;v<kC;v++){K=r;
$=U;r=W[2*v]-C;U=W[2*v+1]-j;if($<0&&U<0)continue;if($>0&&U>0)continue;if(K<0&&r<0)continue;if($==U&&Math.min(K,r)<=0)return!0;
if($==U)continue;var P=K+(r-K)*-$/(U-$);if(P==0)return!0;if(P>0)e++;if($==0&&b&&U>$)e--;if($==0&&!b&&U<$)e--;
b=U>$}return(e&1)==1}function N(W,C,j,K,$){var r=null;for(var U=0;U<W.length;U++){var b=W[U][1];for(var e=0;
e<b.length;e++){var P=_(b[e]);if(I(P,C,j)||$&&$[0]==U&&$[1]==e&&r==null){r=[U,e];if(K){var L=w(W,b[e],K),Y=g.t.kb(L[0],L[1]),X=[C,j];
Y=g.t.L5(Y);g.t.h(Y,X);r.push(X)}}}}return r}function J(W,C){for(var j=0;j<W.length;j++){var K=W[j][1],$=C[j];
if($.length==0)continue;var r=Q(K,$);for(var U=0;U<K.length;U++){if(r.indexOf(K[U][0])!=-1){K.splice(U,1);
U--}}}for(var j=0;j<W.length;j++)if(W[j][1].length==0){W.splice(j,1);j--}return W}function Q(W,C){var j=[];
for(var v=0;v<10;v++)for(var K=0;K<W.length;K++){var $=W[K];if(C.indexOf(K)!=-1||j.indexOf($[1])!=-1)if(j.indexOf($[0])==-1)j.push($[0])}return j}function A(W){var C=x.Gk(W,0,W.length),j=C.split("\n").slice(1);
function K(){return parseFloat(j.shift())}function $(){var eo=[K(),K()];r(1);return eo}function r(kC){for(var v=0;
v<kC;v++)j.shift()}var U=[],b=K();for(var e=0;e<b;e++){var P=K(),L=K(),Y=[];U.push([P,Y]);for(var X=0;
X<L;X++){var G=K(),E=K(),T=K(),y=K(),d4=$(),dH=[G,E,T,y,d4];Y.push(dH);for(var v=0;v<4;v++){var eV=$(),bf=$(),jd=K()==1,i5=K(),fD=K();
dH.push([eV,bf,jd,i5,fD])}}}return U}function f(W){function C(L){j.push(L[0],L[1],"")}var j=["tNaF203"];
j.push(W.length);for(var K=0;K<W.length;K++){j.push(W[K][0]);var $=W[K][1];j.push($.length);for(var r=0;
r<$.length;r++){var U=$[r];j.push(U[0],U[1],U[2],U[3]);C(U[4]);for(var v=0;v<4;v++){var b=U[5+v];C(b[0]);
C(b[1]);j.push(b[2]?1:0,b[3],b[4])}}}var e=j.join("\n"),P=new Uint8Array(e.length);x.RN(P,0,e);return P}return{x2:A,Y8:f,a4m:_,a8l:H,Ha:n,aye:i,DF:m,a0D:function(W,C){return C&&(C[3]&1)==0&&W[C[1]][1].length==1},tQ:function(W,C){return C&&(C[3]&1)==1},Me:w,a12:t,ae3:a,aCu:J,vc:Q,wM:N,TM:V}}();
g.axG=function(){var l=0,o=0,H=15,u=256;function D(R,s,Z,O,w,m){var V=(w-1)*s,q=m*s;return R[q+O]-R[q+Z-1]-R[V+O]+R[V+Z-1]}var _=Math.round(H/8),S=[];
function h(R,s){for(var Z=0;Z<s.length;Z++){var O=s[Z],w=0,m=0,V=R[O.YV],q=V.n2,i=V.pX,c=V.B9;for(var z=-H;
z<=H;z++)for(var B=-H;B<=H;B++){var t=B+O.azJ,a=z+O.abg;if(B*B+z*z>H*H||t<0||a<0||t>=i||a>=i)continue;
var I=q[a*i+t];w+=B*I;m+=z*I}O.$M=Math.atan2(m,w)}}function F(R,s,Z,O,w){var m=~~(R+.5),V=~~(s+.5);return D(Z,O,m-_,m+_,V-_,V+_)}function n(R,s,Z,O,w){l=O;
o=w;if(S.length==0){var m=new g.z.yu(16200817),c=8,z=0;function V(d4){var J=d4[0]-d4[2],Q=d4[1]-d4[3];
return J*J+Q*Q}function q(){var d4=0,dH=0;while(d4===0)d4=m.get();while(dH===0)dH=m.get();return Math.sqrt(-2*Math.log(d4))*Math.cos(2*Math.PI*dH)}var i=q,B=[];
while(z!=u){var t=Math.max(-H,Math.min(H,i()*c)),a=Math.max(-H,Math.min(H,i()*c)),I=Math.max(-H,Math.min(H,i()*c)),N=Math.max(-H,Math.min(H,i()*c)),J=t-I,Q=a-N,A=Math.sqrt(J*J+Q*Q);
if(A<3||A>12)continue;S.push(t,a,I,N);z++}}var f=20;for(var W=0;W<s.length;W++){var C=s[W],j=R[C.YV],K=j.l6,Z=j.n2,O=j.pX,w=j.B9,$=C.azJ,r=C.abg,U=C.$M,b=Math.cos(U),e=Math.sin(U),P=new Uint8Array(u>>>3);
C.M1=P;for(var v=0;v<u;v++){var L=v*4,t=S[L+0],a=S[L+1],I=S[L+2],N=S[L+3],Y=b*t-e*a,X=e*t+b*a,G=b*I-e*N,E=e*I+b*N,T=F($+Y,r+X,K,O,w),y=F($+G,r+E,K,O,w);
P[v>>>3]|=(T<y?0:1)<<(v&7)}}}return{aBB:h,anU:n}}();g.a61=function(){function l(o,D){var H=[[9]],_=Date.now(),u=[];
for(var S=0;S<o.length;S++){var h=o[S],F=h.l6,n=h.pX,R=h.B9,O=9,c=1,C=24;if(F==null)continue;var s=new Float32Array(n*R),Z=new Uint8Array(n*R),w=O>>>1,m=w>>>1,V=Math.round(O/3);
if(V!=O/3)throw"e";var q=1/(O*O),i=1.2*(O/9);for(var z=w+1;z<R-w;z+=c)for(var B=w+1;B<n-w;B+=c){var t=g.zv(F,n,B-m,B+m,z-w,z+w)-3*g.zv(F,n,B-m,B+m,z-w+V,z+w-V),a=g.zv(F,n,B-w,B+w,z-m,z+m)-3*g.zv(F,n,B-w+V,B+w-V,z-m,z+m),I=B-w+1,N=B+w-1,J=z-w+1,Q=z+w-1,A=g.zv(F,n,I,B-1,J,z-1)+g.zv(F,n,B+1,N,z+1,Q)-g.zv(F,n,B+1,N,J,z-1)-g.zv(F,n,I,B-1,z+1,Q),f=(a*t-.9*A*(.9*A))*(q*q);
s[z*n+B]=Math.abs(f);Z[z*n+B]=f<0?0:1}var W=n*c;for(var z=C;z<R-C;z+=c)for(var B=C;B<n-C;B+=c){var v=z*n+B,j=s[v];
if(j<16)continue;if(s[v-c]>=j||s[v+c]>=j)continue;if(s[v-W-c]>=j||s[v-W]>=j||s[v-W+c]>=j)continue;if(s[v+W-c]>=j||s[v+W]>=j||s[v+W+c]>=j)continue;
u.push({x:~~(B*h.zK+.5),y:~~(z*h.zK+.5),azJ:B,abg:z,YV:S,P:j,ata:Z[v],lv:i})}}if(D!=null){u.sort(function(L,Y){return Y.P-L.P});
u=u.slice(0,D)}return u;var K=[];for(var v=0;v<u.length;v++){var $=!0,r=u[v];for(var U=0;U<u.length;
U++){var b=u[U];if(U!=v&&b.P>r.P&&(b.YV==r.YV+1||b.YV==r.YV-1)){var e=r.x-b.x,P=r.y-b.y;if(e*e+P*P<5){$=!1;
break}}}if($)K.push(r)}console.log(u.length,K.length);return K}return{aEC:l}}();g.ib={};g.ib.auP=function(l){var o=l.length,D=g.ib.aef(l,!1),_=0,u=1;
throw"e";var H=[];for(var v=0;v<o;v++)H[v]=g.ib.aCA(D[v]);var S=l[0][1],h=g.ib.match(D[_],D[u],H[u]);
console.log(h.length);var F=Math.max(Math.min(h.length,40),h.length*.54);F=Math.min(F,200);var n=h.slice(0,F),R=g.VB.atG(D[_],D[u],n,S.Q,S._),s=g.VB.a7t(R,[0,0,0],1),Z=S.Q/2,O=S._/2,w=1/Math.max(Z,O);
for(var v=0;v<1;v++){var m=n[v],V=D[_][m[0]],q=D[u][m[1]],i=g.VB.a2X(s,w*(V.x-Z),w*(V.y-O),w*(q.x-Z),w*(q.y-O))}var c=g.VB.a8U(R,S),z=[];
for(var v=0;v<2;v++){var B=c[v],t=[B[0][0],B[0][1],B[0][2],B[1][0],B[1][1],B[1][2],B[2][0],B[2][1]],a=p.cA.Ua(l[v],null,t);
z.push([a.buffer,a.rect])}return[g.ib.a0T(z[0],z[1],D[_],D[u],n,R,c,S)]};g.ib.Hi=function(l,o){var D=l.length,H=!1,_=Date.now(),u=g.ib.aef(l,!1,1e4);
if(H)console.log("Descriptors ready",Date.now()-_);_=Date.now();for(var v=0;v<D;v++){var S=l[v][1];for(var h=0;
h<u[v].length;h++){u[v][h].x+=S.x;u[v][h].y+=S.y}}if(H)console.log("shifted",Date.now()-_);_=Date.now();
var F=[];for(var v=0;v<D;v++)F[v]=g.ib.aCA(u[v]);if(H)console.log("trees built",Date.now()-_);_=Date.now();
var n=[];for(var v=0;v<D-1;v++)for(var h=v+1;h<D;h++){var R=g.ib.match(u[v],u[h],F[h]);if(H)console.log("Matches found",v,h,R.length);
R=R.slice(0,R.length>>>1);if(R.length<10)continue;var s=g.ib.awQ(u[v],u[h],R,2);n.push([v,h,R,s])}n.sort(function(N,J){return J[2].length-N[2].length});
if(H)console.log("Matches found",Date.now()-_);_=Date.now();var Z=[],O=new UnionFind(D);for(var v=0;
v<n.length;v++){var w=n[v],m=O.find(w[0]),V=O.find(w[1]);if(m!=V){Z.push(w);O.link(m,V)}}var q=[];for(var v=0;
v<D;v++)q[v]=[1,0,0,0,1,0,0,0];var i=[0],c=new Uint8Array(D);c[i[0]]=1;while(i.length!=0){var V=i.pop(),s=q[V],z=[];
for(var v=0;v<Z.length;v++){var w=Z[v],B=w[0],t=w[1];if(B==V&&c[t]==0){q[t]=g.t.GM(s,w[3]);i.push(t);
c[t]=1}if(t==V&&c[B]==0){q[B]=g.t.GM(s,g.t.L5(w[3]));i.push(B);c[B]=1}}}if(o==null){var a=[];for(var v=0;
v<D;v++)a.push([q[v][2],v]);a.sort(function(N,J){return N[0]-J[0]});o=a[a.length>>>1][1]}var I=g.t.L5(q[o]);
for(var v=0;v<D;v++)q[v]=g.t.GM(q[v],I);if(H)console.log("Transforms reordered",Date.now()-_);_=Date.now();
return q};g.ib.aef=function(l,o,D){var H=[],_=!1;for(var v=0;v<l.length;v++){var u=l[v][0],S=l[v][1],h=S.Q,F=S._,n=g.o(S.c());
g.Hx(u,n);var R=Date.now(),s=g.ib.a8S(n,S,!0);if(_)console.log("Pyramid built ---------------",Date.now()-R);
R=Date.now();var Z=g.a61.aEC(s,D);if(_)console.log("SURF Generation",Date.now()-R);R=Date.now();if(!o){g.axG.aBB(s,Z);
if(_)console.log("ORB Orientations",Date.now()-R);R=Date.now();g.axG.anU(s,Z,n,h,F);if(_)console.log("ORB Descriptors",Date.now()-R);
R=Date.now()}H.push(Z)}return H};g.ib.a8S=function(l,o,D){var H=[],_=[l,o];g.mk(_);if(D){var u=g.auZ(l,o),S=u.rect,h=[u.G5,S];
g.mk(h)}for(var v=0;v<_.length;v++){var F=_[2*v],n=_[2*v+1],R=n.Q,s=n._,Z=Math.min(R,s);if(Z<30)break;
if(Z<1600)H.push({n2:F,pX:R,B9:s,zK:1<<v,l6:g.bs(F,R,s)});if(!D)continue;var F=h[2*v],n=h[2*v+1],R=n.Q,s=n._,Z=Math.min(R,s);
if(Z<30)break;if(Z<1600)H.push({n2:F,pX:R,B9:s,zK:(1<<v)*3/2,l6:g.bs(F,R,s)})}return H};g.ib.awQ=function(l,o,D,H){var _=Date.now(),u,S=0,h=0,F=D.length,n=new Float64Array(2);
for(var R=0;R<3e3;R++){var s=~~(Math.random()*F),Z=~~(Math.random()*F),O=~~(Math.random()*F),w=~~(Math.random()*F),W=0,C=0;
if(s==Z||s==O||s==w||Z==O||Z==w||O==w)continue;var m=D[s],V=D[Z],q=D[O],i=D[w],c=l[m[0]],z=o[m[1]],B=l[V[0]],t=o[V[1]],a=l[q[0]],I=o[q[1]],N=l[i[0]],J=o[i[1]],Q=[c.x,c.y,B.x,B.y,a.x,a.y,N.x,N.y],A=[z.x,z.y,t.x,t.y,I.x,I.y,J.x,J.y],f=g.t.aCl(Q,A);
if(f[0]==0&&f[1]==0&&f[3]==0&&f[4]==0)continue;var j=F-S+2;for(var v=0;v<F&&v-W<j;v++){var K=l[D[v][0]],$=o[D[v][1]];
g.t.jN($.x,$.y,f,n);var r=n[0]-K.x,U=n[1]-K.y,b=r*r+U*U;if(b<H){W++;C+=b}}if(W>S||W==S&&C<h){u=f;S=W;
h=C}}return u};var aO=new Uint8Array(256);for(var v=0;v<256;v++){var du=0,kC=v;while(kC!=0){kC=kC&kC-1;
du++}aO[v]=du}g.ib.afP=function(l,o,D){var H=0,_=l.length;for(var v=0;v<_&&H<D;v++)H+=aO[l[v]^o[v]];
return H};g.ib.a2f=function(l,o,D,top,H){if(H[D]==1)return;var _=g.ib.afP(l.M1,o.M1,top[0]);if(_<top[0]){if(_<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=_;top[3]=D}else{top[0]=_;top[1]=D}}H[D]=1};g.ib.aCA=function(l){var o=[],D=[],H=[[],[]],_=4;
for(var v=0;v<l.length;v++)(l[v].ata==0?o:D).push(v);for(var u=0;u<2;u++){var S=new Array(_),h=[],F=u==0?o:D,n=F.length/256,R=[];
for(var s=0;s<32;s++){var Z=new Array(256),m=0;for(var O=0;O<256;O++)Z[O]=[];for(var O=0;O<F.length;
O++){var w=F[O];Z[l[w].M1[s]].push(w)}for(var O=0;O<256;O++)m+=Math.abs(Z[O].length-n);R.push([m,s,Z])}R.sort(function(V,q){return V[0]-q[0]});
var h=[],S=[];H[u]=[h,S];for(var v=0;v<_;v++){h.push(R[v][1]);S.push(R[v][2])}}return H};g.ib.match=function(l,o,D){var H=[],_=new Uint16Array(o.length);
_.fill(65535);var u=new Uint8Array(o.length),top=new Uint32Array(4),S=[];for(var h=0;h<l.length;h++){var F=l[h],n=F.M1;
top.fill(1e6);u.fill(0);var R=D[F.ata];for(var s=0;s<R[1].length;s++){var Z=R[1][s][n[R[0][s]]];for(var O=0;
O<Z.length;O++){var w=Z[O];g.ib.a2f(F,o[w],w,top,u)}}if(top[2]<50&&top[2]<top[0]*.5){var m=_[top[3]];
if(m==65535){_[top[3]]=H.length;H.push([h,top[3],top[2]])}else if(top[2]<H[m][2]){H[m]=[h,top[3],top[2]]}}}H.sort(function(V,q){return V[2]-q[2]});
return H};g.ib.axs=function(l){var o=new gt;for(var v=0;v<l.length;v++)o=o.tB(l[v][1]);var D=g.o(o.c()*4);
for(var v=0;v<l.length;v++)g.z.JM("norm",l[v][0],l[v][1],D,o,o,1);return[D,o]};g.ib.a0T=function(l,o,D,H,_,u,S,h){var F=l[1].clone(),n=F.clone();
F.x=F.y=0;var R=o[1].clone(),s=R.clone();R.x=R.y=0;R.x=F.Q;var Z=F.tB(R),O=s.y-n.y,w=g.o(Z.c()*4);g.Qo(l[0],F,w,Z);
g.Qo(o[0],new gt(R.x,R.y+O,R.Q,R._),w,Z);var m=document.createElement("canvas");m.width=Z.Q;m.height=Z._;
var V=m.getContext("2d");V.lineWidth=.5;V.putImageData(new ImageData(new Uint8ClampedArray(w.buffer),Z.Q,Z._),0,0);
if(u){var q=u[0],i=g.YF.ji(q),c=F.Q,z=h.Q;for(var v=0;v<_.length;v++){var B=_[v],l=D[B[0]],o=H[B[1]];
V.strokeStyle="#"+"ff0000";V.beginPath();var t=g.VB.ae_(i,S[0],o,0,z),a=g.VB.ae_(q,S[1],l,0,z);V.moveTo(-n.x+t[0],-n.y+t[1]);
V.lineTo(-n.x+t[2],-n.y+t[3]);V.moveTo(c-s.x+a[0],-s.y+O+a[1]);V.lineTo(c-s.x+a[2],-s.y+O+a[3]);V.stroke()}}if(_){var I=_.length;
for(var v=0;v<I;v++){var B=_[v],l=D[B[0]],o=H[B[1]];V.strokeStyle="#"+"ffff00"}}var N=new Uint8Array(V.getImageData(0,0,Z.Q,Z._).data.buffer);
if(!1){for(var J=0;J<2;J++){var Q=J==0?D:H,A=J*F.Q;for(var v=0;v<Q.length;v++){var f=Q[v],W=~~f.x,C=~~f.y,j=(C*Z.Q+W+A)*4;
N[j+1]=N[j+2]=f.awb*60;N[j+0]=0;N[j+3]=255}}}return[N,Z]};g.stack={};g.stack.stack=function(l,o,D){var H=l.length,_=o.length;
if(H==1){o.set(l[0]);return}if(D=="avrg"||D=="stdv"||D=="summ"||D=="vari"){var u=1/H;for(var v=0;v<_;
v++){var S=0;for(var h=0;h<H;h++)S+=l[h][v];var F=~~(S*u+.5);if(D=="avrg"||(v&3)==3)o[v]=F;else if(D=="summ")o[v]=255*Math.pow(Math.min(255,S)*(1/255),1/2.4);
else{var n=0;for(var h=0;h<H;h++){var R=l[h][v]-F;n+=R*R}var s=Math.sqrt(n*u)*(1/255);if(D=="stdv")o[v]=255*Math.pow(s,1/2.4);
else o[v]=255*Math.pow(s*s,1/2.4)}}}else if(D=="maxx"){for(var v=0;v<_;v++){var Z=0;for(var h=0;h<H;
h++)Z=Math.max(Z,l[h][v]);o[v]=Z}}else if(D=="minn"){for(var v=0;v<_;v++){var Z=255;for(var h=0;h<H;
h++)Z=Math.min(Z,l[h][v]);o[v]=Z}}else if(D=="medn"||D=="rang"){var O=function(q,i){return q-i},w=new Array(H),m=0,V=0;
if((H&1)==0){V=H>>>1;m=V-1}else{m=V=H>>>1}for(var v=0;v<_;v++){for(var h=0;h<H;h++)w[h]=l[h][v];w.sort(O);
if(D=="medn")o[v]=w[m]+w[V]>>>1;else o[v]=(v&3)==3?w[H-1]:w[H-1]-w[0]}}else console.log(D)};g.CR={};
g.CR.a5R=function(l,o,D,H){var _=Date.now(),u=new Uint32Array(o*D),S=new Uint8Array(o*D);while(!0){S.fill(0);
u.fill(0);var h=[],F=0;for(var n=0;n<D;n++){for(var R=0;R<o;R++){var v=n*o+R;if(S[v]==0){var s=h.length,Z=g.CR.JA(l,o,D,R,n,S,u,s);
h.push([s,R,n,Z[0],Z[1],l[v]]);if(Z[0]<H)F++}}}if(F==0)break;var O=h.length,w=new UnionFind(O),m=[];
for(var v=0;v<O;v++)m.push([]);for(var v=0;v<O;v++){var Z=h[v],V=Z[4],q=0,i=0;if(Z[3]>=H)continue;var s=Z[0];
for(var c=0;c<V.length;c+=2){var z=u[V[c+1]*o+V[c]],B=h[z];if(B[3]>i){i=B[3];q=z}}if(w.find(s)!=w.find(q)){w.link(s,q);
m[s].push(q);m[q].push(s)}}var t=new Uint32Array(O);t.fill(4294967295);var a=new Uint32Array(O);for(var v=0;
v<O;v++){if(t[v]!=4294967295||m[v].length==0)continue;var I=[v],N=[v],J=v,Q=h[v][3];while(N.length!=0){var A=N.pop(),f=m[A];
for(var c=0;c<f.length;c++){var W=f[c];if(I.indexOf(W)==-1){I.push(W);N.push(W);var C=h[W];if(C[3]>Q){Q=C[3];
J=W}}}}for(var c=0;c<I.length;c++){t[I[c]]=J;var j=h[J];a[I[c]]=l[j[2]*o+j[1]]}}for(var n=0;n<D;n++)for(var R=0;
R<o;R++){var v=n*o+R,K=t[u[v]];if(K!=4294967295)l[v]=a[K]}}};g.CR.JA=function(l,o,D,H,_,u,S,h){var F=[H,_],n=l[_*o+H],R=0,s=[];
u[_*o+H]=1;while(F.length!=0){var Z=F.pop(),O=F.pop(),v=Z*o+O;S[v]=h;R++;if(Z!=D-1)if(l[v+o]==n){if(u[v+o]==0){F.push(O,Z+1);
u[v+o]=1}}else s.push(O,Z+1);if(Z!=0)if(l[v-o]==n){if(u[v-o]==0){F.push(O,Z-1);u[v-o]=1}}else s.push(O,Z-1);
if(O!=o-1)if(l[v+1]==n){if(u[v+1]==0){F.push(O+1,Z);u[v+1]=1}}else s.push(O+1,Z);if(O!=0)if(l[v-1]==n){if(u[v-1]==0){F.push(O-1,Z);
u[v-1]=1}}else s.push(O-1,Z)}return[R,s]};g.CR.avQ=function(l,o,D){var H=new Uint32Array(o*D);for(var v=0;
v<H.length;v++)H[v]=l[v];var _=[];for(var u=0;u<D;u++){for(var S=0;S<o;S++){var v=u*o+S,h=H[v];if(h<1e3){var F=g.CR.afv(H,o,D,S,u,1e3+_.length);
_.push([S,u,h,F,0])}}}for(var v=0;v<H.length;v++)H[v]-=1e3;var n=new Float32Array(o*D);n.fill(o+D);for(var u=0;
u<D;u++)for(var S=0;S<o;S++){var v=u*o+S,h=H[v];if(S==0||u==0||H[v-1]!=h||H[v-o]!=h)n[v]=0;else{var R=Math.min(n[v],n[v-1]+1,n[v-o]+1);
if(H[v-o-1]==h)R=Math.min(R,n[v-o-1]+1.414);n[v]=R}}for(var u=D-1;u>=0;u--)for(var S=o-1;S>=0;S--){var v=u*o+S,h=H[v];
if(S==o-1||u==D-1||H[v+1]!=h||H[v+o]!=h)n[v]=0;else{var R=Math.min(n[v],n[v+1]+1,n[v+o]+1);if(H[v+o+1]==h)R=Math.min(R,n[v+o+1]+1.414);
n[v]=R}}for(var u=0;u<D;u++)for(var S=0;S<o;S++){var v=u*o+S,s=_[H[v]];if(n[v]>s[4]){s[4]=n[v];s[0]=S;
s[1]=u}}return _};g.CR.afv=function(l,o,D,H,_,u){var S=[H,_],h=l[_*o+H],F=0;l[_*o+H]=4294967295;while(S.length!=0){var _=S.pop(),H=S.pop(),v=_*o+H;
F++;l[v]=u;if(_<D-1&&l[v+o]==h){S.push(H,_+1);l[v+o]=4294967295}if(_>0&&l[v-o]==h){S.push(H,_-1);l[v-o]=4294967295}if(H>0&&l[v-1]==h){S.push(H-1,_);
l[v-1]=4294967295}if(H<o-1&&l[v+1]==h){S.push(H+1,_);l[v+1]=4294967295}}return F};g.CR.aDu=function(l,o,D,H,_){var u=g.CR.aAo(l.buffer,o,D).Wo,S=Date.now(),h=[];
for(var v=0;v<u.length;v++){var F=u[v],n=1;for(var R=0;R<n;R++)h.push(F.oe)}var s=new Uint32Array(h),Z=UPNG.quantize.getKDtree(new Uint8Array(s.buffer),H),O=[o,1,-o,-1,o+1,-o+1,-o-1,o-1,o+o,2,-o-o,-2,o+o-1,o+o+1,o+2,-o+2,-o-o+1,-o-o-1,-o-2,o-2,o+o+2,-o-o+2-o-o-2,o+o-2],w=new Uint8Array(o*D),m=l;
for(var V=0;V<D;V++)for(var q=0;q<o;q++){var v=V*o+q<<2,i=m[v]*(1/255),c=m[v+1]*(1/255),z=m[v+2]*(1/255),B=m[v+3]*(1/255),t=g.CR.gG(Z,i,c,z,B,_);
if(t==null){var a=[],I=0;while(I<20){var N=V*o+q+O[I]<<2,J=m[N]*(1/255),Q=m[N+1]*(1/255),A=m[N+2]*(1/255),f=m[N+3]*(1/255),W=g.CR.gG(Z,J,Q,A,f,.005);
if(W!=null){if(a.indexOf(W)==-1){a.push(W);W.vC=1}else W.vC++}I++}a.sort(function(B,z){return z.vC-B.vC});
while(a.length!=0&&a[a.length-1].vC<3)a.pop();if(a.length==0)t=g.CR.gG(Z,i,c,z,B,100);else if(a.length==1)t=a[0];
else if(a.length==2){var C=a[0],j=a[1],K=C.est.q,$=j.est.q,r=$[0]-K[0],U=$[1]-K[1],b=$[2]-K[2],e=$[3]-K[3],P=i-K[0],L=c-K[1],Y=z-K[2],X=B-K[3],G=r*r+U*U+b*b+e*e,E=P*P+L*L+Y*Y+X*X,T=(P*r+L*U+Y*b+X*e)/G,y=E-T*T*G;
if(y<.5)t=T<.5?C:j;else{t=g.CR.gG(Z,i,c,z,B,100)}}else{var C=a[0],j=a[1],d4=a[2],K=C.est.q,$=j.est.q,dH=d4.est.q,eV=K[0]-dH[0],bf=K[1]-dH[1],jd=K[2]-dH[2],i5=K[3]-dH[3],fD=$[0]-dH[0],eo=$[1]-dH[1],iX=$[2]-dH[2],cK=$[3]-dH[3],g0=dH[0]-i,bW=dH[1]-c,hF=dH[2]-z,aJ=dH[3]-B,iR=eV*eV+bf*bf+jd*jd+i5*i5,ex=eV*fD+bf*eo+jd*iX+i5*cK,dX=g0*eV+bW*bf+hF*jd+aJ*i5,iZ=eV*fD+bf*eo+jd*iX+i5*cK,j3=fD*fD+eo*eo+iX*iX+cK*cK,by=g0*fD+bW*eo+hF*iX+aJ*cK,i9=1/(ex*iZ-iR*j3),T=(j3*dX-by*ex)*i9,dm=(by*iR-dX*iZ)*i9,kh=1-T-dm,jK=Math.max(T,dm,kh);
if(jK==T)t=C;else if(jK==dm)t=j;else t=d4}}w[v>>2]=t.ind}return{QE:w,Wo:Z[1]}};g.CR.aAo=function(l,o,D){var H=[],_={},u=o-1,S=D-1,h=0,F=new Uint32Array(l),n=[-o-1,-o,-o+1,-1,1,o-1,o,o+1,o+o,2,-o-o,-2,o+o-1,o+o+1,o+2,-o+2,-o-o+1,-o-o-1,-o-2,o-2,o+o+2,-o-o+2-o-o-2,o+o-2];
for(var R=1;R<S;R++)for(var s=1;s<u;s++){var Z=R*o+s,O=F[Z],w=!0;for(var v=0;v<8;v++)w=w&&F[Z+n[v]]==O;
if(w){h++;var m=_[O];if(m==null){_[O]=H.length;H.push({oe:O,mW:1})}else H[m].mW++}}return{Wo:H,acs:h}};
g.CR.gG=function(l,o,D,H,_,u){var S=UPNG.quantize.getNearest(l[0],o,D,H,_);return g.CR.a0t(S,o,D,H,_)<u?S:null};
g.CR.a0t=function(l,o,D,H,_){var u=l.est.q,S=o-u[0],h=D-u[1],F=H-u[2],n=_-u[3];return S*S+h*h+F*F+n*n};
(function(){g.CR.vo=function(h,F,n,R,s){var Z=h.a$,O=F*n,w=h.Rn,m=h.QE,V=H(R,m,Z,O),q=new UnionFind(Z),a=0;
for(var i=1;i<n;i++)for(var c=1;c<F;c++){var v=i*F+c,z=m[v],B=0;if((B=m[v-1])!=z&&V[B]==V[z]&&l(w,0,z*6,B*6)<s)q.link(z,B);
if((B=m[v-F])!=z&&V[B]==V[z]&&l(w,0,z*6,B*6)<s)q.link(z,B)}var t=new Uint16Array(Z);t.fill(65535);var I=new Uint16Array(Z);
for(var v=0;v<Z;v++){var N=q.find(v);if(t[N]==65535)t[N]=a++;I[v]=t[N]}var J=new Uint16Array(O);for(var v=0;
v<O;v++)J[v]=I[m[v]];return{QE:J,a$:a}};g.CR.za=function(h,F,n){var R=g.o(F),s=h.length;for(var v=0;
v<s;v++){var Z=n[v];if(Z==0||Z==255){var O=h[v],w=2-(Z>>>7),m=R[O]=R[O]|w;if(m==3)return O}}return-1};
function l(h,F,n,R){var s=1/h[n+5],Z=1/h[R+5],O=h[n]*s-h[R]*Z,w=h[n+1]*s-h[R+1]*Z,m=h[n+2]*s-h[R+2]*Z,V=h[n+3]*s-h[R+3]*Z,q=h[n+4]*s-h[R+4]*Z,i=Math.sqrt(O*O+w*w+m*m),c=Math.sqrt(V*V+q*q);
return~~(i+F*c+.5)}function o(h,F){var v=0,n=h.length;while(v!=n&&h[v]!=F)v+=2;return v==n?-1:v}function D(h,v){if(v==h.length-2){h.pop();
h.pop()}else{h[v+1]=h.pop();h[v]=h.pop()}}g.CR.aqR=function(h,F,n,R,s){var Z=new Uint32Array(s*4400),O=[];
for(var v=0;v<s;v++)O.push([]);for(var w=0;w<n;w++)for(var m=0;m<F;m++){var v=w*F+m,V=v<<2,q=R[v],i=0,c=h[V]>>>4,z=h[V+1]>>>4,B=h[V+2]>>>4;
Z[q*4400+(c<<8|z<<4|B)]++;Z[q*4400+4096]++;Z[q*4400+4100+(c<<4|z)]++;Z[q*4400+4360+c]++;if(m!=0&&(i=R[v-1])!=q&&o(O[q],i)==-1){O[q].push(i,0);
O[i].push(q,0)}if(w!=0&&(i=R[v-F])!=q&&o(O[q],i)==-1){O[q].push(i,0);O[i].push(q,0)}}for(var v=0;v<s;
v++){var B=O[v];for(var t=0;t<B.length;t+=2)B[t+1]=S(Z,v,B[t])}return[Z,O]};function H(h,F,n,R){var s=g.o(n);
for(var v=0;v<R;v++){var Z=h[v];if(Z==0||Z==255)s[F[v]]=2-(Z>>>7)}return s}g.CR.a1n=function(h,F,n,R,s,Z,O){var w=F*n,m=O[0],V=O[1],q=new UnionFind(R),i=H(s,h,R,w),c=-1,z=!0,B=0;
for(var v=0;v<R;v++)if(i[v]==1){if(c==-1)c=v;else q.link(v,c)}if(c==-1){for(var v=0;v<w;v++)Z[v]=s[v]==255?255:0;
return}while(z){while(z){z=!1;for(var v=0;v<R;v++){if(i[v]==0){var t=_(V[v]);if(i[t]==1){i[v]=i[t];z=!0;
q.link(v,t)}}}}z=!0;B=0;while(z){z=!1;for(var v=0;v<R;v++){if(i[v]==0){var t=_(V[v]);if(i[t]==0){var a=v*4400,I=t*4400;
for(var N=0;N<4400;N+=2){m[a+N]+=m[I+N];m[a+N+1]+=m[I+N+1]}u(V,m,v,t);B++;i[t]=3;z=!0;q.link(v,t)}}}}z=B!=0}var J=q.find(c);
for(var v=0;v<R;v++)i[v]=q.find(v)==J?255:0;for(var v=0;v<w;v++){Z[v]=i[h[v]]}for(var v=0;v<w;v++){var t=s[v];
if(t==0||t==255)Z[v]=t}};function _(h){var F=0,n=0,R=h.length;for(var s=0;s<R;s+=2){var Z=h[s+1];if(Z>n){n=Z;
F=s}}return h[F]}function u(h,F,n,R){var s=h[n],Z=h[R];D(s,o(s,R));D(Z,o(Z,n));for(var v=0;v<Z.length;
v+=2){var O=Z[v],w=h[O];D(w,o(w,R));if(o(w,n)==-1){w.push(n,0);s.push(O,0)}}for(var v=0;v<s.length;v+=2){var O=s[v],w=h[O],m=S(F,n,O);
s[v+1]=m;w[o(w,n)+1]=m}}function S(h,F,n){var R=0,s=4096,Z=F*4400,O=n*4400;for(var w=0;w<16;w++){if(h[Z+4360+w]==0||h[O+4360+w]==0)continue;
for(var m=0;m<16;m++){var V=w<<4|m;if(h[Z+4100+V]==0||h[O+4100+V]==0)continue;var q=Z+(V<<4),i=O+(V<<4);
for(var v=0;v<16;v++)R+=Math.sqrt(h[q+v]*h[i+v])}}var c=R/Math.sqrt(h[Z+s]*h[O+s]);return~~(999.99999*c)}}());
g.CR._Y=function(){var l,o,D,S=0,h=0;function H(O,w,m){var V=[],q=m,i=m,c=m>>>2;for(var z=0;z<w;z++)for(var B=0;
B<O;B++){var t=~~((B+.5)*q),a=~~((z+.5)*i),I=1e9,N=Math.max(0,t-c),J=Math.min(o,t+c+1),Q=Math.max(0,a-c),A=Math.min(D,a+c+1);
for(var f=Q;f<A;f++)for(var W=N;W<J;W++){var C=_(W,f);if(C<I){t=W;a=f;I=C}}V.push(t,a)}return V}function _(O,w){var m=(w*o+O)*4,V=o*4,q=u(m-4,m)+u(m,m+4),i=u(m-V,m)+u(m,m+V);
return q+i}function u(O,w){var m=l[O]-l[w],V=l[O+1]-l[w+1],q=l[O+2]-l[w+2];return m*m+V*V+q*q}function F(O,w,m,V){h++;
if(V<S)S=V;O[V].push(w,m)}function n(O){h--;while(O[S].length==0)S++}function R(O,w,m,V,q){var i=(m*o+w)*4,c=V[q+5],z=1/c,B=l[i]*c-V[q],t=l[i+1]*c-V[q+1],a=l[i+2]*c-V[q+2],I=w*c-V[q+3],N=m*c-V[q+4],J=Math.sqrt(B*B+t*t+a*a),Q=Math.sqrt(I*I+N*N);
return~~((J+O*Q)*z+.5)}function s(O,w,m,V,q){l=O;o=w;D=m;S=0;h=0;var i=o*D,c=Math.round(Math.min(o,D)/(V?V:30));
if(c==0)c=1;var z=(q?q:30)/c,B=Math.floor(o/c),t=Math.floor(D/c),a=new Uint16Array(i);for(var v=0;v<i;
v++)a[v]=65535;var I=H(B,t,c),N=I.length>>>1;if(N>65535)throw N;var J=new Uint32Array(N*6),Q=[];for(var v=0;
v<1e3+D;v++)Q.push([]);var A=1e3*700/(o*D),f=Math.floor(t*A);f=Math.min(t,Math.max(4,f));f=t;var J=new Uint32Array(N*6);
for(var W=0;W<t;W+=f){var C=Math.min(W+f,t);for(var j=W;j<C;j++)for(var K=0;K<B;K++){var v=j*B+K;F(Q,I[v*2+1]<<16|I[v*2],v,0)}var $=Math.min(D,C*c);
if(W+f>=t)$=D;Z(J,Q,a,z,$)}l=null;return{QE:a,a$:N,Rn:J,adK:z}}function Z(O,w,m,V,q){while(h!=0){n(w);
var i=w[S].pop(),c=w[S].pop(),z=c>>>16,B=c&65535,v=z*o+B;if(m[v]==null)throw"e";if(m[v]==65535){var t=i*6,a=v<<2;
m[v]=i;O[t]+=l[a];O[t+1]+=l[a+1];O[t+2]+=l[a+2];O[t+3]+=B;O[t+4]+=z;O[t+5]++;if(z!=q-1&&m[v+o]==65535)F(w,z+1<<16|B,i,R(V,B,z+1,O,t));
if(z!=0&&m[v-o]==65535)F(w,z-1<<16|B,i,R(V,B,z-1,O,t));if(B!=0&&m[v-1]==65535)F(w,z<<16|B-1,i,R(V,B-1,z,O,t));
if(B!=o-1&&m[v+1]==65535)F(w,z<<16|B+1,i,R(V,B+1,z,O,t))}}}s.Cg=function(O,w,m,V,q,i){l=O;o=w;D=m;var c=V.a$=V.a$+1,z=V.QE,B=V.Rn,t=V.Rn=new Uint32Array(c*6);
t.set(B,0);var a=z[q[1]*o+q[0]];for(var v=0;v<z.length;v++)if(z[v]==a)z[v]=65535;for(var v=0;v<6;v++)t[a*6+v]=0;
var I=[];for(var v=0;v<1e3+D;v++)I.push([]);for(var v=0;v<q.length;v+=2)F(I,q[v+1]<<16|q[v],a,0);for(var v=0;
v<i.length;v+=2)F(I,i[v+1]<<16|i[v],c-1,0);Z(t,I,z,V.adK,D);l=null};return s}();g.auu={};g.auu.a8z=function(){var l=11,o=7,D=l>>>1,kC=o>>>1,H=2,_=2e3/H,u=[],h=null,F="";
function S(R,s,Z){var O=(R[s+0]-R[Z+0])*(1/255),w=(R[s+1]-R[Z+1])*(1/255),m=(R[s+2]-R[Z+2])*(1/255),V=(R[s+3]-R[Z+3])*(1/255),q=O*O*.125+w*w*.25+m*m*.5+V*V;
return u[~~(q*_)]}function n(R,s,Z,O,w,m){var V=Date.now(),q=g.o(s*Z);g.Hx(R,q);var i=UZIP.adler(q,0,s*Z);
if(i!=F){var c=g.bs(q,s,Z);h=g.o(s*Z*4);F=i;var z=[1,1/9,1/25,1/49,1/81];for(var B=0;B<Z;B++)for(var t=0;
t<s;t++)for(var v=0;v<4;v++){var a=Math.max(1,t-v),I=Math.min(s-1,t+v),N=Math.max(1,B-v),J=Math.min(Z-1,B+v),Q=g.zv(c,s,a,I,N,J);
if(isNaN(Q))throw t+","+B+","+v+","+Q;h[(B*s+t)*4+v]=Q*z[v]}}if(kx.X7){var A=kx.jx(0,s,Z);A.set(R);var f=kx.jx(1,s,Z);
f.set(h);var W=kx.jx(2,s,Z);kx._J(W);kx.filter.xd({type:kx.filter.apv,DW:new Float32Array([1/s,1/Z]),ah8:f.mn,aru:w,ans:m},A.mn);
W.get(O)}else{for(var v=0;v<2e3;v++)u[v]=Math.exp(-(v/2e3)*H*(100+(1-w)*(1-w)*1e4));var C=kC+2;for(var B=C;
B<Z-C;B++)for(var t=C;t<s-C;t++){var j=0,K=0,$=0,r=0;for(var U=0;U<l;U++)for(var b=0;b<l;b++){var e=t+b-D,P=B+U-D;
if(e==t&&P==B||e<C||P<C||e>=s-C||P>=Z-C)continue;var L=S(h,(B*s+t)*4,(P*s+e)*4),Y=P*s+e<<2;j+=L*R[Y+0];
K+=L*R[Y+1];$+=L*R[Y+2];r+=L}if(r==0){continue}var X=1/r,G=(B*s+t)*4;O[G+0]=~~((1-m)*X*j+m*O[G+0]);O[G+1]=~~((1-m)*X*K+m*O[G+1]);
O[G+2]=~~((1-m)*X*$+m*O[G+2])}}}return n}();g.alm=function(){var l=6,o=l>>>1,D=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],H=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function _(m,V){var q=!1,i=m.length,c=V[0],a=5,N=0,J=0;for(var v=1;v<i;v++)c=c.tB(V[v]);if((c.Q&1)!=0)c.Q++;
if((c._&1)!=0)c._++;var z=c.Q,B=c._,t=Math.max(z,B);while(t>>>a>8&&a<10)a++;var I=1<<a;if(z%I!=0)N=I-z%I;
if(B%I!=0)J=I-B%I;c.ag(N>>>1,J>>>1);z=c.Q;B=c._;if(z%I!=0||B%I!=0)throw"e";var Q=Date.now(),A=[],f=g.o(c.c()),W=[],C=z*B,j=new Float32Array(z*B*2);
for(var v=0;v<i;v++){var K=V[v],$=g.o(K.c());g.Hx(m[v],$);f.fill(0);g.mB($,K,f,c);A.push(f.slice(0));
var r=K.x-c.x,U=K.y-c.y,b=r+K.Q-2,e=U+K._;for(var P=0;P<K._;P++){var L=(P+U)*z;for(var Y=0;Y<r;Y++)f[L+Y]=f[L+r];
for(var Y=b;Y<z;Y++)f[L+Y]=f[L+b-1]}for(var Y=0;Y<z;Y++){for(var P=0;P<U;P++)f[P*z+Y]=f[U*z+Y];for(var P=e;
P<B;P++)f[P*z+Y]=f[(e-1)*z+Y]}var X=new Float32Array(z*B*2);W.push(X);for(var G=0;G<C;G++)X[G*2]=f[G]*(1/255);
F(X,j,z,B,a);u(X,z,B,a)}if(q)console.log("to gray, decompose",Date.now()-Q);Q=Date.now();var E=g.o(z*B);
for(var P=0;P<B;P++)for(var Y=0;Y<z;Y++){var T=0,y=0,d4=P*z+Y<<1;for(var v=0;v<i;v++){var dH=W[v],eV=dH[d4],bf=dH[d4+1],jd=eV*eV+bf*bf;
if(jd>y){y=jd;T=v}}E[d4>>>1]=T}if(q)console.log("max abs value",Date.now()-Q);Q=Date.now();S(E,z,B,a);
h(E,z,B);if(q)console.log("denoise",Date.now()-Q);Q=Date.now();var i5=j.slice(0);for(var P=0;P<B;P++)for(var Y=0;
Y<z;Y++){var v=P*z+Y,d4=v<<1,fD=W[E[v]];i5[d4]=fD[d4];i5[d4+1]=fD[d4+1]}n(i5,j,z,B,a);if(q)console.log("compose",Date.now()-Q);
Q=Date.now();for(var G=0;G<C;G++){var jd=i5[G*2]*255,T=0,y=1e9;for(var v=0;v<i;v++){var eo=Math.abs(A[v][G]-jd);
if(eo<y){y=eo;T=v}A[v][G]=0}A[T][G]=255}if(q)console.log("toRGB",Date.now()-Q);Q=Date.now();return[A,c]}function u(m,V,q,i){var c=V>>>i,z=q>>>i,B=1e-4;
for(var t=0;t<q;t++)for(var a=0;a<V;a++){if(a<c&&t<z)continue;var I=(t*V+a)*2,N=m[I],J=m[I+1],Q=N*N+J*J;
if(Q<B)N=J=0;else{var A=(Q-B)/Q;N*=A;J*=A}m[I]=N;m[I+1]=J}}function S(m,V,q,i){for(var c=0;c<i;c++){var z=V>>>c,B=q>>>c,t=z>>>1,a=B>>>1;
for(var I=0;I<a;I++)for(var N=0;N<t;N++){var J=I*V+t+N,Q=(I+a)*V+t+N,A=(I+a)*V+N,f=m[J],W=m[Q],C=m[A];
if(f==W==C){}else if(f==W)m[A]=f;else if(W==C)m[J]=W;else if(f==C)m[Q]=f}}}function h(m,V,q){for(var i=1;
i<q-1;i++)for(var c=1;c<V-1;c++){var v=i*V+c,z=m[v-V],B=m[v-1],t=m[v],a=m[v+1],I=m[v+V],N=z==B&&z==a||z==a&&a==I||a==I&&B==I||z==B&&I==B;
if(N)m[v]=z==B?z:B==a?B:z;else if(t>z&&t>B&&t>a&&t>I)m[v]=z+B+a+I>>>2;else if(t<z&&t<B&&t<a&&t<I)m[v]=z+B+a+I>>>2}}function F(m,V,q,i,c){for(var v=0;
v<c;v++){var z=q>>>v,B=i>>>v;R(m,V,q,i,z,B)}}function n(m,V,q,i,c){for(var v=c-1;v>=0;v--){var z=q>>v,B=i>>v;
s(m,V,q,i,z,B)}}function R(m,V,q,i,c,z){O(m,V,q,i,c,z,!0);O(V,m,q,i,c,z,!1)}function s(m,V,q,i,c,z){w(m,V,q,i,c,z,!0);
w(V,m,q,i,c,z,!1)}function Z(m,V,q,i,c,z){var B=q*i+V<<1;m[B]=c;m[B+1]=z}function O(m,V,q,i,c,z,B){var du=B?c:z,t=B?z:c,a=t>>>1;
for(var I=0;I<du;I++){for(var N=0;N<t;N+=2){var J=0,Q=0,A=0,f=0,W=N>>>1;for(var C=0;C<6;C++){var j=N+C-3;
if(j<0)j=t+j;if(j>=t)j=j-t;var K=(B?j*q+I:I*q+j)<<1,$=m[K],r=m[K+1],U=D[C],b=H[C];J+=$*U[0]-r*U[1];Q+=r*U[0]+$*U[1];
A+=$*b[0]-r*b[1];f+=r*b[0]+$*b[1]}if(B){Z(V,I,W,q,J,Q);Z(V,I,W+a,q,A,f)}else{Z(V,W,I,q,J,Q);Z(V,W+a,I,q,A,f)}}}}function w(m,V,q,i,c,z,B){var du=B?c:z,t=B?z:c,a=t>>>1,I,N,J,Q;
for(var A=0;A<du;A++){for(var f=0;f<t;f++){var W=0,C=0;for(var j=f+3&1;j<6;j+=2){var K=f-j+3>>1;if(K<0)K=a+K;
if(K>=a)K=K-a;if(B){I=A;N=K;J=A;Q=K+a}else{N=A;I=K;Q=A;J=K+a}var $=N*q+I<<1,r=Q*q+J<<1,U=m[$],b=m[$+1],e=m[r],P=m[r+1],L=D[j],Y=H[j];
W+=U*L[0]+e*Y[0];W+=b*L[1]+P*Y[1];C+=b*L[0]+P*Y[0];C-=U*L[1]+e*Y[1]}if(B)Z(V,A,f,q,W,C);else Z(V,f,A,q,W,C)}}}return{vP:_}}();
g.aoT=function(){var l=Math.floor(12e3/8),o=UPNG.quantize.findNearest,D,H,_,u;function S(Z,O,w,m){var V=[Z,new gt(0,0,O,w)],i;
g.Na(V);var q=Date.now(),c=O+w>>>1;for(var v=c<1e3?2:4;v>=0;v-=2){var z=V[v+1],H=z.Q,_=z._;if(i==null){i=new Uint8Array(H*_);
o(V[v],i,m)}h(V[v],H,_,m,i);if(v!=0){var B=V[v-1],t=B.Q,a=B._,I=new Uint8Array(t*a);for(var N=0;N<a;
N++)for(var J=0;J<t;J++)I[N*t+J]=i[(N>>>1)*H+(J>>>1)];i=I}}return i}function h(Z,O,w,m,V){D=Z;H=O;_=w;
u=m;var q=u.length>>>2,i=[-1,-H,1,H],c=[-1,-H,-H+1,2,H+1,H],z=[-1,-H,1,H+1,H+H,H-1],B=8,t=H+_>>>1,a=1e9;
while(t>512){B>>=1;t>>=1}B=Math.max(1,Math.min(4,B));for(var I=0;I<B;I++){var N=0;for(var J=0;J<_;J++)for(var Q=0;
Q<H;Q++){if(R(V,Q,J)<2)continue;var A=J*H+Q,f=V[A],W=1e9,C=0,j=Q==0||J==0||Q>H-3||J>_-3;if(j){W=1e9;
for(var v=0;v<q;v++){V[A]=v;var K=s(V,Q,J,2);if(K<W){W=K;C=v}}V[A]=C;if(C==f&&Q+1<H&&V[A+1]==f){W=1e9;
for(var v=0;v<q;v++){V[A]=V[A+1]=v;var K=s(V,Q,J,2)+s(V,Q+1,J,2);if(K<W){W=K;C=v}}V[A]=V[A+1]=C}if(C==f&&J+1<_&&V[A+H]==f){W=1e9;
for(var v=0;v<q;v++){V[A]=V[A+H]=v;var K=s(V,Q,J,2)+s(V,Q,J+1,2);if(K<W){W=K;C=v}}V[A]=V[A+H]=C}}else{W=1e9;
C=-1;for(var v=0;v<4;v++){var $=V[A+i[v]];if($==C)continue;V[A]=$;var K=s(V,Q,J,2);if(K<W){W=K;C=$}}V[A]=C;
if(C==f&&Q+1<H&&V[A+1]==f){W=1e9;C=-1;for(var v=0;v<6;v++){var $=V[A+c[v]];if($==C)continue;V[A]=V[A+1]=$;
var K=s(V,Q,J,2)+s(V,Q+1,J,2);if(K<W){W=K;C=$}}V[A]=V[A+1]=C}if(C==f&&J+1<_&&V[A+H]==f){W=1e9;C=-1;for(var v=0;
v<6;v++){var $=V[A+z[v]];if($==C)continue;V[A]=V[A+H]=$;var K=s(V,Q,J,2)+s(V,Q,J+1,2);if(K<W){W=K;C=$}}V[A]=V[A+H]=C}}N+=W}}}function F(Z){var O=0;
for(var w=0;w<_;w++)for(var m=0;m<H;m++)O+=s(Z,m,w,1);return O/(H*_)}function n(Z,O,w){var v=w*H+O,m=v*4,V=Z[v]*4,q=D[m]-u[V],i=D[m+1]-u[V+1],c=D[m+2]-u[V+2],z=D[m+3]-u[V+3];
return q*q+i*i+c*c+z*z}function R(Z,O,w){if(O<0||O>=H||w<0||w>=_)throw"e";var v=w*H+O,m=Z[v],V=0;if(w>0&&m!=Z[v-H])V+=2;
if(O>0&&m!=Z[v-1])V+=2;if(O<H-1&&m!=Z[v+1])V+=2;if(w<_-1&&m!=Z[v+H])V+=2;if(w>0&&O>0&&m!=Z[v-H-1])V++;
if(w<_-1&&O>0&&m!=Z[v+H-1])V++;if(w>0&&O<H-1&&m!=Z[v-H+1])V++;if(w<_-1&&O<H-1&&m!=Z[v+H+1])V++;return V}function s(Z,O,w,m){return n(Z,O,w)+R(Z,O,w)*m*l}return S}();
var iS=function(){function l(){this.c=0;this.k$=0;this._V={};this.Kv=[];this.aj=1e5;this.jB=1e5;this.ia=-1;
this.Xc=-1;this.color=0}function o(kC){this.PD=kC;this.xi=new Array(kC);this.oe=new Array(kC*6);this.axl=0;
this.Dd=new Array(kC*2);this.alpha=new Array(kC);this.lb=new Array(kC);this.j4=new Array(kC)}function D(_,u,S,h){function F(V,q,_,u){return _[u*q+V]}function n(v){var a=_.length;
while(v<a&&_[v]==0)v++;return v<a?v:-1}function R(V,q,a){for(var v=2;v<5;v++){var I=0;for(var N=-v+1;
N<=v-1;N++){I+=F(V+N,q+v-1,_,u)==a?1:-1;I+=F(V+v-1,q+N-1,_,u)==a?1:-1;I+=F(V+N-1,q-v,_,u)==a?1:-1;I+=F(V-v,q+N,_,u)==a?1:-1}if(I>0)return 1;
else if(I<0)return 0}return 0}function s(a,w){var m=new l,V=a,q=w,I=0,N=1,J;m.color=_[w*u+a];m.sign=F(a,w,_,u)==m.color?"+":"-";
while(1){m.Kv.push(V,q);if(V>m.ia)m.ia=V;if(V<m.aj)m.aj=V;if(q>m.Xc)m.Xc=q;if(q<m.jB)m.jB=q;m.k$++;V+=I;
q+=N;m.c-=V*N;if(V==a&&q==w)break;var Q=F(V+(I+N-1>>1),q+(N-I-1>>1),_,u)==m.color,A=F(V+(I-N-1>>1),q+(N+I-1>>1),_,u)==m.color;
if(A&&!Q){if(h.LY=="right"||h.LY=="black"&&m.sign=="+"||h.LY=="white"&&m.sign=="-"||h.LY=="majority"&&R(V,q,m.color)||h.LY=="minority"&&!R(V,q,m.color)){J=I;
I=-N;N=J}else{J=I;I=N;N=-J}}else if(A){J=I;I=-N;N=J}else if(!Q){J=I;I=N;N=-J}}return m}var Z=0,O=[];
while(!0){var Z=n(Z);if(Z==-1)break;var w=Math.floor(Z/u),m=s(Z-w*u,w);for(var v=0;v<m.Kv.length-2;v+=2){var V=m.Kv[v],q=m.Kv[v+1],i=q*u+V;
if(V==m.Kv[v+2]&&q+1==m.Kv[v+3]&&_[i]!=0)iS.fill(i,_,u,0)}if(m.c>h.a4k)O.push(m)}for(var v=0;v<O.length;
v++)O[v].parent=-1;var c=Date.now();for(var v=1;v<O.length;v++){var z=O[v];for(var B=v-1;B>=0;B--){var t=O[B];
if(z.aj<t.aj||z.ia>t.ia||z.jB<t.jB||z.Xc>t.Xc)continue;if(!iS.EP(t.Kv,z.Kv[0]+.5,z.Kv[1]+.5))continue;
z.parent=B;break}}return O}function H(_,u){function S(I,N,J,Q,A){this.x=I;this.y=N;this.Gq=J;this.R6=Q;
this.EI=A}function h(I,kC){return(kC+I)%kC}function F(I,N,J,Q){return I*Q-J*N}function n(I,N,J,Q){return I*J+N*Q}function R(I,N,J){if(I<=J)return I<=N&&N<J;
else return I<=N||N<J}function s(I,N,J){var Q=0;Q+=N*I[0]*N;Q+=N*I[1]*J;Q+=N*I[2];Q+=J*I[3]*N;Q+=J*I[4]*J;
Q+=J*I[5];Q+=I[6]*N;Q+=I[7]*J;Q+=I[8];return Q}function Z(I,N,J){return N+I*(J-N)}function O(I,N,J,Q){var A=Math.sign(J-I),f=-Math.sign(Q-N);
return A*(J-I)-f*(Q-N)}function w(I,N){return Math.sqrt(I*I+N*N)}function m(I,N,J,Q,A){var f=1-I;return f*f*f*N+3*(f*f*I)*J+3*(I*I*f)*Q+I*I*I*A}function V(I,N,J,Q,A,f,W,C){var j=F(I,N,W,C),K=F(J,Q,W,C),$=F(A,f,W,C),r=j-2*K+$,U=-2*j+2*K,b=j,e=U*U-4*r*b;
if(r==0||e<0)return-1;var P=Math.sqrt(e),L=(-U+P)/(2*r),Y=(-U-P)/(2*r);if(L>=0&&L<=1)return L;else if(Y>=0&&Y<=1)return Y;
else return-1}function q(a){var v,I,N;a.AD=a.Kv[0];a.a69=a.Kv[1];a.v5=[];var J=a.v5;J.push(new S(0,0,0,0,0));
for(v=0;v<a.k$;v++){I=a.Kv[v<<1]-a.AD;N=a.Kv[(v<<1)+1]-a.a69;J.push(new S(J[v].x+I,J[v].y+N,J[v].Gq+I*N,J[v].R6+I*I,J[v].EI+N*N))}}function i(a){var kC=a.k$,I=a.Kv,N,J=new Array(kC),Q=new Array(kC),A=new Array(4),f,W,C,j,K,$,r,U,b,e,P,v,L,Y,X,G,E,T,y=0;
a.U4=new Array(kC);for(v=kC-1;v>=0;v--){if(I[v<<1]!=I[y<<1]&&I[(v<<1)+1]!=I[(y<<1)+1])y=v+1;Q[v]=y}for(v=kC-1;
v>=0;v--){var d4=h(v+1,kC)<<1;A[0]=A[1]=A[2]=A[3]=0;N=(3+3*(I[d4]-I[v<<1])+(I[d4+1]-I[(v<<1)+1]))/2;
A[N]++;f=0;W=0;C=0;j=0;y=Q[v];Y=v;while(1){P=0;N=(3+3*Math.sign(I[y*2]-I[Y*2])+Math.sign(I[y*2+1]-I[Y*2+1]))/2;
A[N]++;if(A[0]&&A[1]&&A[2]&&A[3]){J[v]=Y;P=1;break}b=I[y*2]-I[v*2];e=I[y*2+1]-I[v*2+1];if(F(f,W,b,e)<0||F(C,j,b,e)>0){break}if(Math.abs(b)<=1&&Math.abs(e)<=1){}else{K=b+(e>=0&&(e>0||b<0)?1:-1);
$=e+(b<=0&&(b<0||e<0)?1:-1);if(F(f,W,K,$)>=0){f=K;W=$}K=b+(e<=0&&(e<0||b<0)?1:-1);$=e+(b>=0&&(b>0||e<0)?1:-1);
if(F(C,j,K,$)<=0){C=K;j=$}}Y=y;y=Q[Y];if(!R(y,v,Y)){break}}if(P==0){r=Math.sign(I[y*2]-I[Y*2]);U=Math.sign(I[y*2+1]-I[Y*2+1]);
b=I[Y*2]-I[v*2];e=I[Y*2+1]-I[v*2+1];X=F(f,W,b,e);G=F(f,W,r,U);E=F(C,j,b,e);T=F(C,j,r,U);L=1e7;if(G<0){L=Math.floor(X/-G)}if(T>0){L=Math.min(L,Math.floor(-E/T))}J[v]=h(Y+L,kC)}}L=J[kC-1];
a.U4[kC-1]=L;for(v=kC-2;v>=0;v--){if(R(v+1,J[v],L)){L=J[v]}a.U4[v]=L}for(v=kC-1;R(h(v+1,kC),L,a.U4[v]);
v--){a.U4[v]=L}}function c(a){function I(a,v,N){var kC=a.k$,b=a.Kv,e=a.v5,P,L,Y,X,G,Q,E,T,U,y,d4,dH,eV,bf,jd=0;
if(N>=kC){N-=kC;jd=1}if(jd==0){P=e[N+1].x-e[v].x;L=e[N+1].y-e[v].y;X=e[N+1].R6-e[v].R6;Y=e[N+1].Gq-e[v].Gq;
G=e[N+1].EI-e[v].EI;Q=N+1-v}else{P=e[N+1].x-e[v].x+e[kC].x;L=e[N+1].y-e[v].y+e[kC].y;X=e[N+1].R6-e[v].R6+e[kC].R6;
Y=e[N+1].Gq-e[v].Gq+e[kC].Gq;G=e[N+1].EI-e[v].EI+e[kC].EI;Q=N+1-v+kC}d4=(b[v<<1]+b[N<<1])/2-b[0];dH=(b[(v<<1)+1]+b[(N<<1)+1])/2-b[1];
bf=b[N<<1]-b[v<<1];eV=-(b[(N<<1)+1]-b[(v<<1)+1]);E=(X-2*P*d4)/Q+d4*d4;T=(Y-P*dH-L*d4)/Q+d4*dH;U=(G-2*L*dH)/Q+dH*dH;
y=eV*eV*E+2*eV*bf*T+bf*bf*U;return Math.sqrt(y)}var v,N,J,Q,kC=a.k$,A=new Array(kC+1),f=new Array(kC+1),W=new Array(kC),C=new Array(kC+1),j=new Array(kC+1),K=new Array(kC+1),$,r,U;
for(v=0;v<kC;v++){U=h(a.U4[h(v-1,kC)]-1,kC);if(U==v){U=h(v+1,kC)}if(U<v){W[v]=kC}else{W[v]=U}}N=1;for(v=0;
v<kC;v++){while(N<=W[v]){C[N]=v;N++}}v=0;for(N=0;v<kC;N++){j[N]=v;v=W[v]}j[N]=kC;J=N;v=kC;for(N=J;N>0;
N--){K[N]=v;v=C[v]}K[0]=0;A[0]=0;for(N=1;N<=J;N++){for(v=K[N];v<=j[N];v++){r=-1;for(Q=j[N-1];Q>=C[v];
Q--){$=I(a,Q,v)+A[Q];if(r<0||$<r){f[v]=Q;r=$}}A[v]=r}}a.afB=J;a.adl=new Array(J);for(v=kC,N=J-1;v>0;
N--){v=f[v];a.adl[N]=v}}function z(a){function I(a,v,$,W,C,i5){var kC=a.k$,fD=a.v5,eo=0,U;while($>=kC){$-=kC;
eo+=1}while(v>=kC){v-=kC;eo-=1}while($<0){$+=kC;eo-=1}while(v<0){v+=kC;eo+=1}var iX=fD[$+1].x-fD[v].x+eo*fD[kC].x,cK=fD[$+1].y-fD[v].y+eo*fD[kC].y,g0=fD[$+1].R6-fD[v].R6+eo*fD[kC].R6,bW=fD[$+1].Gq-fD[v].Gq+eo*fD[kC].Gq,hF=fD[$+1].EI-fD[v].EI+eo*fD[kC].EI,r=$+1-v+eo*kC;
W[i5]=iX/r;W[i5+1]=cK/r;var aJ=(g0-iX*iX/r)/r,iR=(bW-iX*cK/r)/r,ex=(hF-cK*cK/r)/r,dX=(aJ+ex+Math.sqrt((aJ-ex)*(aJ-ex)+4*iR*iR))/2;
aJ-=dX;ex-=dX;if(Math.abs(aJ)>=Math.abs(ex)){U=Math.sqrt(aJ*aJ+iR*iR);if(U!=0){C[i5]=-iR/U;C[i5+1]=aJ/U}}else{U=Math.sqrt(ex*ex+iR*iR);
if(U!=0){C[i5]=-ex/U;C[i5+1]=iR/U}}if(U==0){C[i5]=C[i5+1]=0}}var N=a.afB,J=a.adl,kC=a.k$,Q=a.Kv,A=a.AD,f=a.a69,W=new Array(N*2),C=new Array(N*2),j=new Array(N),K=new Array(3),v,$,r,U,L,Y,X,G,E,T,y;
a._V=new o(N);for(v=0;v<N;v++){$=J[h(v+1,N)];$=h($-J[v],kC)+J[v];W[v<<1]=0;W[(v<<1)+1]=0;C[v<<1]=0;C[(v<<1)+1]=0;
I(a,J[v],$,W,C,v<<1)}for(v=0;v<N;v++){j[v]=[0,0,0,0,0,0,0,0,0];var b=C[v<<1]*C[v<<1]+C[(v<<1)+1]*C[(v<<1)+1],e=1/b;
if(b!=0){K[0]=C[(v<<1)+1];K[1]=-C[v<<1];K[2]=-K[1]*W[(v<<1)+1]-K[0]*W[v<<1];for(U=0;U<3;U++){j[v][U*3+0]=K[U]*K[0]*e;
j[v][U*3+1]=K[U]*K[1]*e;j[v][U*3+2]=K[U]*K[2]*e}}}var P=[0,0,0,0,0,0,0,0,0];for(v=0;v<N;v++){P[0]=P[1]=P[2]=P[3]=P[4]=P[5]=P[6]=P[7]=P[8]=P[9]=0;
var d4=Q[J[v]<<1]-A,dH=Q[(J[v]<<1)+1]-f,eV=0,bf=0;$=h(v-1,N);for(U=0;U<9;U+=3){P[U+0]=j[$][U+0]+j[v][U+0];
P[U+1]=j[$][U+1]+j[v][U+1];P[U+2]=j[$][U+2]+j[v][U+2]}while(1){var jd=P[0]*P[4]-P[1]*P[3];if(jd!=0){eV=(-P[2]*P[4]+P[5]*P[0])/jd;
bf=(P[2]*P[3]-P[5]*P[0])/jd;break}if(P[0]>P[4]){K[0]=-P[1];K[1]=P[0]}else if(P[4]){K[0]=-P[4];K[1]=P[3]}else{K[0]=1;
K[1]=0}var b=K[0]*K[0]+K[1]*K[1],e=1/b;K[2]=-K[1]*dH-K[0]*d4;for(U=0;U<3;U++){P[U*3+0]+=K[U]*K[0]*e;
P[U*3+1]+=K[U]*K[1]*e;P[U*3+2]+=K[U]*K[2]*e}}L=Math.abs(eV-d4);Y=Math.abs(bf-dH);if(L<=.5&&Y<=.5){a._V.Dd[v<<1]=eV+A;
a._V.Dd[(v<<1)+1]=bf+f;continue}X=s(P,d4,dH);E=d4;T=dH;if(P[0]!=0){for(y=0;y<2;y++){bf=dH-.5+y;eV=-(P[1]*bf+P[2])/P[0];
L=Math.abs(eV-d4);G=s(P,eV,bf);if(L<=.5&&G<X){X=G;E=eV;T=bf}}}if(P[4]!=0){for(y=0;y<2;y++){eV=d4-.5+y;
bf=-(P[3]*eV+P[5])/P[4];Y=Math.abs(bf-dH);G=s(P,eV,bf);if(Y<=.5&&G<X){X=G;E=eV;T=bf}}}for(U=0;U<2;U++){for(r=0;
r<2;r++){eV=d4-.5+U;bf=dH-.5+r;G=s(P,eV,bf);if(G<X){X=G;E=eV;T=bf}}}a._V.Dd[v<<1]=E+A;a._V.Dd[(v<<1)+1]=T+f}}function B(a){var I=a._V.PD,N=a._V,v,J,Q,A,f,W,C,j,K;
for(v=0;v<I;v++){J=h(v+1,I);Q=h(v+2,I);var $=N.Dd[v<<1],r=N.Dd[(v<<1)+1],U=N.Dd[Q<<1],b=N.Dd[(Q<<1)+1],e=N.Dd[J<<1],P=N.Dd[(J<<1)+1],L=Z(.5,U,e),Y=Z(.5,b,P);
f=O($,r,U,b);if(f!=0){A=F(e-$,P-r,U-$,b-r)/f;A=Math.abs(A);W=A>1?1-1/A:0;W=W*(1/.75)}else{W=4/3}N.lb[J]=W;
var X=3*J<<1;if(W>=u.aub){N.xi[J]=0;N.oe[X+0]=N.oe[X+1]=0;N.oe[X+2]=e;N.oe[X+3]=P;N.oe[X+4]=L;N.oe[X+5]=Y}else{if(W<.55){W=.55}else if(W>1){W=1}var G=.5+.5*W;
N.xi[J]=1;N.oe[X]=Z(G,$,e);N.oe[X+1]=Z(G,r,P);N.oe[X+2]=Z(G,U,e);N.oe[X+3]=Z(G,b,P);N.oe[X+4]=L;N.oe[X+5]=Y}N.alpha[J]=W;
N.j4[J]=.5}N.aaN=1}function t(a){function I(){this.A1=0;this.Fo=0;this.xO=0;this.i0=0;this.SN=0;this.vB=0;
this.lv=0;this.alpha=0}function N(a,v,$,j3,by,E,T){var Q=a._V.PD,i9=a._V.oe,dm=a._V.Dd;if(v==$)return 1;
var kh=v,e=h(v+1,Q),jK=h(kh+1,Q),bW=dm[v<<1],hF=dm[(v<<1)+1],bd=dm[e<<1],dz=dm[(e<<1)+1],dw=E[jK];if(dw==0)return 1;
var ev=w(bW-bd,hF-dz);for(kh=jK;kh!=$;kh=jK){var jK=h(kh+1,Q),aq=h(kh+2,Q),e3=dm[jK<<1],a9=dm[(jK<<1)+1],e0=dm[aq<<1],as=dm[(aq<<1)+1];
if(E[jK]!=dw)return 1;if(Math.sign(F(bd-bW,dz-hF,e0-e3,as-a9))!=dw)return 1;if(n(bd-bW,dz-hF,e0-e3,as-a9)<ev*w(e3-e0,a9-as)*-.999847695156)return 1}var eK=h(v,Q)*3+2<<1,gh=h(v+1,Q)<<1,gx=h($,Q)<<1,gc=h($,Q)*3+2<<1,i5=i9[eK],fD=i9[eK+1],kQ=dm[gh],dn=dm[gh+1],bQ=dm[gx],iK=dm[gx+1],cJ=i9[gc],i1=i9[gc+1],y=dm[0],d4=dm[1];
eK=$*3+2<<1;var bu=i9[eK],gi=i9[eK+1],P=T[$]-T[v];P-=F(bu-y,gi-d4,bu-y,gi-d4)/2;if(v>=$){P+=T[Q]}var iv=kQ-i5,d0=dn-fD,af=bQ-i5,eY=iK-fD,hV=cJ-i5,i$=i1-fD,cz=F(iv,d0,af,eY),fk=F(iv,d0,hV,i$),ee=F(af,eY,hV,i$),aC=cz+ee-fk;
if(fk==cz)return 1;var G=ee/(ee-aC),X=fk/(fk-cz),cI=fk*G/2;if(cI==0)return 1;var cZ=P/cI,L=2-Math.sqrt(4-cZ/.3);
j3.Fo=Z(G*L,i5,kQ);j3.xO=Z(G*L,fD,dn);j3.i0=Z(X*L,cJ,bQ);j3.SN=Z(X*L,i1,iK);j3.alpha=L;j3.vB=G;j3.lv=X;
kQ=j3.Fo;dn=j3.xO;bQ=j3.i0;iK=j3.SN;j3.A1=0;for(kh=h(v+1,Q);kh!=$;kh=jK){jK=h(kh+1,Q);var ad=dm[kh<<1],j0=dm[(kh<<1)+1],e3=dm[jK<<1],a9=dm[(jK<<1)+1];
G=V(kQ-i5,dn-fD,bQ-kQ,iK-dn,cJ-bQ,i1-iK,e3-ad,a9-j0);if(G<-.5)return 1;var cX=m(G,i5,kQ,bQ,cJ),bY=m(G,fD,dn,iK,i1),ev=w(e3-ad,a9-j0);
if(ev==0)return 1;var io=F(e3-ad,a9-j0,cX-ad,bY-j0)/ev;if(Math.abs(io)>by)return 1;if(n(e3-ad,a9-j0,cX-ad,bY-j0)<0||n(ad-e3,j0-a9,cX-e3,bY-a9)<0){return 1}j3.A1+=io*io}for(kh=v;
kh!=$;kh=jK){jK=h(kh+1,Q);var eK=kh*3+2<<1,gh=jK*3+2<<1,et=i9[eK],dR=i9[eK+1],dZ=i9[gh],jh=i9[gh+1];
G=V(kQ-i5,dn-fD,bQ-kQ,iK-dn,cJ-bQ,i1-iK,dZ-et,jh-dR);if(G<-.5)return 1;var cX=m(G,i5,kQ,bQ,cJ),bY=m(G,fD,dn,iK,i1),ev=w(dZ-et,jh-dR);
if(ev==0)return 1;var io=F(dZ-et,jh-dR,cX-et,bY-dR)/ev,jo=F(dZ-et,jh-dR,dm[jK<<1]-et,dm[(jK<<1)+1]-dR)/ev;
jo*=.75*a._V.alpha[jK];if(jo<0){io=-io;jo=-jo}if(io<jo-by)return 1;if(io<jo){j3.A1+=(io-jo)*(io-jo)}}return 0}var J=a._V,Q=J.PD,A=J.Dd,f=new Array(Q+1),W=new Array(Q+1),C=new Array(Q+1),j=new Array(Q+1),K,v,$,r,U=new I,b,e,P,L,Y,X,G,E=new Array(Q),T=new Array(Q+1);
for(v=0;v<Q;v++){if(J.xi[v]=="CURVE"){var y=A[h(v-1,Q)<<1],d4=A[(h(v-1,Q)<<1)+1],dH=A[v<<1],eV=A[(v<<1)+1],bf=A[h(v+1,Q)<<1],jd=A[(h(v+1,Q)<<1)+1];
E[v]=Math.sign(F(dH-y,eV-d4,bf-dH,jd-eV))}else{E[v]=0}}P=0;T[0]=0;var i5=J.Dd[0],fD=J.Dd[1];for(v=0;
v<Q;v++){e=h(v+1,Q);if(J.xi[e]=="CURVE"){L=J.alpha[e];var eo=v*3+2<<1,iX=e*3+2<<1,cK=J.oe[eo],g0=J.oe[eo+1],bW=A[e<<1],hF=A[(e<<1)+1],aJ=J.oe[iX],iR=J.oe[iX+1];
P+=.3*L*(4-L)*F(bW-cK,hF-g0,aJ-cK,iR-g0)/2;P+=F(cK-i5,g0-fD,aJ-i5,iR-fD)/2}T[v+1]=P}f[0]=-1;W[0]=0;C[0]=0;
for($=1;$<=Q;$++){f[$]=$-1;W[$]=W[$-1];C[$]=C[$-1]+1;for(v=$-2;v>=0;v--){r=N(a,v,h($,Q),U,u.aya,E,T);
if(r){break}if(C[$]>C[v]+1||C[$]==C[v]+1&&W[$]>W[v]+U.A1){f[$]=v;W[$]=W[v]+U.A1;C[$]=C[v]+1;j[$]=U;U=new I}}}K=C[Q];
Y=new o(K);X=new Array(K);G=new Array(K);$=Q;for(v=K-1;v>=0;v--){var ex=h($,Q),dX=v*3+0<<1,iZ=ex*3+0<<1;
if(f[$]==$-1){Y.xi[v]=J.xi[ex];Y.oe[dX]=J.oe[iZ];Y.oe[dX+1]=J.oe[iZ+1];Y.oe[dX+2]=J.oe[iZ+2];Y.oe[dX+3]=J.oe[iZ+3];
Y.oe[dX+4]=J.oe[iZ+4];Y.oe[dX+5]=J.oe[iZ+5];Y.Dd[v<<1]=J.Dd[ex<<1];Y.Dd[(v<<1)+1]=J.Dd[(ex<<1)+1];Y.alpha[v]=J.alpha[ex];
Y.lb[v]=J.lb[ex];Y.j4[v]=J.j4[ex];X[v]=G[v]=1}else{Y.xi[v]="CURVE";Y.oe[dX]=j[$].Fo;Y.oe[dX+1]=j[$].xO;
Y.oe[dX+2]=j[$].i0;Y.oe[dX+3]=j[$].SN;Y.oe[dX+4]=J.oe[iZ+4];Y.oe[dX+5]=J.oe[iZ+5];Y.Dd[v<<1]=Z(j[$].lv,J.oe[iZ+4],A[ex<<1]);
Y.Dd[(v<<1)+1]=Z(j[$].lv,J.oe[iZ+5],A[(ex<<1)+1]);Y.alpha[v]=j[$].alpha;Y.lb[v]=j[$].alpha;X[v]=j[$].lv;
G[v]=j[$].vB}$=f[$]}for(v=0;v<K;v++){e=h(v+1,K);Y.j4[v]=X[v]/(X[v]+G[e])}Y.aaN=1;a._V=Y}for(var v=0;
v<_.length;v++){var a=_[v];q(a);i(a);c(a);z(a);B(a);if(u.apP)t(a)}}return{aBO:D,a34:H}}();iS.ss=function(l,o,D,H){var _={LY:"minority",a4k:H,apP:!0,aub:1,aya:.2},u=iS.aBO(l,o,D,_);
iS.a34(u,_);return u};iS.CS=function(l){var o=[];for(var v=0;v<l.length;v++){var D=l[v],H=D._V,_=["M"],u=[H.oe[(H.PD-1)*6+4],H.oe[(H.PD-1)*6+5]];
for(var S=0;S<H.PD;S++){var h=S*6;if(H.xi[S]==1){_.push("C");for(var F=0;F<6;F++)u.push(H.oe[h+F])}else if(H.xi[S]==0){_.push("L");
for(var F=2;F<4;F++)u.push(H.oe[h+F])}}_.push("Z");o.push({parent:D.parent,color:D.color,path:{s:u,v:_}})}return o};
iS.EP=function(l,o,D){var kC=l.length>>1,H,_=l[2*kC-3]-D,u=l[2*kC-2]-o,S=l[2*kC-1]-D,h=S>_,F=0;for(var v=0;
v<kC;v++){H=u;_=S;u=l[2*v]-o;S=l[2*v+1]-D;if(_==S)continue;h=S>_}for(var v=0;v<kC;v++){H=u;_=S;u=l[2*v]-o;
S=l[2*v+1]-D;if(_<0&&S<0)continue;if(_>0&&S>0)continue;if(H<0&&u<0)continue;if(_==S&&Math.min(H,u)<=0)return!0;
if(_==S)continue;var n=H+(u-H)*-_/(S-_);if(n==0)return!0;if(n>0)F++;if(_==0&&h&&S>_)F--;if(_==0&&!h&&S<_)F--;
h=S>_}return(F&1)==1};iS.fill=function(l,o,D,H){var _=o[l],u=[l],S=0;while(S<u.length){var h=u[S];S++;
o[h]=H;if(o[h-D]==_){u.push(h-D);o[h-D]=254}if(o[h-1]==_){u.push(h-1);o[h-1]=254}if(o[h+1]==_){u.push(h+1);
o[h+1]=254}if(o[h+D]==_){u.push(h+D);o[h+D]=254}}};var gK=function(){function l(h){return Math.max(0,Math.min(1,h))}function o(h,F){var n=F<0?-F:F;
if(h>1)h=.99;h=h*.99;var R=Math.pow(n/5,.16),s=Math.pow(2,n<1?n:1+(n-1)*.8);if(F<0)s=1/s;h=R*(1-Math.pow(1-h,s))+(1-R)*h;
return h}function D(h,F){var n=F/100;h=h*.99;h=n*(.5-.5*Math.cos(h*Math.PI))+(1-n)*h;return h}var H=g.JX.oM(1,1,1,-.3),_=g.JX.L5(H);
function u(h,F,n,R,s,Z,O){var w=h[n],m=h[n+1],V=h[n+2],q=g.JX.GS(H,[w,m,V,1]);w=q[0];m=q[1];V=q[2];w=o(w,R);
m=o(m,R);V=o(V,R);var q=g.JX.GS(_,[w,m,V,1]);w=q[0];m=q[1];V=q[2];w=l(w);m=l(m);V=l(V);w=D(w,s);m=D(m,s);
V=D(V,s);var i=hM.ahM(w,m,V,Z);w=i[0];m=i[1];V=i[2];w=l(w);m=l(m);V=l(V);if(O){var c=new Uint8Array(4);
c[0]=~~(.5+w*255);c[1]=~~(.5+m*255);c[2]=~~(.5+V*255);jW.Ok(O,c,c,new gt(0,0,1,1));w=c[0]/255;m=c[1]/255;
V=c[2]/255}F[n]=w;F[n+1]=m;F[n+2]=V}function S(h,F,n,R,s,Z){var O=s.Temp?s.Temp.v:0,w=s.Tint?s.Tint.v:0,m=s.Ex12?s.Ex12.v:0,V=s.Cr12?s.Cr12.v:0,q=s.Vibr?s.Vibr.v:0,i=s.Strt?s.Strt.v:0,c=hM.kb(O,w),z=null;
m+=c.aAp;if(q!=0||i!=0)z=jW.Vz("vibA",{Strt:s.Strt,vibrance:s.Vibr});var B=Date.now();if(Z){var t=Math.pow(2,m),a=h.length;
m=0;var I=new Float32Array(4e3);for(var v=0;v<4e3;v++){var N=v*(1/1e3);N=g.vH(N);N*=t;N=g.Xf(N);N=l(N);
I[v]=N}for(var v=0;v<a;v+=3){R[v]=I[~~(h[v]*1e3)];R[v+1]=I[~~(h[v+1]*1e3)];R[v+2]=I[~~(h[v+2]*1e3)]}console.log(Date.now()-B,"Exposure normalizing");
B=Date.now()}else R.set(h);if(m!=0||V!=0||O!=0||w!=0||z){var J=17,Q=1/(J-1),A=J*J*J,f=new Array(A*3);
for(var W=0;W<J;W++)for(var C=0;C<J;C++)for(var j=0;j<J;j++){var v=W*J*J+C*J+j,K=v*3;f[K]=W*Q;f[K+1]=C*Q;
f[K+2]=j*Q}for(var v=0;v<A;v++)u(f,f,v*3,m,V,c,z);console.log(Date.now()-B,"making LUT");B=Date.now();
ICC.U.applyLUTFloat(f,J,R,R);console.log(Date.now()-B,"applying LUT");B=Date.now()}}return S}();function hW(){}hW.x2=function(l,o){var D=new Uint8Array(l),H=0,_=o.split("/").pop().split(".")[0];
function u(V){for(var v=0;v<V.length;v++)V[v].v.Nm.v=_+"/"+V[v].v.Nm.v.split("/").pop()}var S={b9:[],N8:[],list:[]},h=x.I9(D,H);
H+=2;if(h<=2){S=hW.av9(D);u(S.list);return S}var F=x.I9(D,H);H+=2;var n=x.Gk(D,H,8);H+=8;var R=x.C(D,H);
H+=4;if(R>0)S.b9=hW.apf(D,H,R,F,h);H+=R;var s=x.Gk(D,H,8);H+=8;var Z=x.C(D,H);H+=4;if(Z>0)S.N8=it.NM(D,H,Z);
H+=Z;var O=x.Gk(D,H,8);H+=8;var w=x.C(D,H);H+=4;if(w>0){var m={};ii.JZ(D,m,H+4);S.list=m.Brsh.v}H+=w;
var V=S.list;for(var v=0;v<V.length;v++){j6.nv.check(V[v].v)}u(V);return S};hW.nT=function(l,o){l.v.Nm.v=o};
hW.av9=function(l){var o={b9:[],N8:[],list:[]},D=0,H=x.I9(l,D);D+=2;var _=x.I9(l,D);D+=2;for(var v=0;
v<_;v++){var u=x.I9(l,D);D+=2;var S=x.C(l,D);D+=4;var h=D;if(u==2){var F={};o.b9.push(F);var n=x.C(l,h);
h+=4;var R=x.I9(l,h);h+=2;if(H==2){var s=x.VW(l,h);h+=4+s.length*2+2}F.id=f9.T5()+"-d71c-11e5-b1ae-a548a96e5f9f";
h++;h+=8;F.hR=x.m3(l,h);h+=16;var Z=x.I9(l,h);h+=2;var O=l[h];h++;var w=hI.PB(!1,Z,l,F.hR.Q,F.hR._,h,O);
hW.a4i(F,w);var m=j6.iF(F.id),V=m.Brsh.v;V.Dmtr.v.val=F.hR.Q;V.Spcn.v.val=R;o.list.push({t:"Objc",v:m})}D+=S}return o};
hW.wd=function(l){var o=new dk,D=0,H=0;x.iE(o,D,6);D+=2;x.iE(o,D,2);D+=2;var _={},u=[],S={},h=[];for(var v=0;
v<l.list.length;v++){var F=l.list[v].v,n=F.Brsh.v;if(n.classID=="sampledBrush")_[n.sampledData.v]=!0;
if(F.Txtr)S[F.Txtr.v.Idnt.v]=!0}for(var v=0;v<l.b9.length;v++)if(_[l.b9[v].id])u.push(l.b9[v]);for(var v=0;
v<l.N8.length;v++)if(_[l.N8[v].id])h.push(l.N8[v]);x.hZ(o,D,"8BIMsamp");D+=8;D+=4;H=D;D=hW.ayq(o,D,u);
x.aG(o,H-4,D-H);x.hZ(o,D,"8BIMpatt");D+=8;D+=4;H=D;D=it.Py(o,D,h);x.aG(o,H-4,D-H);var R=JSON.parse(JSON.stringify(l.list));
for(var v=0;v<R.length;v++)R[v].v.Nm.v=R[v].v.Nm.v.split("/").pop();var s={classID:"null",Brsh:{t:"VlLs",v:R}};
x.hZ(o,D,"8BIMdesc");D+=8;D+=4;H=D;x.aG(o,D,16);D+=4;D+=ii.wa(o,s,D);x.aG(o,H-4,D-H);return o.data.slice(0,D).buffer};
hW.apf=function(l,o,D,H,_){var u=x.C,S=x.m3,h=o+D,F=[];while(o<h){var n={};F.push(n);var R=u(l,o);o+=4;
var s=o,Z=x.dQ(l,o);o+=Z.length;n.id=Z.QJ;if(H==1){o+=9;n.hR=S(l,o);o+=16}else{o+=7;var O=u(l,o);o+=4;
n.hR=S(l,o);o+=16;var w=u(l,o);o+=4;o+=w*4;var m=u(l,o);o+=4;var V=u(l,o);o+=4;var q=S(l,o);o+=16}var i=x.I9(l,o);
o+=2;var c=l[o];o+=1;var z=hI.PB(!1,i,l,n.hR.Q,n.hR._,o,c);hW.a4i(n,z);if(R%4!=0)R+=4-R%4;o=s+R}return F};
hW.a4i=function(l,o){var D=l.hR.clone();D.x=D.y=0;l.dT=[o,D]};hW.ayq=function(l,o,D){var H=x.aG,_=x.Qi;
for(var v=0;v<D.length;v++){var u=D[v],S=o+4,F=56,R=1;o+=4;x.AC(l,o,u.id);o+=u.id.length+2;l.tP(o,1);
l.data[o]=1;o+=3;H(l,o,3);o+=4;var h=o;o+=4;_(l,o,u.hR);o+=16;H(l,o,F);o+=4;o+=F*4;H(l,o-4,1);var n=o;
o+=4;H(l,o,8);o+=4;_(l,o,u.hR);o+=16;x.iE(l,o,8);o+=2;l.tP(o,1);l.data[o]=R;o++;var s=u.dT[0];l.tP(o,u.hR.c()*2);
o=hI.rn(!1,s,l.data,u.hR.Q,u.hR._,o,R);l.tP(o,8);o+=8;var Z=o-S;H(l,S-4,Z);H(l,h,Z-49);H(l,n,Z-305);
if(Z%4!=0)o+=4-Z%4}return o};function hR(){}hR.x2=function(l,o){var D=new Uint8Array(l),H=[],_=0,u=x.I9(D,_);
_+=2;if(u!=4){throw"Unknown version of curves: "+u}var S=x.I9(D,_);_+=2;for(var v=0;v<S;v++){var h=hR.aED(D,_);
_+=2+2*h.length;H.push(h)}if(_!=D.length){var F=x.Gk(D,_,4);_+=4;var n=x.I9(D,_);_+=2;var R=x.I9(D,_);
_+=2;if(R!=0)throw"extra curves for channels"}var s=hR.ar3(H,0);s.presetKind={t:"long",v:3};s.presetFileName={t:"TEXT",v:o.split("/").pop().split(".")[0]};
return[s]};hR.uO=function(l,o,D){var H=o,_=[],u=l[o];o+=3;var S=x.C(l,o);o+=4;for(var v=0;v<4;v++){var h=S>>>v&1;
if(h){if(u==0){var F=hR.aED(l,o);o+=2+2*F.length}else{var F=hR.a4E(l,o);o+=256}_.push(F)}else _.push(u==0?[0,0,255,255]:hR.a2g())}var n=hR.ar3(_,u);
return n};hR.ar3=function(l,o){var D=at.ts("curv");for(var v=0;v<4;v++){if(o==0){var H=l[v],_=[];for(var u=0;
u<H.length;u+=2)_.push(g.SA.ll(H[u],H[u+1],!0));hR.sQ(D,v,_)}else hR.sQ(D,v,l[v])}return D};hR.wL=function(l,o,D){var H=[];
for(var v=0;v<4;v++){var _=hR.$m(D,v);if(_.length==256)H.push(_);else{var u=[];for(var S=0;S<_.length;
S++)u.push(_[S].v.Hrzn.v,_[S].v.Vrtc.v);H.push(u)}}var h=o,F=H[0].length==256?1:0;l.tP(o,3);l.data[o]=F;
l.data[o+1]=0;l.data[o+2]=1;o+=3;x.aG(l,o,15);o+=4;for(var v=0;v<4;v++){var n=H[v];if(F==0){hR.a37(l,o,n);
o+=2+2*n.length}else{hR.aw_(l,o,n);o+=256}}return o-h};hR.a2g=function(){var l=[];for(var v=0;v<256;
v++)l.push(v);return l};hR.sQ=function(l,o,D){var H=el.sU("CrvA",o);if(D.length<256)H.Crv={t:"VlLs",v:D};
else{H.Mpng={t:"VlLs",v:[]};for(var v=0;v<256;v++)H.Mpng.v[v]={t:"long",v:D[v]}}H={t:"Objc",v:H};var _=l.Adjs.v,u=el.v7(_,o);
if(u==-1)_.push(H);else _[u]=H};hR.$m=function(l,o){var D=l.Adjs.v,H=el.v7(D,o);if(H==-1){if(D.length==0||D[0].v.Crv)return[g.SA.ll(0,0,!0),g.SA.ll(255,255,!0)];
if(D[0].v.autoMachineLearning||D[0].v.AuCo)return[g.SA.ll(0,0,!0),g.SA.ll(128,160,!0),g.SA.ll(255,255,!0)];
var _=[];for(var v=0;v<256;v++)_.push(v);return _}var u=D[H].v;if(u.Crv)return u.Crv.v;if(u.Mpng){var _=[];
for(var v=0;v<256;v++)_.push(u.Mpng.v[v].v);return _}return[g.SA.ll(0,0,!0),g.SA.ll(255,255,!0)]};hR.aED=function(l,o){var D=[],H=x.I9(l,o);
o+=2;for(var _=0;_<H;_++){var u=x.I9(l,o);o+=2;var S=x.I9(l,o);o+=2;D.push(S,u)}return D};hR.a37=function(l,o,D){var H=D.length/2;
x.iE(l,o,H);o+=2;for(var _=0;_<H;_++){x.iE(l,o,D[_*2+1]);o+=2;x.iE(l,o,D[_*2+0]);o+=2}};hR.a4E=function(l,o){var D=[];
for(var v=0;v<256;v++)D.push(l[o+v]);return D};hR.aw_=function(l,o,D){l.tP(o,256);for(var v=0;v<256;
v++)l.data[o+v]=D[v]};function gT(){}gT.uO=function(l,o,D){var H={},_=x.I9(l,o);o+=2;H.Xw=l[o]==1;o++;
o++;H.AK=[x.Kc(l,o),x.Kc(l,o+2),x.Kc(l,o+4)];o+=6;H.OJ=[x.Kc(l,o),x.Kc(l,o+2),x.Kc(l,o+4)];o+=6;H.qf=[];
for(var v=0;v<6;v++){var u={};u.Zz=[x.Kc(l,o),x.Kc(l,o+2),x.Kc(l,o+4),x.Kc(l,o+6)];o+=8;u.AZ=[x.Kc(l,o),x.Kc(l,o+2),x.Kc(l,o+4)];
o+=6;H.qf.push(u)}var h=at.ts("hue2"),F=H;if(h.Clrz==null)h.Clrz={t:"bool",v:!1};h.Clrz.v=F.Xw;for(var v=0;
v<7;v++){var n=v==0?F.Xw?F.AK:F.OJ:F.qf[v-1];gT.sQ(h,v,n)}return h};gT.alU=function(l){return{classID:"Hst2",H:{t:"long",v:l[0]},Strt:{t:"long",v:l[1]},Lght:{t:"long",v:l[2]}}};
gT.v7=function(l,o){for(var v=0;v<l.length;v++){var D=l[v].v.LclR;if(o==0&&D==null||D!=null&&D.v==o)return v}return-1};
gT.sQ=function(l,o,D){var H=o==0?D:D.AZ,_=gT.alU(H);if(o!=0){var u=D.Zz;_.LclR={t:"long",v:o},_.BgnR={t:"long",v:u[0]};
_.BgnS={t:"long",v:u[1]};_.EndS={t:"long",v:u[2]};_.EndR={t:"long",v:u[3]}}_={t:"Objc",v:_};var S=l.Adjs.v,h=gT.v7(S,o);
if(h==-1)S.push(_);else S[h]=_};gT.$m=function(l,o){var D=l.Adjs.v,H=gT.v7(D,o);if(H==-1){if(o==0)return[0,0,0];
else return[{Zz:[315,345,15,45],AZ:[0,0,0]},{Zz:[15,45,75,105],AZ:[0,0,0]},{Zz:[75,105,135,165],AZ:[0,0,0]},{Zz:[135,165,195,225],AZ:[0,0,0]},{Zz:[195,225,255,285],AZ:[0,0,0]},{Zz:[255,285,315,345],AZ:[0,0,0]}][o-1]}var _=D[H].v,u=[_.H.v,_.Strt.v,_.Lght.v];
if(o==0)return u;return{AZ:u,Zz:[_.BgnR.v,_.BgnS.v,_.EndS.v,_.EndR.v]}};gT.wL=function(l,o,D){var H={Xw:D.Clrz?D.Clrz.v:!1,qf:[]};
H.AK=H.OJ=gT.$m(D,0);for(var v=1;v<7;v++)H.qf.push(gT.$m(D,v));var _=2+2+12+6*14,u=l.data;l.tP(o,_);
x.Pi(u,o,2);o+=2;u[o]=H.Xw?1:0;o++;o++;x.ry(u,o+0,H.AK[0]);x.ry(u,o+2,H.AK[1]);x.ry(u,o+4,H.AK[2]);o+=6;
x.ry(u,o+0,H.OJ[0]);x.ry(u,o+2,H.OJ[1]);x.ry(u,o+4,H.OJ[2]);o+=6;for(var v=0;v<6;v++){var S=H.qf[v].Zz,h=H.qf[v].AZ;
x.ry(u,o+0,S[0]);x.ry(u,o+2,S[1]);x.ry(u,o+4,S[2]);x.ry(u,o+6,S[3]);o+=8;x.ry(u,o+0,h[0]);x.ry(u,o+2,h[1]);
x.ry(u,o+4,h[2]);o+=6}return _};function el(){}el.x2=function(l){var o=new Uint8Array(l),D=2,H=[];for(var v=0;
v<29;v++){var _=[];H.push(_);for(var u=0;u<5;u++)_.push(x.I9(o,D+v*10+u*2))}D+=29*10;if(D<o.length){var S=x.Gk(o,D,4);
D+=4;var h=x.I9(o,D);D+=2;var F=x.I9(o,D);D+=2;var n=F-29;for(var v=0;v<n;v++){var _=[];H.push(_);for(var u=0;
u<5;u++)_.push(x.I9(o,D+v*10+u*2))}}var R=at.ts("levl");for(var v=0;v<4;v++)el.sQ(R,v,H[v]);return R};
el.sU=function(l,v){var o=["Cmps","Rd","Grn","Bl"],D={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:o[v]}}]};
return{classID:l,Chnl:D}};el.v7=function(l,o){var D={Cmps:0,Rd:1,Grn:2,Bl:3};for(var v=0;v<l.length;
v++){var H=l[v].v,_=D[H.Chnl.v[0].v.enum];if(_==o)return v}return-1};el.sQ=function(l,o,D){var H=el.sU("LvlA",o);
H.Inpt={t:"VlLs",v:[{t:"long",v:D[0]},{t:"long",v:D[1]}]};H.Otpt={t:"VlLs",v:[{t:"long",v:D[2]},{t:"long",v:D[3]}]};
H.Gmm={t:"doub",v:D[4]/100};H={t:"Objc",v:H};var _=l.Adjs.v,u=el.v7(_,o);if(u==-1)_.push(H);else _[u]=H};
el.$m=function(l,o){var D=[0,255,0,255,100],H=l.Adjs.v,_=el.v7(H,o);if(_==-1)return D;var u=H[_].v;if(u.Inpt){D[0]=u.Inpt.v[0].v;
D[1]=u.Inpt.v[1].v}if(u.Otpt){D[2]=u.Otpt.v[0].v;D[3]=u.Otpt.v[1].v}if(u.Gmm){D[4]=Math.round(u.Gmm.v*100)}return D};
el.wd=function(l,o){var D=[],H=0;for(var v=0;v<4;v++)D.push(el.$m(o,v));while(D.length<29)D.push([0,255,0,255,100]);
l.tP(0,2+10*29);x.Pi(l.data,H,2);H+=2;for(var v=0;v<29;v++){var _=D[v];for(var u=0;u<5;u++)x.Pi(l.data,H+v*10+u*2,_[u])}H+=29*10;
if(D.length==29)return H;l.tP(H,8+10*(D.length-29));x.RN(l.data,H,"Lvls");H+=4;x.Pi(l.data,H,3);H+=2;
x.Pi(l.data,H,D.length);H+=2;var S=D.length-29;for(var v=0;v<S;v++){var _=D[29+v];for(var u=0;u<5;u++)x.Pi(l.data,H+v*10+u*2,_[u])}H+=10*S;
return H};function eF(){}eF.x2=function(l,o){var D=new Uint8Array(l),H=2,_=o.split("/").pop().split(".")[0],u={JV:[],f5:[]},S=x.Gk(D,H,4);
H+=4;var h=x.I9(D,H);H+=2;var F=x.C(D,H);H+=4;u.JV=it.NM(D,H,F);H+=F;var n=x.C(D,H);H+=4;for(var v=0;
v<n;v++){var R=x.C(D,H);H+=4;var s=H,Z={KO:{},yO:{}};u.f5.push(Z);H+=4;H+=ii.JZ(D,Z.KO,H);Z.KO.Nm.v=_+"/"+Z.KO.Nm.v.split("=").pop();
H+=4;H+=ii.JZ(D,Z.yO,H);H=s+R;var O=Z.yO.blendOptions,w=Z.yO.Lefx;if(O&&Object.keys(O.v).length>1){}if(w){if(w.v.masterFXSwitch==null)w.v.masterFXSwitch={t:"bool",v:!0};
aN.eC(w.v)}}return u};eF.nT=function(l,o){l.KO.Nm.v=o};eF.wd=function(l){var o=new dk,D=0;x.iE(o,D,2);
D+=2;x.hZ(o,D,"8BSL");D+=4;x.iE(o,D,3);D+=2;var H=D;D+=4;D=it.Py(o,D,l.JV);x.aG(o,H,D-H-4);var _=l.f5.length;
x.aG(o,D,_);D+=4;for(var v=0;v<_;v++){D+=4;var u=D,S=l.f5[v];x.aG(o,D,16);D+=4;var h=S.KO.Nm.v;S.KO.Nm.v=S.KO.Nm.v.split("/").pop();
D+=ii.wa(o,S.KO,D);S.KO.Nm.v=h;var F=S.yO.Lefx;if(F){S.yO.Lefx=JSON.parse(JSON.stringify(F));aN.lo(S.yO.Lefx.v)}x.aG(o,D,16);
D+=4;D+=ii.wa(o,S.yO,D);if(F)S.yO.Lefx=F;x.aG(o,u-4,D-u)}return o.data.slice(0,D).buffer};function je(){}je.uO=function(l,o,D){var H=x.I9(l,o);
o+=2;var _={};_.kc=x.I9(l,o)==1;o+=2;_.HH=[];for(var v=0;v<10;v++){var u=[];_.HH.push(u);for(var S=0;
S<4;S++)u.push(x.Kc(l,o+S*2));o+=8}var h=at.ts("selc");h.Mthd.v.CrcM=_.kc?"Absl":"Rltv";for(var v=1;
v<10;v++)je.sQ(h,v-1,_.HH[v]);return h};je.I$="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
je.sU=function(l,v){var o=["Cmps","Rd","Grn","Bl"],D={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:o[v]}}]};
return{classID:l,Chnl:D}};je.v7=function(l,o){var D=je.I$;for(var v=0;v<l.length;v++){var H=l[v].v,_=D.indexOf(H.Clrs.v.Clrs);
if(_==o)return v}return-1};je.sQ=function(l,o,D){var H=["Cyn","Mgnt","Ylw","Blck"],_={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:je.I$[o]}}};
for(var u=0;u<4;u++)_[H[u]]={t:"UntF",v:{type:"#Prc",val:D[u]}};_={t:"Objc",v:_};var S=l.ClrC.v,h=je.v7(S,o);
if(h==-1)S.push(_);else S[h]=_};je.$m=function(l,o){var D=[0,0,0,0],H=l.ClrC.v,_=je.v7(H,o);if(_==-1)return D;
var u=["Cyn","Mgnt","Ylw","Blck"];for(var v=0;v<4;v++)if(H[_].v[u[v]])D[v]=H[_].v[u[v]].v.val;return D};
je.wL=function(l,o,D){var H={kc:D.Mthd.v.CrcM=="Absl",HH:[[0,0,0,0]]};for(var v=0;v<9;v++)H.HH.push(je.$m(D,v));
l.tP(o,84);x.Pi(l.data,o,1);o+=2;x.Pi(l.data,o,H.kc?1:0);o+=2;for(var v=0;v<10;v++){var _=H.HH[v];for(var u=0;
u<4;u++)x.ry(l.data,o+u*2,_[u]);o+=8}return 84};function dV(){}dV.ts=function(){return{EZ:new gt(0,0,50,50),KO:"",Yd:"play",d:g.n.Rd.el([.1,.1,.9,.5,.1,.9],0)}};
dV.x2=function(l,o){l=new Uint8Array(l);var D=0,H=[],_=o.split("/").pop().split(".")[0],u=Date.now(),S=x.Gk(l,0,4);
D+=4;var h=x.C(l,D);D+=4;var F=x.C(l,D);D+=4;for(var v=0;v<F;v++){var n=x.VW(l,D);D+=n.length*2+4+2;
if((n.length&1)==0)D+=2;D=dV.abq(l,D,n,H);H[v].Yd=_+"/"+H[v].Yd}return H};dV.abq=function(l,o,D,H){var _=x.C(l,o);
o+=4;var u=x.C(l,o);o+=4;var S=o,h=x.dQ(l,S).QJ;S+=h.length+1;var F=x.m3(l,S);S+=16;var n=dV.l_(l,S,u-(S-o)),R=g.n.GL(n),s=g.X.dm(R),Z=1/s.Q,O=1/s._;
g.n.Am(n,new de(Z,0,0,O,-s.x*Z,-s.y*O));H.push({Yd:D,KO:h,d:n,EZ:F});o+=u;return o};dV.nT=function(l,o){l.Yd=o};
dV.wd=function(l){var o=new dk,D=0;x.hZ(o,D,"cush");D+=4;x.aG(o,D,2);D+=4;x.aG(o,D,l.length);D+=4;for(var v=0;
v<l.length;v++){var H=l[v],_=H.Yd.split("/").pop()+"\0";x.Ac(o,D,_);D+=4+_.length*2;if((_.length&1)==1)D+=2;
x.aG(o,D,1);D+=4;D+=4;var u=D;x.AC(o,D,H.KO);D+=H.KO.length+1;x.Qi(o,D,H.EZ);D+=16;o.tP(D,H.d.length*26);
dV.wO(o.data,D,H.d,1,1);D+=H.d.length*26;var S=D-u;if((S&3)!=0)S+=4-(S&3);x.aG(o,u-4,S);D=u+S}return o.data.slice(0,D).buffer};
dV.ayK=function(l){var o=[];for(var v=0;v<l.length;v++){var D=l[v],H=D.type,_={type:H};o.push(_);if(H==6){}else if(H==8)_.all=D.all;
else if(H==0||H==3){_.length=D.length;_.frule=D.HN;_.third=D.qC;_.prmA=D.Zt;_.prmB=D.bb}else{_.c=[D.e6.x,D.e6.y,D.u.x,D.u.y,D.BN.x,D.BN.y]}}return o};
dV.adu=function(l){var o=[];for(var v=0;v<l.length;v++){var D=l[v],H=D.type,_={type:H};o.push(_);if(H==6){}else if(H==8)_.all=D.all;
else if(H==0||H==3){_.length=D.length;_.HN=D.frule;_.qC=D.third;_.Zt=D.prmA;_.bb=D.prmB}else{var u=D.c;
_.e6=new he(u[0],u[1]);_.u=new he(u[2],u[3]);_.BN=new he(u[4],u[5])}}return o};dV.l_=function(l,o,D,H,_){if(H==null)H=1;
if(_==null)_=1;function u(m,V,q){var i=x.arS(m,V)*q,c=Math.round(i);return Math.abs(i-c)<1e-6?c:i}var S=x.Kc,h=[],F=Math.floor(D/26);
for(var v=0;v<F;v++){var n=o+v*26,R={},s=0;h.push(R);R.type=S(l,n);n+=2;if(R.type==6){s=24}if(R.type==8){R.all=S(l,n);
n+=2;s=22}if(R.type==0||R.type==3){R.length=S(l,n);n+=2;R.HN=S(l,n);n+=2;R.qC=S(l,n);n+=2;R.Zt=x.C(l,n);
n+=4;R.bb=x.C(l,n);n+=4;s=10}if(R.type==1||R.type==2||R.type==4||R.type==5){var Z,O;O=u(l,n,_);n+=4;
Z=u(l,n,H);n+=4;R.e6=new he(Z,O);O=u(l,n,_);n+=4;Z=u(l,n,H);n+=4;R.u=new he(Z,O);O=u(l,n,_);n+=4;Z=u(l,n,H);
n+=4;R.BN=new he(Z,O);s=0}for(var w=0;w<s;w++)if(l[n+w]!=0){console.log("Unexpected non-zero byte!",R,w,l[n+w])}}return h};
dV.wO=function(l,o,D,H,_){var u=x.ry,S=x.asM,h=D.length;for(var v=0;v<h;v++){var F=o+v*26,n=D[v];u(l,F,n.type);
F+=2;if(n.type==6){}if(n.type==8)u(l,F,n.all);if(n.type==0||n.type==3){u(l,F,n.length);F+=2;u(l,F,n.HN);
F+=2;u(l,F,n.qC);F+=2}if(n.type==1||n.type==2||n.type==4||n.type==5){S(l,F,n.e6.y/_);F+=4;S(l,F,n.e6.x/H);
F+=4;S(l,F,n.u.y/_);F+=4;S(l,F,n.u.x/H);F+=4;S(l,F,n.BN.y/_);F+=4;S(l,F,n.BN.x/H);F+=4}}};function gr(){}gr.x2=function(l,o){var D=new Uint8Array(l),H=[],_=0;
if(x.Gk(D,0,4)=="ASEF")H=gr.acA(D);else{_=gr.a7K(D,_,H);if(_+3<D.length){H=[];_=gr.a7K(D,_,H)}}var u=o.split("/").pop().split(".")[0];
for(var v=0;v<H.length;v++){if(H[v].$_==null)H[v].$_="clr"+v;H[v].$_=u+"/"+H[v].$_.split("/").pop().split("=").pop()}return H};
gr.acA=function(l){var o=[],D=8,H=x.C(l,D),_,u=null,S,h,F,n;D+=4;for(var R=0;R<H;R++){var s=x.I9(l,D);
D+=2;var Z=x.C(l,D);D+=4;var O=D+Z;if(s==49153||s==1){var w=x.I9(l,D);D+=2;var m=x.tm(l,D,w-1);D+=w*2;
if(s==1)_=m;else u=m}if(s==1){var V=x.Gk(l,D,4);D+=4;S=x.R1(l,D);D+=4;h=x.R1(l,D);D+=4;F=x.R1(l,D);D+=4;
if(V=="RGB "){}else if(V=="CMYK"){n=x.R1(l,D);D+=4;var q=UDOC.C.cmykToRgb([S,h,F,n]);S=q[0];h=q[1];F=q[2]}else alert("Unknown color space: "+V);
o.push({$:S*255,H:h*255,J:F*255,$_:(u?u+" : ":"")+_})}D=O}return o};gr.a7K=function(l,o,D){var H=x.I9,_=x.Kc,u=H(l,o);
o+=2;var S=H(l,o);o+=2;for(var v=0;v<S;v++){var h=gr.Bc(l,o);o+=10;if(u==2){h.$_=x.VW(l,o);o+=4+h.$_.length*2+2}D.push(h)}return o};
gr.Bc=function(l,o){var D=x.I9,H=x.Kc,_=D(l,o),O=null;o+=2;var u=D(l,o);o+=2;var S=D(l,o);o+=2;var h=D(l,o);
o+=2;var F=D(l,o);o+=2;var n=1/65535,R=255/65535,s=100/65535,Z=255/1e4;if(_==0)O={$:u*R,H:S*R,J:h*R};
else if(_==1){O=g.cO(u*n,S*n,h*n);O.$*=255;O.H*=255;O.J*=255}else if(_==2)O=g.G.s3({classID:"CMYC",Cyn:{t:"doub",v:100-u*s},Mgnt:{t:"doub",v:100-S*s},Ylw:{t:"doub",v:100-h*s},Blck:{t:"doub",v:100-F*s}});
else if(_==7){var w=g.Wn(u/100,H(l,o-6)/100,H(l,o-4)/100);O=w}else if(_==8){O={$:255-u*Z,H:255-S*Z,J:255-h*Z}}else if(_==18){var m=255*u/16384;
O={$:m,H:m,J:m}}else{throw _}return O};gr.wd=function(l){var o=new dk,D=0,H=x.iE;H(o,D,2);D+=2;H(o,D,l.length);
D+=2;for(var v=0;v<l.length;v++){var _=l[v];o.tP(D,10);gr.Ir(o.data,D,_);D+=10;var u=(_.$_?_.$_:"")+"\0";
x.Ac(o,D,u);D+=4+u.length*2}return o.data.slice(0,D).buffer};gr.nT=function(l,o){l.$_=o};gr.Ir=function(l,o,D){var H=65535/255,_=x.Pi;
_(l,o,0);_(l,o+2,Math.round(D.$*H));_(l,o+4,Math.round(D.H*H));_(l,o+6,Math.round(D.J*H));_(l,o+8,0)};
function aM(){}aM.x2=function(l){var o=new Uint8Array(l),D=4,H={};H.ND=x.VW(o,D);D+=4+H.ND.length*2+2;
H.exp=o[D++]==1;H.T3=[];var _=x.C(o,D);D+=4;for(var v=0;v<_;v++){var u={};H.T3.push(u);u.wN=x.I9(o,D);
D+=2;u.shift=o[D++]==1;u.aaJ=o[D++]==1;u.color=x.I9(o,D);D+=2;u.ND=x.VW(o,D);D+=4+u.ND.length*2+2;u.exp=o[D++]==1;
u.T3=[];var S=x.C(o,D);D+=4;for(var h=0;h<S;h++){var F={};u.T3.push(F);F.exp=o[D++]==1;F.e=o[D++]==1;
F.aDQ=o[D++]==1;F.aCG=o[D++];var n=x.Gk(o,D,4);D+=4;if(n=="TEXT"){F.vS=aM.akG(o,D);D+=4+F.vS.length}else if(n=="long"){F.vS=x.Gk(o,D,4);
D+=4}else throw"e";F.RT=aM.akG(o,D);D+=4+F.RT.length;var R=x.Kb(o,D);D+=4;if(R==-1){F.M1={};var s=ii.JZ(o,F.M1,D);
D+=s}}}console.log(H);var Z=new Uint8Array(aM.wd(H));for(var v=0;v<Z.length;v++)if(Z[v]!=o[v]&&x.Gk(o,v+1,4)!="None"){console.log(o.length,Z.length);
var O=4*(v>>>2)-16;console.log(x.PM(o,O,64));console.log(x.PM(Z,O,64));console.log(o.slice(O,O+64));
console.log(Z.slice(O,O+64));throw"i"}return[H]};aM.akG=function(l,o){var D=x.C(l,o);return x.Gk(l,o+4,D)};
aM.agS=function(l,o,D){x.aG(l,o,D.length);x.hZ(l,o+4,D)};aM.wd=function(l){var o=new dk,D=0;x.aG(o,D,16);
D+=4;x.Ac(o,D,l.ND+"\0");D+=4+l.ND.length*2+2;o.tP(D,1);o.data[D++]=l.exp?1:0;var H=l.T3.length;x.aG(o,D,H);
D+=4;for(var v=0;v<H;v++){var _=l.T3[v];x.iE(o,D,_.wN);D+=2;o.tP(D,2);o.data[D++]=_.shift?1:0;o.data[D++]=_.aaJ?1:0;
x.iE(o,D,_.color);D+=2;x.Ac(o,D,_.ND+"\0");D+=4+_.ND.length*2+2;o.tP(D,1);o.data[D++]=_.exp?1:0;var u=_.T3.length;
x.aG(o,D,u);D+=4;for(var S=0;S<u;S++){var h=_.T3[S];o.tP(D,4);o.data[D++]=h.exp?1:0;o.data[D++]=h.e?1:0;
o.data[D++]=h.aDQ?1:0;o.data[D++]=h.aCG;var F="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(h.vS)!=-1;
x.hZ(o,D,F?"long":"TEXT");D+=4;if(!F){aM.agS(o,D,h.vS);D+=4+h.vS.length}else{x.hZ(o,D,h.vS);D+=4}aM.agS(o,D,h.RT);
D+=4+h.RT.length;x.aD(o,D,h.M1?-1:0);D+=4;if(h.M1){var n=ii.wa(o,h.M1,D);D+=n}}}return o.data.slice(0,D).buffer};
function gZ(){}gZ.x2=function(l){var o=new Uint8Array(l),D=0,H=x.C(o,D),F;D+=4;var _=x.Gk(o,D,8);D+=8;
var u=x.K6(o,D);D+=4;var S=x.K6(o,D);D+=4;var h=x.K6(o,D);D+=4;console.log(u,S,h);if(H==2){F=new Float32Array(l,32,l.byteLength-32>>>2)}else if(H==3||H==4){F=new Float32Array(S*h*2);
var n=0,R=0,s=!0;D=H==3?32:16+8+40;while(D<o.length){var Z=x.K6(o,D);D+=4;if(s)R+=Z;else{for(var v=0;
v<Z;v++){F[n+R+v<<1]=x.jV(o,D);F[(n+R+v<<1)+1]=x.jV(o,D+4);D+=8}R+=Z}s=!s;if(Z!=0&&R==S){n+=S;R=0;s=!0;
if(n==S*h)break}}}else throw"unknown Mesh version: "+H;return{pX:S,B9:h,map:F}};gZ.Y8=function(l){var o=l.pX,D=l.B9,H=l.map,_=new Uint8Array(32+D*o*8+D*8),u=0,S=0;
x.Dn(_,u,3);u+=4;x.RN(_,u,"yfqLhseM");u+=8;x.Nu(_,u,2);u+=4;x.Nu(_,u,o);u+=4;x.Nu(_,u,D);u+=4;x.Nu(_,u,0);
u+=4;x.Nu(_,u,1);u+=4;for(var h=0;h<D;h++){x.Nu(_,u,0);u+=4;x.Nu(_,u,o);u+=4;for(var F=0;F<o;F++){x.m5(_,u,H[S]);
x.m5(_,u+4,H[S+1]);S+=2;u+=8}}return _.buffer};function aX(){}aX.x2=function(l){var o=new Uint8Array(l),D=0,H=x.Gk(o,D,4);
D+=4;var _=x.I9(o,D);D+=2;var u=x.C(o,D);D+=4;var S=[];for(var v=0;v<u;v++){var h=x.C(o,D);D+=4;var F={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
S.push(F);var n=x.VW(o,D);F.Nm.v=n;D+=4+n.length*2+2;var R=x.I9(o,D);D+=2;var s=x.I9(o,D);D+=2;for(var Z=0;
Z<s;Z++){var O=g.SA.ll(0,0,!0);O.v.Vrtc.v=x.I9(o,D);D+=2;O.v.Hrzn.v=x.I9(o,D);D+=2;F.Crv.v.push(O)}if(h==1){}else if(h==2){for(var Z=0;
Z<s;Z++){F.Crv.v[Z].v.Cnty.v=o[D]==1;D+=1}}else throw"error";var w=x.C(o,D);D+=4;var m=x.C(o,D);D+=4}return S};
aX.nT=function(l,o){l.Nm.v=o};aX.wd=function(l){var o=new dk,D=0;x.hZ(o,D,"8BFS");D+=4;x.iE(o,D,1);D+=2;
x.aG(o,D,l.length);D+=4;for(var v=0;v<l.length;v++){x.aG(o,D,2);D+=4;var H=l[v];x.Ac(o,D,H.Nm.v+"\0");
D+=4+H.Nm.v.length*2+2;x.iE(o,D,2);D+=2;var _=H.Crv.v.length;x.iE(o,D,_);D+=2;for(var u=0;u<_;u++){var S=H.Crv.v[u];
x.iE(o,D,S.v.Vrtc.v);D+=2;x.iE(o,D,S.v.Hrzn.v);D+=2}o.tP(D,_);for(var u=0;u<_;u++){o.data[D]=H.Crv.v[u].v.Cnty.v;
D++}x.aG(o,D,0);D+=4;x.aG(o,D,0);D+=4}return o.data.slice(0,D).buffer};function it(){}it.x2=function(l,o){var D=new Uint8Array(l),H=4,_=o.split("/").pop().split(".")[0],u=x.I9(D,H);
H+=2;var S=x.C(D,H);H+=4;var h=[];for(var v=0;v<S;v++){var F={};h.push(F);H=it.alF(D,H,F);F.name=_+"/"+F.name.split("=").pop()}return h};
it.nT=function(l,o){l.name=o};it.wd=function(l){var o=new dk,D=0;x.hZ(o,D,"8BPT");D+=4;x.iE(o,D,1);D+=2;
x.aG(o,D,l.length);D+=4;for(var v=0;v<l.length;v++){var H=l[v],_=H.name;H.name=H.name.split("/").pop();
D=it.a5T(o,D,H);H.name=_}return o.data.slice(0,D).buffer};it.NM=function(l,o,D){var H=o+D,_=[];while(o<H){var u={},S=x.C(l,o);
o+=4;var h=o;o=it.alF(l,o,u);if(!u.dT[1].lh())_.push(u);if(S%4!=0)S+=4-S%4;o=h+S}return _};it.Py=function(l,o,D){for(var v=0;
v<D.length;v++){var H=D[v];o+=4;var _=o;o=it.a5T(l,o,H);var u=o-_;x.aG(l,_-4,u);if(u%4!=0)_+=4-u%4;o=_+u}return o};
it.alF=function(l,o,D){var H=x.C(l,o);o+=4;if(H!=1)alert("Unknown version of pattern");var _=x.C(l,o);
o+=4;if(_!=1&&_!=2&&_!=3)console.log("Unsupported mode of pattern: "+_);var u=x.I9(l,o);o+=2;var S=x.I9(l,o);
o+=2;var h=new gt(0,0,S,u);D.name=x.VW(l,o);o+=4+2*D.name.length+2;var F=l[o];o++;D.id=x.Gk(l,o,F);o+=D.id.length;
var n=-1;if(_==2){n=o;o+=3*256+4}var R=new g.Q9(S*u);o=it.amj(l,o,R);if(_==2){for(var v=0;v<R.$.length;
v++){var s=3*R.$[v];R.$[v]=l[n+s+0];R.H[v]=l[n+s+1];R.J[v]=l[n+s+2]}}var Z=g.o(h.c()*4);g.xQ(R,Z);D.dT=[Z,h];
return o};it.a5T=function(l,o,D){var H=D.dT[0],_=D.dT[1];x.aG(l,o,1);o+=4;x.aG(l,o,3);o+=4;x.iE(l,o,_._);
o+=2;x.iE(l,o,_.Q);o+=2;x.Ac(l,o,D.name+"\0");o+=4+2*D.name.length+2;x.TZ(l,o,D.id.length);o++;x.hZ(l,o,D.id);
o+=D.id.length;var u=new g.Q9(_.c());g.gV(H,u);o=it.a8a(l,o,u,_);return o};it.amj=function(l,o,D){var H=o,_={hR:null,N:[],aar:null,Rf:null},u=x.C(l,o);
o+=4;var S=x.C(l,o);o+=4;_.hR=x.m3(l,o);o+=16;var h=x.C(l,o);o+=4;for(var v=0;v<h+2;v++){var F=x.C(l,o);
o+=4;if(F==0)continue;var n=x.C(l,o);o+=4;if(n==0)continue;var R=x.C(l,o);o+=4;var s=x.m3(l,o);o+=16;
var Z=x.I9(l,o);o+=2;var O=l[o];o++;var w=hI.PB(!1,R,l,s.Q,s._,o,O);if(v<h)_.N.push(w);if(v==h)_.aar=w;
if(v==h+1)_.Rf=w;o+=n-23}if(!_.hR.lh()){if(_.N[0])D.$=_.N[0];if(_.N[1])D.H=_.N[1];else D.H=_.N[0].slice(0);
if(_.N[2])D.J=_.N[2];else D.J=_.N[0].slice(0);if(_.Rf)D.M=_.Rf;else D.M.fill(255)}return o};it.a8a=function(l,o,D,H){var _=o,u={hR:H,N:[D.$,D.H,D.J],aar:null,Rf:D.M};
x.aG(l,o,3);o+=4;x.aG(l,o,0);o+=4;x.Qi(l,o,H);o+=16;x.aG(l,o,24);o+=4;for(var v=0;v<24+2;v++){var S=o,h=v<3||v==25?1:0;
x.aG(l,o,h);o+=4;if(h==0)continue;x.aG(l,o,0);o+=4;x.aG(l,o,8);o+=4;x.Qi(l,o,H);o+=16;x.iE(l,o,8);o+=2;
x.TZ(l,o,1,1);o++;var F=v<3?u.N[v]:u.Rf;l.tP(o,H.c()+2);o=hI.rn(!1,F,l.data,H.Q,H._,o,1);x.aG(l,S+4,o-S-8)}x.aG(l,_+4,o-_-8);
return o};function eB(){}eB.x2=function(l,o){var D=new Uint8Array(l),_=0;if(D[0]==71)return eB.atl(D);
var H=o.split("/").pop().split(".")[0],u=x.Gk(D,_,4);_+=4;var S=x.I9(D,_);_+=2;var h=[];if(S<=3){var F=x.I9(D,_);
_+=2;for(var v=0;v<F;v++){var n=D[_++],R=x.Gk(D,_,n);_+=n;var s=eB.a8f(D,_,R),Z=s[0];_=s[1];h.push(Z)}}else{var s={},O=ii.JZ(D,s,_+4),w=s.GrdL.v;
for(var v=0;v<w.length;v++)h[v]=w[v].v.Grad.v}for(var v=0;v<h.length;v++){var m=h[v].Nm.v.split("/").pop().split("=").pop();
h[v].Nm.v=H+"/"+m}return h};eB.nT=function(l,o){l.Nm.v=o};eB.wd=function(l){var o=new dk,D=0;x.hZ(o,D,"8BGR");
D+=4;x.iE(o,D,5);D+=2;x.aG(o,D,16);D+=4;var H={classID:"null",GrdL:{t:"VlLs",v:[]}},_=H.GrdL.v;for(var v=0;
v<l.length;v++){var u=JSON.parse(JSON.stringify(l[v]));u.Nm.v=u.Nm.v.split("/").pop();_[v]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:u}}}}D+=ii.wa(o,H,D);
return o.data.slice(0,D).buffer};eB.a8f=function(l,o,D){var H={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:D},Trns:{t:"VlLs",v:[]}},_=x.I9(l,o);
o+=2;if(_==0)throw"e";for(var v=0;v<_;v++){var u=x.C(l,o),S=x.C(l,o+4),h=gr.Bc(l,o+8),F={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:h.$},Grn:{t:"doub",v:h.H},Bl:{t:"doub",v:h.J}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:u},Mdpn:{t:"long",v:S}}};
H.Clrs.v.push(F);o+=20}var n=x.I9(l,o);o+=2;for(var v=0;v<n;v++){var u=x.C(l,o),S=x.C(l,o+4),R=x.I9(l,o+8),F={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*R/255)}},Lctn:{t:"long",v:u},Mdpn:{t:"long",v:S}}};
H.Trns.v.push(F);o+=10}var s=x.I9(l,o);o+=2;H.Intr.v=s==2?x.I9(l,o):4096;o+=2;var Z=x.I9(l,o);o+=2;return[H,o]};
eB.aiu=function(l,o,D){var H=D.Clrs.v.length;x.iE(l,o,H);o+=2;for(var v=0;v<H;v++){var _=D.Clrs.v[v];
x.aG(l,o,_.v.Lctn.v);x.aG(l,o+4,_.v.Mdpn.v);x.iE(l,o+8,0);var u=g.G.XF(g.G.s3(_.v.Clr.v)),S=[u.Rd.v,u.Grn.v,u.Bl.v,0];
for(var h=0;h<4;h++)x.iE(l,o+10+h*2,Math.round(65535*(S[h]/255)));o+=20}var F=D.Trns.v.length;x.iE(l,o,F);
o+=2;for(var v=0;v<F;v++){var _=D.Trns.v[v];x.aG(l,o,_.v.Lctn.v);x.aG(l,o+4,_.v.Mdpn.v);x.iE(l,o+8,Math.round(255*_.v.Opct.v.val/100));
o+=10}x.iE(l,o,2);o+=2;x.iE(l,o,D.Intr.v);o+=2;x.iE(l,o,32);o+=2;return o};eB.atl=function(l){var o=x.Fs(l,0,l.length).split("\n"),D=parseFloat(o[2]),H=[],_=JSON.parse(cq.Rq[cq.order.indexOf("GrFl")]).Grad.v;
_.Intr.v=0;_.Nm.v=o[1];for(var v=0;v<D;v++){var u=o[3+v].split(" ").map(parseFloat),S=u[11],h=u[12];
H.push([u[0],u.slice(3,6),u[6]]);if(h!=0){var F=g.UM(u[3],u[4],u[5]),n=g.UM(u[7],u[8],u[9]),R=F.B9,s=n.B9;
if(h==1&&R>s)s++;if(h==2&&R<s)R++;var Z=Math.round(Math.abs(s-R)*7);if(Z>1)for(var O=0;O<Z;O++){var w=1-(O+1)/(Z+1),m=1-w,V=g.cO(w*R+m*s,w*F.lv+m*n.lv,w*F.zh+m*n.zh);
H.push([w*u[0]+m*u[2],[V.$,V.H,V.J],w*u[6]+m*u[10]])}}H.push([u[2],u.slice(7,10),u[10]])}H.sort(function(q,i){return q[0]-i[0]});
g.G.Ky(H,_);return[_]};function b7(){}b7.x2=function(l){var o=new Uint8Array(l),D=[],H=[],_=[],u=[],S=[],h=0,F=x.Gk(o,h,4);
h+=4;var n=x.C(o,h);h+=4;var R=x.C(o,h);h+=4;while(h<o.length){var s=x.Gk(o,h,4);h+=4;var Z=x.Gk(o,h,4);
h+=4;var O=x.C(o,h);h+=4;if(Z=="tppa"){H=it.NM(o,h,O);h+=O}else if(Z=="tpbd"){_=hW.apf(o,h,O,1,1);h+=O}else if(Z=="tptp"){var w=x.C(o,h);
h+=4;for(var v=0;v<w;v++){var m=x.VW(o,h);h+=6+m.length*2;h+=4;var V={};h+=ii.JZ(o,V,h);D.push([m,V])}while((h&3)!=0)h++}else if(Z=="tpsh"){var q=h,i=o.slice(h,h+O);
while(h<q+O){var c=x.C(o,h);h+=4;h=dV.abq(o,h,"Shape",u)}h=q+O}else if(Z=="tpst"){var q=h;h+=4;while(h<q+O){var z=x.C(o,h);
h+=4;var B=h,t=x.C(o,h);h+=4;var V={KO:{},yO:{}};S.push(V);h+=4;h+=ii.JZ(o,V.KO,h);h+=4;h+=ii.JZ(o,V.yO,h);
h=B+z;var a=V.yO.Lefx;if(a){if(a.v.masterFXSwitch==null)a.v.masterFXSwitch={t:"bool",v:!0};aN.eC(a.v)}}h=q+O}else{console.log(o.slice(h-8,h+64));
console.log(x.Gk(o,h-8,64));throw Z}}return{b9:_,N8:H,list:D,a4b:u,f5:S}};b7.nT=function(l,o){l[0]=o};
b7.wd=function(l){var o=new dk,D=0;x.hZ(o,D,"8BTP");D+=4;x.aG(o,D,3);D+=4;x.aG(o,D,1);D+=4;var H=[l.N8,l.b9,l.list];
for(var v=0;v<3;v++){if(H[v].length==0)continue;x.hZ(o,D,"8BIM");D+=4;var _=["tppa","tpbd","tptp"][v];
x.hZ(o,D,_);D+=4;var u=D;D+=4;if(_=="tppa"){D=it.Py(o,D,l.N8)}else if(_=="tpbd"){D=hW.ayq(o,D,l.b9)}else if(_=="tptp"){x.aG(o,D,l.list.length);
D+=4;for(var S=0;S<l.list.length;S++){var h=l.list[S];x.Ac(o,D,h[0]+"\0");D+=6+h[0].length*2;x.aG(o,D,16);
D+=4;D+=ii.wa(o,h[1],D)}}x.aG(o,u,D-u-4);while((D&3)!=0)D++;o.tP(D,0)}return o.data.slice(0,D).buffer};
function ik(){}ik.x2=function(l,o){var D=new Uint8Array(l),H;if(x.C(D,0)==D.length)H="icc";else if(D[0]=="<".charCodeAt(0))H="look";
else if(x.ZY(D,"LUT_3D_SIZE")!=-1)H="cube";else H="3DL";if(H!="icc"){var _=ik.a8W(D,H),u=ik.azU(_[0],_[1]);
D=u}var S=[];for(var v=0;v<D.length;v++)S.push(D[v]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:o?o:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:S}}]};
ik.wd=function(l){var o=l[0],D=new Uint8Array(o.profile.v);return D.buffer};ik.nT=function(l,o){l.Nm.v=o};
ik.azU=function(l,o){var D=new dk,H=128;D.tP(0,128);var _=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var v=0;v<_.length;v++)D.data[v]=_[v];var u=["desc","A2B0"],S=u.length,h=128+4+S*12;x.aG(D,H,S);
H+=4;for(var F=0;F<S;F++){var n=u[F];x.hZ(D,H,n);H+=4;x.aG(D,H,h);H+=4;var R=h;if(n=="desc"){x.hZ(D,R,"mluc");
R+=4;R+=4;x.aG(D,R,1);R+=4;x.aG(D,R,12);R+=4;x.hZ(D,R,"enUS");R+=4;var s="ICC by Photopea\0",Z=s.length*2+2;
x.aG(D,R,Z);R+=4;x.aG(D,R,28);R+=4;D.tP(R,Z);for(var v=0;v<s.length;v++)D.data[R+v*2+1]=s.charCodeAt(v);
R+=Z}if(n=="A2B0"){x.hZ(D,R,"mAB ");R+=4;R+=4;D.tP(R,4);D.data[R]=3;D.data[R+1]=3;R+=4;D.tP(R,4*5);R+=4*3;
x.aG(D,R,R+8-h);R+=4;R+=4;D.tP(R,20);D.data[R]=l;D.data[R+1]=l;D.data[R+2]=l;R+=16;D.data[R]=2;R+=4;
var O=l*l*l*3;D.tP(R,O*2);for(var v=0;v<O;v++)x.Pi(D.data,R+v*2,Math.max(0,Math.min(65535,Math.round(o[v]*65535))));
R+=O*2}var w=R-h;while((w&3)!=0)w++;x.aG(D,H,w);H+=4;h+=w}x.aG(D,0,h);return D.data.slice(0,h)};ik.a8W=function(l,o){o="LUTFormat"+o.toUpperCase();
var D=[],H=0,_=x.Fs(l,0,l.length),u="";for(var v=0;v<l.length&&u=="";v++){if(l[v]==10)u="\n";else if(l[v]==13){u="\r";
if(l[v+1]==10)u+="\n"}}if(o=="LUTFormatCUBE"){var S=_.split(u);for(var v=0;v<S.length;v++){if(S[v]==""||S[v][0]=="#")continue;
var h=S[v].split(" "),F=h[0];if(F=="LUT_3D_SIZE"){H=parseInt(h[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(F)!=-1)continue;
D.push(parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2]))}D=ik.anb(H,D)}else if(o=="LUTFormat3DL"){var S=_.split(u),n=1/4095;
for(var v=0;v<S.length;v++){var R=S[v];if(R==""||R=="3DMESH"||R.startsWith("Mesh")||R[0]=="#")continue;
var h=R.split(" "),F=h[0];if(H==0){H=h.length;continue}D.push(parseFloat(h[0])*n,parseFloat(h[1])*n,parseFloat(h[2])*n)}}else if(o=="LUTFormatLOOK"){var s=new DOMParser,Z=s.parseFromString(_,"text/xml"),O=Z.getElementsByTagName("LUT")[0],w=O.children[0].textContent;
H=parseInt(JSON.parse(w));var m=O.children[1].textContent;m=m.replace(/"/g,"").replace(/\s/g,"");var V=3*H*H*H,q=V*4,i=new Uint8Array(q);for(var v=0;v<q;v++){var c=m.charCodeAt(v*2),z=m.charCodeAt(v*2+1),B=c<58?c-48:c-55,t=z<58?z-48:z-55;i[v]=(B<<4)+t}for(var v=0;v<V;v++)D.push(x.jV(i,v<<2));D=ik.anb(H,D)}else throw o;return[H,D]};ik.axa=function(l,o,D){var H=["#Created by www.Photopea.com","TITLE \""+D+"\"","","#LUT size","LUT_3D_SIZE "+o,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],_=6;
for(var v=0;v<l.length;v+=3){H.push(l[v].toFixed(_)+" "+l[v+1].toFixed(_)+" "+l[v+2].toFixed(_))}H.push("");
return x.fe(H.join("\n")).buffer};ik.anb=function(l,o){var D=[],H=l*l*l;for(var v=0;v<H;v++)D.push(0,0,0);
for(var _=0;_<l;_++)for(var u=0;u<l;u++)for(var S=0;S<l;S++){var v=3*(S+u*l+_*l*l),h=3*(_+u*l+S*l*l);
D[h]=o[v];D[h+1]=o[v+1];D[h+2]=o[v+2]}return D};function ii(){}ii.JZ=function(l,o,D,H,_){var u=D,S;if(_==null)_=0;
var h=x.C(l,D);if(h==0){S="";D+=4}else{S=x.VW(l,D);D+=4+2*S.length+2}if(S!="")o.__name=S;o.classID=ii.Bp(l,D);
if(H)console.log("\t".repeat(_),"- reading descriptor",o.classID,D);D+=ii.fo(l,D);var F=x.Kb(l,D);D+=4;
for(var v=0;v<F;v++){var n=ii.Bp(l,D);D+=ii.fo(l,D);var R=ii.aCr(l,D,H,_);o[n]=R;D+=R.size;delete R.size}return D-u};
ii.wa=function(l,o,D,H){var _=D,u=o.__name;if(u==null)u="";u+="\0";x.Ac(l,D,u);D+=4+2*u.length;ii.Kj(l,D,o.classID);
D+=ii.fo(l.data,D);x.aD(l,D,Object.keys(o).length-1-(o.__name==null?0:1));D+=4;for(var S in o){if(S=="classID")continue;
if(S=="__name")continue;ii.Kj(l,D,S);D+=ii.fo(l.data,D);D+=ii.a89(l,D,o[S])}return D-_};ii.aCr=function(l,o,D,H){var _=o,u=x.Gk(l,o,4);
o+=4;var S={size:0,t:u,v:null};if(D)console.log("\t".repeat(H),"reading key",u,_);switch(u){case"obj ":case"VlLs":S.v=[];
var h=x.C(l,o);o+=4;for(var v=0;v<h;v++){var F=ii.aCr(l,o,D,H+1);o+=F.size;delete F.size;S.v.push(F)}break;
case"UntF":S.v={type:x.Gk(l,o,4),val:x._k(l,o+4)};o+=12;break;case"doub":S.v=x._k(l,o);o+=8;break;case"bool":S.v=l[o]==1;
o+=1;break;case"long":S.v=x.Kb(l,o);o+=4;break;case"comp":S.v=x.Kb(l,o+4);o+=8;break;case"Objc":S.v={};
var n=ii.JZ(l,S.v,o,D,H+1);o+=n;break;case"TEXT":var R=x.C(l,o);if(R==0){S.v="";o+=4}else{S.v=x.VW(l,o);
o+=4+S.v.length*2+2}break;case"enum":var s=ii.Bp(l,o);o+=ii.fo(l,o);var Z=ii.Bp(l,o);o+=ii.fo(l,o);S.v={};
S.v[s]=Z;break;case"tdta":var O=x.Kb(l,o);o+=4;S.v=Array.from(l.slice(o,o+O));o+=O;break;case"ObAr":var w=x.C(l,o);
o+=4;var m=x.VW(l,o);o+=4+2*m.length+2;if(m!="")throw m;var V=ii.Bp(l,o);o+=4+Math.max(4,V.length);S.v={classID:V,arr:[]};
var q=x.C(l,o);o+=4;for(var v=0;v<q;v++){var V=ii.Bp(l,o);o+=4+Math.max(4,V.length);var s=x.Gk(l,o,4);
o+=4;var i=x.Gk(l,o,4);o+=4;var c={id:V,type:s,uID:i,arr:[]};S.v.arr.push(c);var z=x.C(l,o,4);o+=4;for(var B=0;
B<z;B++){var t=x._k(l,o);o+=8;c.arr.push(t)}}break;case"Pth ":var a=o,O=x.C(l,o);o+=4;var I=x.Gk(l,o,4);
o+=4;var N=x.K6(l,o);o+=4;var J=x.a87(l,o);o+=4+J.length*2;S.v={sig:I,pth:J};break;case"Clss":case"type":case"rele":var J=x.VW(l,o);
o+=4+J.length*2+2;var Q=ii.Bp(l,o);o+=4+Math.max(4,Q.length);S.v={classID:Q};if(J!="")S.v.__name=J;if(u=="rele"){S.v.val=x.Kb(l,o);
o+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var A=ii.Rz[u],J=x.VW(l,o);o+=4+J.length*2+2;
if(J.length!=0){console.log(u,J);throw"e"}S.v={};for(var v=0;v<A.length;v++){var Q=ii.Bp(l,o);o+=4+Math.max(4,Q.length);
S.v[A[v]]=Q}if(u=="name"){var J=x.VW(l,o);o+=4+J.length*2+2;S.v.val=J}if(u=="indx"||u=="Idnt"){S.v.val=x.C(l,o);
o+=4}break;case"alis":var O=x.C(l,o);o+=4;S.v=x.Gk(l,o,O);o+=O;break;default:{console.log("unknown oskey: "+u+", "+_);
throw"e";return S}}if(D){console.log("\t".repeat(H),S.v);console.log("\t".repeat(H),"======",o)}S.size=o-_;
return S};ii.Rz={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
ii.a89=function(l,o,D){var H=o,_=D.t;D=D.v;x.hZ(l,o,_);o+=4;switch(_){case"obj ":case"VlLs":x.aD(l,o,D.length);
o+=4;for(var u=0;u<D.length;u++){var S=ii.a89(l,o,D[u]);o+=S}break;case"UntF":x.hZ(l,o,D.type);x.ux(l,o+4,D.val);
o+=12;break;case"doub":x.ux(l,o,D);o+=8;break;case"bool":x.TZ(l,o,D?1:0,1);o+=1;break;case"long":x.aD(l,o,D);
o+=4;break;case"comp":x.aD(l,o+4,D);o+=8;break;case"Objc":var S=ii.wa(l,D,o);o+=S;break;case"TEXT":x.Ac(l,o,D+"\0");
o+=4+D.length*2+2;break;case"enum":var h=Object.keys(D)[0],F=D[h];ii.Kj(l,o,h);o+=ii.fo(l.data,o);ii.Kj(l,o,F);
o+=ii.fo(l.data,o);break;case"tdta":x.aG(l,o,D.length);o+=4;x.bm(l,o,D);o+=D.length;break;case"ObAr":x.aG(l,o,D.arr[0].arr.length);
o+=4;x.Ac(l,o,"\0");o+=6;ii.Kj(l,o,D.classID);o+=4+Math.max(4,D.classID.length);x.aG(l,o,D.arr.length);
o+=4;for(var v=0;v<D.arr.length;v++){var n=D.arr[v];ii.Kj(l,o,n.id);o+=4+Math.max(4,n.id.length);x.hZ(l,o,n.type);
o+=4;x.hZ(l,o,n.uID);o+=4;x.aG(l,o,n.arr.length);o+=4;for(var u=0;u<n.arr.length;u++){x.ux(l,o,n.arr[u]);
o+=8}}break;case"Pth ":var R=D.pth.length*2+4+8;x.aG(l,o,R);o+=4;x.hZ(l,o,D.sig);o+=4;x.Xp(l,o,R);o+=4;
x.a0M(l,o,D.pth);o+=D.pth.length*2+4;break;case"Clss":case"type":case"rele":var s=D.__name;if(s==null)s="";
x.Ac(l,o,s+"\0");o+=4+s.length*2+2;var Z=D.classID;ii.Kj(l,o,Z);o+=4+Math.max(4,Z.length);if(_=="rele"){x.aD(l,o,D.val);
o+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var O=ii.Rz[_];x.aG(l,o,1);o+=6;for(var v=0;
v<O.length;v++){var Z=D[O[v]];ii.Kj(l,o,Z);o+=4+Math.max(4,Z.length)}if(_=="name"){x.Ac(l,o,D.val+"\0");
o+=4+D.val.length*2+2}if(_=="indx"||_=="Idnt"){x.aG(l,o,D.val);o+=4}break;case"alis":var R=D.length;
x.aG(l,o,R);o+=4;x.hZ(l,o,D);o+=R;break;default:console.log("unknown oskey: "+_);o=H;break}return o-H};
ii.Bp=function(l,o){var D=x.Kb(l,o);if(D>1e3)throw"e";if(D==0)D=4;return x.Gk(l,o+4,D).trim()};ii.fo=function(l,o){var D=x.Kb(l,o);
return D==0?8:4+D};ii.Kj=function(l,o,D){var H="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),_=4<D.length||H.indexOf(D)!=-1;
x.aD(l,o,_?D.length:0);x.hZ(l,o+4,D);if(D.length<4&&!_){var u="";for(var v=D.length;v<4;v++)u+=" ";x.hZ(l,o+4+D.length,u)}};
ii.awS=function(l){var o={};for(var D in l){if(D=="classID")o[D]=l[D];else if(D=="__name")o[D]=l[D];
else o[D]=ii.aqW(l[D])}return o};ii.aqW=function(l){if(l.vB=="Objc")return ii.awS(l.v);else if(l.vB=="VlLs"){var o=[];
for(var v=0;v<l.v.length;v++)o.push(ii.aqW(l.v[v]));return o}else if(l.vB=="UntF")return l.v.val;else return l.v};
function aN(){}aN.awK=function(l,o,D,H,_,u){while(o<D){var S=x.Gk(l,o,4);o+=4;if(S!="8BIM"&&S!="8B64"){console.log("layer information signature error! "+S,"PSB = "+_);
alert("Error in PSD file: wrong signature.");return D}var h=x.Gk(l,o,4);o+=4;var F=x.C(l,o);o+=4;var n=_&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(h)!=-1;
if(n){F=F<<32|x.Kb(l,o);o+=4}var R=["lrFX","PlLd"];if(R.indexOf(h)!=-1){if(F%4!=0)F+=4-F%4;o+=F;continue}switch(h){case"iOpa":H[h]=l[o];
break;case"brst":H[h]=[1,1,1];for(var v=0;v<F;v+=4)H[h][x.C(l,o+v)]=0;break;case"knko":H[h]=l[o];break;
case"infx":H[h]=l[o];break;case"clbl":H[h]=l[o];break;case"lmgm":H[h]=l[o];break;case"vmgm":H[h]=l[o];
break;case"fcmy":H[h]=l[o];break;case"lyid":H[h]=x.C(l,o);break;case"lsct":H[h]={type:x.C(l,o)};if(F>=12)H[h].TY=x.Gk(l,o+8,4);
break;case"lsdk":H.lsct={type:x.C(l,o)};break;case"lyvr":H[h]=x.C(l,o);break;case"lnsr":var s={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
H[h]=x.Gk(l,o,4);break;case"lspf":H[h]=x.C(l,o);break;case"lclr":H[h]=x.I9(l,o);break;case"luni":H[h]=x.pY(l,o);
break;case"fxrp":H[h]=new he(x._k(l,o),x._k(l,o+8));break;case"artb":case"artd":H[h]={};ii.JZ(l,H[h],o+4);
break;case"SoCo":H[h]={};ii.JZ(l,H[h],o+4);break;case"GdFl":H[h]={};ii.JZ(l,H[h],o+4);aN.lk(H[h],h);
break;case"PtFl":H[h]={};ii.JZ(l,H[h],o+4);aN.lk(H[h],h);break;case"CgEd":H[h]={};ii.JZ(l,H[h],o+4);
break;case"brit":var Z=H.brit=at.ts("brit"),O={};Z.Brgh.v=x.Kc(l,o);Z.Cntr.v=x.Kc(l,o+2);Z.useLegacy.v=!0;
break;case"levl":var w=l.buffer.slice(o,o+F);H[h]=el.x2(w);break;case"curv":H[h]=hR.uO(l,o,F);break;
case"expA":var m=x.I9(l,o),V=H[h]=at.ts("expA");V.Exps.v=x.R1(l,o+2);V.Ofst.v=x.R1(l,o+6);V.gammaCorrection.v=x.R1(l,o+10);
break;case"vibA":H[h]={};ii.JZ(l,H[h],o+4);break;case"hue2":H[h]=gT.uO(l,o,F);break;case"blnc":var V=H[h]=at.ts(h);
V.PrsL.v=l[o+18]==1;var q=["ShdL","MdtL","HghL"];for(var v=0;v<3;v++)for(var i=0;i<3;i++)V[q[v]].v[i].v=x.Kc(l,o+v*6+i*2);
break;case"blwh":var c={};ii.JZ(l,c,o+4);var V=at.ts(h),z="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var v=0;v<z.length;v++){V[z[v]]=c[z[v]];delete c[z[v]]}H[h]=V;break;case"phfl":var V=H[h]=at.ts(h),B=V.Clr.v,m=x.I9(l,o);
if(m==3){var t=[x.C(l,o+2),x.C(l,o+6),x.C(l,o+10)],a=32768,I=g.aCV(t[0]/a,t[1]/a,t[2]/a);B.Lmnc.v=I.Ct;
B.A.v=I.M;B.B.v=I.J}if(m==2){var N=x.I9(l,o+2);if(N!=7)throw"e";B.Lmnc.v=x.Kc(l,o+4)/100;B.A.v=x.Kc(l,o+6)/100;
B.B.v=x.Kc(l,o+8)/100}var J=o+2+(m==3?12:10);V.Dnst.v=x.C(l,J);J+=4;V.PrsL.v=l[J]==1;break;case"mixr":var Q={nD:x.I9(l,o+2)==1,P:[]};
for(var v=0;v<20;v++)Q.P.push(x.Kc(l,o+4+v*2));H[h]=jW.v$(Q);break;case"clrL":case"rplc":H[h]={};ii.JZ(l,H[h],o+6);
break;case"nvrt":H[h]={};break;case"post":H[h]=at.ts("post");H[h].Lvls.v=x.I9(l,o);break;case"thrs":H[h]=at.ts("thrs");
H[h].Lvl.v=x.I9(l,o);break;case"grdm":var A=o,f=x.I9(l,A);A+=2;var W=l[A]==1,C=l[A+1]==1;A+=2;var j=x.Gk(l,A,4);
if(j=="Perc"||j=="Gcls"||j=="Lnr "||j=="\0\0\x0B\x1D")A+=4;var K=x.pY(l,A);A+=4+K.length*2;var $=eB.a8f(l,A,K),r=$[0];
A=$[1];var U=x.I9(l,A);A+=2;var b=x.C(l,A);A+=4;var e=x.I9(l,A)==1;A+=2;var P=x.I9(l,A)==1;A+=2;var L=x.C(l,A);
A+=4;var Y=x.I9(l,A);A+=2;var X=[],G=[];for(var v=0;v<4;v++){X.push({t:"long",v:~~(x.I9(l,A+v*2)*100/32768)});
G.push({t:"long",v:~~(x.I9(l,A+v*2+8)*100/32768)})}A+=16;var E=x.I9(l,A);A+=2;if(U==1)r={classID:"Grdn",Nm:{t:"TEXT",v:K},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:e},VctC:{t:"bool",v:P},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:b},Smth:{t:"long",v:L},Mnm:{t:"VlLs",v:X},Mxm:{t:"VlLs",v:G}};
var T=at.ts("grdm");T.Rvrs.v=W;T.Grad.v=r;H[h]=T;break;case"selc":H[h]=je.uO(l,o,F);break;case"vmsk":case"vsms":var y=H.vmsk=new d.dO,d4=x.Kb(l,o+4),dH=(d4>>0&1)==1;
y.uD=(d4>>1&1)==0;y.isEnabled=(d4>>2&1)==0;y.d=dV.l_(l,o+8,F-8,u.Q,u._);break;case"shmd":H[h]={};var eV=x.C(l,o),J=o+4;
for(var v=0;v<eV;v++){var S=x.Gk(l,J,4);J+=4;var bf=x.Gk(l,J,4);J+=4;var jd=l[J];J++;if(Math.max(l[J],l[J+1])!=0)throw"e";
J+=3;var i5=x.C(l,J);J+=4;if(bf=="cust"||bf=="cmls"||bf=="extn"||bf=="mlst"){var fD=x.C(l,J);if(fD!=16)J+=4;
if(x.C(l,J)==16){var c={};ii.JZ(l,c,J+4,!1);H[h][bf]=c;if(bf=="cmls")p.ce.a7T(H[h][bf])}}else{console.log("unknown shmd key: "+bf+", size: "+i5)}J+=i5}break;
case"shpa":var m=x.C(l,o),eo=x.C(l,o+4);if(eo!=0)console.log("some patterns present!");break;case"TySh":var iX=H[h]={},m=x.I9(l,o);
iX.h=x.qN(l,o+2);var cK=x.I9(l,o+2+48);iX.CQ={};try{var g0=ii.JZ(l,iX.CQ,o+56)}catch(ey){H[h]=null;break}var bW=fX.afC();
for(var hF in bW)if(iX.CQ[hF]==null)iX.CQ[hF]=bW[hF];iX.oG={};var aJ=ii.JZ(l,iX.oG,o+56+g0+6);iX.g6=x.ack(l,o+56+g0+6+aJ);
iX.PF=kb.x2(iX.CQ.EngineData.v);fX.aDt(iX.PF.EngineDict.StyleRun.RunArray);if(iX.PF.ResourceDict==null)iX.PF.ResourceDict=JSON.parse(JSON.stringify(iX.PF.DocumentResources));
delete iX.CQ.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var iR=x.C(l,o),ex=x.C(l,o+4);H.lmfx={};
var g0=ii.JZ(l,H.lmfx,o+8);aN.eC(H.lmfx);break;case"FMsk":H[h]=x.eY(l,o,F);break;case"Txt2":H[h]={};
H[h].raw=x.eY(l,o,F);H[h].d1=c2.x2(H[h].raw);break;case"Patt":H[h]=it.NM(l,o,F);break;case"SoLd":var dX=x.Gk(l,o,4),iZ=x.C(l,o+4),j3=x.C(l,o+8),by=H[h]={},i9=ii.JZ(l,by,o+12),dm=by.warp,kh=by.quiltWarp;
if(kh==null)kh=by.quiltWarp=g.Y9.aoO(dm);delete by.warp;var jK=kh.v.warpStyle.v.warpStyle,bd=kh.v.warpValues;
if(jK!="warpCylinder"&&bd){kh.v.warpValue={t:"doub",v:bd.v[0].v};delete kh.v.warpValues}if(by.nonAffineTransform==null)by.nonAffineTransform=JSON.parse(JSON.stringify(by.Trnf));
if(by.Impr==null)by.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var iZ=x.C(l,o);
H[h]={};var i9=ii.JZ(l,H[h],o+4);break;case"vscg":var bf=x.Gk(l,o,4),iZ=x.C(l,o+4);H[bf]={};var i9=ii.JZ(l,H[bf],o+8);
aN.lk(H[bf],bf);break;case"vogk":var dz=x.C(l,o),iZ=x.C(l,o+4);H[h]={};var i9=ii.JZ(l,H[h],o+8);H[h]=H[h].keyDescriptorList.v;
for(var v=0;v<H[h].length;v++){var dw=H[h][v].v;if(!g.uQ.Rh(dw))continue;if(dw.keyOriginBoxCorners==null){var ev=g.uQ.QZ(dw);
dw.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var aq=[ev[0],ev[1],ev[2],ev[1],ev[2],ev[3],ev[0],ev[3]];
if(dw.keyOriginType.v==4)aq=g.uQ.auh(g.uQ.Bo(dw),dw.keyOriginLineWeight.v);g.uQ.BH(dw,"keyOriginBoxCorners",aq)}}break;
case"lnk2":case"lnkD__":case"lnk3__":H[h]=[];var A=o;while(A<o+F){var e3=new d.qS;H[h].push(e3);var a9=x.$Q(l,A);
A+=8;var e0=A;e3.type=x.Gk(l,A,4);A+=4;if(e3.type!="liFD"){alert("Unknown Linked Layer type: "+e3.type);
break;throw e3.type}e3.XT=x.C(l,A);A+=4;var as=x.dQ(l,A);A+=1+as.QJ.length;e3.Vj=as.QJ;e3._h=x.VW(l,A);
A+=4+e3._h.length*2+2;e3.hM=x.Gk(l,A,4);A+=4;e3.xA=x.Gk(l,A,4);A+=4;var eK=x.$Q(l,A);A+=8;e3.open=l[A];
A+=1;if(e3.open!=0){var gh={},g0=ii.JZ(l,gh,A+4);if(g0%4!=0)g0+=4-g0%4;console.log(gh);A+=g0+4}e3.open=0;
e3.raw=x.eY(l,A,eK);A=e0+a9;if(a9%4!=0)A+=4-a9%4}break;case"FEid":var A=o;H[h]=[];var gx=A+F,m=x.C(l,A);
A+=4;while(A<gx){A+=4;var a9=x.C(l,A);A+=4;var $={};H[h].push($);$.id=x.dQ(l,A).QJ;A+=$.id.length+1;
var m=x.C(l,A);A+=4;A+=4;var gc=x.C(l,A);A+=4;$.rect=x.m3(l,A);A+=16;var kQ=x.C(l,A);A+=4;var dn=x.C(l,A);
A+=4;var bQ=new g.Q9(0);for(var v=0;v<dn+2;v++){var iK=x.C(l,A);A+=4;if(iK!=0){A+=4;var cJ=x.C(l,A),i1=null;
A+=4;if(v<3||v==25)i1=hI.Rp(!0,kQ,l,$.rect.Q,$.rect._,A,cJ);if(v==0)bQ.$=i1;if(v==1)bQ.H=i1;if(v==2)bQ.J=i1;
if(v==25)bQ.M=i1;A+=cJ}}$.buffer=g.o($.rect.c()*4);g.xQ(bQ,$.buffer);var bu=l[A];A++;if(bu!=0){$.I=new d.ow;
$.I.rect=x.m3(l,A);A+=16;A+=4;var gi=x.C(l,A);A+=4;$.I.channel=hI.Rp(!0,kQ,l,$.I.rect.Q,$.I.rect._,A,gi);
$.I.color=255;$.I.Hf();A+=gi}if(a9%4!=0)A+=4-a9%4}break;case"Lr16":dx.a8V(u,l,o);break;case"Anno":H[h]=[];
var iv=o,d0=o+4,eo=x.C(l,d0);d0+=4;for(var v=0;v<eo;v++){var a9=x.C(l,d0);d0+=4;var af=x.Gk(l,d0,4);
d0+=4;if(af!="txtA")throw af;var eY=l[d0++],hV=l[d0++],i$=x.I9(l,d0);d0+=2;var cz=x.m3(l,d0);d0+=16;
var fk=x.m3(l,d0);d0+=16;var B=gr.Bc(l,d0);d0+=10;var ee=x.dQ(l,d0);d0+=ee.length;var aC=x.dQ(l,d0);
d0+=aC.length;var cI=x.dQ(l,d0);d0+=cI.length;var cZ=x.C(l,d0);d0+=4;var ad=x.Gk(l,d0,4);d0+=4;var j0=x.C(l,d0);
d0+=4;var cX=x.tm(l,d0+2,j0-2>>1);d0+=j0;H[h].push([cz.x,cz.y,B,ee.QJ,cX])}break;default:break}var bY="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(bY.indexOf(h)==-1)if(F%4!=0)console.log("size not multiple of 4!!!",h);if(h!="luni"&&h!="TySh"&&h!="tySh"&&h!="lfx2"&&h!="iOpa")if(F%4!=0)F+=4-F%4;
o+=F}var O=H.CgEd;if(O){var Z=H.brit;if(Z){Z.Brgh.v=O.Brgh?O.Brgh.v:0;Z.Cntr.v=O.Cntr?O.Cntr.v:0;Z.useLegacy.v=O.useLegacy?O.useLegacy.v:0}delete H.CgEd}var io=[];
for(var v=0;v<io.length;v++)delete H[io[v]];return o};aN.axn=function(l,o,D,H,_){if(D.SoLd){var u={};
for(var S in D){if(S=="SoLd")u.PlLd={};u[S]=D[S]}D=u}for(var h in D)if(D[h]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+h+"\" tag was present with a null value.");delete D[h]}for(var h in D){var F=H&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(h)!=-1,R=0;
x.hZ(l,o,F?"8B64":"8BIM");o+=4;var n=o;x.hZ(l,o,h);o+=4;x.aD(l,o,0);o+=F?8:4;switch(h){case"iOpa":x.TZ(l,o,D[h],1);
R=4;break;case"brst":R=0;for(var v=0;v<3;v++)if(D[h][v]==0){x.aG(l,o+R,v);R+=4}break;case"knko":x.TZ(l,o,D[h],1);
R=4;break;case"infx":x.TZ(l,o,D[h],1);R=4;break;case"clbl":x.TZ(l,o,D[h],1);R=4;break;case"lmgm":x.TZ(l,o,D[h],1);
R=4;break;case"vmgm":x.TZ(l,o,D[h],1);R=4;break;case"fcmy":x.TZ(l,o,D[h],1);R=4;break;case"lyid":x.aG(l,o,D[h]);
R=4;break;case"lsct":x.aG(l,o,D[h].type);R=4;if(D[h].TY){x.hZ(l,o+4,"8BIM");x.hZ(l,o+8,D[h].TY);R=12}break;
case"lyvr":x.aG(l,o,D[h]);R=4;break;case"lnsr":x.hZ(l,o,D[h]);R=4;break;case"lspf":x.aG(l,o,D[h]);R=4;
break;case"lclr":x.iE(l,o,D[h]);R=8;break;case"luni":x.Ac(l,o,D[h]);R=4+2*D[h].length;break;case"fxrp":x.ux(l,o,D[h].x);
x.ux(l,o+8,D[h].y);R=16;break;case"artb":case"artd":x.aG(l,o,16);R=ii.wa(l,D[h],o+4)+4;break;case"SoCo":x.aG(l,o,16);
R=ii.wa(l,D[h],o+4)+4;break;case"GdFl":x.aG(l,o,16);R=ii.wa(l,D[h],o+4)+4;break;case"PtFl":x.aG(l,o,16);
R=ii.wa(l,D[h],o+4)+4;break;case"CgEd":var s={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},Z=s,O=D[h];
Z.Brgh.v=O.Brgh.v;Z.Cntr.v=O.Cntr.v;Z.useLegacy.v=O.useLegacy.v;x.aG(l,o,16);R=ii.wa(l,s,o+4)+4;break;
case"brit":l.tP(o,8);R=8;break;case"levl":var w=new dk;R=el.wd(w,D[h]);x.bm(l,o,w.data);break;case"curv":R=hR.wL(l,o,D[h]);
break;case"expA":R=14;l.tP(o,14);x.Pi(l.data,o,1);x.Fg(l.data,o+2,D[h].Exps?D[h].Exps.v:0);x.Fg(l.data,o+6,D[h].Ofst?D[h].Ofst.v:0);
x.Fg(l.data,o+10,D[h].gammaCorrection?D[h].gammaCorrection.v:1);break;case"vibA":x.aG(l,o,16);R=ii.wa(l,D[h],o+4)+4;
break;case"hue2":R=gT.wL(l,o,D[h]);break;case"blnc":R=19;l.tP(o,R);var m=["ShdL","MdtL","HghL"];for(var v=0;
v<3;v++){var V=D[h][m[v]].v;for(var q=0;q<3;q++)V.push(x.ry(l.data,o+v*6+q*2,V[q].v))}l.data[o+18]=D[h].PrsL.v?1:0;
break;case"blwh":var s={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},i="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var v=0;v<i.length;v++){s[i[v]]=D[h][i[v]]}x.aG(l,o,16);R=ii.wa(l,s,o+4)+4;break;case"phfl":x.iE(l,o,2);
var c=D[h].Clr.v;x.iE(l,o+2,7);x.iE(l,o+4,Math.round(c.Lmnc.v*100));x.iE(l,o+6,Math.round(c.A.v*100));
x.iE(l,o+8,Math.round(c.B.v*100));x.iE(l,o+10,0);var z=o+2+10;l.tP(z,5);x.Dn(l.data,z,D[h].Dnst.v);z+=4;
l.data[z]=D[h].PrsL.v?1:0;z++;R=z-o;break;case"mixr":R=44;l.tP(o,R);var B=jW.Db(D[h]);x.Pi(l.data,o,1);
x.Pi(l.data,o+2,B.nD?1:0);for(var v=0;v<20;v++)x.ry(l.data,o+4+v*2,B.P[v]);break;case"clrL":case"rplc":x.iE(l,o,1);
x.aG(l,o+2,16);R=ii.wa(l,D[h],o+6)+6;break;case"nvrt":R=0;break;case"post":x.iE(l,o,D[h].Lvls.v);R=2;
break;case"thrs":x.iE(l,o,D[h].Lvl.v);R=2;break;case"grdm":var t=D[h].Rvrs?D[h].Rvrs.v:!1,a=!1,I=867527939,N=!1,J=!1,Q=2048,A=[0,0,0,0],f=[32768,32768,32768,32768],W=D[h].Grad.v,C,j,K=W.Clrs==null?1:0;
if(K==0){C=W;j=JSON.parse(cq.TB.ail).v}else{C=at.ts("grdm").Grad.v;j=W}l.tP(o,4);x.Pi(l.data,o,1);l.data[o+2]=t?1:0;
l.data[o+3]=a?1:0;var $=o+4;x.Ac(l,$,W.Nm.v);$+=4+W.Nm.v.length*2;$=eB.aiu(l,$,C);x.iE(l,$,K);$+=2;x.aG(l,$,j.RndS.v);
$+=4;x.iE(l,$,j.ShTr.v?1:0);$+=2;x.iE(l,$,j.VctC.v?1:0);$+=2;x.aG(l,$,j.Smth.v);$+=4;x.iE(l,$,3);$+=2;
for(var v=0;v<4;v++)x.iE(l,$+v*2,A[v]);$+=8;for(var v=0;v<4;v++)x.iE(l,$+v*2,f[v]);$+=8;$+=2;R=$-o;break;
case"selc":R=je.wL(l,o,D[h]);break;case"FMsk":x.bm(l,o,D[h]);R=D[h].length;break;case"Txt2":var r=new dk,U=c2.Y8(D[h].d1,r),b=g.o(U,!0);
for(var v=0;v<U;v++)b[v]=r.data[v];x.bm(l,o,b);R=b.length;break;case"vmsk":var e=D[h],P=0;x.aG(l,o,3);
if(!e.uD)P+=1<<1;if(!e.isEnabled)P+=1<<2;x.aG(l,o+4,P);R=8;var L=e.d.length;l.tP(o+8,L*26);dV.wO(l.data,o+8,e.d,_.Q,_._);
R+=L*26;break;case"shmd":x.aG(l,o,Object.keys(D[h]).length);var z=o+4;for(var Y in D[h]){x.hZ(l,z,"8BIM");
z+=4;x.hZ(l,z,Y);z+=4;x.aG(l,z,0);z+=4;x.aG(l,z,0);z+=4;x.aG(l,z,16);z+=4;var X=ii.wa(l,D[h][Y],z);if(X%4!=0)X+=4-X%4;
x.aG(l,z-8,X+4);z+=X}R=z-o;break;case"TySh":var z=o;x.Y0(l,z,1);z+=2;var G=D[h],r=new dk;G.PF.DocumentResources=JSON.parse(JSON.stringify(G.PF.ResourceDict));
var U=kb.Y8(G.PF,r),b=g.o(U,!0);for(var v=0;v<U;v++)b[v]=r.data[v];G.CQ.EngineData={t:"tdta",v:b};var E=G.PF.EngineDict.Editor.Text;
G.CQ.Txt.v=E.substring(0,E.length-1);x.ak$(l,z,G.h);z+=48;x.Y0(l,z,50);z+=2;x.aG(l,z,16);z+=4;z+=ii.wa(l,G.CQ,z);
x.Y0(l,z,1);z+=2;x.aG(l,z,16);z+=4;z+=ii.wa(l,G.oG,z);x.ar7(l,z,G.g6);z+=16;R=z-o;break;case"lmfx":x.aG(l,o,0);
x.aG(l,o+4,16);var s=JSON.parse(JSON.stringify(D[h])),T=!1;aN.lo(s);for(var v=0;v<cq.lZ.length;v++)if(s[cq.lZ[v]]!=null)T=!0;
x.hZ(l,n,T?"lmfx":"lfx2");R=ii.wa(l,s,o+8)+8;break;case"Patt":var z=it.Py(l,o,D[h]);R=z-o;break;case"PlLd":var y=o;
l.tP(o,60);var V=D.SoLd;x.hZ(l,o,"plcL");x.aG(l,o+4,3);var d4=l.data[o+8]=V.Idnt.v.length;x.hZ(l,o+9,V.Idnt.v);
var z=o+9+d4,dH=[1,1,16,2];for(var v=0;v<4;v++)x.aG(l,z+v*4,dH[v]);z+=16;dH=p.cA.TX(V.nonAffineTransform);
for(var v=0;v<8;v++)x.ux(l,z+v*8,dH[v]);z+=64;x.aG(l,z,0);x.aG(l,z+4,16);var eV=g.Y9.aqw(V.quiltWarp).v;
z+=8+ii.wa(l,eV,z+8);R=z-o;break;case"SoLd":var V=D[h],bf=V.quiltWarp;V.warp=g.Y9.aqw(bf);if(g.Y9.Aq(bf.v)==16)delete V.quiltWarp;
x.hZ(l,o,"soLD");x.aG(l,o+4,4);x.aG(l,o+8,16);R=ii.wa(l,V,o+12)+12;V.quiltWarp=bf;delete V.warp;break;
case"vstk":case"pths":x.aG(l,o,16);R=ii.wa(l,D[h],o+4)+4;break;case"vscg__":x.hZ(l,o,D[h].key);x.aG(l,o+4,16);
R=ii.wa(l,D[h].P,o+8)+8;break;case"vogk":x.aG(l,o,1);x.aG(l,o+4,16);g.uQ.aCL(D[h]);for(var v=0;v<D[h].length;
v++){var jd=D[h][v].v.keyOriginResolution;if(jd)jd.v=_.on}var i5={classID:"null",keyDescriptorList:{t:"VlLs",v:D[h]}};
R=ii.wa(l,i5,o+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var $=o;for(var v=0;v<D[h].length;v++){var fD=D[h][v],eo=$;
x.n9(l,$,0);$+=8;x.hZ(l,$,fD.type);$+=4;x.aG(l,$,fD.XT);$+=4;l.tP($,1);l.data[$]=fD.Vj.length;$++;x.hZ(l,$,fD.Vj);
$+=fD.Vj.length;x.Ac(l,$,fD._h+"\0");$+=4+fD._h.length*2+2;x.hZ(l,$,fD.hM);$+=4;x.hZ(l,$,fD.xA);$+=4;
x.n9(l,$,fD.raw.length);$+=8;l.tP($,1);l.data[$]=fD.open;$++;x.bm(l,$,fD.raw);$+=fD.raw.length;x.aG(l,$,1);
$+=4;$+=11;var iX=$-eo-8;x.n9(l,eo,iX);if(iX%4!=0){l.tP($,4-iX%4);$+=4-iX%4}}R=$-o;break;case"FEid":var $=o;
x.aG(l,$,3);$+=4;for(var cK=0;cK<D[h].length;cK++){var g0=D[h][cK];$+=4;var bW=$;$+=4;x.AC(l,$,g0.id);
$+=g0.id.length+1;x.aG(l,$,1);$+=4;var hF=g.o(g0.rect.c()),aJ=g0.rect,iR=g.o(aJ.c());$+=4;var ex=$;$+=4;
x.Qi(l,$,aJ);$+=16;x.aG(l,$,8);$+=4;x.aG(l,$,24);$+=4;for(var v=0;v<24+2;v++){var dX=-1;if(v==0)dX=0;
if(v==1)dX=1;if(v==2)dX=2;if(v==25)dX=3;x.aG(l,$,dX!=-1?1:0);$+=4;if(dX!=-1){g.mA(g0.buffer,hF,dX);g.mB(hF,g0.rect,iR,aJ);
$+=4;var iZ=$;$+=4;l.tP($,aJ.c()+2);$=hI.Pt(!0,iR,l.data,aJ.Q,aJ._,$,3);x.aG(l,iZ,$-(iZ+4))}}x.aG(l,ex,$-(ex+4));
l.tP($,1);l.data[$]=g0.I?1:0;$++;if(g0.I!=null){var j3=aJ,by=g.o(j3.c());by.fill(g0.I.color);g.mB(g0.I.channel,g0.I.rect,by,j3);
x.Qi(l,$,j3);$+=16;$+=4;var i9=$;$+=4;l.tP($,j3.c()+2);$=hI.Pt(!0,by,l.data,j3.Q,j3._,$,3);x.aG(l,i9,$-(i9+4))}var iX=$-(bW+4);
x.aG(l,bW,iX);if(iX%4!=0)$+=4-iX%4}R=$-o;break;case"Anno":var dm=o,kh=D[h].length;x.iE(l,dm,2);x.iE(l,dm+2,1);
dm+=4;x.aG(l,dm,kh);dm+=4;for(var v=0;v<kh;v++){var jK=D[h][v],bd=jK[0],dz=jK[1],dw=dm;dm+=4;x.hZ(l,dm,"txtA");
dm+=4;l.tP(dm,2);l.data[dm]=1;l.data[dm+1]=28;dm+=2;x.iE(l,dm,1);dm+=2;x.Qi(l,dm,new gt(bd,dz,17,21));
dm+=16;x.Qi(l,dm,new gt(bd+8,dz+10,241,141));dm+=16;l.tP(dm,10);gr.Ir(l.data,dm,jK[2]);dm+=10;dm+=x.AC(l,dm,jK[3]);
dm+=x.AC(l,dm,"");dm+=x.AC(l,dm,"D:20211012120233+01'00'");var ev=jK[4].length*2;x.aG(l,dm,12+2+ev);
dm+=4;x.hZ(l,dm,"txtC");dm+=4;x.aG(l,dm,2+ev);dm+=4;l.tP(dm,2);l.data[dm]=254;l.data[dm+1]=255;dm+=2;
x.a57(l,dm,jK[4]);dm+=ev;x.aG(l,dw,dm-dw)}R=dm-o;break;default:console.log("unknown layer tag: "+h+", size: "+R);
o-=12;continue}var aq=["Txt2","artd","extd","pths"];if(aq.indexOf(h)==-1)if(R%4!=0)R+=4-R%4;if(F)x.n9(l,o-8,R);
else x.aG(l,o-4,R);if(h!="luni"&&h!="TySh")if(R%4!=0)R+=4-R%4;o+=R}return o};aN.eC=function(l){for(var v=0;
v<cq.order.length;v++){var o=cq.order[v],D=cq.lZ[v];if(l[D]==null)l[D]={t:"VlLs",v:[]};if(l[o]!=null){l[D].v.push(l[o]);
delete l[o]}var H=[];for(var _=0;_<l[D].v.length;_++){var u=l[D].v[_];if(u.v.present==null||u.v.present.v==!0)H.push(u)}l[D].v=H}};
aN.lo=function(l){for(var v=0;v<cq.order.length;v++){var o=cq.order[v],D=cq.lZ[v],H=l[D].v.length;if(H==0){delete l[D];
continue}if(H==1){l[o]=l[D].v[0];delete l[D];continue}}};aN.lk=function(l,o){if(o=="GdFl"){if(l.Angl==null)l.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(l.Algn==null)l.Algn={v:!0,t:"bool"};if(l.Scl==null)l.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(l.Ofst==null)l.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(l.Rvrs==null)l.Rvrs={v:!1,t:"bool"};if(l.Dthr==null)l.Dthr={v:!1,t:"bool"}}if(o=="PtFl"){if(l.Algn==null)l.Algn={v:!0,t:"bool"};
if(l.Angl==null)l.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(l.Scl==null)l.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(l.phase==null)l.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};aN.clone=function(l,o){var D={};
if(l=="TySh"){D.h=o.h.clone();D.CQ=JSON.parse(JSON.stringify(o.CQ));D.oG=JSON.parse(JSON.stringify(o.oG));
D.g6=o.g6.clone();D.PF=JSON.parse(JSON.stringify(o.PF));if(o.add)D.add={vmsk:o.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(o.add.vogk))};
return D}else if(l=="fxrp")return o.clone();else if(l=="vmsk")return o.clone();else return JSON.parse(JSON.stringify(o))};
function cc(l,o){}cc.x2=function(l,o,D,H){H=cc.arX(l,o,D,H);return H};cc.Y8=function(l,o,D,H,_){H=cc.agX(l,o,D,H,_);
return H};cc.arX=function(l,o,D,H){var _=H;l.rect=x.m3(D,H);H+=16;var u=x.I9(D,H);H+=2;l.l4=[];var S=o.iV;
for(var v=0;v<u;v++){l.l4[v]={id:x.Kc(D,H),length:(S?x.$Q:x.C)(D,H+2)};H+=S?10:6}var h=x.Gk(D,H,4);H+=4;
if(h!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(h));alert("Error in Photoshop file: wrong signature.");
throw"e"}l.TY=x.Gk(D,H,4);H+=4;l.opacity=D[H];H+=1;l.vN=D[H]==1;H+=1;l.XL=D[H];H+=1;if(D[H]!=0)console.log("error in filler!");
H+=1;var F=x.C(D,H);H+=4;var n=H;H=cc.avD(l,D,H);H=cc.aoM(l,D,H);var R=x.dQ(D,H);l.name=R.QJ;H+=R.length;
if(R.length%4!=0)H+=4-R.length%4;H=aN.awK(D,H,n+F,l.add,S,o);if(l.add.lsct){if(l.add.lsct.TY)l.TY=l.add.lsct.TY;
l.add.lsct=l.add.lsct.type}return H};cc.agX=function(l,o,D,H,_){var u=H;x.Qi(D,H,l.rect);H+=16;var S=o.add.fcmy==1,h=l.ayV(S);
x.iE(D,H,h.length);H+=2;var F=o.iV;_.push(H);for(var v=0;v<h.length;v++){x.Y0(D,H,h[v]);if(F)x.n9(D,H+2,0);
else x.aG(D,H+2,0);H+=F?10:6}x.hZ(D,H,"8BIM");H+=4;x.hZ(D,H,l.TY);H+=4;x.TZ(D,H,l.opacity,1);H+=1;x.TZ(D,H,l.vN?1:0,1);
H+=1;x.TZ(D,H,l.XL,1);H+=1;x.TZ(D,H,0,1);H+=1;var n=H;x.aG(D,H,0);H+=4;var R=H;H=cc.azk(l,D,H);H=cc.alZ(l,D,H);
var s=x.AC(D,H,l.name.slice(0,255));H+=s;if(s%4!=0)H+=4-s%4;if(l.add.lsct){l.add.lsct={type:l.add.lsct};
if(l.TY=="pass"){l.add.lsct.TY="pass";l.TY="norm"}}if(l.TY=="pass")l.add.lsct={type:l.add.lsct,TY:"pass"};
if(l.add.brit)l.add.CgEd=l.add.brit;H=aN.axn(D,H,l.add,F,o);delete l.add.CgEd;if(l.add.lsct){if(l.add.lsct.TY)l.TY=l.add.lsct.TY;
l.add.lsct=l.add.lsct.type}var Z=H-R;x.aG(D,n,Z);return H};cc.avD=function(l,o,D){var H=x.C(o,D);D+=4;
if(H==0)return D;var _=D;l.I=new d.ow;l.I.rect=x.m3(o,D);D+=16;l.I.color=o[D];D+=1;var u=cc.an9(l.I,o,D);
D+=1;if(u){var S=!1,h=255,F=0,n=255,R=0;for(var v=0;v<l.l4.length;v++)if(l.l4[v].id==-3)S=!0;if(S){l.LL=cc.a7Q(o,D);
D+=18}var s=D,Z=o[D];D++;if(Z>>0&1){h=o[D];D++}if(Z>>1&1){F=x._k(o,D);D+=8}if(Z>>2&1){n=o[D];D++}if(Z>>3&1){R=x._k(o,D);
D+=8}if((D-s&1)==1)D++;l.X4=[h,F,n,R]}else{if(H==20)D+=2;else{l.LL=cc.a7Q(o,D);D+=18}}return _+H};cc.azk=function(l,o,D){x.aG(o,D,0);
D+=4;if(l.I==null)return D;var H=l.KQ(),_=l.add.vmsk,u=D,S=!0;x.aG(o,D,0);x.Qi(o,D,l.I.rect);D+=16;x.TZ(o,D,l.I.color);
D+=1;cc.avF(l.I,o,D,S);D+=1;if(S){if(l.LL){cc.adO(o,D,l.LL);D+=18}var h=D;x.TZ(o,D,_?15:3);D+=1;x.TZ(o,D,H?H.dJ:255);
D+=1;x.ux(o,D,H?H.L4:0);D+=8;if(_){x.TZ(o,D,_?_.dJ:255);D+=1;x.ux(o,D,_?_.L4:0);D+=8}if((D-h&1)==1)D++}x.aG(o,u-4,D-u);
return D};cc.a7Q=function(l,o){var D=new d.ow;cc.an9(D,l,o);o+=1;D.color=l[o];o+=1;D.rect=x.m3(l,o);
o+=16;return D};cc.adO=function(l,o,D){cc.avF(D,l,o,!1);o+=1;x.TZ(l,o,D.color);o+=1;x.Qi(l,o,D.rect);
o+=16};cc.an9=function(l,o,D){var H=o[D];l.uD=(H>>0&1)==0;l.isEnabled=(H>>1&1)==0;l.qe=(H>>3&1)==1;return H>>4&1};
cc.avF=function(l,o,D,H){var _=0;if(!l.uD)_+=1<<0;if(!l.isEnabled)_+=1<<1;if(l.qe)_+=1<<3;if(H)_+=1<<4;
x.TZ(o,D,_)};cc.aoM=function(l,o,D){var H=x.C(o,D);D+=4;for(var v=0;v<H;v++)l.MZ[v]=o[D+v];return D+H};
cc.alZ=function(l,o,D){x.aG(o,D,l.MZ.length);D+=4;o.tP(D,40);for(var v=0;v<40;v++){o.data[D+v]=l.MZ[v]}return D+40};
function hI(){}hI.x2=function(l,o,D,H){H=hI.aev(o,o.iV,o.eQ,o.Rc,l,D,H);return H};hI.wd=function(l,o,D,H,_,u,S){H=hI.aqn(l,o,D,H,_,u,S);
return H};hI.aev=function(l,o,D,H,_,u,S){var h=_.l4,F={},n=S;for(var v=0;v<h.length;v++){var R=h[v],s=R.id,Z=R.length,O;
if(s==-2&&_.I==null)s=-1;if(s==-3)O=_.LL.rect;else if(s==-2)O=_.I.rect;else O=_.rect;var w=hI.Rp(o,D,u,O.Q,O._,S,Z);
S+=Z;if(s==-3)_.LL.channel=w;else if(s==-2)_.I.channel=w;else F["c"+s]=w}var m=new g.Q9(0);m.M=null;
if(H==3){m.$=F.c0;m.H=F.c1;m.J=F.c2;m.M=F["c-1"]}else if(H==1){m.$=F.c0;m.H=F.c0;m.J=F.c0;m.M=F["c-1"]}else if(H==4){var V=l.QU.r1039,q=null,i=F.c0,c=F.c1,z=F.c2,B=F.c3;
if(V){var q=V.apm,t=17;if(q==null){var a=ICC.R(V.buffer);if(a.header.spaceIn=="RGB "){}else q=V.apm=ICC.U.sampleLUT(a,t)}}if(q){var I={$:i,H:c,J:z,M:B},N=g.o(i.length*4);
g.xQ(I,N);g.L5(N);ICC.U.applyLUT4(q,t,N,N);g.gV(N,I)}else{for(var v=0;v<i.length;v++){var J=1-i[v]*(1/255),Q=1-c[v]*(1/255),A=1-z[v]*(1/255),f=1-B[v]*(1/255),W=g.IG([J,Q,A,f]);
i[v]=Math.floor(.5+W[0]*255);c[v]=Math.floor(.5+W[1]*255);z[v]=Math.floor(.5+W[2]*255)}}m.$=i;m.H=c;
m.J=z;m.M=F["c-1"]}if(m.$==null)m.$=g.o(0);if(m.M==null&&m.$!=null){m.M=m.$.slice(0);m.M.fill(255)}if(m.H==null)m.H=m.$.slice(0);
if(m.J==null)m.J=m.$.slice(0);_.buffer=g.o(Math.max(0,_.rect.c()*4));g.xQ(m,_.buffer);return S};hI.aqn=function(l,o,D,H,_,u,S){var h=o.ayV(S),F=o.buffer,n=new g.Q9(o.rect.c());
if(S){var R=n.M.slice(0);g.mA(F,R,3);F=F.slice(0);g.aq_(F);g.gV(F,n);n.azd=n.M;n.M=R}else g.gV(F,n);
for(var v=0;v<h.length;v++){var s=h[v],Z,O;if(s==-3)Z=o.LL.rect;else if(s==-2)Z=o.I.rect;else Z=o.rect;
if(s==-3)O=o.LL.channel;if(s==-2)O=o.I.channel;if(s==-1)O=n.M;if(s==0)O=n.$;if(s==1)O=n.H;if(s==2)O=n.J;
if(s==3)O=n.azd;D.tP(H,Z.c()*3+4);var w=H;H=hI.Pt(l,O,D.data,Z.Q,Z._,H,u[1]?3:1);var m=H-w;if(l)x.a0v(D.data,_+v*10+2,m);
else x.Dn(D.data,_+v*6+2,m)}return H};hI.Rp=function(l,o,D,H,_,u,S){var h=x.I9(D,u);u+=2;return hI.PB(l,o,D,H,_,u,h,S-2)};
hI.Pt=function(l,o,D,H,_,u,S){x.ry(D,u,S);u+=2;u=hI.rn(l,o,D,H,_,u,S);return u};hI.PB=function(l,o,D,H,_,u,S,h){var F,n=H*_*(o>>>3),R=n&3,s=n+(R==0?0:4-R);
if(h<=0){return g.o(s)}if(S>3){console.log("unknown compression: "+S,H,_,H*_,h);S=0}if(S==0){if(u+s<=D.length)F=D.slice(u,u+s);
else{F=g.o(n);for(var v=0;v<n;v++)F[v]=D[u+v]}u+=n}else if(S==1){F=g.o(n);var Z=l?4:2,O=hI.a6z(D,F,H,_,u,u+Z*_,Z);
u+=Z*_+O}else if(S==2||S==3){var w=new Uint8Array(D.buffer,u+2,h-6),m=g.o(s);UZIP.inflateRaw(w,m);if(S==3){if(o==8)for(var V=0;
V<_;V++){var q=V*H+1,i=q+H-1,c=m[q-1];for(var z=q;z<i;z++){c+=m[z];m[z]=c&255}}else for(var V=0;V<_;
V++){var q=V*H+1,i=q+H-1,c=m[2*q-2]<<8|m[2*q-1];for(var z=q;z<i;z++){var B=z<<1;c+=m[B]<<8|m[B+1];m[B]=c>>>8;
m[B+1]=c&255}}}if(m.length==s)F=m;else{F=g.o(s);for(var v=0;v<m.length;v++)F[v]=m[v]}}if(o==16){var t=g.o(H*_);
for(var v=0;v<n;v+=2)t[v>>>1]=F[v];F=t}return F};hI.rn=function(l,o,D,H,_,u,S){var h=H*_;if(S==0)for(var v=0;
v<h;v++)D[u++]=o[v];else if(S==1){var F=l?4:2,n=hI.a2Q(o,D,H,_,u,u+F*_,F);u+=F*_+n}else if(S==2||S==3){if(S==3){var R=new Uint8Array(o.length);
for(var s=0;s<_;s++){var Z=s*H+1,O=Z+H-1,w=o[Z-1];R[Z-1]=w;for(var m=Z;m<O;m++){R[m]=o[m]+(256-w)&255;
w=o[m]}}o=R}D[u]=120;D[u+1]=156;u+=2;var V=pako.deflateRaw(o,{aCH:4});x.ash(D,u,V);u+=V.length+4}else console.log("Unknown compression: "+S);
return u};hI.a6z=function(l,o,D,H,_,u,S){if(!(l instanceof Uint8Array)||!(o instanceof Uint8Array))throw"e";
var h=u,F=H|0;if(S==2)for(var v=0;v<F;v++){var n=x.I9(l,_+(v<<1));hI.Dt(l,u,n,o,v*D,D);u+=n}else for(var v=0;
v<F;v++){var n=x.C(l,_+(v<<2));hI.Dt(l,u,n,o,v*D,D);u+=n}return u-h};hI.a2Q=function(l,o,D,H,_,u,S){var h=u;
if(S==2)for(var v=0;v<H;v++){var F=hI.a9o(l,v*D,D,o,u);x.Pi(o,_+v*2,F);u+=F}else for(var v=0;v<H;v++){var F=hI.a9o(l,v*D,D,o,u);
x.Dn(o,_+v*4,F);u+=F}return u-h};hI.a9o=function(l,o,kC,D,H){var _,u,S,h,F,du,n;h=o+kC;for(S=o,u=H;kC>0;
S=_,kC-=du){n=kC<128?kC:128;if(S<=h-3&&l[S+1]==l[S+0]&&l[S+2]==l[S+0]){for(_=S+3;_<S+n&&l[_]==l[S+0];
)++_;du=_-S;D[u++]=1+256-du;D[u++]=l[S+0]}else{for(_=S;_<S+n;)if(_<=h-3&&l[_+1]==l[_+0]&&l[_+2]==l[_+0])break;
else++_;du=_-S;D[u++]=du-1;for(var v=0;v<du;v++)D[u+v]=l[S+v];u+=du}}return u-H};hI.Dt=function(l,o,D,H,_,u){for(var S=0;
S<D;){var kC=l[o++];if(kC>=128){var h=l[o++],F=_+(257-kC);H.fill(h,_,F);_=F;S+=2}else{for(var v=0;v<=kC;
v++)H[_+v]=l[o+v];o+=kC+1;_+=kC+1;S+=1+1+kC}}};function dx(){}dx.Ga=function(l,o,D){return;var H="",_=o;
while(_!=0){var u=_%1e3+"";while(u.length<3)u="0"+u;H=(H==""?u:u+" ")+H;_=Math.floor(_/1e3)}while(H.startsWith("0")&&H!="0")H=H.slice(1);
while(H.length<11)H=" "+H;console.log("===",H,"\t".repeat(l),": "+D)};dx.anZ=function(l){var o={QU:{}},H=0,_=0,h;
o.iV=!1;o.eQ=8;var D=new Uint8Array(l);_=dx.re(o,D,H);H=_;_=dx.afw(o,D,H);H=_;var u=x.C(D,H);H+=4+u;
var S=o.iV?8:4;if(o.iV)h=x.$Q(D,H);else h=x.C(D,H);H+=S+h;_=dx.a20(o,D,H);return[{jH:new gt(0,0,o.Q,o._),data:o.buffer.buffer}]};
dx.x2=function(l,o){o.iV=!1;o.eQ=8;var D=new Uint8Array(l),H=0,_=0,S=0,Y,cK=!1,g0=!0,bW=!1,hF=0,bY=0;
_=dx.re(o,D,H);dx.Ga(0,_-H,"PSD Header");H=_;_=dx.afw(o,D,H);dx.Ga(0,_-H,"Color Mode Data");H=_;_=dx.arW(o,D,H);
dx.Ga(0,_-H,"Image Resources");H=_;_=dx.akQ(o,D,H);dx.Ga(0,_-H,"Layer And Mask Info");H=_;_=dx.a20(o,D,H);
dx.Ga(0,_-H,"Merged Image");H=_;if(o.R.length==0){var u=o.O7();u.FH("Background");o.R.push(u);u.buffer=o.buffer.slice(0);
u.rect=new gt(0,0,o.Q,o._)}for(var v=0;v<o.R.length;v++){var _=o.R[v],h=_.add.lsct;if(h==jl.fa)S++;else if(h==jl.VV||h==jl.qb)S--}while(S<0){o.R.unshift(o.k0());
S++}if(o.QU.r1005){o.on=x.Ju(o.QU.r1005,0)}if(o.QU.r1026){var D=o.QU.r1026;for(var v=0;v<D.length;v+=2){var _=o.R[v>>>1];
if(_)_.zE=x.I9(D,v)}}if(o.QU.r1072){var D=o.QU.r1072;for(var v=0;v<D.length;v++){var _=o.R[v];if(_)_.Sx=D[v]==1}}if(o.QU.r1032){o.oJ=dx.aer(o.QU.r1032,0)}delete o.QU.r1036;
o.HW(o.QU.r1039);if(o.QU.r1050){var F=x.C,n=o.QU.r1050,R=x.C(n,0);if(R==6){var s=4,Z=x.m3(n,s);s+=16;
var O=x.pY(n,s);s+=4+O.length*2;var w=F(n,s);s+=4;var m=o.n0;for(var v=0;v<w;v++){var V=p.d8.MB(),i;
m.push(V);V=V.v;V.sliceID.v=F(n,s);s+=4;V.groupID.v=F(n,s);s+=4;var q=F(n,s);s+=4;if(q==1){i=F(n,s);
s+=4}var O=x.pY(n,s);s+=4+O.length*2;var c=F(n,s);s+=4;var z=[F(n,s),F(n,s+4),F(n,s+8),F(n,s+12)];s+=16;
p.d8.Zs(m,m.length-1,z);var B=V.url.v=x.pY(n,s);s+=4+B.length*2;var t=V.null.v=x.pY(n,s);s+=4+t.length*2;
var a=V.Msge.v=x.pY(n,s);s+=4+a.length*2;var I=V.altTag.v=x.pY(n,s);s+=4+I.length*2;V.cellTextIsHTML.v=n[s]==1;
s++;var N=V.cellText.v=x.pY(n,s);s+=4+N.length*2;var J=F(n,s);s+=4;var Q=F(n,s);s+=4;var A=n.slice(s,s+4);
s+=4;if(q!=2)m.pop()}}else if(R==8){var f={};ii.JZ(n,f,8,!1);var n=o.n0=f.slices.v;for(var v=0;v<n.length;
v++){if(n[v].v.origin.v.ESliceOrigin!="userGenerated"){n.splice(v,1);v--}}}}if(o.QU.r1058){var W=o.QU.r1058,C=UTIF.decode(W.buffer,{parseMN:!1,debug:!1});
j9.Sn(C[0],o.ff);delete o.QU.r1058}if(o.QU.r1060){var j=x.Fs(o.QU.r1060);j9.Jq(j,o.ff);delete o.QU.r1060}if(o.QU.r1065){var D=o.QU.r1065;
o.xr={};ii.JZ(D,o.xr,4,!1)}if(o.QU.r1069){var D=o.QU.r1069,K=[];for(var v=2;v<D.length;v+=4){var i=x.C(D,v);
for(var $=0;$<o.R.length;$++){var _=o.R[$];if(_.add.lyid==i&&_.add.lsct!=3&&K.indexOf($)==-1)K.push($)}}o.T=K}if(o.QU.r1073){var D=o.QU.r1073,s=0,r=x.Kb(D,s);
s+=4;var U=x.Kb(D,s);s+=4;for(var v=0;v<U;v++){o.RX.push({y:r>=2?x.R1(D,s+2):x.Ju(D,s+2),x:r>=2?x.R1(D,s+6):x.Ju(D,s+6)});
s+=14}delete o.QU.r1073}if(o.QU.r1025){var b=o.QU.r1025;delete o.QU.r1025;var e=dV.l_(b,0,b.length,o.Q,o._),P=new d.dO;
P.d=e;o.sS[0]=f9.Ed("Working Path",{vmsk:P})}var L=o.add.pths;delete o.add.pths;var X=o.QU.r3000;if(X){Y={};
ii.JZ(X,Y,4,!1);delete o.QU.r3000}if(L){var G=L.pathSymmetrySelectedPath;if(G){var E=L.pathList.v[G.v].v,T=E.pathUnicodeName.v;
o.j$=T.startsWith("Tile Symmetry")}}for(var y=0;y<=997;y++){var d4="r"+(2e3+y),b=o.QU[d4];if(b==null)break;
var e=dV.l_(b,0,b.length,o.Q,o._),T="Path "+y;if(L){var dH=L.pathList.v[y].v;T=dH.pathUnicodeName.v;
if(T=="Tile Symmetry 1")continue}var eV=Y?Y.keyRootDescriptorList.v[y].v.keyDescriptorList.v:d.Xv(e),P=new d.dO;
P.d=e;o.sS.push(f9.Ed(T,{vmsk:P,vogk:eV}));delete o.QU[d4]}delete o.iV;if(o.QU.r4000){o.gQ=g.gQ.x2(o.QU.r4000)}var bf=o.QU.r7000,jd=o.QU.r7001;
if(bf){var i5=x.Fs(bf);o.Qk=dx.anH(i5)}if(jd){var i5=x.Fs(jd);o.pt=dx.a0J(i5)}delete o.QU.r7000;delete o.QU.r7001;
var fD=new gt(0,0,o.Q,o._),eo=o.add.Txt2,iX=eo;if(iX){iX=iX.d1;if(iX._DocumentResources==null)iX=aB.a1_(iX)}var aJ=-1;
for(var v=0;v<o.R.length;v++){var _=o.R[v],iR=_.add.lsct,ex=_.add.vmsk,dX=_.KQ();if(iR==jl.fa){hF++;
_.add.lspf=0}else if(iR==jl.VV||iR==jl.qb)hF--;if(_.name==""){_.name="Layer "+(v+1);bW=!0}if(bW&&_.Cl()&&_.TY=="norm")_.TY="pass";
if(_.pn()&&_.nN(o)==null)delete _.add.SoLd;if(_.pn()&&_.nN(o).I){var iZ=_.nN(o);iZ.I.isEnabled=_.add.SoLd.filterFX.v.filterMaskEnable.v}if(ex&&_.RR()){var j3=cq.K$.ts(!0);
if(_.add.vstk==null)_.add.vstk=JSON.parse(JSON.stringify(j3));else{var by="strokeStyleLineDashSet";if(_.add.vstk[by]==null)_.add.vstk[by]=JSON.parse(JSON.stringify(j3[by]))}_.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
_.add.vstk.strokeStyleResolution.v=o.on}if(ex&&(_.add.vogk==null||g.n.Ly(ex.d)!=_.add.vogk.length))_.Xv();
if(!1){var i9=_.add.vogk,dm=!0;for(var kh=0;kh<i9.length;kh++){var jK=i9[kh].v.keyShapeInvalidated;if(jK==null||jK.v==!1)dm=!1}if(dm)_.Xv()}if(_.add.SoLd&&_.rect.lh()){console.log("redrawing smart instance");
_.mP(o,null,null,!0)}if(dX==null&&_.I!=null){if(_.I.qe==!1){_.I.qe=!0;_.LL=_.I.clone()}}dX=_.KQ();if(_.X4){var j3=_.X4,P=ex;
if(dX){dX.dJ=j3[0];dX.L4=j3[1]}if(P){P.dJ=j3[2];P.L4=j3[3]}_.X4=null}if(dX!=null&&ex!=null&&(dX.L4+ex.L4!=0||dX.dJ+ex.dJ!=2*255))_.C$(o);
else if(ex!=null&&!_.RR())_.C$();else if(dX&&dX.dJ!=255&&_.RR())_.C$(o);var bd=_.add.artb;if(bd&&bd.artboardBackgroundType==null)bd.artboardBackgroundType={t:"long",v:1};
if(bd&&hF!=0)delete _.add.artb;var dz=_.add.vstk;if(_.RR()&&(_.rect.lh()||ex&&ex.L4!=0||dz&&!dz.fillEnabled.v&&(!dz.strokeEnabled.v||dz.strokeStyleLineWidth.v.val==0)))_.a6(o);
if(_.add.TySh){cK=!0;if(!_.rect.lh())g0=!1}if(_.add.TySh&&iX){aJ++;var dw=_.add.TySh.PF,ev=fX.IU(dw),aq=iX._DocumentObjects._TextObjects;
if(aq.length<=aJ){console.log("Txt2 incomplete");continue}var e3=aq[aJ]._Model,a9=e3._StyleRun?e3._StyleRun._RunArray:[],e0=dw.EngineDict.StyleRun.RunArray;
for(var as=0;as<e0.length;as++){var eK=e0[as].StyleSheet.StyleSheetData;if(a9[as]==null)continue;var gh=a9[as]._RunData._StyleSheet._Features;
if(gh&&gh._BaselineDirection)eK.BaselineDirection=parseInt(gh._BaselineDirection.slice(1));if(gh&&gh._FillBackgroundFlag)eK._FillBackgroundFlag=gh._FillBackgroundFlag;
if(gh&&gh._FillBackgroundColor){var gx=gh._FillBackgroundColor,gc=gx._Color._Values.slice(0);for(var $=0;
$<4;$++)gc[$]=parseFloat(gc[$].slice(1));eK._FillBackgroundColor={Type:1,Values:gc}}if(gh&&gh._LineWidth)eK._LineWidth=parseFloat(gh._LineWidth.slice(1))}var kQ=dw.EngineDict.ParagraphRun.RunArray,dn=e3._ParagraphRun._RunArray;
if(dn==null)dn=[];var bQ=Math.min(dn.length,kQ.length);for(var $=0;$<bQ;$++){var iK=kQ[$].ParagraphSheet.Properties,cJ=iX._DocumentResources._ParagraphSheetSet._Resources,i1=dn[$]._RunData._ParagraphSheet;
if(typeof i1=="string")i1=cJ[parseInt(i1.slice(1))]._Resource;var bu=i1._Parent==null?i1:cJ[parseInt(i1._Parent.slice(1))]._Resource;
i1=i1._Features;bu=bu._Features;var gi=i1._ParagraphDirection;if(gi==null)gi=bu._ParagraphDirection;
if(gi)iK._Direction=parseInt(gi.slice(1));if(i1._ComposerEngine)iK._ComposerEngine=parseInt(i1._ComposerEngine.slice(1))}if(e3._AlternateGlyphRun){var dn=e3._AlternateGlyphRun._RunArray,bQ=dn.length,iv=dw.EngineDict.AlternateGlyphRun=fX.ayc();
for(var $=0;$<bQ;$++){var i1=dn[$],d0={},af=i1._RunData._AlternateGlyphSheet;if(af)d0.Glyph=parseInt(af._Glyph.slice(1));
iv.RunArray.push(d0);iv.RunLengthArray.push(parseInt(i1._Length.slice(1)))}}var eY=iX._DocumentResources,hV=eY._TextFrameSet._Resources,i$=hV[aJ]._Resource,cz=i$._Data,fk=new de(1,0,0,1,0,0);
if(i$._0){var ee=parseFloat(i$._0[0].slice(1)),aC=parseFloat(i$._0[1].slice(1));fk.translate(ee,aC)}if(ev){fk.translate(ev[0],ev[1]);
fX.nP(dw,[0,0,ev[2]-ev[0],ev[3]-ev[1]])}else{if(i$._Bezier&&i$._Bezier._Points){var e=i$._Bezier._Points,ee=parseFloat(e[0].slice(1)),aC=parseFloat(e[1].slice(1));
if(ee!=0||aC!=0){fk.translate(ee,aC)}}}if(i$._Data&&i$._Data._FrameMatrix){var cI=i$._Data._FrameMatrix;
cI=cI.map(function(dR){return parseFloat(dR.slice(1))});fk.concat(new de(cI[0],cI[1],cI[2],cI[3],cI[4],cI[5]))}fk.concat(_.add.TySh.h);
_.add.TySh.h=fk;var c=cz._Type?parseInt(cz._Type.slice(1)):0;if(c==2||c==1&&cz._PathData&&cz._PathData._Spacing=="i-3")if(i$._Bezier){var cZ=function(dR){return parseFloat(dR.slice(1))},e=i$._Bezier._Points.map(cZ);
if(ev)g.X.h(e,new de(1,0,0,1,-ev[0],-ev[1]),e);var ad=cz._PathData?cz._PathData._Reversed:!1,j0=cz._TextOnPathTRange;
if(j0==null)j0=["f-3","f-3"];dw.Curve={Points:e,TextOnPathTRange:j0.map(cZ),Reversed:ad==null?!1:ad};
_.add.TySh.add={vmsk:new d.dO,vogk:null};fX.FP(_.add.TySh)}if(cz._LineOrientation=="i2")dw._LineOrientation=2}}p.ce.a9(o,!0);
var cX={},io=[];for(var v=0;v<o.R.length;v++){var et=o.R[v].add.lyid;if(et==null)continue;var bY=Math.max(bY,et);
if(cX[et]!=null)io.push(v);else cX[et]=!0}for(var v=0;v<io.length;v++)o.R[io[v]].add.lyid=bY+1+v};dx.aer=function(l,o){o+=12;
var D=x.C(l,o),H=[];o+=4;D=Math.min(D,Math.floor((l.length-o)/5));for(var v=0;v<D;v++){var _=Math.min(l[o+v*5+4],1),u=x.Kb(l,o+v*5)/32;
H.push([_,u])}return H};dx.anH=function(l){var o=new DOMParser,D=o.parseFromString(l,"text/xml").firstChild.children[0],H=D.getElementsByTagName("variables");
if(H.length==0)return[];H=H[0].children;var _=[],u="varName trait docRef placementMethod align valign clip".split(" ");
for(var S=0;S<H.length;S++){var h=H[S],F={};_.push(F);for(var n=0;n<u.length;n++){var R=u[n],s=h.getAttribute(R);
if(s==null)continue;F[R]=s}}return _};dx.a0J=function(l){var o=new DOMParser,D=o.parseFromString(l,"text/xml").firstChild.children,H=[[]];
if(D==null)return H;for(var v=0;v<D.length;v++){var _=D[v],u=[];H.push(u);for(var S=0;S<_.children.length;
S++){var h=_.children[S];if(v==0)H[0].push(h.tagName);u.push(h.textContent)}}return H};dx.Y8=function(l,o,D){p.ce.wK(l);
p.ce.a9(l,!1);l.iV=D[3]==!0;var H=[],_=[],V=0,i=1,w=16,iX=0;for(var v=0;v<l.R.length;v++){var u=l.R[v];
if(u.pn()&&u.nN(l).I){u.add.SoLd.filterFX.v.filterMaskEnable.v=u.nN(l).I.isEnabled}if(u.add.TySh){var S=u.add.TySh.PF,h=fX.I8(S);
u.add.TySh.CQ.TextIndex={t:"long",v:H.length};H.push(S);if(h==2)fX.H9(u.add.TySh)}var F=u.add.vstk;if(F)F.strokeStyleResolution.v=l.on;
if(u.RR()||D[2]&&u.add.SoLd){_[v]=[u.rect,u.buffer];u.rect=new gt;u.buffer=g.o(0);if(u.add.SoLd){var n=u.nN(l);
if(n!=null){_[v].push(n.buffer);n.buffer=g.o(n.buffer.length)}}}}if(H.length>0){var R=l.add.Txt2?l.add.Txt2.d1:null;
if(l.add.Txt2==null)l.add.Txt2={};l.add.Txt2.d1=cj.a5B(H,null,R)}var s=[l.add.lnk2,l.add.FEid,l.add.Patt],Z=l.aaA(l.R);
l.adM(Z);l.QU.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);x.awF(l.QU.r1005,0,l.on);x.awF(l.QU.r1005,8,l.on);
if(l.RX.length>0){var O=l.RX;l.QU.r1073=new Uint8Array(8+O.length*14);x.yS(l.QU.r1073,0,3);x.yS(l.QU.r1073,4,O.length);
for(var v=0;v<O.length;v++){var w=8+14*v;x.ry(l.QU.r1073,w,14);x.Fg(l.QU.r1073,w+2,O[v].y);x.Fg(l.QU.r1073,w+6,O[v].x);
x.ry(l.QU.r1073,w+10,-1);x.ry(l.QU.r1073,w+12,8)}}if(l.Ff()){l.QU.r1022=new Uint8Array([0,3+l.Lx.length-1,0])}else delete l.QU.r1022;
var m=new Uint8Array(l.R.length*2),q=new Uint8Array(l.R.length);for(var v=0;v<l.R.length;v++){var u=l.R[v],c=u.zE,z=u.Sx?1:0;
x.Pi(m,v*2,c);q[v]=z;if(c>V)V=c;if(z==0)i=0}if(V>0)l.QU.r1026=m;if(i<1)l.QU.r1072=q;var B=l.oJ,t=B.length,a=l.QU.r1032=g.o(16+5*t,!0);
x.Dn(a,0,1);x.Dn(a,4,576);x.Dn(a,8,576);x.Dn(a,12,t);for(var v=0;v<t;v++){x.yS(a,w,Math.round(B[v][1]*32));
a[w+4]=B[v][0];w+=5}if(D[4]!=!0){var I=[l.buffer,new gt(0,0,l.Q,l._)],N=0;g.Na(I);while(I[N+1].c()>200*200)N+=2;
var J=fj.rU("jpg"),Q=I[N+1],A=new Uint8Array(J.MJ([[I[N].buffer]],Q.Q,Q._)),a=l.QU.r1036=new Uint8Array(28+A.length);
x.Dn(a,0,1);x.Dn(a,4,Q.Q);x.Dn(a,8,Q._);x.Dn(a,12,Q.Q*3);x.Dn(a,16,Q.c()*3);x.Dn(a,20,A.length);x.Pi(a,24,24);
x.Pi(a,26,1);a.set(A,28)}var f=g.pz(l.buffer);if(l.add.fcmy)f=!1;var W=[];if(f)W.push({name:"Transparency",cr:{$:255,H:0,J:0},HJ:100,no:1});
W=W.concat(l.Lx);delete l.QU.r1045;delete l.QU.r1006;delete l.QU.r1077;var C=new dk;w=0;var j=new Uint8Array(4+W.length*13);
j[3]=1;for(var v=0;v<W.length;v++){var K=W[v],$=K.name+"\0";x.Ac(C,w,$);w+=4+$.length*2;var r=4+v*13;
gr.Ir(j,r,K.cr);j[r+11]=K.HJ;j[r+12]=K.no}if(w!=0)l.QU.r1045=C.data.slice(0,w);l.QU.r1077=j;for(var v=0;
v<l.n0.length;v++)l.n0[l.n0.length-v-1].v.sliceID.v=2+v*3;var U={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:l.n0}},C=new dk;
x.aG(C,0,8);x.aG(C,4,16);var b=ii.wa(C,U,8);l.QU.r1050=C.data.slice(0,b+8);var C=new dk;x.aG(C,0,16);
var b=ii.wa(C,l.xr,4);l.QU.r1065=C.data.slice(0,b+4);var e=l.T;a=l.QU.r1069=g.o(2+e.length*4,!0);x.Pi(a,0,e.length);
for(var v=0;v<e.length;v++)x.Dn(a,2+4*v,l.R[e[v]].add.lyid);delete l.QU.r1058;delete l.QU.r1060;if(Object.keys(l.ff).length!=0){var P=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
j9.lI(l.ff,P[0],D[0]&&D[1]);l.QU.r1058=new Uint8Array(UTIF.encode(P));var L=j9.jY(l.ff);l.QU.r1060=x.fe(L)}var Y=[],X=[],G=l.sS.slice(0);
if(l.j$){var E=dV.adu([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),T=new d.dO;
T.d=E;G.push(f9.Ed("Tile Symmetry 1",{vmsk:T,vogk:d.Xv(E)}))}for(var v=0;v<G.length;v++){var y=G[v],E=y.add.vmsk.d;
if(v==0&&E.length==2)continue;var d4=g.o(E.length*26);dV.wO(d4,0,E,l.Q,l._);var dH=v==0?1025:2e3+v-1;
l.QU["r"+dH]=d4;if(v!=0){var eV={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:y.name}};if(y.name=="Tile Symmetry 1")eV.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
Y.push({t:"Objc",v:eV});X.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:y.add.vogk}}})}}if(Y.length!=0){l.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:Y}};
if(l.j$)l.add.pths.pathSymmetrySelectedPath={t:"long",v:Y.length-1};X={classID:"null",keyRootDescriptorList:{t:"VlLs",v:X}};
var C=new dk;x.aG(C,0,16);var b=ii.wa(C,X,4);l.QU.r3000=C.data.slice(0,b+4)}else{delete l.add.pths;delete l.QU.r3000}if(l.gQ&&l.gQ.length!=0){l.QU.r4000=g.gQ.Y8(l.gQ)}if(l.Qk.length!=0){var bf="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var v=0;v<l.Qk.length;v++){var jd=l.Qk[v],i5=[];for(var dH in jd)i5.push(dH+"=\""+jd[dH]+"\"");bf+="<variable "+i5.join(" ")+">\n</variable>\n"}bf+="</variables>\n</variableSet>\n</variableSets>";
l.QU.r7000=x.fe(bf)}if(l.pt.length!=0){var bf="<sampleDataSets psdPath=\""+l.name+"\">\n";for(var v=1;
v<l.pt.length;v++){var fD=l.pt[v];bf+="<sampleDataSet dataSetName=\"Data Set "+v+"\">\n";for(var eo=0;
eo<fD.length;eo++)bf+="<"+l.pt[0][eo]+">"+fD[eo].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+l.pt[0][eo]+">\n";
bf+="</sampleDataSet>\n"}bf+="</sampleDataSets>";l.QU.r7001=x.fe(bf)}iX=dx.afV(l,o,iX,3+W.length);iX=dx.amw(l,o,iX);
iX=dx.ajt(l,o,iX);iX=dx.a4j(l,o,iX,D,f);iX=dx.aoq(l,o,iX,D[0],f);var cK=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var v=0;v<cK.length;v++)delete l.QU["r"+cK[v]];for(var v=0;v<l.R.length;v++){var u=l.R[v];if(u.RR()||D[2]&&u.add.SoLd){u.rect=_[v][0];
u.buffer=_[v][1];if(_[v][2]){var n=u.nN(l);_[v].push(n.buffer);n.buffer=_[v][2]}}}l.adM(s);p.ce.a9(l,!0);
delete l.iV;return iX};dx.re=function(l,o,D){var H=x.Gk(o,D,4);D+=4;if(H!="8BPS")alert("invalid header signature: "+H);
var _=x.I9(o,D);D+=2;l.iV=_==2;if(_!=1&&_!=2)alert("invalid version: "+_);D+=6;l.NR=x.I9(o,D);D+=2;l._=x.Kb(o,D);
D+=4;l.Q=x.Kb(o,D);D+=4;l.eQ=x.I9(o,D);D+=2;l.Rc=x.I9(o,D);D+=2;return D};dx.afV=function(l,o,D,H){var _=l.add.fcmy==1;
o.tP(0,64);x.RN(o.data,D,"8BPS");D+=4;x.Pi(o.data,D,l.iV?2:1);D+=2;x.Dn(o.data,D,0);D+=4;x.Pi(o.data,D,0);
D+=2;x.Pi(o.data,D,H+(_?1:0));D+=2;x.yS(o.data,D,l._);D+=4;x.yS(o.data,D,l.Q);D+=4;x.Pi(o.data,D,8);
D+=2;x.Pi(o.data,D,_?4:3);D+=2;return D};dx.afw=function(l,o,D){var H=x.Kb(o,D);D+=4;if(H!=0)l.Kk=o.slice(D,D+H);
D+=H;return D};dx.amw=function(l,o,D){x.aD(o,D,0);D+=4;return D};dx.arW=function(l,o,D){var H=x.C(o,D),_=0;
D+=4;var u=[];while(_<H){var S=x.Gk(o,D+_,4);_+=4;var h=x.I9(o,D+_);_+=2;var F=x.dQ(o,D+_);_+=F.length;
if(S=="MeSa"&&(h==7e3||h==7001)){}else if(S!="8BIM"){u.push(h);console.log("Unknown Image Resources signature: "+S+", ID: "+h)}var n=x.C(o,D+_);
_+=4;if(l.QU["r"+h]!=null)console.log("--- two resources with same ID");l.QU["r"+h]=x.eY(o,D+_,n);_+=n+(n&1)}for(var v=0;
v<u.length;v++)delete l.QU["r"+u[v]];return D+H};dx.ajt=function(l,o,D){var H=D,S=0;D+=4;var _=[];for(var u in l.QU){_.push(parseInt(u.slice(1)))}_.sort(function(s,Z){return s-Z});
for(var v=0;v<_.length;v++){var h=_[v];x.hZ(o,D+S,h==7e3||h==7001?"MeSa":"8BIM");S+=4;x.iE(o,D+S,h);
S+=2;var F=x.AC(o,D+S,"");S+=F;var n=l.QU["r"+h],R=n.length;x.aG(o,D+S,R);S+=4;x.bm(o,D+S,n);S+=R;if(R%2==1)S++}x.aG(o,H,S);
return D+S};dx.akQ=function(l,o,D){var H=D,_,u,S=l.iV?8:4;if(l.iV)_=x.$Q(o,D);else _=x.C(o,D);D+=S;if(_==0)return H+S;
u=dx.a27(l,o,D);dx.Ga(1,u-D,"Layer Info");D=u;u=dx.ahb(l,o,D);dx.Ga(1,u-D,"Global Layer Mask Info");
D=u;u=aN.awK(o,D,H+S+_,l.add,l.iV,l);dx.Ga(1,u-D,"Project Add Info");D=u;return H+S+_};dx.a4j=function(l,o,D,H,_){var u=D;
x.aG(o,D,0);D+=4;if(l.iV){x.aG(o,D,0);D+=4}D=dx.aBX(l,o,D,H,_);D=dx.a3b(l,o,D);D=aN.axn(o,D,l.add,l.iV,l);
if(l.iV)x.n9(o,u,D-u-8);else x.aG(o,u,D-u-4);return D};dx.a27=function(l,o,D){var H,_=l.iV?8:4;if(l.iV)H=x.$Q(o,D);
else H=x.C(o,D);D+=_;if(H!=0)dx.a8V(l,o,D);return D+H};dx.a8V=function(l,o,D){var H=x.Kc(o,D);D+=2;var _=Math.abs(H);
for(var v=0;v<_;v++){var u=new d;D=cc.x2(u,l,o,D);l.R[v]=u}var S=new gt(0,0,l.Q,l._);for(var v=0;v<_;
v++){var h=l.R[v],F=h.KQ(),n=hI.x2(h,l,o,D);if(n-D>8)dx.Ga(2,n-D,"Lay: "+h.getName());D=n;dx.abS(h,S);
if(F)dx.abS(F,S)}};dx.abS=function(l,o){};dx.aBX=function(l,o,D,H,_){var u=D,S=l.iV;D+=S?8:4;D=dx.aCE(l,o,D,H,_);
var h=D-u-(S?8:4);if(h%2!=0)h++;if(S)x.n9(o,u,h);else x.aG(o,u,h);return u+h+(S?8:4)};dx.aCE=function(l,o,D,H,_){var u=l.R.length;
x.Y0(o,D,_?-u:u);D+=2;var S=[];for(var v=0;v<u;v++)D=cc.Y8(l.R[v],l,o,D,S);for(var v=0;v<u;v++)D=hI.wd(l.iV,l.R[v],o,D,S[v],H,l.add.fcmy==1);
return D};dx.ahb=function(l,o,D){var H=x.C(o,D);D+=4;D+=H;return D};dx.a3b=function(l,o,D){var H=x.aG(o,D,0);
D+=4;return D};dx.a20=function(l,o,D){var H=l.Rc,_="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),u=[1,1,1,3,4,1,1,3],S,m;
if(H!=3){if(H==1||H==2||H==4)console.log("Project will be converted from "+_[H]+" to "+_[3]+" mode.");
else{alert("Color mode "+_[H]+" is not supported yet :(")}if(H==4)l.add.fcmy=1}if(l.QU.r1045){S=[];var h=l.QU.r1045,F=0;
while(F<h.length){var n=x.VW(h,F);S.push(n);F+=4+2+n.length*2}}var R=u[H]+(S==null||S[0]=="Transparency"?1:0),s=l.Q,Z=l._,O=s*Z,w=x.I9(o,D);
D+=2;l.buffer=g.o(O*4);g.M5(l.buffer,4278190080);var V=D;for(var q=0;q<l.NR;q++){if(w==0){m=hI.PB(l.iV,l.eQ,o,s,Z,D,w);
D+=O*(l.eQ>>>3)}else if(w==1){m=g.o(O);var i=l.iV?4:2;if(q==0)D+=l.NR*Z*i;D+=hI.a6z(o,m,s,Z,V+q*Z*i,D,i)}else{console.log("unknown compression of image data: ",w);
return}if(q<R){g.Kl(m,l.buffer,q);if(l.NR==1&&q==0){g.Kl(m,l.buffer,1);g.Kl(m,l.buffer,2)}}else{var c=new d.ow,z=q-R,B=q-u[l.Rc];
c.name=S?S[B]:"Alpha";if(c.name=="Quick Mask"){c.Pj=!0;l.q0.push(z)}c.rect=new gt(0,0,s,Z);c.channel=m;
c.color=0;c.Hf();l.Lx[z]=c;if(l.QU.r1077){var h=l.QU.r1077.slice(4+B*13);c.cr=gr.Bc(h,0);c.HJ=h[11];
c.no=h[12];if(c.no==2)c.Pj=!0}}}l.NR=4;if(l.Rc==2)for(var v=0;v<O;v++){var t=v*4,a=l.buffer[t];l.buffer[t]=l.Kk[0+a];
l.buffer[t+1]=l.Kk[256+a];l.buffer[t+2]=l.Kk[512+a]}return D};dx.aoq=function(l,o,D,H,_){var u=1,S=16,h=l.Q,F=l._,R,s,Z;
x.iE(o,D,u);D+=2;var n=h*F;if(!H){s=new g.Q9(h*F);g.gV(l.buffer,s);var O=s.$,w=s.H,m=s.J,V=s.M;for(var v=0;
v<n;v++){var q=V[v]*(1/255);O[v]=~~(O[v]*q+255*(1-q));w[v]=~~(w[v]*q+255*(1-q));m[v]=~~(m[v]*q+255*(1-q))}Z=[s.$,s.H,s.J];
if(l.add.fcmy==1){Z.push(g.o(n));var i=l.buffer.slice(0);g.aq_(i);g.gV(i,{$:Z[0],H:Z[1],J:Z[2],M:Z[3]})}if(_)Z.push(s.M)}else{R=g.o(n);
Z=[R,R,R];if(l.add.fcmy==1)Z.push(R);if(_)Z.push(R)}for(var v=0;v<l.Lx.length;v++){Z.push(l.Lx[v].C7(new gt(0,0,l.Q,l._)))}var c=D;
for(var z=0;z<Z.length;z++){o.tP(D,h*F+4);R=Z[z];if(u==0||u==2||u==3)D=hI.rn(l.iV,R,o.data,h,F,D,u);
else{var B=l.iV?4:2;if(z==0)D+=Z.length*F*B;var t=D;D+=hI.a2Q(R,o.data,h,F,c+z*F*B,D,B)}}return D};function kb(){}kb.x2=function(l){var o={};
kb.j6(l,o,0,0);return o};kb.Y8=function(l,o){var D=0;D=kb.Ma(l,o,D,0);return D};kb.j6=function(l,o,D,H){while(l[D]!="<".charCodeAt(0))D++;
D+=2;while(!0){if(l[D]=="/".charCodeAt(0)){D++;var _=x.indexOf(l," ".charCodeAt(0),D,D+50),u=x.indexOf(l,"\n".charCodeAt(0),D,D+50);
if(u==-1)u=Infinity;if(_==-1)_=Infinity;var S=Math.min(u,_),h=x.Gk(l,D,S-D),F=kb.c7(l,S+1,H+1,h);o[h]=F.P;
D=S+1;D+=F.size}else if(l[D]==">".charCodeAt(0)){D+=2;break}else{var n=l[D];if(n==10||n==9||n==32)D++;
else{console.log("unknown byte: "+n+", char: "+String.fromCharCode(n),D);D++}}}return D};kb.Ma=function(l,o,D,H){x.hZ(o,D,"<<\n");
D+=3;var _=kb.aj$;for(var u in l){x.TZ(o,D,"\t".charCodeAt(0),H+1);D+=H+1;x.hZ(o,D,"/"+u);D+=1+u.length;
if(_(l[u])||l[u]instanceof Array){x.hZ(o,D," ");D++}else{x.hZ(o,D,"\n");D++;x.TZ(o,D,"\t".charCodeAt(0),H+1);
D+=H+1}D=kb.AJ(l[u],o,D,H+1);x.hZ(o,D,"\n");D++}x.TZ(o,D,"\t".charCodeAt(0),H);D+=H;x.hZ(o,D,">>");D+=2;
return D};kb.c7=function(l,o,D,H){var _=o,u={size:0,P:0};while(!0){while(l[o]==" ".charCodeAt(0)||l[o]=="\t".charCodeAt(0)||l[o]=="\n".charCodeAt(0))o++;
if(l[o]=="<".charCodeAt(0)){u.P={};o=kb.j6(l,u.P,o,D+1);break}else if(l[o]=="(".charCodeAt(0)){o+=3;
var S=o;while(!0){if(l[S-1]!="\\".charCodeAt(0)&&l[S]==")".charCodeAt(0)&&(l[S+1]=="\n".charCodeAt(0)||l[S+1]==" ".charCodeAt(0)))break;
else S++}u.P=x.aAu(l,o,S);o=S+2;break}else if(l[o]=="[".charCodeAt(0)){o++;u.P=[];while(l[o]==" ".charCodeAt(0)||l[o]=="\t".charCodeAt(0)||l[o]=="\n".charCodeAt(0))o++;
while(l[o]!="]".charCodeAt(0)){var h=kb.c7(l,o,D+1,H);u.P.push(h.P);o+=h.size;while(l[o]==" ".charCodeAt(0)||l[o]=="\t".charCodeAt(0)||l[o]=="\n".charCodeAt(0))o++}o++;
break}else{var F=x.indexOf(l," ".charCodeAt(0),o,o+50),n=x.indexOf(l,"\n".charCodeAt(0),o,o+50);if(n==-1)n=Infinity;
if(F==-1)F=Infinity;var R=x.Gk(l,o,Math.min(F,n)-o).trim(),s=parseFloat(R);if(!isNaN(s)){u.P=parseFloat(R);
o=Math.min(F,n)+1;break}else if(R=="true"||R=="false"){u.P=R=="true";o=Math.min(F,n)+1;break}else if(R=="null"||R=="NaN"||R=="undefined"){u.P=0;
o=Math.min(F,n)+1;break}else{console.log("unknown identifier: "+R);throw"e"}o=Math.min(F,n)+1}}u.size=o-_;
return u};kb.AJ=function(l,o,D,H){if(l instanceof Array){var _=l.length==0||typeof l[0]=="number";if(_){x.hZ(o,D,"[ ");
D+=2;for(var v=0;v<l.length;v++){var u=l[v]+" ";x.hZ(o,D,u);D+=u.length}x.hZ(o,D,"]");D+=1}else{x.hZ(o,D,"[\n");
D+=2;for(var v=0;v<l.length;v++){x.TZ(o,D,"\t".charCodeAt(0),H);D+=H;D=kb.AJ(l[v],o,D,H);x.hZ(o,D,"\n");
D++}x.TZ(o,D,"\t".charCodeAt(0),H);D+=H;x.hZ(o,D,"]");D+=1}}else if(l instanceof Object){D=kb.Ma(l,o,D,H)}else if(typeof l=="string"){x.hZ(o,D,"(");
D++;x.TZ(o,D,254);D++;x.TZ(o,D,255);D++;D=x.ahS(o,D,l);x.hZ(o,D,")");D+=1}else{var u=l+"";x.hZ(o,D,u);
D+=u.length}return D};kb.aj$=function(l){var o=typeof l;return o=="string"||o=="number"||o=="boolean"};
function c2(){}c2.x2=function(l){var o={};c2.aCZ(l,o,0,0);return o};c2.Y8=function(l,o){var D=0;x.hZ(o,D," ");
D++;D=c2.axZ(l,o,D,0);D--;o.tP(D,2);o.data[D]=o.data[D+1]=0;D+=2;return D};c2.j6=function(l,o,D,H){while(l[D]!="<".charCodeAt(0)){D++;
console.log("Å¡ipka")}D+=2;D=c2.aCZ(l,o,D,H);return D};c2.Ma=function(l,o,D,H){x.hZ(o,D,"<< ");D+=3;D=c2.axZ(l,o,D,H);
x.hZ(o,D,">>");D+=2;return D};c2.RU=function(l){return l==9||l==10||l==32};c2.aCZ=function(l,o,D,H){while(!0){while(c2.RU(l[D])||l[D]==0)D++;
if(D>=l.length)break;if(l[D]=="/".charCodeAt(0)){D++;var _=D;while(!c2.RU(l[_]))_++;var u=x.Gk(l,D,_-D);
D=_+1;var S=c2.c7(l,D,H,u);o["_"+u]=S.P;D+=S.size}else if(l[D]==">".charCodeAt(0)){D+=2;break}else{var h=l[D];
console.log(x.Gk(l,D,D+100));console.log("unknown byte: "+h+", char: "+String.fromCharCode(h)+", offset: "+D);
D++;throw"e";return-1}}return D};c2.axZ=function(l,o,D,H){for(var _ in l){var u=_.substring(1,_.length);
x.hZ(o,D,"/"+u);D+=1+u.length;x.hZ(o,D," ");D++;D=c2.AJ(l[_],o,D,H+1,u);x.hZ(o,D," ");D++}return D};
c2.c7=function(l,o,D,H){var _=o,u={type:"",size:0,P:0};while(c2.RU(l[o]))o++;if(l[o]=="<".charCodeAt(0)){u.type="Object";
u.P={};o=c2.j6(l,u.P,o,D+1)}else if(l[o]=="(".charCodeAt(0)){u.type="String";o++;if(l[o]==")".charCodeAt(0)){u.P="e";
o++}else if(l[o]==254&&l[o+1]==255){o+=2;var S=o,h=0;while(!0){if(l[S]==")".charCodeAt(0)&&l[S-1]!="\\".charCodeAt(0))break;
else S+=1}u.P="s"+x.aAu(l,o,S);o=S+2}else{var S=o;while(l[S]!=")".charCodeAt(0))S++;u.P="s"+x.Gk(l,o,S-o);
o=S+1}}else if(l[o]=="[".charCodeAt(0)){o++;u.P=[];u.type="Array";while(c2.RU(l[o]))o++;while(l[o]!="]".charCodeAt(0)){var F=c2.c7(l,o,D+1,H);
if(F==-1)return-1;u.P.push(F.P);o+=F.size;delete F.size;while(c2.RU(l[o]))o++}o++}else{var n=o;while(!c2.RU(l[n]))n++;
var R=x.Gk(l,o,n-o),s=parseFloat(R);if(!isNaN(s)&&R.indexOf(".")!=-1){u.type="Float";var Z=parseFloat(R);
u.P="f"+Z}else if(!isNaN(s)&&R.indexOf(".")==-1){u.type="Integer";u.P="i"+parseInt(R)}else if(R=="true"||R=="false"){u.type="Boolean";
u.P=R=="true"}else if(R.charAt(0)=="/"){u.type="BString";u.P=R}else if(R=="NaN"||R=="undefined"){u.type="Float";
u.P="f0"}else{console.log("unknown value",JSON.stringify(R));throw"e"}o=n+1}u.size=o-_;return u};c2.anF=function(l){if(l==Math.round(l))return l+".0";
var o=l.toFixed(5);while(o.endsWith("0")&&o[o.length-2]!=".")o=o.slice(0,o.length-1);if(0<l&&l<1)o=o.slice(1);
if(-1<l&&l<0)o="-"+o.slice(2);return o};c2.AJ=function(l,o,D,H,_){var u=typeof l=="string"?l.charAt(0):"";
if(l instanceof Array){x.hZ(o,D,"[ ");D+=2;for(var v=0;v<l.length;v++){D=c2.AJ(l[v],o,D,H,"");x.hZ(o,D," ");
D++}x.hZ(o,D,"]");D+=1}else if(l instanceof Object){D=c2.Ma(l,o,D,H)}else if(u=="e"){x.hZ(o,D,"()");
D+=2}else if(u=="s"){x.hZ(o,D,"(");D++;if(_=="97"){x.hZ(o,D,l.slice(1));D+=l.length-1}else{x.TZ(o,D,254);
D++;x.TZ(o,D,255);D++;D=x.ahS(o,D,l.slice(1))}x.hZ(o,D,")");D++}else if(u=="/"){x.hZ(o,D,l);D+=l.length}else if(u=="f"){var S=parseFloat(l.substring(1)),h=c2.anF(S);
x.hZ(o,D,h);D+=h.length}else if(u=="i"){x.hZ(o,D,l.substring(1));D+=l.length-1}else{var h=l+"";x.hZ(o,D,h);
D+=h.length}return D};function x(){}x.aqE=function(kC){var l="";for(var v=3;v>=0;v--)l+=String.fromCharCode(kC>>v*8&255);
return l};x.aDg=function(l){var kC=0;for(var v=l.length-1;v>=0;v--)kC|=l.charCodeAt(v)<<(3-v)*8;return kC};
x.indexOf=function(l,o,D,H){if(D==null)D=0;if(H==null)H=l.length;H=Math.min(H,l.length);for(var v=D;
v<H;v++)if(l[v]==o)return v;return-1};x.ZY=function(l,o,D){if(D==null)D=0;var H=o.length,_=l.length-H;
if(typeof o=="string"){var u=[];for(var v=0;v<H;v++)u.push(o.charCodeAt(v));o=u}if(o.length>0){var S=o[0];
for(var v=D;v<_;v++)if(l[v]==S){var h=!0;for(var F=1;F<H;F++)if(o[F]!=l[v+F]){h=!1;break}if(h)return v}}return-1};
x.aAu=function(l,o,D){var H=[],u="";while(o<D){var _=l[o++];if(_=="\\".charCodeAt(0))H.push(l[o++]);
else H.push(_)}for(var v=0;v<H.length;v+=2)u+=String.fromCharCode(H[v]<<8|H[v+1]);return u};x.a4W=function(l,o,D){var H=new Uint8Array(2);
for(var v=0;v<D.length;v++){x.Pi(H,0,D.charCodeAt(v));if(H[0]==")".charCodeAt(0)||H[0]=="(".charCodeAt(0)||H[0]=="\\".charCodeAt(0)){l[o]="\\".charCodeAt(0);
o++}l[o]=H[0];o++;if(H[1]==")".charCodeAt(0)||H[1]=="(".charCodeAt(0)||H[1]=="\\".charCodeAt(0)){l[o]="\\".charCodeAt(0);
o++}l[o]=H[1];o++}return o};x.ahS=function(l,o,D){l.tP(o,4*D.length);return x.a4W(l.data,o,D)};x.pg=function(l,o,D){var H="";
for(var v=0;v<D;v++){var _=l[o++]|l[o++]<<8;H+=String.fromCharCode(_)}return H};x.tm=function(l,o,D){var H="";
for(var v=0;v<D;v++){var _=l[o++]<<8|l[o++];H+=String.fromCharCode(_)}return H};x.aoG=function(l,o,D){for(var v=0;
v<D.length;v++){var H=D.charCodeAt(v);x.W8(l,o+2*v,H)}};x.ag6=function(l,o,D){for(var v=0;v<D.length;
v++){var H=D.charCodeAt(v);x.Pi(l,o+2*v,H)}};x.a57=function(l,o,D){l.tP(o,2*D.length);x.ag6(l.data,o,D)};
x.anJ=function(l,v,o){var D=[],H=0,_=0;o+=v;while(v<o){H=l[v++];if((H&128)==0)_=H;else if((H&224)==192){_=(H&31)<<6;
H=l[v++];_|=H&63}else if((H&240)==224){_=(H&15)<<12;H=l[v++];_|=(H&63)<<6;H=l[v++];_|=H&63}else if((H&248)==240){_=(H&7)<<18;
H=l[v++];_|=(H&63)<<12;H=l[v++];_|=(H&63)<<6;H=l[v++];_|=H&63}else throw"e";D.push(_)}return D};x.acF=window.TextDecoder?new window.TextDecoder("utf8"):null;
x.Fs=function(l,o,D){if(o==null)o=0;if(D==null)D=l.length;if(x.acF&&o==0&&D==l.length)return x.acF.decode(l);
var H=x.anJ(l,o,D),_=H.length;for(var v=0;v<_;v++)H[v]=String.fromCharCode(H[v]);return H.join("")};
x.aeS=window.TextEncoder?new window.TextEncoder("utf8"):null;x.fe=function(l){if(x.aeS)return x.aeS.encode(l);
var o=new Uint8Array(l.length*4),D=x.ma(l,o,0);return o.slice(0,D)};x.ma=function(l,o,D){var H=l.length,v=0;
for(var _=0;_<H;_++){var u=l.charCodeAt(_);if((u&4294967295-(1<<7)+1)==0){o[D+v]=u;v++}else if((u&4294967295-(1<<11)+1)==0){o[D+v]=192|u>>6;
o[D+v+1]=128|u>>0&63;v+=2}else if((u&4294967295-(1<<16)+1)==0){o[D+v]=224|u>>12;o[D+v+1]=128|u>>6&63;
o[D+v+2]=128|u>>0&63;v+=3}else if((u&4294967295-(1<<21)+1)==0){o[D+v]=240|u>>18;o[D+v+1]=128|u>>12&63;
o[D+v+2]=128|u>>6&63;o[D+v+3]=128|u>>0&63;v+=4}else throw"e"}return v};x.SM=function(l,o){var D=x.C(l,o),H=x.Fs(l,o+4,D-1);
return{lv:H,Cx:4+D}};x.a87=function(l,o){var D=x.K6(l,o),H=x.pg(l,o+4,D);return H};x.pY=function(l,o){var D=x.C(l,o),H=x.tm(l,o+4,D);
return H};x.VW=function(l,o){var D=x.C(l,o),H=x.tm(l,o+4,D-1);return H};x.aAq=function(l,o,D){x.Nu(l,o,D.length);
o+=4;x.aoG(l,o,D)};x.aji=function(l,o,D){x.Dn(l,o,D.length);o+=4;x.ag6(l,o,D)};x.Ac=function(l,o,D){l.tP(o,4+2*D.length);
x.aji(l.data,o,D)};x.a0M=function(l,o,D){l.tP(o,4+2*D.length);x.aAq(l.data,o,D)};x.PM=function(l,o,D){var H=[];
for(var v=0;v<D;v++)H.push(String.fromCharCode(l[o+v]));return H};x.a8r=function(l,o,D){var H=!1,_=l.length-D.length;
for(var v=o;v<_;v++){for(var u=0;u<D.length;u++){if(l[v+u]!=D.charCodeAt(u))break;if(u==D.length-1)return v}}};
x.Gk=function(l,o,D){var H="";for(var v=0;v<D;v++)H+=String.fromCharCode(l[o+v]);return H};x.RN=function(l,o,D){for(var v=0;
v<D.length;v++)l[o+v]=D.charCodeAt(v)};x.hZ=function(l,o,D){l.tP(o,D.length);x.RN(l.data,o,D)};x.apN=function(l,o,D){var H="";
for(var v=0;v<D;v++){var _=l[o+v];if(_<10)H+="  ";else if(_<100)H+=" ";H+=_+", "}return H};x.I9=function(l,o){return l[o]<<8|l[o+1]};
x.Pi=function(l,o,kC){l[o]=kC>>8&255;l[o+1]=kC&255};x.iE=function(l,o,kC){l.tP(o,4);x.Pi(l.data,o,kC)};
x.Ju=function(l,o){var D=x.I9(l,o),H=x.I9(l,o+2);return D+H*(1/65536)};x.awF=function(l,o,kC){var D=Math.floor(kC),H=Math.floor((kC-D)*65536);
x.Pi(l,o,D);x.Pi(l,o+2,H)};x.kk=function(l,o){return l[o+1]<<8|l[o]};x.W8=function(l,o,kC){l[o+1]=kC>>8&255;
l[o]=kC&255};x.Oy=function(l,o,kC){l.tP(o,4);x.W8(l.data,o,kC)};x.Kc=function(l,o){x.Wx[0]=l[o+1];x.Wx[1]=l[o];
return x.e4[0]};x.E_=function(l,o){x.Wx[0]=l[o];x.Wx[1]=l[o+1];return x.e4[0]};x.ry=x.Pi;x.Y0=x.iE;x.Kb=function(l,o){x.Is[0]=l[o+3];
x.Is[1]=l[o+2];x.Is[2]=l[o+1];x.Is[3]=l[o];return x.b2[0]};x.yS=function(l,o,kC){x.b2[0]=kC;l[o+3]=x.Is[0];
l[o+2]=x.Is[1];l[o+1]=x.Is[2];l[o+0]=x.Is[3]};x.aD=function(l,o,kC){l.tP(o,4);x.yS(l.data,o,kC)};x.YN=function(l,o,D,H){D[H+0]=l[o+0];
D[H+1]=l[o+1];D[H+2]=l[o+2];D[H+3]=l[o+3]};x.K6=function(l,o){x.YN(l,o,x.Is,0);return x.anC[0]};x.Nu=function(l,o,kC){x.anC[0]=kC;
x.YN(x.Is,0,l,o)};x.Xp=function(l,o,kC){l.tP(o,4);x.Nu(l.data,o,kC)};x.zJ=function(l,o){x.YN(l,o,x.Is,0);
return x.b2[0]};x.ass=function(l,o,kC){x.b2[0]=kC;x.YN(x.Is,0,l,o)};x.aod=function(l,o,kC){l.tP(o,4);
x.ass(l.data,o,kC)};x.C=function(l,o){var D=l[o]*(256*256*256)+(l[o+1]<<16|l[o+2]<<8|l[o+3]);return D};
x.Dn=function(l,o,kC){l[o]=kC>>24&255;l[o+1]=kC>>16&255;l[o+2]=kC>>8&255;l[o+3]=kC>>0&255};x.aG=function(l,o,kC){l.tP(o,4);
x.Dn(l.data,o,kC)};x.$Q=function(l,o){return x.C(l,o)<<32|x.C(l,o+4)};x.a0v=function(l,o,kC){x.Dn(l,o,kC>>16>>16);
x.Dn(l,o+4,kC&4294967295)};x.n9=function(l,o,kC){l.tP(o,8);x.a0v(l.data,o,kC)};x._k=function(l,o){var D=new Uint8Array(8);
for(var v=0;v<8;v++)D[v]=l[o+7-v];var H=new Float64Array(D.buffer);return H[0]};x.ul=function(l,o){var D=new Uint8Array(8);
for(var v=0;v<8;v++)D[v]=l[o+v];var H=new Float64Array(D.buffer);return H[0]};x.P0=function(l,o,kC){var D=new Float64Array(1);
D[0]=kC;var H=new Uint8Array(D.buffer);for(var v=0;v<4;v++){var _=H[v];H[v]=H[7-v];H[7-v]=_}for(var v=0;
v<8;v++)l[o+v]=H[v]};x.ux=function(l,o,kC){l.tP(o,8);x.P0(l.data,o,kC)};x.R1=function(l,o){x.Is[0]=l[o+3];
x.Is[1]=l[o+2];x.Is[2]=l[o+1];x.Is[3]=l[o+0];return x.Z4[0]};x.jV=function(l,o){x.Is[0]=l[o+0];x.Is[1]=l[o+1];
x.Is[2]=l[o+2];x.Is[3]=l[o+3];return x.Z4[0]};x.Fg=function(l,o,kC){x.Z4[0]=kC;l[o+0]=x.Is[3];l[o+1]=x.Is[2];
l[o+2]=x.Is[1];l[o+3]=x.Is[0]};x.ax4=function(l,o,kC){l.tP(o,4);x.Fg(l.data,o,kC)};x.m5=function(l,o,kC){x.Z4[0]=kC;
l[o+0]=x.Is[0];l[o+1]=x.Is[1];l[o+2]=x.Is[2];l[o+3]=x.Is[3]};x.apA=function(l,o,kC){l.tP(o,4);x.m5(l.data,o,kC)};
x.arS=function(l,o){var D=x.Kb(l,o),H=D*(1/(1<<24));return H};x.asM=function(l,o,D){var H=Math.floor(D*(1<<24));
x.yS(l,o,H)};x.aC2=function(l,o,D){l.tP(o,4);x.asM(l.data,o,D)};x.dQ=function(l,o){var D=l[o],H=x.Gk(l,o+1,D);
D+=1-D%2;return{QJ:H,length:D+1}};x.aAi=function(l,o,D){var H=D.length;l[o]=H;x.RN(l,o+1,D);if(H%2==0){l[o+1+H]=0;
++H}return H+1};x.AC=function(l,o,D){l.tP(o,D.length+2);return x.aAi(l.data,o,D)};x.qN=function(l,o){var D=new de;
D.M=x._k(l,o+0*8);D.J=x._k(l,o+1*8);D.oe=x._k(l,o+2*8);D.me=x._k(l,o+3*8);D.ip=x._k(l,o+4*8);D.nl=x._k(l,o+5*8);
return D};x.kK=function(l,o,D){x.P0(l,o+0*8,D.M);x.P0(l,o+1*8,D.J);x.P0(l,o+2*8,D.oe);x.P0(l,o+3*8,D.me);
x.P0(l,o+4*8,D.ip);x.P0(l,o+5*8,D.nl)};x.ak$=function(l,o,D){l.tP(o,48);x.kK(l.data,o,D)};x.ack=function(l,o){var D=x.R1(l,o),H=x.R1(l,o+4),_=x.R1(l,o+8),u=x.R1(l,o+12);
return new gt(D,H,_-D,u-H)};x.at9=function(l,o,D){x.Fg(l,o,D.x);x.Fg(l,o+4,D.y);x.Fg(l,o+8,D.x+D.Q);
x.Fg(l,o+12,D.y+D._)};x.ar7=function(l,o,D){l.tP(o,16);x.at9(l.data,o,D)};x.m3=function(l,o){var D=x.Kb(l,o),H=x.Kb(l,o+4),_=x.Kb(l,o+8),u=x.Kb(l,o+12);
return new gt(H,D,u-H,_-D)};x.aAl=function(l,o,D){x.yS(l,o,D.y);x.yS(l,o+4,D.x);x.yS(l,o+8,D.y+D._);
x.yS(l,o+12,D.x+D.Q)};x.Qi=function(l,o,D){l.tP(o,16);x.aAl(l.data,o,D)};x.eY=function(l,o,D){var H=new Uint8Array(D);
for(var v=0;v<D;v++)H[v]=l[o+v];return H};x.ash=function(l,o,D){l.set(D,o)};x.bm=function(l,o,D){l.tP(o,D.length);
x.ash(l.data,o,D)};x.abi=function(l,o,D,kC){if(!kC)kC=1;for(var v=0;v<kC;v++)l[o+v]=D};x.TZ=function(l,o,D,kC){if(!kC)kC=1;
l.tP(o,kC);x.abi(l.data,o,D,kC)};x.e4=new Int16Array(1);x.Wx=new Uint8Array(x.e4.buffer);x.b2=new Int32Array(1);
x.anC=new Uint32Array(x.b2.buffer);x.Is=new Uint8Array(x.b2.buffer);x.Z4=new Float32Array(x.b2.buffer);
function bn(){}bn.x2=function(l,o){var D=new Uint8Array(l),H=0,_=x.Gk(D,H,9),h=4,F=100;H+=9;var u=x.Gk(D,H,4);
H+=4;H++;o.Q=x.C(D,H);H+=4;o._=x.C(D,H);H+=4;var S=x.C(D,H);H+=4;if(S!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(u)==-1){F=x.C(D,H);H+=4;if(parseInt(u.slice(1))>=7){F=F}else alert("Unknown XCF version: "+u);
h=8}var n={};H=bn.qs(D,H,n);var R=[];H=bn.rL(D,H,R,h);var s=[];H=bn.rL(D,H,s,h);o.xX=0;for(var v=0;v<R.length;
v++)bn.ay9(D,R[v],o,n,h,F);while(o.xX>0){o.R.push(o.k0());o.xX--}o.R.reverse();delete o.xX;o.buffer=g.o(o.Q*o._*4);
if(o.R.length==0)console.log("No layers!!!");for(var v=0;v<s.length;v++){var Z=bn.a3D(D,s[v],n,h,F);
if(Z.Iw[kg.apr])o.f={channel:Z.n2,rect:new gt(0,0,o.Q,o._)}}};bn.ay9=function(l,o,D,H,_,u){var S=D.O7(),h=x.C(l,o),s=0;
o+=4;var F=x.C(l,o);o+=4;S.rect=new gt(0,0,h,F);var n=x.C(l,o);o+=4;var R=x.SM(l,o);o+=R.Cx;S.FH(R.lv);
var Z={};o=bn.qs(l,o,Z);if(Z[kg.aBy]){var O=Z[kg.aBy];s=O.length/4-1}if(Z[kg.FK]){S.rect.x=x.Kb(Z[kg.FK],0);
S.rect.y=x.Kb(Z[kg.FK],4)}if(Z[kg.avX]){S.opacity=x.C(Z[kg.avX],0)}if(Z[kg.a67]){S.add.lsct=jl.VV;S.XL=24}if(Z[kg.a24]){var w=x.C(Z[kg.a24],0);
S.TY=kg.a5W[w];if(S.Cl()&&S.TY=="norm")S.TY="pass"}if(Z[kg.a6V]){if(x.C(Z[kg.a6V],0)==0)S.XL+=2}if(Z[kg.aog]){var m=x.C(Z[kg.aog],0);
S.add.lsct=m&1==1?jl.VV:jl.qb}if(Z[kg.Z7]){var V=Z[kg.Z7];for(var q in V){var i=V[q];if(q=="gimp-text-layer"){var c=bn.acC(i),z=c.text,B=c.font,t=c.color,a=c["font-size"];
if(z==null&&c.markup){var I=new DOMParser,N=I.parseFromString(c.markup,"image/svg+xml");while(N.firstChild!=null&&N.firstChild.tagName!=null){N=N.firstChild;
var J=N.getAttribute("font"),Q=N.getAttribute("foreground"),A=N.getAttribute("size");if(J!=null)B=J;
if(Q!=null){Q=CSS.Bc(Q);t=[1,Q.$/255,Q.H/255,Q.J/255]}if(A!=null){a=""+parseFloat(A)/245}}z=N.textContent}S.add.lnsr="rend";
S.add.TySh=fX.D2(0,0);S.add.TySh.g6=new gt(0,0,100,100);S.add.TySh.h=new de(1,0,0,1,S.rect.x,S.rect.y);
var f=S.add.TySh.PF;fX.yQ(f,0,z);var W=fX.eF(f,0,0),C=c.justify,j=c["line-spacing"];if(t)W.i7.FillColor={Type:1,Values:[1,parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])]};
if(a){a=Math.round(parseFloat(a));W.i7.FontSize=a;S.add.TySh.h.nl+=Math.min(17,a*.17)}if(j){j=Math.round(parseFloat(j)+W.i7.FontSize*1.2);
W.i7.Leading=j;W.i7.AutoLeading=!1}if(C)W.z5.Justification=["left","right","center","fill"].indexOf(C);
if(B&&B!="Sans-serif"){var K=B.toLowerCase(),$="bold italic semi extra regular condensed light".split(" "),r=K.length;
for(var v=0;v<$.length;v++){var U=K.indexOf($[v]);if(U!=-1&&U<r&&K[U-1]==" ")r=U}if(r!=K.length)B=B.slice(0,r-1).split(" ").join("")+"-"+B.slice(r).split(" ").join("");
fX.LQ(W,B)}fX.fn(f,0,z.length,W);var b=c["box-width"],e=c["box-height"],P=b?parseFloat(b):S.rect.Q,L=e?parseFloat(e):S.rect._;
fX.aM(f,1);fX.nP(f,[0,0,Math.ceil(P),Math.ceil(L)])}else console.log("Unknown property "+q)}}while(D.xX>s){D.R.push(D.k0());
D.xX--}D.xX=s;if(S.add.lsct==jl.VV||S.add.lsct==jl.qb)D.xX++;var Y=_==4?x.C:x.$Q,X=Y(l,o);o+=_;var G=Y(l,o);
o+=_;if(S.mF()){S.buffer=g.o(S.rect.c()*4);var E=new g.Q9(S.rect.c());bn.aec(l,X,E,H,_,u);g.xQ(E,S.buffer)}if(G!=0){S.I=new d.ow;
var T=bn.a3D(l,G,H,_,u);S.I.channel=T.n2;S.I.rect=S.rect.clone();if(Z[kg.aul])S.I.isEnabled=x.C(Z[kg.aul],0)==1;
S.I.color=S.I.channel[0];S.I.Hf()}if(S.Cl())S.rect=new gt;D.R.push(S)};bn.acC=function(l){var o="("+x.Fs(l,0,l.length-1)+")",D=[],H={};
bn.aAk(o,1,D);bn.a6B(D,H);return H};bn.a6B=function(l,o){for(var v=0;v<l.length;v++){var D=l[v],H=D[0];
if(D.length==2)o[H]=D[1];else o[H]=D.slice(1)}};bn.aAk=function(l,o,D){while(!0){if(o>=l.length)throw"e";
var H=l.charAt(o);o++;if(H=="("){var _=[];o=bn.aAk(l,o,_);D.push(_)}else if(H==" "||H=="\n"||H=="\r"){}else if(H==")")return o;
else if(H=="\""){var u=o;while(!0){var S=l[o];o++;if(S=="\"")break;if(S=="\\")o++}D.push(JSON.parse(l.slice(u-1,o)))}else{var u=o-1;
while(l[o]!=" "&&l[o]!=")")o++;D.push(l.slice(u,o))}}};bn.a3D=function(l,o,D,H,_){var u=x.C(l,o);o+=4;
var S=x.C(l,o);o+=4;var h=x.SM(l,o);o+=h.Cx;var F={};o=bn.qs(l,o,F);var n=new g.Q9(u*S),R=H==4?x.C:x.$Q,s=R(l,o);
o+=H;bn.aec(l,s,n,D,H,_);return{n2:n.$,Iw:F}};bn.aec=function(l,o,D,H,_,u){var S=x.C(l,o);o+=4;var h=x.C(l,o);
o+=4;var F=x.C(l,o);o+=4;var n=_==4?x.C:x.$Q,R=n(l,o);o+=_;bn.a7H(l,R,D,H,F,_,u)};bn.a7H=function(l,o,D,H,_,u,S){var h=x.C(l,o),R=0,v=0;
o+=4;var F=x.C(l,o);o+=4;var n=new gt(0,0,h,F);if(S==100||S==150)R=1;else if(S==200||S==250)R=2;else if(S==300||S==350)R=4;
else if(S==500||S==550)R=2;else if(S==600||S==650)R=4;else if(S==700||S==750)R=8;else{alert("unsupported bit depth "+S);
throw"e"}var s=_/R,R=Math.round(_/s),Z=[];o=bn.rL(l,o,Z,u);var O=new g.Q9(64*64*R),w=new gt,m=H[kg.apR][0],V=[O.$,O.H,O.J,O.M];
if(s==3)O.M.fill(255);var q=Date.now();if(Z.length!=0)for(var i=0;i<F;i+=64)for(var c=0;c<h;c+=64){var z=Math.min(h-c,64),B=Math.min(F-i,64),t=z*B;
w.pN(c,i,z,B);bn.ahX(l,Z[v++],t*R,m,s,V);if(S==100||S==150){}else if(S==250){for(var a=0;a<s;a++){var I=V[a];
for(var N=0;N<t;N++){var J=I[N]<<8|I[t+N];I[N]=Math.min(J>>>8,255)}}}else if(S==600){var Q=bn.aAC(),A=new Uint32Array(1),f=new Float32Array(A.buffer);
for(var a=0;a<s;a++){var I=V[a];for(var N=0;N<t;N++){A[0]=I[N]<<24|I[t+N]<<16|I[(t<<1)+N]<<8|I[(t<<1)+t+N]<<0;
var W=f[0];if(W<0)W=0;else if(W>1)W=1;I[N]=Q[~~(.5+W*1e3)]}}}else console.log("unknown data format",S);
g.Lv(O,w,D,n)}};bn.aAC=function(){var l=bn.amI;if(l!=null)return l;l=bn.amI=new Uint8Array(1001);for(var v=0;
v<1001;v++)l[v]=~~(.49+255*g.Xf(v*.001));return l};bn.ahX=function(l,o,D,H,_,u){if(H==1){for(var S=0;
S<_;S++){var h=u[S],F=0;while(F<D){var kC=l[o];o++;if(kC<127){var n=l[o];o++;kC++;for(var v=0;v<kC;v++)h[F+v]=n}else if(kC==127){var R=l[o];
o++;var s=l[o];o++;var n=l[o];o++;kC=R<<8|s;for(var v=0;v<kC;v++)h[F+v]=n}else if(kC==128){var R=l[o];
o++;var s=l[o];o++;kC=R<<8|s;for(var v=0;v<kC;v++)h[F+v]=l[o+v];o+=kC}else{kC=256-kC;for(var v=0;v<kC;
v++)h[F+v]=l[o+v];o+=kC}F+=kC}}}else if(H==2){var Z=pako.inflate(l.slice(o)),O=Math.round(Z.length/D);
for(var v=0;v<D;v++){var w=v*O;u[0][v]=Z[w];u[1][v]=Z[w+1];u[2][v]=Z[w+2];u[3][v]=O==3?255:Z[w+3]}}else alert("Unknown compression "+H)};
bn.rL=function(l,o,D,H){var _=H==4?x.C:x.$Q;while(!0){var u=_(l,o);o+=H;if(u==0)break;else D.push(u)}return o};
bn.qs=function(l,o,D){while(!0){var H=x.C(l,o);o+=4;var _=x.C(l,o);o+=4;if(H==kg.aBG)break;else if(H==kg.Z7)D[H]=bn.a8B(l,o,o+_);
else D[H]=x.eY(l,o,_);o+=_}return o};bn.a8B=function(l,o,D){var H={};while(o<D){var _=x.SM(l,o);o+=_.Cx;
var u=x.C(l,o);o+=4;if(u!=1)console.log("unknown flags",u);var S=x.C(l,o);o+=4;H[_.lv]=x.eY(l,o,S);o+=S}return H};
var kg={aBG:0,aeU:1,a0g:2,aoz:3,apr:4,a75:5,avX:6,a24:7,a6V:8,ad_:9,a1Z:10,aul:11,a3t:12,a5S:13,ahC:14,FK:15,a0h:16,apR:17,aE7:18,avT:19,adx:20,Z7:21,aCR:22,a0q:23,avU:24,ahQ:25,a5z:26,aqF:27,atd:28,a67:29,aBy:30,aog:31,aoB:32,a4R:33,a6U:34,anh:35,aj0:36,ayg:37,aDG:38,a4z:0,apy:1,acm:2,ajo:3,a88:1,a1q:2,ald:0,arg:1,a0V:1};
kg.a5W="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var ah=function(){var l=!1,o,D,q=0,z;function H(){var a=x.Gk(o,D,4);D+=4;return a[3]+a[2]+a[1]+a[0]}function _(){var a=x.Gk(o,D,4);
D+=4;return a}function u(){var a=o[D];D+=1;return a}function S(){var a=x.kk(o,D);D+=2;return a}function h(){var a=x.K6(o,D);
D+=4;return a}function F(){var a=x.zJ(o,D);D+=4;return a}function n(){var a=x.K6(o,D);D+=8;return a}function R(){var a=x.jV(o,D);
D+=4;return a}function s(){var a=x.ul(o,D);D+=8;return a}function Z(){var a=x.kk(o,D),I=x.Fs(o,D+2,a);
D+=2+a;return I}function O(){var a=x.K6(o,D),I=x.Fs(o,D+4,a);D+=4+a;return I}function w(a){D=a;var I=[];
while(D!=0){var N=_();if(N!="#FT4"&&N!="#FT3"&&N!="#FT2")throw N;var J=n(),Q=n(),A=n(),f=n(),W=n(),C=h(),j=h(),K=h(),$=S(),r=u(),U={};
I.push(U);for(var v=0;v<C;v++){var b=h(),e=u();if(e!=0&&e!=1&&e!=2)throw e;var P=[];if(e==0||e==1){var L=n(),Y=n(),X=n(),G=h(),E=u(),T=h(),y=N!="#FT4"?0:h(),d4=null;
if(N=="#FAT"||N=="#FT2"){switch(E){case 1:E=1;break;case 2:E=65;break;case 3:E=129;break;case 4:E=193;
break;default:E=0;break}}if(e==0)d4=Z();P=[L,Y,X,E,d4]}U["i"+b]=[e,P]}for(var v=0;v<$;v++){var dH=S(),eV=S(),bf=n(),jd=x.Gk(o,D,dH);
D+=dH}D=J}I.reverse();for(var i5=1;i5<I.length;i5++){var U=I[i5],fD=I[i5]=JSON.parse(JSON.stringify(I[i5-1]));
for(var eo in U){var iX=U[eo];if(iX[0]==0)fD[eo]=iX;else if(iX[0]==1){iX[1][4]=fD[eo][1][4];fD[eo]=iX}else if(iX[0]==2)delete fD[eo]}}var cK=I.pop(),g0=[];
for(var eo in cK)g0.push(cK[eo][1]);g0.sort(function(bW,hF){return bW[0]-hF[0]});return g0}function m(a,I,N,J){while(D<o.length){var Q=u(),C=null;
if(Q==0){if(J){var A=u();if(A!=2){var f=H()}if(A==0)D+=4;J=!1;continue}else{break}}var W=H();if(l)console.log("  ".repeat(I),Q,Q&127,W,a._type);
if(Q>127)C=V(Q,I,N);else C=i(Q,I,N);if(l)console.log("  ".repeat(I),C);a[W]=C}}function V(a,I,N){var J=[];
a=a&127;if(a==43)D+=4;var Q=h();if(a==50){var A=H(),f=S();if(f!=1)throw"e";for(var v=0;v<Q;v++){var W={_status:"NotShared",_type:A};
J.push(W);var C=u();if(C!=0&&C!=1)throw C;m(W,I+1,N)}}else if(a==41){if(Q>8)throw Q;for(var v=0;v<Q;
v++)J.push((o[D]>>>v&1)==1);D++}else for(var v=0;v<Q;v++){J.push(i(a,I,N,v!=0));if(a==42)a=2}return J}function i(a,I,N,J){var Q=null;
if(a==49){Q={};var A=u();if(A!=0){var f=h();if(N==null){Q._id=f;Q._status=["Shared","Link"][A-1]}if(N&&A==2)Q=N[f];
if(A==1){if(N)N[f]=Q;var W=u(),C=!1;if(W>1)throw W;Q._type=H();if(l)console.log("  ".repeat(I),"new",Q._type,W,D);
if(W==0){while(!0){var j=S();if(j!=0&&j!=1&&j!=2&&j!=3&&j!=4)throw j;if(o[D]!=0){C=!0;break}var K=S();
if(K==512)break;var $=H();if(K==256)break}}m(Q,I+1,N,C)}}}else if(a==50){Q={_status:"NotShared"};if(u()==1){Q._type=H();
D+=2;m(Q,I+1,N)}}else if(a==1)Q={type:"byte",value:u()};else if(a==2)Q={type:"uint16",value:S()};else if(a==3)Q={type:"uint32",value:h()};
else if(a==4)Q={type:"uint64",value:n()};else if(a==7)Q={type:"int32",value:F()};else if(a==8)Q={type:"int64",value:n()};
else if(a==9)Q={type:"float32",value:R()};else if(a==10)Q={type:"float64",value:s()};else if(a==21)Q={type:"Vec2i",value:[h(),h()]};
else if(a==23)Q={type:"Vec4i",value:[h(),h(),h(),h()]};else if(a==33)Q={type:"Vec4f",value:[R(),R(),R(),R()]};
else if(a==36)Q={type:"Vec2",value:[s(),s()]};else if(a==38)Q={type:"Vec4",value:[s(),s(),s(),s()]};
else if(a==40)Q={type:"Vec6",value:[s(),s(),s(),s(),s(),s()]};else if(a==41)Q={type:"bool",value:u()!=0};
else if(a==42)Q={type:"Enum",value:h()};else if(a==43)Q={type:"string",value:O()};else if(a==44){if(J!=!0)q=S();
Q={type:"curv16",value:[s(),q==12?[u(),u(),u(),u()]:[h(),h()]]}}else if(a==45){var r=h();Q={type:"buff",value:o.slice(D,D+r)};
D+=r}else if(a==47){Q={type:"uint32",value:h()}}else if(a==48){var U=[],b=S();if(b!=1)throw b;while(!0){if(o[D]==135){var e=V(u(),I+1,N),P=V(u(),I+1,N),L=V(u(),I+1,N);
U.push([e,P,L])}else{var Y=1;if(o[D]==3){u();Y=h()}for(var v=0;v<Y;v++){if(u()!=41)throw"e";var f=u();
if(f!=0&&f!=1)throw f;if(u()!=172)throw"e";var X=h(),G=S(),E=[];U.push(E);if(G!=18)throw G;if(X>4e3)throw X;
for(var T=0;T<X;T++)E.push([s(),s(),u(),u()])}}if(o[D]==0){D++;break}}Q={type:"curve",value:U}}else if(a==51){Q={type:"EmbeddedData"};
Q[H()]=O()}else if(a==52)Q={type:"uint32",value:h()};else if(a==56)Q={type:"Color32",value:[u(),u(),u(),u()]};
else if(a==60)Q={type:"ColorGRAY",value:[R(),R()]};else if(a==68)Q={type:"ColorRGBA",value:[R(),R(),R(),R()]};
else if(a==72)Q={type:"ColorCMYK",value:[R(),R(),R(),R(),R()]};else{throw a}return a==49||a==50||a==51?Q:Q.value}function c(a){var I=0,N=a.length;
for(var v=0;v<N;v+=4){a[v]=I=I+a[v];a[v+1]=I=I+a[v+1];a[v+2]=I=I+a[v+2];a[v+3]=I=I+a[v+3]}}function B(a){o=a;
D=4;var I=h(),N=_();if(N!="nsrP")throw N;var N=_();if(N!="#Inf")throw N;var J=n();z=n();var Q=n(),A=n(),f=n(),W=h(),C=h(),N=_();
if(N!="Prot")throw N;var W=h(),j=w(J),K={},$=Date.now();for(var r=0;r<j.length;r++){var U=j[r],b=U[3],X=null;
D=U[0];var N=_();if(N!="#Fil")throw N;var e=b>>>5&1,P=b&3,L=b&192;switch(L){case 64:L=1;e=0;break;case 128:L=2;
break;case 192:L=3;break;default:L=0;e=0}var Y=new Uint8Array(o.buffer,D,U[2]);if(P==0)X=Y;else if(P==1)X=pako.inflate(Y);
else if(P==2)X=fj.ar.hW(Y,U[1]);else throw P;if(e==0){if(L==1)c(X);if(L==2)throw"e"}else if(e==1){if(L==2)c(X);
else throw L}else throw e;K[U[4]]=X}return K}function t(a){var I=B(new Uint8Array(a));o=I["doc.dat"];
D=16;var N={};m(N,0,[]);return[I,N,z]}return{afD:t}}();function iL(){}iL.x2=function(){function l(m,V){var q=Date.now(),i=ah.afD(m),c=i[0],z=i[1],B=i[2],t=z.DocR,a=t.DfSz,I=t.Chld;
if(I.length!=1)console.log(I);var N=I[0],J=N.SprB;I=N.Chld;if(J){V.Q=~~J[2];V._=~~J[3]}else{V.Q=1920;
V._=1080}V.buffer=g.o(V.Q*V._*4);var Q=[0,{}];for(var v=0;v<I.length;v++)u(I[v],V,c,new de,Q,[],0);V.sp(Q[0]);
console.log(Date.now()-q,"Document created");q=Date.now()}function o(m){return new de(m[0],m[3],m[1],m[4],m[2],m[5])}function D(m,V){var q=V.Xfrm;
q=q?o(q):new de;q.concat(m);return q}function H(m){var V={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[m];
return V?V:"norm"}function _(m,V){var q=m[V],i=m.DsMa;if(q==null&&i)q=i[V];return q}function u(m,V,q,i,c,z,B){var t=m._type,a=m.Chld,I=V.O7();
I.FH(m.Desc==null||m.Desc==""?t=="Grup"?"Folder":"Layer":m.Desc);var N=_(m,"Visi");if(N!=null)I.rm(N);
var J=_(m,"Opac");if(J!=null)I.opacity=Math.round(255*J);var Q=_(m,"FOpc");if(Q!=null)I.add.iOpa=Math.round(255*Q);
var A=_(m,"Blnd");if(A!=null)I.TY=H(A);if(m.BFFl&&m.BFFl[0])z.push(m.BFFl[0]);var f=D(i,m),W=t=="ShpN"||t=="PCrv";
if(a){V.R.push(V.k0());I.add.lsct=jl.VV;if(I.TY=="norm")I.TY="pass";I.XL=24;if(N!=null)I.rm(N);if(t=="ShpN"&&B==0){var C=m.ShpB;
I.Hh(new gt(C[0]+f.ip,C[1]+f.nl,Math.round(f.M*(C[2]-C[0])),Math.round(f.me*(C[3]-C[1]))));c[0]++;I.add.artb.Clr={t:"Objc",v:g.G.XF({$:255,H:255,J:255})};
var j=z[0];for(var v=0;v<z.length;v++)if(z[v].FDeF._type!="FilN")j=z[v];if(j.FDeF._type=="FilS"){I.add.artb.Clr=n(j.FDeF.Colr);
I.add.artb.artboardBackgroundType.v=4}}var K=m.Shpe?m:null;if(K==null)K=m.DsMa&&m.DsMa.Shpe?m.DsMa:null;
if(K){var $=h(K);if($.d.length!=7){I.add.vmsk=$;g.n.Am($.d,f);I.Xv();I.C$(V)}}for(var v=0;v<a.length;
v++)u(a[v],V,q,f,c,z,B+1)}else if(t=="Rstr"||t=="ImgN"||t=="MRst"){var r=_(m,"Bitm"),U=r.Bckg,b=Date.now(),e;
if(U==null){e=s(r,q,c[1]);I.rect=e[2].clone();I.buffer=e[1].slice(0);I.rect.x+=f.ip;I.rect.y+=f.nl}if(U||f.jX()!=1){var P,L=0,Y=0;
if(U){var X=q[U.Data],G=x.ZY(X,"ataD")+4,E=x.K6(X,G);G+=4;P=X.slice(G,G+E)}else{L=I.rect.x-f.ip;Y=I.rect.y-f.nl;
if(e[3]==null)e[3]=new Uint8Array(fj.rU("PNG").MJ([[I.buffer.buffer]],I.rect.Q,I.rect._));P=e[3].slice(0)}var T=V.M9(P,I.getName(),0,0);
T.XL=I.XL;T.opacity=I.opacity;I=T;var y=new de;y.translate(L,Y);y.concat(f);var d4=I.rect.clone();d4.x=d4.y=0;
var dH=g.X.YZ(d4).s;g.X.h(dH,y,dH);I.add.SoLd.Trnf=p.cA.y3(dH);I.add.SoLd.nonAffineTransform=p.cA.y3(dH);
I.mP(V,!1)}}else if(t=="TxtA"||t=="TxtF"){I.add.lnsr="rend";I.add.TySh=fX.D2(0,0);I.add.TySh.g6=new gt(0,0,100,100);
var eV=m.TxtH?m:m.DsMa,bf=eV.TxtH.FrmB,jd=1,i5=1,fD=I.add.TySh.h=new de,bW=0;fD.translate(bf[0],bf[1]);
fD.concat(f);if(t=="TxtF"){var eo=Math.atan2(-fD.J,fD.M);fD.rotate(-eo);jd=fD.M;i5=fD.me;fD.me=fD.M=1;
fD.rotate(eo)}var iX=I.add.TySh.PF,cK=eV.StSt;if(cK==null)cK=eV.StMa.StSt;var g0=cK.Blok;if(g0.length!=1)throw"e";
for(var hF=0;hF<g0.length;hF++){var aJ=g0[hF],iR=bW,ex=0,dX=aJ.Glyp.Utf8;if(dX==null)continue;dX=dX.replace(/\u2028/g,"\n");
dX=dX.replace(/\u2029/g,"\n");dX=dX.slice(0,dX.length-1);if(dX=="")continue;I.FH(dX.slice(0,255));fX.yQ(iX,bW,dX);
bW+=dX.length;var iZ=aJ.GAtt.Runs,j3=aJ.PAtt.Runs[0],by=j3.Item.Ints[0];for(var i9=0;i9<iZ.length;i9++){var dm=iZ[i9],kh=dm.Indx,jK=dm.Item,bd=jK.Objs,dz=fX.eF(iX,iR,1);
dz.z5.Justification=by==0?0:by==1?2:1;fX.LQ(dz,jK.DFnt.Post);dz.i7.FontSize=jK.Doub[0];for(var v=0;v<bd.length;
v++){var dw=bd[v];if(dw._type=="FDsc"){var ev=dw.FDeF;if(ev._type=="FilS"){var aq=R(ev.Colr);dz.i7.FillColor={Type:1,Values:[1,aq[0],aq[1],aq[2]]}}}}fX.fn(iX,iR+ex,iR+Math.min(kh,dX.length),dz);
ex=kh}}fX.aM(iX,1);fX.nP(iX,[0,0,Math.round((bf[2]-bf[0])*jd*1.02),Math.round((bf[3]-bf[1])*i5*1.2)]);
V.hU=!0}else if(W){I.XL|=16;var e3=I.add.vstk=cq.K$.ts(!0),$=I.add.vmsk=h(m);g.n.Am($.d,f);var j=z[0];
for(var v=0;v<z.length;v++)if(z[v].FDeF._type!="FilN")j=z[v];if(j){var a9=j.FDeF,e0=a9._type;if(e0=="FilS")I.add.SoCo={classID:"null",Clr:n(a9.Colr)};
else if(e0=="FilG"){var as=I.add.GdFl=JSON.parse(cq.Rq[cq.order.indexOf("GrFl")]);F(j,as,g.n.kU($.d))}else if(e0=="FilN"){I.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.G.XF({$:0,H:0,J:0})}};
e3.fillEnabled.v=!1}else console.log(e0)}if(m.LILn){var eK=m.LILn[0].LDeL,gh=eK.Wght;if(gh!=0){e3.strokeEnabled.v=!0;
e3.strokeStyleLineWidth.v.val=gh;var a9=m.LIFl[0].FDeF,e0=a9._type;if(e0=="FilS")e3.strokeStyleContent.v.Clr=n(a9.Colr);
else if(e0=="FilN")e3.strokeEnabled.v=!1}}I.Xv();I.C$(V)}else if(t=="RcRA"){var gx=m.AdjP,gc="hue2",kQ=I.add[gc]=at.ts(gc);
S(kQ,gx)}else console.log(t);var dn=m.AdCh,bQ=[];if(dn)for(var v=0;v<dn.length;v++){var iK=dn[v],cJ=iK._type;
if(cJ=="ShpN"||cJ=="PCrv"){var $=I.add.vmsk=h(iK),i1=D(f,iK);g.n.Am($.d,i1);I.Xv();I.C$(V)}else if(iK.AdjP){var gx=iK.AdjP,bu=gx._type;
console.log(bu);var gi={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[bu];
if(gi==null){console.log(gx);continue}var iv=at.If(gi,{});bQ.push(iv);var kQ=iv.v.Fltr.v;if(bu=="LevP"){var d0=el.$m(kQ,0);
d0[0]=gx.OutB*255;d0[1]=gx.OutW*255;el.sQ(kQ,0,d0)}else if(bu=="WhBP"){var d0=el.$m(kQ,2);d0[4]=100+gx.WBTi*20;
el.sQ(kQ,2,d0);var d0=el.$m(kQ,3);d0[4]=100+gx.WBTi*200;el.sQ(kQ,3,d0)}else if(bu=="HSSP"){var d0=gT.$m(kQ,0);
d0[0]=Math.round(gx.HueA*256);d0[1]=Math.round(gx.SatA*256);d0[2]=Math.round(gx.LumA*256);gT.sQ(kQ,0,d0)}else if(bu=="RecP"){S(kQ,gx)}else if(bu=="B&CP"){kQ.Brgh.v=Math.round(gx.Brig*100);
kQ.Cntr.v=Math.round(gx.Ctrs*100-100)}else if(bu=="PosP"){kQ.Lvls.v=gx.Post}else if(bu=="VibP"){kQ.vibrance.v=gx.Vibr-100;
kQ.Strt.v=Math.round(gx.Satu*100)}else if(bu=="ExpP"){kQ.Exps.v=gx.Expo;kQ.gammaCorrection.v=gx.Gamm/2.2}else if(bu=="ThrP"){kQ.Lvl.v=Math.round(gx.Thre*255)}else if(bu=="CrvP"){var af=gx.Mast["Cnt "],eY=gx.Mast.Vals,d0=hR.$m(kQ,0),hV=d0[0];
for(var i$=0;i$<af;i$++){var cz=d0[i$]=JSON.parse(JSON.stringify(hV));cz.v.Hrzn.v=Math.round(eY[i$]*255);
cz.v.Vrtc.v=Math.round(eY[4+i$]*255)}hR.sQ(kQ,0,d0)}}else console.log(iK)}if(bQ.length!=0&&I.add.SoLd){I.add.SoLd.filterFX=at.B3();
V.Cy({id:I.add.SoLd.placed.v,rect:new gt,buffer:g.o(1),I:new d.ow});I.add.SoLd.filterFX.v.filterFXList.v=bQ;
I.mP(V,!1)}var fk=m.FiEf;if(fk&&fk.length!=0){var ee=I.add.lmfx=JSON.parse(cq.default);for(var v=0;v<cq.order.length;
v++)ee[cq.lZ[v]]={t:"VlLs",v:[]};for(var aC=0;aC<fk.length;aC++){var cI=fk[aC],cZ=cI._type,ad={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[cZ],as=ad?JSON.parse(cq.Rq[cq.order.indexOf(ad)]):null,j0=1;
if(cZ=="ColO"){as.Clr=n(cI.Colr)}else if(cZ=="GrdO"){F(cI.GrFl,as)}else if(cZ=="Shad"||cZ=="InnS"||cZ=="OutG"||cZ=="InnG"){as.Clr=n(cI.Colr);
as.blur.v.val=Math.round(cI.Radi);var cX=cI.Comp;if(cX!=null){if(cX>.5)j0=1-.5*(cX-.5);else as.Ckmt.v.val=Math.round(100*(.5-cX))}if(cI.Offs!=null){as.Dstn.v.val=cI.Offs;
as.lagl.v.val=Math.round(180-cI.Angl*180/Math.PI);as.uglg.v=!1}}else if(cZ=="Strk"){if(cI.Ftyp==0)as.Clr=n(cI.Colr);
else{F(cI.GrFl,as);as.PntT.v.FrFl="GrFl"}as.Sz.v.val=Math.round(cI.Radi)}else if(cZ=="PhgB"||cZ=="BevE"){as.blur.v.val=Math.round(cI.Radi);
if(cZ=="BevE")as.bvlS.v.BESl="PlEb"}else if(cZ=="Gaus"){if(W&&cI.Enab){I.add.vmsk.L4=cI.Radi/2.4;I.add.vmsk.cF=!0;
I.Xv();I.C$(V)}}if(ad){as.enab.v=cI.Enab;if(as.Md&&cI.BlnM!=null)as.Md.v.BlnM=b2.De(H(cI.BlnM));if(as.Opct&&cI.Opac!=null)as.Opct.v.val=Math.round(j0*cI.Opac*100);
var bY=cq.lZ[cq.order.indexOf(ad)];ee[bY].v.unshift({t:"Objc",v:as})}}}if(m.BFFl&&m.BFFl[0])z.pop();
V.R.push(I)}function S(m,V){m.Clrz.v=!0;var q=gT.$m(m,0);q[0]=Math.round(V.RecH*360);q[1]=Math.round(V.RecS*100);
q[2]=Math.round(V.RecL*100);gT.sQ(m,0,q)}function h(m){var V=new d.dO,q=m._type;if(m.ShpB==null&&m.Crvs==null)m=m.DsMa;
if(q=="PCrv"){var i=m.Crvs.Data,c=[],z=[];for(var v=0;v<i.length;v++){var B=i[v],t=B.length%3;if(t!=1){B=t==2?B[0][2]!=0?B.slice(0,B.length-1):B.slice(1):B.slice(1,B.length-1)}for(var a=0;
a<B.length;a++){var I=B[a],N=I[2];if(N!=0)c.push(a==0?"M":"C");z.push(I[0],I[1])}}V.d=g.X.Op({s:z,v:c},!0)}else{var J=m.ShpB,Q=m.Shpe,A=Q._type,f=J[2]-J[0];
if(A=="ShpE"){V.d=g.n.Rd.lY(J[0],J[1],J[2]-J[0],J[3]-J[1])}else if(A=="ShNR"){var W=[0,0,0,0];if(Q.CTyp){W=Q.ShCR.slice(0);
for(var v=0;v<4;v++)W[v]*=J[2]-J[0];for(var v=1;v<4;v++)W[v]=W[0]}V.d=g.n.Rd.Rect(J[0],J[1],J[2]-J[0],J[3]-J[1],W)}else if(A=="ShpT"){V.d=g.X.Op({v:["M","L","L","Z"],s:[J[0],J[3],J[2],J[3],J[0]+f*.5,J[1]]},!0)}else if(A=="ShTz"){V.d=g.X.Op({v:["M","L","L","L","Z"],s:[J[0]+f*Q.PosL,J[1],J[0]+f*Q.PosR,J[1],J[2],J[3],J[0],J[3]]},!0)}else{console.log("--",A);
V.d=g.n.Rd.Rect(J[0],J[1],J[2]-J[0],J[3]-J[1],[0,0,0,0])}}return V}function F(m,V,q){var i=m.FDeF,c=m.FDeX;
if(c)c=o(c);var z=i.Grad,B=z.Cols;V.Type.v.GrdT=i.Type==0?"Lnr":"Rdl";var t=[];for(var v=0;v<B.length;
v++){var a=R(B[v]);t.push([z.Posn[v][0],a])}V.Grad.v.Intr.v=0;g.G.Ky(t,V.Grad.v);var I=z.Posn,N=new he(I[0][0],I[0][1]),J=new he(I[1][0],I[1][1]);
if(c){var Q=new de;if(q==null)Q.translate(-.5,-.5);Q.concat(c);if(q==null)Q.translate(.5,.5);N=Q.wq(N);
J=Q.wq(J)}if(i.Type==0)N=new he((N.x+J.x)/2,(N.y+J.y)/2);g.G.iW(N,J,q?q:new gt(0,0,1,1),V)}function n(m){var V=R(m);
return{t:"Objc",v:g.G.XF({$:V[0]*255,H:V[1]*255,J:V[2]*255})}}function R(m){var V=m._col,q=m._type;if(q=="HSLA"){var i=g.Za(V[0],V[1],V[2]);
return[i.$,i.H,i.J,V[3]]}else if(q=="RGBA")return V;else if(q=="CMYK")return g.IG(V);else if(q=="GRAY")return[V[0],V[1],V[2]];
else if(q=="Pant")return m.srgb._col;else{console.log(V);throw q}}function s(m,V,q){var i=m.Frmt,C="";
if(i!=0&&i!=1&&i!=4&&i!=6)throw i;var c=m.BmpW,z=m.BmpH,B=i==1?128:256,t=i==4?5:i==0||i==1?4:1,a=Math.ceil(c/B),I=Math.ceil(z/256),N=new gt(0,0,a,I),J=new gt;
for(var v=0;v<t;v++){var Q=new Uint8Array(m["Sta"+(v+1)]);for(var A=0;A<Q.length;A++)if(Q[A]==1)Q[A]=0;
var f=g.uA(Q,N);J=J.tB(f)}var W=[];for(var v=0;v<t;v++){var Q=new Uint8Array(m["Sta"+(v+1)]),j=g.o(J.c());
g.mB(Q,N,j,J);W[v]=[];for(var A=0;A<j.length;A++)W[v][A]=j[A];C+=JSON.stringify(W[v])+","+JSON.stringify(m["Idx"+(v+1)])+","}if(q[C]==null){var K=J.Q*B,$=J._*256,r=new Array(t);
for(var v=0;v<t;v++){var Q=r[v]=new Uint8Array(K*$);Z(Q,m["Idx"+(v+1)],W[v],V,K,$,B)}var U=g.o(K*$*4);
if(i==0||i==1)g.xQ({$:r[0],H:r[1],J:r[2],M:r[3]},U);else if(i==4){for(var v=0;v<r[0].length;v++){var b=v*4,e=r[0][v]*(1/255),P=r[1][v]*(1/255),L=r[2][v]*(1/255),Y=r[3][v]*(1/255),X=UDOC.C.cmykToRgb([e,P,L,Y]);
U[b]=X[0]*255;U[b+1]=X[1]*255;U[b+2]=X[2]*255;U[b+3]=r[4][v]}}else{U.fill(255);g.rT(r[0],U)}var G=new gt(0,0,K,$),E={buffer:U,rect:G};
g.yl(E);q[C]=[E.rect,E.buffer]}var f=q[C][2]=q[C][0].clone();f.x+=J.x*B;f.y+=J.y*256;return q[C]}function Z(m,V,q,i,c,z,B){var t=0,a=c>>>(B==256?8:7),I=z>>>8;
for(var N=0;N<I;N++)for(var J=0;J<a;J++){var Q=J*B,A=N*256,f=N*a+J,W=A*c+Q,C=q[f];if(C<=1){}else if(C==2)O(m,W,255,c,B,256);
else if(C==4){var j=V[t];t++;var K=i[j.Data.DatI],$=j.Rect;if($==null)$=[0,0,B,256];w(m,(A+$[1])*c+Q+$[0],K,$[1]*B+$[0],c,B,$[2]-$[0],$[3]-$[1])}else console.log(C)}}function O(m,V,q,i,c,z){var B=V+i*z;
for(;V<B;V+=i){var t=V+c;for(var a=V;a<t;a++){m[a]=q}}}function w(m,V,q,i,c,z,B,t){var a=V+c*t,I=i+z*t;
for(;V<a&&i<I;V+=c,i+=z){for(var v=0;v<B;v++)m[V+v]=q[i+v]}}return l}();function ae(){}ae.x2=function(l,o){var D=ae,H=gI.parse(l),u=0;
if(H.pages.length>1)console.log(H.pages.length,"pages");var _=[],S=new gt;for(var h=0;h<H.pages.length;
h++){var F=H.pages[h],n=F.layers,R=D.dm(n,h),Z=!1;if(R.c()>8e3*8e3||R.Q>3e4||R._>3e4){D.aam(n,!0);var s=D.dm(n,h);
if(s.c()>=R.c())D.aam(n,!1)}R=D.dm(n,h);for(var O=0;O<n.length;O++){var w=n[O];if(D.fU(w)=="artboard")Z=!0}if(!Z){console.log("no artboard");
var m={};for(var V in F)m[V]=F[V];m._class="group";F.layers=[m]}_.push(R.clone());if(R.lh())continue;
R.x=0;R.y=u;u+=R._+200;S=S.tB(R)}var q={};if(H.foreignSymbols)for(var v=0;v<H.foreignSymbols.length;
v++){var i=H.foreignSymbols[v].symbolMaster;q[i.symbolID]={dM:i}}D.aaI(H.pages,q,o);for(var c in q){var w=q[c].dM,z=D.adr(w.layers)}var B=ae.hu(S,8192*8192);
o.hU=!0;o.Q=Math.round(S.Q/B);o._=Math.round(S._/B);o.buffer=g.o(o.Q*o._*4);o.sp(H.pages[0].layers.length);
o.PJ={};o.nS=[];u=0;for(var h=0;h<H.pages.length;h++){var t=H.pages[h],R=_[h],a=new de(B,0,0,B,R.x,R.y-u);
D.FT(t.layers,o,a,H,q,{},[]);u+=R._+200}delete o.PJ;delete o.nS;if(B!=1)alert("File scaled down "+B+"x");
o.ay4()};ae.agi=0;ae.fU=function(l){return l._class?l._class:l.$class};ae.hu=function(l,o){var D=1;while(Math.round(l.Q/D)*Math.round(l._/D)>o||Math.max(Math.round(l.Q/D),Math.round(l._/D))>3e4)D++;
if(D!=1&&!window.confirm("Your image is quite large ("+l.Q+" x "+l._+" px).\n"+"Press OK to scale it down "+D+"x, or Cancel to keep the size."))D=1;
return D};ae.dm=function(l,o){var D=[],H=ae;for(var _=0;_<l.length;_++){var u=l[_],S=H.m3(u.frame);if(o==0||H.fU(u)=="artboard")D.push(S)}return g.rect.jS(D)};
ae.aam=function(l,o){var D=[],H=ae;for(var _=0;_<l.length;_++){var u=l[_],S=H.m3(u.frame);S.Q+=150;S._+=150;
D.push(S)}var h=g.rect.jS(D);g.rect.a9f(D,o);var F=g.rect.jS(D);if(F.c()*1.5<h.c()||h.Q>3e4&&F.Q<=3e4||h._>3e4&&F._<=3e4){alert("Re-arranging artboards");
for(var _=0;_<l.length;_++){var n=D[_],u=l[_],R=u.frame;R.x=n.x;R.y=n.y}}};ae.aaI=function(l,o,D){if(l==null)return;
var H=ae;for(var _=0;_<l.length;_++){var u=l[_],S=H.fU(u);if(["page","artboard","group"].indexOf(S)!=-1)H.aaI(u.layers,o,D);
else if(S=="symbolMaster")o[u.symbolID]={dM:u}}};ae.adr=function(l){var o=ae;for(var D=0;D<l.length;
D++){var H=l[D],_=o.fU(H),u=null;if(["page","artboard","group"].indexOf(_)!=-1)u=o.adr(H.layers);if(_=="symbolMaster"||_=="symbolInstance")u=H;
if(u!=null)return u}return null};ae.FT=function(l,o,D,H,_,u,S){if(l==null)return;var h=ae,F=[];for(var n=0;
n<l.length;n++){var R=l[n],s=R.frame?h.m3(R.frame):null,Z=R.style,q="",a=null,I=!1;if(Z==null){console.log("no styles")}var O=h.aoV(R,D),w=h.fU(R),m=w=="shapeGroup"||w=="shapePath"||w=="rectangle"||w=="oval"||w=="triangle"||w=="polygon",V=["page","artboard","group"].indexOf(w)!=-1;
if(w=="shapeGroup"){for(var v=0;v<R.layers.length;v++)if(h.fU(R.layers[v])=="shapeGroup")V=!0}var i=R.exportOptions;
if(i){var c=i.exportFormats;if(c==null)c=i.sizes;if(w!="artboard"&&(c&&c.length!=0)){var z=c[0].scale}}var B=o.O7();
B.rm(R.isVisible);var t=R.name;if(!(typeof t=="string"))t=w;B.FH(q+t.slice(0,250));if(Z!=null)a=h.atX(H,o,Z,s,O,B.getName(),m||w=="artboard"||V);
if(w=="rectangle"&&Z&&Z.fills&&Z.fills[0]){var N=Z.fills[0];if(N.fillType==4&&N.patternFillType>1&&N.image!=null)I=!0}if(R.shouldBreakMaskChain){while(F.length!=0)h.a2z(F.pop(),o)}if(V){B.add.lsct=R.layerListExpandedType==2?jl.VV:jl.qb;
B.TY="pass";B.XL=24;B.rm(R.isVisible);o.R.push(o.k0());if(w=="artboard"){var J=s.clone(),Q=O.jX();J.x=-Math.floor(O.ip/Q);
J.y=-Math.floor(O.nl/Q);J.Q=Math.floor(J.Q/Q);J._=Math.floor(J._/Q);B.Hh(J);var A=R.backgroundColor,f=A?{$:255*A.red,H:255*A.green,J:255*A.blue}:{$:255,H:255,J:255};
B.add.artb.Clr={t:"Objc",v:g.G.XF(f)};B.add.artb.artboardBackgroundType={t:"long",v:4}}h.FT(R.layers,o,O,H,_,u,S)}else if(m&&!I){var W=a!=null&&a.frameFXMulti.v.length==1;
B.add.vmsk=new d.dO;B.add.vstk=cq.K$.ts(!0,W);var C=Z?Z.fills:null,j=Z?h.aw5(H,C,s,O,B.getName(),o,h.KY(S,R.do_objectID+"_image")):[];
if(j.length==0){if(W)B.add.vstk.fillEnabled.v=!1;else B.add.iOpa=0;B.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.G.XF({$:0,H:0,J:0})}}}else{var K=j[0],$=null,r=null;
if(K.type=="SoFi"){$="SoCo";r=cq.mh}if(K.type=="GrFl"){$="GdFl";r=cq.Mp}if(K.type=="patternFill"){$="PtFl";
r=cq.Zm}if($!=null){B.add[$]={classID:"null"};for(var v=0;v<r.length;v++){var U=r[v];B.add[$][U]=K.P.v[U]}var b=K.P.v.Opct.v.val;
if(W&&b==0)B.add.vstk.fillEnabled.v=!1;else B.add.iOpa=Math.round(255*b/100)}}B.XL|=16;B.add.vmsk.d=h.aK(R.layers?R.layers:[R],R.layers?O:D);
var e=Z?Z.blur:null;if(e&&e.isEnabled&&e.type<=1)B.add.vmsk.L4=e.radius;if(B.add.vmsk.d.length==2){console.log("shape with no content:",B.getName())}if(W){var P=a.frameFXMulti.v[0].v,L=B.add.vstk,Y=Z.borders[0];
a.frameFXMulti.v=[];cN.aay(P,L);var X=Z.borderOptions,G=Z.miterLimit;if(X)cq.K$.write(L,{iw:X.lineCapStyle,h_:X.lineJoinStyle,dE:X.dashPattern,wk:G})}B.Xv();
B.C$(o)}else if(w=="bitmap"||I){if(!I&&R.image==null)continue;var E=I?Z.fills[0]:null,T=I?E.image.bdata:R.image.bdata,y=o.M9(T,B.getName(),0,0);
y.XL=B.XL;B=y;var e=Z?Z.blur:null,d4=Z?Z.colorControls:null;if(e||d4){B.add.SoLd.filterFX=at.B3();o.Cy({id:B.add.SoLd.placed.v,rect:new gt,buffer:g.o(1),I:new d.ow});
var C=B.add.SoLd.filterFX.v.filterFXList.v;if(e){var dH=at.If("GsnB",{});dH.v.enab.v=e.isEnabled;dH.v.Fltr.v.Rds.v.val=e.radius;
C.push(dH)}if(d4){var eV=d4.brightness,bf=d4.contrast,jd=d4.hue,i5=d4.saturation;if(jd!=0||i5!=1){var dH=at.If("hue2",{});
dH.v.enab.v=d4.isEnabled;gT.sQ(dH.v.Fltr.v,0,[Math.round(jd*180/Math.PI),Math.round((i5-1)*100),0]);
C.push(dH)}if(eV!=0||bf!=1){var dH=at.If("brit",{});dH.v.enab.v=d4.isEnabled;bf=bf-1;if(bf>0)bf/=2;var fD=dH.v.Fltr.v;
fD.Brgh.v=Math.round(eV*255);fD.Cntr.v=Math.round(bf*255);fD.useLegacy.v=!0;C.push(dH)}}}if(I){var eo=E.patternFillType;
if(eo==3){var iX=B.rect.Q/B.rect._,cK=s.Q/s._;if(iX<cK){O.translate(-(s.Q*(1-iX/cK))/2,0);O.scale(cK/iX,1)}else{O.translate(0,-(s._*(1-cK/iX))/2);
O.scale(1,iX/cK)}}}s.x=s.y=0;var g0=g.X.YZ(s).s;O.L5();g.X.h(g0,O,g0);B.add.SoLd.Trnf=p.cA.y3(g0);B.add.SoLd.nonAffineTransform=p.cA.y3(g0);
B.mP(o,!1)}else if(w=="text"){if(R.attributedString==null)continue;var bW=O.clone(),hF,aJ,by=0;bW.L5();
bW.M=bW.me=Math.min(bW.M,bW.me);B.add.lnsr="rend";B.add.TySh=fX.D2(0,0);B.add.TySh.g6=new gt(0,0,s.Q,s._);
B.add.TySh.h=bW;var iR=R.attributedString;if(iR.archivedAttributedString)iR=iR.archivedAttributedString;
var ex=iR.NSString;if(ex==null)ex=iR.string;if(ex==null)ex="";if(ex["NS.string"])ex=ex["NS.string"];
if(u[R.do_objectID]!=null)ex=u[R.do_objectID];var dX=h.KY(S,R.do_objectID+"_stringValue");if(dX)ex=dX.value;
if(iR.attributes!=null){hF=[];aJ=[];var j3=iR.attributes;for(var v=0;v<j3.length;v++){hF.push(j3[v].length,v);
aJ.push(j3[v].attributes)}}else if(iR.NSAttributeInfo==null){hF=[ex.length,0];aJ=[iR.NSAttributes]}else{hF=iR.NSAttributeInfo["NS.data"];
aJ=iR.NSAttributes;hF=ae.a1Y(hF,aJ)}for(var v=0;v<hF.length;v+=2)by+=hF[v];if(by!=ex.length){while(by>ex.length){hF[hF.length-2]--;
by--;if(hF[hF.length-2]==0){hF.pop();hF.pop()}}hF[hF.length-2]+=ex.length-by}ex=ex.replace(/\u2028/g,"\n");
ex=ex.replace(/\u2029/g,"\n");ex=ex.replace(/\r/g,"\n");var i9=B.add.TySh.PF;fX.yQ(i9,0,ex);if(ex!=""){var kh=R.textBehaviour,bd=Z.textStyle,dz=bd?bd.verticalAlignment:0,dw=h.aBs(i9,hF,aJ,ex),Q=bW.jX(),ev=fX.eF(i9,0,1),a9=0;
if(ev.i7.Font){var aq=ev.LJ[ev.i7.Font].Name;if(aq=="FontAwesome"||aq=="Ionicons")dw*=.87}var e3=ev.i7.AutoLeading?0:ev.i7.Leading*.6,e0=Math.max(dw,e3)*Q,as=s.Q,eK=s._;
if(kh==0){fX.aM(i9,0);var gh=fX.ql(ev.z5);if(gh==1)a9=as*Q;if(gh==2)a9=as*Q*.5;if(dz==0)e0*=1;else e0*=.9}else{fX.aM(i9,1);
fX.nP(i9,[0,0,Math.round(as),Math.round(eK)]);if(kh==2&&dz==0)e0=e0*.2;else if(kh==2&&dz==1){e0=Q*.5*(eK-ev.i7.FontSize)}else if(kh==1&&dz==0)e0=e0*.2;
else e0=e0*.35}B.add.TySh.h.translate(a9,e0)}}else if(w=="symbolInstance"||w=="symbolMaster"){var gx=R.symbolID;
if(u[R.do_objectID])gx=u[R.do_objectID].symbolID;var gc=h.KY(S,R.do_objectID+"_symbolID");if(gc)gx=gc.value;
if(gx=="")continue;var kQ={};for(var U in u)kQ[U]=u[U];if(R.overrides)for(var U in R.overrides)kQ[U]=R.overrides[U];
var dn=S.slice(0);if(R.overrideValues)dn=dn.concat(R.overrideValues);var bQ=_[gx];if(bQ==null){console.log("Unknown master master",R.symbolID);
continue}var iK=ae.m3(bQ.dM.frame),cJ=iK.Q/s.Q,i1=iK._/s._,bu=O.clone();bu.scale(cJ,i1);B.add.lsct=jl.qb;
B.TY="pass";B.XL=24;B.rm(R.isVisible);o.R.push(o.k0());var gi=bQ.dM;if(o.nS.indexOf(gi)==-1){o.nS.push(gi);
h.FT(gi.layers,o,bu,H,_,kQ,dn);o.nS.pop()}}else if(w=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+w,R);continue}if(Z&&Z.contextSettings){var iv=Z.contextSettings,d0=iv.blendMode;
if(d0<h.wB.length){B.TY=b2.Jv[b2.cu.indexOf(h.wB[d0])];if(V&&B.TY=="norm")B.TY="pass"}B.opacity=Math.round(B.opacity*iv.opacity)}if(a!=null){B.add.lmfx=a}o.R.push(B);
if(R.hasClippingMask&&l.length>1){F.push(B);o.R.push(o.k0())}}while(F.length!=0)h.a2z(F.pop(),o)};ae.KY=function(l,o){for(var v=0;
v<l.length;v++)if(l[v].overrideName.startsWith(o))return l[v]};ae.a1Y=function(l,o){var D=0,H=[];while(D+1<l.length){var _=l[D];
D++;if(_>127){_+=128*(l[D]-1);D++;if(l[D-1]>127){_+=128*(l[D]-1);D++}}var u=l[D];D++;H.push(_,u)}return H};
ae.aBs=function(l,o,D,H){var _=ae,u=0,R=0,s=0;for(var v=0;v<H.length;v++){var S=H.charCodeAt(v),h=1473<=S&&S<=1479||1488<=S&&S<=1514||1520<=S&&S<=1524,F=1569<=S&&S<=1594||1600<=S&&S<=1749;
if(h||F)u++}var n=u>H.length/2;for(var v=0;v<o.length;v+=2){var Z=o[v],B=14,t="DejaVuSans";if(Z==0)continue;
var O=o[v+1],w=D[O],m=fX.eF(l,R,R+Z-1),V=w.NSColor;if(V==null){var V=w.MSAttributedStringColorDictionaryAttribute;
if(V==null)V=w.MSAttributedStringColorAttribute;if(V==null)V="0 0 0";else V=[V.red,V.green,V.blue].join(" ")}else if(_.fU(V)=="MSArchivedColor")V=V.dr+" "+V.dg+" "+V.db;
else if(V.NSRGB){V=V.NSRGB;V=x.Gk(V,0,V.length-1)}else if(V.NSCMYK){V=V.NSCMYK;V=x.Gk(V,0,V.length-1);
V=V.split(" ").map(parseFloat);var q=1-V[0],i=1-V[1],c=1-V[2],z=1-V[3];V=q*z+" "+i*z+" "+c*z}else if(V.NSWhite){V="1 1 1"}V=V.split(" ");
m.i7.FillColor={Type:1,Values:[1,parseFloat(V[0]),parseFloat(V[1]),parseFloat(V[2])]};var a=w.MSAttributedStringFontAttribute;
if(w.NSFont){B=w.NSFont.NSSize;t=w.NSFont.NSName}else if(a){if(a.attributes){a=a.attributes;B=a.size;
t=a.name}else{var I=a.NSFontDescriptorAttributes;if(I==null)I=a.UIFontDescriptorAttributes;a=I;B=a.NSFontSizeAttribute;
t=a.NSFontNameAttribute}if(t==null)t="DejaVuSans"}var s=Math.max(s,B);m.i7.FontSize=Math.round(B);fX.LQ(m,t);
var N=w.NSKern;if(N==null)N=w.kerning;if(N!=null)m.i7.Tracking=Math.round(1e3*N/B);if(w.NSUnderline!=null)m.i7.Underline=w.NSUnderline>0;
var J=w.NSStrikethrough;if(J==null)J=w.strikethroughStyle;if(J!=null)m.i7.Strikethrough=J>0;if(w.MSAttributedStringTextTransformAttribute==1)m.i7.FontCaps=2;
var Q=w.NSParagraphStyle;if(Q==null)Q=w.paragraphStyle;if(Q){var A=Q.paragraphSpacing;if(A!=null){m.z5.SpaceAfter=A}var f=Q.NSAlignment;
if(f==null)f=Q.alignment;if(f!=null){var W=0;if(!1){}else if(f==1)W=1;else if(f==2)W=2;else if(f==4)W=0;
else{W=f;console.log("unknown align",f)}if(n&&W<2)W=1-W;m.z5.Justification=W}var C=Q.NSMinLineHeight;
if(C==null)C=Q.minimumLineHeight;if(C!=null){m.i7.AutoLeading=!1;m.i7.Leading=C}}m.z5._Direction=n?1:0;
fX.fn(l,R,R+Z,m);R+=Z}return s};ae.atX=function(l,o,D,H,_,u,S){var h=ae,F=JSON.parse(cq.default),n=!1;
for(var v=0;v<cq.order.length;v++)F[cq.lZ[v]]={t:"VlLs",v:[]};var R=D.fills,s=h.aw5(l,R,H,_,u,o);for(var Z=0;
Z<2;Z++){var O=D[["shadows","innerShadows"][Z]];if(O==null)continue;var w=["DrSh","IrSh"][Z],m=cq.lZ[cq.order.indexOf(w)];
for(var v=0;v<O.length;v++){var V=O[v];if(!V.isEnabled)continue;var q=V.contextSettings;if(q&&q.opacity==0||V.color.alpha==0)continue;
var i=JSON.parse(cq.Rq[cq.order.indexOf(w)]);F[m].v.unshift({t:"Objc",v:i});n=!0;i.Clr.v=h.Bc(V.color);
i.blur.v.val=Math.round(V.blurRadius/_.jX());var c=_.clone();c.ip=c.nl=0;c.L5();var z=c.wq(new he(V.offsetX,V.offsetY)),B=Math.sqrt(z.x*z.x+z.y*z.y);
i.Dstn.v.val=Math.round(B);i.lagl.v.val=Math.round(Math.atan2(z.y,-z.x)*(180/Math.PI));if(i.layerConceals)i.layerConceals.v=s.length!=0;
h.QR(V,i)}}var t=D.borders;if(t!=null&&(s.length==0||D.blur==null||!D.blur.isEnabled))for(var v=0;v<t.length;
v++){var a=t[v];if(!a.isEnabled)continue;var i=JSON.parse(cq.Rq[cq.order.indexOf("FrFX")]),m=cq.lZ[cq.order.indexOf("FrFX")];
F[m].v.unshift({t:"Objc",v:i});n=!0;i.Clr.v=h.Bc(a.color);if(a.fillType!=0&&a.gradient){var I=h.atF(a.gradient,H,_,u),N=["Type","Angl","Ofst","Scl"];
for(var v=0;v<N.length;v++)i[N[v]]=I[N[v]];i.Grad.v=I.Grad.v;i.PntT.v.FrFl="GrFl"}i.Sz.v.val=Math.round(a.thickness/_.jX());
i.Styl.v.FStl=["CtrF","InsF","OutF"][a.position];h.QR(a,i)}for(var v=S?1:0;v<s.length;v++){var J=s[v],m=cq.lZ[cq.order.indexOf(J.type)];
F[m].v.unshift(J.P);n=!0}return n?F:null};ae.aw5=function(l,o,D,H,_,u,S){if(o==null)return[];var h=ae,F=[];
for(var v=0;v<o.length;v++)if(o[v].isEnabled)F.push(o[v]);o=F;var n=[];for(var v=0;v<o.length;v++){var R=o[v],s=null,Z=null;
if(R.fillType==0){s="SoFi";var O=JSON.parse(cq.Rq[cq.order.indexOf("SoFi")]);Z={t:"Objc",v:O};Z.v.Clr.v=h.Bc(R.color)}else if(R.fillType==1){s="GrFl";
Z={t:"Objc",v:h.atF(R.gradient,D,H,_)}}else if(R.fillType==4&&R.image!=null){var w=R.image;if(S)w=S.value;
var m=fj.ZH(w.bdata.buffer);if(m=="fpng")m="png";if(m!=null&&m!="pdf"&&m!="eps"){var V,B=0,t=0,a=0;if(u.PJ[w.key])V=u.PJ[w.key];
else{var q={data:new ArrayBuffer(4),jH:new gt(0,0,1,1)};try{q=fj.rU(m).Zk(w.bdata)[0]}catch(ey){}V={};
V.id=f9.T5()+"-d71c-11e5-b1ae-a548a96e5f9f";V.name="someImage";V.dT=[new Uint8Array(q.data),q.jH];u.YE(V);
u.PJ[w.key]=V}var i=V.dT[1],O=JSON.parse(cq.Rq[cq.order.indexOf("patternFill")]);s="patternFill";Z={t:"Objc",v:O};
var c=R.patternFillType,z=R.patternTileScale;O.Algn.v=!0;O.Ptrn.v.Idnt.v=V.id;if(c==0){B=z*i.Q/Math.min(i.Q,i._);
t=-H.ip;a=-H.nl}else{B=Math.max(D.Q/i.Q,D._/i._);t=-H.ip-(i.Q*B-D.Q)/2;a=-H.nl-(i._*B-D._)/2}O.Scl.v.val=100*B*(1/H.jX());
O.phase.v.Hrzn.v=Math.round(t/H.jX());O.phase.v.Vrtc.v=Math.round(a/H.jX())}}else if(R.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",R.fillType);
if(s!=null){h.QR(R,Z.v);n.push({type:s,P:Z})}}return n};ae.awy=function(l){var o=ae,D=new gt(0,0,1,1);
l=l.slice(0);while(!0){var H=!1;for(var v=0;v<l.length-1;v++){var _=l[v],u=l[v+1],S=null,h=_.contextSettings;
if(_.fillType==0&&(h==null||h.opacity==1&&h.blendMode==0)&&_.color.alpha==1){var F="norm",n=1,h=u.contextSettings;
if(h){n=h.opacity;F=b2.kt(o.wB[h.blendMode])}if(u.fillType==0){S=JSON.parse(JSON.stringify(u));o.an$(S.color,_.color,S.color,D,F,n)}if(u.fillType==1){S=JSON.parse(JSON.stringify(u));
var R=S.gradient.stops;for(var s=0;s<R.length;s++)o.an$(R[s].color,_.color,R[s].color,D,F,n)}if(S!=null&&S.contextSettings){var h=S.contextSettings;
h.opacity=1;h.blendMode=0}}if(S!=null){l.splice(v,0,S);H=!0;break}}if(!H||l.length<2)break}return l};
ae.an$=function(l,o,D,H,_,u){var S=ae,h=g.o(4);S.a30(l,h);var F=g.o(4);S.a30(o,F);g.z.JM(_,h,H,F,H,H,u);
S.al4(F,D)};ae.a30=function(l,o){o[0]=255*l.red;o[1]=255*l.green;o[2]=255*l.blue;o[3]=255*l.alpha};ae.al4=function(l,o){o.red=l[0]/255;
o.green=l[1]/255;o.blue=l[2]/255;o.alpha=l[3]/255};ae.a2z=function(l,o){l=l.clone();l.XL=24;l.FH("Mask by "+l.getName());
o.R.push(l);l.add.lsct=jl.VV;l.add.lyid=o.Dv();delete l.add.lmfx;delete l.add.SoCo;delete l.add.GdFl;
delete l.add.PtFl;delete l.add.iOpa;if(l.add.vmsk)l.add.vmsk.cF=!0;l.Xv();l.C$(o);if((l.XL&16)==16)l.XL-=16;
if((l.XL&2)==2)l.XL-=2;l.TY="pass";l.opacity=255};ae.wB="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
ae.atF=function(l,o,D,H){D=D.clone();D.L5();D.ip=D.nl=0;var _=D.jX(),Z=0,O=0;D.scale(1/_,1/_);var u=ae,S=JSON.parse(cq.Rq[cq.order.indexOf("GrFl")]),h=S.Grad.v;
h.Intr.v=0;if(l==null)return S;var F=l.gradientType,n=u.IT(l.from),R=u.IT(l.to);n.offset(-.5,-.5);R.offset(-.5,-.5);
n=D.wq(n);R=D.wq(R);var s=Math.atan2(-(R.y-n.y),R.x-n.x);S.Type.v.GrdT=["Lnr","Rdl","Angl"][F];S.Scl.v.val=100*he.At(n,R);
if(F==0){S.Angl.v.val=180/Math.PI*s;S.Scl.v.val=100*he.At(n,R);Z=(n.x+R.x)/2;O=(n.y+R.y)/2}if(F==1){S.Scl.v.val=200*he.At(n,R);
Z=n.x;O=n.y}if(F==2){S.Angl.v.val=180/Math.PI*(s-Math.PI/2)}var w=S.Ofst.v;w.Hrzn.v.val=Z*100;w.Vrtc.v.val=O*100;
var m=[];for(var v=0;v<l.stops.length;v++){var V=l.stops[v],q=V.color;m.push([V.position,q?[q.red,q.green,q.blue]:[0,0,0],q.alpha])}g.G.Ky(m,h);
return S};ae.QR=function(l,o){var D=ae,H=1,_=l.contextSettings;if(_!=null){o.Md.v.BlnM=D.wB[_.blendMode];
H*=_.opacity}else o.Md.v.BlnM=D.wB[0];o.enab.v=l.isEnabled;if(o.uglg!=null)o.uglg.v=!1;if(l.color!=null)H*=l.color.alpha;
o.Opct.v.val=Math.round(H*100)};ae.Bc=function(l){return g.G.XF(l?{$:l.red*255,H:l.green*255,J:l.blue*255}:{$:0,H:0,J:0})};
ae.aK=function(l,o){var D=ae,H=[{type:6},{type:8,all:0}];for(var _=0;_<l.length;_++){var u=l[_],S=u.booleanOperation,h=0,F=u._class,w=!1;
if(F=="group"||F=="text"||F=="symbolInstance"||F=="slice"){console.log(F+" inside ShapeGroup");continue}if(S==-1)h=0;
else if(S==0)h=1;else if(S==1)h=2;else if(S==2)h=3;else if(S==3)h=0;if(_==0)h=1;var n=ae.m3(u.frame),R=D.aoV(u,o),s=u.path?u.path:u,Z=[{type:0,length:0,HN:h,qC:2,Zt:0,bb:0}],O=s.points;
for(var v=0;v<O.length;v++){var m=O[v],V=D.IT(m.curveTo),q=D.IT(m.point),i=D.IT(m.curveFrom);w=w||m.hasCurveFrom&&!i.kn(q)||m.hasCurveTo&&!V.kn(q)}var c=[];
if(!w){var z=[],kC=O.length;if(kC==0)continue;for(var v=0;v<kC;v++){c[v]=O[v].cornerRadius;var m=D.IT(O[v].point);
z.push(m.x,m.y)}R.scale(1/n.Q,1/n._);R.L5();g.X.h(z,R,z);Z=g.n.Rd.el(z,c).slice(2);Z[0].HN=h}else{var B=O.length;
Z[0].length=B;for(var v=0;v<B;v++){var m=O[v],t=m.curveMode,a=D.IT(m.point);Z[1+v]={type:t==2||t==4?1:2,e6:m.hasCurveTo?D.IT(m.curveTo):a.clone(),u:a,BN:m.hasCurveFrom?D.IT(m.curveFrom):a.clone()}}R.scale(1/n.Q,1/n._);
R.L5();g.n.Am(Z,R);var c=[];for(var v=0;v<B;v++){var m=O[v],t=m.curveMode,I=m.cornerRadius;if(t==1&&I!=0)c.push(I);
else c.push(0)}}if(!s.isClosed)for(var v=0;v<Z.length;v++)Z[v].type+=3;H=H.concat(Z);var N=D.fU(u);if(R.J==0&&R.oe==0){var J=R.ip,Q=R.nl,A=J+R.M,f=Q+R.me,W=[J,Q,A,f]}}return H};
ae.aoV=function(l,o){var D=o.clone(),H=l.frame?ae.m3(l.frame):null;if(H)D.translate(-H.x-H.Q/2,-H.y-H._/2);
if(l.isFlippedHorizontal)D.scale(-1,1);if(l.isFlippedVertical)D.scale(1,-1);D.rotate(-l.rotation*(Math.PI/180));
if(H)D.translate(H.Q/2,H._/2);return D};ae.IT=function(l){l=l.slice(1,l.length-1).split(",");return new he(parseFloat(l[0]),parseFloat(l[1]))};
ae.m3=function(l){return new gt(l.x,l.y,l.width,l.height)};ae.aAl=function(l){return{_class:"rect",constrainProportions:!1,x:l.x,y:l.y,width:l.Q,height:l._}};
function kz(){}kz.x2=function(l,o){var D=Date.now(),H=kz,_=UZIP.parse(l),u=JSON.parse(x.Fs(_.manifest)),S=JSON.parse(x.Fs(_["resources/graphics/graphicContent.agc"])).resources,h=[],F=[],n=u.children;
for(var v=0;v<n.length;v++){var R=n[v];if(R.name=="artwork"){var s=R.children;for(var Z=0;Z<s.length;
Z++){var O=s[Z],w=JSON.parse(x.Fs(_["artwork/"+O.path+"/graphics/graphicContent.agc"])),m=w.children;
if(m.length==0){}else if(m.length==1){if(O["uxdesign#bounds"]){O._node=m[0];h.push(O)}}else{var V=m[0],q=V.transform,i=V.shape;
if(i==null)i={x:0,y:0,width:1e3,height:1e3};if(i.type=="path"){var c=g.X.Mg(Typr.U.SVGToPath(i.path).crds);
i={x:c.x,y:c.y,width:c.Q,height:c._}}i=JSON.parse(JSON.stringify(i));if(q){i.x+=q.tx;i.y+=q.ty}O["uxdesign#bounds"]=i;
O._node={type:"artboard",artboard:{children:m}};F.push(O)}}}}if(h.length==0)h=F;var z=[],B=new gt;for(var v=0;
v<h.length;v++){var O=h[v],t=ae.m3(O["uxdesign#bounds"]);z.push(t);B=B.tB(t)}var a=ae.hu(B,8192*8192);
o.hU=!0;o.Q=Math.round(B.Q/a);o._=Math.round(B._/a);o.buffer=g.o(o.Q*o._*4);o.sp(h.length);var I=new de(a,0,0,a,B.x,B.y);
o.PJ={};for(var v=0;v<h.length;v++){var O=h[v],t=ae.m3(O["uxdesign#bounds"]),N=O._node,J=I.clone(),Q=t.clone(),A=J.jX();
J.translate(-t.x,-t.y);Q.x=-Math.floor(J.ip/A);Q.y=-Math.floor(J.nl/A);Q.Q=Math.floor(Q.Q/A);Q._=Math.floor(Q._/A);
J.translate(t.x,t.y);kz.KB(N,o,J,S,_,Q);var f=o.R[o.R.length-1];f.FH(O.name);f.Hh(Q);if(v!=h.length-1)f.add.lsct=jl.qb}delete o.PJ};
kz.qN=function(l){if(l==null)return new de;return new de(l.a,l.b,l.c,l.d,l.tx,l.ty)};kz.KB=function(l,o,D,H,_,u){var S=kz,h=l.type,F=l[h],n=l.style,R=S.qN(l.transform),w,m="none",V,q="none",i,c;
R.L5();var s=D.clone();s.concat(R);var Z=o.O7(),O=l.name;Z.FH(O?O.slice(0,250):"Layer");if(l.visible!=null)Z.rm(l.visible);
if(n){w=n.stroke;m=w?w.type:"none";V=n.fill;q=V?V.type:"none";if(V&&Object.keys(V).length==1)q="none";
i=n.filters;c=n.clipPath;if(c&&H.clipPaths[c.ref])c=H.clipPaths[c.ref].children;else c=null;if(n.opacity!=null)Z.opacity=Math.round(255*n.opacity);
if(q=="solid"&&V.color.alpha)Z.opacity=Math.round(Z.opacity*V.color.alpha);if(i){Z.add.lmfx=S.aCU(i);
for(var v=0;v<i.length;v++)if(i[v].type=="uxdesign#blur"){var z=i[v],B=z.params,t=B.brightnessAmount;
if(t==null)t=0;t=Math.abs(t/100);if((z.visible==null||z.visible==!0)&&B.backgroundEffect)Z.opacity=Math.round(Z.opacity*(t+(1-t)*B.fillOpacity))}}if(q=="pattern"&&V.pattern.meta.ux.uid=="")q="none"}if(c==null&&l.meta&&l.meta.ux&&l.meta.ux.clipPathResources)c=l.meta.ux.clipPathResources.children;
if(h=="artboard"||h=="group"){if(c){var a=c[0],I=a.shape,N=I!=null&&I.type=="rect"&&I.width*I.height>4e6;
if(a.type!="text"&&!N){if(I){var R=S.qN(a.transform);R.L5();var J=s.clone();J.concat(R);Z.add.vmsk=new d.dO;
Z.add.vmsk.d=S.aK(I);J=J.clone();J.L5();g.n.Am(Z.add.vmsk.d,J);Z.Xv();Z.C$(o)}}else if(!N)alert("Clipping by text has been ignored")}Z.add.lsct=jl.VV;
Z.TY="pass";Z.XL=24;if(l.visible!=null)Z.rm(l.visible);o.R.push(o.k0());var Q=F.children,A=V;if(A)A=A.color;
if(A)A=A.value;if(V){if(h=="artboard"&&q=="solid"){Z.Hh(new gt(0,0,10,10));Z.add.artb.Clr={t:"Objc",v:g.G.XF({$:A.r,H:A.g,J:A.b})};
Z.add.artb.artboardBackgroundType={t:"long",v:4}}else{var f=o.O7();f.FH("BACKGROUND");f.XL|=16;f.add.vstk=cq.K$.ts();
f.add.vmsk=new d.dO;f.add.vmsk.d=S.aK({type:"rect",x:u.x,y:u.y,width:u.Q,height:u._});S.Ev(V,q,s,u,u,f,o,H,_);
f.Xv();f.C$(o);o.R.push(f)}}for(var v=0;v<Q.length;v++){kz.KB(Q[v],o,s,H,_,u)}}else if(h=="shape"&&(F.type=="rect"&&(F.r==null||F.r==0)||F.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(F.path)))&&q=="pattern"&&(Math.abs(F.width/F.height-V.pattern.width/V.pattern.height)<.01||n.fill.pattern.meta.ux.scaleBehavior=="fill")){var W=V.pattern,C=W.meta.ux,j=C.uid,K=_["resources/"+j];
if(K==null){console.log(W);return}var $=o.M9(K,Z.getName(),0,0);$.XL=Z.XL;$.opacity=Z.opacity;Z=$;var r=g.n.kU(S.aK(F),null),U=g.X.YZ(new gt(0,0,W.width,W.height)).s,b=new de;
b.scale(W.width/r.Q,W.height/r._);if(C.offsetX)b.translate(-C.offsetX*W.width,0);if(C.offsetY)b.translate(0,-C.offsetY*W.height);
s.concat(b);s.L5();g.X.h(U,s,U);Z.add.SoLd.Trnf=p.cA.y3(U);Z.add.SoLd.nonAffineTransform=p.cA.y3(U);
Z.mP(o,!1)}else if(h=="shape"){Z.XL|=16;Z.add.vstk=cq.K$.ts();Z.add.vmsk=new d.dO;Z.add.vmsk.d=S.aK(F);
var r=g.n.kU(Z.add.vmsk.d,null),J=s.clone();J.L5();g.n.Am(Z.add.vmsk.d,J);var e=g.n.kU(Z.add.vmsk.d,null);
if(m=="none"){}else{var P=w.color.value,L,Y;L="SoFi";var X=JSON.parse(cq.Rq[cq.order.indexOf("SoFi")]);
Y={t:"Objc",v:X};Y.v.Clr.v=g.G.XF({$:P.r,H:P.g,J:P.b});var G=w.align,E=w.cap;if(G==null)G="center";var T=Z.add.vstk;
T.strokeEnabled.v=!0;T.strokeStyleLineWidth.v.val=w.width;if(G)T.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cq.K$.gU[["inside","center","outside"].indexOf(G)];
if(E)T.strokeStyleLineCapType.v.strokeStyleLineCapType=cq.K$.PC[["butt","round","square"].indexOf(E)];
var y=["SoFi","GrFl","patternFill"].indexOf(L),d4=[cq.mh,cq.Mp,cq.Zm][y];T.strokeStyleContent.v={classID:cq.K$.Gl[0]};
var dH=T.strokeStyleContent.v={classID:cq.K$.Gl[y]};for(var v=0;v<d4.length;v++)dH[d4[v]]=Y.v[d4[v]]}if(i)for(var v=0;
v<i.length;v++)if(i[v].type=="uxdesign#blur"&&i[v].visible){var eV=i[v];Z.add.vmsk.L4=eV.params.blurAmount}S.Ev(V,q,s,r,e,Z,o,H,_);
Z.Xv();Z.C$(o)}else if(h=="text"&&l.text){var bf=l.text,jd=bf.frame,i5=n.font,fD=n.textAttributes,R=s.clone(),ex=0;
R.L5();Z.add.lnsr="rend";Z.add.TySh=fX.D2(0,0);Z.add.TySh.g6=new gt(0,0,100,100);Z.add.TySh.h=R;var eo=Z.add.TySh.PF,cK=bf.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
fX.yQ(eo,0,cK);if(cK!=""){var g0=fX.eF(eo,0,1),hF=i5.postscriptName;if(hF==null)hF=i5.family;fX.LQ(g0,hF);
g0.i7.FontSize=Math.round(i5.size);if(q=="solid"){var P=V.color.value;g0.i7.FillColor={Type:1,Values:[1,P.r/255,P.g/255,P.b/255]}}if(fD){if(fD.paragraphAlign)g0.z5.Justification=["left","right","center"].indexOf(fD.paragraphAlign);
if(fD.letterSpacing)g0.i7.Tracking=Math.round(fD.letterSpacing);if(fD.lineHeight){g0.i7.AutoLeading=!1;
g0.i7.Leading=Math.round(fD.lineHeight)}}fX.fn(eo,0,cK.length,g0)}var iR=l.meta.ux.rangedStyles;if(iR)for(var v=0;
v<iR.length;v++){var F=iR[v],dX=Math.min(F.length,cK.length-ex);if(v==iR.length-1)dX=cK.length-ex;var g0=fX.eF(eo,ex,ex+dX),hF=F.postscriptName;
if(hF==null)hF=F.family;if(hF!=null)fX.LQ(g0,hF);var j3=F.textScript,by=F.underline,i9=F.fontSize,z=F.fill,dm=F.textTransform;
if(j3&&j3!="none")g0.i7.FontBaseline=j3=="superscript"?1:2;if(by!=null)g0.i7.Underline=by;if(i9!=null)g0.i7.FontSize=Math.round(i9);
if(dm!=null)g0.i7.FontCaps=dm=="uppercase"?2:0;if(dm=="lowercase"){fX.uq(eo,ex,ex+dX);fX.yQ(eo,ex,cK.slice(ex,ex+dX).toLowerCase())}if(z!=null){var kh=z.value;
g0.i7.FillColor={Type:1,Values:[1,(kh>>>16&255)/255,(kh>>>8&255)/255,(kh>>>0&255)/255]}}fX.fn(eo,ex,ex+dX,g0);
ex+=dX}if(jd.type=="area"||jd.type=="autoHeight"){var jK=jd.width,bd=jd.height;fX.aM(eo,1);fX.nP(eo,[0,0,jK,bd!=null?bd:jK*2])}}else if(h=="syncRef"){var dz=l.syncSourceGuid,dw=H.meta.ux.symbols,ev=S.ei(dw,dz);
if(ev){var aq=s.clone();aq.concat(S.qN(ev.transform));kz.KB(ev,o,aq,H,_,u)}return}else console.log(h,l);
o.R.push(Z)};kz.ei=function(l,o){for(var v=0;v<l.length;v++){var D=l[v],H=D.group;if(D.id==o)return D;
if(H){var _=kz.ei(H.children,o);if(_)return _}}return null};kz.aK=function(l){var o=l.type,D=[{type:6},{type:8,all:0}];
if(o=="rect"){var H=l.r,_=l.x,u=l.y,S=l.width,h=l.height;D=g.n.Rd.Rect(_,u,S,h,H?H:0)}else if(o=="circle"){var H=l.r;
D=g.n.Rd.lY(l.cx-H,l.cy-H,2*H,2*H)}else if(o=="ellipse"){var F=l.rx,n=l.ry;D=g.n.Rd.lY(l.cx-F,l.cy-n,2*F,2*n)}else if(o=="path"||o=="compound"){var R=Typr.U.SVGToPath(l.path);
D=g.X.Op({v:R.cmds,s:R.crds},!1)}else if(o=="line"){var s=l.x1,Z=l.x2,O=l.y1,w=l.y2;D=g.n.Rd.el([s,O,Z,w],0,!0)}else if(o=="polygon"){var m=l.points,V=[];
for(var v=0;v<m.length;v++)V.push(m[v].x,m[v].y);D=D.concat(g.n.Rd.el(V,0,!1).slice(2))}else console.log(o,l);
return D};kz.aCU=function(l){var o=JSON.parse(cq.default);for(var v=0;v<cq.order.length;v++)o[cq.lZ[v]]={t:"VlLs",v:[]};
for(var v=0;v<l.length;v++){var D=l[v],H=D.type,_=D.params,u=D.visible;if(H=="dropShadow"){var S=cq.lZ[cq.order.indexOf("DrSh")],h=JSON.parse(cq.Rq[cq.order.indexOf("DrSh")]);
o[S].v.unshift({t:"Objc",v:h});var F=_.dropShadows;if(F.length!=1)throw"e";var n=F[0],R=n.color,s=R.value,Z=n.dx,O=n.dy;
h.Clr.v=g.G.XF({$:s.r,H:s.g,J:s.b});h.Opct.v.val=Math.round((R.alpha!=null?R.alpha:1)*100);h.uglg.v=!1;
h.enab.v=u!=null?u:!0;h.lagl.v.val=Math.round(180/Math.PI*Math.atan2(O,-Z));h.Dstn.v.val=Math.round(Math.sqrt(Z*Z+O*O));
h.blur.v.val=Math.round(n.r*2.3)}}return o};kz.Ev=function(l,o,D,H,_,u,S,h,F){var n=kz;u.add.vstk.fillEnabled.v=o!="none";
if(o=="none"){u.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.G.XF({$:0,H:0,J:0})}}}else{var R,s,Z;if(o=="solid"){var O=l.color.value;
R="SoCo";s=cq.mh;var w=JSON.parse(cq.Rq[cq.order.indexOf("SoFi")]);Z={t:"Objc",v:w};Z.v.Clr.v=g.G.XF({$:O.r,H:O.g,J:O.b})}else if(o=="gradient"){R="GdFl";
s=cq.Mp;var w=JSON.parse(cq.Rq[cq.order.indexOf("GrFl")]),m=w.Grad.v,z,B,t;m.Intr.v=0;var V=l[o],q=V.ref?h.gradients[V.ref]:V.meta.ux.gradientResources,i=["linear","radial","angular"].indexOf(q.type),c=q.stops;
w.Type.v.GrdT=["Lnr","Rdl","Angl"][i];if(i==0){var z=new he(V.x1,V.y1),B=new he(V.x2,V.y2);z.x=B.x+.5*(z.x-B.x);
z.y=B.y+.5*(z.y-B.y)}else{var z=new he(V.cx,V.cy),B=new he(V.cx+V.r,V.cy)}t=_;if(V.units=="objectBoundingBox"){var a=new de(H.Q,0,0,H._,H.x,H.y);
z=a.wq(z);B=a.wq(B)}var a=n.qN(V.transform);z=a.wq(z);B=a.wq(B);a=D.clone();a.L5();z=a.wq(z);B=a.wq(B);
g.G.iW(z,B,t,w);var I=[];for(var v=0;v<c.length;v++){var N=c[v],J=N.color,O=J.value,Q=J.alpha;if(Q==null)Q=1;
I.push([N.offset,[O.r/255,O.g/255,O.b/255],Q])}g.G.Ky(I,m);Z={t:"Objc",v:w}}else if(o=="pattern"){R="PtFl";
s=cq.Zm;var w=JSON.parse(cq.Rq[cq.order.indexOf("patternFill")]),U;Z={t:"Objc",v:w};var A=l[o],f=A.meta.ux,W=f.uid,C=F["resources/"+W].buffer,j=f.flipX,K=f.flipY,$=W+j+K,r=fj.ZH(C);
if(S.PJ[$])U=S.PJ[$];else{var b=new gt(0,0,A.width,A.height),e;if(b.lh()||r==null){b=new gt(0,0,1,1);
e=new ArrayBuffer(4)}else{var P=fj.rU(r);if(P.pa){var L=new f9;P.Zk(C,L);e=L.zG().buffer}else{try{var Y=P.Zk(C)[0];
e=Y.data;b=Y.jH}catch(ey){e=new ArrayBuffer(b.c()*4)}}}U={};U.id=f9.T5()+"-d71c-11e5-b1ae-a548a96e5f9f";
U.name="someImage";U.dT=[new Uint8Array(e),b];if(j)g.t.yk(U.dT[0].slice(0),U.dT[0],b.Q,b._);if(K)g.t.afM(U.dT[0].slice(0),U.dT[0],b.Q,b._);
S.YE(U);S.PJ[$]=U}var X=D.clone();X.L5();X.translate(H.x,H.y);var G=H.Q,E=H._,T=U.dT[1].Q,y=U.dT[1]._,d4=Math.max(G/T,E/y);
if(f.scale)d4*=f.scale;var dH=new de;dH.translate(-T/2,-y/2);dH.scale(1/T,1/y);if(f.offsetX!=null)dH.translate(f.offsetX,f.offsetY);
dH.scale(T,y);dH.scale(d4,d4);dH.translate(G/2,E/2);dH.concat(X);cN.abj(U,w,0,0,1e3,dH)}else console.log(o);
if(R!=null){u.add[R]={classID:"null"};for(var v=0;v<s.length;v++){var eV=s[v];u.add[R][eV]=Z.v[eV]}}}};
var d1=function(){function l(V){return V.tagName?V.tagName.split(":").pop():null}function o(V,q,i){if(i&&i[0]==null)i=null;
V=new Uint8Array(V);var c,r=1;if(V[0]==255&&V[1]==254)c=x.pg(V,2,(V.length>>>1)-1);else c=x.Fs(V,0,V.length);
var z=new DOMParser,B=z.parseFromString(c,"image/svg+xml"),t=B.getElementsByTagName("style")[0];if(t)t=Typr.U.SVG.cssMap(t.textContent);
else t={};var a=B.firstChild;while(l(a)!="svg")a=a.nextSibling;var I=new gt(0,0,100,100),N=a.getAttribute("viewBox"),J=a.getAttribute("width"),Q=a.getAttribute("height"),A=J!=null?parseFloat(J):parseFloat(Q),f=Q!=null?parseFloat(Q):parseFloat(J);
if(N){var W=D(N);I.x=W[0];I.y=W[1];I.Q=W[2];I._=W[3];if(J!=null){var C=W[2]/W[3],j=A/f;if(j>C){var K=W[3]*j-I.Q;
I.x-=K/2;I.Q+=K}if(j<C){var $=W[2]/j-I._;I.y-=$/2;I._+=$}}}else if(J!=null||Q!=null){I.Q=A;I._=f}I=g.X.rP(I);
while(i&&Math.max(I.Q*r,I._*r)<Math.max(i[0],i[1]))r++;while(i==null&&Math.max(I.Q,I._)*r>8192)r*=.5;
q.hU=!0;q.Q=~~(I.Q*r);q._=~~(I._*r);var U=new de(r,0,0,r,-I.x*r,-I.y*r),b={yO:s(a),a3R:t,I1:0};H(B,a.children,q,U,b,new de,0);
if(q.R.length==0){var e=q.O7();e.FH("Layer");q.R.push(e)}}function D(V){var q=" ";if(V.indexOf(",")!=-1)q=",";
return V.split(q).map(parseFloat)}function H(V,q,i,c,z,B,t,a){var I=["display","opacity","fill-opacity","filter","clip-path"],N=0;
for(var J=0;J<q.length;J++){var Q=q[J],A=l(Q),f=Q.getAttribute("id"),j=13,b=1,L="clip-path",Y=null,bf=0;
if(f==null)f=Q.getAttribute("data-name");var W=s(Q,z.a3R);for(var C in z.yO)if(I.indexOf(C)==-1&&W[C]==null)W[C]=z.yO[C];
if(W["font-size"])j=S(W["font-size"],j);if(Q.getAttribute("dx"))c.ip+=S(Q.getAttribute("dx"),j);if(Q.getAttribute("dy"))c.nl+=S(Q.getAttribute("dy"),j);
var K=F(Q);K.concat(c);var $=Q.getAttribute("visibility"),r=W.display,U=i.O7();if($=="hidden"||r=="none")U.rm(!1);
U.FH(f!=null?f.split(":::")[0]:"Layer");if(W.opacity)b*=parseFloat(W.opacity);if(W["fill-opacity"]){var e=parseFloat(W["fill-opacity"]);
if(e!=0)b*=e}U.opacity=Math.round(255*b);if(W["mix-blend-mode"]){var P=b2.oK.indexOf(W["mix-blend-mode"]);
if(P!=-1)U.TY=b2.Jv[P]}if(Q.getAttribute(L)==null)L="mask";if(Q.getAttribute(L)!=null||W["clip-path"]){var X=Q.getAttribute(L);
if(X==null)X=W["clip-path"];X=X.slice(4,X.length-1);var G=V.getElementById(X.slice(1));if(G){var E=G.children;
Y=i.O7();Y.FH("Clip-Path"+(f?": "+f:""));Y.add.lsct=t<2?jl.VV:jl.qb;Y.TY="pass";Y.XL=24;var T=Y.add.vmsk=new d.dO;
i.R.push(i.k0());var y=[];if(G.getAttribute(L)){var X=G.getAttribute(L);X=X.slice(4,X.length-1);y=V.getElementById(X.slice(1)).children}for(var v=0;
v<E.length;v++){var d4=F(E[v]);d4.concat(K);var dH=u(i,V,E[v],!1).slice(2);g.n.Am(dH,d4);T.d=T.d.concat(dH)}for(var v=0;
v<y.length;v++){var d4=F(E[v]);d4.concat(K);var dH=u(i,V,y[v],!1).slice(2);for(var eV=0;eV<dH.length;
eV++)if(dH[v].HN!=null)dH[v].HN=3;g.n.Am(dH,d4);T.d=T.d.concat(dH)}for(var v=0;v<T.d.length;v++)if(T.d[v].HN!=null)T.d[v].HN=0;
Y.Xv();Y.C$();t++}}if(W.filter&&W.filter!="none"){var jd=W.filter,fD,eo,iX,g0=!1,bW=!1,hF=!1;jd=jd.slice(5,jd.length-1);
var i5=V.getElementById(jd),cK=[0,0,0,.5],aJ=K.jX();if(i5)for(var v=0;v<i5.children.length;v++){var iR=i5.children[v],ex=l(iR);
if(ex=="feGaussianBlur"){g0=!0;fD=parseFloat(iR.getAttribute("stdDeviation"))*aJ}if(ex=="feColorMatrix"){var dX=iR.getAttribute("values");
if(dX){dX=dX.split(" ").map(parseFloat);cK=[dX[4],dX[9],dX[14],dX[18]]}}if(ex=="feComposite"){hF=!0}if(ex=="feOffset"){bW=!0;
var iZ=iR.getAttribute("dx"),j3=iR.getAttribute("dy");eo=parseFloat(iZ?iZ:0)*aJ;iX=parseFloat(j3?j3:0)*aJ}}if(g0&&(hF||bW)){var by=hF?"IrSh":"DrSh";
if(by=="IrSh"){U.add.iOpa=0}var i9=JSON.parse(cq.Rq[cq.order.indexOf(by)]);i9.blur.v.val=Math.round(fD*2.4);
var dm=Math.sqrt(eo*eo+iX*iX);i9.uglg.v=!1;i9.Dstn.v.val=Math.round(dm);i9.lagl.v.val=Math.round(Math.atan2(iX,-eo)*(180/Math.PI));
i9.Clr.v=g.G.XF({$:cK[0]*255,H:cK[1]*255,J:cK[2]*255});i9.Opct.v.val=Math.round(cK[3]*100);_(U,cq.lZ[cq.order.indexOf(by)],i9)}else if(g0)bf=fD}if(A=="g"||A=="a"||A=="svg"||A=="switch"||(A=="text"||A=="textPath")&&Q.children.length>0||A=="symbol"&&a){if(A=="text")B=n(Q,B);
var kh=Q.getAttribute("viewBox"),jK=Q.getAttribute("width"),bd=Q.getAttribute("height");if(A=="svg"&&jK&&bd&&kh==null)kh="0 0 "+jK+" "+bd;
if(kh&&jK&&bd){var dz=D(kh),dw=n(Q),ev=new de;ev.translate(-dz[0],-dz[1]);ev.scale(parseFloat(jK)/dz[2],parseFloat(bd)/dz[3]);
ev.translate(dw.ip,dw.nl);ev.concat(K);K=ev}var aq=Q.children.length,e3=z.yO;z.yO=W;var a9=z.I1;z.I1=Math.max(z.I1,bf);
var e0=A!="text"&&A!="textPath"||aq>1;if(e0){var as=U.zd();U.add.lsct=t<2&&as&&(f==null||!f.endsWith(":::"))?jl.VV:jl.qb;
U.TY="pass";U.XL=24;U.rm(as);i.R.push(i.k0())}H(V,Q.children,i,K,z,B,t+1);if(e0)i.R.push(U);else{var eK=i.R[i.R.length-1];
eK.opacity=U.opacity;eK.TY=U.TY}z.I1=a9;z.yO=e3}else if(A=="use"){var ev=n(Q);ev.concat(K);var gh=O(Q),gx=V.getElementById(gh.slice(1));
if(gx){var e3=z.yO;z.yO=W;if(W.filter)gx.setAttribute("filter",W.filter);H(V,[gx],i,ev,z,B,t+1,!0);z.yO=e3}}else if(A=="path"||A=="rect"||A=="circle"||A=="ellipse"||A=="polygon"||A=="polyline"||A=="line"){U.XL|=16;
var T=U.add.vmsk=new d.dO,gc=W.fill,kQ=gc=="none"||W["fill-opacity"]&&parseFloat(W["fill-opacity"])==0;
T.d=u(i,V,Q,W["fill-rule"]=="evenodd",kQ);g.n.Am(T.d,K);var dn=W.stroke,bQ=W["stroke-width"],iK=W["stroke-dasharray"],cJ=W["stroke-linejoin"];
if(cJ==null)cJ="miter";var i1=W["stroke-linecap"];if(i1==null)i1="butt";var bu=W["stroke-miterlimit"];
if(bu==null)bu=4;else bu=parseFloat(bu);var gi=W["paint-order"],iv=!(dn==null||dn=="none"||dn=="null"),d0=U.add.vstk=cq.K$.ts(null,iv);
if(iv){var af=h(V,dn,K,T.d,i),eY=["SoFi","GrFl","patternFill"].indexOf(af.type),hV=af.P.v.Opct.v,fk=1;
if(hV.val!=100){U.opacity=Math.round(U.opacity*hV.val/100);hV.val=100}var i$=[cq.mh,cq.Mp,cq.Zm][eY],cz=d0.strokeStyleContent.v={classID:cq.K$.Gl[eY]};
for(var v=0;v<i$.length;v++)cz[i$[v]]=af.P.v[i$[v]];bQ=bQ?parseFloat(bQ):1;if(gi&&gi.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){fk=2;
bQ/=2}var ee={h_:["miter","round","bevel"].indexOf(cJ),iw:["butt","round","square"].indexOf(i1),W5:bQ,wk:bu};
if(iK!=null&&iK!="none")ee.dE=iK.split(",").map(parseFloat);cq.K$.write(d0,ee,K.jX());d0.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cq.K$.gU[fk];
d0.strokeStyleOpacity.v.val=100*(W["stroke-opacity"]?parseFloat(W["stroke-opacity"]):1);if(af.h6)U.add._sstl=af.h6}U.add.vstk.fillEnabled.v=!kQ;
if(kQ){U.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.G.XF({$:0,H:0,J:0})}}}else{var af=h(V,gc,K,T.d,i),aC=null,cI=null;
if(af.type=="SoFi"){aC="SoCo";cI=cq.mh}if(af.type=="GrFl"){aC="GdFl";cI=cq.Mp}if(af.type=="patternFill"){aC="PtFl";
cI=cq.Zm}if(aC!=null){var hV=af.P.v.Opct.v;if(hV.val!=100){U.opacity=Math.round(U.opacity*hV.val/100);
hV.val=100}U.add[aC]={classID:"null"};for(var v=0;v<cI.length;v++){var C=cI[v];U.add[aC][C]=af.P.v[C]}}if(af.h6)U.add._fstl=af.h6}var cZ=Math.max(bf,z.I1);
if(cZ!=0)U.add.vmsk.L4=cZ;U.Xv();U.C$(i);i.R.push(U)}else if((A=="text"||A=="tspan")&&Q.textContent!=""){B=n(Q,B);
var ev=B.clone(),iX=0;ev.concat(K);ev.translate(N,0);if(Q.children.length>0){var ad=s(Q.children[0],z.a3R);
for(var C in ad)if(I.indexOf(C)==-1)W[C]=ad[C]}var j0=W["xml:space"],cX=Q.textContent;if(j0=="preserve")cX=cX.replace(/\t/g," ").replace(/\n/g," ");
if(f==null)U.FH(cX);U.add.lnsr="rend";U.add.TySh=fX.D2(0,0);U.add.TySh.g6=new gt(0,0,100,100);U.add.TySh.h=ev.clone();
var bY=U.add.TySh.PF;fX.yQ(bY,0,cX);if(A=="tspan")N+=j*cX.length*.5*ev.jX();var gc=W.fill,io=W["font-weight"],et=W["font-family"],dR=W["text-decoration"],dn=W.stroke,bQ=W["stroke-width"],dZ=W["dominant-baseline"];
if(dZ=="text-before-edge")iX=j;else if(dZ=="middle")iX=j/2;else if(dZ=="hanging")iX=j;if(iX!=0)U.add.TySh.h.translate(0,iX);
var jh=fX.eF(bY,0,1);if(gc&&gc!="none"){var cK=CSS.Bc(gc);jh.i7.FillColor={Type:1,Values:[1,cK.$/255,cK.H/255,cK.J/255]}}if(dR=="underline")jh.i7.Underline=!0;
jh.i7.FontSize=Math.round(j);fX.LQ(jh,"LiberationSans");if(io=="bold")fX.LQ(jh,"LiberationSans-Bold");
if(et){et=et.split(",")[0].trim();if(et[0]=="\"")et=et.slice(1);if(et[et.length-1]=="\"")et=et.slice(0,et.length-1);
var jo=et+":"+(io?io:"normal"),co={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(co[jo])fX.LQ(jh,co[jo]);else fX.LQ(jh,et)}if(W["text-anchor"])jh.z5.Justification=["start","end","middle"].indexOf(W["text-anchor"]);
fX.fn(bY,0,cX.length,jh);if(dn==null||dn=="none"){}else{var i9=JSON.parse(cq.Rq[cq.order.indexOf("FrFX")]);
i9.Clr.v=g.G.XF(CSS.Bc(dn));i9.Sz.v.val=Math.round(parseFloat(bQ)*ev.jX());_(U,"frameFXMulti",i9)}i.R.push(U)}else if(A=="image"){var gh=O(Q);
if(gh&&gh.slice(0,4)=="data"){var h3=fj.co(gh),b1=h3,ij=i.M9(b1,U.getName(),0,0);ij.XL=U.XL;U=ij;var h0=U.rect.clone();
h0.x=h0.y=0;var gn=Q.getAttribute("width"),fS=Q.getAttribute("height");if(gn)h0.Q=parseFloat(gn);if(fS)h0._=parseFloat(fS);
var ka=n(Q);ka.concat(K);var g5=g.X.YZ(h0).s;g.X.h(g5,ka,g5);U.add.SoLd.Trnf=p.cA.y3(g5);U.add.SoLd.nonAffineTransform=p.cA.y3(g5);
U.mP(i,!1);i.R.push(U)}}else console.log("unknown tag: "+A,Q.children.length,Q.textContent.length);if(Y!=null){i.R.push(Y);
t--}}}function _(V,q,i){var c=V.add.lmfx;if(c==null){var c=V.add.lmfx=JSON.parse(cq.default);for(var v=0;
v<cq.order.length;v++)c[cq.lZ[v]]={t:"VlLs",v:[]}}c[q].v.push({t:"Objc",v:i})}function u(V,q,i,c,z){var B=[{type:6},{type:8,all:0}],t=l(i);
if(t=="use"){var a=O(i),I=q.getElementById(a.slice(1)),N=new de;if(l(I)!="rect")N=n(I);N.concat(F(I));
B=u(V,q,I,c,z);g.n.Am(B,N)}else if(t=="path"){var J=i.getAttribute("d");if(J==null)return B;var Q=Typr.U.SVGToPath(J);
B=g.X.Op({s:Q.crds,v:Q.cmds},c,z)}else if(t=="rect"){var A=i.getAttribute("rx"),f=new he(0,0);w("x",i,V,f,!0);
w("y",i,V,f,!1);var W=new he(0,0);w("width",i,V,W,!0);w("height",i,V,W,!1);B=g.n.Rd.Rect(f.x,f.y,W.x,W.y,A?parseFloat(A):0)}else if(t=="circle"||t=="ellipse"){var C=[0,0,0,0],j=["cx","cy","rx","ry","r"];
for(var v=0;v<5;v++){var K=i.getAttribute(j[v]);if(K){K=parseFloat(K);if(v<4)C[v]=K;else C[2]=C[3]=K}}B=g.n.Rd.lY(C[0]-C[2],C[1]-C[3],2*C[2],2*C[3])}else if(t=="polygon"||t=="polyline"||t=="line"){var $;
if(t=="line")$=[i.getAttribute("x1"),i.getAttribute("y1"),i.getAttribute("x2"),i.getAttribute("y2")].map(parseFloat);
else $=i.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
B=g.n.Rd.el($,0,t!="polygon")}return B}function S(V,q){if(V.charAt(V.length-1)=="m")return q*parseFloat(V.slice(0,V.length-2));
else return parseFloat(V)}function h(V,q,i,c,z){var B,t,a,I=JSON.parse(cq.Rq[cq.order.indexOf("SoFi")]),N=g.n.kU(c),J=q!=null?q.indexOf("("):-1;
if(J!=-1){var Q=q.indexOf(")"),A=q.slice(0,J).trim(),f=q.slice(J+1,Q).trim();if(f.charAt(0)=="'")f=f.slice(1,f.length-1);
if(A=="url"){if(f.charAt(0)=="#"){var W=V.getElementById(f.slice(1));if(W&&l(W).toLowerCase().endsWith("gradient")){a=m(V,W,i,N,c);
var C=kO.W_(a,c);B="GrFl";t={t:"Objc",v:C}}else if(W&&l(W).toLowerCase()=="pattern"&&W.children[0]&&l(W.children[0])=="use"){B="SoFi";
t={t:"Objc",v:I};var j=W.children[0],K=F(j),$=O(j),r=V.getElementById($.slice(1)),U=fj.co(O(r)).buffer,b=fj.rU(fj.ZH(U)),e=b.Zk(U)[0],P={};
P.id=f9.T5()+"-d71c-11e5-b1ae-a548a96e5f9f";P.name="someImage";P.dT=[new Uint8Array(e.data),e.jH];z.YE(P);
var I=JSON.parse(cq.Rq[cq.order.indexOf("patternFill")]);I.Scl.v.val=Math.round(100*N.Q*K.M);var L=I.phase.v;
L.Hrzn.v=Math.round(N.x+K.ip*N.Q);L.Vrtc.v=Math.round(N.y+K.nl*N._);I.Ptrn.v.Idnt.v=P.id;B="patternFill";
t={t:"Objc",v:I}}else{B="SoFi";t={t:"Objc",v:I}}}else console.log("unknown url",f)}else if(A=="rgb"||A=="rgba"){B="SoFi";
t={t:"Objc",v:I};t.v.Clr.v=g.G.XF(CSS.Bc(q));if(A=="rgba")t.v.Opct.v.val=Math.round(100*parseFloat(q.split(",").pop()))}else console.log("unknown fill",q)}else{B="SoFi";
t={t:"Objc",v:I};var Y=CSS.Bc(q);t.v.Clr.v=g.G.XF(Y);if(Y.M!=null)t.v.Opct.v.val=Math.round(100*Y.M/255)}return{type:B,P:t,h6:a}}function F(V){var q=new de,i=V.getAttribute("transform");
if(i)q=R(i);var c=V.getAttribute("style");if(c!=null){var z={};Z(z,c,["transform"]);c=z.transform;if(c)q.concat(R(c))}return q}function n(V,q){var i=new de,c=V.getAttribute("x"),z=V.getAttribute("y");
if(c)i.ip=parseFloat(c);else if(q)i.ip=q.ip;if(z)i.nl=parseFloat(z);else if(q)i.nl=q.nl;return i}function R(V){var q=Typr.U.SVG.readTrnf(V);
return new de(q[0],q[1],q[2],q[3],q[4],q[5])}function s(V,q){var i={},c="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap stroke-miterlimit font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var v=0;v<c.length;v++){var z=V.getAttribute(c[v]);if(z!=null&&z!="inherit")i[c[v]]=z}var B=V.getAttribute("class");
if(q!=null&&B!=null&&q["."+B]!=null)Z(i,q["."+B],c);var t=V.getAttribute("id");if(q!=null&&t!=null&&q["#"+t]!=null)Z(i,q["#"+t],c);
var a=V.getAttribute("style");if(a!=null)Z(i,a,c);return i}function Z(V,q,i){q=q.trim().split(";");for(var v=0;
v<q.length;v++){var c=q[v].split(":"),z=c[0]?c[0].trim():"",B=c[1]?c[1].trim():"";for(var t=0;t<i.length;
t++)if(z==i[t]&&B!="inherit")V[i[t]]=B}}function O(V){var q=V.getAttribute("xlink:href");if(q==null)q=V.getAttribute("href");
if(q==null)q=V.getAttribute("xl:href");return q}function w(V,q,i,c,z){var B=q.getAttribute(V);if(B==null)return;
var t=parseFloat(B);if(B.endsWith("%"))t*=(z?i.Q:i._)/100;if(z)c.x=t;else c.y=t}function m(V,q,i,c,z){var B=w,t=new de,a=q.getAttribute("gradientTransform"),f=!1;
if(a)t=R(a);t.concat(i);var I=l(q)=="linearGradient"?0:1,N=new he(0,0),J=new he(c.Q,0),Q=N.clone();if(I==0){var A=new gt(0,0,1,1);
B("x1",q,A,N,!0);B("y1",q,A,N,!1);B("x2",q,A,J,!0);B("y2",q,A,J,!1);Q.pN(N.x,N.y)}if(I==1){if(q.getAttribute("cx"))N.x=parseFloat(q.getAttribute("cx"));
if(q.getAttribute("cy"))N.y=parseFloat(q.getAttribute("cy"));J.pN(N.x,N.y);Q.pN(N.x,N.y);if(q.getAttribute("r"))J.x+=parseFloat(q.getAttribute("r"));
if(q.getAttribute("fx"))Q.x=parseFloat(q.getAttribute("fx"));if(q.getAttribute("fy"))Q.y=parseFloat(q.getAttribute("fy"))}var W=q;
while(!0){if(W.getAttribute("gradientUnits")=="userSpaceOnUse")f=!0;var C=O(W);if(C==null)break;W=V.getElementById(C.slice(1))}if(!f)t=new de(c.Q,0,0,c._,c.x,c.y);
t=kO.Yv(N,J,t);var j=kO.eN(I,t,z);kO.N1(j,N,J,Q);var K=q.children,$=j[1]=[];if(K.length==0){var r=O(q);
if(r==null)throw"gradient has no stops";var U=V.getElementById(r.slice(1));if(U==null){console.log(r.slice(1))}else $=j[1]=m(V,U,t,c,z)[1]}else for(var v=0;
v<K.length;v++){var b=K[v],e=s(b),P=e["stop-color"],L=e["stop-opacity"],Y=b.getAttribute("offset");if(P==null)P="#000000";
L=L==null?1:parseFloat(L);var X=Y?parseFloat(Y):0;if(Y&&Y.endsWith("%"))X/=100;P=CSS.Bc(P);if(P.M!=null)L*=P.M/255;
$.push([X,[P.$/255,P.H/255,P.J/255],parseFloat(L),.5])}return j}return{x2:o}}();d1.wd=function(){var l=null,o="",D="",H;
function _(a,I,N,J){var Q=[],C=" { ",j=" } ",K=!1;l=I;D=I.Mo?"":"\t";o=I.Mo?"":" ";var A=I.aua,f=I.aa9;
H=new gt(0,0,a.Q,a._);if(J!=null){H=a.root.children[J].U.IH();A=H.Q;f=H._}Q.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[H.x,H.y,H.Q,H._].join(" ")+"\" width=\""+A+"\" height=\""+f+"\">");
if(!I.Mo)Q.push(u(1)+"<title>"+i(a.name.split(".")[0])+"</title>");var W={dR:[],T3:[],nO:0,TT:0,L1:0,r2:{},XY:{},JH:0,f5:{},aia:{},Uq:0,uh:[]};
w(a,W,a.root.children,1,I,N,J);if(W.dR.length!=0){Q.push(u(1)+"<defs>");Q=Q.concat(W.dR);Q.push(u(1)+"</defs>")}Q.push(u(1)+"<style>");
if(I.Mo){C="{";j="}"}for(var v=0;v<a.R.length;v++)if(a.R[v].add.TySh)K=!0;if(K&&!I.auA&&!I.a22)Q.push(u(2)+"tspan"+C+"white-space:pre"+j);
for(var $ in W.f5)Q.push(u(2)+"."+$+C+W.f5[$]+j);Q.push(u(1)+"</style>");Q=Q.concat(W.T3);Q.push("</svg>");
Q=Q.join(I.Mo?"":"\n");return x.fe(Q)}function u(kC){var a="";for(var v=0;v<kC;v++)a+=D;return a}function S(kC,a){if(a==null)a=1;
var I=""+parseFloat(kC.toFixed(a));if(I.startsWith("0."))I=I.slice(1);return I}function h(a,I){var N=a.add.lmfx;
if(N)N=N[I].v[0];if(N)N=N.v;if(N&&!N.enab.v)N=null;return N}function F(a,I){var N=h(a,"frameFXMulti");
if(N){var J=N.Sz.v.val;if(N.Styl.v.FStl=="OutF"){I.push("paint-order:stroke fill markers");J*=2}O(I,CSS.mS(N.Clr.v),1);
if(J!=1)I.push("stroke-width: "+J);I.push("stroke-linejoin: round;")}}var n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function R(a){var I=n.length,N="";for(var J=1;J<10;J++){var Q=(I-10)*~~Math.pow(I,J-1);if(a<Q){for(var v=0;
v<J;v++){var A=v==J-1?10:0,f=I-A,W=a%f;N=n[W+A]+N;a=Math.floor((a-W)/f)}break}a-=Q}return N}function s(a,I,N,J){if(a.length!=0){if(J==null)J="s";
var Q=a.join(";"),A=I.aia[Q];if(A==null){A=l.Mo?R(I.Uq):J+I.Uq;I.Uq++;I.aia[Q]=A;I.f5[A]=Q}if(N)N.push(A);
return A}}function Z(a){if(l.Mo&&a.length==7&&a[0]=="#"){if(a[1]==a[2]&&a[3]==a[4]&&a[5]==a[6])a="#"+a[1]+a[3]+a[5]}return a}function O(a,I,N){I=Z(I);
if(I!="#000"||N==1)a.push((N==0?"fill:":"stroke:")+o+I)}function w(a,I,N,J,Q,A,f){var W=!1;for(var C=0;
C<N.length;C++){var j=N[C].U,K=j.add.lsct;if(j.aU)continue;if(j.add.artb&&f!=null&&C!=f)continue;if(!j.vN&&N[C+1]&&N[C+1].U.vN&&j.RR()&&j.add.vmsk){var $=[];
z(j,j.add.vmsk,I,$);I.T3.push(u(J)+"<g "+$[0]+">");J++;W=!0}else if(!j.vN&&N[C-1]&&N[C-1].U.vN&&W){J--;
I.T3.push(u(J)+"</g>");W=!1}var r=j.add.vmsk,U=j.add.vogk,b=j.add.vstk,e=j.add.TySh;if(r&&!r.isEnabled)r=b=null;
var P=[];if(!Q.hidden&&!j.zd())continue;var L=j.opacity/255,Y=j.add.iOpa?j.add.iOpa/255:1;if(j.Cl()){L*=Y;
Y=1}if(L!=1)P.push("opacity:"+o+S(L));if(Y!=1)P.push("fill-opacity:"+o+S(Y));if(j.TY!="norm"){var X=b2.oK[b2.Jv.indexOf(j.TY)];
if(X!=null)P.push("mix-blend-mode:"+o+X)}if(!j.zd())P.push("display:"+o+"none");var $=[],G=[],E=j.getName(),T=E.indexOf(" .");
if(!Q.Mo)$.push("id=\""+i(E)+"\"");var y=cN.a9U(j.add.lmfx,j.add),d4=y[0],dH=y[1],eV=j.add.SoLd;if(eV&&eV.filterFX){var bf=eV.filterFX.v;
if(bf.enab.v&&bf.filterFXList.v.length!=0)eV=null}if(j.Cl()){var jd=N[C].children;if(jd.length==1&&jd[0].U.add.SoLd&&!Q.gA){}else{var i5=r,fD=jd.length==0?null:jd[jd.length-1].U;
if(a8==1&&fD&&fD.aU&&fD.zd())i5=fD.add.vmsk;z(j,i5,I,$);if(P.length!=0)$.push("style=\""+P.join(";")+"\"");
if(d4){var eo=CSS.mS(d4.Clr.v),iX="f"+I.TT;I.TT++;I.T3.push(u(J)+"<filter id=\""+iX+"\">");I.T3.push(u(J+1)+"<feFlood flood-color=\""+eo+"\" flood-opacity=\""+S(d4.Opct.v.val/100,2)+"\" />");
I.T3.push(u(J+1)+"<feBlend mode=\""+b2.oK[b2.Jv.indexOf(b2.kt(d4.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
I.T3.push(u(J+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");I.T3.push(u(J)+"</filter>");
$.push("filter=\"url(#"+iX+")\"")}var cK=q($,G),g0=Q.Mo&&cK=="";if(!g0)I.T3.push(u(J)+"<g"+(cK==""?"":" "+cK)+">");
w(a,I,jd,J+1,Q,A);if(!g0)I.T3.push(u(J)+"</g>")}}else if(j.RR()&&r==null){B(a,P,j.add,I,H,Q);if(P.length!=0)$.push("style=\""+P.join(";")+"\"");
I.T3.push(u(J)+"<rect width=\""+H.Q+"\" height=\""+H._+"\" "+q($,G)+"/>")}else if(r&&eV==null){B(a,P,j.add,I,dq,Q,r.d);
s(P,I,G);var hF,aJ=null,iR=0,ex;if(U.length!=0){hF=U[0].v;aJ=hF.keyOriginType;if(aJ)aJ=aJ.v;if(aJ==2){var dX=g.uQ.LH(hF);
iR=dX[0];for(var v=0;v<3;v++)if(iR!=dX[v+1])aJ=null}}if(U.length==1&&aJ==5&&Math.abs(g.uQ.aD7(hF))<1e-4){var iZ=g.uQ.QZ(hF),j3=(iZ[0]+iZ[2])/2,by=(iZ[1]+iZ[3])/2,i9=j3-iZ[0],dm=by-iZ[1],kh=Math.abs(i9-dm)<.01,jK=kh?"r=\""+S(i9)+"\"":"rx=\""+S(i9)+"\" ry=\""+S(dm)+"\"";
ex="<"+(kh?"circle":"ellipse")+" "+q($,G)+" cx=\""+S(j3)+"\" cy=\""+S(by)+"\" "+jK+"/>"}else if(U.length==1&&aJ==2&&iR!=0&&Math.abs(g.uQ.aD7(hF))<1e-4){var iZ=g.uQ.QZ(hF),bd=iZ[0],dz=iZ[1],dw=iZ[2]-iZ[0],ev=iZ[3]-iZ[1],aq="";
if(bd!=0)aq+=" x=\""+S(bd)+"\"";if(dz!=0)aq+=" y=\""+S(dz)+"\"";aq+=" width=\""+S(dw)+"\"";aq+=" height=\""+S(ev)+"\"";
aq+=" rx=\""+S(iR)+"\"";ex="<rect "+q($,G)+aq+"></rect>"}else{var e3,a9;if(a8==0){var e0=g.n.Sh(r.d,1);
e3=e0.Xz;a9=e0.PH}else{var as=g.X.Ja(r.d);e3=Typr.U.pathToSVG({crds:as.s,cmds:as.v},1);a9=r.HN}if(a9!=0){$.push("fill-rule=\"evenodd\"")}ex="<path "+q($,G)+" d=\""+e3+"\"/>"}I.T3.push(u(J)+ex)}else if(e&&Q.auA){o=Q.Mo?"":" ";
var eK=e.PF,gh=new f8(eK,A,e.CQ),gx=null;if(d4)gx=CSS.mS(d4.Clr.v);if(dH){var iZ=j.rect.clone();t(dH,I,iZ,Q);
gx="url(#g"+I.nO+")"}if(gx)P.push("fill:"+o+gx);F(j,P);var as=dr.KZ(gh,e,!0),gc=g.X.yJ(as);for(var kQ in gc){var dn=P.slice(0),bQ=G.slice(0),iK=$.slice(0);
if(gx==null){O(dn,kQ.slice(0,7),0);if(kQ.length>7){var cJ=kQ.slice(7).split("-");console.log(cJ);O(dn,cJ[1],1);
if(cJ[2]!="1")dn.push("stroke-width:"+o+cJ[2])}}s(dn,I,bQ);var i1=gc[kQ],cJ=Typr.U.pathToSVG({crds:i1.s,cmds:i1.v},1);
I.T3.push(u(J)+"<path "+q(iK,bQ)+(Q.Mo?"":" "+V(e))+" d=\""+cJ+"\"/>")}}else if(e&&!Q.a22){var eK=e.PF,bu=e.h.clone(),gx=null;
P.push("transform:"+o+c(bu));var gi=fX.PZ(eK),gh=new f8(eK,A,e.CQ);F(j,P);if(P.length!=0)$.push("style=\""+P.join(";")+"\"");
I.T3.push(u(J)+"<text "+q($,G)+" >");if(d4)gx=CSS.mS(d4.Clr.v);if(dH){var iZ=j.rect.clone();iZ.x-=bu.ip;
iZ.y-=bu.nl;t(dH,I,iZ,Q);gx=" url(#g"+I.nO+")"}for(var v=0;v<gh.z5.length;v++){var iv=gh.z5[v];if(iv.M7.length==1&&iv.M7[0].Ge)continue;
for(var d0=0;d0<iv.j7.length;d0++){var af=iv.j7[d0],by=iv.Q4.y+af.Q4.y,eY=iv.M7[af.start].start,hV=iv.M7[af.end-1].end,i$=fX.akS(eK,eY,hV),cz="";
for(var fk=0;fk<i$.length;fk++){var ee=gh.ym(eY),aC=i$[fk],cI=fX.eF(eK,eY,eY),cZ=cI.LJ[cI.i7.Font].Name,kQ=fX.s3(cI.i7.FillColor),ad=Math.round(cI.i7.FontSize),j0=gi.slice(eY,eY+aC);
if(cI.i7.FontCaps==2)j0=j0.toUpperCase();var cX=new de;cX.translate(ee.hR.x,-by);var bY=[];CSS.aqz(bY,cI,null,!0,!0,gx);
var io=s(bY,I,null,"t");io=io?" class=\""+io+"\"":"";var j3=ee.hR.x,et=m(cI,j0);cz+="<tspan "+(fk==0?"x=\""+S(ee.hR.x)+"\"":"")+" y=\""+S(by)+"\""+io+et+">"+i(j0)+"</tspan>";
eY+=aC}I.T3.push(u(J+1)+cz)}}I.T3.push(u(J)+"</text>")}else if(eV&&Q.gA&&d4==null){var iX=eV.Idnt.v,dR=0,dZ=eV.Crop?eV.Crop.v:null;
if(I.XY[iX]!=null)dR=I.XY[iX];else{I.JH++;dR=I.JH;I.XY[iX]=I.JH;var jh=a.Es(iX,dZ),h3="";if(jh==null)return;
var jo=jh.f2,co=fj.ZH(jh.raw.buffer);if(co=="pdf"){var b1=new f9("h");fj.rU("PDF").Zk(jh.raw.buffer,b1);
b1.Vr();b1.Ou();b1.V();b1.dh();if(eV.Crop&&eV.Crop.v==1){p.WS.Du(b1,b1.root.fZ(b1,!0))}var ij=fj.rU("SVG").MJ(b1,b1.Q,b1._,null,{uh:A});
h3="data:image/svg+xml;base64,"+fj.Im(ij)}else if(co=="jpg"||co=="png"||co=="gif"||co=="svg"){var h0={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
h3="data:"+h0[co]+";base64,"+fj.Im(jh.raw.buffer)}else{h3=fj.f1(jo[0].buffer,jo[1].Q,jo[1]._)}I.dR.push(u(2)+"<image width=\""+jo[1].Q+"\" height=\""+jo[1]._+"\" id=\"img"+dR+"\" href=\""+h3+"\"/>")}var gn=g.t.Ro(eV),fS=[];
z(j,r,I,fS);if(fS.length!=0)I.T3.push(u(J)+"<g "+q(fS,G)+">");if(P.length!=0)$.push("style=\""+P.join(";")+"\"");
var ka=q($,G);I.T3.push(u(J)+"<use "+ka+" href=\"#img"+dR+"\" transform=\""+c(gn)+"\"/>");if(fS.length!=0)I.T3.push(u(J)+"</g>")}else if(!j.rect.lh()&&(Q.gA||e)){if(P.length!=0)$.push("style=\""+P.join(";")+"\"");
var ka=q($,G),g5=j.buffer;if(d4)g5=cN.awN(g5,d4,j.rect);var a9=j.rect;I.JH++;var h3=fj.f1(g5.buffer,a9.Q,a9._,"png",null,!0);
I.dR.push(u(2)+"<image "+V(e)+" width=\""+j.rect.Q+"\" height=\""+j.rect._+"\" id=\"img"+I.JH+"\" href=\""+h3+"\"/>");
I.T3.push(u(J)+"<use "+ka+" href=\"#img"+I.JH+"\" x=\""+a9.x+"\" y=\""+a9.y+"\"/>")}}if(W){J--;I.T3.push(u(J)+"</g>");
W=!1}}function m(a,I){var N=a.i7.Tracking,J="";if(N!=null&&N!=0){N=Math.round(N*a.i7.FontSize/1e3);J=" dx=\"0";
for(var Q=1;Q<I.length;Q++)J+=" "+N;J+="\" "}return J}function V(a){if(a==null)return"";var I=a.PF,N=fX.PZ(I);
N=i(N.slice(0,N.length-1));return"aria-label=\""+N+"\" "}function q(a,I){if(I.length!=0)a.push("class=\""+I.join(" ")+"\"");
return a.join(" ")}function i(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function c(a){var I=[a.M,a.J,a.oe,a.me,a.ip,a.nl];
for(var v=0;v<6;v++)I[v]=S(I[v],3);return"matrix("+I.join(",")+")"}function z(a,I,N,J){if(I||a.add.artb){var Q;
if(I)Q=g.n.Sh(I.d).Xz;else{var A=a.IH(),f=g.X.YZ(A);Q=Typr.U.pathToSVG({crds:f.s,cmds:f.v},1)}N.L1++;
J.push("clip-path=\"url(#cp"+N.L1+")\"");N.dR.push(u(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+N.L1+"\">");
N.dR.push(u(3)+"<path d=\""+Q+"\"/>");N.dR.push(u(2)+"</clipPath>")}}function B(a,I,N,J,Q,A,f){var W=N.vmsk,C=N.lmfx,j=[];
if(W&&W.L4!=0){var K=S(W.L4);if(J.r2[K]==null){J.TT++;J.r2[K]=J.TT;J.dR.push(u(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+J.TT+"\"> <feGaussianBlur stdDeviation=\""+K+"\"/> </filter>")}j.push("url(#f"+J.r2[K]+")")}if(C)for(var v=0;
v<cq.order.length;v++){var $=cq.order[v],r=cq.lZ[v],U=C[r].v;for(var b=0;b<U.length;b++){var e=U[b].v,P=e.classID;
if(!e.enab.v)continue;if(P=="OrGl"||P=="DrSh"){J.TT++;j.push("url(#f"+J.TT+")");var L=0,Y=0,X=e.blur.v.val/2.4,G=e.Opct.v.val/100;
if(P=="DrSh"){var E=e.uglg&&e.uglg.v?a.Ry():e.lagl.v.val;E=E*(Math.PI/180);var T=e.Dstn.v.val;L=-Math.cos(E)*T;
Y=Math.sin(E)*T}if(P=="OrGl")G/=e.Inpr.v.val/100;var y="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+J.TT+"\" >";
y+="<feDropShadow dx=\""+L+"\" dy=\""+Y+"\" stdDeviation=\""+X+"\" flood-color=\""+CSS.mS(e.Clr.v)+"\" flood-opacity=\""+S(G)+"\"/>";
y+="</filter>";J.dR.push(u(2)+y)}}}if(j.length!=0)I.push("filter:"+o+j.join(" "));var d4=N.vstl;if(d4==null)d4=f9.vm(N,a);
for(var v=0;v<2;v++){var dH=v==0?d4.h6:d4.IS;if(dH.length==0){if(v==0)I.push("fill:"+o+"none")}else if(dH.length==3)O(I,CSS.Ir({$:dH[0]*255,H:dH[1]*255,J:dH[2]*255}),v);
else{t(dH,J,Q,A,f);O(I,"url(#g"+J.nO+")",v)}}if(d4.IS.length!=0){var eV=d4.iw,bf=d4.h_,jd=d4.W5,i5=d4.QH,fD=d4.dE;
if(i5==2){jd*=2;I.push("paint-order:stroke fill markers")}if(eV!=0)I.push("stroke-linecap:"+o+["butt","round","square"][eV]);
if(bf!=0)I.push("stroke-linejoin:"+o+["miter","round","bevel"][bf]);else if(d4.wk!=4)I.push("stroke-miterlimit:"+d4.wk);
if(jd!=1)I.push("stroke-width:"+o+S(jd));if(fD.length!=0)I.push("stroke-dasharray:"+o+fD.join(","))}}function t(a,I,N,J,Q){if(Q==null)Q=g.n.Rd.Rect(N.x,N.y,N.Q,N._);
if(!(a instanceof Array))a=kO.rf(a,Q);I.nO++;var A=a[0],f=(A==1?"radial":"linear")+"Gradient",W=u(2)+"<"+f+" id=\"g"+I.nO+"\"",C="";
if(J.Mo){if(I.nO==1)I.dR.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");C=" href=\"#P\""}else C=" gradientUnits=\"userSpaceOnUse\"";
var j=kO.bT(a,Q),K=[new he(0,0),new he(1,0)];C+=" gradientTransform=\""+c(j)+"\"";var $=J.Mo?2:3;if(A==0)I.dR.push(W+" x2=\"1\""+C+">");
if(A==1){if(a[2][6]!=0){var r=a[2][5]*Math.PI/180,U=a[2][6];I.dR.push(W+" cx=\"0\" cy=\"0\" r=\"1\" fx=\""+S(Math.cos(r)*U,$)+"\" fy=\""+S(-Math.sin(r)*U,$)+"\""+C+">")}else I.dR.push(W+" cx=\"0\" cy=\"0\" r=\"1\""+C+">")}var b=a[1];
for(var v=0;v<b.length;v++){var e=b[v],P=e[0],L=e[1],Y=e[2];Y=Y==1?"":" stop-opacity=\""+S(Y,$)+"\"";
var X=P==0&&J.Mo?"":" offset=\""+S(P,$)+"\"",G=CSS.Ir({$:L[0]*255,H:L[1]*255,J:L[2]*255});G=J.Mo&&G=="#000000"?"":" stop-color=\""+Z(G)+"\"";
I.dR.push(u(3)+"<stop"+X+G+Y+"/>")}I.dR.push(u(2)+"</"+f+">")}d1.kK=c;return _}();d1.Rd=function(l,o,D,H,_){var u=[],S=d1.Rd,h=!1,F={pX:l,B9:o,E4:[!0,!0,!0],Uf:!1,WB:D,aoI:0};
F.mw=Math.round(Math.max(l,o)*(.02+S.mz(F)*.03));F.Le=S.aiT(F);F.DN=S.aD$(F.Le,(S.mz(F)<.5?-1:1)*(.2+S.mz(F)*.3));
if(S.mz(F)<.5){var n=F.Le;F.Le=F.DN;F.DN=n}F.aea=S.mz(F)<.4&&S.a4H(F.DN,{$:1,H:1,J:1})>.3;F.aDO=S.mz(F)<.5?0:1;
u.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+l+" "+o+"\" width=\""+l+"\" height=\""+o+"\">");
F.Eg=H[Math.floor(S.Bh(F)*H.length)];F.Ee=H[Math.floor(S.Bh(F)*H.length)];u.push("<style>");u.push("@font-face {  font-family: "+F.Eg[2]+";  src: url("+eJ.NO("rsrc/fonts/")+F.Eg[5]+");  }");
u.push("@font-face {  font-family: "+F.Ee[2]+";  src: url("+eJ.NO("rsrc/fonts/")+F.Ee[5]+");  }");u.push("</style>");
var R=[0,0,l,o],s=R;if(_==null)u.push("<path style=\"fill: "+S.qj(F.Le)+"\" d=\""+S.Rect(R[0],R[1],R[2]-R[0],R[3]-R[1])+"\" id=\"Background\" />");
else{F.Uf=!0;S.amo(F,R,u,_)}if(S.mz(F)<.25&&!F.Uf){F.E4[0]=F.E4[2]=!1;S.a8E(R,F,u);s=R}else if(S.mz(F)<.25||F.Uf)s=R;
else{var Z=.52+S.mz(F)*.2;if(S.mz(F)<.5)Z=1-Z;var O=R.slice(0),w=R.slice(0);if(S.mz(F)<.5)O[2]=w[0]=Math.round(Z*l);
else O[3]=w[1]=Math.round(Z*o);if(S.mz(F)<.5){var n=O;O=w;w=n}s=O;S.a14(F,w,u,_)}S.ar2(F,s,u);u.push("</svg>");
u=u.join("\n");var m=g.o(Math.round(u.length*1.5)),V=x.ma(u,m,0);return[m.buffer.slice(0,V),F.Ao]};d1.Rd.a8E=function(l,o,D){var H=d1.Rd,_=l[2]-l[0],u=l[3]-l[1];
if(H.mz(o)<.5){D.push("<path id=\"Border\" style=\"fill: "+H.qj(o.DN)+"\" d=\""+H.a11(l[0],l[1],l[2]-l[0],l[3]-l[1],o.mw)+"\" />")}else if(H.mz(o)<-.4){H.aCt(o,l,D)}else{var S=H.mz(o)<.5?0:1,h=(S==0?u:_)/4,F=H.eO(o,S,l,D,h,!0),F=H.eO(o,S+2,l,D,h,!0,F)}};
d1.Rd.ar2=function(l,o,D){var H=d1.Rd,_="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),u=2*Math.floor(H.mz(l)*_.length/2),S=o[2]-o[0],h=o[3]-o[1],n=0,s=0;
l.lj=(l.pX+S)*.5*(.04+H.mz(l)*.05);l.lj=Math.min(l.lj,h*.4,S*.12);l.lj=Math.round(l.lj);var F=Math.min(l.lj*_[u].length*(.35+.3*H.mz(l)),S*.9),R=(o[1]+o[3])/2,Z=g.SV(l.Le)<.85?{$:1,H:1,J:1}:{$:.1,H:.1,J:.1};
if(H.mz(l)<.25&&l.E4[0]){s=0;n=o[0]+l.mw}else if(H.mz(l)<.33&&l.E4[2]){s=2;n=o[2]-l.mw}else{s=1;n=(o[0]+o[2])/2}var O=Z.$==1?"0,0,0":"255,255,255",w=l.Uf&&H.mz(l)<1;
if(w){var m=o[0],V=S,q=R-l.lj*1.1,i=l.lj*2.2,c=.7;if(s==1&&H.mz(l)<.5){m=q=.2*Math.min(S,h);V=S-2*q;
i=h-q-q}else if(H.mz(l)<.7){m=q=0;V=S;i=h;c=.25}D.push("<path id=\"Strip\" style=\"fill: rgb("+O+"); opacity: "+c+"\" d=\""+H.Rect(m,q,V,i)+"\" />")}if(H.mz(l)<.4){var z=l.lj*.07;
z*=1.5+H.mz(l)*1;if(s==-1&&S/h<3&&!w){D.push("<path id=\"Bar-bottom\" style=\"fill: "+H.qj(Z)+"\" d=\""+H.Rect(n-F/2,R+l.lj*1.1-z/2,F,z)+"\" />");
D.push("<path id=\"Bar-top\"    style=\"fill: "+H.qj(Z)+"\" d=\""+H.Rect(n-F/2,R-l.lj*1.1-z/2,F,z)+"\" />")}if(s!=1){D.push("<path id=\"Bar\" style=\"fill: "+H.qj(Z)+"\" d=\""+H.Rect(n-z/2,R-l.lj*.8,z,l.lj*.8*2)+"\" />");
n+=(s==0?1:-1)*l.lj/3}}var B=l.lj*.4;D.push(H.aAZ(_[u+1],n,R+B*1.6,B,Z,s,l.Ee));D.push(H.aAZ(_[u],n,R+l.lj*.04,l.lj,Z,s,l.Eg))};
d1.Rd.a14=function(l,o,D,H){var _=o[2]-o[0],u=o[3]-o[1],S=Math.max(_,u),h=Math.min(_,u),F=d1.Rd;if(S/h<5&&!l.Uf&&!1){F.amo(l,o,D,H)}else if(F.mz(l)<0)D.push("<path style=\"fill: "+F.qj(l.DN)+"\" d=\""+F.Rect(o[0],o[1],_,u)+"\" />");
else{var n=0;if(o[3]!=l.B9)n=0;if(o[2]!=l.pX)n=3;if(o[0]!=0)n=1;if(o[1]!=0)n=2;var R=n+2&3;if(S/h<3){var s=F.a5Y(R),Z=s[Math.round(F.mz(l)*(s.length-1))],O=Z.Nt.slice(0,4),w=O.indexOf(1);
Z=JSON.parse(JSON.stringify(Z));var m=-1;if(O!="0000"){var V=new de;if(Z.Nt[5]=="0"){if(w==3&&n==1){m=1;
V.scale(-1,1)}else m=w}else{var q=R;while(q==R)q=Math.floor(F.mz(l)*4)&3;V.rotate((-w+q)*Math.PI/2)}F.h(Z,V)}var i=F.dm(Z),c=_-2*l.mw,z=u-2*l.mw;
if(m!=-1){if((m&1)==0)z-=l.mw;else c-=l.mw}var B=Math.min(c/i.Q,z/i._),t=new de;t.translate(-i.x,-i.y);
t.scale(B,B);var a=(_-i.Q*B)/2,I=(u-i._*B)/2;if(m!=-1){if(m==3)a=0;if(m==0)I=0;if(m==1)a=_-i.Q*B;if(m==2)I=u-i._*B}t.translate(o[0]+a,o[1]+I);
F.F_(l,Z,t,l.DN,D)}else{F.eO(l,n,o,D,1e9)}}};d1.Rd.amo=function(l,o,D,H){var _=o[2]-o[0],u=o[3]-o[1],S=Math.max(_,u),h=Math.min(_,u),F=d1.Rd,n=F.Bh(l),R,s,Z,O=H[0]instanceof ArrayBuffer;
if(O){R="data:image/jpg;base64,"+iT.Wp(H[0]);s=H[1];Z=H[2]}else{var w=Math.floor(n*H.length),m=H[w];
l.Ao=m;R=m.webformatURL;s=m.webformatWidth;Z=m.webformatHeight}var V=o[0],q=o[1],i=_,c=u;if(_/u>s/Z){c=i*Z/s;
q=q-(c-u)/2}else{i=c*s/Z;V=V-(i-_)/2}if(O){D.push("<defs>");D.push("<image width=\""+s+"\" height=\""+Z+"\" id=\"Background\" href=\""+R+"\" />");
D.push("</defs>");var z=i/s;D.push("<use href=\"#Background\" transform=\""+d1.kK(new de(z,0,0,z,V,q))+"\" />")}else{var B="cp"+Math.random();
D.push("<clipPath id=\""+B+"\">");D.push("<path style=\"fill: "+F.qj(l.DN)+"\" d=\""+F.Rect(o[0],o[1],_,u)+"\" />");
D.push("</clipPath>");D.push("<image  clip-path=\"url(#"+B+")\" xlink:href=\""+R+"\" x=\""+V+"\" y=\""+q+"\" width=\""+i+"\" height=\""+c+"\" />")}};
d1.Rd.aAZ=function(l,o,D,H,_,u,S){var h=d1.Rd;return"<text x=\""+o+"\" y=\""+D+"\" style=\"fill:"+h.qj(_)+"; font-size:"+H+"px; text-anchor:"+["start","middle","end"][u]+"; font-family:"+S[2]+";\"><tspan>"+l+"</tspan></text>"};
d1.Rd.F_=function(l,o,D,H,_){var u=d1.Rd,S=[];for(var v=0;v<o.Qz.length;v++){S.push(H);if(l.aea){H=(v&1)==l.aDO?{$:1,H:1,J:1}:S[0]}}_.push("<g id=\""+o.Nt.split("-")[2]+":::\" style=\"transform: "+d1.kK(D)+";\" >");
for(var v=0;v<o.Qz.length;v++){var h=o.Qz[v];H=S.pop();_.push("<path style=\"fill: "+(H?u.qj(H):"#"+h[0])+"\" d=\""+Typr.U.pathToSVG({crds:h[1].s,cmds:h[1].v})+"\" />")}_.push("</g>")};
d1.Rd.aCt=function(l,o,D){var H=d1.Rd,_=d1.Rd.tf,u=[];for(var v=0;v<_.length;v++){var S=_[v],h=S.Nt.slice(0,4);
if(h!="1001")continue;u.push(S)}var S=u[Math.floor(H.mz(l)*u.length)];if(H.mz(l)<.5)H.h(S,new de(0,1,1,0,0,0));
var F=o[3]-o[1],n=o[2]-o[0],R=H.dm(S),s=.7*Math.min(n,F,.5*Math.max(n,F))/Math.max(R.Q,R._),Z=new de;
Z.scale(s,s);if(H.mz(l)<.5){Z.scale(1,-1);Z.translate(0,F)}H.F_(l,S,Z,l.DN,D);Z.rotate(Math.PI);Z.translate(n,F);
H.F_(l,S,Z,l.DN,D)};d1.Rd.a5Y=function(l){var o=d1.Rd.tf,D=[];for(var v=0;v<o.length;v++){var H=o[v],_=H.Nt.slice(0,4);
if(_=="0000"){D.push(H);continue}if(["1000","0100","0010","0001"].indexOf(_)==-1)continue;var u=_.indexOf("1");
if(H.Nt[5]=="0"&&l==u&&u!=3)continue;D.push(H)}return D};d1.Rd.eO=function(l,o,D,H,_,u,S){var h=d1.Rd.tf,F=d1.Rd,n=[],i,c;
for(var v=0;v<h.length;v++){var R=h[v],s=R.Nt.slice(0,4);if(["1110","1101","1011","0111"].indexOf(s)==-1)continue;
var Z=s.indexOf("0")+2&3;if(R.Nt[5]=="0")if(u==!0||o!=Z&&!(o==1&&Z==3))continue;n.push(R)}var O=S!=null?S:Math.floor(F.mz(l)*n.length),R=n[O],R=JSON.parse(JSON.stringify(R)),s=R.Nt.slice(0,4),Z=s.indexOf("0")+2&3;
if(Z==3&&o==1)g.h(R,new de(1,0,0,-1,0,1e3));var w=new de;w.translate(-500,-500);w.rotate(-Z*Math.PI/2);
w.translate(500,500);F.h(R,w);var m=D[3]-D[1],V=D[2]-D[0],q=F.dm(R);if(q.y<0){q._+=q.y;q.y=0}if(q.y>0){q._+=q.y;
q.y=0}if((o&1)==0){c=m;i=V}else{i=m;c=V}var z=Math.min(Math.min(.5+.5*F.mz(l))*Math.min(V,m),_)/q._,B=Math.ceil(i/(1e3*z)),t=new de,a=new de;
a.scale(z,z);if(o==0||o==2){a.translate(-(V/2),-(m/2));a.rotate(-o*Math.PI/2);a.translate(V/2+D[0],m/2+D[1])}else{a.rotate(Math.PI/2);
a.scale(1,-1);a.translate(D[0],D[1]);if(o==1){a.scale(-1,1);a.translate(V,0)}}H.push("<g id=\"Border-"+["top","right","bottom","left"][o]+":::\">");
for(var v=0;v<B;v++){var I=t.clone();I.concat(a);F.F_(l,R,I,l.DN,H);t.translate(1e3-2,0)}H.push("</g>");
return O};d1.Rd.Rect=function(l,o,D,H){return Typr.U.pathToSVG({crds:[l,o,l+D,o,l+D,o+H,l,o+H],cmds:["M","L","L","L","Z"]})};
d1.Rd.a11=function(l,o,D,H,_){var u=[l,o,l+D,o,l+D,o+H,l,o+H];l+=_;o+=_;D-=2*_;H-=2*_;u.push(l,o,l,o+H,l+D,o+H,l+D,o);
return Typr.U.pathToSVG({crds:u,cmds:"M L L L Z M L L L Z".split(" ")})};d1.Rd.aD$=function(l,o){var D=g.RL(l.$,l.H,l.J);
D.Cx=Math.max(.1,Math.min(.9,D.Cx+o));return g.Za(D.B9,D.lv,D.Cx)};d1.Rd.ad$=function(l,o){var D=g.RL(l.$,l.H,l.J);
D.B9+=o;return g.Za(D.B9,D.lv,D.Cx)};d1.Rd.agF=function(l){var o=g.RL(l.$,l.H,l.J);o.Cx=1-o.Cx;return g.Za(o.B9,o.lv,o.Cx)};
d1.Rd.a4H=function(l,o){var D=l.$-o.$,H=l.H-o.H,_=l.J-o.J;return Math.sqrt(D*D+H*H+_*_)};d1.Rd.aiT=function(l){var o=d1.Rd;
return{$:o.mz(l),H:o.mz(l),J:o.mz(l)}};d1.Rd.qj=function(l){return CSS.Ir({$:l.$*255,H:l.H*255,J:l.J*255})};
d1.Rd.dm=function(l){var o=l.Qz,D=new gt;for(var v=0;v<o.length;v++)D=D.tB(g.X.dm(o[v][1].s));return D};
d1.Rd.h=function(l,o){var D=l.Qz;for(var v=0;v<D.length;v++)g.X.h(D[v][1].s,o,D[v][1].s)};d1.Rd.mz=function(l){l.aoI++;
var o=l.aoI&3;if(o==0)l.WB=d1.Rd.cT(l.WB);var D=l.WB>>>8*o&255;return D*(.99999999/255)};d1.Rd.Bh=function(l){var o=d1.Rd.cT(l.WB);
l.WB=d1.Rd.cT(o);return o*(1/4294967295)};d1.Rd.cT=function(l){l=(l^61^l>>>16)>>>0;l=l+(l<<3)>>>0;l=(l^l>>>4)>>>0;
l=l*668265261>>>0;l=(l^l>>>15)>>>0;return l};d1.Rd.tf=[{Nt:"0001-0-bird",Qz:[["4b3c34",{v:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),s:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{v:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),s:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{v:"M C C C C C C C C C C C C L Z".split(" "),s:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{Nt:"0001-0-bird2",Qz:[["ff7f2a",{v:"M L L L Z M L L L Z".split(" "),s:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{v:"M C C C C C C C C C C C L Z".split(" "),s:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{v:"M C C C C C C L Z M C C Z".split(" "),s:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{v:"M L L L Z M L L L Z".split(" "),s:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{v:"M L C C C C C C C C L Z".split(" "),s:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{v:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),s:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{Nt:"0000-1-flower",Qz:[["7a59a2",{v:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),s:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{Nt:"0000-1-flower",Qz:[["d13777",{v:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),s:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{Nt:"0000-1-flower",Qz:[["ffac42",{v:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),s:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{Nt:"0000-1-flower",Qz:[["d04040",{v:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),s:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{Nt:"0000-1-flower",Qz:[["ec7272",{v:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),s:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{v:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),s:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{Nt:"0000-0-hearts",Qz:[["d17070",{v:"M C C C C C C C C C L Z".split(" "),s:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{v:"M C C C C C C C C C L Z".split(" "),s:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{v:"M C C C C C C C C C L Z".split(" "),s:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{Nt:"0000-0-anchor",Qz:[["2a3b66",{v:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),s:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{Nt:"0000-1-leaf",Qz:[["fbb600",{v:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),s:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{Nt:"0000-1-acorn",Qz:[["a05a2c",{v:"M C C C C C C C L Z".split(" "),s:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{v:"M C C C C C C C C C C C Z".split(" "),s:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{Nt:"0000-0-skull",Qz:[["808080",{v:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),s:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{Nt:"0000-0-ghost",Qz:[["e6e6e6",{v:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),s:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{v:"M C C C C Z M C C C C Z".split(" "),s:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{Nt:"1001-1-rose",Qz:[["9e1460",{v:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),s:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{v:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),s:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{Nt:"1001-1-curls",Qz:[["53a7ab",{v:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),s:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{v:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),s:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{Nt:"0111-0-pines",Qz:[["e9e9e9",{v:"M C C C C C C C C L L L Z".split(" "),s:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{v:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),s:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{Nt:"0111-0-flowers",Qz:[["8cae40",{v:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),s:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{v:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),s:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{Nt:"1101-1-confetti",Qz:[["e789ff",{v:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{v:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{Nt:"1101-1-branch",Qz:[["7f500b",{v:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),s:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{v:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{Nt:"1101-1-sticks",Qz:[["ec7272",{v:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{v:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{Nt:"1101-1-dots",Qz:[["ec7272",{v:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{v:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{v:["M","C","C","Z"],s:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{Nt:"1101-1-strips",Qz:[["ffc88c",{v:"M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{v:"M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{v:["M","C","C","Z"],s:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{Nt:"1101-1-circs",Qz:[["ec7272",{v:"M C C C C Z M C C C C Z".split(" "),s:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{v:"M C C C C Z M C C C C Z".split(" "),s:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{v:["M","C","C","Z"],s:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{Nt:"1101-1-squares",Qz:[["014ea7",{v:"M L L L L Z M L L L L Z".split(" "),s:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{v:"M L L L L Z M L L L L Z".split(" "),s:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{v:["M","C","C","Z"],s:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{Nt:"1101-0-christmas",Qz:[["014ea7",{v:"M C C C C Z M C C C C Z M L L L L Z".split(" "),s:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{v:"M C C C C Z M C C C C Z M L L L L Z".split(" "),s:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var gI={};gI.parse=function(l){var o=new Uint8Array(l),D=null;if(o[0]==80&&o[1]==75){var H=Date.now(),_=UZIP.parse(o.buffer),D=_["document.json"];
D=JSON.parse(x.Fs(D,0,D.length));gI.W4(D,_)}else{var u=jy.parse(l);D=gI.at_(u[2][0][1])}return D};gI.W4=function(l,o){var D=typeof l;
if(D=="string"||D=="number"||D=="boolean"||l==null)return l;if(l instanceof Array){for(var v=0;v<l.length;
v++)l[v]=gI.W4(l[v],o);return l}var H=l._class;if(H==null)return l;if(H=="MSJSONFileReference"){var _=l._ref;
if(!1){}else if(o[_+".json"]!=null){var u=o[_+".json"],S=u.length;for(var v=0;v<S;v++)if(u[v]==11||u[v]==3)u[v]=32;
var h=x.Fs(u,0,S);l=JSON.parse(h)}else if(o[_+".png"]!=null)return{key:_.split("/").pop(),bdata:o[_+".png"]};
else if(o[_+".jpg"]!=null)return{key:_.split("/").pop(),bdata:o[_+".jpg"]};else if(o[_+".pdf"]!=null)return{key:_.split("/").pop(),bdata:o[_+".pdf"]};
else if(o[_]!=null)return{key:_.split("/").pop(),bdata:o[_]};else{console.log(l,o);return}}else if(H=="MSAttributedString"){var h=atob(l.archivedAttributedString._archive),F=h.length,n=new Uint8Array(F);
for(var v=0;v<F;v++)n[v]=h.charCodeAt(v);l.archivedAttributedString=gI.at_(n)}for(var R in l)l[R]=gI.W4(l[R],o);
return l};gI.a3f=function(l,o,D,H){if(l instanceof Uint8Array)return null;if(H.indexOf(l)!=-1)return null;
H.push(l);if(l==o)return D;for(var _ in l){D.push(_);var u=gI.a3f(l[_],o,D,H);if(u){console.log(l,u);
throw"e"}D.pop()}};gI.at_=function(l){var o=eb.parse(l,0),D=o.$objects,H=new Uint8Array(D.length),_=gI.tk(D,H,o.$top.root);
for(var v=0;v<D.length;v++)if(H[v]==0&&v!=0){console.log(v,D[v]);gI.a3f(_,v,[],[])}for(var v=0;v<D.length;
v++){var u=D[v];if(u._class&&(u._class=="bitmap"||u._class=="fill"&&u.fillType==4&&(u.image||u.imageSHA))){var S=u.image,h=u.imageSHA,F=null,n=null;
if(S=="$null")S=null;if(h=="$null")h=null;if(S&&S.data){n=S.sha1["NS.bytes"];n=btoa(x.Gk(n,0,n.length));
F=S.data instanceof Uint8Array?S.data:S.data["NS.bytes"]}else if(S==null&&h==null){var R=fj.rU("PNG").MJ([[g.o(4).buffer]],1,1);
F=new Uint8Array(R)}else{var s=(_.assets?_.assets.imageCollection:_.images).images;if(h)n=h instanceof Uint8Array?h:h["NS.bytes"];
else n=S.sha1["NS.bytes"];n=btoa(x.Gk(n,0,n.length));var F=s[n].data;if(F["NS.bytes"])F=F["NS.bytes"]}F=new Uint8Array(F.buffer.slice(F.byteOffset,F.byteOffset+F.length));
delete u.imageSHA;u.image={key:n,bdata:F}}}return _};gI.asP=function(l){return l.slice(0,11)=="MSImmutable"?"MS"+l.slice(11):l};
gI.tk=function(l,o,D){var H=l[D];if(o[D]==1){return H}o[D]=1;if(typeof H=="string")return H;if(typeof H=="number")return H;
if(typeof H=="boolean")return H;if(H instanceof Array)return H;if(H instanceof Uint8Array){return H}if(l[H.$class]==null){if(H.$class==null&&H["NS.data"]!=null)return H;
console.log(D,H);throw"e"}var _=l[H.$class],u=gI.asP(_.$classname);o[H.$class]=1;H.$class=u;if(gI.alX[u]){delete H.$class;
H._class=gI.alX[u]}var S=gI.tk;if(u=="NSMutableArray"||u=="NSArray"){var h=[];if(H["NS.objects"]!=null)for(var v=0;
v<H["NS.objects"].length;v++)h.push(S(l,o,H["NS.objects"][v]));else for(var v=0;H["NS.object."+v]!=null;
v++)h.push(S(l,o,H["NS.object."+v]));l[D]=h;return h}if(u=="NSDictionary"||u=="NSMutableDictionary"){var F={$class:u};
if(H["NS.keys"]!=null)for(var v=0;v<H["NS.keys"].length;v++){var n=S(l,o,H["NS.keys"][v]);if(n instanceof Uint8Array)n=btoa(gI.Ww.Gk(n,0,n.length));
else if(typeof n!="string"&&typeof n!="number")n=btoa(gI.Ww.Gk(n["NS.bytes"],0,n["NS.bytes"].length));
F[n]=S(l,o,H["NS.objects"][v])}else for(var v=0;H["NS.key."+v]!=null;v++){var n=S(l,o,H["NS.key."+v]);
if(n instanceof Uint8Array)n=btoa(gI.Ww.Gk(n,0,n.length));else if(typeof n!="string"&&typeof n!="number")n=btoa(gI.Ww.Gk(n["NS.bytes"],0,n["NS.bytes"].length));
F[n]=S(l,o,H["NS.object."+v])}for(var R in H)delete H[R];for(var R in F)H[R]=F[R];return H}if(u=="NSURL")return{$class:u,base:S(l,o,H["NS.base"]),relative:S(l,o,H["NS.relative"])};
if(gI.axD.indexOf(u)!=-1){l[D]=S(l,o,H.array_do);return l[D]}if(H.do_objectID!=null)H.do_objectID=S(l,o,H.do_objectID);
if(gI.asX.indexOf(u)!=-1)return H;var s=gI.aoQ[u];if(s==null){console.log(l,H);throw"unknown class "+u}for(var v=0;
v<s.length;v++)if(H[s[v]]!=null)H[s[v]]=S(l,o,H[s[v]]);if(u=="MSTextLayer"){var Z=H,O,w,m,V;if(Z.attributedString)O=Z.attributedString.archivedAttributedString;
else O=Z.storage;V=O.NSString;if(typeof V!="string")V=x.Fs(V["NS.bytes"],0,V["NS.bytes"].length);if(O.NSAttributeInfo)w=O.NSAttributeInfo["NS.bytes"];
else{var q=V.length,i=[];while(q>0){var c=Math.min(100,q);i.push(c,0);q-=c}w=new Uint8Array(i)}m=O.NSAttributes instanceof Array?O.NSAttributes:[O.NSAttributes];
var z={$class:"NSAttributedString",NSString:V,NSAttributes:m};Z.attributedString={_class:"MSAttributedString",archivedAttributedString:z};
z.NSAttributeInfo={$class:"NSMutableData","NS.data":w};delete Z.storage}return H};gI.Ww={I9:function(l,o){return l[o+1]<<8|l[o]},C:function(l,o){return l[o+3]<<24|l[o+2]<<16|l[o+1]<<8|l[o]},Gk:function(l,o,D){var H="";
for(var v=0;v<D;v++)H+=String.fromCharCode(l[o+v]);return H}};gI.alX={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
gI.axD=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
gI.asX="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
gI.aoQ={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var eb={};eb.parse=function(l,o){var D=x.Gk(l,o,8);o+=8;var H=l.length-32,_=eb.parse.ahw(l,H),u=[];if(_.uE==1){var o=H-_.uE*_.CM;
for(var v=0;v<_.CM;v++)u.push(l[o+v])}else if(_.uE==2){var o=H-_.uE*_.CM;for(var v=0;v<_.CM;v++)u.push(x.I9(l,o+v*2))}else if(_.uE==4){var o=H-_.uE*_.CM;
for(var v=0;v<_.CM;v++)u.push(x.C(l,o+v*4))}else{throw"e"}var S=eb.parse.tk(l,u,_.root,_);return S};
eb.parse.tk=function(l,o,D,H){var _=eb.Ww,u=H.apV,S=u==4?_.C:u==2?_.I9:_.a3l,h=eb.parse,F=o[D],n=l[F],R=n>>4,s=n&15,O=null;
F+=1;if([4,5,6,10,12,13].indexOf(R)!=-1&&s==15){var Z=h.Kb(l,F);F+=Z.k$;s=Z.P}if(!1){}else if(R==0)O=s==8?!1:s==9?!0:null;
else if(R==1)O=h.Kb(l,F-1).P;else if(R==2)O=1<<s==4?x.R1(l,F):x._k(l,F);else if(R==3)O=x._k(l,F);else if(R==4)O=new Uint8Array(l.buffer,F,s);
else if(R==5)O=x.Gk(l,F,s);else if(R==6)O=x.tm(l,F,s);else if(R==8){O=0;for(var v=0;v<s+1;v++)O=O<<8|l[F+v]}else if(R==10){O=[];
for(var v=0;v<s;v++)O.push(h.tk(l,o,S(l,F+u*v),H))}else if(R==12){O=[];for(var v=0;v<s;v++)O.push(h.tk(l,o,S(l,F+u*v),H))}else if(R==13){O={};
for(var v=0;v<s;v++){var w=h.tk(l,o,S(l,F+u*v),H),m=h.tk(l,o,S(l,F+u*(s+v)),H);O[w]=m}}else throw"unknown mask "+R;
return O};eb.parse.Kb=function(l,o){var D=1<<(l[o]&15),H=0;for(var v=0;v<D;v++)H=H<<8|l[o+1+v];return{P:H,k$:D+1}};
eb.parse.ahw=function(l,o){var D={};o+=6;D.uE=l[o];o++;D.apV=l[o];o++;o+=4;D.CM=x.C(l,o);o+=4;o+=4;D.root=x.C(l,o);
o+=4;o+=4;D.ais=x.C(l,o);o+=4;return D};eb.Ww={a3l:function(l,o){return l[o]},I9:function(l,o){return l[o]<<8|l[o+1]},C:function(l,o){return l[o]<<24|l[o+1]<<16|l[o+2]<<8|l[o+3]},Gk:function(l,o,D){var H="";
for(var v=0;v<D;v++)H+=String.fromCharCode(l[o+v]);return H}};var jy={parse:function(l){var o=new Uint8Array(l),D=jy.re(o),H=[],_=new Uint8Array(o.length),u=[];
H.push(u);jy.HY(o,D,1,_,u);for(var v=0;v<u.length;v++){var S=[];H.push(S);jy.HY(o,D,u[v][3],_,S,v==11);
u[v][3]=v+1}return H},HY:function(l,o,D,H,_,u){D--;var S=D*o.zw+(D==0?100:0),h=l[S],F=jy.I9(l,S+1),n=jy.I9(l,S+3),R=jy.I9(l,S+5),Z=0;
if(R==0)R=65536;var s=l[S+7];S+=8;if(h==2||h==5){Z=jy.C(l,S);S+=4}for(var O=0;O<n;O++){var w=D*o.zw+jy.I9(l,S+2*O),m=-1,V=0,q=0,i=0;
if(h==2||h==5){m=jy.C(l,w);w+=4}if(h==2||h==10||h==13){V=jy.Uh(l,w);w+=V.k$}if(h==5||h==13){q=jy.Uh(l,w);
w+=q.k$}if(h==2||h==5){jy.HY(l,o,m,H,_,u);continue}var c=o.zw-(D==0?100:0),z=V.zh,B=h==13?c-35:Math.floor((c-12)*64/255)-23,t=Math.floor((c-12)*32/255)-23,a=t+(z-t)%(c-4);
if(z<=B){jy.Tg(l,w,H,0,z)}else{var I=a<=B?a:t,N=0;jy.Tg(l,w,H,0,I);N+=I;i=jy.C(l,w+I);while(i!=0){var J=(i-1)*o.zw;
i=jy.C(l,J);var Q=Math.min(o.zw-4,z-N);jy.Tg(l,J+4,H,N,Q);N+=Q}}_.push(jy.a9i(H,z))}if(Z!=0)jy.HY(l,o,Z,H,_,u)},a9i:function(l,o){var D=0,H=jy.Uh(l,D);
D+=H.k$;var _=[],u=[];while(D<H.zh){var S=jy.Uh(l,D);D+=S.k$;_.push(S.zh)}if(D!=H.zh)throw"e";for(var v=0;
v<_.length;v++){var S=_[v];if(!1){}else if(S==0)u.push(null);else if(S==1){u.push(jy.auk(l,D));D+=1}else if(S==2){u.push(jy.Kc(l,D));
D+=2}else if(S==3){u.push(jy.am8(l,D));D+=3}else if(S==4){u.push(jy.Kb(l,D));D+=4}else if(S==5){u.push(jy.C(l,D+2));
D+=6}else if(S==6){u.push(jy.C(l,D)+":"+jy.C(l,D+4));D+=8}else if(S==7){u.push(jy.aqh(l,D));D+=8}else if(S==8)u.push(0);
else if(S==9)u.push(1);else if(S>=12&&(S&1)==0){var h=S-12>>1,F=new Uint8Array(h);jy.Tg(l,D,F,0,h);u.push(F);
D+=h}else if(S>=13&&(S&1)==1){var h=S-13>>1;u.push(jy.Fs(l,D,h));D+=h}else throw"unknonw type "+S}return u},re:function(l){if(!(l[18]==1&&l[19]==1&&l[20]==0&&l[21]==64&&l[22]==32&&l[23]==32))throw"unexpected SQL3 header";
var o={tM:jy.Gk(l,0,15),zw:jy.I9(l,16),aDc:jy.C(l,24),size:jy.C(l,28),agO:jy.C(l,32),adL:jy.C(l,36),anu:jy.C(l,40),a6Z:jy.C(l,44),ap5:jy.C(l,48),a0U:jy.C(l,52),aeP:jy.C(l,56),aDV:jy.C(l,60),a2q:jy.C(l,64)!=0,a03:jy.C(l,68),af8:jy.C(l,92),ahI:jy.C(l,96)};
if(o.zw==1)o.zw=65536;if(o.aeP!=1)throw"unsupported text encoding "+o.aeP;return o},auF:function(l,o){return l[o]<<16|l[o+1]<<8|l[o+2]},am8:function(l,o){var D=jy.auF(l,o),H=D&8388608;
return H?-(16777215-D+1):D},auk:function(l,o){jy.N4[0]=l[o];return jy.atS[0]},Kb:function(l,o){var D=jy.N4;
for(var v=0;v<4;v++)D[v]=l[o+3-v];return jy.a2e[0]},Kc:function(l,o){var D=jy.N4;D[0]=l[o+1];D[1]=l[o];
return jy.acq[0]},I9:function(l,o){return l[o]<<8|l[o+1]},C:function(l,o){var D=jy.N4;for(var v=0;v<4;
v++)D[v]=l[o+3-v];return jy.a2C[0]},aqh:function(l,o){var D=jy.N4;for(var v=0;v<8;v++)D[v]=l[o+7-v];
return jy.a51[0]},Uh:function(l,o){var D=o,kC=0;while(!0){var H=l[o];o++;kC=kC*128+(H&127);if(H<128)break}return{zh:kC,k$:o-D}},Gk:function(l,o,D){var H="";
for(var v=0;v<D;v++)H+=String.fromCharCode(l[o+v]);return H},Fs:function(l,o,D){var H="";for(var v=0;
v<D;v++)H+="%"+jy.afY(l[o+v].toString(16));try{H=decodeURIComponent(H);return H}catch(ey){return H}},Tg:function(l,o,D,H,_){if(_!=0&&(l[o+_-1]==null||D[H+_-1]==null)){console.log(o,H,_);
throw"e"}for(var v=0;v<_;v++)D[H+v]=l[o+v]},afY:function(kC){return kC.length<2?"0"+kC:kC}};jy.N4=new Uint8Array(8);
jy.atS=new Int8Array(jy.N4.buffer);jy.acq=new Int16Array(jy.N4.buffer);jy.a2e=new Int32Array(jy.N4.buffer);
jy.a2C=new Uint32Array(jy.N4.buffer);jy.a51=new Float64Array(jy.N4.buffer);jy.ain=function(l,o){var D=l[0],H={};
for(var v=0;v<D.length;v++){var _=D[v],u=_[1];if(_[0]!="table")continue;var S=_[4];S=S.slice(S.indexOf("(")+1,S.indexOf(")"));
S=S.split(",");for(var h=0;h<S.length;h++){var F=S[h].trim().split(" ")[0];if(o&&F.startsWith(u))F=F.slice(u.length);
S[h]=F}var n=H[u]=[],R=l[_[3]];for(var h=0;h<R.length;h++){var s=R[h],Z={};n.push(Z);for(var O=0;O<S.length;
O++){if(Z[S[O]]!=null)throw"e";Z[S[O]]=s[O]}}}return H};function ic(l,o,D){this.YI=l;this.lw=o;this.al8=D;
this.uV=new he(0,0);this.JY=-1;this.uH=0;this.Bf=0;this.rc=new gt;this.Z9=[];this.fH=null;this.acN=null;
this.bo=null;this.ks=null;this.qy=null;this.adq=null}ic.prototype.StartPage=function(l,o,D,H,_){var u=this.lw,S=u.jX(),h=1,F=(D-l)*(H-o);
if(_!=null)F=_;while(F*S*S/(h*h)>2*8192*8192)h++;u.scale(1/h,1/h);this.acN=[l,o,D,H];var h=u.jX();l=Math.round(l*h);
o=Math.round(o*h);D=Math.round(D*h);H=Math.round(H*h);var n=this.YI,R=this.bo;if(R==null){u.ip=-l}else{var s=R[2]-R[0]+30,Z=Math.round(D-l)+30;
if(this.uV.x+s+Z>8192){u.ip=-l;this.uV.x=0;this.uV.y+=this.Bf+120;this.Bf=0}else{u.ip+=s;this.uV.x+=s}}u.nl=this.uV.y+(this.al8?H:-o);
this.Bf=Math.max(this.Bf,Math.round(H-o));this.bo=[l,o,D,H];this.a3j=[];n.R.push(n.k0())};ic.prototype.StartTGroup=function(l){this.bK();
var o=this.YI;o.R.push(o.k0());var D=ic.j_[l.bmode];if(D==null)D="norm";var H=o.O7();H.FH("<Group>");
H.add.lsct=jl.VV;H.TY=D=="norm"?"pass":D;H.XL=24;H.opacity=Math.round(255*l.ca);this.a3j.push(H)};ic.prototype.EndTGroup=function(){this.YI.R.push(this.a3j.pop())};
ic.prototype.a16=function(){var l=this.YI,o=l.R[l.R.length-1];return o};ic.prototype.a21=function(){var l=this.YI,o=l.O7();
o.FH("Path "+l.R.length);this.YI.R.push(o);o.XL|=16;o.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.G.XF({$:0,H:0,J:0})}};
o.add.vmsk=new d.dO;o.add.vstk=cq.K$.ts();return o};ic.prototype.Ub=function(l){var o={s:l.crds,v:l.cmds},D=g.X.Op(o,!1);
g.n.Am(D,this.lw);return D};ic.aBY=function(l,o){for(var v=0;v<l.length;v++)if(l[v].HN!=null)l[v].HN=o};
ic.Px=function(l){return g.G.XF({$:l[0]*255,H:l[1]*255,J:l[2]*255})};ic.vv=function(l){return new de(l[0],l[1],l[2],l[3],l[4],l[5])};
ic.prototype.Stroke=function(l){if(this.JY!=-1&&this.JY!=this.uH)return;if(l.pth.cmds.length<=1)return;
var o=this.Ub(l.pth),S=null;if(o.length<=2)return;this.Tr(l);ic.aBY(o,-1);o[2].HN=1;var D=this.a16(),H=cq.K$.ts(null,!0),_=l.ctm,u={};
ic.a4V(u,l);cq.K$.write(H,u,Math.sqrt(Math.abs(_[0]*_[3]-_[1]*_[2]))*this.lw.jX());if(!(l.COLR instanceof Array)){S=g.X.dm(l.pth.crds);
var h=g.X.YZ(S);g.X.h(h.s,this.lw,h.s);S=g.X.dm(h.s)}var F=ic.Hg(l.COLR,this.lw,o),n=["SoFi","GrFl","patternFill"].indexOf(F.type),R=[cq.mh,cq.Mp,cq.Zm][n],s=H.strokeStyleContent.v={classID:cq.K$.Gl[n]};
for(var v=0;v<R.length;v++)s[R[v]]=F.P.v[R[v]];var Z=D!=null&&D.add.vmsk!=null&&!D.Cl(),O=Z&&!D.add.vstk.fillEnabled.v&&JSON.stringify(H)==D.add.vsjs;
if(O){var w=D.add.vmsk.d;for(var v=2;v<o.length;v++)w.push(o[v])}else{var m=Z&&!D.add.vstk.strokeEnabled.v&&d.dO.afJ(D.add.vmsk.d,o,!0);
if(m){D.add.vstk=H;H.fillEnabled.v=!0}else{D=this.a21();D.add.vmsk.d=o;D.add.vstk=H;D.add.vsjs=JSON.stringify(H)}}};
ic.a4V=function(l,o){l.W5=o.lwidth;l.wk=o.mlimit;l.dE=o.dash.slice(0);l.aS=o.doff;l.h_=o.ljoin;l.iw=o.lcap;
l.QH=1};ic.a99=function(l,o){o.lwidth=l.W5;o.mlimit=l.wk;o.doff=l.aS;o.ljoin=l.h_;o.lcap=l.iw;o.sal=l.QH;
o.dash=l.dE.slice(0);if(o.dash.length==1&&o.dash[0]==0)o.dash=[]};ic.prototype.Fill=function(l,o){if(this.JY!=-1&&this.JY!=this.uH)return;
if(l.ca==0)return;var D=l.pth.cmds;if(D.length==0)return;if(D.length==2&&JSON.stringify(D)=="[\"M\",\"L\"]")return;
var H=g.X.dm(l.pth.crds),_=g.X.dm(l.cpth.crds);if(H.$o(_).lh())return;var u=l.pth,S=UDOC.G.isBox(u,[H.x,H.y,H.x+H.Q,H.y+H._]),h=l.cpth,F=UDOC.G.isBox(h,[_.x,_.y,_.x+_.Q,_.y+_._]);
if(S&&F&&H.c()>_.c()*2){var n=H.$o(_),R=n.x,s=n.y,Z=R+n.Q,O=s+n._;u={cmds:["M","L","L","L","Z"],crds:[R,s,Z,s,Z,O,R,O]};
H=n}else if(this.ks==null&&UDOC.G.isBox(u,[H.x,H.y,H.x+H.Q,H.y+H._])&&H.u4(_)){u=h;H=_}else this.Tr(l);
var w=this.Ub(u),m=ic.Hg(l.colr,this.lw,w),V=this.a16(),q=V!=null&&V.opacity==Math.round(255*l.ca)&&V.add.vstk!=null&&!V.add.vstk.strokeEnabled.v&&V.add.SoCo&&m.type=="SoFi"&&JSON.stringify(V.add.SoCo.Clr.v)==JSON.stringify(m.P.v.Clr.v);
if(q){var i=!1;for(var v=0;v<w.length;v++){if(w[v].HN==0||w[v].HN==2)i=!0}if(i){var c=g.X.dm(g.n.GL(V.add.vmsk.d)),z=g.X.dm(g.n.GL(w));
q=c.$o(z).lh()}}if(q){var B=V.add.vmsk.d;for(var v=2;v<w.length;v++)B.push(w[v])}else{V=this.a21();delete V.add.SoCo;
V.add.vmsk.d=d.dO.Wu(w);ic.Ev(l.colr,V,this.lw,w);ic.arz(l,V)}};ic.Ev=function(l,o,D,H){var _=ic.Hg(l,D,H),u=null,S=null;
o.add.vstk.fillEnabled.v=!0;if(_.type=="SoFi"){u="SoCo";S=cq.mh}if(_.type=="GrFl"){u="GdFl";S=cq.Mp}if(_.type=="patternFill"){u="PtFl";
S=cq.Zm}if(u!=null){o.add[u]={classID:"null"};for(var v=0;v<S.length;v++){var h=S[v];o.add[u][h]=_.P.v[h]}if(u=="GdFl")o.add._fstl=_.h6}};
ic.prototype.Tr=function(l){var o=this.YI,D=l.cpth,H=D.cmds.join(""),_=D.crds,u=H+" "+_.join(","),S=UDOC.G.isBox(D,this.acN);
if(S&&this.ks==null)return;if(u==this.ks)return;this.bK();if(!S){this.ks=u;o.R.push(o.k0());var h=o.O7();
h.FH("Mask");h.add.lsct=jl.qb;h.TY="pass";h.XL=24;var F=h.add.vmsk=new d.dO;F.d=this.Ub(l.cpth);if(UDOC.G.isBox(D)){this.qy=g.n.kU(F.d);
this.qy.ag(3,3)}else this.qy=null;this.adq=h}};ic.prototype.bK=function(){var l=this.YI;if(this.ks!=null){var o=l.R.length-1,v=o,D=!1;
while(v>=0&&l.R[v].add.lsct!=jl.fa)v--;var H=this.qy;if(H){var _=new gt,u=o;while(u>v){_=l.R[u].pZ(this.YI,!1,!0);
u--}D=H.u4(_)}if(D){this.Z9.splice(v,1);l.R.splice(v,1)}else{l.R.push(this.adq)}this.ks=null}};ic.Hg=function(l,o,D){var H,_,u;
if(l.length!=null){H="SoFi";var S=JSON.parse(cq.Rq[cq.order.indexOf("SoFi")]);_={t:"Objc",v:S};_.v.Clr.v=ic.Px(l)}else{var h=ic.asf(l,o,D);
H="GrFl";_={t:"Objc",v:kO.W_(h,D)};u=h}return{type:H,P:_,h6:u}};ic.asf=function(l,o,D){var H=ic.vv(l.mat);
H.concat(o);var _=new he(0,0),u=new he(0,0),S=new he,h=l.crds,F=l.typ=="rad"?1:0;if(F==1){var n=.7;S.x=h[0];
S.y=h[1];_.x=h[3];_.y=h[4];u.x=_.x;u.y=_.y;u.x+=h[5]}else{_.x=h[0];_.y=h[1];u.x=h[2];u.y=h[3];S.pN(_.x,_.y)}H=kO.Yv(_,u,H);
var R=kO.eN(F,H,D);kO.N1(R,_,u,S);R[1]=JSON.parse(JSON.stringify(l.grad));return R};ic.prototype.PutText=function(l,o,D,H){var _=o.charCodeAt(0),O=null;
if(this.JY!=-1&&this.JY!=this.uH)return;if(o.length==0||o.length==1&&(_==0||_==8203))return;this.Tr(l);
var u=this.YI,S=l.font,h=Math.round(255*l.ca);if(l.font.Tmode==3)h=0;var F=ic.vv(l.ctm);F.concat(this.lw);
var n=ic.vv(S.Tm);n.concat(F);var R=n.jX(),s=new de(1/R,0,0,-1/R,0,0);s.concat(n);var Z=S.Tfs*R,w=u.R.length-1;
while(w>=0&&u.R[w].add.TySh==null)w--;if(s.J*s.J+s.oe*s.oe<.001&&H==null&&w>=0&&u.R[w].add.TySh&&u.R[w].opacity==h){var m=u.R[w],V=this.Z9[w],q=m.add.TySh.h,i=(s.ip-V.ag$)/Z,c=Math.abs(i),z=q.M==s.M&&q.J==s.J&&q.oe==s.oe&&q.me==s.me,B=s.nl-V.UK,t=z&&Math.abs(B)<1e-5&&c<1;
if(t){O=m;if(i>.2&&[".",",","?",":","!"].indexOf(o)==-1){o=" "+o;D+=.5}}else if(z&&0<B&&B<Z*1.7&&V.aci==Z){O=m;
this.atq(V);V.UK=s.nl;V.a5w=s.ip;o="\n"+o}}if(O==null){w=u.R.length;this.Z9[w]={dg:[],HM:0,ag$:s.ip,UK:s.nl,a5w:s.ip,GI:"",aci:Z};
O=u.O7();u.R.push(O);O.add.lnsr="rend";O.add.TySh=fX.D2(0,0);O.add.TySh.h=s}var V=this.Z9[w];V.HM+=D*Z;
V.GI+=o;V.ag$=s.ip+D*Z;var a=O.add.TySh.PF,I=fX.PZ(a);if(H){fX.aM(a,1);var N=[0,0,Math.ceil(H[0]*R),Math.ceil(H[1]*R)];
fX.nP(a,N)}var J=I.length-1,Q=J+o.length;fX.yQ(a,J,o);if(this.fH==null)this.fH=fX.eF(a,J,J);var A=this.fH;
A.i7.FontSize=Math.round(Z);A.i7.Tracking=Math.round(S.Tc*100);A.i7.Underline=S.Tun==1;A.i7.FillColor={Type:1,Values:[1,l.colr[0],l.colr[1],l.colr[2]]};
if(S.Tal!=null)A.z5.Justification=S.Tal;if(V.dg.length!=0){A.i7.AutoLeading=!1;A.i7.Leading=V.UK-V.dg[V.dg.length-1].y}var f=S.Tf;
f=f.replace(/#2B/g,"+");f=f.replace(/#2C/g,"-");f=f.split("+").pop();var W={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(W[f])f=W[f];fX.LQ(A,f);fX.fn(a,J,Q-1,A);O.Vo();O.opacity=h};ic.prototype.atq=function(l){l.dg.push({pX:l.HM,vB:l.GI.slice(l.dg.length==0?0:1)+"\n",x:l.a5w,y:l.UK,lv:l.aci});
l.HM=0;l.GI=""};ic.prototype.a4=function(l,o,D){return new Uint8Array(fj.rU("PNG").MJ([[l.buffer,0]],o,D))};
ic.prototype.PutImage=function(l,o,D,H,_,u,S){if(this.JY!=-1&&this.JY!=this.uH)return;var h=this.YI,F=l.font.Tmode;
if(F==7&&h.R[h.R.length-1].add.TySh){return}this.Tr(l);var n=ic.vv(l.ctm);n.concat(this.lw);var R=new de(1/D,0,0,-1/H,0,1);
R.concat(n);n=R;o=ic.aai(o,D,H,u,!1);if(_)_=ic.aai(_,D,H,S,!0);if(_==null){if(o.length==D*H*4)o=this.a4(o,D,H)}else{o=this.aiW(o,D,H,u,!1);
_=this.aiW(_,D,H,S,!0);var s=g.o(D*H);g.mA(_,s,0);g.Kl(s,o,3);o=this.a4(o,D,H)}var Z=h.M9(o,"Bitmap",0,0),O=new gt(0,0,D,H),w=g.X.YZ(O).s;
g.X.h(w,n,w);Z.add.SoLd.Trnf=p.cA.y3(w);Z.add.SoLd.nonAffineTransform=p.cA.y3(w);Z.mP(h,!1);ic.arz(l,Z);
h.R.push(Z)};ic.arz=function(l,o){o.opacity=Math.round(255*l.ca);var D=ic.j_[l.bmode];if(D==null)console.log("Unknown blend mode",D);
else o.TY=D};ic.j_={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
ic.aA4=function(l){if(l=="pass")l="norm";for(var o in ic.j_)if(ic.j_[o]==l)return o;return"/Normal"};
ic.aai=function(l,o,D,H,_){var u=fj.ZH(l.buffer);if(u=="jpg"){try{l=new Uint8Array(fj.rU("JPG").acD(l.buffer))}catch(ey){l=new Uint8Array(o*D*4)}}else if(u=="jb2"){l=new Uint8Array(fj.rU("JPG").Zk(l.buffer,H,_)[0].data)}else if(l.length!=o*D*4){var S=new Uint8Array(o*D*4),h=Math.ceil(o/8),F=new Uint8Array(D*h);
UTIF.decode._decodeG4(l,0,l.length,F,0,o,1);var n=F[0]==(_?255:0);for(var R=0;R<D;R++){var s=h*R;for(var Z=0;
Z<o;Z++){var v=R*o+Z,O=v*4,w=(F[s+(Z>>3)]>>7-(Z&7)&1)*255;if(n)w=255-w;S[O]=w;S[O+1]=w;S[O+2]=w;S[O+3]=255}}l=S}return l};
ic.prototype.aiW=function(l,o,D,H,_){if(l.length!=o*D*4){var u=fj.ZH(l.buffer);if(u=="jb2")throw"e";
var S=fj.rU(u);if(S==null||u=="tga")S=fj.rU("jpg");l=new Uint8Array(S.Zk(l,H,_)[0].data)}return l};ic.prototype.ShowPage=function(){var l=this.YI;
this.uH++;var o=this.bo;this.bK();var D=l.O7();l.R.push(D);var H=new gt(Math.round(this.uV.x),Math.round(this.uV.y),Math.round(o[2]-o[0]),Math.round(o[3]-o[1]));
if(H.lh())H.Q=H._=2e3;this.rc=this.rc.tB(H);D.Hh(H);D.add.artb.artboardBackgroundType.v=1;D.FH("Page "+this.uH);
D.add.lsct=jl.qb;D.TY="pass";D.XL=24};ic.prototype.Print=function(l){console.log("Print:",l)};ic.prototype.Done=function(){var l=this.YI;
if(this.uH==1)l.R[l.R.length-1].add.lsct=jl.VV;l.sp(this.uH);for(var v=0;v<l.R.length;v++){var o=l.R[v],D=o.add.vmsk,H=o.add.TySh,_=this.Z9[v];
o.Xv();delete o.add.vsjs;if(D){var u=!1;for(var S=0;S<D.d.length;S++){var h=D.d[S];if((h.type==0||h.type==3)&&h.length>32767)u=!0}if(u){l.R.splice(v,1);
v--;continue}}o.C$(l);if(H&&_&&_.dg.length!=0){this.atq(_);var F=H.PF,n=_.dg.length,R=_.dg[0],s=1e9,Z=-1e9,t="";
for(var S=0;S<n;S++){var O=_.dg[S];s=Math.min(s,O.x);Z=Math.max(Z,O.x+O.pX)}var w=[];for(var S=0;S<n;
S++){var O=_.dg[S],m=-1,V=R.lv*.1,q=Math.abs(O.x-s),i=Math.abs(O.x+O.pX-Z),c=Math.abs(q-i);if(c<V)m=2;
if(i<V){m=1;if(O.x!=s)if(S!=0&&_.dg[S-1].x==O.x||S!=n-1&&_.dg[S+1].x==O.x)m=-1}if(q<V)m=0;if(O.pX==Z-s)m=3;
w.push(m)}var z=[!1,!1,!1];for(var S=0;S<n;S++){var m=w[S];if(m==3)m=S==0?w[S+1]:w[S-1];if(m==3)m=0;
w[S]=m;z[m]=!0}var B=(Z-s)*.05;if(z[0]&&!z[1])Z+=B;if(!z[0]&&z[1])s-=B;if(!z[0]&&!z[1]){s-=B;Z+=2*B}fX.aM(F,1);
H.h.nl-=R.lv*.7;H.h.ip=Math.round(s);fX.nP(F,[0,0,Math.ceil(Z-s),Math.ceil(_.dg[n-1].y-R.y+R.lv*2)]);
for(var S=0;S<n;S++){var O=_.dg[S],m=w[S],a=0;if(m==-1){m=0;a=Math.round(O.x-s)}var I=t.length,N=I+O.vB.length;
t+=O.vB;var J={LJ:[],i7:{},z5:{Justification:m,StartIndent:a}};fX.fn(H.PF,I,N-1,J)}}if(H){var F=H.PF;
fX.adI(F);var Q=fX.PZ(F).split("\n");for(var S=0;S<Q.length-1;S++){var O=Q[S],A=0;for(var f=0;f<O.length;
f++){var W=O.charCodeAt(f);if(1473<=W&&W<=1524)A++}if(A>O.length/2){Q[S]=O.split("").reverse().join("");
var C=F.EngineDict.ParagraphRun.RunArray[S].ParagraphSheet.Properties;C._Direction=1;C.Justification=fX.ql(C)}}fX.c3(F,Q.join("\n"))}}l.hU=!0;
l.Q=this.rc.Q;l._=this.rc._;l.buffer=g.o(this.rc.c()*4)};var hd={};hd.Gj=null;hd.wd=function(l,o,D,H,_,u){var S=a8==0?new gt(0,0,l.Q,l._):l.n7();
if(_==null)_=S.Q;if(u==null)u=S._;hd.Gj=l;var h=[[l.root,S,null]];if(a8==0&&l.add.artd){var F=l.root.children,n=[],R=!0;
for(var v=0;v<F.length;v++){var s=F[v].U,Z=s.add.artb,O=null;if(Z==null){R=!1;break}var w=Z.artboardBackgroundType.v;
if(w!=1&&w!=3)O=s.y7();n.push([F[v],s.IH(),O])}if(R)h=n}if(a8==1){var m=l.add.arts;h=[];for(var v=0;
v<m.length;v++)h.push([l.root,g.X.Mg(m[v].EZ),null])}var V=o[0];V=V.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
V=V.split(" ");var q=[];for(var v=0;v<V.length;v++){var i=V[v];if(i=="-"){var c=q.pop(),z=parseInt(V[v+1]);
while(c<z){q.push(c);c++}}else q.push(parseInt(i))}V=q;for(var v=0;v<V.length;v++)if(isNaN(V[v])||V[v]<1||V[v]>h.length){V.splice(v,1);
v--}var B=_/S.Q,t=u/S._,a=B*72/l.on,I=t*72/l.on,N=o[5];if(N==null)N=0;var J=72*N,Q=72*N;for(var A=0;
A<h.length;A++){var v=A;if(o[2])v=h.length-1-A;if(V.length!=0&&V.indexOf(v+1)==-1)continue;var f=h[v][0],W=h[v][1];
if(!f.U.zd())continue;var C=Math.round(W.Q*a+2*J),j=Math.round(W._*I+2*Q);D.StartPage(0,0,C,j);var K=UDOC.getState(),$=new de;
$.translate(-W.x,-W.y-W._);$.scale(a,-I);$.translate(J,Q);if(h[v][2]){var r=h[v][2],U=J*a,b=Q*I,e=U+W.Q*a,P=b+W._*I;
K.colr=[(r>>>0&255)/255,(r>>>8&255)/255,(r>>>16&255)/255];K.pth={cmds:["M","L","L","L","Z"],crds:[U,b,e,b,e,P,U,P]};
D.Fill(K)}if(a8==0&&o[3]){var L=g.o(W.c()*4);g.Qo(l.zG(),S,L,W);var Y=l.UZ();if(Y)ICC.U.applyLUT(Y[l.add.fcmy==1?5:3],Y[2],L,L);
var X=fj.rU("JPG").MJ([[L.buffer]],W.Q,W._,[o[1]]);L=new Uint8Array(X);var G=new de;G.translate(W.x,W.y);
hd.HD(K,D,L,W,G,$)}else{hd.aaV(l,f,K,D,$,W,o,H);if(J!=0){var U=J,b=Q,e=U+W.Q,P=b+W._,E=e+J,T=P+J;K.ca=1;
K.colr=[1,1,1];K.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,T,E,T,E,0,U,b,e,b,e,P,U,P]};
D.Fill(K)}}if(o[6]){var y=[[0,0],[1,0],[1,1],[0,1]],d4=50,dH=5,eV=d4*.5,bf=dH*.5,jd=W.Q*72/l.on,i5=W._*72/l.on;
K.colr=[.1,.1,.1];for(var fD in y){var eo=y[fD],iX=[fD==0||fD==3?-1:1,fD==0||fD==1?-1:1],cK=[J-eV+bf*iX[0]+eo[0]*jd,Q-(iX[1]!=1?dH:0)+eo[1]*i5],g0=[J-(iX[0]!=1?dH:0)+eo[0]*jd,Q-eV+bf*iX[1]+eo[1]*i5];
K.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[cK[0],cK[1],cK[0]+d4,cK[1],cK[0]+d4,cK[1]+dH,cK[0],cK[1]+dH,g0[0],g0[1],g0[0]+dH,g0[1],g0[0]+dH,g0[1]+d4,g0[0],g0[1]+d4]};
D.Fill(K)}}var bW=l.n0;for(var hF=0;hF<bW.length;hF++){var aJ=bW[hF].v,W=g.Y9.fZ(aJ),iR=g.X.YZ(W).s;
g.X.h(iR,$,iR);var ex=g.X.dm(iR);if(!new gt(0,0,C,j).u4(ex))continue;if(D.AddAnnot)D.AddAnnot([ex.x,ex.y,ex.x+ex.Q,ex.y+ex._],aJ.url.v)}D.ShowPage()}D.Done();
hd.Gj=null};hd.FU=function(l){l=g.G.s3(l);return[l.$/255,l.H/255,l.J/255]};hd.aaV=function(l,o,D,H,_,u,S,h){var F=o.U,n=F.add.lsct,R=F.add.lmfx,z,B,W;
if(F.aU)return;var s=F.add.vmsk,Z=F.add.vstk,O=F.add.TySh;if(a8==1&&!F.Cl()&&!u.Q5(g.X.dm(F.Eh())))return;
var w=o.children,m=w&&w.length!=0?w[w.length-1].U:null;if(a8==1&&m&&m.aU&&m.zd())s=m.add.vmsk;if(!F.zd())return;
var V=F.opacity/255,q=F.add.iOpa!=null?F.add.iOpa/255:1;D.bmode=ic.aA4(F.TY);var i=D.ca;D.ca=D.CA=V*q;
var c=R;if(c)c=c.solidFillMulti.v[0];if(c)c=c.v;if(c&&!c.enab.v)c=null;var t=F.rect;if(F.AN()&&(!F.Cl()||F.rD&&F.rD.ai)){if(F.Cl()){z=F.rD.ai;
t=F.rD.ayO}else{z=g.o(F.rect.c());g.mA(F.buffer,z,3)}B=cN.K1(R,F.add.fxrp,z,t,l,t).type;var a=["DrSh","OrGl"];
if(q!=1||Z&&!Z.fillEnabled.v){var I=z.slice(0);g.L5(I);for(var v=0;v<a.length;v++){var N=B[a[v]];for(var J=0;
J<N.length;J++){var Q=N[J],A=Q.nR.clone();A.x+=t.x;A.y+=t.y;g._c(I,t,Q.G5,A)}}}}if(B)hd.a36(F,z,t,B,D,H,_,S,!0);
var f=cN.a5_(F,!1);if(f){H.StartTGroup(D);W=D;D=UDOC.getState()}var C=s&&!F.RR();if(C){var j=g.X.Jp(s.d,!1),K=j.Xz;
g.X.h(K.s,_,K.s);D.cpth={cmds:K.v,crds:K.s}}if(F.Cl()){for(var v=0;v<o.children.length;v++)hd.aaV(l,o.children[v],D,H,_,u,S,h)}else if(F.RR()&&F.add.PtFl==null){var $=s?s.d:g.n.Rd.Rect(0,0,l.Q,l._),r=F.add.vstl,K,U;
if(r==null)r=f9.vm(F.add,l);ic.a99(r,D);D.lwidth*=_.jX();for(var v=0;v<D.dash.length;v++)D.dash[v]*=_.jX();
if(a8==0){var j=g.X.Jp($,r.IS==null);K=j.Xz;U=j.PH}if(a8==1){K=g.X.Ja($);U=s.HN}g.X.h(K.s,_,K.s);D.pth={cmds:K.v,crds:K.s};
for(var v=0;v<2;v++){var b=v==0?r.h6:r.IS,e=null;if(b.length==0)continue;else if(b.length==3)e=b;else{var P=kO.bT(b,$);
P.concat(_);var L=[0,0,1,0];if(b[0]==1){var Y=b[2][5]*Math.PI/180,X=b[2][6];L=[Math.cos(Y)*X,-Math.sin(Y)*X,0,0,0,1]}e={typ:["lin","rad"][b[0]],mat:[P.M,P.J,P.oe,P.me,P.ip,P.nl],grad:JSON.parse(JSON.stringify(b[1])),crds:L}}D[v==0?"colr":"COLR"]=e;
H[v==0?"Fill":"Stroke"](D,U!=0)}}else if(O&&S[4]){var G=O.PF,E=new f8(G,h,O.CQ),K=dr.KZ(E,O,!0),T=g.X.yJ(K),Z=cN.aDB(R),r=Z?cq.K$.yz(Z):null;
for(var y in T){var d4=parseInt(y.slice(1,7),16),dH=0,bf=null;D.colr=c?hd.FU(c.Clr.v):hd.aqx(d4);var eV=T[y];
g.X.h(eV.s,_,eV.s);eV=g.X.a1f(eV);D.pth={cmds:eV.v,crds:eV.s};if(r)bf=[r.QH,r.W5,hd.FU(Z.strokeStyleContent.v.Clr.v),r.wk,r.h_];
if(y.length>7){var jd=y.slice(7).split("-"),d4=parseInt(jd[1].slice(1),16),i5=hd.aqx(d4);bf=[1,parseFloat(jd[2]),i5,parseFloat(jd[2]),0]}if(bf)bf[1]*=_.jX();
if(bf&&bf[0]==2){D.lwidth=bf[1]*2;D.COLR=bf[2];D.mlimit=bf[3];D.ljoin=bf[4];H.Stroke(D)}H.Fill(D);if(bf&&bf[0]!=2){D.lwidth=bf[1];
D.COLR=bf[2];D.mlimit=bf[3];D.ljoin=bf[4];H.Stroke(D)}}}else if(O){var G=JSON.parse(JSON.stringify(O.PF));
fX.adI(G);var fD=O.h.clone(),eo=new de(1,0,0,-1,0,0);eo.concat(fD);eo.concat(_);var iX=fX.PZ(G),E=new f8(G,h,O.CQ);
for(var v=0;v<E.z5.length;v++){var cK=E.z5[v];if(cK.M7.length==1&&cK.M7[0].Ge)continue;for(var J=0;J<cK.j7.length;
J++){var g0=cK.j7[J],bW=cK.Q4.y+g0.Q4.y,hF=cK.M7[g0.start].start,aJ=cK.M7[g0.end-1].end,iR=fX.akS(G,hF,aJ);
for(var ex=0;ex<iR.length;ex++){var dX=E.ym(hF),by=iR[ex],i9=fX.eF(G,hF,hF),dm=i9.LJ[i9.i7.Font].Name;
D.font.Tf=dm;var y=fX.s3(i9.i7.FillColor);D.colr=c?hd.FU(c.Clr.v):[y.$/255,y.H/255,y.J/255];var kh=D.font.Tfs=Math.round(i9.i7.FontSize),bd=iX.slice(hF,hF+by);
if(i9.i7.FontCaps==2)bd=bd.toUpperCase();var P=new de;P.translate(dX.hR.x,-bW);P.concat(eo);D.ctm=[P.M,P.J,P.oe,P.me,P.ip,P.nl];
H.PutText(D,bd,0);for(var dz=0;dz<2;dz++){var dw=i9.i7[dz==0?"Strikethrough":"Underline"];if(!dw)continue;
var ev=E.ym(hF+by-1),aq=dz==0?.27:-.2,e3=kh*aq,a9=kh*(aq+.07),dH=ev.hR.x+ev.hR.Q-dX.hR.x,e0=[0,e3,dH,e3,dH,a9,0,a9];
g.X.h(e0,P,e0);D.pth={cmds:["M","L","L","L","Z"],crds:e0};H.Fill(D)}D.ctm=[1,0,0,1,0,0];hF+=by}}}}else if(!F.rect.lh()||a8==1){var as,eK,gh=!1,gx=new de,gc=F.add.SoLd,kQ=!0;
if(gc)kQ=g.t.QP(g.t.kb(p.cA.TX(gc.Trnf)));var dn=l.UZ();if(gc&&kQ&&dn==null){var bQ=gc.Idnt.v,iK=l.Es(bQ,gc.Crop?gc.Crop.v:null),bu="";
if(iK==null)return;var cJ=iK.f2,i1=fj.ZH(iK.raw.buffer);if(S[7].indexOf(i1)!=-1){as=iK.raw;gh=!0}else as=cJ[0];
eK=cJ[1];gx=g.t.Ro(gc)}else{as=F.buffer;eK=F.rect;gx.translate(eK.x,eK.y);if(dn){as=as.slice(0);ICC.U.applyLUT(dn[l.add.fcmy==1?5:3],dn[2],as,as)}if(g.q$(as,eK.Q,eK._)&&S[7]&&S[7].indexOf("jpg")!=-1){var gi=fj.rU("JPG").MJ([[as.buffer]],eK.Q,eK._,[S[1]]);
as=new Uint8Array(gi);gh=!0}}if(c&&!gh)as=cN.awN(as,c,eK);hd.HD(D,H,as,eK,gx,_);if(c&&gh){var e0=[0,0,eK.Q,0,eK.Q,eK._,0,eK._];
g.X.h(e0,gx,e0);g.X.h(e0,_,e0);var iv=JSON.parse(JSON.stringify(D));iv.ca=c.Opct.v.val/100;iv.pth={cmds:["M","L","L","L","Z"],crds:e0};
iv.colr=hd.FU(c.Clr.v);H.Fill(iv)}}if(C)D.cpth=null;if(f){H.EndTGroup();D=W}D.ca=D.CA=i;if(B)hd.a36(F,z,t,B,D,H,_,S,!1)};
hd.a81=function(l){var o=hd.Gj;if(o==null)return l;var D=o.UZ();if(D&&o.add.fcmy){return g.IG(g.xY(l)).slice(0,3)}return l};
hd.FU=function(l){l=g.G.s3(l);return hd.a81([l.$/255,l.H/255,l.J/255])};hd.aqx=function(l){return hd.a81([(l>>>16&255)/255,(l>>>8&255)/255,(l&255)/255])};
hd.a36=function(l,o,D,H,_,u,S,h,F){var n=D.clone(),R=o;if(l.add.TySh&&!h[3]&&!h[4])return;var s=_.ca,Z=_.bmode;
for(var v=cq.order.length-1;v>=0;v--){var O=cq.order[v];if(O=="GrFl"||O=="SoFi")continue;if((l.add.vmsk||l.add.TySh)&&O=="FrFX")continue;
var w=H[O],m=v>7||O=="FrFX";if(m!=F)continue;for(var V=0;V<w.length;V++){var q=w[V];if(q.nR==null)q=q.gc?q.gc:q.pA;
if(q==null)continue;var i=q.nR.clone();i.offset(n.x,n.y);if(!m){if(!n.u4(i)){var c=n.tB(i),z=g.o(c.c());
g.mB(R,n,z,c);R=z;n=c}g._c(R,n,q.G5,i)}if(m&&O=="FrFX"&&q.tb)g._c(q.tb,i,q.G5,i);var B=new de;B.translate(i.x,i.y);
_.ca=q.aX;_.bmode=ic.aA4(q.BI);hd.HD(_,u,q.G5,i,B,S)}}_.ca=s;_.bmode=Z};hd.HD=function(l,o,D,H,_,u){var S=new de;
S.scale(H.Q,-H._);S.translate(0,H._);S.concat(_);S.concat(u);l.ctm=[S.M,S.J,S.oe,S.me,S.ip,S.nl];o.PutImage(l,D,H.Q,H._);
l.ctm=[1,0,0,1,0,0]};var cr={};cr.x2=function(l){var o=new Uint8Array(l);return cr.t1(o,0)};cr.t1=function(l,o){var D=x.C,H=x.Gk,_={Vj:H(l,o,4),i:o+8,size:D(l,o+4)},u=_.Vj=="FORM"||_.Vj=="FOR4"||_.Vj=="LIST"||_.Vj=="CAT ";
if(u)_.Gl=H(l,o+8,4);if(_.size<0||_.i+_.size>l.length)throw"e";if(u){_.sub=[];o+=12;var S=_.i+_.size;
while(o<S){var h=cr.t1(l,o);_.sub.push(h);var F=h.size&1,n=h.size&3;if(_.Vj=="FOR4")F=n==0?0:4-n;o+=8+h.size+F}}return _};
var hS={};hS.x2=function(l,o){var D=new Uint8Array(l);return hS.t1(D,0,o)};hS.t1=function(l,o,D){var H=x.K6,_=x.Gk,u={Vj:_(l,o,4),i:o+8,size:H(l,o+4)};
if(D&&D[u.size]!=null)u.size=D[u.size];if(u.Vj=="RIFF"||u.Vj=="LIST"){u.Gl=_(l,o+8,4)}if(u.size<0||u.i+u.size>l.length)throw"e";
if(u.Vj=="RIFF"||u.Vj=="LIST"&&(u.Gl!="cmpr"&&u.Gl!="stlt")){u.sub=[];o+=12;var S=u.i+u.size;while(o<S){var h=hS.t1(l,o,D);
u.sub.push(h);o+=8+h.size+(h.size&1)}}return u};var cb=function(){function l(G,E){var T=null;if(G.sub==null)return T;
for(var v=0;v<G.sub.length;v++){var y=G.sub[v];if(y.Vj==E||y.Gl==E)T=y}return T}function o(G){if(G==32)return 300;
else if(G<49)return 0;else if(G<58)return 100*(G-48);else if(G<65)return 0;return 100*(G-55)}var D;function H(G,E){var T=new Uint8Array(G);
E.hU=!0;D={};var y=x.Gk(T,0,2);if(y=="WL"){alert("Unsupported CDR version")}else{var d4,dH,eV,i5,iR=300,iZ=0;
if(y=="PK"){dH=UZIP.parse(T);if(dH["content/root.dat"]){T=dH["content/root.dat"];eV=x.Fs(dH["content/dataFileList.dat"]).split("\n")}else{T=dH["content/riffData.cdr"];
dH=null}}d4=hS.x2(T.buffer);console.log(d4);var bf=o(T[11]),jd={data:T,i:0,kQ:bf};jd.Ka=jd.kQ<600?16:32;
I(T,jd,eV,dH,d4.sub,0);var fD=[];if(dH){i5=l(d4,"doc ");_(i5);var eo=d4.sub;for(var v=0;v<eo.length;
v++)if(eo[v].Gl=="page")fD.push(eo[v]);fD=fD.slice(1)}else if(d4.sub[3]&&d4.sub[3].Vj=="pack"){alert("We dont support this version of CDR files");
return}else if(l(d4,"cmpr")==null){i5=l(d4,"page");fD.push(i5);if(l(i5,"mcfg")==null){i5=l(d4,"doc ");
_(i5);fD=[];var eo=d4.sub;for(var v=0;v<eo.length;v++)if(eo[v].Gl=="page")fD.push(eo[v]);fD=fD.slice(1)}}else{var iX=l(d4,"cmpr").sub;
i5=iX[0];fD=[iX.slice(1)[1]];if(l(i5,"filt"))_(i5)}var cK=l(i5,"mcfg").P,g0=cK.aEI,bW=g0.x*.1,hF=g0.x*fD.length+bW*(fD.length-1),aJ=g0.y;
iR/=ae.hu(new gt(0,0,Math.round(hF*iR),Math.round(aJ*iR)),8192*8192);var ex=Math.round(hF*iR),dX=Math.round(aJ*iR);
E.Q=ex;E._=dX;E.buffer=g.o(E.Q*E._*4);for(var v=0;v<fD.length;v++){var j3=new de(iR,0,0,-iR,g0.x*iR/2+iZ,g0.y*iR/2);
u(fD[v],i5,E,j3);var by=E.R[E.R.length-1];by.Hh(new gt(Math.round(iZ),0,Math.round(g0.x*iR),Math.round(g0.y*iR)));
by.FH("Page "+(v+1));iZ+=g0.x*iR+bW*iR}E.sp(fD.length)}}function _(G){var E=l(G,"filt").sub,T=l(G,"otlt").sub,y=l(G,"fntt");
if(y)y=y.sub;G.Tl={};for(var v=0;v<E.length;v++)G.Tl[E[v].sub[0].P.id]=E[v].sub[0].P;G.fz={};for(var v=0;
v<T.length;v++)G.fz[T[v].P.id]=T[v].P;if(y){G.fonts={};for(var v=0;v<y.length;v++)G.fonts[y[v].P.id]=y[v].P}}function u(G,E,T,y){var d4=G.Gl?G.Gl:G.Vj,dH=l(G,"lgob"),eV=l(G,"txsm"),bf=null,jd=null;
if(dH){bf=l(dH,"trfl");jd=l(dH,"loda")}else if(l(G,"lobj"))jd=l(G,"lobj");var i5=bf&&bf.sub[0].YF?bf.sub[0].YF.clone():new de;
i5.concat(y);var fD=T.O7();if(d4=="page"||d4=="layr"||d4=="grp "){fD.FH((d4=="page"?"Page":"Group")+" "+T.R.length);
fD.add.lsct=jl.VV;fD.TY="pass";fD.XL=24;var eo=[];if(d4=="page")eo=l(G,"gobj").sub;if(d4=="layr")eo=G.sub.slice(2);
if(d4=="grp ")eo=G.sub.slice(4);if(eo.length==0)return;T.R.push(T.k0());for(var v=eo.length-1;v>=0;v--)u(eo[v],E,T,y)}else if(d4=="obj "&&jd.P&&jd.P.path){var iX,cK;
if(E.Tl){iX=E.Tl[jd.P.azi];cK=E.fz[jd.P.aDv]}if(iX==null)iX=jd.P.aeV;if(cK==null)cK=jd.P.a7w;fD=S(T,jd.P.path,y,i5,iX,cK)}else if(d4=="obj "&&eV){var g0=jd.P.a4_,bW=jd.P.ai6,iR="";
fD.add.TySh=fX.D2(0,0);var hF=i5.jX();fD.add.TySh.h.translate(i5.ip,i5.nl);var aJ=fD.add.TySh.PF,ex=eV.P.Ik;
if(ex==null)return;for(var v=0;v<ex.length;v++){var dX=ex[v],iZ=iR.length;iR+=dX.text+"\n";fX.yQ(aJ,iZ,dX.text+"\n");
if(dX.text=="")continue;var j3=h(dX.a5l,E),by=j3.ags,i9=E.fonts[by.al7],dm=fX.eF(aJ,iZ,iR.length);if(j3.align==3)dm.z5.Justification=1;
else if(j3.align==2)dm.z5.Justification=2;else dm.z5.Justification=0;var kh=j3.fill.P;if(kh==null)kh=[0,0,0];
if(i9.gd)fX.LQ(dm,i9.gd);dm.i7.FillColor={Type:1,Values:[1,kh[0],kh[1],kh[2]]};dm.i7.FontSize=Math.round(by.fontSize*y.jX());
fX.fn(aJ,iZ,iR.length-1,dm)}if(bW){fX.aM(aJ,0)}else{fX.aM(aJ,1);fX.nP(aJ,[0,0,Math.round(g0.x*i5.M),Math.round(-g0.y*i5.me)])}fD.FH(iR.slice(0,10))}else{fD=null}if(fD)T.R.push(fD)}function S(G,E,T,y,d4,dH){var eV=G.O7();
eV.FH("Object "+G.R.length);eV.XL|=16;var bf=eV.add.vstk=cq.K$.ts();eV.add.vmsk=new d.dO;eV.add.vmsk.d=g.X.Op(E,!1);
g.n.Am(eV.add.vmsk.d,y);var jd=d4&&d4.type!=0,i5=jd&&d4.P!=null?d4.P:[0,0,0];ic.Ev(i5,eV,y,eV.add.vmsk.d);
bf.fillEnabled.v=jd;if(dH&&dH.adU!=1){bf.strokeEnabled.v=!0;bf.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var fD=bf.strokeStyleLineWidth.v.val=dH.lineWidth*T.jX(),eo=dH.color;bf.strokeStyleContent.v.Clr.v=g.G.XF({$:eo[0]*255,H:eo[1]*255,J:eo[2]*255});
if(dH.dE.length!=0)bf.strokeStyleLineDashSet.v=cN.fx(dH.dE,4/fD);var iX=dH.ak1,cK=dH.avG;if(cK!=0){var g0=E.s,v=g0.length-4,bW=g0[v],hF=g0[v+1],aJ=g0[v+2],iR=g0[v+3],ex=new de;
ex.scale(.15,.15);ex.rotate(-Math.PI/2+Math.atan2(iR-hF,-(aJ-bW)));ex.translate(aJ,iR);ex.concat(y);
if(D[cK]){var dX=S(G,D[cK],T,ex,eo,null);G.R.push(dX)}}}eV.Xv();eV.C$(G);return eV}function h(G,E){var T=l(E,"stlt").P,y=JSON.parse(JSON.stringify(T.YT[G]));
if(y.RI!=0){var d4=T.YT[y.RI];for(var dH in d4)if(y[dH]==null||y[dH]==0)y[dH]=d4[dH];delete y.RI}y.align=T.azw[y.a2S];
y.fill=E.Tl[T.arM[y.a8L]];y.axw=E.fz[T.a9n[y.aBZ]];y.ags=T.a7c[y.a8O];return y}function F(v){var kC=v.data[v.i];
v.i+=1;return kC}function n(v){var kC=x.kk(v.data,v.i);v.i+=2;return kC}function R(v){var kC=x.K6(v.data,v.i);
v.i+=4;return kC}function s(v){var kC=x.K6(v.data,v.i);v.i+=8;return kC}function Z(v){var kC=x.E_(v.data,v.i);
v.i+=2;return kC}function O(v){var kC=x.zJ(v.data,v.i);v.i+=4;return kC}function w(v){var kC=x.ul(v.data,v.i);
v.i+=8;return kC}function m(v){if(v.i>=v.data.length)throw"e";var G=0;while(v.data[v.i+G]!=0)G++;var E=x.Gk(v.data,v.i,G);
v.i+=G+1;return E}function V(v){var G="";while(!0){var E=n(v);if(E==0)break;G+=String.fromCharCode(E)}return G}function q(G){var E=R(G),T=(E&4294901760)>>>16,y=(E&65535)/65535;
return T+y}function i(G){if(G.kQ<600)return Math.PI*Z(G)/1800;return Math.PI*O(G)/18e7}function c(G){if(G.kQ<1500)return z(G);
else return w(G)/254e3}function z(G){if(G.kQ<600)return Z(G)/1e3;else return O(G)/254e3}function B(G){if(G.kQ<600)return n(G);
else return R(G)}function t(G){if(G.kQ<600)return Z(G);else return O(G)}function a(G,E,T){var y="";for(var v=0;
v<T;v++){for(var d4=0;d4<E;d4+=4){var kC=x.K6(G.data,G.i+v*E+d4);y+=(kC<500?kC:kC)+","}y+="\n"}return y}function I(G,E,T,y,d4,dH){var eV,bf,jd;
for(var i5=0;i5<d4.length;i5++){var fD=E.kQ,eo=d4[i5];E.data=G;E.i=eo.i+(eo.Vj=="LIST"?4:0);if(y&&eo.sub==null){eV=R(E);
bf=R(E);jd=R(E);var iX=n(E);if(iX!=0&&iX!=768)throw"e";var cK=n(E);if(cK>32)throw"e";E.i-=16;if(eV!=4294967295){E.data=y["content/data/"+T[eV]];
E.i=jd}}if(eo.Vj=="vrsn"){if(eo.size==16)E.i+=8;var g0=n(E);E.kQ=g0;console.log("Version",g0);E.Ka=g0<600?16:32}else if(eo.Vj=="DISP"){}else if(eo.Vj=="pack"){var bW=R(E),hF=x.Gk(E.data,E.i,4),ex=0;
if(hF!="CPng")throw hF;var aJ=new Uint8Array(E.data.buffer,E.i+8+2,eo.size-10-4),iR=pako.inflateRaw(aJ);
eo.sub=[];while(ex<iR.length){var dX=hS.t1(iR,ex);ex=dX.i+dX.size;eo.sub.push(dX)}var iZ={data:iR,i:0,kQ:fD,Ka:E.Ka};
I(iR,iZ,T,y,eo.sub,dH+1)}else if(eo.Vj=="LIST"&&eo.Gl=="cmpr"){var j3=R(E),by=R(E),i9=R(E),bW=R(E),hF=x.Gk(E.data,E.i,4),ex=0;
if(hF!="CPng")throw hF;var aJ=new Uint8Array(E.data.buffer,E.i+8+2,j3-6-8),iR=pako.inflateRaw(aJ);E.i+=j3;
aJ=new Uint8Array(E.data.buffer,E.i+8+2);var dm=pako.inflateRaw(aJ),kh=[];for(var jK=0;jK<dm.length;
jK+=4)kh.push(x.K6(dm,jK));eo.sub=[];while(ex<iR.length){var dX=hS.t1(iR,ex,kh);ex=dX.i+dX.size;eo.sub.push(dX)}var iZ={data:iR,i:0,kQ:fD,Ka:E.Ka};
I(iR,iZ,T,y,eo.sub,dH+1)}else if(eo.Vj=="LIST"&&eo.Gl=="stlt"||eo.Vj=="stlt"){if(eV==4294967295)return;
var bd=E.i,e0="",iv=32;eo.P={};var dz=R(E);if(dz==0)return;eo.P.arM=K(E,fD>=1300);eo.P.a9n=K(E);eo.P.a7c={};
var dw=R(E);for(var v=0;v<dw;v++){var ev=R(E);E.i+=fD<1e3?12:20;var aq=n(E),e3=n(E);E.i+=8;var a9=z(E);
E.i+=fD<1e3?12:20;eo.P.a7c[ev]={al7:aq,arL:e3,fontSize:a9}}eo.P.azw=K(E);var as=R(E);e0+="Intervals\n"+a(E,52,as)+"\n";
E.i+=52*as;var eK=R(E);e0+="Set5s\n"+a(E,152,eK)+"\n";E.i+=152*eK;var gh=R(E);e0+="Tabs\n"+a(E,784,gh)+"\n";
E.i+=784*gh;var gx=R(E);e0+="Bullets\n";for(var v=0;v<gx;v++){var gc=E.i,kQ=R(E);E.i+=4*3;if(fD>1300)E.i+=4;
var dn=R(E);E.i+=4*5;if(fD>=1300){var bQ=R(E);if(bQ){if(R(E))E.i+=64;else E.i+=60}else E.i+=12}else{E.i+=20;
if(fD>=1e3)E.i+=8;if(R(E))E.i+=8;E.i+=8}var iK=E.i;E.i=gc;e0+=a(E,iK-gc,1);E.i=iK}e0+="\n";var cJ=R(E);
e0+="Indents\n";eo.P.asc={};for(var v=0;v<cJ;v++){var gc=E.i,i1=R(E),bu={};E.i+=12;bu.right=z(E);bu.am0=z(E);
bu.left=z(E);eo.P.asc[i1]=bu;var iK=E.i;E.i=gc;e0+=a(E,iK-gc,1);E.i=iK}e0+="\n";var gi=R(E);if(fD>=1300)iv+=4;
e0+="Hypens\n"+a(E,iv,gi)+"\n";E.i+=iv*gi;var d0=R(E);e0+="Dropcaps\n"+a(E,28,d0)+"\n";E.i+=28*d0;if(fD>800){var af=R(E);
e0+="Set11s\n"+a(E,28,af)+"\n";E.i+=12*af}eo.P.YT={};for(var v=0;v<dz;v++){var eY=R(E);if(eY>3)throw eY;
var hV=R(E),i$={};i$.RI=R(E);E.i+=8;var cz=R(E);if(fD>=1200)cz*=2;E.i+=cz;i$.a8L=R(E);i$.aBZ=R(E);if(eY>1){i$.a8O=R(E);
i$.a2S=R(E);i$.agb=R(E);i$.aka=R(E);if(fD>800)i$.aAH=R(E)}if(eY>2){i$.a1T=R(E);i$.aqY=R(E);i$.avA=R(E);
i$.ahv=R(E);i$.a6S=R(E)}eo.P.YT[hV]=i$}}else if(eo.Vj=="LIST")I(G,E,T,y,eo.sub,dH+1);else if(eo.Vj=="txsm"){eo.P={};
if(fD<600)throw"e";if(fD<700)throw"e";if(fD>=1600){eo.P=j(E);return}if(fD>=1500)E.i+=37;else E.i+=36;
if(R(E)){if(fD<800)E.i+=32}if(fD<800)E.i+=4;eo.P.aqU=R(E);eo.P.Ik=[];E.i+=48;if(fD>=800){if(R(E)){E.i+=32;
if(fD>=1300)E.i+=8}}if(fD>=1500)E.i+=12;var eY=R(E),fk=1,ee=!1;if(!eY){if(fD>=800)E.i+=4;if(fD>800)E.i+=2;
if(fD>=1400)E.i+=2;E.i+=24;if(fD<800)E.i+=8;fk=R(E)}for(var jK=0;jK<fk;jK++){var aC=R(E),v=0;if(fD>=1300&&eY)E.i++;
E.i++;var dz=R(E),cI=[];for(v=0;v<dz;v++){var cZ=F(E),j0=0;F(E);var ad=F(E);if(fD>=800)j0=F(E);var i$={};
if(ad&1){i$.al7=n(E);var cX=n(E);if(cX)i$.a3z=cX}if(ad&2)E.i+=4;if(ad&4)i$.a1F=z(E);if(ad&8)E.i+=4;if(ad&16)E.i+=4;
if(ad&32)E.i+=4;if(ad&64){i$.a8L=R(E);if(fD>=1500)E.i+=48}if(ad&128){i$.aBZ=R(E)}if(j0&8){if(fD>=1300){var bY=R(E);
if(E.i+bY*2>=E.data.length){ee=!0;break}E.i+=bY*2}else E.i+=4}if(j0&32){var io=F(E);if(io)E.i+=52}if(cZ==2)if(fD>=1300)E.i+=48;
cI.push(i$)}if(ee){break}var et=R(E);if(E.i+et*4>E.data.length)break;var dR=[];for(v=0;v<et;v++){var dZ=0;
if(fD>=1200)dZ=s(E)&4294967295;else dZ=R(E);dR[v]=dZ>>16|dZ&1}var jh=et;if(fD>=1200)jh=R(E);var jo=m(E);
eo.P.Ik.push({a5l:aC,text:jo,YT:cI})}}else if(eo.Vj=="arrw")eo.P=N(E);else if(eo.Vj=="font"){var gc=E.i,co=n(E),h3=n(E),b1="";
E.i+=14;if(E.kQ>=1200)b1=V(E);else b1=m(E);eo.P={id:co,apG:h3,name:b1};if(y){var ij=gc+bf;while(E.data[E.i]==0)E.i++;
E.i+=2;var h0=V(E);while(E.data[E.i]==0)E.i++;while(E.data[E.i]<=2)E.i+=4;eo.P.gd=V(E)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(eo.Vj)!=-1){}else if(eo.Vj=="flgs")eo.P=R(E);
else if(eo.Vj=="bbox"){var gn=z(E),fS=z(E),ka=z(E),g5=z(E);eo.P=new gt(gn,fS,ka-gn,g5-fS)}else if(eo.Vj=="fild"){var cs=R(E),dy;
if(fD>=1300)E.i+=8;var cE=n(E);if(cE==0){}else if(cE==1){E.i+=fD>=1300?13:2;dy=Y(E)}else if(cE==2){E.i+=fD>=1300?8:2;
var fa=F(E),h7=0;if(fD>=1300){E.i+=17;h7=Z(E)}else if(fD>=600){E.i+=19;h7=O(E)}else{E.i+=11;h7=Z(E)}var f_=i(E),ba=.5+t(E),fT=.5+t(E)-.5;
if(fD>=600)E.i+=2;var aI=B(E)&255,ar=F(E)/100;E.i++;var ao=B(E)&65535;if(fD>=1300)E.i+=3;var fn=[];for(var v=0;
v<ao;v++){var k8=Y(E);if(fD>=1400)E.i+=26;else if(fD>=1300)E.i+=5;var aF=(B(E)&65535)/100;if(fD>=1300)E.i+=3;
fn.push([aF,k8])}dy={typ:fa==1?"lin":"rad",crds:[ba-Math.cos(f_)/2,fT-Math.sin(f_)/2,ba,fT],grad:fn,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",cE);
eo.P={id:cs,type:cE,P:dy}}else if(eo.Vj=="outl"){var f$=R(E);if(fD>=1300){var fW=0,iC=0;while(fW!=1){E.i+=iC;
fW=R(E);iC=R(E)}}var f4=n(E),cR=n(E),d5=n(E);if(fD<1300&&fD>=600)E.i+=2;var gw=z(E),az=n(E)/100;if(fD>=600)E.i+=2;
var jI=i(E);if(fD>=1300)E.i+=46;else if(fD>=600)E.i+=52;var dy=Y(E);if(fD<600)E.i+=10;else E.i+=16;var dI=n(E),dP=E.i,fF=[];
for(var v=0;v<dI;++v)fF.push(n(E));if(fD<600)E.i=dP+20;else E.i=dP+22;var eG=R(E),gE=R(E);eo.P={id:f$,adU:f4,auX:cR,alG:d5,lineWidth:gw,color:dy,dE:fF,ak1:eG,avG:gE}}else if(eo.Vj=="mcfg"){if(1300<=fD)E.i+=12;
else if(900<=fD)E.i+=4;else if(600<=fD&&fD<700)E.i+=28;var fB=0,gz=0;if(fD<400){E.i+=2;var gn=z(E),fS=z(E),ka=z(E),g5=z(E);
fB=Math.abs(ka-gn);gz=Math.abs(g5-fS)}else{fB=z(E);gz=z(E)}eo.P={aEI:new he(fB,gz)}}else if(eo.Vj=="loda"||eo.Vj=="lobj"){var bd=E.i,ak=B(E),bK=B(E),bo=B(E),f0=B(E),kF=B(E),fx=[],hZ=[],v=0,h9=null;
E.i=bd+bo;while(v<bK)fx[v++]=B(E);E.i=bd+f0;while(v>0)hZ[--v]=B(E);eo.P={};for(v=0;v<bK;v++){E.i=bd+fx[v];
var dj=hZ[v];if(dj==30){if(fD>=400&&kF==1||fD<400&&kF==0){eo.P.path=W(E)}else if(fD>=400&&kF==2||fD<400&&kF==1){eo.P.path=f(E)}else if(fD>=400&&kF==3||fD<400&&kF==2){eo.P.path=b(E)}else if(kF==37){eo.P.path=U(E)}else if(fD>=400&&kF==4||fD<400&&kF==3){eo.P.ai6=$(E)}else if(fD>=400&&kF==6||fD<400&&kF==5){eo.P.a4_=r(E)}else console.log(kF)}else if(dj==20){if(fD<400)eo.P.aeV=Q(E);
else eo.P.azi=R(E)}else if(dj==10){if(fD<400)eo.P.a7w=A(E);else eo.P.aDv=R(E)}else if(dj==200)eo.P.alJ=B(E);
else if(dj==100){if(fD<400)h9=J(E)}}if(h9&&eo.P.path)g.X.h(eo.P.path.s,h9,eo.P.path.s)}else if(eo.Vj=="trfd"){var bd=E.i,ak=B(E),bK=B(E),bo=B(E);
E.i=bd+bo;var fx=[];for(var v=0;v<bK;v++)fx[v]=B(E);for(var v=0;v<bK;v++){E.i=bd+fx[v];if(fD>=1300)E.i+=8;
var hr=n(E);if(hr==8){var fr,i8,gn,kJ,hj,fS;if(fD>=600)E.i+=6;if(fD>=500){fr=w(E);i8=w(E);gn=w(E)/(fD<600?1e3:254e3);
kJ=w(E);hj=w(E);fS=w(E)/(fD<600?1e3:254e3)}else throw"e";eo.YF=new de(fr,kJ,i8,hj,gn,fS)}else console.log(hr)}}else if(!1){console.log(eo);
var ci=Math.min(eo.size,32);console.log(x.PM(G,eo.i,ci));console.log(x.apN(G,eo.i,ci))}}}function N(G){var E=R(G);
G.i+=4;var T=n(G);G.i+=4;var y=[];for(var d4=0;d4<T;d4++)y.push(F(G));G.i+=1;var dH=[];for(var eV=0;
eV<T;eV++){var bf=[];bf[1]=z(G);bf[0]=z(G);dH.push(bf)}var jd=P(dH,y);D[E]=jd}function J(G){var E=0,T=0,y=0,d4=0,dH=0,eV=0;
if(G.kQ>=300){var bf=G.i;G.i+=10;var jd=B(G);G.i=bf+jd;E=q(G);T=q(G);y=O(G)/1e3;d4=q(G);dH=q(G);eV=O(G)/1e3}else{y=z(G);
eV=z(G);E=q(G);T=q(G);y+=q(G)/1e3;d4=q(G);dH=q(G);eV+=q(G)/1e3}return new de(E,T,d4,dH,y,eV)}function Q(G){var E=F(G);
if(E==0)return null;else if(E==1)return Y(G);else console.log(E)}function A(G){var E=F(G);E<<=1;var T=z(G),y=n(G)/100,d4=i(G),dH=Y(G);
return{adU:E,lineWidth:T,color:dH,dE:[],ak1:0,avG:0}}function f(G){var E=z(G),T=z(G),y=i(G),d4=i(G),dH=g.X.Ja(g.n.Rd.lY(0,0,E,T));
return dH}function W(G){var E=G.kQ,T=c(G),y=c(G),d4=0,dH=0,eV=0,bf=0,jd=0,i5=1,fD=1;if(E<1500){bf=c(G);
eV=E<900?bf:c(G);dH=E<900?bf:c(G);d4=E<900?bf:c(G)}else{var eo=w(G);if(eo!=0)i5=eo;eo=w(G);if(eo!=0)fD=eo;
var iX=F(G);G.i+=7;if(iX==0){bf=w(G);jd=F(G);G.i+=15;eV=w(G);G.i+=16;dH=w(G);G.i+=16;d4=w(G);var cK=Math.abs(T*i5/2),g0=Math.abs(y*fD/2);
bf*=cK<g0?cK:g0;eV*=cK<g0?cK:g0;dH*=cK<g0?cK:g0;d4*=cK<g0?cK:g0}else{bf=c(G);jd=F(G);G.i+=15;eV=c(G);
G.i+=16;dH=c(G);G.i+=16;d4=c(G)}}return g.X.Ja(g.n.Rd.Rect(0,0,T,y,[d4,dH,eV,bf]))}function C(G){var E=R(G);
if(G.kQ<1700)E*=2;G.i+=E;return""}function j(G){var E=R(G),y=0;G.i+=37;var T=R(G);for(var v=0;v<T;v++){var d4=R(G);
y=d4;G.i+=48;var dH=R(G);if(dH==1)G.i+=12*4;else G.i+=8;if(!E){G.i+=16;C(G)}}var eV={aqU:y,Ik:[]},bf=R(G);
for(var jd=0;jd<bf;jd++){var i5=R(G),dX="";G.i+=1;if(E)G.i+=1;var fD=C(G),eo=R(G);for(var v=0;v<eo;v++){G.i+=2;
var iX=n(G),cK=n(G);if(cK&4){var g0=R(G);g0*=2;G.i+=g0}if(iX||cK&4){var bW=C(G)}}var hF=R(G),aJ=[];for(var v=0;
v<hF;v++){var iR=s(G)&4294967295;aJ[v]=iR>>16|iR&1}var ex=R(G);for(var v=0;v<hF;v++){var iZ=aJ[v]&7,j3=0;
if(iZ==0||iZ==2||iZ==4||iZ==6)j3=G.data[G.i++];else if(iZ==1||iZ==3||iZ==5||iZ==7)j3=G.data[G.i++]+G.data[G.i++]*256;
else throw iZ;dX+=String.fromCharCode(j3)}var by=dX.split("\r");for(var v=0;v<by.length;v++)eV.Ik.push({text:by[v],a5l:i5,YT:[]})}return eV}function K(G,E){var T={},y=R(G);
for(var v=0;v<y;v++){var d4=R(G);G.i+=4;var dH=R(G);T[d4]=dH;if(E)G.i+=48}return T}function $(G){var E=z(G),T=z(G);
return new he(E,T)}function r(G){G.i+=4;var E=z(G),T=z(G);return new he(E,T)}function U(G){G.i+=4;var E=n(G)+n(G);
G.i+=16;var T=e(G,E);return T}function b(G){var E=n(G);G.i+=2;return e(G,E)}function e(G,E){var T=[],y=[];
for(var v=0;v<E;v++)T.push([z(G),z(G)]);for(var v=0;v<E;v++)y.push(F(G));return P(T,y)}function P(G,E){var T={s:[],v:[]},y=0,d4=0,dH=0;
for(var v=0;v<G.length;v++){var y=G[v][0],d4=G[v][1],eV=E[v];if(!(eV&64)&&!(eV&128)||v==0){T.s.push(y,d4);
T.v.push("M");dH+=2}else if(eV&64&&!(eV&128)){T.s.push(y,d4);T.v.push("L");dH+=2}else if(!(eV&64)&&eV&128){T.s.push(y,d4);
T.v.push("C");dH+=6}else if(eV&64&&eV&128){T.s.push(y,d4)}}if(dH!=T.s.length)throw"e";return T}function L(G,E){var T=x.K6;
E+=8;var y=T(G,E);E+=4;var d4=T(G,E);E+=4;E+=4*7;var dH=E,eV=g.o(y*d4*4);E+=1024;for(var bf=0;bf<d4;
bf++)for(var jd=0;jd<y;jd++){var v=bf*y+jd,i5=(d4-bf-1)*y+jd,fD=G[E+v]<<2,eo=i5<<2;eV[eo+0]=G[dH+fD+2];
eV[eo+1]=G[dH+fD+1];eV[eo+2]=G[dH+fD+0];eV[eo+3]=255}return{G5:eV,rect:new gt(0,0,y,d4)}}function Y(G){var E=G.kQ,T=0,y=0,d4=0;
if(E>=500){T=n(G);if(T==1&&E>=1300)T=25;if(T==30){T=25;y=30}else{y=n(G);G.i+=4}d4=R(G)}else if(E>=400)throw"e";
else{T=F(G);d4=R(G)}return X(T,y,d4)}function X(G,E,T){var y=[0,0,0];if(G==2||G==3||G==9||G==17){var d4=[T>>>0&255,T>>>8&255,T>>>16&255,T>>>24&255];
if(G==2)for(var v=0;v<4;v++)d4[v]=Math.round(255*d4[v]/100);for(var v=0;v<4;v++)d4[v]/=255;y=UDOC.C.cmykToRgb(d4)}else if(G==1||G==5){y=[T>>>0&255,T>>>8&255,T>>>16&255];
for(var v=0;v<3;v++)y[v]=y[v]/255;if(G==5)y.reverse()}else console.log("Unknown color model "+G,T,T.toString(16));
return y}return{x2:H}}(),ed=function(){var l,o,D=new ArrayBuffer(4),H=new Uint8Array(D),_=new Uint32Array(D),u=new Float32Array(D);
function S(Z,O){for(var w=0;w<Z.length;w++)if(Z[w][0]==O)return Z[w]}function h(){var Z=0,O=0,w=0;do{w=l[o++];
Z|=(w&127)<<O;O+=7}while(w&128&&O<35);return Z>>>0}function F(Z,O,w,m,V){l=Z;o=O;var q=m[0]=="mesg",i=m[2],c={},z=1,B=q?1e9:i.length;
while(z<=B){var t=z;if(q){t=h();if(t==0)break}var a=S(i,t),I=a[2],N=a[1]==1,J=N?h():1,Q=new Array(J);
if(I==3){if(!N)throw"e";Q=l.slice(o,o+J);o+=J}else for(var v=0;v<J;v++){var A;if((I&1)==1){if(I==1)A=l[o++]==1;
else if(I==3)A=l[o++];else if(I==5){var f=h();A=f&1?~(f>>>1):f>>>1}else if(I==7)A=h();else if(I==9){if(l[o]==0){A=0;
o++}else{H[0]=l[o];H[1]=l[o+1];H[2]=l[o+2];H[3]=l[o+3];var W=_[0];_[0]=W<<23|W>>>9;A=u[0];o+=4}}else if(I==11){var C=n(l,o);
A=C[0];o+=C[1]+1}else throw I}else{var j=w[I>>>1];if(j[0]=="enum"){var K=h();A=j[2][K]}else{var $=F(l,o,w,j,V+1);
A=$[0];o=$[1]}}Q[v]=A}c[a[3]]=N?Q:Q[0];z++}return[c,o]}function n(Z,O){var w=O;while(Z[w]!=0)w++;return[x.Fs(new Uint8Array(Z.buffer,O,w-O)),w-O]}function R(Z,O){var w=O;
while(Z[w]!=0)w++;for(var v=O;v<w;v++)if(Z[v]>127)throw"e";return x.Gk(Z,O,w-O)}function s(Z){l=Z;o=1;
var O=[];while(o<Z.length){var w=o,m=O.length,V=R(Z,o);o+=V.length+1;var q=h();if(q>2)throw"e";var i=h(),c=[];
for(var v=0;v<i;v++){var z=R(Z,o);o+=z.length+1;var B=h(),t=h(),a=h();c.push(q==0?z:[a,t,B,z])}O.push([["enum","strc","mesg"][q],V,c])}return O}return{a40:s,ae5:F}}();
function hJ(){}hJ.x2=function(l,o){var D=Date.now(),H=new Uint8Array(l),_=8,u,s=0,$=0;if(H[0]==80&&H[1]==75){u=UZIP.parse(l);
H=u["canvas.fig"]}var S=x.K6(H,_);_+=4;var h=[];while(_<H.length){var F=x.K6(H,_);_+=4;var n=H.slice(_,_+F);
if(H[_]==137&&H[_+1]==80){}else n=UZIP.inflateRaw(n);h.push(n);_+=F}var R=ed.a40(h[0]);for(var v=0;v<R.length;
v++)if(R[v][1]=="Message")s=v;var Z=ed.ae5(h[1],0,R,R[s],0)[0],O={rz:{},Df:{},apa:{},Sa:u},w=Z.nodeChanges;
for(var m=0;m<w.length;m++){var V=w[m],q=V.guid;O.Df[q.sessionID+","+q.localID]=V}for(var m=0;m<w.length;
m++){var V=w[m],q=V.parentIndex;if(q){var i=hJ.ei(O.Df,q.guid);if(i.children==null)i.children=[];i.children.push(V)}}var c=w[0],z=c.children,B=new gt,t=[],a=[];
for(var q=0;q<z.length;q++){var I=z[q],N=I.children;if(I.name=="Internal Only Canvas"||N==null)continue;
var J=new gt;for(var v=0;v<N.length;v++){var Q=N[v],A=Q.transform,f=Q.size;if(A.m00==1&&A.m10==0&&A.m01==0&&A.m11==1){var W=new gt(A.m02,A.m12,f.x,f.y);
J=J.tB(W)}}var C=B._==0?0:B._+100,j=J.clone();j.x=0;j.y=C;B=B.tB(j);t[q]=J;a[q]=C}var K=ae.hu(new gt(0,0,B.Q,B._),8192*8192);
o.Q=Math.round(B.Q/K);o._=Math.round(B._/K);o.buffer=g.o(o.Q*o._*4);for(var q=0;q<z.length;q++){var I=z[q],N=I.children;
if(I.name=="Internal Only Canvas"||N==null)continue;N.sort(hJ.a3J);var r=new de(1,0,0,1,-t[q].x,a[q]-t[q].y);
r.scale(1/K,1/K);for(var v=0;v<N.length;v++){var Q=N[v];hJ.KB(Q,[],r,Z.blobs,o,0,O);$++}}o.sp($);o.hU=!0;
if(K!=1)alert("File scaled down "+K+"x")};hJ.KB=function(l,o,D,H,_,u,S){var h=hJ,J=!1,Q,W=!1,C,j;o=JSON.parse(JSON.stringify(o));
var F=l.overrideKey?l.overrideKey:l.guid;for(var v=0;v<o.length;v++){var n=o[v],R=n.guidPath.guids;if(h.axz(R[0],F)){if(R.length==1){var s={};
for(var Z in l)s[Z]=n[Z]!=null?n[Z]:l[Z];l=s}else n.guidPath.guids=R.slice(1)}}var O=l.type,w=l.children,m=l.size,V=l.effects,q=_.O7();
q.FH(l.name);q.rm(l.visible);q.opacity=Math.round(l.opacity*255);var i=h.qN(l.transform),c=i.clone();
c.concat(D);if(m==null)m={x:0,y:0};var z=new gt(Math.round(c.ip),Math.round(c.nl),Math.round(m.x*c.jX()),Math.round(m.y*c.jX()));
if(z.Q==0||isNaN(z.Q))z.Q=100;if(z._==0||isNaN(z._))z._=100;var B=l.fillPaints,t=l.inheritFillStyleID;
if(t){var s=h.ei(S.Df,t);if(s)B=s.fillPaints}if(B==null)B=[];var B=h.arO(B),a=B[0];if(a&&a.type=="IMAGE"&&h.zG(H,hJ.km(a),S,!0)==null)a=null;
var I=l.strokePaints,t=l.inheritFillStyleIDForStroke;if(t){var s=h.ei(S.Df,t);if(s)I=s.fillPaints}if(I==null)I=[];
var I=h.arO(I),N="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(O)!=-1;
if(N||O=="FRAME"){Q=new d.dO;h.aBf(l,H,Q);J=g.n.OC(Q.d);g.n.Am(Q.d,c);var A=g.X.rP(g.n.kU(Q.d));if(!A.lh())z=A;
if(S.rz.ro&&a){var f=d.dO.Wu(S.rz.ro.d);for(var v=2;v<f.length;v++)if(f[v].HN!=null)f[v].HN=3;Q.d=Q.d.concat(f.slice(2))}}if(a&&a.type=="IMAGE"){j=a.imageScaleMode;
W=!0;var K=a.originalImageWidth,$=a.originalImageHeight;if(K*$==0){var r=h.zG(H,hJ.km(a),S);K=r.jH.Q;
$=r.jH._}var U=K/$,b=m.x/m.y;C=Math.abs(U-b)}if(O=="FRAME"){}else if(N&&J&&W&&(j=="FIT"||j=="FILL"&&C<=.05||j=="STRETCH"&&C<=.05)){var e=h.zG(H,hJ.km(a),S,!0),P=_.M9(e,q.getName(),0,0);
P.XL=q.XL;P.opacity=q.opacity;q=P;var L=new gt(0,0,m.x,m.y);if(j=="FIT"){var Y=a.originalImageWidth,X=a.originalImageHeight,G=Math.min(m.x/Y,m.y/X),E=Y*G,T=X*G;
L=new gt(L.x+(L.Q-E)/2,L.y+(L._-T)/2,E,T)}var y=g.X.YZ(L).s;g.X.h(y,c,y);q.add.SoLd.Trnf=p.cA.y3(y);
q.add.SoLd.nonAffineTransform=p.cA.y3(y);var d4=[],V=l.effects,dH=a.paintFilter;if(V)for(var v=0;v<V.length;
v++)if(V[v].type=="FOREGROUND_BLUR"){var eV=V[v],bf=at.If("GsnB",{});d4.push(bf);bf.v.enab.v=eV.visible;
bf.v.Fltr.v.Rds.v.val=eV.radius/2.4}if(dH&&dH.exposure!=0){var bf=at.If("brit",{});d4.push(bf);bf.v.Fltr.v.Brgh.v=Math.round(dH.exposure*160);
bf.v.Fltr.v.useLegacy.v=!0}if(dH&&dH.vibrance!=0){var bf=at.If("vibA",{});d4.push(bf);bf.v.Fltr.v.Strt.v=Math.round(Math.round(dH.vibrance*100))}if(d4.length!=0){q.add.SoLd.filterFX=at.B3();
_.Cy({id:q.add.SoLd.placed.v,rect:new gt,buffer:g.o(1),I:new d.ow});q.add.SoLd.filterFX.v.filterFXList.v=d4}q.mP(_,!1);
h.a4Z(S,q,_)}else if(N){h.a3c(q,Q,l,a,I,c,z,H,_,S);if(V)for(var v=0;v<V.length;v++){var eV=V[v];if(eV.type!="FOREGROUND_BLUR")continue;
Q.L4=eV.radius/2.4}q.Xv();q.C$(_)}else if(O=="TEXT"){var jd=l.textData,i5=jd.layoutSize,fD=["LEFT","RIGHT","CENTER"].indexOf(l.textAlignHorizontal);
q.add.lnsr="rend";q.add.TySh=fX.D2(0,0);q.add.TySh.g6=new gt(0,0,100,100);var eo=c.clone();q.add.TySh.h=eo;
var iX=q.add.TySh.PF,cK=jd.characters;if(l.textCase=="TITLE"){for(var v=0;v<cK.length;v++)if(v==0||cK[v-1]==" "){var g0=cK.slice(0,v),bW=cK.slice(v+1);
cK=g0+cK[v].toUpperCase()+bW}}cK=cK.replace(/\u2028/g,"\n");cK=cK.replace(/\u2029/g,"\n");cK=cK.replace(/\r\n/g," \n");
fX.yQ(iX,0,cK);var hF=l.textAutoResize,aJ=jd.baselines;if(hF=="WIDTH_AND_HEIGHT"){var iR=fD==0?0:fD==1?i5.x:i5.x/2,ex=aJ?aJ[0].position.y:0;
eo.translate(iR*c.jX(),ex*c.jX());fX.aM(iX,0)}else if(hF=="HEIGHT"||hF=="NONE"||hF==null){var ex=aJ?aJ[0].position.y-l.fontSize*.7:0;
eo.translate(0,ex*c.jX());fX.aM(iX,1);fX.nP(iX,[0,0,Math.round(i5.x),Math.round((hF=="NONE"?1.8:1)*i5.y)])}else throw hF;
if(cK!=""){var dX=fX.eF(iX,0,1);h.ac_(l,c,m,dX,q,H,_,S);fX.fn(iX,0,cK.length,dX);var iZ=jd.characterStyleIDs,j3=jd.styleOverrideTable;
if(iZ){iZ=iZ.slice(0);for(var v=0;v<iZ.length;v++)if(cK[v]=="\n")iZ[v]=-v-1;var by=[0],i9=0,dm=0;for(var v=0;
v<iZ.length;v++){dm++;var kh=iZ[v];if(v==0||kh==iZ[v-1]){}else{by.push(dm-1,v);dm=1}}by.push(dm);for(var v=0;
v<by.length;v+=2){var jK=by[v],bd=by[v+1];if(cK[jK]=="\n")continue;var kh=iZ[jK];if(kh!=0){var dz;for(var dw=0;
dw<j3.length;dw++)if(j3[dw].styleID==kh)dz=j3[dw];var dX=fX.eF(iX,jK,jK+1);h.ac_(dz,c,m,dX,q,H,_,S);
fX.fn(iX,jK,jK+bd-1,dX)}}}}}else if(O=="SYMBOL"){}else if(O=="INSTANCE"){var ev=l.symbolData,aq=ev.symbolOverrides,s=h.ei(S.Df,ev.symbolID);
if(s)w=s.children;else console.log(l.name,"symbol not found",ev.symbolID);o=o.slice(0);for(var v=0;v<aq.length;
v++)o.push(aq[v])}else console.log(O);if(!1){}else if(w&&!N){_.R.push(_.k0());var e3=!1,a9=u==0&&O!="SYMBOL"&&O!="INSTANCE";
if(a9){if(z.lh())console.log(z);q.Hh(z)}a=B[B.length-1];if(a&&a.type=="IMAGE"&&h.zG(H,hJ.km(a),S,!0)==null)a=null;
if(a9&&a&&a.type=="SOLID"){var e0=a.color;q.add.artb.artboardBackgroundType.v=4;q.add.artb.Clr=h.Bc(e0)}else if((a||I[0])&&Q){var as=_.O7();
as.FH("Background");h.a3c(as,Q,l,a,I,c,z,H,_,S);as.Xv();as.C$(_);_.R.push(as);e3=!0}w.sort(h.a3J);var eK=S.rz;
S.rz={};for(var gh=0;gh<w.length;gh++)h.KB(w[gh],o,c,H,_,u+1,S);S.rz=eK;q.add.lsct=!1?jl.VV:jl.qb;q.TY="pass";
var gx=q.zd();q.XL=24;q.rm(gx);var gc=u!=0&&B.length!=0&&!l.frameMaskDisabled&&l.containerSupportsFillStrokeAndCorners;
if(!e3&&gc&&Q){q.add.vmsk=Q;q.Xv();q.C$(_)}else h.a4Z(S,q,_);_.R.push(q)}else if(l.mask){if(Q){S.rz.ro=Q}}else{var kQ=[],gi=1;
if(V)for(var dn=0;dn<V.length;dn++){var eV=V[dn],bQ=eV.color,iK=eV.type,cJ=["DROP_SHADOW","INNER_SHADOW"].indexOf(iK);
if(cJ!=-1){var i1=["DrSh","IrSh"][cJ],bu=JSON.parse(cq.Rq[cq.order.indexOf(i1)]);kQ.push([i1,bu]);bu.enab.v=eV.visible;
bu.Md.v.BlnM=b2.De(h.arb(eV.blendMode));bu.Opct.v.val=Math.round(100*bQ.a);bu.blur.v.val=Math.round(eV.radius*c.jX());
bu.Clr=h.Bc(bQ);var iR=eV.offset.x,ex=eV.offset.y;bu.uglg.v=!1;bu.lagl.v.val=Math.round(180/Math.PI*Math.atan2(ex,-iR));
bu.Dstn.v.val=Math.round(Math.sqrt(iR*iR+ex*ex)*c.jX())}}if(O=="TEXT"&&B[0]&&B[0].type!="SOLID")gi=0;
for(var v=gi;v<B.length;v++){var iv=B[v],d0=h.tn(l,iv,c,z,H,_,S);if(d0[0]=="GdFl")kQ.push(["GrFl",d0[1]]);
else if(d0[0]=="SoCo")kQ.push(["SoFi",d0[1]]);else if(d0[0]=="PtFl")kQ.push(["patternFill",d0[1]]);else if(d0[0]=="None"){}else throw d0}if(!N)for(var v=0;
v<I.length;v++){var iv=I[v],d0=h.tn(l,iv,c,z,H,_,S);if(d0[0]=="SoCo"){var bu=JSON.parse(cq.Rq[cq.order.indexOf("FrFX")]);
kQ.push(["FrFX",bu]);bu.enab=d0[1].enab;bu.Opct=d0[1].Opct;bu.Md=d0[1].Md;bu.Clr=d0[1].Clr;bu.Sz.v.val=Math.round(l.strokeWeight);
var af=l.strokeAlign;if(af)bu.Styl.v.FStl=cq.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(af)]}}if(kQ.length!=0){var eY=JSON.parse(cq.default);
for(var v=0;v<cq.order.length;v++)eY[cq.lZ[v]]={t:"VlLs",v:[]};for(var v=0;v<kQ.length;v++){var hV=kQ[v],i1=cq.lZ[cq.order.indexOf(hV[0])];
eY[i1].v.unshift({t:"Objc",v:hV[1]})}if(w==null)q.add.lmfx=eY}_.R.push(q)}};hJ.a3c=function(l,o,D,H,_,u,S,h,F,n){var R=hJ;
l.XL|=16;l.add.vmsk=o;var s=l.add.vstk=cq.K$.ts(),Z=R.tn(D,H,u,S,h,F,n);s.fillEnabled.v=Z[0]!="None";
if(Z[0]=="None"){l.add.SoCo=Z[1]}else{R.vX(Z,l);l.add[Z[0]]=Z[1]}var Z=R.tn(D,_[0],u,S,h,F,n);if(Z[0]!="None"){var s=l.add.vstk;
s.strokeEnabled.v=!0;s.strokeStyleLineWidth.v.val=D.strokeWeight*u.jX();s.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cq.K$.gU[["INSIDE","CENTER","OUTSIDE"].indexOf(D.strokeAlign)];
var O={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[Z[0]],w=["SoFi","GrFl","patternFill"].indexOf(O),m=[cq.mh,cq.Mp,cq.Zm][w];
s.strokeStyleContent.v={classID:cq.K$.Gl[0]};var V=D.dashPattern;if(V)s.strokeStyleLineDashSet.v=cN.fx(V,1/D.strokeWeight);
var q=s.strokeStyleContent.v={classID:cq.K$.Gl[w]};for(var v=0;v<m.length;v++)q[m[v]]=Z[1][m[v]];if(!s.fillEnabled.v)R.vX(Z,l)}};
hJ.vX=function(l,o){var D=l[1].Opct.v.val;if(D!=100)o.opacity=Math.round(o.opacity/255*(D/100)*255)};
hJ.a3J=function(l,o){var D=l.parentIndex.position,H=o.parentIndex.position;return D>H?1:-1};hJ.arO=function(l){for(var v=1;
v<l.length;v++){var o=l[v];if(o.type=="IMAGE"&&o.opacity==1){l=l.slice(v);break}}for(var v=0;v<l.length;
v++){var o=l[v],D=o.imageThumbnail,H=o.type=="IMAGE";if(H&&(o.image==null||o.image.dataBlob==null)&&D&&D.dataBlob)o.image=D;
if(!o.visible||H&&o.image==null){l.splice(v,1);v--}}return l};hJ.a4Z=function(l,o,D){if(l.rz.ro){o.add.vmsk=l.rz.ro.clone();
o.Xv();o.C$(D)}};hJ.ac_=function(l,o,D,H,_,u,S,h){var F=l.fontSize,n=l.lineHeight,R=l.fontName,s=l.textAlignHorizontal,Z=l.textTracking,O=l.textCase,w=l.textDecoration;
if(F==null)F=H.i7.FontSize;if(R){var m=R.postscript;if(m==""){var V=R.family,q=R.style;m=V.split(" ").join("")+"-"+q}fX.LQ(H,m)}if(F!=null)H.i7.FontSize=Math.round(F);
if(w=="UNDERLINE")H.i7.Underline=!0;if(Z)H.i7.Tracking=Math.round(Z*1e3);if(O)H.i7.FontCaps=O=="UPPER"?2:0;
if(n&&(n.units!="PERCENT"||n.value!=100)){if(F==null)F=15;var i=n.value;if(n.units=="PERCENT")i=1*F*i/100;
if(n.units=="RAW")i=1*F*i;H.i7.AutoLeading=!1;H.i7.Leading=Math.round(i)}if(s)H.z5.Justification=["LEFT","RIGHT","CENTER"].indexOf(s);
var c=l.fillPaints,z=l.inheritFillStyleID;if(z){var B=hJ.ei(h.Df,z);if(B)c=B.fillPaints}if(c&&c[0]){var t=hJ.tn(l,c[0],o,D,u,S,h);
if(t[0]=="SoCo"){var a=g.G.s3(t[1].Clr.v);H.i7.FillColor={Type:1,Values:[1,a.$/255,a.H/255,a.J/255]};
hJ.vX(t,_)}}};hJ.tn=function(l,o,D,H,_,u,S){var h=hJ,F,n,R=l.size;if(R==null)R={x:0,y:0};if(o){var s=o.type,Z=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(s);
if(s=="SOLID"){F="SoCo";var O=o.color;n=JSON.parse(cq.Rq[cq.order.indexOf("SoFi")]);n.Clr=h.Bc(O)}else if(Z!=-1){var w=JSON.parse(cq.Rq[cq.order.indexOf("GrFl")]),m=w.Grad.v;
m.Intr.v=0;w.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][Z];var V=[],q=o.stops;for(var v=0;v<q.length;v++){var i=q[v],c=i.color;
V.push([i.position,[c.r,c.g,c.b],c.a])}g.G.Ky(V,m);var z=h.qN(o.transform);z.L5();var B=z.clone();if(R)B.scale(R.x,R.y);
B.concat(D);var t=new he(0,.5),a=new he(1,.5);t=B.wq(t);a=B.wq(a);if(!0){t.x=a.x+.5*(t.x-a.x);t.y=a.y+.5*(t.y-a.y)}g.G.iW(t,a,H,w);
if(Z==3){if(B.M*B.me-B.J*B.oe<0)w.Rvrs.v=!w.Rvrs.v}F="GdFl";n=w}else if(s=="IMAGE"){var w=JSON.parse(cq.Rq[cq.order.indexOf("patternFill")]),z=h.qN(o.transform);
z.L5();var I=hJ.km(o),N=S.apa[I];if(N==null){var J=h.zG(_,I,S);N=S.apa[I]={};N.id=f9.T5()+"-d71c-11e5-b1ae-a548a96e5f9f";
N.dT=[new Uint8Array(J.data),J.jH];if(z.M<0){var Q=N.dT[0].slice(0);g.t.yk(Q,N.dT[0],J.jH.Q,J.jH._)}N.name="someImage";
u.YE(N)}if(z.M<0)z.M=-z.M;var A=["FILL","FIT","STRETCH","TILE"].indexOf(o.imageScaleMode),f=A==3?o.scale:1;
cN.abj(N,w,R.x,R.y,A,D,z,f);F="PtFl";n=w}else if(s=="VIDEO"){F="SoCo";n=JSON.parse(cq.Rq[cq.order.indexOf("SoFi")]);
n.Clr=h.Bc({r:255,g:0,b:255})}else throw s;if(n)n.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(o.opacity*100)}}}if(F==null||o.opacity<.001){F="None";
n={classID:"null",Clr:{t:"Objc",v:g.G.XF({$:0,H:0,J:0})}}}return[F,n]};hJ.km=function(l){var o=l.image,D=o.dataBlob;
if(D==null){D="";for(var v=0;v<20;v++)D+=o.hash[v].toString(16).padStart(2,"0")}return D};hJ.zG=function(l,o,D,H){if(l[o]){var _=l[o];
if(H)return _.bytes;if(_.rslt)return _.rslt;var u=_.bytes.buffer;_.rslt=hJ.aen(u);return _.rslt}else{if(D.Sa==null)return null;
if(H)return D.Sa["images/"+o];var u=D.Sa["images/"+o].buffer;if(D.Sa["images/-"+o])return D.Sa["images/-"+o];
D.Sa["images/-"+o]=hJ.aen(u);return D.Sa["images/-"+o]}};hJ.aen=function(l){var o=fj.ZH(l);if(o=="fpng")o="png";
var D=fj.rU(o);try{return D.Zk(l)[0]}catch(ey){return{data:g.o(4),jH:new gt(0,0,1,1)}}};hJ.aBf=function(l,o,D){var H=l.type,_=l.size,u=l.cornerRadius,n;
if(u==null)u=0;var S=_.x,h=_.y,F=[u,u,u,u],R=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var v=0;v<4;v++)if(l[R[v]]!=null)F[v]=l[R[v]];if(H=="RECTANGLE"||H=="ROUNDED_RECTANGLE"||H=="FRAME"){n=g.n.Rd.Rect(0,0,S,h,F)}else if(H=="ELLIPSE"){var s=l.arcData,Z=s?s.startingAngle:0,O=s?s.endingAngle:2*Math.PI,w=s?s.innerRadius:0;
if(Z==0&&O>1.999*Math.PI)n=g.n.Rd.lY(0,0,S,h,0);else n=g.n.Rd.a6o(S/2,h/2,h/2,Z,O);if(w!=0&&w!=1){var m=d.dO.Wu(n).slice(3);
m.reverse();for(var v=0;v<m.length;v++){var V=m[v],q=V.e6;V.e6=V.BN;V.BN=q}var i=new de;i.translate(-S/2,-h/2);
i.scale(w,w);i.translate(S/2,h/2);g.n.Am(m,i);n=n.concat(m);n[2].length*=2}}else if(H=="LINE"){n=g.n.Rd.Rect(0,0,S,h,0);
n.pop();n.pop();n[2].length=2}else if(H=="STAR"){n=g.n.Rd.a9y(S/2,h/2,S/2,2*Math.PI*(1/4),5,0,l.starInnerScale)}else if(H=="REGULAR_POLYGON"){n=g.n.Rd.Zo(.5,.5,.5,Math.PI/2,l.count,0);
var c=new de;c.scale(S,h);g.n.Am(n,c)}else if(H=="BOOLEAN_OPERATION"){n=[{type:6},{type:8,all:0}];var z=l.children,B=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(l.booleanOperation);
if(B==-1)throw l;if(z==null)z=[];for(var v=0;v<z.length;v++){var t=z[v],a=new d.dO,I=hJ.aBf(t,o,a);if(a.d==null)continue;
g.n.Am(a.d,hJ.qN(t.transform));n=n.concat(a.d.slice(2))}for(var v=3;v<n.length;v++)if(n[v].HN!=null)n[v].HN=B}else if(H=="VECTOR"){var N,J,b=3;
if(!0){var Q=l.vectorData;if(Q==null)return;N=Q.normalizedSize;J=Q.vectorNetworkBlob}var A=o[J].bytes,f=new Uint32Array(A.buffer),W=new Float32Array(A.buffer),C=f[0],j=f[1],K=f[2],$=[],r=[],U=[],e=b+C*3,P=e+j*7;
for(var v=0;v<C;v++){var L=b+v*3,Y=new he(W[L+1],W[L+2]);$.push(Y)}for(var v=0;v<j;v++){var X=e+v*7;
r.push([f[X+0],f[X+1],W[X+2],W[X+3],f[X+4],W[X+5],W[X+6]])}for(var v=0;v<K;v++){var G=f[P+1],E=U[v]=[];
P+=2;for(var T=0;T<G;T++){var y=f[P++],dH=E[T]=[];for(var eV=0;eV<y;eV++)dH[eV]=f[P+eV];P+=y}}if(P!=f.length)throw"e";
if(K==0){var bf=-1;for(var v=0;v<j;v++){if(bf==-1){}else{var jd=-1;for(var T=v;T<j;T++)if(r[T][4]==bf)jd=T;
for(var T=v;T<j;T++)if(r[T][1]==bf)jd=T;if(jd!=-1){var i5=0,q=r[jd];r[jd]=r[v];r[v]=q;if(q[1]!=bf){i5=q[1];
q[1]=q[4];q[4]=i5;i5=q[2];q[2]=q[5];q[5]=i5;i5=q[3];q[3]=q[6];q[6]=i5}}}bf=r[v][4]}U.push([[]]);for(var v=0;
v<j;v++)U[0][0].push(v)}var fD=[],eo=[];for(var iX=0;iX<U.length;iX++){for(var cK=0;cK<U[iX].length;
cK++){var g0=U[iX][cK],bW=0;if(g0.length>1){var hF=r[g0[0]],aJ=r[g0[1]];bW=hF[4]==aJ[1]?1:0}for(var v=0;
v<g0.length;v++){var iR=r[g0[v]],ex=1,dX=4;if(bW==0){ex=4;dX=1}var iZ=$[iR[ex]],j3=$[iR[dX]];if(v==0){eo.push("M");
fD.push(iZ.x,iZ.y)}eo.push("C");fD.push(iZ.x+iR[ex+1],iZ.y+iR[ex+2],j3.x+iR[dX+1],j3.y+iR[dX+2],j3.x,j3.y)}}}n=g.X.Op({s:fD,v:eo},!1);
if(u!=0){var F=[],by=n[2].length;for(var v=0;v<by;v++)F.push(u);if(g.n.YS(n))g.n.fG(n,2,F)}var i9=new de;
i9.scale(N.x==0?1:_.x/N.x,N.y==0?1:_.y/N.y);g.n.Am(n,i9)}D.d=n};hJ.ei=function(l,o){return l[o.sessionID+","+o.localID]};
hJ.axz=function(l,o){return l.sessionID==o.sessionID&&l.localID==o.localID};hJ.arb=function(l){var o={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",LINEAR_BURN:"lbrn",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[l];
if(o==null)throw l;return o};hJ.Bc=function(l){return{t:"Objc",v:g.G.XF({$:l.r*255,H:l.g*255,J:l.b*255})}};
hJ.qN=function(l){if(l==null)return new de;var o=[l.m00,l.m10,l.m01,l.m11,l.m02,l.m12];for(var v=0;v<6;
v++)if(Math.abs(o[v])<1e-20)o[v]=0;return new de(o[0],o[1],o[2],o[3],o[4],o[5])};function cV(){}cV.x2=function(){var l=x.Gk;
function o(O,w,m,V){var q=V?[]:{};while(w<O.length-1&&O[w]!=125){var i=l(O,w,3),c=l(O,w+3,1),z;w+=4;
w++;if(c=="v"){var B=o(O,w,m+1,i=="ELM"||i=="TIL"||i=="TFS");z=B.P;w=B.i}else if(c=="i"||c=="f"){var t=w;
while(O[t]!=125)t++;var a=l(O,w,t-w);z=c=="i"?parseInt(a,16):parseFloat(a);w=t+1}else if(c=="s"){var I=x.I9(O,w),a="";
w+=2;for(var v=0;v<I;v++)a+=String.fromCharCode(O[w+2*v+1]);z=a;w=w+2*I+1}else if(c=="b"){z=O[w]==49;
w=w+2}else throw"e";if(V)q.push([i,z]);else if(q[i]==null)q[i]=z;else{if(!(q[i]instanceof Array))q[i]=[q[i]];
q[i].push(z)}}w++;return{P:q,i:w}}function D(O,w){var m=H(O).slice(1),O=w.Clr.v;O.Rd.v=m[0]*255;O.Grn.v=m[1]*255;
O.Bl.v=m[2]*255}function H(O){return[(O>>>24&255)/255,(O>>>16&255)/255,(O>>>8&255)/255,(O>>>0&255)/255]}function _(O,w){var m=w&4278190080|(w&255)<<16|(w>>>8&255)<<8|w>>>16&255;
new Uint32Array(O.buffer).fill(m)}function u(O,w){var m=O.TSZ,V=O.WPX,q=O.HPX,i=O.TIL,c=new gt(0,0,V,q),z=g.o(V*q*4),B=0;
for(var t=0;t<q;t+=m)for(var a=0;a<V;a+=m){var I=new gt(a,t,m,m),N,J=i[B];if(J[0]=="TMC"){N=g.o(I.c()*4);
_(N,J[1])}else if(J[0]=="TID"){N=w[J[1]]}g.Qo(N,I,z,c);B++}return[z,c]}function S(O,w){O=new Uint8Array(O);
var m=8,V,q={},j=0;while(m<O.length){var i=x.C(O,m);m+=4;var c=l(O,m,4);m+=4;if(c=="mkTS"){var z=pako.inflate(O.slice(m,m+i)),B=o(z,0,0);
V=B.P}else if(c=="mkBT"){var t=x.C(O,m+4),a=x.C(O,m+8),z=pako.inflate(O.slice(m+76,m+i));if(a==0)for(var v=0;
v<z.length;v+=4){var I=z[v],N=z[v+1],J=z[v+2],Q=z[v+3];z[v+3]=I;z[v+2]=Q;z[v+1]=J;z[v]=N}else{var A=g.o(z.length*4);
A.fill(255);g.rT(z,A);z=A}q[t]=z}m+=i+4}var f=V.PDC,W=f?f instanceof Array?f:[f]:[V.MKB],C=new gt;for(var v=0;
v<W.length;v++){var K=W[v];C=C.tB(new gt(0,j,K.WID,K.HIT));j+=K.HIT+100}w.Q=C.Q;w._=C._;w.buffer=g.o(C.c()*4);
w.sp(W.length);j=0;for(var $=0;$<W.length;$++){w.R.push(w.k0());var K=W[$],r=K.WID,U=K.HIT,b=K.BGC,e=(K.LYL?K:V).LYL.LAY,Y=3;
for(var v=0;v<e.length;v++)F(e[v],w,null,q,new de(1,0,0,1,-K.XLC,-K.YLC+j));var P=w.O7();w.R.push(P);
var L=new gt(0,j,r,U);j+=U+100;P.Hh(L);if(b>>>24!=0){var X=g.G.XF({$:b>>>16&255,H:b>>>8&255,J:b>>>0&255});
P.add.artb.Clr={t:"Objc",v:X};Y=4}P.add.artb.artboardBackgroundType.v=Y;P.FH(K.PGN?K.PGN:"Page "+($+1));
P.add.lsct=jl.qb;P.TY="pass";P.XL=24}}function h(O,w,m){var V=O[w];return V instanceof Array?V[m]:V}function F(O,w,m,V,q){var i=w.O7();
if(O.VIS!=null)i.rm(O.VIS);if(O.VIF!=null)i.rm(O.VIF.VIS);if(O.OPA!=null)i.opacity=Math.round(255*O.OPA/1e3);
i.TY=O.CLL||m=="GRP"?"pass":"norm";if(O.BLD!=null){var c=O.BLD,z={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[c+""];
if(z==null)console.log(O.OBN,c);else i.TY=z;if(c==30)i.opacity>>>=1}if(O.CLL){i.FH(O.LNM);w.R.push(w.k0());
var B=O.CLL.CEL;if(B.length==null)B=[B];for(var t=B.length-1;t>=0;t--){var a=B[t].ELM;for(var v=a.length-1;
v>=0;v--)F(a[v][1],w,a[v][0],V,q)}i.add.lsct=O.DIS?jl.VV:jl.qb;i.XL|=24}else if(m=="GRP"){var I=i.add.lmfx=R(O.EFL),N;
w.R.push(w.k0());var a=O.ELM,J=O.MRM;if(O.MNA){N=a[0][1];a=a.slice(1)}i.FH("Group: "+a.length+" objects");
for(var v=a.length-1;v>=0;v--)F(a[v][1],w,a[v][0],V,q);if(N){if(O.MRX){var Q=u(N,V),A=i.I=new d.ow;A.rect=Q[1].clone();
A.rect.x=N.XLC;A.rect.y=N.YLC+q.nl;A.channel=g.o(A.rect.c());g.mA(Q[0],A.channel,0);g.L5(A.channel)}else{n(i,N,q);
i.Xv();i.C$(w)}}if(J){n(i,J.PTH,q);i.Xv();i.C$(w)}i.add.lsct=jl.qb;i.XL|=24}else if(m=="IMG"){i.FH(O.OBN?O.OBN:"Bitmap");
var Q=u(O,V);i.rect=Q[1].clone();i.rect.x=O.XLC;i.rect.y=O.YLC+q.nl;i.buffer=Q[0]}else if(m=="TXT"){var f=O.TFS,$="";
i.add.lnsr="rend";i.add.TySh=fX.D2(0,0);i.add.TySh.g6=new gt(0,0,100,100);var W=new de(1,0,0,1,O.LFT,O.TOP);
if(O.MTX){var C=O.MTX,A=new de(C.M00,C.M01,C.M10,C.M11,C.M20,C.M21);W.concat(A)}W.concat(q);i.add.TySh.h=W;
var j=i.add.TySh.PF,K=fX.eF(j,0,0),r=h(O,"FON");if(r)fX.LQ(K,r);var U=h(O,"PTS");if(U)K.i7.FontSize=Math.round(U);
var b=h(O,"ITL");if(b)K.i7.FauxItalic=b;if(O.PAT)K.i7.FillColor={Type:1,Values:H(h(O.PAT,"FCL"))};for(var v=0;
v<f.length;v++){var e=f[v][0],P=f[v][1];if(e=="TRN"){P=P.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
P=P.replaceAll("\x03","\n").replaceAll("\r","\n");fX.yQ(j,$.length,P);fX.fn(j,$.length,$.length+P.length,K);
$+=P}else if(e=="FON")fX.LQ(K,P);else if(e=="PTS")K.i7.FontSize=Math.round(P);else if(e=="ITL")K.i7.FauxItalic=P;
else if(e=="UND")K.i7.Underline=P;else if(e=="FCL")K.i7.FillColor={Type:1,Values:H(P)};else if(e=="LED"){K.i7.Leading=P*K.i7.FontSize;
K.i7.AutoLeading=!1}else if(e=="JST")K.z5.Justification=[0,2,1,3,5,4,6,7,8][P]}i.FH($.slice(0,255));
var L=O.RIT-O.LFT,Y=O.BOT-O.TOP;if(O.IMG){F(O.IMG,w,"IMG",V,q);var X=w.R.pop();i.buffer=X.buffer;i.rect=X.rect.clone()}fX.aM(j,1);
fX.nP(j,[0,0,L,Y])}else if(m=="PTH"){i.FH(O.OBN?O.OBN:"Path");i.XL|=16;var G=!1;n(i,O,q);var E=i.add.vmsk,T=i.add.vstk,y=g.n.kU(E.d),d4=O.PAT,dH=d4.BPL,eV=d4.FPL,bf=d4.TXF;
if(eV&&eV.FEF)E.L4+=eV.FEF/2.4;if(dH){var jd=dH.CAT;T.strokeEnabled.v=!0;T.strokeStyleLineWidth.v.val=dH.BDI;
T.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cq.K$.gU[O.BRP];D(d4.BCL,T.strokeStyleContent.v);
if(jd!="bc_Basic"&&jd!="bc_Pencil")G=!0}T.fillEnabled.v=eV!=null;if(eV==null){i.add.SoCo=JSON.parse(cq.Rq[cq.order.indexOf("SoFi")]);
D(0,i.add.SoCo)}else if(eV.CAT=="fc_Solid"){i.add.SoCo=JSON.parse(cq.Rq[cq.order.indexOf("SoFi")]);D(O.PAT.FCL,i.add.SoCo)}else if(eV.CAT=="fc_Linear"||eV.CAT=="fc_Circular"||eV.CAT=="fc_Elliptical"){var i5=eV.CAT=="fc_Linear",fD=i.add.GdFl=JSON.parse(cq.Rq[cq.order.indexOf("GrFl")]),eo=fD.Grad.v,iX=[],cK=eV.FGL,g0,bW=[];
if(cK.FGY){var hF=cK.FGY,g0=hF.FG0.FGI,bW=hF.FG1.FGI}else g0=cK.FGV.FGI;for(var v=0;v<g0.length;v++){var aJ=g0[v],iR=H(aJ.FGC),ex=1;
if(bW.length==g0.length)ex=H(bW[v].FGC)[0];iX.push([aJ.FGP,iR.slice(1),ex])}fD.Type.v.GrdT=i5?"Lnr":"Rdl";
g.G.Ky(iX,eo);eo.Intr.v=0;var dX=O.PRI?O.PRI:O,iZ=new he(dX.PSX,dX.PSY),j3=new he(dX.PEX,dX.PEY);if(eV.CAT=="fc_Elliptical"&&dX.PFX!=null){var by=new he(dX.PFX,dX.PFY),i9=he.At(iZ,j3),dm=he.At(iZ,by);
if(dm<i9){var kh=i9;i9=dm;dm=kh}j3=new he(iZ.x+(i9+dm)/2,iZ.y);if(i9/dm<.5)G=!0}if(i5){iZ.x=(iZ.x+j3.x)/2;
iZ.y=(iZ.y+j3.y)/2}g.G.iW(iZ,j3,y,fD)}else console.log(eV.CAT);var I=i.add.lmfx=R(O.EFL,E);if(eV&&eV.FTB!=0&&bf){var Q=u(bf.MSK,V),bd={};
bd.id=f9.T5()+"-d71c-11e5-b1ae-a548a96e5f9f";bd.name="someImage";bd.dT=Q;w.YE(bd);var dz=Q[0];for(var v=0;
v<dz.length;v+=4){dz[v+3]=255-dz[v];dz[v]=dz[v+1]=dz[v+2]=255}var fD=JSON.parse(cq.Rq[cq.order.indexOf("patternFill")]);
fD.Opct.v.val=Math.round(eV.FTB/10);fD.Algn.v=!0;fD.Ptrn.v.Idnt.v=bd.id;I.patternFillMulti.v.unshift({t:"Objc",v:fD})}if(G&&O.IMG){F(O.IMG,w,"IMG",V,q);
var dw=w.R[w.R.length-1];dw.opacity=i.opacity;return}i.Xv();i.C$(w)}else if(m=="URL")return;else{console.log("unknown layer type",m,O);
i.FH("Layer")}w.R.push(i)}function n(O,w,m){if(w.PBL==null)return;var V=O.add.vmsk=new d.dO,q=O.add.vstk=cq.K$.ts(!0),i=w.PBL.PBP;
if(!(i instanceof Array))i=[i];for(var c=0;c<i.length;c++){var z=i[c].PBT;if(z==null)continue;if(!(z instanceof Array))z=[z];
var B=i[c].ISC?0:3;V.d.push({type:B,length:z.length,HN:0,qC:2,Zt:0,bb:0});for(var v=0;v<z.length;v++){var t=z[v],a=t.XLC,I=t.YLC,N=[a,I,a,I,a,I],J="XPC YPC XLC YLC XSC YSC".split(" ");
for(var Q=0;Q<6;Q++){var A=J[Q],f=t[A];if(f!=null)N[Q]=f}V.d.push({type:B+2,u:new he(a,I),e6:new he(N[0],N[1]),BN:new he(N[4],N[5])})}}g.n.Am(V.d,m)}function R(O,w){var m=JSON.parse(cq.default);
for(var v=0;v<cq.order.length;v++)m[cq.lZ[v]]={t:"VlLs",v:[]};if(O==null||O.EPS==null)return m;var V=O.EPS;
if(!(V instanceof Array))V=[V];for(var v=0;v<V.length;v++){var q=V[v].DCE,i={};for(var c=0;c<q.length;
c++)i[q[c].DCK]=q[c].DCV;if(i.EffectIsVisible=="false")continue;var z=i.mkbFile_WriteOnly_TemporaryEffectUiName;
if(z=="Gaussian Blur..."&&w){w.L4+=parseFloat(i.gaussian_blur_radius);continue}var B=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(z);
if(B==-1){continue}var t=["DrSh","ebbl","IrGl","OrGl"][B],a=cq.lZ[cq.order.indexOf(t)],I=JSON.parse(cq.Rq[cq.order.indexOf(t)]);
m[a].v.unshift({t:"Objc",v:I});if(t=="DrSh"){I.uglg.v=!1;s(i,"ShadowDistance",I,"Dstn");s(i,"ShadowBlur",I,"blur");
s(i,"ShadowAngle",I,"lagl",180);I.Opct.v.val=100;Z(i,"ShadowColor",I,"Clr")}if(t=="IrGl"){I.Md.v.BlnM="Nrml";
var N=i.MaskSoftness,J=i.GlowWidth;if(N&&J){N=parseInt(N);J=parseInt(J);I.blur.v.val=J+N;I.Ckmt.v.val=Math.round(100*J/(J+N))}s(i,"BevelContrast",I,"Opct");
Z(i,"OuterBevelColor",I,"Clr")}if(t=="OrGl"){I.Md.v.BlnM="Nrml";var N=i.MaskSoftness,J=i.GlowWidth;if(N&&J){N=parseInt(N);
J=parseInt(J);I.blur.v.val=J+N}s(i,"BevelContrast",I,"Opct");Z(i,"OuterBevelColor",I,"Clr")}if(t=="ebbl"){I.uglg.v=!1;
s(i,"BevelWidth",I,"blur");s(i,"AngleSoftness",I,"Sftn");s(i,"BevelContrast",I,"srgR");s(i,"LightAngle",I,"lagl")}}return m}function s(O,w,m,V,q){var i=O[w];
if(q==null)q=0;if(i)m[V].v.val=parseInt(i)+q}function Z(O,w,m,V){var q=O[w];if(q){q=q.slice(1);if(q.length==6)q=q+"ff";
if(q.length!=8)throw"e";var i=H(parseInt(q,16)),c=m[V].v;c.Rd.v=i[0]*255;c.Grn.v=i[1]*255;c.Bl.v=i[2]*255;
m.Opct.v.val=Math.round(m.Opct.v.val/100*i[3]*100)}}return S}();var cd=function(){function l(S){var h=new Uint8Array(S.length);
x.RN(h,0,S);return h}function o(S){var h=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",l("")],F=h.length,R=0;
h.push("<< /AIMetaData  "+(F+2)+" 0 R /AIPrivateData1 "+(F+3)+" 0 R  /AIPrivateData2 "+(F+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
h.push(l(""));h.push(l(""));h.push(S);var n=new dk,s=[];function Z(V){x.hZ(n,R,V);R+=V.length}Z("%PDF-1.5\n");
for(var v=0;v<h.length;v++){s.push(R);Z(v+1+" 0 obj\n");var O=h[v];if(typeof O=="string")Z(h[v]+"\n");
else{var w=pako.deflate(O);Z("<< /Length "+w.length+" /Filter [ /FlateDecode ] >>\nstream\n");n.tP(R,w.length);
n.data.set(w,R);R+=w.length;Z("\nendstream\n")}Z("endobj\n")}var m=R;Z("xref\n0 "+(s.length+1)+"\n0000000000 65535 f\r\n");
for(var v=0;v<s.length;v++)Z((s[v]+"").padStart(10,"0")+" 00000 n\r\n");Z("trailer\n<< /Root 1 0 R /Size "+(s.length+1)+" >>\nstartxref\n"+m+"\n%%EOF\n");
return n.data.slice(0,R)}function D(S,h){var F=Date.now(),n=new Uint8Array(S),R,s=n[2]==68;if(h)console.log(!s?"EPS":"PDF");
if(s){var Z=x.ZY(n,"/AIMetaData "),t,a,I;while(n[Z]!=60)Z--;Z--;var O=x.ZY(n,">>",Z),w=x.Gk(n,Z+2,O-Z-2).split("/"),m=[];
for(var v=0;v<w.length;v++){var V=w[v],q=V.startsWith("AIPrivateData"),i=V.startsWith("AIPDFPrivateData");
if(!q&&!i)continue;var c=V.trim().split(/\s+/),z=parseInt(c[1]),B=parseInt(c[0].slice(q?13:16));m.push([B,z])}if(h)console.log("--- map made",Date.now()-F);
F=Date.now();while(!0){var N=FromPDF.indexOfXref(n),J=[],Q=FromPDF.readXrefTrail(n,N,J),A={buff:n,off:0},f=!1;
t=new Array(m.length);a=!1;I=!1;for(var v=0;v<m.length;v++){var B=m[v][0],z=m[v][1],K=0;if(J[z]==null){f=!0;
break}var W=FromPDF.getIndirect(z,0,A,J),C=W.buff,j=W["/Filter"];if(j!=null&&typeof j=="string")j=[j];
var $=x.Gk(C,K,K+20);if($=="%AI12_CompressedData"){K+=20;a=!0}else if($=="%AI24_ZStandard_Data"){K+=20;
I=!0}C=new Uint8Array(C.buffer,C.byteOffset+K,C.length-K);if(j)for(var r=0;r<j.length;r++){var U=j[r];
if(U=="/FlateDecode")C=pako.inflate(C);else if(U=="/ASCIIHexDecode")C=FromPS.F.HexDecode({buff:C,off:0});
else if(U=="/ASCII85Decode")C=FromPS.F.ASCII85Decode({buff:C,off:0});else throw U}t[B-1]=C}if(f){console.log("extra xref after AI");
n=n.slice(0,N);continue}break}if(h)console.log("--- arrays found",Date.now()-F);F=Date.now();var b=x.Gk(t[0],0,13);
if(b=="%%BoundingBox"||b=="%AI7_Thumbnai")t=t.slice(1);if(b=="%AI24_ZStanda"){t[0]=t[0].slice(20);I=!0}if(x.Gk(t[0],0,13)=="%AI12_Compres"){t[0]=t[0].slice(20);
a=!0}R=H(t);if(h)console.log("--- concatenated",Date.now()-F);F=Date.now();if(a)R=UZIP.inflate(R);if(I)R=fj.ar.hW(R);
if(h)console.log("--- inflated",Date.now()-F);F=Date.now()}else{var e=x.Fs(n);if(e.indexOf("%AI5_BeginLayer")!=-1){R=n}else{var P=e.split(/[\n\r]+/),L=[],Y=!1;
for(var X=0;X<P.length;X++){var G=P[X].trim();if(G=="%AI9_PrivateDataEnd"){Y=!1;break}else if(G=="%AI9_DataStream"||G=="%AI24_DataStream"){Y=!0}else if(Y)L.push(G.slice(1))}var E=x.fe(L.join("")),T=FromPS.F.ASCII85Decode({buff:E,off:0});
if(T[0]==120&&T[1]==156)R=UZIP.inflate(T);else R=fj.ar.hW(T)}}return R}function H(S){var h=0,n=0;for(var v=0;
v<S.length;v++)h+=S[v].length;var F=new Uint8Array(h);for(var v=0;v<S.length;v++){var R=S[v];F.set(R,n);
n+=R.length}return F}function _(S){var h=0,F=[];while(h<S.length){var n=S[h],R=n.charCodeAt(0);if(n==" ")h++;
else if(n==","||n==";"||n==":"){F.push(n);h++;var s=F[F.length-2];if(s=="/ASCII85Decode"){var Z=h+1;
while(S[Z]!="~"||S[Z+1]!=">")Z++;Z+=2;var O=S.slice(h,Z),w=FromPS.F.ASCII85Decode({off:0,buff:x.fe(O)});
F.push(w);h=Z}if(s=="/StrokeStyle"||s=="/FillStyle"||s=="/BlendStyle"||s=="/SimpleStyle"){var Z=h+1;
while(S[Z]!=";")Z++;F.pop();F.pop();F.push(S.slice(h,Z));F.push("/String");h=Z+1}}else if(n=="("){var Z=h+1;
while(!(S[Z]==")"&&(S[Z-1]!="\\"||S[Z-2]=="\\")))Z++;var m=S.slice(h+1,Z);F.push(m);h=Z+1}else if(n=="/"||n=="-"||48<=R&&R<=57){var Z=h;
while(S[Z]!=" ")Z++;F.push(S.slice(h,Z));h=Z}else if(n=="X"&&S[h+1]=="="){var Z=h,V=0;while(!0){if(S[Z]=="X"&&S[Z+1]=="="){V++}if(S[Z]=="X"&&S[Z+1]=="+"){V--;
if(V==0)break}Z++}F.push(S.slice(h+3,Z));F.push("/String");h=Z+2}else{console.log(F);console.log(S.slice(h-600,h+10));
throw n}}return F}function u(S){var h={"/Filter":3,"/Visible":1,"/FillOrStroke":1,"/PluginFileName":1,"/Title":1},F={},n=_(S.join(" ")),R=[],s=parseFloat;
while(n.length!=0){var Z=n.shift();if(Z=="/Recorded"||Z=="/NotRecorded"){continue}else if(Z=="/Dict"){R.pop();
var O=R.pop();R[R.length-1][Z]=O}else if(Z=="/Execution"){R.pop();var O=R.pop();R[R.length-1][Z]=O}else if(Z=="/Part"){R.pop();
var O=R.pop(),w=R[R.length-1];if(w[Z]==null)w[Z]=[];w[Z].push(O);n.shift()}else if(Z=="/Def"){R.pop();
var m=R.pop(),V=R[0];if(F[V]==null)F[V]=[];if(V=="/KnownStyle"){m={val:m};m[R.pop()]=R.pop()}R.pop();
F[V].push(m);n.shift()}else if(Z==":"){var V=R.pop();if(V=="/Dictionary"||V=="/ArtDictionary"||V=="/XMLNode"||V=="/Mask"||V=="/ActiveStyle")R.push({});
else if(V=="/CompoundFilter"||V=="/BasicFilter"){R.push({typ:"Filter"})}else if(V=="/SVGFilter"||V=="/KnownStyle"){R.push(V)}else if(V=="/Array"||V=="/Document")R.push([]);
else if(V=="/Binary"){var q=n.shift();if(q!="/ASCII85Decode")throw"e";n.shift();R.push(n.shift())}else if(V=="/XMLUID"){n[1]=V}else if(V=="/GObjRef"){R.push(n.shift());
R.push("/String");n.shift();n.shift()}else{console.log(R);console.log(n);throw V}if(n[0]=="/NotRecorded"){n.shift();
n.shift()}}else if(Z==","){var i=R.pop(),V,c;if(i[0]=="/"&&i[1]==i[1].toUpperCase()||i==";"){V=i;i=null}else V=R.pop();
if(V=="/Name"){R.push(V);continue}if(h[V]){c=R.slice(R.length-h[V]);for(var v=0;v<h[V];v++)R.pop();var z=R.pop();
z[V]=c;R.push(z);continue}if(V=="/RealPoint"||V=="/RealPointRelToROrigin"){var B=R.pop();c=[s(R.pop()),s(B)]}else if(V=="/RealMatrix"){c=[];
for(var v=0;v<6;v++)c.push(s(R.pop()));c.reverse()}else if(V=="/String"&&typeof R[R.length-1]!="string")c="";
else{var top=R.pop();if(V==";")c=top;else if(V=="/String"||V=="/UnicodeString"||V=="/XMLUID"){c=top;
while(typeof R[R.length-1]=="string")c=R.pop()+c}else if(V=="/Int"||V=="/Real")c=s(top);else if(V=="/Bool")c=top=="1";
else throw JSON.stringify(V)}if(R.length==0)throw"e";var z=R.pop();if(i==null&&!(z instanceof Array))throw"e";
if(i)z[i]=c;else z.push(c);R.push(z)}else R.push(Z)}return R.length==0?F:R[0]}return{afd:D,a7v:o,aaS:u}}();
function kO(){}kO.x2=function(){function l(Q,A,f){var W=!1,C=Date.now(),j=cd.afd(Q,W);if(W)console.log("part found",Date.now()-C);
C=Date.now();var K=I(j),$=K.Layer,r=K.Header;if(W)console.log(K);var U=K.Setup.TextDocument,b=$[0];b=K.Layer[0];
if(W)console.log("document parsed",Date.now()-C);C=Date.now();K.Setup.Gradient=a(K.Setup.Gradient,j);
if(W)console.log("grads loaded",Date.now()-C);C=Date.now();K.Setup.Pattern=B(K.Setup.Pattern,j);if(W)console.log("patts loaded",Date.now()-C);
C=Date.now();K.Setup.Palette=t(K.Setup.Palette,j);if(W)console.log("palet loaded",Date.now()-C);C=Date.now();
K.Setup.DocumentData=z(K.Setup.DocumentData,j);if(W)console.log("docdata loaded",Date.now()-C);C=Date.now();
K.Setup.SVGFilter=z(K.Setup.SVGFilter,j);if(W)console.log("svgfilter loaded",Date.now()-C);C=Date.now();
var e=K.Setup.ArtStyles;if(e){K.Setup.ArtStyles=z(e,j)}var P=K.Setup.Palette;for(var v=0;v<P.length;
v++){var L=P[v],Y=L[0],X=L[1][0],G=K.Setup.Gradient[Y];if(X==0)A.Wo.push([Y,L[1][1]]);if(X==1)A.Wo.push([Y,[G.no,G.aDH,0,0]]);
if(X==2)A.Wo.push([Y,[Y,0]])}var E=r.Cropmarks,T=r.BoundingBox.split(" ").map(parseFloat),y=r.ArtSize?r.ArtSize.split(" ").map(parseFloat):[T[2]-T[0],T[3]-T[1]];
A.Q=Math.round(y[0]);A._=Math.round(y[1]);var d4=[1,0,0,1,-T[0]+(A.Q-(T[2]-T[0]))/2,-T[1]+(A._-(T[3]-T[1]))/2];
d4[3]=-1;d4[5]=A._-d4[5];if(E){E=E.split(" ").map(parseFloat);A.Q=Math.round(E[2]-E[0]);A._=Math.round(E[3]-E[1]);
d4=[1,0,0,-1,-E[0],A._+E[1]]}console.log(K);var dH=K.Setup.DocumentData,eV=[],bf=[];if(dH&&dH[0]&&dH[0].ArtboardArray){var eV=dH[0].ArtboardArray;
if(eV.length!=1)console.log(eV.length,"artboards");var jd=new gt;for(var v=0;v<eV.length;v++){var i5=eV[v],fD=i5.PositionPoint1,eo=i5.PositionPoint2,iX=fD[0],cK=Math.min(fD[1],eo[1]),g0=eo[0],bW=Math.max(fD[1],eo[1]),hF=new gt(iX,cK,g0-iX,bW-cK);
bf.push(hF);jd=jd.tB(hF)}A.Q=Math.round(jd.Q);A._=Math.round(jd._);d4[4]=-jd.x;d4[5]=jd.y+A._}if(dH&&dH[0]&&dH[0]["#document"]){var aJ=dH[0]["#document"],iR=aJ["xmlnode-children"][0];
if(iR&&iR["xmlnode-children"])iR=iR["xmlnode-children"][0];if(iR&&iR["xmlnode-nodename"]=="variableSets"){var ex=iR["xmlnode-children"][0]["xmlnode-children"],dX=ex[0],iZ=ex[1],j3=J(dX);
A.Qk=dx.anH("<variableSets><variableSet>"+j3+"</variableSet></variableSets>");if(iZ){var by=J(iZ),i9=A.pt=dx.a0J(by);
for(var v=0;v<i9.length;v++)for(var dm=0;dm<i9[v].length;dm++)i9[v][dm]=i9[v][dm].trim()}}}var kh=1/ae.hu(new gt(0,0,A.Q,A._),8192*8192);
while(Math.max(A.Q*kh,A._*kh)<800)kh*=2;while(f&&Math.max(A.Q*kh,A._*kh)<Math.max(f[0],f[1]))kh++;A.Q=Math.round(A.Q*kh);
A._=Math.round(A._*kh);A.on=Math.round(72*kh);for(var v=0;v<6;v++)d4[v]*=kh;var jK=[];if(eV.length!=[1,0][a8]){var bd=a8==0?A.R:[];
bd.push(A.k0());for(var v=0;v<bf.length;v++){var i5=eV[v],hF=bf[v],dz=A.O7();dz.FH(i5.Name);bd.push(dz);
dz.add.SoCo=JSON.parse(cq.Rq[cq.order.indexOf("SoFi")]);var dw=dz.add.SoCo.Clr.v;s(dw,[1,1,1]);var iX=hF.x,cK=hF.y,g0=iX+hF.Q,bW=cK+hF._,ev=[iX,cK,g0,cK,g0,bW,iX,bW];
g.X.h(ev,O(d4),ev);V(dz,{cmds:["M","L","L","L","Z"],crds:ev},A,0);dz.add.vstk=cq.K$.ts(!0);var f=g.X.dm(ev);
jK.push({Nt:i5.Name,EZ:[f.x,f.y,f.x+f.Q,f.y+f._],T:i5.IsArtboardSelected})}var dz=A.O7();dz.FH("_Artboards_");
dz.add.lsct=jl.qb;dz.TY="pass";dz.XL=24;bd.push(dz)}else jK=[{Nt:"Artboard",EZ:new gt(0,0,A.Q,A._)}];
if(a8==1)A.add.arts=jK;D=[0,0,0];H=[0,0,0];_="SoCo";u="SoCo";for(var aq=0;aq<$.length;aq++){var e3=$[aq];
e3.Raster=o(e3,"Raster");e3.Place=o(e3,"Place");var a9=i(j,e3);S(A,a9,d4,K,e3,j)}if(a8==0)for(var v=0;
v<A.R.length;v++){var dz=A.R[v];if(dz.aU){A.R.splice(v,1);var e0=A.R[v];e0.add.vmsk=dz.add.vmsk;e0.add.vogk=dz.add.vogk;
e0.C$(A)}}else{}if(W)console.log("layers created",Date.now()-C);C=Date.now()}function o(Q,A){var f=Q.Layer,W=Q[A];
if(W==null)W=[];if(f){for(var v=0;v<f.length;v++){var C=f[v],j=C[A]=o(C,A);W=W.concat(j)}W.sort(function(K,$){return K._begin-$._begin})}return W}var D,H,_,u;
function S(Q,A,f,W,C,j){var K=[],$=0,r="",U=!1,b={},e=UDOC.G,P=UDOC.getState(),Y="norm",X=1,G=0,E=!1,T=0,y=!1,d4=!0,dH=null,eV=null,bf=!1,jd=0,i5=null,fD,eo,iX=0,cK=0,g0=0,iR=0,ex=!1;
P.ctm=f;var L=cq.o4.ts(),bW=[0,0],hF=[],aJ=[];for(var dX=0;dX<A.length;dX++){var iZ=A[dX],jK=1e9;if(iZ[0]=="%"){if(iZ=="%_/ArtDictionary :"&&jd==0){dH=[iZ.slice(2)]}else if(dH!=null){if(iZ=="%_"&&jd==0){var j3=cd.aaS(dH),by=Q.R[Q.R.length-1],i9=j3.AI10_ArtUID,dm=j3.BBAccumRotation;
if(i9&&!i9.startsWith("XMLID"))by.FH(N(i9));if(dm&&by.add.vmsk==null&&Q.R[Q.R.length-2])by=Q.R[Q.R.length-2];
if(dm&&by.add.vmsk)by.add.vmsk._8=parseFloat(dm);dH=null}else{dH.push(iZ.slice(bf?1:2));if(iZ=="%_X=")jd++;
if(iZ=="%_X+")jd--;if(iZ=="%_/Binary : /ASCII85Decode ,")bf=!0;if(bf&&iZ.endsWith("~>"))bf=!1}}else if(i5){fD+=(fD==""?"":" ")+iZ.slice(2);
if(fD.endsWith("X#")){i5.push(fD.slice(0,fD.length-3));fD=""}}continue}else if(iZ=="/Mesh X!"){i5=[];
fD="";continue}else if(iZ=="/End X!"){n(i5,P,Q);i5=null;continue}var kh="Xa XR m l c f U u *U w J j M d".split(" "),bd=-1,dz=iZ.indexOf("(")!=-1;
for(var v=0;v<kh.length;v++){var dw=iZ.indexOf(" "+kh[v]+" ");if(dw!=-1&&dw<jK&&!dz){jK=dw;bd=v}}if(bd!=-1){U=!0;
var ev=jK+1+kh[bd].length;A[dX]=iZ.slice(0,ev);var aq=A[dX+1];if(aq==null||aq[0]=="%"||bd>9)A.splice(dX+1,0,iZ.slice(ev));
else A[dX+1]=(iZ.slice(ev)+" "+aq).replace(/\s\s+/g," ");dX--;continue}iZ=iZ.trim();var e3=iZ.split(" "),a9=e3[e3.length-1],e0=a9.toLowerCase(),as=e3.map(parseFloat);
if(a9=="m")e.moveTo(P,as[0],as[1]);else if(a9=="L"||a9=="l")e.lineTo(P,as[0],as[1]);else if(a9=="V"||a9=="v"){var eK=P.pth.crds,gh=P.cpos[0],gx=P.cpos[1];
e.curveTo(P,gh,gx,as[0],as[1],as[2],as[3]);var gc=eK.length;eK[gc-6]=gh;eK[gc-5]=gx}else if(a9=="Y"||a9=="y")e.curveTo(P,as[0],as[1],as[2],as[3],as[2],as[3]);
else if(a9=="C"||a9=="c")e.curveTo(P,as[0],as[1],as[2],as[3],as[4],as[5]);else if(a9=="H"||a9=="h"){if(a9==e0)e.closePath(P);
if(!E){var kQ=Q.O7();Q.R.push(kQ);kQ.FH("<Clipping Path>");kQ.aU=!0;kQ.add.vstk=cq.K$.ts();kQ.add.SoCo=JSON.parse(cq.Rq[cq.order.indexOf("SoFi")]);
V(kQ,P.pth,Q,G)}else y=!0}else if(a9=="XR"){G=as[0]}else if(a9=="Xy"){Y=kO.adj[as[0]];X=as[1];if(Y==null){Y="norm";
console.log("unknown blend mode",as[0])}}else if(a9=="Xd"){var by=Q.R[Q.R.length-1];by.opacity=Math.round(255*X);
by.TY=by.Cl()&&Y=="norm"?"pass":Y}else if(a9=="AE")iX=as[0];else if(a9=="Ae")cK=as[0];else if(a9=="Xw")g0=as[0];
else if(a9=="*"){var dn=P.pth.crds,bQ=P.ctm,dw=dn[0]==dn[2]?0:1;Q.oJ.push([dw,dn[dw]]);e.newPath(P)}else if(a9=="XN")eo=iZ.split(" ")[0];
else if(a9=="XI"){var iK=C.Raster,cJ,i1;if(iK==null||iK.length==0){console.log("no Raster");continue}if(iZ!="XI"){continue}else{var bu=iK[$++];
if(bu.Data)bu=bu.Data;var gi=bu._begin,iv=bu._end;while(j[gi]!=88)gi++;gi+=3;cJ=j.slice(gi,iv);i1=A[dX-2].split(" ").map(parseFloat)}var d0=i1.slice(8),af=d0[2],eY=d0[3],hV=af*eY,i$=g.o(hV*4);
i$.fill(255);var cz=d0[7],fk=d0[8],ee=d0[6],aC=Math.ceil(af*cz*ee/8);if(cz==1){if(ee==8)for(var v=0;
v<hV;v++)for(var cI=0;cI<3;cI++)i$[4*v+cI]=cJ[v];else if(ee==1)for(var cZ=0;cZ<eY;cZ++)for(var ad=0;
ad<af;ad++)for(var cI=0;cI<3;cI++)i$[4*(cZ*af+ad)+cI]=255*(cJ[cZ*aC+(ad>>>3)]>>>7-(ad&7)&1);else throw ee}else if(cz==3)for(var v=0;
v<hV;v++)for(var cI=0;cI<3;cI++)i$[4*v+cI]=cJ[3*v+cI];else if(cz==4||cz==5)for(var v=0;v<hV;v++){var j0=w([cJ[cz*v+0]/255,cJ[cz*v+1]/255,cJ[cz*v+2]/255,cJ[cz*v+3]/255]);
i$[4*v+0]=j0[0]*255;i$[4*v+1]=j0[1]*255;i$[4*v+2]=j0[2]*255}else if(cz==7)for(var v=0;v<hV;v++){i$[4*v+0]=cJ[cz*v+0];
i$[4*v+1]=cJ[cz*v+1];i$[4*v+2]=cJ[cz*v+2]}else console.log("unknown number of channels",cz);if(fk==1){var cX=eY*aC;
for(var v=0;v<hV;v++)i$[4*v+3]=cJ[cX+v]}var bY=g.q$(i$,af,eY)?"JPG":"PNG";if(af*eY<700*700)bY="PNG";
var io=fj.rU(bY).MJ([[i$.buffer]],af,eY),et=Q.M9(new Uint8Array(io),"<Image>",0,0);Q.R.push(et);et.TY=Y;
et.opacity=Math.round(255*X);et.rm(g0==0);var dR=new de;dR.scale(1,-1);dR.concat(O(i1.slice(1)));dR.concat(O(P.ctm));
var dZ=et.add.SoLd,jh=dZ.Sz.v,jo=new gt(0,0,jh.Wdth.v,jh.Hght.v),e3=g.X.YZ(jo).s;g.X.h(e3,dR,e3);et.add.SoLd.Trnf=p.cA.y3(e3);
et.add.SoLd.nonAffineTransform=p.cA.y3(e3);et.mP(Q,!1)}else if(a9=="Ln"){K.push(R(iZ))}else if(a9=="u"||a9=="q"||a9=="Lb"){hF.push(cK==1);
aJ.push((a9=="Lb"?1-as[0]:g0)==0);if(E)continue;Q.R.push(Q.k0())}else if(a9=="U"||a9=="Q"||a9=="LB"){if(hF.length==0||aJ.length==0)throw dX;
var co=hF.pop(),h3=aJ.pop();if(a9=="LB")co=iX==1;if(E)continue;var et=Q.O7();et.FH((a9=="U"?"<Group>":"<Clip Group>")+r);
if(a9=="LB")et.FH(K.pop());et.add.lsct=co?jl.VV:jl.qb;et.TY="pass";et.XL=24;et.rm(h3);Q.R.push(et);if(ex){if(Q.R[Q.R.length-3].getName()=="</Layer group>"){Q.R.pop();
Q.R.splice(Q.R.length-2,1)}ex=!1}}else if(a9=="Bb")d4=as[0]!=1;else if(a9=="BB"){}else if(a9=="Bm"||a9=="Bc"||a9=="Xm"){}else if(a9=="Bh")bW=as.slice(2,4);
else if(a9=="Bg"){var b1=W.Setup.Gradient,ij=b1[R(iZ)],e3=iZ.slice(iZ.indexOf(")")+2).split(" ").map(parseFloat);
if(ij==null){console.log("gradient not found");for(var h0 in b1){ij=b1[h0];break}}var gn=e3[10];if(isNaN(gn))gn=1;
var fS=e3.slice(0,4);fS.push(gn,bW[0],bW[1]);if(Math.max(Math.abs(fS[0]),Math.abs(fS[1]))>20){fS[0]=0;
fS[1]=0;fS[3]=1;console.log("strange gradient")}var ka=[ij.no,ij.aDH,fS,e3.slice(4,10)];F(ka,"GdFl",d4)}else if(e0=="p"){var g5=R(iZ);
if(Q.PJ[g5]==null){var cs=W.Setup.Pattern[g5],cE=cs.EZ,af=Math.round(cE[2]-cE[0]),eY=Math.round(cE[3]-cE[1]),j3=new f9,dy=f[0],dR=new de(1,0,0,-1,-cs.EZ[0],eY+cs.EZ[1]);
dR.concat(new de(dy,0,0,dy,0,0));var fa=[D,H,_,u];D=[0,0,0];H=[0,0,0];_="SoCo";u="SoCo";S(j3,cs.dg,[dR.M,dR.J,dR.oe,dR.me,dR.ip,dR.nl],W,C,j);
j3.Q=Math.round(af*dy);j3._=Math.round(eY*dy);j3.Vr();j3.V();if(a8==0){j3.buffer=g.o(j3.Q*j3._*4);j3.dh()}D=fa[0];
H=fa[1];_=fa[2];u=fa[3];window.avL=cs.dg;Q.PJ[g5]=j3}var h7=iZ.slice(iZ.indexOf(")")+2),f_=h7.slice(0,h7.indexOf("[")-1).split(" ").map(parseFloat),fT=h7.slice(h7.indexOf("[")+1,h7.indexOf("]")).split(" ").map(parseFloat);
F([g5,[f_,fT]],"patt",a9=="p")}else if(a9=="J"||a9=="j"||a9=="w"||a9=="M"||a9=="d"){var dR=P.ctm,dy=Math.sqrt(Math.abs(dR[0]*dR[3]-dR[1]*dR[2]));
for(var v=1;v<e3.length;v++){var aI=e3[v],ar=as[v-1];if(aI=="w")L.W5=ar*dy;if(aI=="j")L.h_=ar;if(aI=="J")L.iw=ar;
if(aI=="M")L.wk=ar;if(aI=="d"){var ao=iZ.slice(iZ.indexOf("[")+1,iZ.indexOf("]")).trim();if(ao.length!=0){var fn=ao.split(" ").map(parseFloat);
L.dE=fn;for(var cI=0;cI<fn.length;cI++)fn[cI]*=dy}else if(ao=="")L.dE=[]}}}else if(e0=="xa"||e0=="xx"){var k8=m(iZ);
F(k8,"SoCo",a9=="Xa"||a9=="Xx")}else if(e0=="xk"){k8=m(iZ);F(k8,"SoCo",a9=="Xk")}else if(e0=="k"||e0=="x"){k8=m(iZ);
F(k8,"SoCo",a9==e0)}else if(e0=="g"){var k8=[as[0],as[0],as[0]];F(k8,"SoCo",a9==e0)}else if(e0=="n"){if(!E)e.newPath(P)}else if(a9=="*u"){E=!0;
T=0;aJ.push(g0==0)}else if(a9=="*U"||e0=="s"||e0=="f"||e0=="b"){if(a9!="*U"&&E){if(e0=="f"||e0=="b")T|=1;
if(e0=="s"||e0=="b")T|=2;continue}if(a9==e0)e.closePath(P);if(a9=="*U"){E=!1}var et;{et=Q.O7();et.XL|=16;
V(et,P.pth,Q,G);var aF=e0=="f"||e0=="b"||a9=="*U"&&T&1,f$=e0=="s"||e0=="b"||a9=="*U"&&T&2,fW=et.add.vstk=cq.K$.ts(aF,f$),iC=JSON.parse(JSON.stringify(L));
iC.h6=[];iC.IS=[];if(aF)iC.h6=D;if(f$)iC.IS=H;if(a8==0){cq.K$.write(fW,iC);if(_=="SoCo"){et.add.SoCo=JSON.parse(cq.Rq[cq.order.indexOf("SoFi")]);
var f4=et.add.SoCo.Clr.v;s(f4,D)}if(_=="GdFl"){et.add.GdFl=kO.W_(D,et.add.vmsk.d)}if(_=="patt"){et.add.PtFl=h(D,Q)}if(f$){var cR=["SoCo","GdFl","patt"].indexOf(u),d5=cR==0?{Clr:{t:"Objc",v:ic.Px(H)}}:cR==1?kO.W_(H,et.add.vmsk.d):h(H,Q),gw=[cq.mh,cq.Mp,cq.Zm][cR],az=fW.strokeStyleContent.v={classID:cq.K$.Gl[cR]};
for(var v=0;v<gw.length;v++)az[gw[v]]=d5[gw[v]]}}else et.add.vstl=iC}if(a9=="*U"&&y){et.aU=!0;y=!1}et.FH("<"+(a9=="*U"?"Compound ":"")+"Path>"+r);
et.TY=Y;et.opacity=Math.round(255*X);et.rm(a9=="*U"?aJ.pop():g0==0);et.C$(Q);Q.R.push(et);e.newPath(P)}else if(a9==","&&e3[0]=="/XMLUID"){var by=Q.R[Q.R.length-1];
for(var v=0;v<Q.Qk.length;v++)if("("+Q.Qk[v].docRef+")"==e3[2])Q.Qk[v].docRef="id('"+by.add.lyid+"')"}else if(a9==","&&e3[1]=="/FreeUndo"){iR=as[0]}else if(a9==","&&e3[1]=="/StoryIndex"){var jI=W.Setup.TextDocument,bK=null;
if(!(jI instanceof Array))window.aDA=jI=W.Setup.TextDocument=c(jI,j);var dI=jI[0],dP=jI[2];if(dI._DocumentResources)dI=jI[0]=aB.aB4(dI);
else aB.a1_(dI);var et=Q.O7();et.add.lnsr="rend";et.add.TySh=fX.D2(0,0);var fF=as[0];if(iR==1){for(var v=1;
v<60;v++){var aq=A[dX+v];if(aq&&aq.endsWith("/StoryIndex ,")){fF=parseFloat(aq.slice(2,aq.indexOf(" ")));
ex=!0;break}}iR=0}var eG=cj.age(dI),gE=et.add.TySh.PF=eG[fF];if(gE==null){console.log("text not found");
ex=!1;continue}et.FH(fX.PZ(gE).slice(0,50));et.TY=Y;et.opacity=Math.round(255*X);et.rm(g0==0);var fB=dI._1._1[fF]._1._0[0]._0;
fB=parseInt(fB.slice(1));var gz=dI._0._8._0,ak=gz[fB]._0;if(ak._0)bK=Z(ak._0);else if(ak._1)bK=Z(ak._1._0);
else bK=Z(ak._2._2).slice(3);if(bK.length!=2){var cE=g.X.dm(bK);bK=[cE.x,cE.y];if(cE.c()!=0){fX.aM(gE,1);
fX.nP(gE,[0,0,Math.round(cE.Q),Math.round(cE._)])}}var bo=new de,f0=new de(1,0,0,1,bK[0],bK[1]),kF=new de(1,0,0,1,-dP[0],-dP[1]),fx=O(P.ctm),hZ=new de;
if(ak._2&&ak._2._2){var f=Z(ak._2._2);hZ=new de(f[0],f[1],f[2],f[3],f[4],f[5])}bo.concat(f0);bo.concat(hZ);
bo.concat(kF);bo.scale(1,-1);bo.concat(fx);et.add.TySh.h=bo;Q.R.push(et);Q.hU=!0}else if(a9=="Tp"){b.YF=O(as)}else if(a9=="Tf"){b.font=e3[0].slice(2)}else if(a9=="Tk"){var et=Q.O7();
et.add.lnsr="rend";var h9=et.add.TySh=fX.D2(0,0),gE=h9.PF,dR=b.YF.clone(),jh=dR.jX();dR.concat(O(P.ctm));
var dj=new de(1/jh,0,0,-1/jh,0,0);dj.concat(dR);h9.h=dj;var hr=R(iZ);et.FH(hr);fX.yQ(gE,0,hr);var fr=fX.eF(gE,0,hr.length);
fr.i7.FontSize=jh;fr.i7.FillColor={Type:1,Values:[1,D[0],D[1],D[2]]};fX.LQ(fr,b.font);fX.fn(gE,0,hr.length,fr);
Q.R.push(et);Q.hU=!0}else if(U&&as.length>3){var i8=!1;for(var v=0;v<as.length;v++)if(isNaN(as[v]))i8=!0;
if(!i8)A[dX+1]=(iZ+" "+A[dX+1]).replace(/\s\s+/g," ")}}}function h(D,Q){if(Q.wI==null)Q.wI={};var A=Q.wI[D[0]];
if(A==null){var f=Q.PJ[D[0]],A=Q.wI[D[0]]={};A.id=f9.T5()+"-d71c-11e5-b1ae-a548a96e5f9f";A.name="someImage";
A.dT=[f.zG(),new gt(0,0,f.Q,f._)];Q.YE(A)}var W=JSON.parse(cq.Rq[cq.order.indexOf("patternFill")]);W.Ptrn.v.Idnt.v=A.id;
var C=O(D[1][1]),j=-Math.atan2(-C.J,C.M);W.Angl.v.val=Math.round(j*180/Math.PI);W.Scl.v.val=Math.round(100*C.jX());
return W}kO.W_=function(Q,A){var f=kO.bT(Q,A),W=[0,0,1,0];if(Q[0]==0)W[0]=.5;g.X.h(W,f,W);var C=JSON.parse(cq.Rq[cq.order.indexOf("GrFl")]),j=C.Grad.v;
j.Intr.v=0;C.Type.v.GrdT=["Lnr","Rdl"][Q[0]];g.G.Ky(Q[1],j);g.G.iW(new he(W[0],W[1]),new he(W[2],W[3]),g.n.kU(A),C);
return C};kO.rf=function(Q,A){var f={Lnr:0,Rflc:0,Rdl:1,Angl:1,Dmnd:1}[Q.Type.v.GrdT],W=g.n.kU(A),C=g.G.apH(Q,W),j=C[0],K=C[1];
if(f==0){j.x-=K.x-j.x;j.y-=K.y-j.y}var $=K.x-j.x,r=K.y-j.y,U=Math.sqrt($*$+r*r),b=new de;b.rotate(Math.atan2(-r,$));
b.scale(U,U);b.translate(j.x,j.y);var e=kO.eN(f,b,A),P=Q.Grad.v;e[1]=g.G.ant(P,null,null);return e};
kO.Yv=function(Q,A,f){var W=he.At(Q,A),C=new de;C.scale(W,W);C.rotate(-Math.atan2(A.y-Q.y,A.x-Q.x));
C.translate(Q.x,Q.y);if(f)C.concat(f);return C};kO.N1=function(Q,A,f,W,C){if(A&&!W.kn(A)){var j=Math.atan2(-(f.y-A.y),f.x-A.x);
if(C!=null||j!=0){var K=new de;K.translate(-A.x,-A.y);K.scale(1,C);K.rotate(j);K.translate(A.x,A.y);
K.L5();W=K.wq(W)}var $=Math.atan2(-(W.y-A.y),W.x-A.x);Q[2][5]=$*180/Math.PI;Q[2][6]=he.At(W,A)/he.At(f,A)}};
kO.eN=function(Q,A,f){var W=A.clone(),r,U,b=1;W.L5();var C=d.dO.Wu(f);g.n.Am(C,W);var j=g.n.kU(C),K=j.Q,$=j._;
if(Q==0){var e=new de;e.translate(-j.x,-j.y);e.translate(-K/2,-$/2);var P=kO.a4w(K,$,0);e.scale(1/P,1/P);
e.scale(1/K,1/$);r=e.ip+.5;U=e.nl+.5;b=e.M}else{r=-j.x/K-.5;U=-j.y/$-.5;var L=(r-.5)*K/2,Y=(U-.5)*$/2;
b=1/Math.sqrt(2*(L*L+Y*Y))}var X=[Q,null,[r,U,0,b,1,0,0],[A.M,A.J,A.oe,A.me,A.ip,A.nl]];return X};kO.bT=function(Q,A){var f=Q[0],W=Q[2],C=Q[3],j=new de(C[0],C[1],C[2],C[3],C[4],C[5]);
j.L5();var K=d.dO.Wu(A);g.n.Am(K,j);var $=g.n.kU(K),r=$.Q,U=$._,b=W[0],e=W[1],P=W[2]*Math.PI/180,L=W[3],Y=new de;
if(f==0){Y.scale(L,L);Y.translate(b-.5,e-.5);Y.scale(r,U);Y.rotate(P);var X=kO.a4w(r,U,P);Y.scale(X,X);
Y.translate(r/2,U/2)}else{var G=(b-.5)*r/2,E=(e-.5)*U/2,X=L*Math.sqrt(2*(G*G+E*E));Y.scale(X,X*W[4]);
Y.rotate(P);Y.translate((b+.5)*r,(e+.5)*U)}Y.translate($.x,$.y);Y.concat(new de(C[0],C[1],C[2],C[3],C[4],C[5]));
return Y};function F(Q,A,f){if(f){_=A;D=Q}else{u=A;H=Q}}function n(Q,A,f){var W=UDOC.G,C=[],j=[],K="/DeviceGray",$=1,r=[],U=1;
for(var b=0;b<Q.length;b++){var e=Q[b];if(e.endsWith(" /CS")){var P=e.indexOf("/NChannel"),L=e.indexOf("/Process");
if(e.startsWith("/DeviceRGB")){K="/DeviceRGB";$=3}else if(e.startsWith("/DeviceGray")){K="/DeviceGray";
$=1}else if(e.startsWith("/DeviceCMYK")){K="/DeviceCMYK";$=4;r=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(P!=-1){K="/DeviceCMYK";
$=parseInt(e.slice(P-2,P-1));var Y=1;for(var v=0;v<$;v++){Y=e.indexOf("[",Y);r[$-1-v]=e.slice(Y+1,Y+8).split(" ").map(parseFloat);
Y++}}else if(L){K="/DeviceGray";$=1}else throw e}else if(e[0]=="["){var X=e.indexOf("]"),G=e.slice(1,X).split(" ").map(parseFloat),E=e.slice(X+2),T,y,d4,dH,eV,bf;
if(E=="/Size"||E=="/P"||E=="/R")continue;if(E=="/S"||E=="/A"){T=G[0];y=G[1];d4=G[2];dH=G[3];eV=G[4];
bf=G[5]}else if(E=="/N"){var jd=$+(U==1?0:1),i5;T=G[jd+0];y=G[jd+1];d4=G[jd+2];dH=G[jd+3];eV=G[jd+5];
bf=G[jd+6];if(K=="/DeviceRGB")i5=G.slice(0,3);else if(K=="/DeviceGray")i5=[G[0],G[0],G[0]];else if(K=="/DeviceCMYK"){var fD=[0,0,0,0];
for(var v=0;v<$;v++){var eo=G[v],iX=r[v];fD[0]+=eo*iX[0];fD[1]+=eo*iX[1];fD[2]+=eo*iX[2];fD[3]+=eo*iX[3]}i5=w(fD)}else throw i5;
i5.push(G[$]);j.push([i5,T,y])}else throw E;C.push([E,eV,bf,T,y,d4,dH])}else if(e=="/E"){var cK=C.slice(0),g0=0;
for(var v=0;v<C.length;v++){var bW=C[v][0];if(bW=="/N"){g0++;continue}var hF=v,aJ=v+1;while(C[aJ][0]!="/N"&&aJ<C.length)aJ++;
if(g0==0||g0==3){for(var iR=0;iR<aJ-hF;iR++)cK[hF+iR]=C[aJ-1-iR]}else for(var iR=hF;iR<aJ;iR++){var ex=cK[iR],dX=ex[1];
ex[1]=ex[5];ex[5]=dX;dX=ex[2];ex[2]=ex[6];ex[6]=dX}v=aJ-1}C=[];for(var v=0;v<cK.length;v++){var ex=cK[v];
C.push(ex[1],ex[2],ex[3],ex[4],ex[5],ex[6])}var iZ=C.length;W.moveTo(A,C[2],C[3]);for(var v=0;v<iZ;v+=6){var d4=C[(v+4)%iZ],dH=C[(v+5)%iZ],eV=C[(v+6)%iZ],bf=C[(v+7)%iZ],T=C[(v+8)%iZ],y=C[(v+9)%iZ];
W.curveTo(A,d4,dH,eV,bf,T,y)}W.closePath(A);C=[]}else if(e.endsWith("/Version"))U=parseFloat(e[0])}var j3=f.O7();
j3.XL|=16;j3.FH("<Mesh>");var by=j3.add.vstk=cq.K$.ts(!0);V(j3,A.pth,f,0);if(j.length>=2){var i9=0,dm=0,kh=0;
for(var v=0;v<j.length;v++)for(var iR=v+1;iR<j.length;iR++){var jK=j[v][0],bd=j[iR][0],dz=jK[0]-bd[0],dw=jK[1]-bd[1],ev=jK[2]-bd[2],aq=Math.sqrt(dz*dz+dw*dw+ev*ev);
if(aq>kh){kh=aq;i9=v;dm=iR}}var e3=j[i9],a9=j[dm],e0=[[0,e3[0],1,.5],[1,a9[0],1,.5]],as=O(A.ctm),eK=as.wq(new he(e3[1],e3[2])),gh=as.wq(new he(a9[1],a9[2]));
if(a8==0){var gx=j3.add.GdFl=JSON.parse(cq.Rq[cq.order.indexOf("GrFl")]),gc=gx.Grad.v;gc.Intr.v=0;gx.Type.v.GrdT="Lnr";
g.G.Ky(e0,gc);var kQ=g.X.dm(A.pth.crds);eK.x=(eK.x+gh.x)/2;eK.y=(eK.y+gh.y)/2;g.G.iW(eK,gh,kQ,gx)}else{var dn=j3.add.vstl=cq.o4.ts();
dn.IS=[];var bQ=kO.Yv(eK,gh,new de);dn.h6=kO.eN(0,bQ,j3.add.vmsk.d);dn.h6[1]=e0}}f.R.push(j3);W.newPath(A)}function R(Q){var A=Q.indexOf(")");
while(Q[A-1]=="\\")A=Q.indexOf(")",A+1);return Q.slice(Q.indexOf("(")+1,A).replaceAll("\\","")}function s(Q,D){Q.Rd.v=D[0]*255;
Q.Grn.v=D[1]*255;Q.Bl.v=D[2]*255}function Z(Q){var A=[];for(var v=0;v<Q.length;v++)A[v]=parseFloat(Q[v].slice(1));
return A}function O(Q){return new de(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])}function w(Q){return g.IG(Q.slice(0,4)).slice(0,3)}function m(Q){var A=Q.split(" "),f=A[A.length-1],W=f.toLowerCase(),C=A.map(parseFloat),j=null;
if(W=="xa"||W=="xx"||W=="xz"){var j=C[4]==null?C.slice(0,3):[C[4],C[5],C[6]];if(W=="xx"&&C[C.length-2]==2)j=w(C)}else if(W=="g")j=w([0,0,0,1-C[0]]);
else if(W=="x"||W=="k"){if(W=="x"){C.pop();var K=1-C.pop();for(var v=0;v<4;v++)C[v]*=K}j=w(C)}else if(W=="xk"){var $=C[C.length-2],r=C[C.length-3];
if($==0)j=w(C);else if($==1){j=[C[4],C[5],C[6]];for(var v=0;v<3;v++)j[v]=r*1+(1-r)*j[v]}else throw Q}else throw W;
return j}function V(Q,A,f,W){Q.add.vmsk=new d.dO;if(A.crds.length!=0)Q.add.vmsk.d=q(A);Q.add.vmsk.HN=W;
Q.Xv();Q.C$(f)}function q(Q){var A={s:Q.crds,v:Q.cmds},f=g.X.Op(A,!1);return f}function i(Q,A){var f=[],b=0,Y=0;
for(var W=0;W<2;W++){var C=A[["Raster","Place"][W]];if(C==null)continue;for(var v=0;v<C.length;v++){for(var j=0;
j<3;j++){var K=C[v][["Data","Document","PlacedObjectPreview"][j]];if(K==null)continue;var $=K._begin,r=K._end;
if($>r)$=r;f.push([$,r])}}}f.sort(function(G,E){return G[0]-E[0]});var U=[A._begin];for(var v=0;v<f.length;
v++){var e=f[v],$=e[0]+32;U.push($,e[1]);b+=e[1]-$}U.push(A._end);var P=A._end-A._begin,L=new Uint8Array(P-b);
for(var v=0;v<U.length;v+=2){var $=U[v],X=U[v+1]-$;L.set(new Uint8Array(Q.buffer,$,X),Y);Y+=X}return x.Fs(L).split(/\r\n|\r|\n/)}function c(Q,A){if(Q==null)return[];
var f=i(A,Q),W="",C="",j=0,K;for(var v=2;v<f.length;v++){var $=f[v];if($[0]=="%"){if(j==0)W+=$.slice(1);
else C+=$.slice(1)}else if($==";")j++;else if($.endsWith("/RulerOrigin ,"))K=$.split(" ").slice(0,2).map(parseFloat)}var r=[W,C],U=[];
for(var v=0;v<2;v++){var b=r[v],e=new Uint8Array(b.length);x.RN(e,0,b);var P=FromPS.F.ASCII85Decode({buff:e,off:0}),L=c2.x2(P);
U.push(L)}U.push(K);return U}function z(Q,A){if(Q==null)return[];var f=i(A,Q);f=f.slice(1);for(var v=0;
v<f.length;v++){var W=f[v];if(W[0]=="%")f[v]=W.slice(W[1]=="_"?2:1)}var C=cd.aaS(f);return C}function B(Q,A){var f={};
if(Q==null)return f;for(var v=0;v<Q.length;v++){var W=i(A,Q[v]),C=W[1],j=R(C),K=C.slice(C.lastIndexOf(")")+2).split(" ").map(parseFloat),$=[];
for(var r=2;r<W.length;r++)$.push(W[r].slice(2));f[j]={EZ:K,dg:$}}return f}function t(Q,A){var f=[],C,j;
if(Q==null)return f;var W=i(A,Q);for(var v=1;v<W.length;v++){var K=W[v];if(K=="0 0 Pb"||K=="PB"||K==""){}else if(K.endsWith("Xa")||K.endsWith("Xz")||K.endsWith("Xx")||K.endsWith("Xk")||K.endsWith(" g")||K.endsWith(" x")||K.endsWith(" k"))C=[0,m(K)];
else if(K.endsWith("Xs"))C=[0,[0,0,0]];else if(K.endsWith("Bg"))C=[1,R(K)];else if(K.endsWith("Pg")||K.endsWith("p"))C=[2,R(K)];
else if(K[0]=="(")j=R(K);else if(K=="Pc")f.push([j,C]);else if(K=="0 BB"||K=="Bb"||K.endsWith("Bh")){}else throw K}return f}function a(Q,A){var f={},W,C;
if(Q==null)return f;var j=[];for(var v=0;v<Q.length;v++){var K=i(A,Q[v]);for(var $=0;$<K.length;$++){var r=K[$];
if(r.endsWith("%_Bs")){var U=r.slice(0,r.length-4);if(!U.endsWith(" "))U+=" ";r=U+"%_BS"}if(r[0]=="("){W=R(r);
var b=r.slice(r.lastIndexOf(")")+2).split(" ");C=parseInt(b[0])}else if(r.endsWith("%_BS")){var e=r.split(" "),X,G=1;
e.pop();e=e.map(parseFloat);var P=e.pop(),L=e.pop(),Y=e.pop();if(Y==0)X=[e[0],e[0],e[0]];else if(Y==2||Y==4)X=[e[4],e[5],e[6]];
else if(Y==1||Y==3)X=w(e);else if(Y==6){if(e.length==3)X=[e[0],e[0],e[0]];else if(e.length>=8)X=e.slice(4,7);
else X=w(e);G=e.pop()}else{throw Y}j.push([P/100,X,G,L/100])}else if(r=="BD"){j.sort(function(E,T){return E[0]-T[0]});
f[W]={no:C,aDH:j};j=[]}}}return f}function I(Q){var A="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),f=Date.now(),W=0,C=[],j={Header:{}},K=[j],$=Q.length;
while(W<$){var r=W;while(r!=$&&Q[r]!=13&&Q[r]!=10){r++}if(Q[W]==37&&Q[W+1]==95&&Q[W+2]==37)W+=2;if(Q[W]==37&&(Q[W+1]==37||Q[W+1]==65)){var U=x.Gk(Q,W,r-W);
if(U=="%%EOF")break;if(U=="%%EndComments"||U=="%EndComments"||U=="%AI5_Begin_NonPrinting"||U=="%AI5_End_NonPrinting--"||U.startsWith("%AI17_Begin_Content_if_version_gt")||U=="%AI17_End_Versioned_Content"){}else{var b=U.indexOf("Begin"),e=Math.max(U.indexOf("_End"),U.indexOf("%End"));
if(b!=-1&&U[b-1]!="%"&&U[b-1]!="_")b=-1;if(b!=-1){var P=U.slice(b+5).split(":")[0],L={_begin:W,_end:W},Y=K[K.length-1];
if(A.indexOf(P)!=-1){if(Y[P]==null)Y[P]=[];Y[P].push(L)}else{if(Y[P]!=null){console.log(K);throw U}Y[P]=L}K.push(L);
if(U.startsWith("%%BeginData")){r=x.ZY(Q,"%%EndData",W)}else if(U.slice(0,15)=="%%BeginDocument")r=x.ZY(Q,"%%EndDocument",r);
else if(U=="%AI9_BeginDocumentData")r=x.ZY(Q,"%AI9_EndDocumentData",r);else if(U=="%AI11_BeginTextDocument")r=x.ZY(Q,"%AI11_EndTextDocument",r)}else if(e!=-1){if(K.length>1)K.pop()._end=W}else if(K.length==1&&(U.startsWith("%AI")||U.startsWith("%%")&&U.indexOf(" ")!=-1)){var X=1;
if(U.startsWith("%AI"))while(U[X]!="_"&&X<U.length)X++;var G=U.indexOf(":");if(G==-1)G=U.indexOf(" ");
var E=U.slice(X+1,G),T=U.slice(G+1).trim();j.Header[E]=T}}}W=r;if(Q[W]==13)W++;if(Q[W]==10)W++}return j}function N(Q){var A="";
for(var v=0;v<Q.length;v++){if(Q[v]=="_"&&Q[v+1]=="x"){var kC=parseInt(Q.slice(v+2,v+4),16);A+=String.fromCharCode(kC);
v+=4}else if(Q[v]=="_")A+=" ";else A+=Q[v]}return A}function J(Q){var A="xmlnode-nodename",f="xmlnode-nodevalue",W="xmlnode-attributes",C="xmlnode-children",j=Q[A].split(":").pop().replace("#",""),K=Q[W],$=Q[C],r="<"+j;
for(var U in K)if(U!="xmlns"&&U!="xmlns:v")r+=" "+U.split(":").pop()+"=\""+K[U][f]+"\"";r+=">"+($.length==0?"":"\n");
for(var v=0;v<$.length;v++)r+=J($[v]);if(Q[f])r+=Q[f];return r+"</"+j+">\n"}return l}();kO.a4w=function(l,o,D){var H=g.X.YZ(new gt(0,0,l,o)).s,_=new de;
_.rotate(D);g.X.h(H,_,H);var u=g.X.dm(H);return u.Q/l};kO.adj=["norm","mul ","scrn","over","sLit",null,"div ",null,null,null,null,null,null,null,"colr",null];
kO.wd=function(){function l(w){var m=72/w.on,V=new de(m,0,0,-m,0,0),q=w.root.children,i=[],c={RD:[],cM:{},aft:0},B=16383,dH=0,bf=0;
for(var v=0;v<w.Wo.length;v++){var z=w.Wo[v];if(z[1].length==4)Z(z[1],c,z[0])}for(var v=0;v<q.length;
v++)F(q[v],w,V,c,i,0);var t=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+B+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
t.push("%%BeginSetup\r");t=t.concat(c.RD);for(pn in w.PJ){var a=w.PJ[pn],I=w.on/72;t.push("%AI3_BeginPattern: ("+pn+")");
t.push("("+pn+") 0 0 "+Math.round(a.Q/I)+" "+Math.round(a._/I));var q=a.root.children,N=[];for(var v=0;
v<q.length;v++)F(q[v],a,V,c,N,1);N=window.avL;for(var v=0;v<N.length;v++){var J=N[v];t.push(J.startsWith("%_")?J:"%_"+J)}t.push("E","%AI3_EndPattern")}if(w.Wo.length!=0){t.push("%AI5_BeginPalette","0 0 Pb");
for(var v=0;v<w.Wo.length;v++){var z=w.Wo[v],Q="("+z[0]+")",A=z[1].length;if(z[0]=="[Registration]")t.push("0.749721 0.679194 0.670497 0.901457 0 0 0 ([Registration]) 0 1 Xz");
else if(A==3)t.push(h(g.xY(z[1]).concat(z[1]))+" "+Q+" 0 1 Xk");else if(A==4)t.push("Bb","0 0 0 0 Bh",z[1][0]+1+" "+Q+" 0 0 0 1 1 0 0 1 0 0 1 Bg","0 BB");
else if(A==2)t.push(Q+" 0 0 1 1 0 0 0 0 0 [1 0 0 1 0 0] p");t.push(Q,"Pc")}t.push("PB","%AI5_EndPalette")}t=t.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var f=w.add.arts;for(var v=0;v<f.length;v++){var W=f[v];console.log(W);var C=W.EZ[0]*m,j=-W.EZ[1]*m,K=W.EZ[2]*m,$=-W.EZ[3]*m;
t.push("/Dictionary :","("+W.Nt+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",B/2+" "+B/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",D(C)+" "+D(j)+" /RealPointRelToROrigin"," (PositionPoint1) ,",D(K)+" "+D($)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}t=t.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var r=[],U=[];for(var v=0;v<w.R.length;v++){var b=w.R[v],e=b.add.TySh;if(e){r.push(e.PF);U.push(e)}}if(r.length!=0){var P=cj.a5B(r,null,null);
function L(W){return W.map(function(jd){return"f"+jd})}for(var Y=0;Y<r.length;Y++){var e=U[Y],X=P._1._1[Y],G=X._1._0[0]._0;
G=parseInt(G.slice(1));var E=P._0._8._0[G]._0,T=e.h.clone();T.concat(V);T.scale(1,-1);E._2._2=L([T.M,T.J,T.oe,T.me,T.ip,T.nl])}var y=o(P),d4=o(P);
t.push("%AI11_BeginTextDocument");t.push("/AI11TextDocument : /ASCII85Decode ,");t=t.concat(y);t.push("0.0001 0.0001 /RulerOrigin ,");
t.push(";");t.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");t=t.concat(d4);t.push(";");t.push("%AI11_EndTextDocument")}t.push("%%EndSetup\r");
t=t.concat(i);console.log(t.join("\n"));t.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var v=0;v<t.length;v++){var W=t[v];if(typeof W=="string")W=t[v]=x.fe(W);dH+=W.length+1}var eV=new Uint8Array(dH);
for(var v=0;v<t.length;v++){var W=t[v];eV.set(W,bf);bf+=W.length;eV[bf]=13;bf++}return cd.a7v(eV).buffer}function o(w){var m=new dk,V=c2.Y8(w,m)-2,q=O(m.data.slice(0,V)),i=[];
for(var c=0;c<q.length;c+=100){if(q.length-c<103){i.push("%"+q.slice(c));break}i.push("%"+q.slice(c,c+100))}return i}function D(kC){return kC.toFixed(3)}function H(w,m){var V=w.getName(),q=null;
m.push("%_/ArtDictionary :");if(w.add.vmsk)q=w.add.vmsk._8;if(w.add.SoLd){var i=g.t.Ro(w.add.SoLd);q=Math.atan2(-i.J,i.M)}if(w.add.TySh){var i=w.add.TySh.h;
q=Math.atan2(-i.J,i.M)}if(q!=null&&q!=0)m.push("%_("+q+") /String (BBAccumRotation) ,");if(w.add.TySh)m.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!V.startsWith("<")&&!V.endsWith(">")){m.push("%_/XMLUID : "+_(V)+" ; (AI10_ArtUID) ,")}m.push("%_;","%_")}function _(w){var m="";
for(var v=0;v<w.length;v++){var V=w[v],q=w.charCodeAt(v);if(V==" ")m+="_";else if(V=="."||V==":"||V=="-"||48<=q&&q<=57||65<=q&&q<=90||97<=q&&q<=122||127<q)m+=V;
else m+="_x"+q.toString(16).toUpperCase()+"_"}return"("+m+")"}function u(w,m,V){V.push(h(w)+" "+m)}function S(w){return"[ "+h(w)+" ]"}function h(w){return w.map(D).join(" ")}function F(w,m,V,q,i,c){var z=w.U;
if(c!=0)i.push("0 A",(z.zd()?0:1)+" Xw");if(z.Cl()){var B=!1;for(var v=0;v<w.children.length;v++)if(w.children[v].U.aU)B=!0;
var t=z.add.lsct==jl.VV?1:0;if(c==0){i.push("%AI5_BeginLayer");i.push((z.zd()?1:0)+" 1 1 1 0 0 1 -1 51 44 43 0 100 0 Lb");
i.push("("+z.getName()+") Ln");i.push(t+" AE");H(z,i)}else{i.push(t+" Ae");i.push(B?"q":"u")}for(var v=0;
v<w.children.length;v++)F(w.children[v],m,V,q,i,c+1);if(c==0)i.push("LB","%AI5_EndLayer--");else{i.push(B?"Q":"U");
H(z,i);n(z,i);i.push("0 0 Xd","6 () XW")}}else if(!0){n(z,i);var a=z.add.TySh,I=z.add.vmsk;if(a){i.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",q.aft+" /StoryIndex ,");
if(fX.I8(a.PF)==1){var N=fX.IU(a.PF),J=g.X.YZ(new gt(N[0],N[1],N[2],N[3])).s;g.X.h(J,a.h,J);g.X.h(J,V,J);
i.push("/Art :","X=","1 Ap",J[0]+" "+J[1]+" m",J[2]+" "+J[3]+" L",J[4]+" "+J[5]+" L",J[6]+" "+J[7]+" L",J[0]+" "+J[1]+" L","n","X+","; /ConfiningPath ,")}i.push("2 /TextAntialiasing ,",";");
q.aft++}else if(z.add.SoLd){var Q,A,f,W=z.add.SoLd,C=W.Idnt.v,j=m.Es(C,W.Crop?W.Crop.v:null),K=j.f2,Q=K[0],A=K[1];
f=g.t.Ro(W);var $=new de(1,0,0,-1,0,0);$.concat(f);$.concat(V);var r=A.c(),U=A.Q,b=A._,e=g.o(r*4+8);
for(var v=0;v<r;v++){var P=v*4,L=v*3;e[L]=Q[P];e[L+1]=Q[P+1];e[L+2]=Q[P+2];e[3*r+v]=Q[P+3]}x.RN(e,r*4,"%EndData");
i.push("%AI5_File:","%AI5_BeginRaster",S([$.M,$.J,$.oe,$.me,$.ip,$.nl])+" 0 0 "+[U,b,U,b].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(r*4+4),"XI",e,"XH","%AI5_EndRaster","N")}else if(I){var Y=z.add.vstl,X=Y.h6,G=Y.IS;
if(!z.aU){if(X.length==0)X=null;if(G.length==0)G=null}var E=g.n.Ly(I.d)>1;if(E)i.push("*u","0 Xw");if(X){if(X.length==3)u(X,"Xa",i);
else if(X.length==4){var T=s(X,q);i.push("Bb",T,"2 BB")}else{i.push("("+X[0]+") "+X[1][0].join(" ")+" ["+X[1][1].join(" ")+"] p")}}if(G){var y=V.jX(),d4=Y.dE.slice(0);
for(var v=0;v<d4.length;v++)d4[v]*=y;i.push(Y.iw+" J "+Y.h_+" j "+Y.W5*y+" w "+D(Y.wk)+" M ["+d4.join(" ")+"]0 d");
if(G.length==3)u(G,"XA",i);else if(G.length==4){var T=s(G,q);i.push("1 Bb",T,"2 BB")}else{i.push("("+G[0]+") "+G[1][0].join(" ")+" ["+G[1][1].join(" ")+"] P")}}var dH=g.X.Ja(I.d,1);
g.X.h(dH.s,V,dH.s);var eV=z.aU?"h\nW\nn":X&&G?"b":X?"f":"s";R(dH,eV,I.HN,i);if(E)i.push("*U")}H(z,i)}else{var bf=["0 Ae","u","0 Ae","*u","4 As","0 O","0.749721467494965 0.679194271564484 0.670496642589569 0.901457190513611 0 0 0 Xa","0 1 0 0 0 Xy","0 J 0 j 1 w 10 M []0 d","0 XR","111.18822479248 -34.0734329223633 m","78.6218032836914 -68.3782501220703 L","50.4593849182129 -42.8814239501953 L","111.18822479248 -34.0734329223633 L","F","4 As","1 D","127.456848144531 -25.6510887145996 m","36.9820060729981 -38.7733764648438 L","78.938850402832 -76.7589797973633 L","127.456848144531 -25.6510887145996 L","127.456848144531 -25.6510887145996 L","f","*U","U","%_/ArtDictionary :","%_/XMLUID : (stroke_center_00000129180656820086388900000009385145657589981339_) ; (AI10_ArtUID) ,","%_;","%_","0 0 Xd","6 () XW","%_3 As","%_0 D","%_36.9820193421074 -38.7733812949637 m","%_127.456839485992 -25.65107913669 l","%_78.9388538744815 -76.758992805755 l","%_36.9820193421074 -38.7733812949637 l","%_n","%_/ArtDictionary :","%_/XMLUID : (stroke_center) ; (AI10_ArtUID) ,","%_;","%_","1 (Anon EuoqR7CI7zs=) XW"];
i=i.push(bf.join("\n"))}}function n(w,m){var V=kO.adj.indexOf(w.TY);if(V==-1)V=0;m.push(V+" "+D(w.opacity/255)+" 0 0 0 Xy")}function R(w,m,V,q){q.push(V+" XR");
var i=0;for(var c=0;c<w.v.length;c++){var z=w.v[c],B,t=0,a="";if(z=="M"){t=2;B="m"}if(z=="L"){t=2;B="l"}if(z=="C"){t=6;
B="c"}for(var v=0;v<t;v++)a+=D(w.s[i+v])+" ";i+=t;if(t!=0)q.push(a+B);if(c==w.v.length-1||w.v[c+1]=="M"){q.push(z=="Z"?m:m.toUpperCase())}}}function s(w,m){var V=Z(w,m),q="";
if(w[0]==1)q="0 0 "+w[2].slice(5).map(D).join(" ")+" Bh\n";return q+"1 ("+V+") "+w[2].slice(0,4).map(D).join(" ")+" "+w[3].map(D).join(" ")+" "+D(w[2][4])+" Bg"}function Z(w,m,V){var q=w[0],i=w[1].slice(0),c=q+"-"+JSON.stringify(i);
if(m.cM[c])return m.cM[c];console.log(V);var z=m.cM[c]=V?V:"grd"+m.RD.length;m.RD.push("%AI5_BeginGradient: ("+z+")","("+z+") "+q+" "+i.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(q==0)i=i.reverse();for(var v=0;v<i.length;v++){var B=i[v];if(B[3]==null)throw"e";var t=g.xY(B[1]),a=100*B[3],I=t.concat(B[1]).map(D).join(" ")+" 2 "+D(B[2])+" 6 "+a+" "+D(B[0]*100);
m.RD.push(I+" %_BS");m.RD.push("%_"+I+" Bs")}m.RD.push("BD","%AI5_EndGradient");return z}function O(w){var m=[85*85*85*85,85*85*85,85*85,85,1],V="",q=w.length,i=new Uint8Array(4),c=new Uint32Array(i.buffer);
for(var v=0;v<q;v+=4){var z=q-v;i[3]=w[v];i[2]=z>1?w[v+1]:0;i[1]=z>2?w[v+2]:0;i[0]=z>3?w[v+3]:0;var B=c[0],t=1+Math.min(4,z);
for(var a=0;a<t;a++){var I=Math.floor(B/m[a]);V+=String.fromCharCode(33+I);B-=I*m[a]}}return V+"~>"}return l}();
function bJ(){}bJ.x2=function(){var l,o,D,H,_,u=!0,z,B,t;function S(r){return u?x.K6(l,r):x.C(l,r)}function h(r){return u?x.kk(l,r):x.I9(l,r)}function F(r){return u?x.ul(l,r):x._k(l,r)}function n(r){return x.kk(l,r)}function R(r){return x.K6(l,r)}function s(r){return x.zJ(l,r)}function Z(r,U){if(r+U*4>l.length)throw U;
var b=[];for(var v=0;v<U;v++)b.push(S(r+v*4));return b}function O(r,U){var b=[];for(var v=0;v<U;v++)b.push(F(r+v*8));
return b}function w(r){return R((r+1)*4096-12)}function m(r){return R((r+1)*4096-8)}function V(r,o,U,b){if(H[r]==null)H[r]=[];
H[r].push([b,new Uint8Array(l.buffer,o,U)])}function q(r,U,b,e){var P=D[r],o=P*4096;o=o+R(o+4096-24-12-U*4);
var L=n(o),Y=l[o+2],X=l[o+3];if(U!=Y)throw Y;if(X==0)V(e,o+4,b,9);else{var G=n(o+6),E=R(o+8);V(e,o+12,L-12,9);
q(E,G,b-(L-12),e)}}function i(){var r=R(352),U=R(r*4096+128),b=R(936);D=[];H={};_={};for(var v=0;v<1e9;
v++){var e=R(b*4096+128+v*4);if(e==0)break;var P=Z(e*4096+128,4096-128-12>>>2);D=D.concat(P)}for(var L=0;
L<D.length;L++){var Y=D[L],X=w(Y);if(X!=6)continue;var o=Y*4096,G=R(o);o+=4;for(var v=0;v<G;v++){var E=R(o);
o+=4;var T=R(o);o+=4;var y=R(o);o+=4;var d4=R(o);o+=4;if(E==0)_[T]=y;else{var dH=y&65535,eV=y>>>16;if(eV==0)V(T,d4*4096,dH,8);
else q(d4,eV,dH,T)}}}var z={};for(var bf in H){var jd=H[bf],i5=jd.length;if(i5==1)z[bf]=jd[0][1];else{var fD=0,o=0;
for(var v=0;v<i5;v++)fD+=jd[v][1].length;var eo=z[bf]=new Uint8Array(fD);for(var v=0;v<i5;v++){eo.set(jd[v][1],o);
o+=jd[v][1].length}}}return z}function c(o,r){var U=r?S(o):h(o),b="";o+=r?4:2;while(b.length<U){var e=h(o),P=e&255,L=e>>>8,Y=0,X="";
P+=(L&15)*256;L=L&240;o+=2;for(var v=0;v<P;v++){if(L==64)Y=l[o++];else if(L==128){Y=h(o);o+=2}else throw L;
X+=String.fromCharCode(Y)}b+=X}return[b,o]}function a(o,r,U){var b=Z(o,r);for(var v=0;v<r;v++){U.push(v);
if(b[v]>B)throw"e";b[v]=N(b[v],U);U.pop()}return b}var I={};function N(r,U){if(t.indexOf(r)!=-1)return z[r];
if(r==0)return null;if(z[r]==null)return null;if(!(z[r]instanceof Uint8Array))return z[r];var b=l,o=0;
l=z[r];t.push(r);var e=_[r].toString(16),P=z[r]={_type:$[e]?$[e]+":"+e:"typ-"+e,_eid:r};while(o+8<l.length){if(u&&R(o+4)>268435455&&R(o+4)!=1179258880)u=!1;
var L=S(o);o+=4;var Y=S(o);o+=4;var X=L.toString(16),G=o+Y;if(o+Y>l.length){P._bin=l;break}J(X,W,P,o,Y,U);
o=G}l=b;t.pop();return P}function J(r,U,b,o,e,P){var L=U[r+":"+b._type];if(L==null)L=U[r];P.push(L?L[0]==""?r:L[0]:r);
if(L){var Y=L[0],X=null,G=L[1];if(Y=="")Y=G+"-"+r;if(j[G]&&e!=j[G]){console.log(G);console.log(r,L);
console.log(l.slice(o,o+e));throw"e"}if(G=="mat")X=O(o,6);else if(G=="mmat")X=[N(S(o),P),e==6?[1,0,0,1,0,0]:O(o+6,6)];
else if(G=="rect")X=O(o,4);else if(G=="mrct"){X=O(o,4);X.push(n(o+32))}else if(G=="doub")X=F(o);else if(G=="pointArr"){var E=n(o);
X=Z(o+2,E*2)}else if(G=="usrt")X=n(o);else if(G=="uint")X=S(o);else if(G=="pntr"||G=="ptr6"){X=N(S(o),P)}else if(G=="bool2"){if(h(o)!=0&&h(o)!=1)throw h(o);
X=h(o)==1}else if(G=="bool4"){if(R(o)!=0&&R(o)!=1)throw r+","+R(o);X=R(o)==1}else if(G=="color"){if(e!=38&&e!=30)throw e;
var T=S(o),y=h(o+4);X=[T];for(var v=0;v<y;v++)X.push(F(o+6+v*8))}else if(G=="path"){var d4=o+e;X=[];
var dH=S(o);o+=4;for(var v=0;v<dH;v++){var eV=[[]];X.push(eV);var bf=S(o);o+=4;for(var jd=0;jd<bf;jd++){var T=S(o);
o+=4;if(T<2){eV[0].push([T,F(o),F(o+8),F(o+16),F(o+24),F(o+32),F(o+40)]);o+=48}else if(T==2){eV[0].push([T,F(o),F(o+8)]);
o+=16}else throw T}eV.push(n(o));o+=2}}else if(G=="ptrAndList"){var i5=S(o),fD=S(o+4);X=a(o+8,fD,P);
X.unshift(N(i5,P))}else if(G=="ptrArray"||G=="ptrArrayX"){var eo=e>>2;if(G=="ptrArray"){eo=S(o);o+=4;
if(e!=4+eo*4)throw e}X=a(o,eo,P)}else if(G=="ptrArray2"){var eo=S(o);o+=4;X=a(o,eo,P);o+=eo*4;eo=S(o);
o+=4;X.push(a(o,eo,P))}else if(G=="cldrn"){var iX=S(o),cK=S(o+4),eo=S(o+8);X={L:N(iX,P),ED:N(cK,P),ZW:a(o+12,eo,P)};
if(e!=12+eo*4){console.log(r,sa);throw"e"}if(iX==0)throw iX}else if(G=="aprnc"){var eo=S(o);o+=4;X={};
for(var v=0;v<eo;v++){var g0=S(o),bW=h(o+4),hF=h(o+6);o+=8;var aJ=K[g0.toString(16)];if(aJ==null)aJ="prm-"+g0.toString(16);
else aJ=f(aJ);X[aJ]=[];for(var jd=0;jd<hF;jd++){var iR=S(o),ex=h(o+4),dX=null;o+=6;if(iR==28264)dX=F(o);
else if(iR==28263)dX=S(o);else if(iR==279||iR==6917)dX=N(S(o),P);else if(iR==28261)dX=n(o)==1;else if(iR==28265)dX=[F(o),F(o+4)];
else if(iR==6914||iR==83231)dX=c(o+3)[0];else if(iR==28259||iR==28260||iR==23094||iR==67679){dX=l.slice(o,o+ex)}else throw iR.toString(16);
X[aJ].push(dX);o+=ex}}}else if(G=="lopts"){X={abn:h(o+0)==1,show:h(o+2)==1,ah_:h(o+4)==1,d3:S(o+10),name:c(o+21)[0]}}else if(G=="origin"){var d4=o+e;
if(l[o++]!=1)throw"e";var E=R(o);o+=4;var iZ=x.Gk(l,o,E);o+=E;if(l[o++]!=1)throw"e";var j3=l[o++];if(j3!=1&&j3!=53)throw j3;
var by=n(o);o+=2;if(by!=0&&by!=1)throw by;var i9=R(o);o+=4;if(i9!=0&&i9!=1)throw i9;var dm=R(o);o+=4;
if(dm!=0&&dm!=2&&dm!=3)throw dm;var kh=R(o);o+=4;var jK=c(o,!0);o=jK[1];jK=jK[0];var bd=R(o),dz=R(o+4);
o+=8;var dw=R(o);o+=4;if(dw!=0)throw dw;var ev=R(o);o+=4;o+=3;var aq=c(o)[0];o+=2+2+aq.length;X={file:iZ,id:jK,Fp:aq}}else if(G=="string")X=c(o+3)[0];
else if(G=="relEnt"){var e3=h(o);o+=2;X=[];for(var v=0;v<e3;v++)X.push([S(o+v*8),N(S(o+v*8+4),P)])}else if(G=="textData"){var d4=o+e,a9=S(o);
o+=4;var g0=S(o);o+=4;var y=h(o);o+=2;var e0=[];for(var v=0;v<y;v++){var as=S(o);o+=4;if(a9==514)e0.push(c(o,!0)[0]);
else if(a9==515){var eK=S(o),r=S(o+4),gh=Q(o+8,P);e0.push([eK,N(r,P),gh])}else if(a9==516){var eK=S(o),r=S(o+4),gx=h(o+8),gh=Q(o+8,P);
e0.push([eK,N(r,P),gh])}else e0.push(l.slice(o,o+as));o+=as}if(d4-o!=12)throw d4-o;X=e0}else if(G=="storyProps"){var gc=S(o);
if(h(o+4)>1)throw"e";var kQ=N(S(o+6),P),y=S(o+10),dn=N(S(o+14+y*4),P);X={aDa:gc,a5b:kQ,ZW:a(o+14,y,P),amh:dn,azu:Z(o+14+y*4+4,4)}}else if(G=="styleProps")X=Q(o,P);
else if(G=="bounds"){var bQ=o,e3=S(o);o+=4;X=[];for(var v=0;v<e3;v++){var iK=[];X.push(iK);for(var jd=0;
jd<4;jd++)iK.push(F(o+jd*8));o+=32;iK.push(l[o]);o++}if(o!=bQ+e)throw"e"}else if(G=="columnPos"){var e3=S(o);
o+=4;X=[O(o,e3),F(o+e3*8)];o+=e3*8+8}else if(G=="StyleName"){X=[S(o+4)]}else if(G=="fontName"){var d4=o+e;
X=[h(o)];o+=2;for(var v=0;v<2;v++){var iZ=c(o+3);o=iZ[1];X.push(iZ[0])}X.push(S(o));o+=4;var cJ=h(o);
o+=2;X.push(cJ);var i1=h(o);o+=2;var bu=[];X.push(bu);for(var gi=0;gi<i1;gi++){var iv=[];bu.push(iv);
var iZ=c(o+3);o=iZ[1];iv.push(iZ[0]);var d0=h(o);if(d0<100){o+=2;var iZ=x.Gk(l,o,d0);o+=d0;iv.push(iZ)}else{var iZ=c(o+3);
o=iZ[1];iv.push(iZ[0])}for(var v=0;v<3;v++){var iZ=c(o+3);o=iZ[1];iv.push(iZ[0])}iv.push(S(o));o+=4;
var iZ=c(o,!0);o=iZ[1];iv.push(iZ[0])}if(o+4!=d4)throw"e";X.push(S(o))}else throw G;if(b[Y]!=null){console.log(Y,b[Y],X);
console.log(P.slice(0));console.log(eid,r,o,b[Y],L,X);throw"e"}b[Y]=X}else{var af=l.slice(o,o+e);b["prop-"+r]=af}P.pop()}function Q(o,r){var U=h(o);
o+=2;var b={};for(var v=0;v<U;v++){var e=S(o);o+=4;var P=e.toString(16),L=h(o);o+=2;var Y=h(o);o+=2;
for(var X=0;X<Y;X++){var G=S(o);o+=4;var E=h(o);o+=2;J(P,C,b,o,E,r);o+=E}}return b}function A(r){u=!0;
l=new Uint8Array(r);z=i();var U=z[2147483649];U=x.Fs(U,4,U.length-4);delete z[2147483649];B=0;for(var b in z)B=Math.max(B,parseInt(b));
t=[];var e={};for(var b in z)e[b]=z[b];for(var b in z)N(parseInt(b),[]);return z}function f(r){r=r.split(" ").join("");
return r[0].toLowerCase()+r.slice(1)}var W={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"154":["rect","rect"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},C={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},j={mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},K={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},$={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return A}();function gl(){}gl.x2=function(){var l=0;function o(s,Z){var O=bJ.x2(s),A=1;l=0;var w=O[1],m=w.spreads,V=[],q=new gt;
for(var i=0;i<m.length;i++){var c=m[i],z=c.children.ZW,B=H(c),t=z[0].children.ZW,a=new gt;for(var I=0;
I<t.length;I++){var N=t[I],J=H(N);J.concat(B);var Q=D(N);Q.offset(J.ip,J.nl);Q=g.X.rP(Q);a=a.tB(Q)}V.push(a);
q=q.tB(a)}while(Math.sqrt(q.c())*A<1e3)A++;Z.Q=q.Q*A;Z._=q._*A;Z.buffer=new Uint8Array(4*Z.Q*Z._);Z.hU=!0;
Z.on=Math.round(72*A);Z.sp(m.length);for(var i=0;i<m.length;i++){var c=m[i],z=c.children.ZW,f=Z.O7();
f.XL=24;f.add.lsct=jl.VV;f.FH("Artboard "+(i+1));var W=V[i].clone();W.offset(-q.x,-q.y);W.x*=A;W.y*=A;
W.Q*=A;W._*=A;W=g.X.rP(W);f.Hh(W);f.TY="pass";Z.R.push(Z.k0());var B=H(c);B.translate(-q.x,-q.y);B.scale(A,A);
var C={};for(var j=0;j<z.length-1;j++){var K=z[j],$=K.children.ZW,r=Z.O7(),U=K.layer.lopts;if(U.name=="Internal_pages_layer_name"||C[U.name])continue;
C[U.name]=!0;r.XL=24;r.add.lsct=jl.VV;r.FH(U.name);r.rm(U.show);if(U.abn)r.add.lspf=1<<31;r.TY="pass";
Z.R.push(Z.k0());for(var v=0;v<$.length;v++)F($[v],Z,B,O);Z.R.push(r)}Z.R.push(f)}}function D(s){var Z=s.rect;
return new gt(Z[0],Z[1],Z[2]-Z[0],Z[3]-Z[1])}function H(s){var Z=s.transform;return new de(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5])}function _(s){var Z=s.color,O=s.parentFill,m;
if(Z==null&&O)Z=O.color;if(Z==null){console.log("strange color",s);return[0,0,0]}var w=Z[0];if(w==5)m=Z.slice(1);
else if(w==6)m=UDOC.C.cmykToRgb(Z.slice(1));else if(w==7){var V=g.Wn(Z[1],Z[2],Z[3]);m=[V.$/255,V.H/255,V.J/255]}else if(w==14){m=Z.slice(1);
console.log("unsure about the color")}else{console.log(Z);throw w}return m}function u(s){var Z=_(s);
return g.G.XF({$:Z[0]*255,H:Z[1]*255,J:Z[2]*255})}function S(s){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[s]}function h(s,Z){var v=0,O=0;
while(s[v+1]&&O+s[v][0]<=Z){O+=s[v][0];v++}s=s[v][1].textData;v=0;while(s[v+1]&&O+s[v][0]<=Z){O+=s[v][0];
v++}return s[v]}function F(s,Z,O,w){var m=s.transform?H(s):new de;m.concat(O);var V=s.path,q=s.appearance,i=s.visible,c=s.children?s.children.ZW:null,z=Z.O7();
if(i!=null)z.rm(i);var B=c&&c.length==1&&c[0].bitmapFill,t=s["bool2-1623"]&&c&&c.length==1&&c[0].rect&&c[0]._type.startsWith("TextFrame");
if(B){z.FH("bitmap");var a=c[0],I=D(a),N=H(a),W=null;N.concat(m);var J=a.bitmapFill.bitmap;J=w[J]._bin;
if(J.length!=J.buffer.byteLength)J=J.slice(0);if(J[0]==123){console.log("unknown bitmap format");return}var Q=Z.M9(J,"img.jpg",0,0);
Q.XL=z.XL;z=Q;var A=[0,0,I.Q,0,I.Q,I._,0,I._];g.X.h(A,N,A);z.add.SoLd.Trnf=p.cA.y3(A);z.add.SoLd.nonAffineTransform=p.cA.y3(A);
z.mP(Z,!1);var f=a.path;if(f&&f.length!=0)W=R(f,N,q);else if(V&&V.length!=0)W=R(V,m,q);if(W){var C=g.n.kU(W.d),j=g.X.dm(A);
if(C.c()/j.$o(C).c()>1.1){if(C.contains(j))W=null;var K=s.children;s.children=null;F(s,Z,O,w);s.children=K}}if(W)z.add.vmsk=W;
z.Xv();z.C$(Z)}else if(t){if(q&&q.strokeSwatch){var $=Z.O7();n($,Z,q,V,m);Z.R.push($)}var r=c[0],I=D(r),N=H(r),i5=0;
N.concat(m);var U=r.children.ZW[0],b=U.obj228,e=b[0].story[1],P=e.stoProps.a5b.relEnt,L=e.stoProps.ZW[0].relEnt,Y=e.stoProps.ZW[1]["ptrArrayX-210"][0].textData,X=w[P[0][1].textData[0][1].name[0]],G=X?X.styProps:{};
Y=Y.join("").replace(/\r/g,"\n");var E=-1;while((E=Y.indexOf("\uFFFC"))!=-1){Y=Y.slice(0,E)+(Y[E-1]=="\n"?" ":" ")+Y.slice(E+1)}z.FH(Y.slice(0,255));
z.add.lnsr="rend";z.add.TySh=fX.D2(0,0);z.add.TySh.g6=I;z.add.TySh.h=N;var T=z.add.TySh.PF;fX.yQ(T,0,Y);
var y=fX.eF(T,0,Y.length);y.i7.FontSize=10;fX.fn(T,0,Y.length,y);var d4=[];if(Y.length!=0){var dH=h(P,0),eV=h(L,0),bf=1;
for(var v=1;v<Y.length;v++){var V=h(P,v),jd=h(L,v);if(V!=dH||jd!=eV){d4.push(bf);bf=0}dH=V;eV=jd;bf++}if(bf!=0)d4.push(bf)}for(var v=0;
v<d4.length;v++){var fD=h(L,i5),eo=d4[v],iX=Math.min(i5+eo,Y.length-1),cK=fD[2],g0=fD[1].styProps;if(g0==null)g0={};
var bW=h(P,i5),hF=bW[1].styProps,aJ=bW[2],iR={};for(var ex in G)iR[ex]=G[ex];for(var ex in hF)iR[ex]=hF[ex];
for(var ex in aJ)iR[ex]=aJ[ex];for(var ex in g0)iR[ex]=g0[ex];for(var ex in cK)iR[ex]=cK[ex];var y=fX.eF(T,i5,iX),dX=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],iZ=dX.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var j3=0;j3<iZ.length;j3++){var ex=iZ[j3],by=j3<dX.length?y.i7:y.z5;if(iR[ex]!=null)by[ex]=iR[ex]}if(iR.fillColor){var i9=_(iR.fillColor);
y.i7.FillColor={Type:1,Values:[1].concat(i9)}}if(iR.font){var dm=iR.font.name[5],kh=iR.fontStyle;if(kh==null)kh="Regular";
for(var jK=0;jK<dm.length;jK++)if(dm[jK][0]==kh)fX.LQ(y,dm[jK][1])}if(iR.leading!=null&&iR.leading>1){y.i7.Leading=iR.leading;
y.i7.AutoLeading=!1}if(iR.align!=null)y.z5.Justification=[0,2,1,6,3,5,4,0,0,0][iR.align];fX.fn(T,i5,iX,y);
i5+=eo}fX.aM(T,1);fX.nP(T,[0,0,Math.round(I.Q),Math.round(I._)])}else if(s._type.startsWith("Path")&&(c==null||c.length==0)&&V){n(z,Z,q,V,m)}else{var bd=s["prop-14526"];
if(c==null&&bd){var dz=w[x.K6(bd,20)];c=[dz]}if(c){if(V&&V.length!=0){z.add.vmsk=R(V,m,q);z.Xv();z.C$(Z)}z.FH("group");
z.XL=24;z.add.lsct=jl.VV;Z.R.push(Z.k0());for(var v=0;v<c.length;v++)F(c[v],Z,m,w)}}if(q){var dw=q.objectBlendingMode,ev=q.objectOpacity,aq=q.fillTint,a9=!1;
if(dw)z.TY=S(dw[0]);if(ev)z.opacity=Math.round(z.opacity*ev[0]/100);if(!B&&aq)z.opacity=Math.round(z.opacity*aq[0]/100);
var e3=JSON.parse(cq.default);for(var v=0;v<cq.order.length;v++)e3[cq.lZ[v]]={t:"VlLs",v:[]};var e0="dropShadow innerShadow satin bevel iglow oglow".split(" "),as="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var v=0;v<e0.length;v++){var eK=e0[v];if(q[eK]&&q[eK][0]){var gh=q[eK],gc=135,kQ=10;a9=!0;var gx=JSON.parse(cq.Rq[cq.order.indexOf(as[v])]);
e3[cq.lZ[cq.order.indexOf(as[v])]].v.push({t:"Objc",v:gx});if(q[eK+"Color"])gx.Clr.v=u(q[eK+"Color"][0]);
else if(e0[v]=="iglow"||e0[v]=="oglow")gx.Clr.v=g.G.XF({$:255,H:255,J:255});if(q[eK+"ColorH"])gx.hglC.v=u(q[eK+"ColorH"][0]);
if(q[eK+"ColorS"])gx.sdwC.v=u(q[eK+"ColorS"][0]);if(q[eK+"BMode"])gx.Md.v.BlnM=b2.De(S(q[eK+"BMode"][0]));
if(q[eK+"BModeH"])gx.hglM.v.BlnM=b2.De(S(q[eK+"BModeH"][0]));if(q[eK+"BModeS"])gx.sdwM.v.BlnM=b2.De(S(q[eK+"BModeS"][0]));
if(q[eK+"Opacity"])gx.Opct.v.val=q[eK+"Opacity"][0];if(q[eK+"OpacityH"])gx.hglO.v.val=q[eK+"OpacityH"][0];
if(q[eK+"OpacityS"])gx.sdwO.v.val=q[eK+"OpacityS"][0];if(q[eK+"Size"])gx.blur.v.val=q[eK+"Size"][0];
if(q[eK+"Angle"])gc=q[eK+"Angle"][0];if(q[eK+"Dist"])kQ=q[eK+"Dist"][0];if(q[eK+"DX"]){var dn=q[eK+"DX"][0],bQ=q[eK+"DY"][0];
kQ=Math.round(Math.sqrt(dn*dn+bQ*bQ));gc=Math.round(Math.atan2(bQ,-dn)*180/Math.PI)}if(gx.lagl)gx.lagl.v.val=gc;
if(gx.Dstn)gx.Dstn.v.val=kQ;if(gx.uglg)gx.uglg.v=!1;if(q[eK+"Invert"])gx.Invr.v=q[eK+"Invert"][0];else if(e0[v]=="satin")gx.Invr.v=!1;
if(q[eK+"Alt"])gx.Lald.v.val=q[eK+"Alt"][0];if(q[eK+"Depth"])gx.srgR.v.val=q[eK+"Depth"][0];if(q[eK+"Choke"])gx.Ckmt.v.val=q[eK+"Choke"][0]}}if(a9)z.add.lmfx=e3}if(s.name)z.FH(s.name);
else if(q&&q.name)z.FH(q.name[0]);Z.R.push(z)}function n(s,Z,O,w,m){s.FH("path");s.XL|=16;s.add.vmsk=R(w,m,O);
var V=s.add.vstk=cq.K$.ts(),q=g.G.XF({$:0,H:0,J:0});if(O){var i=O.strokeSwatch,c=O.fillSwatch,z=O.basicFeather,B=O.basicFeatherWidth,t=O.strokeWeight;
V.strokeEnabled.v=i!=null;V.fillEnabled.v=c!=null;if(z)s.add.vmsk.L4=B?B[0]:9;if(i){V.strokeStyleLineWidth.v.val=t?t[0]:1;
q=u(i[0]);V.strokeStyleContent.v.Clr.v=q}if(c){q=u(c[0])}}if(q)s.add.SoCo={classID:"null",Clr:{t:"Objc",v:q}};
s.Xv();s.C$(Z)}function R(s,Z,O){var w=new d.dO,m=w.d;for(var V=0;V<s.length;V++){var q=s[V],i=q[0].length,c=q[1]==0,z=c?0:3;
m.push({type:z,length:i,HN:0,qC:2,Zt:0,bb:0});for(var v=0;v<i;v++){var B=q[0][v],t=B[0],a=new he(B[1],B[2]),I=new he(B[3],B[4]),N=new he(B[5],B[6]);
if(t==0||t==1)m.push({type:z+2,e6:a,u:I,BN:N});else if(t==2)m.push({type:z+2,e6:a,u:a,BN:a});else throw t}}g.n.Am(m,Z);
return w}return o}();var h$=function(l){function o(S,h){var F=[];for(var v=0;v<9;v++){var n=x.C(S,h+v*4);
if(v%3==2)F.push((n>>>30)+(n&1073741823)/1073741823);else F.push((n>>>16)+(n&65535)/65535)}return F}function D(S,h,F,n){var R={},s=x.C,Z=x.I9;
while(h<F){var O=h,w=x.C(S,h);h+=4;if(w==0){w=x.C(S,h);h+=4}var m=x.Gk(S,h,4);h+=4;if(w==0)throw"e";
if(w==1){w=x.$Q(S,h);h+=8}var V=O+w,q="".padStart(n,"\t"),i={};if(m=="mvhd"){var c=S[h];if(c!=0)throw"e";
h+=4;i.aed=s(S,h);h+=4;i.a2b=s(S,h);h+=4;i.Vv=s(S,h);h+=4;i.duration=s(S,h);h+=4;i.ayz=s(S,h);h+=4;i.volume=Z(S,h);
h+=2;h+=10;i.ayp=o(S,h);h+=4*9;i.ahH=[];for(var v=0;v<6;v++)i.ahH.push(s(S,h+v*4));h+=4*6;i.anB=s(S,h);
h+=4}else if(m=="tkhd"){var c=S[h];if(c!=0)throw"e";h+=4;i.aed=s(S,h);h+=4;i.a2b=s(S,h);h+=4;i.avP=s(S,h);
h+=4;h+=4;i.duration=s(S,h);h+=4;h+=8;i.U=Z(S,h);h+=2;i.a1$=Z(S,h);h+=2;i.volume=Z(S,h);h+=2;h+=2;i.ayp=o(S,h);
h+=4*9;i.pX=s(S,h)>>>16;h+=4;i.B9=s(S,h)>>>16;h+=4}else if(m=="mdhd"){i.XL=s(S,h);h+=4;i.aed=s(S,h);
h+=4;i.a2b=s(S,h);h+=4;i.Vv=s(S,h);h+=4;i.duration=s(S,h);h+=4;i.lang=Z(S,h);h+=2;i.cI=Z(S,h);h+=2}else if(m=="hdlr"){var z=s(S,h);
h+=4;if(z!=0)throw z;i.no=x.Gk(S,h,4);h+=4;i.aio=x.Gk(S,h,4);h+=4;i.ask=s(S,h);h+=4;i.XL=s(S,h);h+=4;
i.ax8=s(S,h);h+=4;var B=h;while(S[B]!=0)B++;i.name=x.Gk(S,h,B-h);h+=B-h+1}else if(m=="stsd"){var z=s(S,h);
h+=4;if(z!=0)throw z;var t=s(S,h);h+=4;if(t!=1)throw t;var a=s(S,h);h+=4;i.GA=x.Gk(S,h,4);h+=4;if(i.GA=="mett"){i.aj4=x.Gk(S,h,V-h)}else{for(var v=0;
v<6;v++)if(S[h+v]!=0)throw"e";h+=6;i.ali=Z(S,h);h+=2;i.a4g=Z(S,h);h+=2;i.apt=Z(S,h);h+=2;i.azO=s(S,h);
h+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,AVdh,raw ,rle ".split(",").indexOf(i.GA)!=-1){i.a3G=s(S,h);
h+=4;i.awc=s(S,h);h+=4;i.anN=[Z(S,h),Z(S,h+2)];h+=4;i.aj5=[s(S,h)/(1<<16),s(S,h+4)/(1<<16)];h+=8;var I=s(S,h);
h+=4;if(I!=0)throw"e";var N=Z(S,h);h+=2;if(N!=1)throw"e";var J=S[h];h++;i.aBE=x.Gk(S,h,J);h+=31;i.aq0=Z(S,h);
h+=2;var Q=Z(S,h);h+=2;if(Q!=65535)throw"e";if(h!=V)i.a5O=D(S,h,V,n+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(i.GA)!=-1){i.Lx=Z(S,h);
h+=2;i.a1S=Z(S,h);h+=2;var A=Z(S,h);h+=2;if(A!=0&&A!=65534)throw A;var f=Z(S,h);h+=2;if(f!=0)throw f;
i.aah=s(S,h)/(1<<16);h+=4}else if(i.GA=="CTMD"){i.P=S.slice(h,V)}else if(i.GA=="tx3g"||i.GA=="text"||i.GA=="mebx"){}else if(i.GA=="tmcd"){}else if(i.GA=="CRAW"){}else if(i.GA=="sowt"){}else throw JSON.stringify(i.GA)}}else if(m=="stts"||m=="stsz"||m=="stco"||m=="stsc"||m=="ctts"){var z=s(S,h),W=0,j=0;
h+=4;if(z!=0)throw z;if(m=="stsz"){W=s(S,h);h+=4}var C=s(S,h)*(m=="stsc"?3:m=="stts"||m=="ctts"?2:1);
h+=4;i=[];for(var v=0;v<C;v++){if(W!=0)i.push(W);else{i.push(s(S,h));h+=4}}for(var v=0;v<C;v++)j+=i[v]}else if(m=="co64"){var z=s(S,h);
h+=4;if(z!=0)throw z;var C=s(S,h);h+=4;i=[];for(var v=0;v<C;v++){i.push(x.$Q(S,h));h+=8}}else if(m=="moov"||m=="trak"||m=="mdia"||m=="minf"||m=="dinf"||m=="stbl"||m=="uuid"){if(m=="uuid")h+=16;
i=D(S,h,V,n+1)}else if(m=="CMT1"||m=="CMT2"||m=="CMT3"||m=="CMT4"){i=UTIF.decode(S.slice(h,V))}else{i.i=h;
i.B2=w}h=V;if(m=="trak"||m=="free"||m=="uuid"){if(R[m]==null)R[m]=[];R[m].push(i)}else{if(R[m]!=null)throw m;
R[m]=i}}return R}function H(S){var h=new Uint8Array(S);return D(h,0,h.length,0)}function _(S,h,F){var n=u(S,h),R=n.mdia.minf.stbl,s=R.stsc,Z=0,O=0;
for(var v=0;v<s.length;v+=3){var w=(v+3<s.length?s[v+3]:1e4)-s[v],m=O+w*s[v+1];if(O<=F&&F<m){while(O+s[v+1]<=F){Z++;
O+=s[v+1]}break}Z+=w;O=m}var V=R.stco;if(V==null)V=R.co64;var q=V[Z];while(O<F){q+=R.stsz[O];O++}return[q,R.stsz[F]]}function u(S,h){var F=S.moov.trak;
for(var v=0;v<F.length;v++)if(F[v].mdia.hdlr.aio==h)return F[v]}return{x2:H,agT:_,aeG:u}}(),cw=function(){var l,o,D,H,_,u;
function S(){H+=1;return D[H-1]}function h(){H+=2;return x.E_(D,H-2)}function F(){H+=4;return x.zJ(D,H-4)}function n(m){return 512+512*m}function R(m){return 64*m}function s(m,V){var q=[];
while(m!=-2){q.push(m);m=V[m]}return q}function Z(m,V,q){var i=s(m,q==64?u:_);if(V==null)V=i.length*q;
var c=new Uint8Array(V),z=q==64?o:l;for(var v=0;v<i.length;v++){var B=i[v],t=q==64?R(B):n(B);c.set(new Uint8Array(z.buffer,t,Math.min(q,V-v*q)),v*q)}return c}function O(m,V,q,i){var c=D,z=H,W;
D=m;H=V*128;var B=x.pg(D,H,32);H+=64;var t=h();B=B.slice(0,t-2>>>1);var a=S(),I=S(),N=F(),J=F(),Q=F();
for(var v=0;v<20;v++)if(S()!=0)throw v;H+=8;H+=8;var A=F(),f=F();if(F()!=0)throw"e";if(a==1||a==5){if(a==5){o=Z(A,null,512)}W={};
O(m,Q,W,i+1)}else if(a==2){if(f<=4096)W=Z(A,f,64);else W=Z(A,f,512)}else throw a;if(N!=-1)O(m,N,q,i+1);
if(J!=-1)O(m,J,q,i+1);q[B]=W;D=c;H=z}function w(m){D=l=new Uint8Array(m);H=0;var V=[208,207,17,224,161,177,26,225];
for(var v=0;v<8;v++)if(S()!=V[v])throw"e";for(var v=0;v<16;v++)if(S()!=0)throw"e";var q=h(),i=h(),c=h();
if(c!=-2)throw"big endian";var z=h();if(z!=9)throw"not 512";var B=h();if(B!=6)throw"not  64";for(var v=0;
v<10;v++)if(S()!=0)throw"e";var t=F(),a=F();if(F()!=0)throw"e";var I=F();if(I!=4096)throw"e";var N=F(),J=F(),Q=F(),A=F(),f=[];
for(var v=0;v<109;v++){var W=F();if(W==-1)break;f.push(W)}while(Q>=0){H=n(Q);for(var v=0;v<127;v++){var W=F();
if(W==-1)break;f.push(W)}Q=F()}if(f.length!=t)throw"e";_=[];for(var v=0;v<t;v++){H=n(f[v]);for(var C=0;
C<128;C++){var W=F();_.push(W)}}u=[];while(N!=-2){H=n(N);for(var C=0;C<128;C++){var W=F();u.push(W)}N=_[N]}var j=Z(a,null,512),K={};
O(j,0,K,0);return K["Root Entry"]}return{parse:w}}(),p={};p.Y=function(l){return window.devicePixelRatio||1};
p.zU=function(l,o){return(o.a45=="touch"?12:8)*p.Y()/l.w.F};p.vA=function(l,o,D){this.name=l;this.id=o;
this.LO=null;if(D!=null)this.M$=D};p.vA.prototype.Cf=function(l,o,D,H,_){};p.vA.prototype.enable=function(l,o,D,H,_,u){var S=new jJ(k.E.b,!0);
S.data={q:k.L.yx,oD:"default"};o.A(S)};p.vA.prototype.disable=function(l,o,D,H,_){};p.vA.prototype.avk=function(l,o,D,H,_){return!1};
p.vA.prototype.GE=function(l,o,D,H,_){};p.vA.prototype.Il=function(l,o,D,H,_){};p.vA.prototype.XR=function(l,o,D,H,_){};
p.vA.prototype.Jm=function(l,o,D,H,_,u){};p.vA.prototype.p0=function(l,o,D,H,_){};p.vA.prototype.WP=function(l,o,D,H){};
p.vA.prototype.lx=function(l,o,D,H){};p.vA.prototype.j1=function(l,o){};p.vA.prototype.H$=function(l,o){};
p.vA.prototype.P7=function(l){return 0};p.vA.prototype.hy=function(l,o,D,H,_){};p.vA.prototype.Ip=function(l,o){};
p.vA.prototype.iL=function(l,o){return!1};p.vA.prototype.tT=function(l,o){return!1};p.vA.prototype.Iu=function(){return!1};
p.vA.prototype.Pc=function(l,o){return!0};p.vA.prototype.DJ=function(){return null};p.vA.prototype.hn=function(l,o,D){};
p.vA.prototype.atk=function(){return!1};p.vA.prototype.$t=function(l,o,D,H){};p.vA.prototype.track=function(l){var o=new jJ(k.E.yT,!0);
o.data=l;l.FB=!0;this.LO.A(o)};p.vA.Zx=function(l,o,D,H){var _=10*p.Y()*(l.a45=="touch"?2:1),u=l.x+_,S=l.y-_,h=g.vL.oo(o.Q,D.on,H,D.Q,!0),F=g.vL.oo(o._,D.on,H,D._,!0);
while(h.length<F.length)h=" "+h;while(h.length>F.length)F=" "+F;p.vA.Wf(u,S,[cU.get([12,41]).charAt(0)+": "+h,cU.get([12,42]).charAt(0)+": "+F],D)};
p.vA.Wf=function(l,o,D,H){function _(n,m,V,q,i,c){n.beginPath();n.moveTo(m,V+c);n.arcTo(m,V+i,m+c,V+i,c);
n.arcTo(m+q,V+i,m+q,V+i-c,c);n.arcTo(m+q,V,m+q-c,V,c);n.arcTo(m,V,m,V+c,c)}var u=p.Y(),S=Math.round,h=S(11*u),F=p.vA.aiV,R=0;
if(F==null)F=p.vA.aiV=document.createElement("canvas");var n=F.getContext("2d");n.font=h+"px monospace";
for(var v=0;v<D.length;v++)R=Math.max(R,n.measureText(D[v]).width);var s=S(R+12*u),Z=S((D.length*14+5)*u),O=new gt(l,o-Z,s,Z);
if(F.width!=s||F.height!=Z){F.width=s;F.height=Z;n.font=h+"px monospace"}n.clearRect(0,0,s,Z);n.fillStyle="rgba(0,0,3,0.8)";
_(n,0,0,s,Z,S(4*u));n.fill();n.fillStyle="rgba(255,255,255,1)";for(var v=0;v<D.length;v++)n.fillText(D[v],S(6*u),S((v+1)*13*u));
var w=[n.getImageData(0,0,s,Z).data,O.clone()];if(H)H.D.UD=[w];return w};p.vA.aiV=null;p.e5="0";p.lO="1";
p.a6W="2";p.as9="3";p.Ii="5";p.a5V="6";p.aba="7";p._0="8";p.i$="9";p._a="10";p.WA="11";p.LN="12";p.Ze="13";
p.UY="14";p.ax_="15";p.wD="16";p.oH="18";p.jA="19";p.abB="90";p.fV="20";p.Yz="21";p.m9="22";p.ON="23";
p.eh="24";p.MD="25";p.oL="27";p.Ix="31";p.Xy="32";p.akt="33";p.ht="34";p.ak_="35";p.zY="36";p.hF="37";
p.IO="38";p._L="39";p.Ng="40";p.HV="41";p.OR="42";p.fd="43";p.aB5="44";p.arh="45";p.anT="46";p.aut="72";
p.gg="47";p.By="48";p.md="51";p.IE="52";p.Xg="54";p.$F="55";p.jJ="56";p.YX="57";p.aJ="58";p.ap="59";
p.kN="60";p.Nk="61";p.ck="70";p.a8Y="71";p.aee="73";p.rk="100";p.Cu="101";p.D1="102";p.C6="103";p.eK="120";
p.xw="230";p.a74="231";p.zo="232";p.wU="233";p.AM="234";p.tF="235";p.sT="236";p.Nb={};p.Nb[p.ON]="tools/brush";
p.Nb[p.eh]="tools/pencil";p.Nb[p.Ix]="tools/eraser";p.AW={PcTl:p.eh,PbTl:p.ON,moveTool:p.e5,cloneStampTool:p.oL,typeCreateOrEditTool:p.gg,artboardTool:p.ck,marqueeRectTool:p.lO,typeVerticalCreateOrEditTool:p.By,perspectiveCropTool:p.WA,marqueeEllipTool:p.a6W,eyedropperTool:p.UY,eraserTool:p.Ix,pathComponentSelectTool:p.md,lassoTool:p.Ii,backgroundEraserTool:p.Xy,directSelectTool:p.IE,polySelTool:p.a5V,rectangleTool:p.Xg,magneticLassoTool:p.aba,gradientTool:p.ht,quickSelectTool:p._0,bucketTool:p.ak_,ellipseTool:p.$F,magicWandTool:p.i$,blurTool:p.zY,polygonTool:p.jJ,cropTool:p._a,sharpenTool:p.hF,lineTool:p.YX,sliceTool:p.LN,smudgeTool:p.IO,customShapeTool:p.aJ,sliceSelectTool:p.Ze,dodgeTool:p._L,spotHealingBrushTool:p.oH,burnInTool:p.Ng,saturationTool:p.HV,penTool:p.OR,redEyeTool:p.m9,freeformPenTool:p.fd,rulerTool:p.wD,paintbrushTool:p.ON,handTool:p.ap,pencilTool:p.eh,zoomTool:p.Nk,objectSelectTool:p.as9,healingBrushTool:p.jA,patchTool:p.fV,contentAwareMoveTool:p.Yz,colorReplacementBrushTool:p.MD,curvaturePenTool:p.aB5,rotareViewTool:p.kN};
p.hL=function(l,o,D){p.vA.call(this,l,o,D);this.MI={brush:l?j6.iF():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.Fy=null;this.nX=null;this.WE=null;this.CY=null;this.IK=null;this.m2=null;this.fu=null;this.ov=null;
this.uz=null;this.di=null;this.Vy=null;this.YO=null;this.dP=null;this.Oa=1;this.te=!1;this.C2=null;this.caller=null};
p.hL.prototype=new p.vA;p.hL.prototype.tT=function(l,o){return l.gz&&o.W(e_.eo)};p.hL.prototype.Il=function(l,o,D,H,_){if(H.W(e_.zg)){this.m2=new he(_.x,_.y);
var u=this.MI.brush.Brsh.v,S=u.Dmtr.v.val,h=u.Hrdn!=null?u.Hrdn.v.val:-1;this.fu=[S,h,!0,JSON.parse(JSON.stringify(this.MI.brush)),_];
this.Rx(D)}};p.hL.prototype.ue=function(l,o,D){var H=this.fu,_=l.w.F,u=D.x-H[4].x,S=D.y-H[4].y,h=H[0],F=H[1],n=Math.abs(u)>Math.abs(S);
if(n&&H[2]){var R=Math.round(2*u/_);h+=R;D.x-=u-.5*R*_}if(!n&&!H[2]&&F!=-1){var R=Math.round(.25*S);
F+=R;D.y-=S-4*R}h=Math.max(1,h);F=H[1]==-1?-1:Math.max(0,Math.min(100,F));var s=H[3];s.Brsh.v.Dmtr.v.val=h;
if(F!=-1)s.Brsh.v.Hrdn.v.val=F;this.fu=[h,F,n,s,D];var Z=ie.wl(s,o.YQ.b9,_),O=Z[1];O.x=Math.round(this.m2.x-O.Q/2);
O.y=Math.round(this.m2.y-O._/2);l.D.gr=[Z];var w=l.w.vp(this.m2.x,this.m2.y);l.D.hw={xg:[],Ut:[w.x-h/2,w.y,w.x+h/2,w.y]};
if(F!=-1)l.D.hw.Ut.push(w.x+50/_,w.y-F/2,w.x+50/_,w.y+F/2);l.st=!0};p.hL.prototype.p0=function(l,o,D,H,_){if(this.id==p.fV||this.id==p.Yz)return;
if(this.m2){this.m2=null;this.oI(JSON.parse(JSON.stringify(this.fu[3])));l.D.gr=[];l.D.hw=null;l.st=!0;
return}var u=new jJ(k.E.b,!0);u.data={q:k.L.BQ,S:this.id,abv:"showBrushOpts",Ug:new he(_.pF+4,_.g7)};
o.A(u)};p.hL.prototype.oI=function(l){var o=new jJ(k.E.b,!0);o.data={q:k.L.lN,au:is._b,by:l};this.caller.A(o)};
p.hL.Vw=function(l,o,D,H,_,u){if(l==null)l="FrgC";if(o==null)o="norm";if(D==null)D=1;if(_==null)_=!1;
var S={classID:"Fl",Usng:{t:"enum",v:{FlCn:l}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(D*100)}},PrsT:{t:"bool",v:_},Md:{t:"enum",v:{BlnM:b2.De(o)}}};
if(l=="Clr")S.Clr={t:"Objc",v:H};if(l=="contentAware")S.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(l=="Ptrn")S.Ptrn={t:"Objc",v:u};return{vS:"fill",M1:S}};p.hL.prototype.Cf=function(l,o,D,H,_){this.LO=o;
var u=D.q0.length;if(u==0&&!D.o_())return;var S=u!=0?-1-D.q0[0]:D.T[0],h=D.R[S];if(l.q=="fromAction"){var F=l.KL,n=F.M1;
if(n&&n.null&&n.null.v[0]&&n.null.v[0].v.classID=="Path"){var R=D.CS(),s=R[0],Z=R[1],O=s[Z.length==0?0:Z[0]].add.vmsk;
if(F.vS=="fill"){var w=O.KQ(),m=_.Os,V=this.MI,q=m>>16&255,i=m>>8&255,c=m>>0&255;this.vR(D,h,w,q,i,c,Math.round(V.opacity*255),V.bmode,"Fill Path")}else{var z=n&&n.Prs&&n.Prs.v,B=JSON.stringify(this.MI.brush);
if(z)j6.aCX(this.MI.brush,[!1,!0]);for(var t=0;t<1e3;t++){var a=g.n.An(O.d,t,!0);if(a==-1){this.Jm(D,o,_,H,null);
break}var I=O.d[a],N=O.d.slice(a,a+1+I.length),J=g.X.Ja(N,2).s,Q=J.slice(0,8);for(var A=8;A<J.length;
A+=6)Q.push(J[A-2],J[A-1],J[A],J[A+1],J[A+2],J[A+3],J[A+4],J[A+5]);var f={};f.Points=Q;f.TextOnPathTRange=O.Qz.slice(0);
var f=f8.TL(f,2,I.type==3),W=f[0],C=D.w.zp(W[0],W[1]);if(z)C.Nl=0;if(t==0)this.GE(D,o,_,H,C);else this.nX.moveTo(W[0],W[1]);
var j=W.length,K=I.type==0?j+2:j;for(var v=2;v<K;v+=2){C=D.w.zp(W[v%j],W[(v+1)%j]);C.gz=!0;if(z){var $=v/K;
C.Nl=2*Math.min($,1-$)}this.XR(D,o,_,H,C,this.MI.flow)}this.nX.finish();this.Cb(D)}if(z)this.MI.brush=JSON.parse(B)}}else if(F.vS=="fill"){var r=n.PrsT?n.PrsT.v:!1,U=h?h.add.lspf:0;
if(r&&h){h.add.lspf=U==null?1:U|1}var b=(n.Opct?n.Opct.v.val:100)/100,e=n.Md?b2.kt(n.Md.v.BlnM):"norm";
b=Math.round(255*b);var P=n.Usng.v.FlCn;if(P=="contentAware"||P=="aiHeal"){if(D.f==null){alert("Select an area to heal first.");
return}if(!D.o_())return;var L=D.f;if(P=="aiHeal"&&!dG.w5(D))return;this.J5(D);this.Q_(D,0);if(P=="contentAware"){var Y=g.o(L.rect.c()*4);
g.Kl(L.channel,Y,3);this.xJ(D,"sheal",Y,L.rect,L.rect);this.V(D,L.rect);this.finish(D,L.rect)}else{this.Gj=D;
var X=_.PK.ayQ,G=function(){dG.aEg(X==null,X,n.prmt?n.prmt.v:"empty background",D,this.acQ.bind(this),n.au);
var dX=new jJ(k.E.b,!0);dX.data={q:k.L.AV,JS:"Processing ..."};o.A(dX);this.caller=o}.bind(this);if(X)G();
else dG.XW(G)}}else if(P=="Ptrn"){var E=_.hj,T=D.f?D.f.rect.clone():new gt(0,0,D.Q,D._),y=g.o(T.c()*4);
cN.eT(n,y,T,E,new he(0,0));for(var v=0;v<y.length;v+=4)y[v+3]=b;this.Or(D,h,D.f,y,e,[6,48,0,2])}else{var m;
if(P=="FrgC")m=_.Os;else if(P=="BckC")m=_.qg;else if(P=="Blck")m=0;else if(P=="Wht")m=16777215;else if(P=="Gry")m=8421504;
else if(P=="Clr"){var d4=g.G.s3(n.Clr.v);m=d4.$<<16|d4.H<<8|d4.J}var q=m>>16&255,i=m>>8&255,c=m>>0&255;
this.vR(D,h,D.f,q,i,c,b,e,[2,3])}if(r&&h){h.add.lspf=U==null?0:U}}else if(F.vS=="delete"){var dH=S<0?1:h.Ih,L=D.f,i5;
if(L==null)return;var eV=S<0?D.Lx[-S-1]:dH<=0?null:dH==1?h.KQ():h.nN(D).I,T=dH<=0?h.rect:eV.rect,bf=dH<=0?L.rect.$o(T):L.rect.clone();
if(bf.lh())return;var jd=bf.c();if(dH<=0){i5=g.o(jd*4);g.Qo(h.buffer,h.rect,i5,bf)}else{i5=g.o(jd);eV.extend(bf);
g.mB(eV.channel,eV.rect,i5,bf)}if(0<=S&&h.IJ(D,L)){if(dH<=0){g.M5(i5,0);g.Qo(h.qY.EZ,h.qY.oz,i5,bf)}else{i5.fill(255);
g.mB(h.qY.EZ,h.qY.oz,i5,bf)}}else{if(dH<=0){var fD=g.o(i5.length>>2);g.mA(i5,fD,3);g.z.d_(g.c9(L.rect.c()),L.rect,fD,bf,L.channel,bf,1);
g.Kl(fD,i5,3)}else{var eo=g.o(L.rect.c()),q=_.qg>>>16&255,i=_.qg>>8&255,c=_.qg>>0&255;eo.fill(Math.round(g.cn(q,i,c)));
g.z.d_(eo,L.rect,i5,bf,L.channel,bf,1)}}this.ly(D,!0,[2,2],S,dH,bf,i5)}}if(l.q=="stroke"){var iX=l.ayD,L=D.f;
if(L==null){L={rect:h.rect.clone(),channel:g.o(h.rect.c())};g.mA(h.buffer,L.channel,3)}var cK=cN._N(iX),g0=p.OK.a1U(L,Math.ceil(cK[0]),Math.ceil(cK[1])),m=g.G.s3(iX.Clr.v),q=Math.round(m.$),i=Math.round(m.H),c=Math.round(m.J);
this.vR(D,h,g0,q,i,c,Math.round(255*iX.Opct.v.val/100),b2.kt(iX.Md.v.BlnM),[14,9])}if(l.q=="fillBMP"){this.Or(D,h,D.f,l.Nq,l.BI,l.ND)}if(l.q=="draw"){var bW=l.VY,hF=bW.rect;
this.J5(D);var aJ=D.R[D.T[0]];if(l.ak0&&aJ&&aJ.Ih<=0&&D.q0.length==0){hF=p.yZ.aB7(bW,D);aJ.buffer=bW.buffer.slice(0);
aJ.rect=hF.clone()}else{var iR=this.MI.bmode,ex=this.MI.opacity;this.MI.bmode="norm";this.MI.opacity=1;
this.xJ(D,"draw",bW.buffer,hF,hF.$o(new gt(0,0,D.Q,D._)));this.MI.bmode=iR;this.MI.opacity=ex}this.V(D,hF);
D.aH=!0;this.finish(D,hF,l.ND,l.ak0)}};p.hL.prototype.acQ=function(l){var o=l.target.response,D=new Uint8Array(o);
if(this.alg){this.alg=!1;o=fj.FI(x.Fs(D))}else if(D[0]==123){var H=JSON.parse(x.Fs(D)),v=0;console.log(H);
if(H.status=="error"){alert(H.message.prompt[0]);return}var _=H.image_links;if(_==null)_=H.output;var u=_[0],S=new XMLHttpRequest;
S.responseType="arraybuffer";while(!0){var h=new XMLHttpRequest;h.open("HEAD",u,!1);h.send();if(h.status!=404)break;
console.log("not ready");v++}S.open("GET",u,!0);S.onload=this.acQ.bind(this);this.alg=!0;S.send();return}var F=UPNG.decode(o),n=new Uint8Array(UPNG.toRGBA8(F)[0]),R=dG.gR(this.Gj),s=this.Gj;
this.Gj=null;var Z=s.R[s.T[0]],O=s.f,F=g.o(R.c()*4);g.Qo(Z.buffer,Z.rect,F,R);var w=g.o(R.c());g.mB(O.channel,O.rect,w,R);
g.round(w);var m=new Uint32Array(F.buffer),V=new Uint32Array(n.buffer);for(var v=0;v<m.length;v++)if(w[v]==0)V[v]=m[v];
g.a8.hA(n,w,R,null,500);var q=new jJ(k.E.b,!0);q.data={q:k.L.lL,JS:"Processing ..."};this.caller.A(q);
this.xJ(s,"draw",n,R,R);this.V(s,R);this.finish(s,R);dG.Hj("remove")};p.hL.prototype.vR=function(l,o,D,H,_,u,S,h,F){var n=D==null?new gt(0,0,l.Q,l._):D.rect,R=S<<24|u<<16|_<<8|H<<0,s=g.o(n.c()*4);
g.M5(s,R);this.Or(l,o,D,s,h,F)};p.hL.prototype.Or=function(l,o,D,H,_,u){var S=l.q0.length!=0?-1-l.q0[0]:l.T[0],h=S<0?1:o.Ih,F=S<0?l.Lx[-1-S]:h<=0?null:h==1?o.KQ():o.nN(l).I,n=h<=0?o.rect:F.rect,R=D==null?new gt(0,0,l.Q,l._):D.rect,s=D==null?g.QV(l.Q*l._):D.channel;
if(D!=null)g.NY(s,H);var Z=R.c(),O=g.o(Z*4);if(h<=0)g.Qo(o.buffer,o.rect,O,R);else{F.extend(R);O.fill(255);
g.rT(F.as(R),O)}if(0<=S&&D&&o.IJ(l,D)&&h<=0){var w=o.qY.sM,m=o.qY.sM.slice(0);if(h<=0)g.Tg(H,m);else g.Tg(fullc,m);
var V=new fL([2,3],this);V.data={q:"drawtemp",U:l.T[0],wE:h,aqv:w,ai$:m};l.kE(V);this.j1(V.data,l)}else{if(h<=0){var q;
if(o.Ji(0)){q=g.o(R.c());g.mA(O,q,3)}g.z.JM(_,H,R,O,R,R,1);if(o.Ji(0))g.Kl(q,O,3)}else{g.z.JM(_,H,R,O,R,R,1);
var i=g.o(Z);g.Hx(O,i);O=i}this.ly(l,!0,u,S,h,R,O)}};p.hL.prototype.iL=function(l){if(e_.tS.indexOf(l)!=-1)return!0;
return!1};p.hL.prototype.WP=function(l,o,D,H){var _=this.MI.brush,u=H.W(e_.zg),S=u!=this.te,h=p.hL.l8(_,H);
if(h!=null)this.oI(h);if(!H.W(e_.Cm)&&H.R0()!=-1&&this.id!=p.MD){var F=e_.mv(Math.round(this.MI.opacity*100),H.R0())/100;
this.qm({opacity:F},o)}if(this.id==p._0&&S&&l!=null){var n=this.MI.qsmode;if(n==2)n=l.f==null?0:1;else n=2;
this.qm({qsmode:n},o)}this.te=u;if(S){if(l)this.Oa=l.w.F;this.Rx(D,H)}};p.hL.l8=function(l,o){var D=l.Brsh.v.Dmtr.v.val,H=l.Brsh.v.Hrdn!=null?l.Brsh.v.Hrdn.v.val:-1,_=D,u=H,S=o.W(e_.eo);
if(o.W(e_.GW)){if(S)H=25*Math.floor((H-1)/25);else{if(D<=10)D--;else if(D<=50)D=5*Math.floor((D-1)/5);
else if(D<=100)D=10*Math.floor((D-1)/10);else if(D<=200)D=25*Math.floor((D-1)/25);else if(D<=400)D=50*Math.floor((D-1)/50);
else D=100*Math.floor((D-1)/100)}}if(o.W(e_.wp)){if(S)H=25*Math.ceil((H+1)/25);else{if(D<10)D++;else if(D<50)D=5*Math.ceil((D+1)/5);
else if(D<100)D=10*Math.ceil((D+1)/10);else if(D<200)D=25*Math.ceil((D+1)/25);else if(D<400)D=50*Math.ceil((D+1)/50);
else D=100*Math.ceil((D+1)/100)}}D=Math.max(1,D);H=Math.max(0,Math.min(100,H));if(u==-1)H=-1;if(D!=_||H!=u){var h=JSON.parse(JSON.stringify(l));
h.Brsh.v.Dmtr.v.val=D;if(u!=-1)h.Brsh.v.Hrdn.v.val=H;return h}return null};p.hL.prototype.Rx=function(l,o,D,H){if(l.YQ.list.length==0)return;
var _=this.id,u;if((_==p.oL||_==p.jA||_==p.ON||_==p.eh)&&(o!=null&&o.W(e_.zg)||this.MI.alt[0]))u="crosshair";
else{var S=this.Oa,h=this.MI.brush;if((_==p.oL||_==p.jA)&&D&&this.YO&&this.YO.length==this.Vy.c()*4){var F=D.w.vp(H.x,H.y),n=this.agG(F),R=this.YO,s=this.Vy,Z=new gt(s.x+n.x,s.y+n.y,s.Q,s._),O=ie.wl(h,l.YQ.b9,S),w=O[0],m=O[1],V=Math.ceil(m.Q/S),q=new gt(Math.round(F.x-V/2),Math.round(F.y-V/2),V,V),i=g.o(q.c()*4),c,z;
g.Qo(R,Z,i,q);if(S==1){c=i;z=q}else{var B=new de(S,0,0,S,0,0),t=p.cA.in([i,q],B,!0);z=m.clone();z.x=t.rect.x;
z.y=t.rect.y;if(z.kn(t.rect))c=t.buffer;else{c=g.o(z.c()*4);g.Qo(t.buffer,t.rect,c,z)}}var a=this.MI.opacity/255;
for(var v=0;v<c.length;v+=4)c[v+3]=a*(w[v+3]*c[v+3]);ie.aoK(new Uint32Array(c.buffer),z,4278190080,4294967295);
u={Ao:c,hR:z,nu:new he(z.Q/2,z._/2)}}else u=ie.lp(h,l.YQ.b9,S,_==p.MD||_==p.Xy)}var I=new jJ(k.E.b,!0);
I.data={q:k.L.yx,oD:u};if(this.caller)this.caller.A(I)};p.hL.prototype.enable=function(l,o,D,H){this.Fy=D;
this.caller=o;this.oI(JSON.parse(JSON.stringify(this.MI.brush)));if(l&&l.w.F!=0)this.Oa=l.w.F;this.Rx(D,H)};
p.hL.prototype.Ip=function(l,o){if(o==is._b){this.MI.brush=l.YQ.Wj;this.Rx(l)}};p.hL.prototype.hy=function(l,o,D,H,_){for(var u in l)this.MI[u]=l[u];
if(this.MI.alt[0])this.Rx(_,H,D)};p.hL.prototype.asN=function(l){var o=l.q0.length!=0?-1-l.q0[0]:l.T[0],D=l.R[o],H=o<0?1:D.Ih,_=o<0?l.Lx[-o-1]:H<=0?null:H==1?D.KQ():D.nN(l).I,u=_?_.channel:D.buffer,S=(_?_.rect:D.rect).clone();
return[D,H,_,u,S]};p.hL.prototype.J5=function(l,o){this.dP=l.f==null?null:{rect:l.f.rect.clone(),channel:l.f.channel.slice(0)};
var D=this.di,H=this.asN(l),_=H[0],u=H[1],S=H[2];this.di=H[3];this.uz=H[4];var h=new gt(0,0,l.Q,l._),F=h.tB(this.uz);
if((this.T2()&&u<=0||F.kn(this.uz))&&o!=!0){if(D&&D.length==this.di.length){D.set(this.di);this.di=D}else this.di=this.di.slice(0)}else{if(S)S.extend(F);
else _.extend(F)}};p.hL.prototype.Q_=function(l,o){var D=this.asN(l),H=D[1],_=D[3],u=D[4],S=[_,u],h=o!=null?o:this.MI.sfrom;
if(H<=0&&h!=0){S[1]=new gt(0,0,l.Q,l._);S[0]=l.zG(h==1&&l.T[0]!=l.R.length-1?l.T[0]:null).slice(0)}this.Vy=S[1].clone();
this.YO=S[0].slice(0)};p.hL.prototype.FZ=function(l,o,D,H,_,u){if(_.gz&&H.W(e_.zg)&&this.m2==null){if(u)this.DZ=D.Os;
var S=new jJ(k.E.r,!0);S.S=p.UY;S.data={q:"pickhere",alj:_};o.A(S);var h=p.wg.aju(l,!1,!0,_,null,D.Os,this.DZ,1),S=new jJ(k.E.b,!0);
S.data={q:k.L.yx,oD:h};o.A(S);return!0}return!1};p.hL.prototype.c8=function(l,o,D,H,_,u){if(this.id!=p._0&&!l.o_(this.caller)){this.nX=null;
return}if(this.id!=p._0&&this.nX)return;this.J5(l);var S=new gt(0,0,l.Q,l._),h=null;if(u!=null){var F=l.q0.length!=0?-1-l.q0[0]:l.T[0],n=l.R[F],R=F<0?l.Lx[-F-1]:n.Ih<=0?null:n.Ih==1?n.KQ():n.nN(l).I;
h=g.o(S.c()*4);if(R)p.hL.Cq(this.di,this.uz,R.color,h,S);else g.Qo(this.di,this.uz,h,S)}var s=this.MI;
if(this.nX&&this.id==p._0&&s.qsmode!=0&&l.f!=null){}else{var Z=o.Os,O=o.qg;if(this.C2=="erase"){var w=Z;
Z=O;O=w}var m=this.id==p._0?this.uz:S;this.nX=new ie(s.brush,o.YQ.b9,o.YQ.N8,{S$:_,s4:u,a3r:s.smth*50/l.w.F,Dg:this.id==p.eh||s.emode==1,j$:l.j$},Z,O,m,h)}if(this.id==p._0){this.nX.aaX(s.brush,s.qsmode==2?0:16777215)}var V=l.w.vp(H.x,H.y);
if(D.W(e_.eo)&&this.WE){var q=this.WE;this.nX.moveTo(q.x,q.y,H.Nl);this.nX.lineTo(.001*q.x+.999*V.x,.001*q.y+.999*V.y,H.Nl);
this.nX.lineTo(V.x,V.y,H.Nl)}else this.nX.moveTo(V.x,V.y,H.Nl);this.WE=V;this.CY=V.clone();this.IK=new ej(V,l.w.vb)};
p.hL.prototype.pk=function(l,o,D){if(l&&l.w.F!=0&&l.w.F!=this.Oa){this.Oa=l.w.F;this.Rx(D)}};p.hL.prototype.p8=function(l,o,D,H){if(this.nX==null)return;
var _=l.R[l.T[0]],u=l.w.vp(H.x,H.y),S=this.IK.Nn(u,D);if(S.kn(this.WE))return 1;this.nX.lineTo(S.x,S.y,H.Nl);
this.WE=S;if(this.id==p.oL||this.id==p.jA){var h=this.B0(),F=11;h=l.w.zp(u.x-h.x,u.y-h.y);var n=F>>>1,R=new gt(Math.round(h.x)-n,Math.round(h.y)-n,F,F),s=g.o(R.c()*4);
g.M5(16777215);for(var v=0;v<F;v++)s[(v*F+n)*4+3]=s[(F*n+v)*4+3]=255;l.D.UD=[[s,R]];l.st=!0}};p.hL.prototype.lx=function(l,o,D,H){if(D.Bq!=this.id)return;
if(this.id!=p._0||l==null)return;if(l.f==null||l.T[0]!=this.aug){this.aug=l.T[0];this.qm({qsmode:0},o)}};
p.hL.prototype.V=function(l,o){if(l.q0.length!=0){l.st=!0;return}var D=l.R[l.T[0]];if(o==null){o=this.nX.qq();
if(this.T2()&&D.Ih<=0)o=o.$o(this.uz)}var H=D.Ih;if(H==1||H==3){var _=Math.round((H==1?D.KQ():D.nN(l).I).L4*2.4);
o=o.clone();o.ag(_,_)}if(o.lh())return;if(H<=0){D.V(o)}if(H==1){D.KQ().cF=!0;D.C$(l,o)}if(H==3){D.V(o)}l.V(l.root.l3(o,l,l.T[0],!0))};
p.hL.prototype.Jm=function(l,o,D,H,_){if(this.nX==null)return;this.nX.finish();if(this.id!=p.oH&&this.id!=p.jA&&this.id!=p._0)this.Cb(l);
if(this.id==p.oL||this.id==p.jA){l.D.UD=[];l.st=!0}if(this.id==p._0){var u=l.f;l.f=this.dP;var S=new jJ(k.E.r,!0);
S.data={q:"setsel",ND:this.name,f:u};S.S=p.lO;o.A(S);if(this.MI.qsmode==0)this.qm({qsmode:1},o)}else{this.finish(l,this.nX.LT());
this.nX=null;this.ov=null}this.dir=0};p.hL.prototype.qm=function(l,o){for(var D in l)this.MI[D]=l[D];
var H=new jJ(k.E.b,!0);H.data={q:k.L.BQ,S:this.id,C4:l};o.A(H)};p.hL.prototype.T2=function(){var l=this.id;
return l==p._0||l==p.Ix||l==p._L||l==p.Ng||l==p.HV||l==p.m9};p.hL.prototype.finish=function(l,o,D,H,_){var u=l.q0.length!=0?-1-l.q0[0]:l.T[0],S=l.R[u],h=u<0?1:S.Ih,F=u<0?l.Lx[-u-1]:h<=0?null:h==1?S.KQ():S.nN(l).I,n=F?F.rect:S.rect,Z;
if(this.T2()||!n.kn(this.uz)){if(F==null){if(this.T2())S.Hf();else{var R=o.tB(this.uz),s=g.o(R.c()*4);
g.Qo(S.buffer,S.rect,s,R);S.buffer=s;S.rect=R}}else F.Hf();this.V(l,n)}if(h<=0){Z=g.o(o.c()*4);g.Qo(this.di,this.uz,Z,o)}else{Z=g.o(o.c());
Z.fill(F.color);g.mB(this.di,this.uz,Z,o)}this.ly(l,!1,D?D:this.name,u,h,o,Z,H,_)};p.hL.prototype.ly=function(l,o,D,H,_,u,S,h,F){var n=S;
if(_>0){n=g.o(u.c()*4);p.hL.Cq(S,u,0,n,u)}var R=new fL(D,this);R.data=[{U:H,wE:_,hR:u,L0:n}];if(h)R.data.mm=[l.f,null];
if(F)R.data.mm=[this.dP,l.f];l.kE(R);if(o)this.j1(R.data,l);else if(h)l.f=null;p.MW.amu(l,R.data)};p.hL.prototype.H$=function(l,o){this.ahV(l,o,!1)};
p.hL.prototype.j1=function(l,o){this.ahV(l,o,!0)};p.hL.prototype.P7=function(l){return p.MW.P7(l)};p.hL.prototype.ahV=function(l,o,D){if(l.q=="drawtemp"){var H=D?l.ai$:l.aqv,_=o.R[l.U];
_.qY.sM=H;_.HE(o,0,0,o.f);_.V();o.aH=!0}else{p.MW.xv(o,l);if(l.mm){o.f=l.mm[D?1:0];o.RW=!0}}o.V()};p.hL.prototype.Cb=function(l){this.xJ(l,this.C2,this.nX.VA(),this.nX.fZ(),this.nX.qq());
this.V(l)};p.hL.prototype.xJ=function(l,o,D,H,_){var u=this.MI,S=l.R[l.T[0]],h=l.q0.length!=0?l.Lx[l.q0[0]]:S.Ih<=0?null:S.Ih==1?S.KQ():S.nN(l).I,F=g.o(_.c()*4),n,R=S.Ji(0);
if(h==null){if(this.id==p.Yz&&o=="heal")g.Qo(S.buffer,S.rect,F,_);else g.Qo(this.di,this.uz,F,_);if(R){n=g.o(_.c());
g.mA(F,n,3)}}else{p.hL.Cq(this.di,this.uz,h.color,F,_)}if(l.f&&o!="qselect"){var s=_.$o(l.f.rect),Z=g.o(s.c()*4);
if(o=="copy"){var O=g.o(s.c());g.mB(l.f.channel,l.f.rect,O,s);g.Qo(F,_,Z,s);g.z.vx(D,H,Z,s,O,s,0,s,1,!1)}else{g.Qo(D,H,Z,s);
g._c(l.f.channel,l.f.rect,Z,s)}D=Z;H=s}function w(q,g0){var hF=Math.max(g0.x,Math.min(g0.x+g0.Q-1,q.x)),aJ=Math.max(g0.y,Math.min(g0.y+g0._-1,q.y));
return new he(hF,aJ)}if(o=="idraw"||o=="ierase"){if(this.ov==null)this.ov=g.o(this.uz.c());var m=this.MI.samp,V=this.Fy.qg,q=w(this.WE,_),i=m==0?q:this.CY,c=i.x,z=i.y,B=p.ea.Eo(this.di,this.uz,[i,new he(c-2,z),new he(c+2,z),new he(c,z-2),new he(c,z+2)]);
if(m==2)B=[[V>>>16&255,V>>>8&255,V>>>0&255,255]];var t=p.ea.im(F,_,q,B,this.MI.wconf),a=g.o(_.c());g.mB(this.ov,this.uz,a,_);
g.Tc.tB(t,a,a);g.mB(a,_,this.ov,this.uz);g._c(a,_,D,H);o=o.slice(1)}if(o=="erase"&&(p.MW.afu(l)!=16777215||h))o="draw";
if(o=="draw")g.z.JM(u.bmode,D,H,F,_,_,u.opacity);else if(o=="erase"){var I=u.opacity;if(this.id==p.Xy)I=1;
var N=g.o(_.c()*4);g.Qo(D,H,N,_);if(h==null){var J=g.o(_.c());g.mA(N,J,3);g.jd(J,I);g.L5(J);g._c(J,_,F,_)}else{g.M5(N,0,4278190080);
g.z.JM("norm",N,_,F,_,_,I)}}else if(o=="clone"||o=="heal"){var Q=this.B0(),A=this.Vy.clone();A.offset(Q.x,Q.y);
var f=_.clone();f.ag(1,1);var W=g.o(f.c()*4),C=g.o(f.c());g.Qo(D,H,W,f);g.mA(W,C,3);g.M5(W,0);if(h==null){g.Qo(this.YO,A,W,f);
var j=g.o(f.c());g.mA(W,j,3);g.zV(j,C)}else p.hL.Cq(this.YO,A,h.color,W,f);if(o=="clone"){g.Kl(C,W,3);
g.z.JM(u.bmode,W,f,F,_,_,u.opacity)}if(o=="heal"){var K=C.slice(0);g.round(K,20);var $=g.o(f.c()*4);
if(h==null)g.Qo(this.di,this.uz,$,f);else p.hL.Cq(this.di,this.uz,h.color,$,f);g.z.vx(W,f,$,f,K,f,0,f,1,!1);
g.a8.hA($,K,f);g.z.vx($,f,F,_,C,f,0,_,1,!1)}}else if(o=="dodge"||o=="burn"){var W=g.o(_.c()*4),b=1,e=0,P=0,L=0;
g.Qo(D,H,W,_);var r=_.c()*4,U=p.hL.PV;if(this.te){if(o=="dodge")o="burn";else o="dodge"}var Y=u.rng;
if(o=="dodge"){e=[1-b/2,1,1+b][Y];P=[1,1/(1+b),1][Y];L=[b/2,0,0][Y]}if(o=="burn"){e=[1/(1-b/2),1,1-b/2][Y];
P=[1,1+b,1][Y];L=[-(b/2)/(1-b/2),0,0][Y]}for(var v=0;v<r;v+=4){var X=W[v+3];F[v+0]=U(F[v+0],e,P,L,X);
F[v+1]=U(F[v+1],e,P,L,X);F[v+2]=U(F[v+2],e,P,L,X)}}else if(o=="sponge"||o=="redeye"){var W=g.o(_.c()*4),C=g.o(_.c());
g.Qo(D,H,W,_);g.mA(W,C,3);g.Tg(F,W);var G=u.smode;if(this.te)G=1-G;var E=at.ts("hue2");if(o=="sponge")gT.sQ(E,0,[0,[-50,46][G],[6,5][G]]);
else gT.sQ(E,1,{Zz:[265,305,25,55],AZ:[0,-90,-70]});var T=jW.Vz("hue2",E);jW.Ok(T,W,W,_);g.z.vx(W,_,F,_,C,_,0,_,1,!1)}else if(o=="copy")g.Qo(D,H,F,_);
else if(o=="sheal"){var W=g.o(_.c()*4),C=g.o(_.c());g.Qo(D,H,W,_);g.mA(W,C,3);W.fill(0);var y=this.YO,d4=this.Vy;
if(h){y=g.o(d4.c()*4);p.hL.Cq(this.YO,d4,0,y,d4)}else if(S.KQ()&&S.KQ().isEnabled){var dH=S.KQ(),eV=g.o(dH.rect.c()*4);
g.Qo(y,d4,eV,dH.rect);g.Kl(dH.channel,eV,3);y=eV;d4=dH.rect}var bf=g.DA.hA(y,d4,C,W,_);if(bf!=0)g.Qo(y,d4,W,_);
if(this.MI.sfrom==0)g.Qo(W,_,F,_);else{g.Qo(this.di,this.uz,F,_);g.Kl(C,W,3);g.z.JM("norm",W,_,F,_,_,1)}}else if(o=="qselect"){var jd=this.uz,i5=jd.Q,fD=jd._,eo=i5*fD,iX=this.nX.VA(),B=this.di,cK=p.OK.VP,C=cK.Ue;
C.fill(128);for(var v=0;v<eo;v++){var g0=iX[v<<2],bW=iX[(v<<2)+3];if(bW==255&&(g0==0||g0==255))C[v]=g0}C[0]=C[i5-1]=0;
C[(fD>>>1)*i5]=C[(fD>>>1)*i5+i5-1]=0;p.QI.x6(cK,!0,l);l.f={rect:jd,channel:cK.f.slice(0)};l.RW=!0}if(h==null){if(R)g.Kl(n,F,3);
g.Qo(F,_,S.buffer,S.rect)}else p.hL.rr(F,_,h)};p.hL.B0=function(){return null};p.hL.PV=function(l,o,D,H,_){var u=l*(1/255),h=H+o*Math.pow(u,D),F=Math.round(h*_+u*(255-_));
return Math.max(0,Math.min(255,F))};p.hL.Cq=function(l,o,D,H,_){var u=g.o(_.c());u.fill(D);g.mB(l,o,u,_);
H.fill(255);g.rT(u,H)};p.hL.rr=function(l,o,D){var H=g.o(o.c());g.Hx(l,H);g.mB(H,o,D.channel,D.rect)};
p.OK=function(l,o,D){p.vA.call(this,l,o,D);this.MI={binop:0,feat:0,cstr:{vB:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.__=new he(-1,-1);this.FR=new he(-1,-1);this.he="default";this.LO=null;this.$x=!1;this.$w=new iG;
this.Z1=!1;this.bF=null;this.wJ=null;this.Oj=!1;this.oO=!1};p.OK.prototype=new p.vA;p.OK.prototype.DJ=function(){var l=this.MI,o=[l.binop,l.feat],D=l.wconf,H=D.join(",")=="16,true,true";
if(o[0]==0&&o[1]==0&&H)return null;if(!H)o.push(D);return o};p.OK.prototype.hn=function(l,o,D){var H=this.MI;
if(l[0])H.binop=l[0];if(l[1])H.feat=l[1];if(l[2])H.wconf=l[2];this.fK(D)};p.OK.prototype.fK=function(l){var o=new jJ(k.E.b,!0);
o.data={q:k.L.BQ,S:this.id,MI:this.MI};l.A(o)};p.OK.VP={key:""};p.OK.Ye=function(l,o,D){var H={vS:l,M1:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(o)H.M1.T=o;if(D!=null)H.M1.AntA={t:"bool",v:D};return H};p.OK.FD=function(l,o,D){return p.OK.Ye("set",{t:"Objc",v:{classID:l,Top:{t:"UntF",v:{type:"#Pxl",val:o.y}},Left:{t:"UntF",v:{type:"#Pxl",val:o.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:o.y+o._}},Rght:{t:"UntF",v:{type:"#Pxl",val:o.x+o.Q}}}},D)};
p.OK.Rt=function(l,o,D){var H=[],_=[],S="set";for(var v=0;v<l.length;v+=2){H.push(l[v]);_.push(l[v+1])}var u={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:H},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:_}]}}}};
if(o)S=["set","addTo","subtractFrom","interfaceWhite"][o];return p.OK.Ye(S,u,D)};p.OK.aE4=function(l,o,D){var H={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:l.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:l.y}}}},_=p.OK.Ye("set",H);
_.M1.Tlrn={t:"long",v:o[0]};_.M1.AntA={t:"bool",v:o[1]};_.M1.Cntg={t:"bool",v:o[2]};if(D==!0)_.M1.Mrgd={t:"bool",v:D};
return _};p.OK.Hy=function(l){return p.OK.Ye("set",{t:"enum",v:{Ordn:l?"Al":"None"}})};p.OK.fO=function(l,o,D){var H={classID:"null"};
if(l!="border")H.selectionModifyEffectAtCanvasBounds={t:"bool",v:D};var _={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[l[0]];
H[_]={t:"UntF",v:{type:"#Pxl",val:o}};return{vS:l,M1:H}};p.OK.gZ=function(l,o,D){var H={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},_={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:o}}]};
if(D)_.v.push({t:"name",v:{classID:"Lyr",val:D}});var u=[{classID:"null",null:H,T:_},{classID:"null",null:_,T:H},{classID:"null",null:_,From:H},{classID:"null",null:_,With:H}],S=["set","add","subtract","interfaceIconFrameDimmed"];
return{vS:S[l],M1:u[l]}};p.OK.ac4=function(l,o){var D=new jJ(k.E.b,!0);D.data={q:k.L.lN,au:is.a7};if(!o.bX)l.A(D);
D.data={q:k.L.lN,au:is.YY};if(!o.og.oF)l.A(D)};p.OK.prototype.Cf=function(l,o,D,H,_){p.OK.ac4(o,_);this.LO=o;
var u=l.q,S,h,F=new gt(0,0,D.Q,D._),a9=!1,e0,as,eK,gh;if(u=="fromAction"){var n=l.KL,R=n.vS,s=n.M1,Z=s?s.selectionModifyEffectAtCanvasBounds:null,O=Z&&Z.v;
if(R=="colorRange"){if(s.Clrs){var w=s.Clrs.v.Clrs,m=0,V=255,q=["Shdw","Mdtn","Hghl"].indexOf(w),B=.4;
if(q==0)V=60;else if(q==1){m=100;V=150}else m=190;var i=["shadows","midtones","highlights"][q],c=s[i+"LowerLimit"],z=s[i+"UpperLimit"];
if(c)m=c.v;if(z)V=z.v;var t=s[i+"Fuzziness"];if(t)B=t.v/100;S=p.OK.Yo(D,m,V,B,!0)}else{var m=s.Mnm.v,V=s.Mxm.v,B;
m={Ct:m.Lmnc.v,M:m.A.v,J:m.B.v};V={Ct:V.Lmnc.v,M:V.A.v,J:V.B.v};B=s.Fzns.v/200;S=p.OK.Yo(D,m,V,B)}h=[7,8]}else if(R=="inverse"){if(D.f==null){alert("No selection!");
return}S={channel:g.o(F.c()),rect:F};g.mB(D.f.channel,D.f.rect,S.channel,S.rect);g.L5(S.channel);h=[7,2]}else if(R=="expand"){var a=s.By.v.val,I=D.f.rect.clone();
I.ag(a,a);var N=g.o(I.c()),J=g.o(I.c());g.mB(D.f.channel,D.f.rect,J,I);g.style.stroke(J,N,I,a);S={channel:N,rect:I};
h=[7,4]}else if(R=="contract"){var a=s.By.v.val,Q=D.f.rect.clone();Q.ag(1,1);if(!O)Q=Q.$o(F);var J=g.o(Q.c()),A=g.o(J.length);
g.mB(D.f.channel,D.f.rect,J,Q);g.L5(J);g.style.stroke(J,A,Q,a);g.L5(A);S={channel:A,rect:Q};g.Hf(S);
h=[7,5]}else if(R=="border"){var a=s.Wdth.v.val;S=p.OK.a1U(D.f,a/2,a/2);h=[7,9]}else if(R=="feather"||R=="smoothness"){var a=s.Rds.v.val;
S=p.OK.akZ(D.f,a,R=="smoothness",F,O);h=R=="feather"?[7,6]:[19,3,0]}else if(R=="move"){var f=s.T.v,I=D.f.rect.clone();
I.x+=f.Hrzn.v.val;I.y+=f.Vrtc.v.val;S={channel:D.f.channel,rect:I};h=[7,7]}else if(R=="grow"||R=="similar"){var W=this.MI.wconf.slice(0);
if(s.Tlrn)W[0]=s.Tlrn.v;W[2]=R=="grow";var C=D.zG(),j=new gt(0,0,D.Q,D._),K=D.f.rect,$=Math.round(Math.sqrt(K.c())/10),r=g.o(j.c());
g.mB(D.f.channel,K,r,j);var U=[];for(var b=0;b<K._;b+=$)for(var e=(K.c()+b)%$;e<K.Q;e+=$)if(D.f.channel[b*K.Q+e]==255){var P=new he(K.x+e,K.y+b);
U.push(P);if(W[2])g.Tc.tB(p.ea.im(C,j,P,null,W),r,r)}if(!W[2])g.Tc.tB(p.ea.im(C,j,P,p.ea.Eo(C,j,U),W),r,r);
S={channel:r,rect:j};h=R=="grow"?"Grow Selection":"Similar Selection";console.log(s)}else{var L=s.null.v,Y=s.AntA!=null&&s.AntA.v;
function X(ee){var aC=ee.Top.v.val,kQ=ee.Left.v.val;return new gt(kQ,aC,ee.Rght.v.val-kQ,ee.Btom.v.val-aC)}function G(ee){var aC=ee[0].arr,cI=ee[1].arr,cZ={s:[],v:[]};
for(var v=0;v<aC.length;v++){cZ.v.push(v==0?"M":"L");cZ.s.push(aC[v],cI[v])}cZ.v.push("Z");return cZ}var E=["set","addTo","subtractFrom","interfaceWhite"].indexOf(R),T=s.T?s.T.v:null;
if(T&&T.classID=="Elps"){S=this.a9G(p.bh.afH(X(T)));h=[10,4]}else if(T&&T.classID=="Rctn"){var y=X(T);
S={channel:g.o(y.c()),rect:y.clone()};S.channel.fill(255);h=[10,15]}else if(T&&T.classID=="ObSl"){var y=X(T),d4=p.OK.VP,dH=d4.rect,eV=d4.Ue,bf=dH.Q,jd=dH._,i5=y.x-dH.x,fD=i5+y.Q-1,eo=Math.max(i5,Math.min(fD,i5+fD>>>1)),iX=y.y-dH.y,cK=iX+y._-1,g0=Math.max(iX,Math.min(cK,iX+cK>>>1)),bW=Math.max(i5,0),hF=Math.min(fD,bf),aJ=Math.max(iX,0),iR=Math.min(cK,jd);
eV.fill(128);if(0<=iX)for(var e=bW;e<hF;e++)eV[iX*bf+e]=0;if(cK<jd)for(var e=bW;e<hF;e++)eV[cK*bf+e]=0;
if(0<=i5)for(var b=aJ;b<iR;b++)eV[b*bf+i5]=0;if(fD<bf)for(var b=aJ;b<iR;b++)eV[b*bf+fD]=0;var ex=p.Ht.afr,dX=Math.round(y.Q*ex),j3=Math.round(y._*ex);
for(var e=Math.max(0,eo-dX);e<Math.min(bf,eo+dX);e++)eV[g0*bf+e]=255;for(var b=Math.max(0,g0-j3);b<Math.min(jd,g0+j3);
b++)eV[b*bf+eo]=255;p.QI.x6(d4,!0);S={channel:d4.f.slice(0),rect:dH.clone()};h=[10,44]}else if(T&&T.classID=="Plgn"){S=this.a9G(G(T.Pts.v.arr));
h=[10,9]}else if(T&&T.classID=="Pnt"){S=p.ea.a5n(D,new he(T.Hrzn.v.val,T.Vrtc.v.val),[s.Tlrn.v,Y,s.Cntg==null||s.Cntg.v],s.Mrgd?s.Mrgd.v:!1);
h=[10,12]}else if(T&&T.Ordn=="None"){S=null;h=[7,1]}else if(T&&T.Ordn=="Al"){var by=F;if(D.T.length!=0){var i9=D.root.sl(D.T[0]);
while(i9.parent&&i9.parent.parent)i9=i9.parent;if(i9.U.add.artb)by=i9.U.IH()}S={channel:g.o(by.c()),rect:by};
S.channel.fill(255);h=[7,0]}else if(T&&T[0]&&T[0].v.keyID=="WrPt"){var dm={q:"frompath",Jl:[-1,0,0]};
this.Cf(dm,o,D,H,_);return}else{var kh=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(R),jK=R=="set"?T:L,bd=jK[0].v.enum,dm;
if(bd=="Trsp"||bd=="Msk"||bd=="vectorMask"||bd=="Trgt"){var dz=D.T[0];if(jK.length==2)dz=bt.tO(D,jK[1]);
var dw=["Trsp","Msk","vectorMask"].indexOf(bd);if(bd=="Trgt"&&D.R[dz].Ih==1)dw=1;dm={q:"fromlayer",Jl:[dz,dw,kh]}}else{if(jK[0].t=="name"){var dz=0;
for(var v=0;v<D.Lx.length;v++)if(D.Lx[v].name==jK[0].v.val)dz=v;dm={q:"fromchannel",Jl:[-5-dz,0,kh]}}else{var ev=["RGB","Rd","Grn","Bl"].indexOf(bd);
dm={q:"fromchannel",Jl:[-1-ev,0,kh]}}}this.Cf(dm,o,D,H,_);return}if(S){if(!Y)g.round(S.channel);if(s.Fthr)S=p.OK.akZ(S,s.Fthr.v.val,!1);
if(R!="set"&&D.f!=null)S=g.Tc.tL(S,D.f,E)}}if(R=="expand"||R=="contract")if(!O&&!F.contains(S.rect)){var aq=S.rect.$o(F),e3=g.o(aq.c());
g.mB(S.channel,S.rect,e3,aq);S.channel=e3;S.rect=aq}}if(u=="qmask"){a9=!0;var gx=D.Ff(),j=new gt(0,0,D.Q,D._);
if(gx){S=gx.rect.kn(j)&&g.$p(gx.channel,255)?null:{rect:gx.rect.clone(),channel:gx.channel.slice(0)};
e0=gx}else{S=null;as=new d.ow;as.color=0;as.name="Quick Mask";as.Pj=!0;if(D.f){as.rect=D.f.rect.clone();
as.channel=D.f.channel.slice(0)}else{as.rect=j;as.channel=g.o(as.rect.c());as.channel.fill(255)}}h=[6,6,1];
D.aH=!0}if(u=="setsel"){S=l.f;h=l.ND}if(u=="crange"){var m=l.A6,V=l._2;S=p.OK.Yo(D,m,V,l.WN);h=[7,8]}if(u=="fromlayer"||u=="fromchannel"||u=="frompath"){var gc=l.Jl[0],dw=l.Jl[1],E=l.Jl[2];
if(u=="fromlayer"){if(gc==null)gc=D.T[0];var kQ=D.R[gc];if(dw==0){var dn=kQ.rect,bQ=kQ.buffer;if(dn.lh())return;
var iK=g.o(bQ.length>>>2);g.mA(bQ,iK,3);S={channel:iK,rect:dn.clone()}}else{if(kQ.I==null)kQ.C$(D);var cJ=dw==1?kQ.KQ():kQ.I;
S=p.OK.aEA(cJ,F)}this.track(p.OK.gZ(E,["Trsp","Msk"][dw],kQ.getName()))}else if(u=="frompath"){var i1=D.CS(),bu=i1[1],i1=i1[0],d0=!0;
if(gc==null)if(i1.length==0||bu.length==0)return;var gi=i1[bu[0]];if(gc!=null)for(var v=0;v<i1.length;
v++)if(i1[v].wN==gc)gi=i1[v];var cJ=gi.add.vmsk.KQ(),iv=cJ.fZ();if(iv.c()==0)return;var iK=cJ.LE();if(l.Jl[3]!=null)d0=l.Jl[3];
if(!d0){iK=iK.slice(0);g.round(iK)}eK=[JSON.stringify(D.dZ),JSON.stringify(D.Vl)];gh=["[]","[]"];D.dZ=[];
D.Vl=[];S={channel:iK,rect:iv}}else{if(gc==null)gc=p.OK.a5Q(D);S=p.OK.alA(D,gc)}if(E!=0&&D.f)S=g.Tc.tL(S,D.f,E);
h=[14,11]}if(u=="bgrm"){var af=window.locStor.getItem("bgrmt"),eY=120;if(af==null)af=0;var hV=p.OK.ap6.bind([D,o,l,_]),i$=Math.floor((Date.now()-af)/1e3);
if(!eJ.lu()&&i$<eY&&_.PK.jf==null){var cz="Non-Premium users can use it once in "+eY+" seconds ("+(eY-i$)+" sec remain). Watch a short ad and skip waiting?";
hP.XW(hV,cz,"rmbg")}else hV();return}if(S!=null&&g.$p(S.channel,0)){S=null;h=[7,1]}if(S)g.Hf(S);var fk=new fL(h,this);
fk.data={q:"changesel",f:S,Ff:a9,atv:e0,aiU:as,vO:eK,aeX:gh};D.kE(fk);this.j1(fk.data,D)};p.OK.ap6=function(){var l=this[0],o=this[1],D=this[2],H=this[3],_=l.R[l.T[0]],u=_.rect,S=_.buffer,h=1,O="JmQZWPPseb3/.3,4.1'y?\"qvuyai.%d~`LXNF@LBc6?:X=TO0 +*}#~Grqca6\\Z|ZKZObi\\0a$0<2*coeFax*/6)9663.*$\"{OSVHlk=jg_\\,XSSQOxC =o;596djbT$P trspm;kbNUH{Mo{(}uO[Q2Jnomw~qOKJOHPJMC6[>.326}&JA!;|htjb\\h^ R[Vgna/?DCG3Ji&%*#+%(}p+c",w=!1;
while(Math.max(u.Q,u._)>4096){var F=g.hl(S,u);u=F.rect;S=F.G5;h*=2}var n=fj.rU("png"),R=fj.rU("jpg"),s=R.MJ([[S.buffer]],u.Q,u._),Z=new FormData,u=new XMLHttpRequest;
Z.append("image",new Blob([s],{type:"ima"+"ge/j"+"pg"}));O=JSON.parse(e2.eI(O));if(w){u.open("POST","https://ai.zoner.com/api/direct/v1/RemoveBg");
u.responseType="arraybuffer";Z.append("ApiKey","Photopea")}else{if(H.PK.jf)O[2]=H.PK.jf;u.open("POST",O[0]);
u.setRequestHeader(O[1],O[2]);u.setRequestHeader(O[3],O[4])}u.send(Z);alert(cU.get([23,5])+" ...",2800);
u.onload=function(m){var V=m.target.response;if(typeof V=="string"){var q=JSON.parse(V);if(q.message){alert(q.message);
return}var i=q.results[0].entities[0].image;V=fj.FI(i)}var i=n.Zk(V)[0],c=i.jH,z=g.o(c.c());g.Hx(new Uint8Array(i.data),z);
for(var v=0;v<z.length;v++){if(z[v]>250)z[v]=255}if(h!=1){var F=p.cA.R7([z,c],new de(h,0,0,h,0,0));c=F.rect;
z=F.channel}c.x=_.rect.x;c.y=_.rect.y;var B=new jJ(k.E.r,!0);if(D.P==1){B.S=p.wU;B.data={q:d.J3,U3:O[5],ab1:!0};
o.A(B);var t=_.KQ();t.color=0;t.rect=c;t.channel=z;t.Hf();_.C$()}else if(D.P==2){B.S=p.lO;B.data={q:"setsel",f:{channel:z,rect:c},ND:"Select Subject"};
o.A(B)}else throw"e";if(H.PK.jf==null){eJ.event("rembg_Rem"+"ove B"+"G:  "+(eJ.lu()?"Pre"+"mium":"Free"));
window.locStor.setItem("bgrmt",Date.now())}}};p.OK.a5Q=function(l){var o=0;if(l.q0.length!=0)o=-5-l.q0[0];
else if(JSON.stringify(l.w.N)=="[1,1,1]")o=-1;else o=-2-l.w.N.indexOf(1);return o};p.OK.alA=function(l,o){var D,H=new gt(0,0,l.Q,l._);
if(-5<o&o<0){var _=-o-1,u=l.zG(),S=g.o(H.c());if(_==0)g.Hx(u,S);else g.mA(u,S,_-1);D={channel:S,rect:H.clone()}}if(o<-4){D=p.OK.aEA(l.Lx[-o-5],H)}return D};
p.OK.aEA=function(l,o){var D,H;if(l.s3()==0){H=l.fZ().clone();if(H.c()==0)return;D=l.LE()}else{H=o;D=g.o(H.c());
l.C7(H,D)}return{channel:D,rect:H}};p.OK.prototype.tT=function(l){return this.Z1||l.gz&&this.id!=p.Ii};
p.OK.prototype.Vx=function(l,o,D){var H=new jJ(o,!0);H.data=D;l.A(H)};p.OK.prototype.awu=function(l,o){var D=new jJ(k.E.b,!0);
D.data={q:k.L.yx,oD:o};l.A(D)};p.OK.prototype.fZ=function(l,o,D){o=l.f==null||this.$w.hT(1)||this.$w.Fk(1)?o:null;
var H=this.__,_=this.FR;if(D){H.x=Math.max(0,Math.min(l.Q,H.x));H.y=Math.max(0,Math.min(l._,H.y));_.x=Math.max(0,Math.min(l.Q,_.x));
_.y=Math.max(0,Math.min(l._,_.y))}var u=p.F_.ys(H,_,o,!0,this.MI.cstr),S=u[0].x,h=u[0].y,F=new gt(S,h,u[1].x-S,u[1].y-h);
if(D){F.x=Math.max(F.x,0);F.y=Math.max(F.y,0)}return F};p.OK.prototype.GE=function(l,o,D,H,_){this.oO=!0;
if(this.Y6())return;this.LO=o;this.$x=!1;this.$w.GE(H);this.__=l.w.vp(_.x,_.y);this.__=p.JI.KN(l,this.__,D);
if(this.aBM(l,this.__,H)){this.Z1=!0;this.bF=l.f.rect.clone();return}this.GZ(l,D,H,_);l.w._$=new gt};
p.OK.prototype.aBM=function(l,o,D){var H=D.W(e_.eo),_=D.W(e_.zg);if(l.f&&!H&&!_&&this.MI.binop==0)return g.Id(o,l.f.channel,l.f.rect);
return!1};p.OK.prototype.XR=function(l,o,D,H,_){this.LO=o;if(this.Oj)return;var u=l.w.vp(_.x,_.y);if(he.At(this.__,u)*l.w.F>5){this.$x=!0;
this.$w.XR()}if(H.W(e_.RP)){if(this.wJ==null)this.wJ=new he(u.x-this.__.x,u.y-this.__.y);this.__.x=u.x-this.wJ.x;
this.__.y=u.y-this.wJ.y}else this.wJ=null;this.FR=u;if(!this.Z1&&this.id!=p.Ii)this.FR=p.JI.KN(l,this.FR,D);
if(this.aBM(l,this.FR,H))this.awu(o,"move");else this.awu(o,this.he);if(this.Z1){var S=this.bF.clone();
S.x+=this.FR.x-this.__.x;S.y+=this.FR.y-this.__.y;var h=p.JI.l2(l,S,D);l.f.rect.x=Math.round(this.FR.x-this.__.x+this.bF.x+h[0]);
l.f.rect.y=Math.round(this.FR.y-this.__.y+this.bF.y+h[1]);l.RW=!0;p.JI.Jz(l,S,h);return}this.n$(l,D,H,_,o);
if(l.w._$)l.w._$=this.fZ(l,H)};p.OK.prototype.Y6=function(){return!1};p.OK.prototype.Jm=function(l,o,D,H,_,u){var S=this.oO;
this.oO=!1;if(u||!S)return;l.w._$=null;this.FR=l.w.vp(_.x,_.y);this.FR=p.JI.KN(l,this.FR,D);if(this.Z1){this.Z1=!1;
if(l!=null&&l.D.b3){l.D.b3=null;l.st=!0}if(this.FR.kn(this.__)&&this.RK()==0){this.Vx(o,k.E.yT,p.OK.Hy());
return}this.akw(l,this.bF,l.f.rect.clone());return}this.lK(l,D,H,_,o);p.OK.ac4(o,D);this.$w.Jm();this.yU(o)};
p.OK.prototype.akw=function(l,o,D){var H=l.I5();if(H!=null&&H.S==this&&H.data.q=="movesel"){}else{H=new fL([7,7],this);
H.data={q:"movesel",l1:o};l.kE(H)}H.data.Gt=D;this.j1(H.data,l)};p.OK.prototype.Il=function(l,o,D,H,_){this.Oj=!0};
p.OK.prototype.p0=function(l,o,D,H,_){var u=new jJ(k.E.b,!0);u.data={q:k.L.BQ,S:this.id,Og:_,YI:l,Ay:D};
o.A(u);this.Oj=!1};p.OK.prototype.WP=function(l,o,D,H){this.$w.WP(H);if(l!=null&&l.f!=null){var _=H.Dr();
if(_.x!=0||_.y!=0){var u=l.f.rect.clone();u.x+=_.x;u.y+=_.y;this.akw(l,l.f.rect.clone(),u)}}this.yU(o)};
p.OK.prototype.yU=function(l){var o=new jJ(k.E.b,!0);o.data={q:k.L.BQ,S:this.id,aX:this.RK()};l.A(o)};
p.OK.prototype.RK=function(){var l=this.$w.hT(0),o=this.$w.Fk(0);return p.OK.S9(this.MI.binop,l,o)};
p.OK.S9=function(l,o,D){if(o)l=1;if(D)l=2;if(o&&D)l=3;return l};p.OK.prototype.finish=function(l,o,D,H){var _=l.f,u=this.getSelection(l,o,D,H);
if(u==null)u=p.OK.Hy();else{var S=this.MI.feat,h=this.RK();if(S!=0)u.M1.Fthr={t:"UntF",v:{type:"#Pxl",val:S}};
if(h!=0&&h!=4)u.vS=["","addTo","subtractFrom","interfaceWhite",""][h]}this.Vx(this.LO,k.E.yT,u);this.__.pN(-1,-1);
this.FR.pN(-1,-1)};p.OK.prototype.getSelection=function(l,o,D,H){return null};p.OK.prototype.GZ=function(l,o,D,H){};
p.OK.prototype.n$=function(l,o,D,H){};p.OK.prototype.lK=function(l,o,D,H){};p.OK.prototype.H$=function(l,o){var D=l.q;
if(D=="changesel"){var H=o.f;o.f=l.f;l.f=H}if(D=="movesel")o.f.rect=l.l1;if(l.Ff){if(l.atv){o.q0=[o.Lx.length];
o.Lx.push(l.atv)}else{o.Lx.pop();o.q0=[]}}if(l.vO){o.dZ=JSON.parse(l.vO[0]);o.Vl=JSON.parse(l.vO[1])}o.RW=!0};
p.OK.prototype.j1=function(l,o){var D=l.q;if(D=="changesel"){var H=o.f;o.f=l.f;l.f=H}if(D=="movesel")o.f.rect=l.Gt;
if(l.Ff){if(l.aiU){o.q0=[o.Lx.length];o.Lx.push(l.aiU)}else{o.Lx.pop();o.q0=[]}}if(l.vO){o.dZ=JSON.parse(l.aeX[0]);
o.Vl=JSON.parse(l.aeX[1])}o.RW=!0};p.OK.prototype.P7=function(l){return l.q=="changesel"&&l.f?l.f.channel.length:0};
p.OK.prototype.hy=function(l){for(var o in l.MI)this.MI[o]=l.MI[o]};p.OK.prototype.a9G=function(l){var o=g.X.Mg(l.s);
if(o.lh())return null;var D=g.WG(o.Q,o._);D.save();D.beginPath();D.translate(-o.x,-o.y);Typr.U.pathToContext({cmds:l.v,crds:l.s},D);
D.closePath();D.fill();D.restore();var H=g.o(o.c()),_=D.getImageData(0,0,o.Q,o._);g.mA(_.data,H,3);return{rect:o,channel:H}};
p.OK.akZ=function(l,o,D,H,_){if(D)o=Math.round(o*.7);var u=Math.ceil(2.6*o),S=l.rect.clone();S.ag(u,u);
if(H&&!_)S=S.$o(H);var h=g.o(S.c()),F=g.o(h.length);g.mB(l.channel,l.rect,F,S);g.l5.Cc(F,h,S,o);if(D){var n=h.length;
for(var v=0;v<n;v++){var R=(h[v]-128)*o*2.5;h[v]=Math.max(0,Math.min(255,Math.round(128+R)))}}return{channel:h,rect:S}};
p.OK.a1U=function(l,o,D){var H=Math.max(1,Math.ceil(D)),_=l.rect.clone();_.ag(H,H);var u=_.c(),S={channel:g.o(u),rect:_},h=g.o(u);
g.mB(l.channel,l.rect,h,S.rect);if(D!=0)g.style.stroke(h,S.channel,S.rect,D);else g.Tg(h,S.channel);
var F=g.o(u);g.L5(h);if(o!=0)g.style.stroke(h,F,S.rect,o);else g.Tg(h,F);g.Tc.$o(S.channel,F,S.channel);
return S};p.OK.Yo=function(l,o,D,H,_){var u=new gt(0,0,l.Q,l._),S=l.zG();if(l.f){var h=l.f.rect.$o(u),F=g.o(h.c()*4);
g.Qo(S,u,F,h);u=h;S=F}var n=u.c(),R=g.o(n),s=1/H;if(_){if(o>=D)o=D-1;var Z=o*(1-H),O=o,w=D,m=D+(255-D)*H,V=Z==O?0:1/(O-Z),q=w==m?0:1/(m-w);
for(var v=0;v<n;v++){var i=v<<2,c=g.cn(S[i],S[i+1],S[i+2]),z=0;if(c<Z)z=0;else if(c<O)z=(c-Z)*V;else if(c<=w)z=1;
else if(c<=m)z=1-(c-w)*q;else z=0;R[v]=S[i+3]*z*z}}else for(var v=0;v<n;v++){var i=v<<2,B=g.nU(S[i],S[i+1],S[i+2]),z=g.ay0(B,o,D,H,s);
R[v]=S[i+3]*z}return{rect:u,channel:R}};p.oR=function(){p.hL.call(this,[10,18],p.zY,"tools/blur");this.C2="copy"};
p.oR.prototype=new p.hL;p.oR.prototype.GE=function(l,o,D,H,_){var u=H.W(e_.zg)?ie.kO:ie.zY;this.c8(l,D,H,_,this.MI.strn,u);
if(this.nX==null)return;this.Cb(l)};p.oR.prototype.XR=function(l,o,D,H,_){this.pk(l,o,D);if(this.m2)this.ue(l,D,_);
if(this.nX==null)return;if(!_.gz)return;this.p8(l,D,H,_);this.Cb(l)};p.Ml=function(){p.hL.call(this,[10,0],p.ON,"tools/brush");
this.C2="draw"};p.Ml.prototype=new p.hL;p.Ml.prototype.GE=function(l,o,D,H,_){if(this.FZ(l,o,D,H,_,!0))return;
this.c8(l,D,H,_,this.MI.flow);if(this.nX==null)return;this.Cb(l)};p.Ml.prototype.XR=function(l,o,D,H,_){if(this.FZ(l,o,D,H,_))return;
this.pk(l,o,D);if(this.m2)this.ue(l,D,_);if(this.nX==null)return;if(!_.gz)return;this.p8(l,D,H,_);this.Cb(l)};
p.jO=function(){p.hL.call(this,[10,42],p.MD,"tools/crepl");this.C2="idraw";this.MI.bmode="hue "};p.jO.prototype=new p.hL;
p.jO.prototype.GE=function(l,o,D,H,_){if(this.FZ(l,o,D,H,_,!0))return;this.c8(l,D,H,_,this.MI.flow);
if(this.nX==null)return;this.Cb(l)};p.jO.prototype.XR=function(l,o,D,H,_){if(this.FZ(l,o,D,H,_))return;
this.pk(l,o,D);if(this.m2)this.ue(l,D,_);if(this.nX==null)return;if(!_.gz)return;this.p8(l,D,H,_);this.Cb(l)};
p.ig=function(){p.hL.call(this,[10,43],p.m9,"tools/redeye");this.MI.smode=0;this.C2="redeye"};p.ig.prototype=new p.hL;
p.ig.prototype.GE=function(l,o,D,H,_){this.c8(l,D,H,_,this.MI.flow);if(this.nX==null)return;this.Cb(l)};
p.ig.prototype.XR=function(l,o,D,H,_){this.pk(l,o,D);if(this.m2)this.ue(l,D,_);if(this.nX==null)return;
if(!_.gz)return;this.p8(l,D,H,_);this.Cb(l)};p.Fc=function(){p.hL.call(this,[10,38],p.eh,"tools/pencil");
this.C2="draw"};p.Fc.prototype=new p.hL;p.Fc.prototype.GE=function(l,o,D,H,_){if(this.FZ(l,o,D,H,_,!0))return;
this.c8(l,D,H,_,this.MI.flow);if(this.nX==null)return;this.Cb(l)};p.Fc.prototype.XR=function(l,o,D,H,_){if(this.FZ(l,o,D,H,_))return;
this.pk(l,o,D);if(this.m2)this.ue(l,D,_);if(this.nX==null)return;if(!_.gz)return;this.p8(l,D,H,_);this.Cb(l)};
p.pq=function(){p.hL.call(this,[10,22],p.Ng,"tools/burn");this.C2="burn"};p.pq.prototype=new p.hL;p.pq.prototype.GE=function(l,o,D,H,_){this.c8(l,D,H,_,this.MI.expo/Math.E);
if(this.nX==null)return;this.Cb(l)};p.pq.prototype.XR=function(l,o,D,H,_){this.pk(l,o,D);if(this.m2)this.ue(l,D,_);
if(this.nX==null)return;if(!_.gz)return;this.p8(l,D,H,_);this.Cb(l)};p.$a=function(l,o,D){p.hL.call(this,l==""?null:l?l:[10,1],o?o:p.oL,D?D:"tools/clone");
this.C2="clone";this.if=null;this.i=null};p.$a.prototype=new p.hL;p.$a.prototype.GE=function(l,o,D,H,_){var u=this.MI,S=u.alt[0];
if(H.W(e_.zg)||H.W(e_.a$)||S){this.if=l.w.vp(_.x,_.y);this.i=null;if(S)this.qm({alt:[!1]},o);this.Q_(l);
this.Rx(D,H,l,_);return}if(this.if==null){alert(cU.get([15,7,0]));return}this.Rx(D,H);this.c8(l,D,H,_,this.MI.flow);
if(this.nX==null)return;this.i=this.agG(l.w.vp(_.x,_.y));this.Cb(l)};p.$a.prototype.agG=function(l){var o=this.i;
if(o==null||!this.MI.algnd)o=new he(Math.round(l.x-this.if.x),Math.round(l.y-this.if.y));return o};p.$a.prototype.XR=function(l,o,D,H,_){this.pk(l,o,D);
if(this.m2)this.ue(l,D,_);if(this.nX==null){if(this.if!=null)this.Rx(D,H,l,_);return}if(!_.gz||this.if==null)return;
this.p8(l,D,H,_);this.Cb(l)};p.$a.prototype.B0=function(){return this.i};p.q7=function(){p.vA.call(this,[10,53],p.ax_,"tools/csamp");
this.fp=-1;this.eM=null};p.q7.prototype=new p.vA;p.q7.prototype.GE=function(l,o,D,H,_){this.eM=JSON.stringify(l.RX);
var u=l.w.vp(_.x,_.y),S=l.RX,h=1e9,F=-1;for(var v=0;v<S.length;v++){var n=S[v],R=u.x-n.x,s=u.y-n.y,Z=R*R+s*s;
if(Z<h){h=Z;F=v}}var O=15/l.w.F;F=h<O*O?F:-1;if(F==-1){F=S.length;S.push({x:u.x,y:u.y})}else if(H.W(e_.zg)){S.splice(F,1);
F=-1}this.fp=F;l.st=!0};p.q7.prototype.XR=function(l,o,D,H,_){var u=this.fp;if(u!=-1){var S=l.w.vp(_.x,_.y);
l.RX[u].x=S.x;l.RX[u].y=S.y;l.st=!0}};p.q7.prototype.Jm=function(l,o,D,H,_,u){var S=new fL(this.name,this);
S.data={aC:this.eM,zc:JSON.stringify(l.RX)};l.kE(S);this.fp=-1};p.q7.prototype.H$=function(l,o){o.RX=JSON.parse(l.aC)};
p.q7.prototype.j1=function(l,o){o.RX=JSON.parse(l.zc)};p.WS=function(l,o,D){p.vA.call(this,l,o,D);this.Xj={c5:{vB:0,x:0,y:0},Du:!1,Ux:!1};
this.Mi=!1;this.Fm=null;this.cursor=null;this.axv=0;this.vn=null;this.__=null;this.fT=null;this.o$=!1};
p.WS.prototype=new p.vA;p.WS.prototype.Iu=function(){return this.Fm!=null};p.WS.prototype.tT=function(l){return this.__!=null||this.Fm&&this.Fm.a48()};
p.WS.prototype.GE=function(l,o,D,H,_){this.vn=_;var u=l.w.vp(_.x,_.y),S=this.Xj.c5,h=S.vB!=0?S.x/S.y:null,F=this.o$;
this.o$=!1;if(this.Fm){var n=this.Fm.NK(u,l.w.F);if(F&&n==null){this.Fm.clear(l);this.Fm=null}else{this.Fm.GE(l,D,H,u,h,!1,_);
return}}this.__=p.JI.KN(l,u,D)};p.WS.prototype.Js=function(l,o,D){if(D==null)D=[l.x,l.y,l.x+l.Q,l.y,l.x+l.Q,l.y+l._,l.x,l.y+l._];
return new gk(D,!0,!1,this.id==p.WA,!0,o,this.id==p.WA?2:0,this.id==p.WA?4:3)};p.WS.prototype.Rx=function(l){var o=new jJ(k.E.b,!0);
o.data={q:k.L.yx,oD:this.cursor};l.A(o)};p.WS.prototype.enable=function(l,o,D,H){this.LO=o;this.cursor="crosshair";
this.Rx(o);if(l!=null&&this.Fm==null){var _=l.f?{iO:"cropby",a2w:3}:{iO:"config",Xj:this.Xj,atK:!0};
this.hy(_,o,l,H,D);if(l.f==null&&this.Xj.c5.vB==0)this.o$=!0}};p.WS.prototype.XR=function(l,o,D,H,_){this.vn=_;
var u=l.w.vp(_.x,_.y);if(!_.gz){var S="crosshair";if(this.Fm){var h=this.Fm.NK(u,l.w.F,null,_);if(h)S=h;
else S="default"}if(S!=this.cursor){this.cursor=S;this.Rx(o)}}if(this.Fm)this.Fm.XR(l,D,H,u);else if(this.__){if(this.Mi){l.D.T9={v:["M","L"],s:[this.__.x,this.__.y,u.x,u.y]}}else{var F=p.F_.ys(this.__,p.JI.KN(l,u,D),H,!0,this.Xj.c5),n=F[0].x,R=F[0].y,s=this.fT=new gt(n,R,F[1].x-n,F[1].y-R);
l.D.T9=g.X.YZ(s);p.vA.Zx(_,s,l,D)}l.st=!0}};p.WS.a4B=function(l,o,D){var H,_,h,F;if(o<=D){H=o;_=D}else{H=D;
_=o}var u=l-Math.floor((l+Math.PI)/(2*Math.PI))*2*Math.PI;u=Math.abs(u);if(u>Math.PI/2)u=Math.PI-u;var S=H/(_*Math.sin(u)+H*Math.cos(u));
if(o<=D){h=H*S;F=_*S}else{h=_*S;F=H*S}return{pX:h,B9:F}};p.WS.prototype.Jm=function(l,o,D,H,_){this.vn=_;
var u=l.w.vp(_.x,_.y);if(this.Fm==null){var S=this.fT;if(this.__&&(S||this.Mi)){if(this.Mi){var h=this.__,F=u,n=F.x-h.x,R=F.y-h.y;
if(Math.abs(n)<Math.abs(R))F=new he(h.x-R,h.y+n);if(h.x>F.x){var s=h;h=F;F=s}var h=Math.atan2(-(F.y-h.y),F.x-h.x),Z=p.WS.a4B(h,l.Q,l._);
if(this.Xj.Ux){var O=g.X.YZ(new gt(0,0,l.Q,l._)),w=new de;w.rotate(h);g.X.h(O.s,w,O.s);Z=g.X.Mg(O.s);
Z={pX:Z.Q,B9:Z._}}var m=[0,0,Z.pX,0,Z.pX,Z.B9,0,Z.B9],V=new de;V.translate(-Z.pX/2,-Z.B9/2);V.rotate(h);
V.translate(l.Q/2,l._/2);g.X.h(m,V,m);this.Fm=this.Js(S,!1,m);this.Mi=!1}else{var q=this.Xj.c5;this.Fm=this.Js(S,q.vB!=0)}this.Fm.Z$(l,D);
this.fT=null;this.Vx(o,k.E.b,{q:k.L.BQ,S:this.id,_r:!0});this.__=null;l.D.UD=[];l.D.T9=null;l.st=!0}return}this.Fm.Jm(l,D,H,u);
this.Vx(o,k.E.b,{q:k.L.BQ,S:this.id,_r:!0});var m=this.Fm.Ha();if(Math.abs(m[0]-m[4])<2&&Math.abs(m[1]-m[5])<2){this.Gr(l,o,null,H);
return}if(Date.now()-this.axv<200&&this.Fm.cL(u)){this.Xh(l,D);this.Gr(l,o,D,H);return}this.axv=Date.now()};
p.WS.prototype.WP=function(l,o,D,H){var _=this.Fm;if(_==null||this.vn&&this.vn.gz)return;if(H.W(e_.PA)){this.Xh(l,D);
this.Gr(l,o,D,H)}else if(H.W(e_.aZ)){this.Gr(l,o,D,H)}else _.WP(l,D,H)};p.WS.a5I=function(l,o,D){var H={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:l[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:l[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:l[1]+l[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:l[0]+l[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:o!=null?o:0}},Dlt:{t:"bool",v:D!=null?D:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{vS:"crop",M1:H}};p.WS.mE=function(l,o){if(o==null)o=[!0,!0,!0,!0];var D={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][l]}}},H=["Top","Left","Btom","Rght"];
for(var v=0;v<4;v++)D[H[v]]={t:"bool",v:o[v]};return{vS:"trim",M1:D}};p.WS.a7r=function(l,o,D,H){var _={classID:"null"};
if(H!=null){_.Wdth={t:"UntF",v:{type:"#Pxl",val:l}};_.Hght={t:"UntF",v:{type:"#Pxl",val:o}};_.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][H]}}}if(D!=null)_.Rslt={t:"UntF",v:{type:"#Rsl",val:D}};
return{vS:"imageSize",M1:_}};p.WS.abL=function(l,o,D,H){if(D==null)D=4;if(H==null)H=!1;var _=Math.floor(D/3),u=D%3;
return{vS:"canvasSize",M1:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:l}},Hght:{t:"UntF",v:{type:"#Pxl",val:o}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][u]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][_]}},Rltv:{t:"bool",v:H}}}};
p.WS.prototype.Cf=function(l,o,D,H,_){var u=new gt(0,0,D.Q,D._),S=[11,3],h=D.on,F=D.Q/2,n=D._/2,R=1,L,Y,X;
if(l.q=="fromAction"){var s=l.KL,Z=s.vS,O=s.M1,w=D.Q/D._,m=O.Wdth?O.Wdth.v.val:-1,V=O.Hght?O.Hght.v.val:-1,h=O.Rslt?O.Rslt.v.val:null,q=O.Wdth?O.Wdth.v.type:O.Hght?O.Hght.v.type:-1,i=1,c;
if(q=="#Prc"){if(m!=-1)m=Math.round(D.Q*m/100);if(V!=-1)V=Math.round(D._*V/100)}if(Z=="imageSize"){if(O.Intr){if(O.Intr.v.Intp=="Nrst")i=0;
if(O.Intr.v.Intp=="bicubicSharper")i=2;if(m==-1&&V==-1){var z=h/D.on;m=Math.round(D.Q*z);V=Math.round(D._*z)}if(O.CnsP&&O.CnsP.v){if(m==-1)m=Math.round(V*w);
if(V==-1)V=Math.round(m/w)}}else{if(q=="#Prc")h=Math.round(D.on*(D.Q/m));else if(q==-1)h=Math.round(h);
else throw"e";m=D.Q;V=D._}c={q:"imgsize",La:m,aT:V,ay:h,X0:i}}else if(Z=="canvasSize"){if(m==-1)m=D.Q;
if(V==-1)V=D._;if(O.Rltv&&O.Rltv.v==!0){if(O.Wdth)m+=D.Q;if(O.Hght)V+=D._}var B=O.Vrtc?O.Vrtc.v.VrtL:"Cntr",t=O.Hrzn?O.Hrzn.v.HrzL:"Cntr";
c={q:"canvsize",La:m,aT:V,_E:3*["Top","Cntr","Btom"].indexOf(B)+["Left","Cntr","Rght"].indexOf(t)}}else if(Z=="revealAll"){c={q:"revealAll"}}else if(Z=="trim"){var a={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[O.trimBasedOn.v.trimBasedOn];
if(a==null)throw"e";var I=["Top","Left","Btom","Rght"],N=[!0,!0,!0,!0];for(var v=0;v<4;v++)if(O[I[v]])N[v]=O[I[v]].v;
c={q:"trim",aa7:a,Qy:N}}else if(Z=="crop"){var J,Q,A,f;if(O.T){var W=O.T.v,J=Math.round(W.Left.v.val),Q=Math.round(W.Top.v.val),A=Math.round(W.Rght.v.val)-J,f=Math.round(W.Btom.v.val)-Q}else{var C=D.f.rect;
J=C.x;Q=C.y;A=C.Q;f=C._}c={q:"canvsize",La:A,aT:f,i:new he(J,Q),a2E:O.Dlt!=null&&O.Dlt.v}}else console.log(s);
if(c)this.Cf(c,o,D,H,_);return}else if(l.q=="imgsize"){u=new gt(0,0,l.La,l.aT);if(l.ay)h=l.ay;R=l.X0}else if(l.q=="canvsize"){var j=l._E!=null?l._E:0;
u=new gt(0,0,l.La,l.aT);var K=D.Q-l.La,$=D._-l.aT,r=Math.round(K/2),U=Math.round($/2);if(j==1||j==4||j==7)u.x=r;
if(j==2||j==5||j==8)u.x=K;if(j==3||j==4||j==5)u.y=U;if(j==6||j==7||j==8)u.y=$;if(l.i){u.x=l.i.x;u.y=l.i.y}}else if(l.q=="rot"&&(l.P+2*Math.PI)%(Math.PI/2)!=0){var b=g.X.YZ(u).s,e=new de;
e.translate(-F,-n);e.rotate(l.P);e.translate(F,n);g.X.h(b,e,b);u=g.X.Mg(b)}else if(l.q=="rot"&&l.P!=Math.PI&&l.P!=-Math.PI){u=new gt(F-D._/2,n-D.Q/2,D._,D.Q);
if((D.Q+D._&1)==1){F=Math.floor(F);n=Math.floor(n);u=new gt(F-Math.floor(D._/2),n-Math.floor(D.Q/2),D._,D.Q);
if((D.Q&1)==1&&l.P!=-Math.PI/2)u.y--;if((D._&1)==1&&l.P==-Math.PI/2)u.x--}}else if(l.q=="trim"){S=[11,12,0];
var P=D.zG(),C=new gt(0,0,D.Q,D._);u=g.fP(P,C,l.aa7,l.Qy);if(u.lh())u=C}else if(l.q=="revealAll"){S=[11,12,2];
u=D.root.fZ(D,!0)}var G=l.q=="canvsize"&&l.a2E;if(l.q=="imgsize"||l.q=="rot"||l.q=="scl"||G){var E=new de;
if(l.q=="imgsize"){S=[11,10];E.scale(l.La/D.Q,l.aT/D._);X=D.we();for(var v=0;v<X[0].length;v++)X[0][v][1]*=X[0][v][0]==0?E.M:E.me}else if(G){}else{E.translate(-F,-n);
if(l.q=="rot")E.rotate(l.P);if(l.q=="scl")E.scale(l.P.x,l.P.y);E.translate(F,n);S=l.ND}Y=g.t.Lw(E);L=this.d5(D,_,!0,Y,R,G?u:null)}else if(l.q=="auto-align"){if(D.T.length<2){alert("Select two or more layers.");
return}var T=[];for(var v=0;v<D.T.length;v++){var y=D.R[D.T[v]];if(!y.mF()&&y.add.SoLd==null){alert("Unsupported layer selected.");
return}if(y.rect.lh()){alert("Empty layer selected.");return}T.push([y.buffer,y.rect])}var d4=g.ib.Hi(T);
if(d4==null){alert("No similarity found.");return}Y=d4[1];L=this.d5(D,_,!1,d4,R);u=D.root.fZ(D,!0);S=[2,10,1]}var dH=new gt(0,0,D.Q,D._);
if(!u.lh()&&(!u.kn(dH)||L!=null)){var eV=new fL(S,this);eV.data={av5:D.on,ay:h,Kw:L,SC:Y,gm:p.WS.a0I(D,u,dH,L!=null)};
if(X){eV.data.xf=D.we();eV.data.Zu=X}p.WS.aAF(D,eV.data,u);D.kE(eV);this.j1(eV.data,D)}};p.WS.a0I=function(l,o,D,H){if(l.n0.length==0)return null;
var _=JSON.stringify(l.n0),u=JSON.parse(_);p.d8.aoZ(u,o,D,H);u=JSON.stringify(u);return[_,u]};p.WS.prototype.d5=function(l,o,D,H,_,u,S){var h={R:[],w4:null,iT:null};
if(D){for(var v=0;v<l.R.length;v++)h.R.push(v);for(var v=0;v<l.sS.length;v++)h.R.push(-1-v);for(var v=0;
v<l.Lx.length;v++)h.R.push(-1e3-v)}else h.R=l.T.slice(0);h.w4=p.cA.z0(l,h.R,!0);var F=Math.abs(H[3]*H[1])>1e-9;
p.cA.yA(l,o,h.R,h.w4,_,H,null,!0,F?null:u);if(D&&S&&l.o_()){var n=l.R[l.T[0]],R=n.buffer,s=n.rect,Z=F?s.clone():u.clone(),O=g.o(Z.c()*4),w=g.o(s.c());
g.mA(R,w,3);var m=g.o(Z.c());g.mB(w,s,m,Z);g.round(m,255);g.L5(m);var V=g.DA.hA(R,s,m,O,Z);if(V==0){n.rect=Z;
n.buffer=O}}h.iT=p.cA.z0(l,h.R,!0);return h};p.WS.prototype.j1=function(l,o){if(l.ay)o.on=l.ay;if(l.gm)o.n0=JSON.parse(l.gm[1]);
if(l.Kw){p.WS.kR(o,g.t.eP(l.SC));p.cA.yH(o,l.Kw.R,l.Kw.iT);if(l.Zu)o.l0(l.Zu)}p.WS.B6(o,l)};p.WS.prototype.H$=function(l,o){if(l.av5)o.on=l.av5;
if(l.gm)o.n0=JSON.parse(l.gm[0]);p.WS.Qe(o,l);if(l.SB)o.w.i.FW(l.SB);o.apq();if(l.Kw){var D=g.t.eP(l.SC).clone();
D.L5();p.WS.kR(o,D);p.cA.yH(o,l.Kw.R,l.Kw.w4);if(l.xf)o.l0(l.xf)}};p.WS.kR=function(l,o){for(var v=0;
v<l.R.length;v++){var D=l.R[v];if(D.add.artb==null)continue;var H=g.X.YZ(D.IH()).s;g.X.h(H,o,H);var _=g.X.Mg(H);
D.Hh(_)}};p.WS.ec=function(l){var o=new gt,D=0,H=l.root.children.length;for(var v=0;v<H;v++){var _=l.root.children[v].U;
if(_.add.artb==null)continue;o=o.tB(_.IH());D++}var u=new gt(0,0,l.Q,l._);if(!o.lh()&&!u.kn(o))return o;
return null};p.WS.rq=function(l){var o=p.WS.ec(l);if(o)p.WS.Du(l,o,!0);return o};p.WS.Du=function(l,o,D){var H=l.Q,_=l._,u=o.Q,S=o._,h=o.x==0&&o.y==0;
if(h&&H==u&&_==S)return;l.Q=u;l._=S;var F=[];for(var v=0;v<l.R.length;v++)F.push(v);if(!h)p.JI.uN(l,F,null,-o.x,-o.y);
for(var v=0;v<l.R.length;v++){l.R[v].C$(l)}l.apq();if(D){var n=l.w.i,R=l.w.F;n.x+=Math.round((o.x+(u-H)/2)*R);
n.y+=Math.round((o.y+(S-_)/2)*R)}else l.w.i.pN(0,0);if(l.f)l.f.rect.offset(-o.x,-o.y);var s=l.we();for(var Z=0;
Z<s[0].length;Z++)if(s[1][Z]==-1){var O=l.oJ[Z];O[1]-=O[0]==0?o.x:o.y}for(var v=0;v<l.Lx.length;v++)l.Lx[v].rect.offset(-o.x,-o.y)};
p.WS.prototype.hy=function(l,o,D,H,_){if(l.iO=="commit"){this.Xh(D,_);this.Gr(D,o,null,H)}else if(l.iO=="cancel"){this.Gr(D,o,null,H)}var u=null,S=new gt(0,0,D.Q,D._),h=this.Xj.c5;
if(l.iO=="config"){this.Xj=l.Xj;h=this.Xj.c5;if(D==null||!l.atK)return;u=S;if(h.vB==1){var F=h.x/h.y;
if(u.Q/F<u._)u._=Math.round(u.Q/F);else u.Q=Math.round(u._*F)}if(h.vB==2){u.Q=h.x;u._=h.y}u.x=Math.round((D.Q-u.Q)/2);
u.y=Math.round((D._-u._)/2)}if(l.iO=="straighten"){alert("Draw a line in the image.");this.Mi=!0}if(l.iO=="cropby"){if(D==null)return;
var n=l.a2w,u;if(n==0)u=D.root.fZ(D,!0);if(n==1){if(D.T.length==0)alert("No layer is selected.");else{var R=D.root.sl(D.T[0]);
u=R.fZ(D,!0)}}if(n==2){if(D.T.length==0)alert("No layer is selected.");else{u=g.fP(D.zG(),S,0);if(u.lh())u=S.clone()}}if(n==3){if(D.f!=null)u=D.f.rect;
else alert("There is no selection.")}if(n==4){u=new gt(0,0,D.Q,D._)}}if(u&&u.lh())u=null;if(u!=null){this.Fm=this.Js(u,h.vB!=0);
this.Fm.Z$(D,_);this.Vx(o,k.E.b,{q:k.L.BQ,S:this.id,_r:!0})}};p.WS.prototype.lx=function(l,o,D,H){this.Vx(o,k.E.b,{q:k.L.BQ,S:this.id,Yb:[l.Q,l._]})};
p.WS.prototype.Xh=function(l,o){var D=this.Fm.Ha(),H=g.X.Mg(D),_=this.ayM(l,D),u=!1,S=this.Xj,h=S.c5,F=S.Du,n=h.x,R=h.y,O;
if(this.id==p._a&&h.vB==2&&_.c()!=n*R){_=new gt(_.x,_.y,n,R);u=!0}var s=g.t.kb(D,_);s=g.t.L5(s);var Z=!g.t.QP(s),w=Math.abs(Math.atan2(s[3],s[0]))>1e-9,m=new gt(0,0,l.Q,l._);
if(w||Z||u||F||S.Ux)O=this.d5(l,o,!0,s,1,H,S.Ux);if(!w&&!Z&&!u&&_.kn(m))return;var V=new fL(this.name,this);
V.data={Kw:O,SC:s,SB:l.w.i.clone(),gm:p.WS.a0I(l,_,m,!1)};p.WS.aAF(l,V.data,_);l.kE(V);this.j1(V.data,l);
this.track(p.WS.a5I([H.x,H.y,H.Q,H._],null,F))};p.WS.aAF=function(l,o,D){if(D==null)return;o.l1=new gt(0,0,l.Q,l._);
o.Gt=D};p.WS.B6=function(l,o){if(o.Gt==null)return;p.WS.Du(l,o.Gt)};p.WS.Qe=function(l,o){if(o.Gt==null)return;
var D=o.l1.clone();D.offset(-o.Gt.x,-o.Gt.y);p.WS.Du(l,D)};p.WS.prototype.ayM=function(l,o){var D=g.t.kb(o),H=g.t.QP(D),_=g.t.eP(D),u=_.ip,S=_.nl,h=Math.atan2(_.J,_.M);
_.rotate(h);var F=new gt(u,S,_.M,_.me);if(!H){function n(c,v,z){var B=c[v]-c[z],t=c[v+1]-c[z+1];return Math.sqrt(B*B+t*t)}var R=n(o,0,2),s=n(o,4,6),Z=Math.max(R,s),O=n(o,2,4),w=n(o,6,0),m=Math.max(O,w),V=p.WS.wo(o,l.Q/2,l._/2),q,i;
if(isNaN(V)||V==Infinity||V==-Infinity||Math.min(V,1/V)<.1)V=(R+s)/(O+w);if(Z/m>V){q=Z*1;i=q/V}else{i=m*1;
q=i*V}F.Q=q;F._=i}F.x=Math.round(F.x);F.y=Math.round(F.y);F.Q=Math.round(F.Q);F._=Math.round(F._);return F};
p.WS.wo=function(l,o,D){var H=l[0]-o,_=l[1]-D,u=l[2]-o,S=l[3]-D,h=l[6]-o,F=l[7]-D,n=l[4]-o,R=l[5]-D,s=((_-R)*h-(H-n)*F+H*R-_*n)/((S-R)*h-(u-n)*F+u*R-S*n),Z=((_-R)*u-(H-n)*S+H*R-_*n)/((F-R)*u-(h-n)*S+h*R-F*n),O=-((Z*F-_)*(s*S-_)+(Z*h-H)*(s*u-H))/((Z-1)*(s-1));
function w(V){return V*V}var m=Math.sqrt((w(s-1)+w(s*S-_)/O+w(s*u-H)/O)/(w(Z-1)+w(Z*F-_)/O+w(Z*h-H)/O));
if(s==1&&Z==1)m=Math.sqrt((w(S-_)+w(u-H))/(w(F-_)+w(h-H)));return m};p.WS.prototype.Gr=function(l,o,D,H){if(l==null)return;
if(this.Fm)this.Fm.clear(l);this.Fm=null;this.Vx(o,k.E.b,{q:k.L.BQ,S:this.id,_r:!1})};p.WS.prototype.disable=function(l,o,D,H){if(this.Fm)this.Xh(l,D);
this.Gr(l,o,D,H)};p.WS.prototype.Vx=function(l,o,D,H){var _=new jJ(o,!0);_.data=D;if(H)_.S=H;l.A(_)};
p.ajr=function(){p.WS.call(this,[10,2],p._a,"tools/rcrop")};p.ajr.prototype=new p.WS;p.awO=function(){p.WS.call(this,[10,39],p.WA,"tools/pcrop")};
p.awO.prototype=new p.WS;p.yq=function(){p.hL.call(this,[10,21],p._L,"tools/dodge");this.C2="dodge"};
p.yq.prototype=new p.hL;p.yq.prototype.GE=function(l,o,D,H,_){this.c8(l,D,H,_,this.MI.expo/Math.PI);
if(this.nX==null)return;this.Cb(l)};p.yq.prototype.XR=function(l,o,D,H,_){this.pk(l,o,D);if(this.m2)this.ue(l,D,_);
if(this.nX==null)return;if(!_.gz)return;this.p8(l,D,H,_);this.Cb(l)};p.b0=function(){p.hL.call(this,[10,3],p.Ix,"tools/eraser");
this.C2="erase"};p.b0.prototype=new p.hL;p.b0.prototype.GE=function(l,o,D,H,_){this.c8(l,D,H,_,this.MI.flow);
if(this.nX==null)return;this.Cb(l)};p.b0.prototype.XR=function(l,o,D,H,_){this.pk(l,o,D);if(this.m2)this.ue(l,D,_);
if(this.nX==null)return;if(!_.gz)return;var u=this.p8(l,D,H,_);this.Cb(l)};p.P8=function(){p.hL.call(this,[10,45],p.Xy,"tools/beraser");
this.C2="ierase"};p.P8.prototype=new p.hL;p.P8.prototype.GE=function(l,o,D,H,_){if(this.FZ(l,o,D,H,_,!0))return;
this.c8(l,D,H,_,this.MI.flow);if(this.nX==null)return;this.Cb(l)};p.P8.prototype.XR=function(l,o,D,H,_){if(this.FZ(l,o,D,H,_))return;
this.pk(l,o,D);if(this.m2)this.ue(l,D,_);if(this.nX==null)return;if(!_.gz)return;this.p8(l,D,H,_);this.Cb(l)};
p.y2=function(){p.OK.call(this,[10,15],p.lO,"tools/rselect");this.he="crosshair"};p.y2.prototype=new p.OK;
p.y2.prototype.n$=function(l,o,D,H){if(!H.gz||!this.$x)return;var _=this.fZ(l,D,!0);l.D.T9=g.X.YZ(_);
l.st=!0;p.vA.Zx(H,_,l,o)};p.y2.prototype.lK=function(l,o,D,H){l.D.T9=null;l.D.UD=[];l.st=!0;this.finish(l,o,D,H)};
p.y2.prototype.getSelection=function(l,o,D,H){if(this.__.kn(this.FR)||!this.$x)return null;var _=this.fZ(l,D,!0);
if(_.lh())return null;return p.OK.FD("Rctn",_,this.MI.anta)};p.bh=function(){p.OK.call(this,[10,4],p.a6W,"tools/eselect");
this.he="crosshair"};p.bh.prototype=new p.OK;p.bh.prototype.n$=function(l,o,D,H){if(!H.gz||!this.$x)return;
var _=this.fZ(l,D);l.D.T9=p.bh.afH(_);l.st=!0;p.vA.Zx(H,_,l,o)};p.bh.prototype.lK=function(l,o,D,H){l.D.T9=null;
l.D.UD=[];l.st=!0;this.finish(l,o,D,H)};p.bh.prototype.getSelection=function(l,o,D,H){if(this.__.kn(this.FR)||!this.$x)return null;
var _=this.fZ(l,D);if(!_.Q5(new gt(0,0,l.Q,l._)))return null;return p.OK.FD("Elps",_,this.MI.anta)};
p.bh.afH=function(l){var o=l.x,D=l.y,H=l.x+l.Q,_=l.y+l._,u=(o+H)/2,S=(D+_)/2,h=(o-H)/2,F=(D-_)/2,n=.5522848,R={s:[u,S-F],v:["M","C","C","C","C"]};
R.s.push(u+n*h,S-F,u+h,S-n*F,u+h,S);R.s.push(u+h,S+n*F,u+n*h,S+F,u,S+F);R.s.push(u-n*h,S+F,u-h,S+n*F,u-h,S);
R.s.push(u-h,S-n*F,u-n*h,S-F,u,S-F);return R};p.wg=function(l){p.vA.call(this,[10,5],l?p.C6:p.UY,"tools/eyedropper");
this.NH=null;this.awZ=!1;this.DZ=0;this.WT=null;this.Be=1;this.Ef=2;this.aiH=!0;this.EJ=!1};p.wg.prototype=new p.vA;
p.wg.prototype.tT=function(l){return l.gz};p.wg.prototype.enable=function(l,o,D,H,_){p.vA.prototype.enable.call(this,l,o,D,H,_);
this.awZ=_};p.wg.prototype.Cf=function(l,o,D,H,_){if(l.q=="pickhere")this.xT(D,o,_,null,l.alj);if(l.q=="supertool")this.NH=l.S};
p.wg.prototype.GE=function(l,o,D,H,_){var u=this.NH;if(u){u.GE(l,o,D,H,_);return}this.DZ=D.Os;this.WT=_;
var S=this.xT(l,null,D,H,_);this.Rx(l,o,S,_)};p.wg.prototype.XR=function(l,o,D,H,_){var u=this.NH;if(u){u.XR(l,o,D,H,_);
return}var S=this.WT;if(S){var h=_.x-S.x,F=_.y-S.y,n=1,R=new he(S.x+h*n,S.y+F*n),s=this.xT(l,null,D,H,R);
this.Rx(l,o,s,R,new he(h*(1-n),F*(1-n)))}};p.wg.prototype.Rx=function(l,o,D,H,_){var u=this.aiH,S=this.EJ;
if(l.w.F>4)S=!1;if(!S&&!u)return;var h=p.wg.aju(l,S,u,H,_,D,this.DZ,this.Be),F=new jJ(k.E.b,!0);F.data={q:k.L.yx,oD:h};
o.A(F)};p.wg.prototype.Jm=function(l,o,D,H,_,u){var S=this.NH;if(S){S.Jm(l,o,D,H,_);return}this.xT(l,o,D,H,_);
if(this.WT){this.WT=null;if(u)this.xT(l,o,D,H,_,this.DZ);var h=new jJ(k.E.b,!0);h.data={q:k.L.yx,oD:"default"};
o.A(h)}};p.wg.prototype.xT=function(l,o,D,H,_,u){if(u==null)u=p.wg.pl(l,_,this.Be,this.Ef);var S=new jJ(k.E.b);
S.data={q:k.L.lN,au:is.rY,i6:!this.awZ&&H&&H.W(e_.zg)?1:0,P:u};if(o)o.A(S);return u};p.wg.aju=function(l,o,D,H,_,u,S,h){if(_==null)_=new he(0,0);
var F=new gt(0,0,l.Q,l._),n=l.zG(),R=12,s=11,Z=(R*2+1)*s,O=new he(Z/2,Z/2),w=new gt(0,0,Z,Z),m=g.o(w.c()*4),V=l.w.vp(H.x,H.y),q=Math.floor(V.x),i=Math.floor(V.y),c=new de;
c.scale(1/s,1/s);c.translate(q-R,i-R);if(o)g.scale.aou(n,F,c,m,w);var z=(R-3.4)*s,B=(R-1.7)*s,t=R*s;
for(var a=0;a<Z;a++)for(var I=0;I<Z;I++){var N=he.At(new he(I,a),O);if(N>z){if(D){var J=Math.max(0,z-N+1),Q=(a*Z+I)*4,A=m[Q+3]<<24|m[Q]<<16|m[Q+1]<<8|m[Q+2],f=255<<24|(a<t+s*.5?u:S);
if(N>B){J=Math.max(0,B-N+1);A=f;f=4286611584}else if(!o){A=f&16777215}m[Q+0]=(1-J)*(f>>>16&255)+J*(A>>>16&255);
m[Q+1]=(1-J)*(f>>>8&255)+J*(A>>>8&255);m[Q+2]=(1-J)*(f>>>0&255)+J*(A>>>0&255);m[Q+3]=(1-J)*(f>>>24&255)+J*(A>>>24&255)}if(N>t){m[(a*Z+I)*4+3]=Math.max(0,255*(t-N+1))}}}function W(v){var y=v<<2;
m[y]=0;m[y+1]=0;m[y+2]=0;m[y+3]=255}function C(v){var y=v<<2;m[y]=255;m[y+1]=255;m[y+2]=255;m[y+3]=255}var j=h*s+2,K=Z-j>>>1,$=K+j-1;
if(o&&j<Z)for(var v=0;v<j;v++){var r=K*Z+K+v,U=$*Z+K+v,b=(K+v)*Z+K,e=(K+v)*Z+$;W(r);W(U);W(b);W(e);if(v!=0&&v!=j-1){C(r+Z);
C(U-Z);C(b+1);C(e-1)}}if(!o)for(var v=-9;v<=9;v++){if(-3<v&&v<3)continue;var P=Z>>>1,I=P*Z+P+v,a=(P+v)*Z+P;
C(I-Z);W(I);C(I+Z);C(a-1);W(a);C(a+1)}var L=u>>>16&255,Y=u>>>8&255,X=u>>>0&255,G="RGB "+L+","+Y+","+X,E=g.xY([L/255,Y/255,X/255]);
if(l.add.fcmy)G="CMYK "+E.map(function(y){return Math.round(y*100)}).join(",");var T=p.vA.Wf(0,0,["#"+g.Bi(u),G]),F=T[1];
F.y=0;F.x=Z-F.Q>>>1;g.Qo(T[0],F,m,w);return{Ao:m,hR:w,nu:new he(O.x+_.x,O.y+_.y)}};p.wg.pl=function(l,o,D,H,_){if(H==null)H=2;
var u=l.w.vp(o.x,o.y),S,h,F=l.T.length==1&&l.R[l.T[0]].Ih>0&&_!=!0,n=l.q0.length!=0,B=0,t=0,a=0;if(F||n){var R;
if(n)R=l.Lx[l.q0[0]];else{var s=l.R[l.T[0]];R=s.Ih==1?s.KQ():s.acv()}h=R.fZ();if(!h.j0(u))return R.color==0?0:16777215;
S=g.o(h.c()*4);S.fill(255);var Z=R.LE();g.rT(Z,S)}else if(H==0&&l.T.length!=0){var s=l.R[l.T[0]];S=s.buffer;
h=s.rect}else{S=H==2?l.zG():l.zG(l.T[0]);h=new gt(0,0,l.Q,l._)}var O=Math.floor(u.x)-h.x,w=Math.floor(u.y)-h.y,m=(D-1)/2,V=Math.max(0,O-m),q=Math.max(0,w-m),i=Math.min(h.Q,O+m+1),c=Math.min(h._,w+m+1),z=(i-V)*(c-q);
for(var O=V;O<i;O++)for(var w=q;w<c;w++){var v=4*(w*h.Q+O);B+=S[v];t+=S[v+1];a+=S[v+2]}B=Math.round(B/z);
t=Math.round(t/z);a=Math.round(a/z);return B<<16|t<<8|a};p.wg.prototype.hy=function(l){var o=l.MI;this.Be=[1,3,5,11,31][o[0]];
this.Ef=o[1];this.aiH=o[2];this.EJ=o[3]};p.Sp=function(){p.vA.call(this,[10,6],p.ht,"tools/gradient");
this.MI=JSON.parse(cq.Rq[6]);this.MI.Grad=JSON.parse(cq.TB.al0);this.BT=!1;this.Gj=null;this.wu=null};
p.Sp.prototype=new p.vA;p.Sp.prototype.enable=function(l,o,D,H){this.Gj=l;if(this.BT)p.db.pS(l)};p.Sp.prototype.lx=function(l,o,D,H){if(D.Bq!=this.id)return;
this.Gj=l;this.aA0(l,o)};p.Sp.prototype.disable=function(l,o,D,H){this.Gj=null;if(this.BT)p.db.gX(l)};
p.Sp.prototype.aA0=function(l,o){var D=p.db.sI(l);this.BT=D!=null;var H=new jJ(k.E.b,!0);H.data={q:k.L.BQ,S:this.id,au:D?l.R[l.T[0]].add.GdFl:this.MI,n:this.BT};
o.A(H);if(this.BT)p.db.pS(l);else p.db.gX(l)};p.Sp.prototype.hy=function(l){var o=this.Gj;if(this.BT){var D=o.R[o.T[0]],H=D.add.GdFl;
if(H==null)return;this._D=JSON.stringify(H);D.add.GdFl=l.au;D.C$(o);o.V();p.db.aqo(this,o);p.db.pS(o)}else this.MI=l.au};
p.Sp.prototype.GE=function(l,o,D,H,_){if(this.BT){p.db.prototype.GE.call(this,l,o,D,H,_);return}if(!l.o_())return;
this.wu=p.JI.KN(l,l.w.vp(_.x,_.y),D)};p.Sp.prototype.XR=function(l,o,D,H,_){if(this.BT){p.db.prototype.XR.call(this,l,o,D,H,_);
return}if(!this.wu)return;var u=l.w.vp(_.x,_.y);u=p.JI.KN(l,u,D);if(H.W(e_.eo))u=p.Sp.vk(this.wu,u);
l.D.T9={s:[this.wu.x,this.wu.y,u.x,u.y],v:["M","L"]};l.D.ny=[this.wu.x,this.wu.y,u.x,u.y];l.st=!0};p.Sp.prototype.Jm=function(l,o,D,H,_){if(this.BT){p.db.prototype.Jm.call(this,l,o,D,H,_);
return}if(!this.wu)return;var u=l.R[l.T[0]],S=l.w.vp(_.x,_.y);S=p.JI.KN(l,S,D);if(H.W(e_.eo))S=p.Sp.vk(this.wu,S);
if(he.At(this.wu,S)>2){var h;if(l.f)h=l.f.rect;else h=new gt(0,0,l.Q,l._);var F=g.o(h.c()*4),n=this.MI,R=n.Type.v.GrdT,s=n.Opct.v.val,Z=this.wu;
if(R=="Lnr")Z=new he((Z.x+S.x)/2,(Z.y+S.y)/2);g.G.iW(Z,S,h,n);cN.HZ(n,F,h,l,null,null,D.Os,D.qg);var O=F.length,w=s/100;
if(s!=100)for(var v=0;v<O;v+=4)F[v+3]=Math.round(F[v+3]*w);var m=new jJ(k.E.r);m.S=p.Ix;m.data={q:"fillBMP",Nq:F,BI:b2.kt(n.Md.v.BlnM),ND:this.name};
o.A(m)}l.D.T9=null;l.D.ny=[];l.st=!0;this.wu=null};p.Sp.prototype.Cf=function(l,o,D,H,_){function u(s){s=s.v;
var Z=s.Hrzn.v.val,O=s.Vrtc.v.val;return D.w.zp(Z,O)}if(l.q=="fromAction"){var S=this.MI;this.MI=JSON.parse(JSON.stringify(S));
var h=l.KL.M1,F=["Grad","Type","Opct","Dthr"];for(var v=0;v<F.length;v++)if(h[F[v]])this.MI[F[v]]=h[F[v]];
var n=u(h.From),R=u(h.T);this.GE(D,o,_,H,n);this.Jm(D,o,_,H,R);this.MI=S}};p.Sp.vk=function(l,o){if(l.kn(o))return l;
var D=o.x-l.x,H=o.y-l.y,_=Math.abs(D),u=Math.abs(H);if(_>u)u=_/2>u?0:_;if(u>_)_=u/2>_?0:u;_=D>0?_:-_;
u=H>0?u:-u;var S=Math.sqrt(D*D+H*H)/Math.sqrt(_*_+u*u);return new he(l.x+_*S,l.y+u*S)};p.Sp.cK=function(l,o,D,H,_,u,S){var h=new gt(0,0,o,D),F=g.o(o*D*4);
g._x(F,o,D,4);var n=Math.sin(H),R=Math.cos(H),s=g.o(o*D*4);g.G.Wl(l,s,h,[R*1/o,n*1/o,-n*1/D,R*1/D],o/2,D/2,!1,0,_,u);
g.z.JM("norm",s,h,F,h,h,1);if(S)return new ImageData(new Uint8ClampedArray(F.buffer),o,D);else return fj.f1(F.buffer,o,D,null,null,!0)};
p.Sp.amQ=function(l,o,D){var H=JSON.parse(JSON.stringify(l));if(H.Clrs)for(var v=0;v<H.Clrs.v.length;
v++){var _=H.Clrs.v[v].v,u=_.Type.v.Clry;if(u=="UsrS")continue;var S=u=="FrgC"?o:D;_.Type.v.Clry="UsrS";
_.Clr={t:"Objc",v:g.G.XF({$:S>>16&255,H:S>>8&255,J:S&255})}}return H};p.Sp.prototype.j1=function(l,o){p.db.prototype.j1.call(this,l,o)};
p.Sp.prototype.H$=function(l,o){p.db.prototype.H$.call(this,l,o)};p.db=function(){p.vA.call(this,"Vector Gradient",p.aee,"tools/gradient");
this.uT=null;this.tG=null;this.Pp=null;this._D};p.db.prototype=new p.vA;p.db.prototype.enable=function(l,o,D,H){p.db.pS(l)};
p.db.prototype.lx=function(l,o,D,H){if(D.Bq!=this.id)return;p.db.pS(l)};p.db.prototype.disable=function(l,o,D,H){p.db.gX(l)};
p.db.gX=function(l){if(l==null)return;l.D.vG=null;l.D.ny=[];l.st=!0};p.db.prototype.GE=function(l,o,D,H,_){var u=p.db.sI(l);
if(u==null&&a8==0){var S=new jJ(k.E.yT,!0);S.data=p.F_.Vw(1);o.A(S);u=p.db.sI(l)}if(u==null)return;var h=p.JI.KN(l,l.w.vp(_.x,_.y),D),F=p.db.hk(u,h,l),n=l.R[l.T[0]],R=n.add.GdFl,s=n.add.vstl;
this._D=JSON.stringify(a8==0?R:s);this.uT=h;if(F==-1){var Z=u[1];this.tG=[h.x,h.y,h.x+2,h.y];if(Z[0]==1){this.tG.push(h.x,h.y-2);
Z[2][4]=1}this.Pp=1;p.db.axf(l,this.tG)}else{this.tG=u[0];this.Pp=F}};p.db.prototype.XR=function(l,o,D,H,_){var u=l.w.vp(_.x,_.y),S=p.db.sI(l),h=this.Pp;
if(h!=null){var F=this.tG.slice(0);u=p.JI.KN(l,u,D);if(H.W(e_.eo))u=p.Sp.vk(new he(F[0],F[1]),u);var n=u.x-F[h*2],R=u.y-F[h*2+1];
if(h==0){for(var v=0;v<F.length;v+=2){F[v]+=n;F[v+1]+=R}}else{F[h*2]+=n;F[h*2+1]+=R}p.db.axf(l,F,h)}else if(S){var s=p.db.hk(S,u,l),Z=new jJ(k.E.b,!0);
Z.data={q:k.L.yx,oD:s==-1?"default":s==0?"move":"pointer"};o.A(Z)}p.db.pS(l)};p.db.hk=function(l,o,D){var H=6*p.Y()/D.w.F,_=l[0],u=g.X.RS(_,o.x,o.y,H);
if(u==0&&_.length==8&&_[0]==_[6]&&_[1]==_[7])u=3;if(u==-1&&l[1][0]==1)u=g.X.RS(_.slice(0,2),o.x,o.y,2*H);
return u};p.db.prototype.Jm=function(l,o,D,H,_){if(this.tG==null)return;this.tG=null;this.Pp=null;p.db.aqo(this,l)};
p.db.aqo=function(l,o){var D=o.T[0],H=o.R[D],_=H.add.GdFl,u=H.add.vstl,S=JSON.stringify(_?_:u),h=o.history[o.IL];
if(h&&h.S==l&&h.data.dp==D)h.data.Zu=S;else{var F=new fL("Change Gradient",l);F.data={dp:D,xf:l._D,Zu:S};
o.kE(F)}};p.db.axf=function(l,o,D){var H=l.R[l.T[0]],_=H.add.GdFl,u=H.add.vstl,S=H.add.vmsk,h=new he(o[0],o[1]),F=new he(o[2],o[3]),n=new he(o[4],o[5]),R=new he(o[6],o[7]);
if(u){var s=u.h6[0],Z=u.h6[2],O=kO.Yv(h,F,new de),w=kO.eN(s,O,S.d);if(s==1){var m=he.At(n,h)/he.At(F,h);
if(Math.abs(m-1)<.03)m=1;w[2][4]=D==2?m:Z[4];if(D==3){if(he.At(R,h)/he.At(F,h)<.05)R=h.clone();kO.N1(w,h,F,R,w[2][4]);
if(w[2][6]>.999)w[2][6]=.999}else{w[2][5]=Z[5];w[2][6]=Z[6]}}w[1]=u.h6[1];u.h6=w}else{var s=_.Type.v.GrdT,V=H.rect;
if(s=="Lnr"||s=="Rflc"){h.x=(h.x+F.x)/2;h.y=(h.y+F.y)/2}g.G.iW(h,F,V,_);H.C$(l)}l.V()};p.db.sI=function(l){if(l==null||l.T.length==0)return;
var o=l.R[l.T[0]],D=o.add.GdFl,H=o.add.vstl;if(D==null&&H==null)return;if(H==null)H=f9.vm(o.add,l);var _=H.h6;
if(_.length!=4)return;var u=o.add.vmsk?o.add.vmsk.d:g.n.Rd.Rect(0,0,l.Q,l._),S=kO.bT(_,u),u=[0,0,1,0];
if(a8==1&&_[0]==1){var h=_[2][5]*Math.PI/180,F=_[2][6];u.push(0,-1,Math.cos(h)*F,-Math.sin(h)*F)}g.X.h(u,S,u);
return[u,_,S]};p.db.pS=function(l){if(l)p.db.gX(l);var o=p.db.sI(l);if(o==null)return;var D=o[0],H=o[1],_=o[2],u={s:D.slice(0,4),v:["M","L"]};
if(H[0]==1){var S=g.n.Rd.lY(-1,-1,2,2),h=g.X.Ja(S);g.X.h(h.s,_,h.s);g.X.concat(u,h)}l.D.vG=u;l.D.ny=D;
l.st=!0};p.db.prototype.j1=function(l,o){var D=o.R[l.dp],H=a8==0?"GdFl":"vstl";if(l.Zu){D.add[H]=JSON.parse(l.Zu);
D.C$(o);o.V();p.db.gX(o)}};p.db.prototype.H$=function(l,o){var D=o.R[l.dp],H=a8==0?"GdFl":"vstl";if(l.Zu){D.add[H]=JSON.parse(l.xf);
D.C$(o);o.V();p.db.gX(o)}};p.QD=function(){p.vA.call(this,[10,7],p.ap,"tools/hand");this.NN=!1;this.WT=new he(0,0);
this.Wk=null;this.RF=0};p.QD.prototype=new p.vA;p.QD.prototype.hy=function(l,o,D,H){this.NN=l.NN};p.QD.prototype.Cf=function(l,o,D,H,_){var u=l.q;
if(u=="setcls"){D.w.N=l.N;D.st=!0;D.LD=!0}if(u=="scroll"&&!H.W(e_.zg)){if(H.W(e_.Cm))p.QD.Ta(D,D.w.i.x-l.Ek.y,D.w.i.y-l.Ek.x);
else p.QD.Ta(D,D.w.i.x-l.Ek.x,D.w.i.y-l.Ek.y)}};p.QD.prototype.enable=function(l,o,D,H){this.Wk=null;
var _=new jJ(k.E.b,!0);_.data={q:k.L.yx,oD:"grab"};o.A(_);if(l&&Date.now()-this.RF<300){_.type=k.E.r;
_.S=p.Nk;_.data={q:"adapt",P:"fitscr"};o.A(_)}this.RF=Date.now()};p.QD.prototype.GE=function(l,o,D,H,_){this.Wk=l.w.i.clone();
this.WT.pN(_.x,_.y)};p.QD.prototype.XR=function(l,o,D,H,_){if(!_.gz)return;if(this.Wk==null)this.GE(l,o,D,H,_);
var u=this.NN?o.GX:[l];for(var v=0;v<u.length;v++)p.QD.Ta(u[v],this.Wk.x+(_.x-this.WT.x),this.Wk.y+(_.y-this.WT.y))};
p.QD.prototype.Jm=function(l,o,D,H,_){this.Wk=null};p.QD.Ta=function(l,o,D){var H=l.w.F,_=l.w.T3,u=_.Q,S=_._,h=l.Q*H,F=l._*H,n=h<u&&F<S,R=u/2+h/2-64,s=S/2+F/2-64;
l.w.i.pN(Math.max(-R,Math.min(R,o)),Math.max(-s,Math.min(s,D)));l.LD=!0};p.m4=function(){p.vA.call(this,[10,47],p.kN,"tools/rview");
this.WT=new he(0,0);this.WE=null;this.x1=null;this.RF=0};p.m4.prototype=new p.vA;p.m4.prototype.enable=function(l,o,D,H){this.Wk=null;
var _=new jJ(k.E.b,!0);_.data={q:k.L.yx,oD:"grab"};o.A(_);if(l&&Date.now()-this.RF<300&&l.w.vb!=0){l.w.vb=0;
l.st=!0}this.RF=Date.now();if(l)this.w7(l,o)};p.m4.prototype.disable=function(l,o,D,H,_){if(l)this.w7(l,o)};
p.m4.prototype.$t=function(l,o,D,H){if(l)this.w7(l,o)};p.m4.prototype.GE=function(l,o,D,H,_){this.WT.pN(_.x,_.y);
var u=l.w;this.WE=u.vp(u.T3.Q/2,u.T3._/2);this.x1=u.hP();var S=u.vp(u.T3.Q/2,u.T3._/2),h=Math.min(u.T3.Q,u.T3._)*.35/u.F,F=h*.2,n=S.x,R=S.y;
l.D.T9={v:"M L L L L L".split(" "),s:[n,R,n,R-h,n+F,R,n,R+h,n-F,R,n,R-h]};l.st=!0};p.m4.prototype.ajD=function(l){var o=l.w,D=o.vp(o.T3.Q/2,o.T3._/2);
l.D.T9={v:["M","L"],s:[D.x,D.y,D.x,D.y-200]}};p.m4.prototype.XR=function(l,o,D,H,_){if(!_.gz)return;
var u=l.w,S=this.WE,h=this.WT,F=new he(u.T3.Q/2,u.T3._/2),n=Math.atan2(_.y-F.y,_.x-F.x),R=Math.atan2(h.y-F.y,h.x-F.x),s=Math.atan2(this.x1.J,this.x1.M),Z=n-R,O=Math.PI/4;
if(H.W(e_.eo)){Z=s+O*Math.round((Z-s)/O)}this.asD(l,o,this.x1.clone(),S,Z)};p.m4.prototype.Jm=function(l,o,D,H,_){l.D.T9=null;
l.st=!0};p.m4.prototype.hy=function(l,o,D,H){this.asD(D,o,null,null,l.$M-D.w.vb);D.w.vb=l.$M};p.m4.prototype.asD=function(l,o,D,H,_){var u=l.w;
if(D==null)D=u.hP();if(H==null)H=u.vp(u.T3.Q/2,u.T3._/2);D.translate(-H.x,-H.y);D.rotate(_);D.translate(H.x,H.y);
u.aA5(D);if(l.Q*u.F<u.T3.Q&&l._*u.F<u.T3._)u.i.pN(0,0);l.st=!0;this.w7(l,o)};p.m4.prototype.w7=function(l,o){var D=new jJ(k.E.b,!0);
D.data={q:k.L.BQ,S:this.id,$M:l.w.vb};o.A(D)};p.wF=function(){p.$a.call(this,[10,25],p.jA,"tools/hbrush")};
p.wF.prototype=new p.$a("");p.wF.prototype.Jm=function(l,o,D,H,_){if(this.nX==null)return;this.xJ(l,"heal",this.nX.VA(),this.nX.fZ(),this.nX.LT());
this.V(l,this.nX.LT());p.hL.prototype.Jm.call(this,l,o,D,H,_);if(!this.MI.algnd)this.i=null};p.lX=function(l){p.vA.call(this,l?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],l?p.By:p.gg,l?"tools/vtype":"tools/htype");
this.SK=[];this.Ay=null;this.caller=null;this.Nd=1;this.yg=0;this.qv=null;this.ah2=0;this.k3=0;this.axp=null;
this.j2=null;this.NL=null;this.OX=null;this.kG=null;this.$D=null;this.a1E=null;this.Ty=null;this.Fm=null;
this.cZ=null;this.aCy=null;this.hB=!1;this.G8=!1;this.iH=!1;this.Eu=null;this.IN=null;this.agM=null;
this.eW=!1;this.y1=!1;this.oq=-1;this.QN=-1;this.dB=document.createElement("textarea");this.dB.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.dB.addEventListener("input",this.dY.bind(this),!1);this.dB.addEventListener("keydown",this.a7x.bind(this),!1);
this.dB.addEventListener("keyup",this.akg.bind(this),!1)};p.lX.prototype=new p.vA;p.lX.prototype.tT=function(l){return l.gz};
p.lX.prototype.lx=function(l,o,D,H){if(this.NL!=null||this.id==p.By)return;this.caller=o;var _=this.aCQ(l);
if(_.length!=0){var u=null,S=[],h=[];for(var v=0;v<_.length;v++){var F=l.R[_[v]],n=F.add.TySh,R=0,s=fX.PZ(n.PF).length-2,Z=fX.eF(n.PF,R,s);
fX.hE(Z,n.h.jX());if(Z.i7.Font!=null)Z.i7.Font=Z.LJ[Z.i7.Font].Name;u=Z.LJ;S.push(Z.i7);h.push(Z.z5)}var Z={LJ:u,i7:fX.GM(S),z5:fX.GM(h)};
if(Z.i7.Font!=null)fX.LQ(Z,Z.i7.Font);this.aiC(o,Z,n)}};p.lX.prototype.aCQ=function(l){var o=[];for(var v=0;
v<l.T.length;v++)if(l.R[l.T[v]]&&l.R[l.T[v]].add.TySh)o.push(l.T[v]);return o};p.lX.prototype.Cf=function(l,o,D,H,_){var u=l.q=="insertGlyph",S=l.q=="copyText",h=l.q=="selectAll";
if((u||S||l.q=="insertText"||h)&&this.NL){var F=u?String.fromCharCode(65533):l.P,n=this.dB,R=n.value,s=n.selectionStart,Z=n.selectionEnd;
if(S){iT.ah(new Blob([R.slice(s,Z)],{type:"text/plain"}))}else if(h){this.oq=n.selectionStart=0;this.QN=n.selectionEnd=R.length;
this.$B(D);n.focus()}else{n.value=R.slice(0,s)+F+R.slice(Z);n.selectionStart=n.selectionEnd=s+F.length;
this.dY(null,u?l.P:null);n.focus()}}if(l.q=="updateStyles"){if(this.NL==null){var O=this.aCQ(D),w=!1;
if(O.length!=0){this.CE(D,o,_,O);for(var v=0;v<O.length;v++){var m=D.R[O[v]],V=m.add.TySh;fX.AH(V,this.Nd);
V.CQ.VAlign.v=this.yg;this.NL=m;var q=fX.PZ(V.PF);this.oq=0;this.QN=q.length-1;fX.fn(V.PF,this.oq,this.QN,this.HQ(_,V));
var i=this.cV(D,_);if(i==!1)w=!0}if(w){this.eW=!0;return}this.nn(D,o,!0)}return}this.bU(_)}if(l.q.startsWith("warp")){var c=this.y1;
if(l.q=="warp"||l.q=="warpCancel"){if(this.NL==null)return;if(l.q=="warp")this.NL.add.TySh.oG=l.Y9;else this.NL.add.TySh.oG=this.a1E;
this.cV(D,_);if(!c)this.$B(D)}if(l.q!="warp")this.dB.focus();if((l.q=="warpConfirm"||l.q=="warpCancel")&&c){this.y1=!1;
if(l.q=="warpConfirm")this.nn(D,o);else this.nw(D,o)}}if(l.q=="editCurr"){if(_.Bq!=p.gg){this.qv=_.Bq;
var z=new jJ(k.E.b,!0);z.data={q:k.L.BC,S:p.gg};o.A(z)}if(this.NL!=null)this.disable(D,o,_,H);this.Ay=_;
this.caller=o;this.CE(D,o,_,[l.LX]);var q=fX.PZ(this.NL.add.TySh.PF);this.oq=0;this.QN=q.length-1;this.$B(D);
this.sr();this.dB.focus()}if(l.q=="switchPntPrgr"){if(this.NL)return;var m=D.R[D.T[0]],V=m.add.TySh,B=V.h.jX(),t=m.pZ(),a=JSON.parse(JSON.stringify(V.PF)),I=fX.I8(a),N=I==1?fX.IU(a):[0,0,Math.round(t.Q*1.05/B),Math.round(t._*1.25/B)],J=fX.eF(a,0,0),Q=J.LJ[J.i7.Font].Name,A=_.uh.DD(Q),f=[0,N[2],N[2]/2][J.z5.Justification%3],W=(A?f8.eA(A):.8)*J.i7.FontSize;
fX.aM(a,1-I);if(I==0){console.log(f8.eA(A,Q,J.i7));f=-f;W=-W;fX.nP(a,[0,0,N[2],N[3]])}var C=new de(1,0,0,1,f,W);
C.concat(V.h);this.Cf({S3:D.T[0],q:"newED",gP:a,h:C,azG:[16,3,I==1?0:1]},o,D,H,_)}if(l.q=="newED"){var m=D.R[l.S3],V=m.add.TySh,j=this.dW(D,[l.S3]);
V.PF=l.gP;if(l.h)V.h=l.h;if(dr.Yr(V,_.uh,o)){dr.cV(m,_.uh,D);D.V()}else D.hU=!0;var K=new fL(l.azG?l.azG:this.name,this);
K.data={ZP:j,L7:this.dW(D,[l.S3])};D.kE(K)}if(l.q=="fromAction"){var $=l.KL.M1.Usng.v,r=$.TxtC.v,U=[];
for(var v=0;v<2;v++){var b=r[v==0?"Hrzn":"Vrtc"].v,F=b.val;if(b.type=="#Prc")F=(v==0?D.Q:D._)*(F/100);
U[v]=F}this.bB(D,o,_,H,D.w.zp(U[0],U[1]),!0);var m=D.R[D.T[0]],V=m.add.TySh,e=V.PF,R=fX.PZ(e);fX.uq(e,0,R.length-1);
fX.yQ(e,0,$.Txt.v.replace(/\r/g,"\n"));R=fX.PZ(e);for(var I=0;I<2;I++){var P=$[I==0?"Txtt":"paragraphStyleRange"].v;
for(var v=0;v<P.length;v++){var L=P[v].v,s=L.From.v,Z=Math.min(L.T.v-1,R.length-1);L=L[I==0?"TxtS":"paragraphStyle"].v;
var Y=fX.eF(e,s,Z),X=I==0?Y.i7:Y.z5;for(var G in L){var E=L[G].v;if(G=="Sz")X.FontSize=Math.round(E.val*(E.type=="#Pnt"?D.on/72:1));
else if(G=="fontPostScriptName")fX.LQ(Y,E);else if(G=="Algn")X.Justification={Left:1,Cntr:2}[E.Alg];
else if(G=="leading")X.Leading=L[G].v.val;else if(G=="baselineShift")X.BaselineShift=L[G].v.val;else if(G=="autoLeading")X.AutoLeading=L[G].v;
else if(G=="syntheticBold")X.FauxBold=L[G].v;else if(G=="syntheticItalic")X.FauxItalic=L[G].v;else if(G=="Trck")X.Tracking=L[G].v;
else if(G=="verticalScale")X.VerticalScale=L[G].v/100;else if(G=="horizontalScale")X.HorizontalScale=L[G].v/100;
else if(G=="Clr")X.FillColor={Type:1,Values:[1,E.Rd.v/255,E.Grn.v/255,E.Bl.v/255]}}fX.fn(e,s,Z,Y)}}if(dr.XV(D,_.uh,o))dr.cV(m,_.uh,D);
else D.hU=!0;D.V();this.nn(D,o)}};p.lX.prototype.bU=function(l){var o=Math.min(this.oq,this.QN),D=Math.max(this.oq,this.QN),H=this.NL.add.TySh;
fX.AH(H,this.Nd);H.CQ.VAlign.v=this.yg;var _=this.HQ(l,H);fX.fn(H.PF,o,D-1,_);var u=this.caller.W1(),S=this.cV(u,l);
if(S)this.$B(u);if(document.activeElement.tagName.toLowerCase()!="input")this.dB.focus()};p.lX.prototype.iL=function(l){return this.SK.indexOf(l)!=-1};
p.lX.prototype.enable=function(l,o,D,H){var _=this.dB;o.Z.appendChild(_);this.Ty="default";this.Rx(o)};
p.lX.prototype.Iu=function(){return this.NL!=null};p.lX.Ts=function(l,o){var D=new he(o.x,o.y);for(var v=l.R.length-1;
v>=0;v--){var H=l.R[v],_=H.add.TySh;if(_&&l.auq(v)){var u=D,S=H.rect;if(a8==1){var h=_.h.clone();h.L5();
u=h.wq(D);S=H.rD.L2}if(!S.j0(u))continue;var F=H.Ji(31);return F?-2:v}}return-1};p.lX.prototype.GE=function(l,o,D,H,_){this.Ay=D;
this.caller=o;var u=l.w.vp(_.x,_.y),S=this.NL==null;if(S){var h=p.lX.Ts(l,u);if(h==-2){alert(cU.get([6,57,0]));
return}if(h>=0&&!H.W(e_.eo)){if(!dr.Yr(l.R[h].add.TySh,D.uh,o)){alert("Fonts not loaded yet");return}this.CE(l,o,D,[h])}else{this.iH=!0;
this.Eu=_;return}}var F=S?-1:fX.I8(this.NL.add.TySh.PF),n=this.cZ?this.cZ:this.Fm,R=n&&n.GE(l,D,H,u,null,null,_)&&g.Y9.yL(this.NL.add.TySh.oG),s=!S&&g.X.amN(u,this.NL.pZ())>20/l.w.F&&(F==0||F==1);
if(R||s){this.hB=!0;this.IN=u;this.agM=this.NL.add.TySh.h.clone();if(this.oq==-1&&this.QN==-1)this.oq=this.QN=this.xq(u)}else{if(this.kG==null){alert("Fonts not loaded yet");
return}this.G8=!0;this.oq=this.QN=this.xq(u);var Z=Date.now();if(Z-this.ah2>300)this.k3=0;this.k3++;
this.ah2=Z;if(this.k3==2)this.a2s();if(this.k3==3)this.ama();if(this.k3>1){this.G8=!1}}this.sr();this.$B(l)};
p.lX.prototype.CE=function(l,o,D,H){var _=l.R[H[0]];this.NL=_;this.Vx(o,k.E.b,{q:k.L.BQ,S:this.id,iO:"showactive"});
this.OX=H;l.T=H.slice(0);l.Nh();l.$r=!0;this.$D=this.dW(l,H);this.nf(_.add.TySh);this.cV(l,D)};p.lX.prototype.nf=function(l){if(fX.I8(l.PF)!=1)return;
var o=fX.IU(l.PF);o=new gt(0,0,o[2]-o[0],o[3]-o[1]);var D=[o.x,o.y,o.x+o.Q,o.y,o.x+o.Q,o.y+o._,o.x,o.y+o._];
g.X.h(D,l.h,D);this.Fm=new gk(D,!1,!1,!1,!0);this.Fm.BM(0)};p.lX.prototype.a2s=function(){var l=fX.PZ(this.NL.add.TySh.PF);
this.oq=this.adt(l,this.oq);this.QN=this.ab_(l,this.oq)};p.lX.prototype.adt=function(l,o){var D=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",H=[];
for(var v=0;v<D.length;v++)H.push(D.charAt(v));var _=H.indexOf(l[o])==-1?!0:!1;for(var v=o-1;v>=0;v--)if(H.indexOf(l.charAt(v))!=-1==_)return v+1;
return 0};p.lX.prototype.ab_=function(l,o){var D=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",H=[];for(var v=0;
v<D.length;v++)H.push(D.charAt(v));var _=H.indexOf(l[o])==-1?!0:!1;for(var v=o+1;v<l.length;v++)if(H.indexOf(l.charAt(v))!=-1==_)return v;
return l.length-1};p.lX.prototype.ama=function(){var l=this.kG.acP(this.oq);this.oq=l[0];this.QN=l[1]};
p.lX.prototype.Rx=function(l){var o=new jJ(k.E.b,!0);o.data={q:k.L.yx,oD:this.Ty};l.A(o)};p.lX.prototype.XR=function(l,o,D,H,_){var u=l.w.vp(_.x,_.y),S=this.NL;
if(!_.gz){var h="default",F=this.Fm,n=this.cZ?this.cZ:F;if(n&&g.Y9.yL(S.add.TySh.oG)){var R=n.NK(u,l.w.F,null,_);
if(R)h=R;else if(n==F&&F.cL(u))h="text"}else if(S&&g.X.amN(u,S.pZ())>20/l.w.F)h="move";else if(p.lX.Ts(l,u)>=0)h="text";
if(h!=this.Ty){this.Ty=h;this.Rx(o)}}var s=this.Eu;if(this.iH&&Math.min(_.x-s.x,_.y-s.y)>4/l.w.F){this.iH=!1;
this.bB(l,o,D,H,_);S=this.NL;this.hB=!0;this.Fm=new gk(null,!1,!1,!1,!0);this.Fm.BM(0);var Z=l.w.vp(this.Eu.x,this.Eu.y);
Z.x=Math.round(Z.x);Z.y=Math.round(Z.y);this.Fm.GE(l,D,H,Z,null,null,_,l.w.vb)}if(this.hB){var O=S.add.TySh;
if(this.cZ){this.cZ.XR(l,D,H,u);var w=g.t.eP(g.t.kb(this.cZ.Ha(),this.aCy));O.h=w;this.cV(l,D);fX.FP(O)}else if(this.Fm){this.Fm.XR(l,D,H,u);
var m=O.h.clone(),V=Math.atan2(m.J,m.M);m.rotate(V);var w=g.t.eP(g.t.kb(this.Fm.Ha())),q=Math.atan2(w.J,w.M);
w.rotate(q);if(!isNaN(w.M)&&w.M*w.me-w.J*w.oe!=0){var i=new gt(0,0,w.M/m.M,w.me/m.me),c=Math.round(i.Q),z=Math.round(i._),B=O.PF.Curve;
if(B){var t=fX.IU(O.PF),a=new de(c/t[2],0,0,z/t[3],0,0);g.X.h(B.Points,a,B.Points);fX.FP(O)}fX.nP(O.PF,[0,0,c,z]);
O.h=g.t.eP(g.t.kb(this.Fm.Ha(),i));this.cV(l,D);fX.FP(O)}}else{var I=u.x-this.IN.x,N=u.y-this.IN.y;O.h=this.agM.clone();
var J=new he(O.h.ip+I,O.h.nl+N);J=p.JI.KN(l,J,D);O.h.ip=J.x;O.h.nl=J.y;this.cV(l,D)}}if(this.G8)this.QN=this.xq(u);
if(this.hB||this.G8)this.$B(l)};p.lX.prototype.bB=function(l,o,D,H,_,u){var S=l.CS(),h=S[0],F=S[1],n=l.O7();
n.add.lnsr="rend";var R=l.R.slice(0);n.FH("Text layer "+R.length);this.NL=n;var s=l.T.length==0?l.R.length-1:l.T[l.T.length-1],Z=s+1;
if(R[s].add.lsct==jl.VV)Z--;this.$D={Bj:R.slice(0),dP:l.T.slice(0)};R.splice(Z,0,n);l.T=[Z];this.oq=this.QN=0;
l.MQ(R);this.$D.Z8=R.slice(0);this.$D.pQ=l.T.slice(0);this.Vx(o,k.E.b,{q:k.L.BQ,S:this.id,iO:"showactive"});
var O=l.w.vp(_.x,_.y),w=D.Hv;console.log(w);if(this.id==p.By){w=JSON.parse(JSON.stringify(w));w.i7.BaselineDirection=1}n.add.TySh=fX.D2(O.x,O.y,w,l.w.vb);
var m=n.add.TySh,V=m.PF;if(this.id==p.By)V._LineOrientation=2;fX.AH(m,this.Nd);m.CQ.VAlign.v=this.yg;
if(_.gz)fX.aM(V,1);else{fX.aM(V,0);var q=h[F.pop()],i=q?q.add.vmsk:null;if(u)i=null;if(i&&!H.W(e_.eo)){i=i.clone();
var c=i.d,B,t;for(var v=0;v<c.length;v++)if(c[v].HN!=null)c[v].HN=0;var z=5/l.w.F;B=g.n.Id(i.d,O,!0,z);
if(B.wN==-1)B=g.n.Id(i.d,O);if(B.wN!=-1){fX.aM(V,1);var a=g.n.An(c,B.wN),I=g.n.oc(c,B.wN)-1;c=i.d=c.slice(0,2).concat(c.slice(a,a+I+1));
i.T=[];m.add={vmsk:i,vogk:d.Xv(c)};V.Curve={};fX.H9(m);if(B.rz!=null){var N=f8.TL(V.Curve);g.X.h(N[0],m.h,N[0]);
var J=g.X.RS(N[0],O.x,O.y),Q=D.Hv.z5.Justification;if(Q==2||Q==5){var A=(N[2][J]+N[3]*.5)%N[3];J=f8.oT(A,N[2])}var f=N[1][J];
f=f%I;i.Qz=[f,f];fX.H9(m)}else this.nf(m)}}}return n};p.lX.prototype.Jm=function(l,o,D,H,_,u){if(u){this.iH=!1;
return}if(this.NL==null&&!this.iH)return;var S=l.w.vp(_.x,_.y),h=this.iH;if(this.iH){this.iH=!1;this.bB(l,o,D,H,_);
this.G8=!0}if(this.hB||this.G8){this.$B(l);this.sr();if(h)this.bU(D)}if(this.hB&&this.Fm)this.Fm.Jm(l,D,H,S);
this.hB=this.G8=!1;this.dB.focus()};p.lX.prototype.sr=function(){var l=this.NL.add.TySh,o=Math.min(this.oq,this.QN),D=Math.max(this.oq,this.QN),H,_;
if(o==D){var u=fX.PZ(l.PF);if(o==0||u.charAt(o-1)=="\n")H=_=o;else H=_=o-1}else{H=o;_=D-1}var S=fX.eF(l.PF,H,_);
fX.hE(S,l.h.jX());this.aiC(this.caller,S,l)};p.lX.prototype.aiC=function(l,o,D){this.Vx(l,k.E.b,{q:k.L.lN,au:is.MV,Hv:o});
var H=this.Nd=fX.Pa(D),_=this.yg=D.CQ.VAlign.v;this.Vx(this.caller,k.E.b,{q:k.L.BQ,S:this.id,iO:"changeOther",zb:H,DM:_})};
p.lX.prototype.p0=function(l,o,D,H,_){if(l==null)return;var u=l.w.vp(_.x,_.y),S=p.lX.Ts(l,u);if(S==-1)return;
var h=new jJ(k.E.b,!0);h.data={q:k.L.BQ,S:this.id,iO:"showpan",aD8:this.NL!=null,LX:S,Og:_,YI:l,Ay:D};
o.A(h)};p.lX.prototype.a2a=function(){var l=this.NL;if(l&&!this.hB&&this.cZ!=null){var o=this.caller.W1();
this.cZ.Jm(o,this.Ay,null,null);this.cZ=null;this.nf(l.add.TySh);this.$B(o)}};p.lX.prototype.disable=function(l,o,D,H){var _=this.NL;
this.nn(l,o)};p.lX.prototype.hy=function(l,o,D,H,_){if(this.y1)return;if(l.iO=="commit")this.nn(D,o);
if(l.iO=="cancel")this.nw(D,o);if(l.iO=="changeOther"){this.Nd=l.zb;this.yg=l.DM;if(D!=null)this.Cf({q:"updateStyles"},o,D,H,_)}if(l.iO=="showwarp"){if(D==null)return;
if(this.NL==null){var u=D.R[D.T[0]],S=u.add.TySh;if(S==null)return;this.CE(D,o,_,[D.T[0]]);this.dB.focus();
this.y1=!0}this.a1E=this.NL.add.TySh.oG;var h=new jJ(k.E.b,!0);h.data={q:k.L.E1,mg:"textwarp"};o.A(h)}};
p.lX.prototype.Ip=function(l,o){if(o!=is.Oe)return;if(this.eW){this.eW=!1;var D=this.caller.W1(),H=this.OX;
for(var v=0;v<H.length;v++){this.NL=D.R[H[v]];this.cV(D,l)}this.nn(D,this.caller);return}if(this.NL)this.bU(l)};
p.lX.prototype.HQ=function(l,o){var D=JSON.parse(JSON.stringify(l.Hv));fX.hE(D,1/o.h.jX());return D};
p.lX.prototype.j1=function(l,o){if(l.ZP!=null)this.AB(o,l.L7);else this.atQ(o,l.Z8,l.pQ)};p.lX.prototype.H$=function(l,o){if(l.ZP!=null)this.AB(o,l.ZP);
else this.atQ(o,l.Bj,l.dP)};p.lX.prototype.AB=function(l,o){for(var v=0;v<o.length;v++){var D=o[v],H=D.S3,_=l.R[H];
_.buffer=D.L0;_.rect=D.hR.clone();_.V();_.rD.dT=null;_.rD.path=null;var u=_.add.TySh;u.oG=D.Y9;u.g6=D.g6.clone();
u.h=D.h.clone();u.PF=JSON.parse(JSON.stringify(D.PF));_.Vo()}l.V()};p.lX.prototype.dW=function(l,o){var D=[];
for(var v=0;v<o.length;v++){var H=o[v],_=l.R[H],u=_.add.TySh;D.push({S3:H,h:u.h.clone(),Y9:JSON.parse(JSON.stringify(u.oG)),g6:u.g6.clone(),PF:JSON.parse(JSON.stringify(u.PF)),L0:_.buffer.slice(0),hR:_.rect.clone()})}return D};
p.lX.prototype.atQ=function(l,o,D){l.T=D;l.MQ(o);l.V();l.aH=!0};p.lX.prototype.cV=function(l,o,D){if(D==null)D=!1;
var H=this.NL.add.TySh;if(!dr.Yr(H,o.uh,this.caller))return!1;if(!D){var _=fX.PZ(H.PF);this.dB.value=_.slice(0,_.length-1)}var u=this.NL.rect,S=dr.cV(this.NL,o.uh,l);
this.kG=S[1];var h=this.kG.K7();if(g.Y9.yL(H.oG))H.g6=new gt;else{if(fX.I8(H.PF)==1){var F=fX.IU(H.PF),kC=h.y;
H.g6=new gt(0,kC,F[2]-F[0],F[3]-F[1]-kC)}else H.g6=h}l.Vr();if(S[2])l.V(l.root.l3(S[2].hR.tB(u),l,l.R.indexOf(this.NL)));
return!0};p.lX.prototype.dY=function(l,o){if(this.NL==null||this.y1)return;var D=this.dB.selectionStart,H=this.NL.add.TySh,_=fX.PZ(H.PF),u=this.dB.value+"\n",S=Math.min(this.oq,this.QN),h=Math.max(this.oq,this.QN),Z=!1;
this.oq=Math.min(D,S);if(u.length-D<_.length-this.QN)this.QN=_.length-u.length+D;if(_!=u){while(this.oq>0&&_.charAt(this.oq-1)!=u.charAt(this.oq-1))this.oq--}var F=_.substring(0,this.oq),n=_.substring(this.QN,_.length),R=u.substring(this.oq,u.length-n.length);
fX.uq(H.PF,this.oq,this.QN);fX.yQ(H.PF,this.oq,R);if(o!=null)fX.afb(H.PF,this.oq,o);var s=this.HQ(this.Ay,H),O=-1,w=Array.from(R);
for(var v=0;v<w.length;v++)O=Math.max(O,w[v].codePointAt(0));if(O!=-1&&O>128&&O!=65533&&s.i7.Font!=null){var m=s.LJ[s.i7.Font].Name,V=this.Ay.uh.abE(O,m,s.LJ);
if(m!=V){fX.LQ(s,V);Z=!0}}if(this.j2!=null&&R==this.j2){var q=JSON.parse(this.axp);fX.hE(q,1/H.h.jX());
s.i7=q.i7;s.LJ=q.LJ;Z=!0}fX.fn(H.PF,this.oq,this.oq+R.length-1,s);this.oq=this.QN=F.length+R.length;
var i=this.caller.W1(),c=this.cV(i,this.Ay,!0);if(c)this.$B(i,!0);if(Z)this.sr()};p.lX.prototype.akg=function(l){var o=e_;
if(!l.ctrlKey)this.a2a();l.stopPropagation()};p.lX.prototype.a7x=function(l){l.stopPropagation();var o=l.ctrlKey||l.metaKey,D=e_,F=0,n=0,c=0,W=!1;
if(this.NL==null||this.y1)return;if(this.NL==null)return;if(this.caller.UJ.Fr())return;var H=this.caller.W1();
if(this.cZ==null&&o){var _=this.NL.add.TySh,u=fX.I8(_.PF),S;if(u==1){S=fX.IU(_.PF);S=new gt(0,0,S[2]-S[0],S[3]-S[1])}else S=this.kG.K7();
var h=[S.x,S.y,S.x+S.Q,S.y,S.x+S.Q,S.y+S._,S.x,S.y+S._];g.X.h(h,_.h,h);this.cZ=new gk(h,!0,!0,!1,!1);
this.cZ.BM(0);this.aCy=S;this.$B(H)}if(D.MY(l.code,D.RO))F=1;if(D.MY(l.code,D.B1))F=-1;if(D.MY(l.code,D.pR))n=-1;
if(D.MY(l.code,D.fW))n=1;var R=D.MY(l.code,e_.U7),s=D.MY(l.code,e_.arK);if(D.MY(l.code,e_.PA)&&o){this.nn(H,this.caller);
return}if(D.MY(l.code,e_.aZ)){this.nw(H,this.caller);return}if(D.MY(l.code,e_.CZ)){l.preventDefault();
var Z=this.dB,O=Z.value,w=Z.selectionStart,m=Z.selectionEnd;Z.value=O.substring(0,w)+"\t"+O.substring(m);
Z.selectionStart=Z.selectionEnd=w+1;this.dY(null);return}var V=D.MY(l.code,D.CO),q=D.MY(l.code,D.ef);
if(o&&(V||q)){l.preventDefault();var i=new jJ(k.E.r,!0);i.S=p.Nk;i.data={q:"zoom",j8:V};this.caller.A(i)}if(D.MY(l.code,D.oi))c=1;
if(D.MY(l.code,D.v8))c=-1;var z=this.oq==this.QN,B=o&&l.shiftKey&&c!=0&&!z;if(B||l.altKey&&F!=0){var t=JSON.parse(JSON.stringify(this.Ay.Hv));
if(B){var a=t.i7.FontSize;if(a==null)a=16;t.i7.FontSize=Math.max(1,a+c*(l.altKey?5:1))}else{if(z){t.i7.Kerning+=20*F;
t.i7.AutoKerning=!1}else t.i7.Tracking+=20*F}l.preventDefault();var I=new jJ(k.E.b,!0);I.data={q:k.L.lN,au:is.MV,Hv:t};
this.caller.A(I);var i=new jJ(k.E.r,!0);i.S=p.gg;i.data={q:"updateStyles"};this.caller.A(i);return}if((D.MY(l.code,D.AP)||D.MY(l.code,D.s8))&&o){var N=this.oq,J=this.QN;
if(N>J){var Q=N;N=J;J=Q}var _=this.NL.add.TySh,A=fX.PZ(_.PF);if(N!=J){this.j2=A.slice(N,J);this.axp=JSON.stringify(this.Ay.Hv)}}var f=fX.PZ(this.NL.add.TySh.PF);
if(F!=0||n!=0||R||s){l.preventDefault();var C=this.oq;if(F!=0){if(o&&F==-1)C=this.adt(f,this.oq-1);else if(o&&F==1)C=this.ab_(f,this.oq);
else{var Z=this.dB,O=Z.value;C=this.oq+F;if(C!=0&&O.codePointAt(C-1)>65535)C+=F}}else if(n!=0){var j=this.kG.ym(this.oq);
if(n==-1&&j.yI==0)C=0;else if(n==1&&j.yI==this.kG.ann()-1)C=99999999999;else C=this.kG.ahO(new he(j.hR.x+j.hR.Q/2,0),j.yI+n)}else if(R){var K=this.oq-1;
while(K>0&&f.charCodeAt(K)!=10)K--;C=K==0?0:K+1}else if(s){var K=this.oq;while(K<f.length-1&&f.charCodeAt(K)!=10)K++;
C=K}C=Math.max(0,Math.min(f.length-1,C));if(l.shiftKey)this.oq=C;else this.oq=this.QN=C;W=!0}if(D.MY(l.code,e_.L)&&o){this.oq=0;
this.QN=f.length-1;W=!0}if(W){this.sr();this.$B(H)}};p.lX.alb=function(l,o){var D=l.length;if(D!=o.length)return!1;
for(var v=0;v<D;v++)if(l[v].S3!=o[v].S3)return!1;return!0};p.lX.prototype.nn=function(l,o,D){if(this.NL==null)return;
this.NL.Vo();var H=this.$D;if(H instanceof Array){var _=this.dW(l,this.OX),u=l.I5();if(u!=null&&u.S==this&&u.data.ZP&&p.lX.alb(u.data.ZP,H)&&D)u.data.L7=_;
else{var S=new fL(this.name,this);S.data={ZP:H,L7:_};l.kE(S)}}else{var S=new fL(this.name,this);S.data={Bj:H.Bj,Z8:H.Z8,dP:H.dP,pQ:H.pQ};
l.kE(S)}this.escape(l,o)};p.lX.prototype.nw=function(l,o){if(this.NL==null)return;if(this.$D instanceof Array){this.AB(l,this.$D);
if(this.NL)fX.FP(this.NL.add.TySh)}else{l.T=this.$D.dP;l.MQ(this.$D.Bj);l.aH=!0}l.V();this.escape(l,o)};
p.lX.prototype.escape=function(l,o){this.a2a();this.NL=null;this.OX=null;this.kG=null;this.Fm=null;this.dB.blur();
l.D.T9=null;l.D.A_=null;l.D.XA=[];l.st=!0;this.hB=!1;this.G8=!1;this.oq=this.QN=-1;this.Vx(o,k.E.b,{q:k.L.BQ,S:this.id,iO:"hideactive"});
if(this.qv){var D=new jJ(k.E.b,!0);D.data={q:k.L.BC,S:this.qv};o.A(D);this.qv=null}};p.lX.prototype.Vx=function(l,o,D,H){var _=new jJ(o,!0);
_.data=D;if(H)_.S=H;l.A(_)};p.lX.prototype.xq=function(l){var o=this.NL.add.TySh,D=this.kG,H=o.h.clone();
H.L5();var _=H.wq(l),u=fX.fZ(o,D),S=g.Y9.N7(o.oG,u),h=g.cC.p9(S,_);if(h==null)h=new Float64Array(2);
_=new he(u.x+h[0]*u.Q,u.y+h[1]*u._);if(D.LG){var F=D.LG.clone();F.L5();_=F.wq(_)}var n=D.ahO(_);return n};
p.lX.prototype.$B=function(l,o){if(o==null)o=!1;var D=this.NL.add.TySh,H=fX.I8(D.PF),_=this.kG,u=_?fX.fZ(D,_):null;
l.D.XA=[];l.D.T9=null;l.D.A_=null;var S=this.cZ?this.cZ:this.Fm;if(S){S.Z$(l,this.Ay,!g.Y9.yL(D.oG));
var h=D.h.clone();h.L5();if(_&&_.LG&&_.no==1){var F=_.LG.clone();F.L5();h.concat(F)}g.X.h(l.D.XA,h,l.D.XA);
g.X.h(l.D.T9.s,h,l.D.T9.s);if(_&&_.LG==null&&_.a1i()){var n=u.Q-20,R=u._+8;l.D.T9.s.push(n,R,n+10,R,n+5,R-5,n+5,R+5);
l.D.T9.v.push("M","L","M","L")}}else if(H==0)this.ac1(l,D,_);else l.D.T9={s:[],v:[]};var s=Math.min(this.oq,this.QN),Z=Math.max(this.oq,this.QN);
if(!o){this.dB.selectionStart=s;this.dB.selectionEnd=Z}if(_!=null){var O=function(S,z){var B=S.x,t=S.y+S._,a=new de;
a.translate(-B,-t);a.rotate(-z);a.translate(B,t);S.y+=S._*.27;var c=g.X.YZ(S);g.X.h(c.s,a,c.s);return c};
if(s==Z){s=Math.max(s,0);var w=_.ym(s);if(w){var m=w.hR,V=this.Ay.Hv.i7.FontSize;if(V!=null&&V!=0){V/=D.h.jX();
m.y+=m._-V;m._=V}var q=_.aB1(s);if(q!=null&&q.Od==1)m.x+=m.Q;var i=O(m,w.vb).s;l.D.T9.v.push("M","L");
l.D.T9.s.push(i[0],i[1]-1,i[6],i[7]-1)}}else{l.D.A_={s:[],v:[]};for(var v=s;v<Z;v++){var w=_.ym(v),c=O(w.hR,w.vb);
g.X.concat(l.D.A_,c)}}}l.D.T9=dr.dH(l.D.T9,D,_,!0);l.D.A_=dr.dH(l.D.A_,D,_,!0);l.D.XA=dr.dH({s:l.D.XA},D,_,!0).s;
l.st=!0};p.lX.prototype.ac1=function(l,o,D){if(D==null)return;l.D.XA.push(0,0);if(l.D.T9==null)l.D.T9={v:[],s:[]};
for(var v=0;v<D.z5.length;v++){var H=D.z5[v];for(var _=0;_<H.j7.length;_++){var u=H.j7[_],S=H.Q4.x+u.Q4.x+u.hR.x,h=H.Q4.y+u.Q4.y+u.hR.y+u.hR._;
l.D.T9.v.push("M","L");l.D.T9.s.push(S,h,S+u.hR.Q,h)}}l.st=!0};p.ST=function(){p.lX.call(this,!0)};p.ST.prototype=new p.lX;
p.Gn=function(l){p.OK.call(this,l?"Magic Replace":[10,9],l?p.abB:p.Ii,l?"tools/mremove":"tools/lasso");
this.he="crosshair";this.jc=null;this._A=null;this.IN=null};p.Gn.prototype=new p.OK;p.Gn.prototype.GZ=function(l,o,D,H){this.jc=this.__;
this._A={s:[this.jc.x,this.jc.y],v:["M"]}};p.Gn.prototype.n$=function(l,o,D,H){this.IN=H;var _=this._A;
if(_==null)return;if(!H.gz){if(this._A!=null&&this.$w.Fk(1)&&D.W(e_.zg)){_.s.pop();_.s.pop();_.s.push(this.FR.x,this.FR.y);
l.D.T9=_;l.st=!0}return}_.v.push("L");_.s.push(this.FR.x,this.FR.y);this.jc=this.FR;if(this.$x){l.D.T9=_;
l.st=!0}};p.Gn.prototype.Iu=function(){return this._A!=null};p.Gn.prototype.Y6=function(){return this._A!=null};
p.Gn.prototype.WP=function(l,o,D,H){p.OK.prototype.WP.call(this,l,o,D,H);if(this._A&&this.$w.Fk(1)&&this.IN&&!this.IN.gz&&!H.W(e_.zg))this.atD(l,D,H)};
p.Gn.prototype.lK=function(l,o,D,H){this.IN=H;var _=this._A;if(_==null)return;if(this.$w.Fk(1)&&D.W(e_.zg)){_.v.push("L");
_.s.push(this.FR.x,this.FR.y);return}this.atD(l,o,D)};p.Gn.prototype.atD=function(l,o,D){this.finish(l,o,D,this.IN);
this._A=null;l.D.T9=null;l.st=!0};p.Gn.prototype.getSelection=function(l,o,D,H){if(this.__.kn(this.FR)||!this.$x)return null;
return p.OK.Rt(this._A.s,null,this.MI.anta)};p.JI=function(){p.vA.call(this,[10,11],p.e5,"tools/move");
this.bY=new he(0,0);this.GU=new he(0,0);this.cW=null;this.IK=null;this.cN=new he(0,0);this.ye=null;this.Fy=null;
this.LO=null;this.RF=0;this.t_=null;this.xG=[];this.tt=null;this.gv=null;this.ku=!1;this.q=0;this.N6=null;
this.Ci=null;this.BP=null;this.cl=!1;this.MI={li:!0,wG:a8==1,hw:!1,a1B:1};this.av0=!1;this.ayJ=!1;this.Fm=null;
this.xe=null;this.z8=null;var l=[];for(var v=0;v<g.vL.Ez.length;v++)l.push({name:g.vL.Ez[v],e:function(o,D,H){return{tY:D.og.wc==H}}});
this.iu=new fg(l);this.iu.O("select",this.GO,this)};p.JI.prototype=new p.vA;p.vA.prototype.tT=function(l){return this.ku&&this.q!=2};
p.JI.prototype.atk=function(){return this.ku&&(this.q==0||this.q==1)};p.JI.prototype.$t=function(l,o,D,H){this.Fi(l,-this.cN.x,-this.cN.y);
this.cN.pN(0,0);this._y(l,null,D);this.pS(l)};p.JI.prototype.DJ=function(){var l=this.MI;return[l.li?1:0,l.wG?1:0,l.hw?1:0]};
p.JI.prototype.hn=function(l,o,D){var H=this.MI;if(l&&l[0]!=null)H.li=l[0]==1;if(l&&l[1]!=null)H.wG=l[1]==1;
if(l&&l[2]!=null)H.hw=l[2]==1;if(a8==1)H.wG=!0;var _=new jJ(k.E.b,!0);_.data={q:k.L.BQ,S:this.id,Bt:H,abW:o};
D.A(_)};p.JI.a2o=function(l,o,D,H,_,u,S){if(S==null)S=[!1,!0];var h=l.rC(null,_,!0),F,n=_==null?l.T[0]:_;
if(l.add.artd&&(_!=null||l.T.length==1)&&l.R[n].add.artb){var R=l.R[n].IH();F=l.qE(h,R,R)[0]}else{var s=new gt(0,0,l.Q,l._),F=l.qE(h,S[0]?s:null,S[1]?null:s)[0];
delete F.add.artd;if(S[1]){var Z=g.fP(F.zG(),new gt(0,0,F.Q,F._),2);p.WS.Du(F,Z)}}if(D!=1){var O=new gt(0,0,Math.round(F.Q*D),Math.round(F._*D));
p.WS.Du(F,O);var w=[];for(var v=0;v<F.R.length;v++)w.push(v);var m=p.cA.z0(F,w,!0);p.WS.kR(F,new de(D,0,0,D,0,0));
p.cA.yA(F,H,w,m,1,g.t.Lw(new de(D,0,0,D,0,0)),null,!0);F.dh()}var V=[];for(var v=0;v<o.length;v++)if(F.Q*F._!=0)V.push(fj._Q(F,o[v].toUpperCase(),null,null,u?u[v]:null,H));
return V};p.JI.prototype.axy=function(l,o,D,H,_){if(l==null||l.T.length==0)return;var u=p.JI.a2o(l,[o],D,H,null)[0],S=new jJ(k.E.b,!0);
S.data={q:k.L.r1,data:u,name:l.R[l.T[0]].getName()+(D==1?"":"@"+D+"x")+"."+o};_.A(S)};p.JI.prototype.hy=function(l,o,D,H,_){if(l.i6=="getPNG"){this.axy(D,"png",l.zK,_,o)}else if(l.i6=="getSVG"){this.axy(D,"svg",l.zK,_,o)}if(l.i6=="prms"){this.MI=l;
this.pS(D)}};p.JI.anw=function(l){var kC=l.length,D=0;l.sort(function(u,S){return u[0]+u[1]/2-(S[0]+S[1]/2)});
var o=l[kC-1][0]+l[kC-1][1]-l[0][0];for(var v=0;v<kC;v++)D+=l[v][1];var H=Math.round((o-D)/(kC-1)),_=l[0][0];
for(var v=0;v<kC;v++){l[v][0]=_;_+=l[v][1]+H}};p.JI.prototype.Cf=function(l,o,D,H,_){var u=l.q;if(u=="trsl"){var S=Math.round(l.iq),h=Math.round(l.QF);
this.cN.pN(S,h);this.RE(D,o,H,_,!1,l.U);this.Fi(D,S,h);this._y(D,null,_)}else if(u=="fcmy"||u=="fvec"){var F=["RGB","CMYK"][l.P]+" Color";
if(u=="fvec")F=["Raster","Vector"][l.P]+" Mode";var n=new fL(F,this);n.data={q:l.q,aC:D.add[u]==null?0:D.add[u],zc:l.P};
D.kE(n);this.j1(n.data,D)}else if(u=="pview"){var u=new fL([8,14],this);u.data={q:l.q};D.kE(u);this.j1(u.data,D)}else if(u=="lockguides"){if(D)D.q_=!D.q_}else if(u=="gids"||u=="gidsFromLayer"){var R=l.Ci,s,Z;
if(R==null)R=D.we();if(u=="gids"){s=l.fY;var O=R[0].length,w=s[0].length;Z=O==w?[23,2]:O>w?[23,3]:[23,4];
if(w==0)Z=[11,15,0]}else if(u=="gidsFromLayer"){var m=[],V=[],q=D.NQ();for(var v=0;v<D.T.length;v++){var i=D.R[D.T[v]].rect;
if(i.lh())continue;m.push([0,i.x],[1,i.y],[0,i.x+i.Q],[1,i.y+i._]);V.push(q,q,q,q)}Z=[11,15,1];s=D.we();
p.JI.aN(s,[m,V])}if(JSON.stringify(R)==JSON.stringify(s))return;var u=new fL(Z,this);u.data={q:2,Ci:R,fY:s};
D.kE(u);this.j1(u.data,D)}else if(u=="algn"){var c=l.P;if(D==null)return;if(D.T.length<2&&!(D.f!=null&&c!=3&&c!=7)){alert(cU.get([15,7,5]));
return}var z=D.f;D.f=null;var i=z?z.rect:p.cA.fZ(D);this.RE(D,o,H,_,!1);if(!this.ku)return;var B=this.t_,t={},a=[],I=[],N=[];
for(var v=0;v<B.length;v++){var J=B[v];while(D.R[J].getName()=="</Layer group>")J++;var Q=D.root.sl(J),A=Q;
while(Q.parent!=null){Q=Q.parent;if(B.indexOf(Q.index)!=-1)A=Q}var f=I.indexOf(A.index);if(f==-1){f=I.length;
I.push(A.index)}a[v]=f}var W=[],C=[],j=[];for(var v=0;v<I.length;v++){var K=p.cA.fZ(D,D.rC(!0,I[v]));
j.push(K);var $=c==3?[K.y,K._]:[K.x,K.Q];W[v]=$;C.push($)}p.JI.anw(C);for(var v=0;v<I.length;v++){var K=j[v],r=K.x,U=K.y;
if(c==0)r=i.x;if(c==1)r=i.x+(i.Q-K.Q)/2;if(c==2)r=i.x+(i.Q-K.Q);if(c==3)U=W[v][0];if(c==4)U=i.y;if(c==5)U=i.y+(i._-K._)/2;
if(c==6)U=i.y+(i._-K._);if(c==7)r=W[v][0];N.push(Math.round(r-K.x),Math.round(U-K.y))}var b=[];for(var v=0;
v<B.length;v++){var e=a[v];b[2*v]=N[2*e];b[2*v+1]=N[2*e+1]}this.Fi(D,0,0,null,b);var P=c==3||c==7?[20,4,6]:[20,4,c<3?c:c-1];
this._y(D,null,_,b,P);D.f=z}else if(u=="disabAuto"){this.hn([!1],null,o)}};p.JI.aN=function(l,o){for(var v=0;
v<o[0].length;v++){var D=o[0][v],H=o[1][v],_=!1;for(var u=0;u<l[0].length;u++){var S=l[0][u],h=l[1][u];
if(D[0]==S[0]&&D[1]==S[1]&&H==h)_=!0}if(!_){l[0].push(D.slice(0));l[1].push(H)}}};p.JI.prototype.enable=function(l,o,D,H,_){this.Fy=D;
this.LO=o;this.cl=_?!0:!1;this.pS(l);this.Rx("default",o);this.WP(l,o,D,H)};p.JI.prototype.disable=function(l,o,D,H){this.gX(l)};
p.JI.prototype.gX=function(l){if(l==null)return;if(this.Fm){this.Fm.clear(l);this.Fm=null}if(l.D.hw){l.D.hw=null;
l.st=!0}if(l.D.b3){l.D.b3=null;l.st=!0}if(l.D.Lu[this.id]){delete l.D.Lu[this.id];l.st=!0}if(l.D.UD.length!=0){l.D.UD=[];
l.st=!0}};p.JI.prototype.lx=function(l,o,D,H){if(D.Bq!=this.id)return;this.pS(l)};p.JI.prototype.pS=function(l,o){if(l==null)return;
var D=this.MI;this.gX(l);if(!this.cl){var H;if(D.wG||D.hw)H=g.X.rP(p.cA.fZ(l));if(D.wG&&!H.lh()){var _=l.R[l.T[0]],u=g.X.YZ(H).s;
if(a8==1&&l.T.length==1){if(_.add.vmsk)u=_.add.vmsk.hI();if(_.add.SoLd)u=p.cA.TX(_.add.SoLd.nonAffineTransform);
if(_.add.TySh){u=g.X.YZ(_.rD.L2).s;g.X.h(u,_.add.TySh.h,u)}}this.Fm=new gk(u,!0);this.Fm.Z$(l,this.Fy)}if(D.hw){var S=null,Z=null,O=!1;
if(l.NQ()!=-1)S=l.R[l.NQ()].IH();else S=new gt(0,0,l.Q,l._);l.D.hw={xg:[H],Ut:[]};var h=l.D.hw.Ut,F=H.x+H.Q,n=H.y+H._,R=H.x+Math.floor(H.Q/2),s=H.y+Math.floor(H._/2);
if(o){var w=l.root.Id(new he(Math.floor(o.x),Math.floor(o.y)));if(w){Z=g.X.rP(w.U.pZ(l));if(Z.Q5(H)){O=(Z.u4(H)||H.u4(Z))&&!H.kn(Z);
if(!O)Z=null}}}this.aE5(H,h);if(Z!=null){l.D.hw.xg.push(Z);var m=Z.x+Z.Q,V=Z.y+Z._,q=Z.x+Math.floor(Z.Q/2),i=Z.y+Math.floor(Z._/2);
if(O){var c=R,z=s;if(H.u4(Z)){c=q;z=i}h.push(H.x,z,Z.x,z);h.push(F,z,m,z);h.push(c,H.y,c,Z.y);h.push(c,n,c,V)}else{this.aE5(Z,h);
var B=n<Z.y||V<H.y,t=F<Z.x||m<H.x;if(F<Z.x)h.push(F,s,Z.x,s);if(m<H.x)h.push(m,s,H.x,s);if(n<Z.y)h.push(R,n,R,Z.y);
if(V<H.y)h.push(R,V,R,H.y);if(B&&!t){if(H.x<Z.x)h.push(H.x,i,Z.x,i);if(Z.x<H.x)h.push(Z.x,s,H.x,s)}}}else{if(H.y>S.y)h.push(R,S.y,R,H.y);
if(n<S.y+S._)h.push(R,n,R,S.y+S._);if(H.x>S.x)h.push(S.x,s,H.x,s);if(F<S.x+S.Q)h.push(F,s,S.x+S.Q,s)}l.st=!0}}if(this.q==2&&this.ku){var a=new gt(0,0,l.Q,l._),I=l.NQ();
if(I!=-1){var N=l.we(),J=N[1][this.t_];if(J==-1)J=I;a=l.R[J].IH()}var Q=l.oJ[this.t_],A=Q[0],f=(A==0?"X":"Y")+": "+g.vL.oo(Q[1]-(A==0?a.x:a.y),l.on,this.Fy,A==0?a.Q:a._,!0);
p.vA.Wf(Math.round(this.cW.x)+10,Math.round(this.cW.y)-10,[f],l);l.st=!0}if(this.q==3&&this.ku){var W=g.X.YZ(this.N6);
l.D.Lu[this.id]={T9:W};l.st=!0}};p.JI.prototype.aE5=function(l,o){var D=l.Q,H=l._,_=l.x+Math.floor(D*.2),u=l.y+Math.floor(H*.2);
o.push(_,l.y,_,l.y+H);o.push(l.x,u,l.x+D,u)};p.JI.prototype.Rx=function(l,o){var D={q:k.L.yx,oD:l},H=new jJ(k.E.b,!0);
H.data=D;o.A(H)};p.JI.prototype.AR=function(l){var o=this.xe.Z3()[0];if(o==this.z8.length){var D=new jJ(k.E.b,!0);
D.data={q:k.L.DG,Fp:"psd"};this.LO.A(D);return}var H=this.ye,u=this.z8[o];this.a3y(H,u)};p.JI.prototype.GO=function(l){var o=JSON.parse(JSON.stringify(this.Fy.og));
o.wc=this.iu.Z3()[0];var D=new jJ(k.E.b,!0);D.data={q:k.L.lN,au:is.HK,zc:o};this.LO.A(D)};p.JI.prototype.p0=function(l,o,D,H,_){if(this.ku)this.Jm(l,o,D,H,_);
this.ye=l;this.Fy=D;this.LO=o;var u=l.w.vp(_.x,_.y),S;if(p.JI.ZE(D,_,l.w)){S=this.iu}else{if(this.xe)this.xe.removeEventListener("select",this.AR);
var h=[];l.root.Id(u,h);if(h.length==0)return;var F=[];this.z8=h;for(var v=0;v<h.length;v++)F.push({name:l.R[h[v]].getName(),ab:v==h.length-1});
F.push({name:[1,18],oj:!0});S=this.xe=new fg(F);S.O("select",this.AR,this)}S.parent=o;S.k();S.update(l,D);
var n=new jJ(k.E.b,!0);n.data={q:k.L.jq,VG:S,x:_.pF+2,y:_.g7+1};o.A(n)};p.JI.prototype.avk=function(l,o,D,H,_){var u=p.JI.r0(l,_);
return u!=-1||p.JI.ZE(D,_,l.w)};p.JI.r0=function(l,o){if(l==null||l.add.artd==null)return-1;var D=l.w.vp(o.x,o.y),H=12*p.Y()/l.w.F;
for(var v=0;v<l.R.length;v++){var _=l.R[v];if(!_.zd()||_.add.artb==null)continue;var u=_.IH(),S=new gt(u.x,u.y-1.7*H,H*_.getName().length*.5,H);
if(S.j0(D))return v}return-1};p.JI.prototype.GE=function(l,o,D,H,_){var u=p.JI.r0(l,_),S=p.JI.aDn(l,l.w.vp(_.x,_.y));
if(u!=-1){l.T=[u];if(D.Bq==p.e5){var h=new jJ(k.E.b);h.data={q:k.L.BC,S:p.ck};o.A(h)}return}if(S!=-1){l.w.zq=S;
l.LD=!0;var h=new jJ(k.E.b,!0);h.data={q:k.L.Ak,mg:j4.nC.aAw};o.A(h);return}this.cW=_;this.bY.pN(_.x,_.y);
this.GU=l.w.vp(_.x,_.y);this.IK=new ej(this.GU);this.RE(l,o,H,D,!0)};p.JI.ZE=function(l,o,D,H){var _=g.vL.wv,u=D.T3._;
return l.QC&&(0<o.x&&o.x<_||0<o.y&&o.y<_||H&&0<o.x&&o.x<4*_&&u-_<o.y&&o.y<u)};p.JI.prototype.RE=function(l,o,D,H,_,u){var S,h=this.GU,F=!1;
if(_){var n=H.bX&&H.og.oJ;if(p.JI.ZE(H,this.bY,l.w)){S=l.we();var R=l.we(),s=null;if(this.bY.x<g.vL.wv){s=[0,h.x]}if(this.bY.y<g.vL.wv){s=[1,h.y]}R[0].push(s);
R[1].push(l.NQ(!0));l.l0(R);if(!n){var Z=new jJ(k.E.b);if(!H.og.oJ){Z.data={q:k.L.lN,au:is.L_};o.A(Z)}if(!H.bX){Z.data={q:k.L.lN,au:is.a7};
o.A(Z)}n=!0}}var O=this.ae6(l,h);if(n&&O!=null&&!l.q_){this.q=2;this.Ci=S?S:l.we();this.t_=O;this.ku=!0;
this.gv=p.cA.fZ(l);return}if(l.q0.length!=0){this.q=4;this.gv=l.Lx[l.q0[0]].rect.clone();this.ku=!0;
return}if(this.Fm&&this.Fm.NK(h,l.w.F,!0,this.cW)!=null){var Z=new jJ(k.E.b);Z.data={q:k.L.BC,S:p.rk,aag:!0};
o.A(Z);return}if(l.f&&l.f.rect.j0(h)){var w=Math.round(h.x),m=Math.round(h.y),V=l.f.rect;F=l.f.channel[(m-V.y)*V.Q+w-V.x]>128}var q=this.MI.li||a8==1;
if(!F&&(!this.cl&&q||this.cl&&q&&(D.W(e_.eo)||l.T.length<2))){var i=this.anE(l,h,D);if(!i){l.T=[];l.Vl=null;
l.aH=l.m$=!0;this.q=3;this.N6=new gt;this.ku=!0;return}}if(D.W(e_.zg)&&!F){var c=new jJ(k.E.r);c.S=p.wU;
c.data={q:d.r$,avv:!0};o.A(c)}}if(l.q0.length!=0){this.q=4;this.gv=l.Lx[l.q0[0]].rect.clone();this.ku=!0;
return}this.t_=l.rC(u==null,u,null,!0);for(var v=0;v<this.t_.length;v++){var z=this.t_[v],B=l.R[z];if(B.Ji(2)||B.Ji(31)||l.FY(z)){alert(cU.get([6,57,0]));
return}}if(l.add.artd&&_){var t=this.t_,a=!1;for(var v=0;v<t.length;v++)if(l.R[t[v]].add.artb)a=!0;if(!a){this.tt=[l,l.R.slice(0),l.T.slice(0),-1];
this.t_.sort(function(C,j){return C-j})}}this.xG=p.JI.a3$(l,this.t_);this.q=0;if(l.f&&(!_||F)&&l.T.length==1&&l.o_(!1)){if(!l.a5D()){this.ku=!1;
return}var I=l.R[l.T[0]],N=D.W(e_.zg);this.q=1;var J=l.history[l.IL];if(J.S==this&&J.data.q==1&&J.data.U==l.T[0]&&I.Ih==I.qY.Ih&&!N){this.BP=J}else{var Q=I.qY,A=!1,f;
if(!I.IJ(l,l.f)||N){A=!0;I.sn(l,l.f,N)}if(I.qY.Ih<=0){f=g.o(I.qY.sM.length>>2);g.mA(I.qY.sM,f,3)}else f=l.f.channel.slice(0);
var W={rect:I.qY.PH.clone(),channel:f};this.BP=new fL(N?[12,53]:[12,54],this);this.BP.data={q:1,U:l.T[0],qY:I.qY,mZ:Q,ik:A,dP:l.f,pQ:W,me:new he(0,0)};
l.kE(this.BP);l.f=W;l.RW=!0}}this.ku=!0;this.gv=p.cA.fZ(l)};p.JI.prototype.anE=function(l,o,D){var H=l.root.Id(new he(Math.floor(o.x),Math.floor(o.y)));
if(H){if(H.U.add.vmsk)l.st=!0;var _=l.R.indexOf(H.U);if(this.MI.a1B==0){var u=l.root.sl(_);while(u.parent&&u.parent.depth!=0&&u.parent.U.add.artb==null)u=u.parent;
_=u.index}if(D.W(e_.eo)){var S=l.T.indexOf(_);if(S==-1)l.T.push(_);else if(l.T.length>1)l.T.splice(S,1)}else if(l.T.indexOf(_)==-1){this.a3y(l,_)}}return H!=null};
p.JI.prototype.a3y=function(l,o){l.R[o].Ih=0;l.T=[o];l.Vl=null;l.Nh();l.$r=!0;l.aH=!0};p.JI.aDn=function(l,o){var D=l.add.Anno;
if(D==null||D.length==0)return-1;var H=30/l.w.F;for(var v=0;v<D.length;v++)if(new gt(D[v][0],D[v][1],H,H).j0(o))return v;
return-1};p.JI.prototype.XR=function(l,o,D,H,_){this.cW=_;var u=l.w.vp(_.x,_.y),O,w;if(this.IK&&this.q<2)u=this.IK.Nn(u,H);
if(!this.ku){if(D.bX&&D.og.oJ&&l&&!l.q_){var S=this.ae6(l,u),h="default",F=p.JI.r0(l,_);if(S!=null)h=["col-resize","row-resize"][l.oJ[S][0]];
else if(this.Fm){var n=this.Fm.NK(u,l.w.F,null,_);if(n)h=n}else if(F!=-1||p.JI.aDn(l,u)!=-1){h="pointer"}this.Rx(h,o)}this.pS(l,u);
return}var R=this.GU,s=Math.round(u.x-R.x)-this.cN.x,Z=Math.round(u.y-R.y)-this.cN.y;if(this.gv){if(this.q==2){var m=[];
if(l.f)m.push(l.f.rect);if(this.gv)m.push(this.gv);if(l.w._$)m.push(l.w._$);u=p.JI.KN(l,u,D,[!1,m,!0,!0])}else{w=this.gv.clone();
w.offset(this.cN.x+s,this.cN.y+Z);O=p.JI.l2(l,w,D);var V=this.IK.a4p(H);if(V==1){O[0]=0;O[2]=1e9}if(V==2){O[1]=0;
O[3]=1e9}s+=Math.round(O[0]);Z+=Math.round(O[1])}}this.cN.x+=s;this.cN.y+=Z;var q=this.tt;if(q&&l==q[0]){l.MQ(q[1]);
l.T=q[2].slice(0);q[3]=-1}this.Fi(l,s,Z,u,null,H.W(e_.eo));if(q&&l==q[0]){var i=this.gv.clone();i.offset(this.cN.x,this.cN.y);
var c=u,F=l.NQ(),z=-1;for(var v=0;v<l.R.length;v++){var B=l.R[v];if(!B.zd()||B.add.artb==null)continue;
var t=B.IH();if(t.j0(c))z=v}if(z!=-1&&z!=F){var a=p.yZ.qK(l,this.t_,z,!0,null,!1);l.MQ(a[0]);l.T=a[1];
q[3]=z}}this.pS(l,u);if(O)p.JI.Jz(l,w,O)};p.JI.prototype.ae6=function(l,o){var D=p.zU(l,this.cW);o=[o.x,o.y];
var H=l.we(),_=l.NQ();for(var v=0;v<H[0].length;v++){var u=H[0][v],S=H[1][v];if(S!=-1&&S!=_)continue;
if(Math.abs(u[1]-o[u[0]])<D)return v}return null};p.JI.prototype.Fi=function(l,o,D,H,_,u){if(this.q==0){if(_)p.JI.xp(l,this.t_,this.xG,_);
else p.JI.uN(l,this.t_,this.xG,o,D)}else if(this.q==1){var S=this.BP.data;S.me.offset(o,D);p.JI.xo(l,S.U,o,D)}else if(this.q==2){var h=1e-5;
if(u)h=l.w.F<=1?10:1;var F=h*Math.round(H.x/h),n=h*Math.round(H.y/h),R=[F,n],s=l.oJ[this.t_];s[1]=R[s[0]]}else if(this.q==3){var Z=this.GU,O=g.X.Mg([Z.x,Z.y,H.x,H.y]);
this.N6=O;var w=[];l.root.kL(O,w);if(JSON.stringify(l.T)!=JSON.stringify(w)){l.T=w;l.aH=l.m$=!0}}else if(this.q==4){for(var v=0;
v<l.q0.length;v++)l.Lx[l.q0[v]].rect.offset(o,D);l.st=!0}};p.JI.xo=function(l,o,D,H){var _=l.R[o];l.f.rect.offset(D,H);
_.HE(l,D,H,l.f);l.RW=!0;l.V()};p.JI.prototype.Jm=function(l,o,D,H,_,u){this._y(l,_,D);this.pS(l);if(Date.now()-this.RF<300&&!u){var S=p.lX.Ts(l,l.w.vp(_.x,_.y));
if(p.JI.ZE(D,_,l.w,!0)){var h=new jJ(k.E.b);if(_.y>l.w.T3._-20){h.data={q:k.L.E1,mg:"doczoom",aC:l.w.F*100,WF:{K:k.E.r,S:p.Nk,m:{q:"pzoom"}}}}else{h.data={q:k.L.E1,mg:"preferences"}}o.A(h)}else if(S>=0){var F=new jJ(k.E.r,!0);
F.S=p.gg;F.data={q:"editCurr",LX:S};o.A(F)}}this.RF=Date.now();p.WS.rq(l)};p.JI.prototype._y=function(l,o,D,H,_){if(!this.ku)return;
this.ku=!1;if(this.q==0){if(H){this.avV(l,null,H,_)}else{if(this.cN.x==0&&this.cN.y==0)return;this.avV(l,this.cN.clone())}l.LD=!0}else if(this.q==2){var u=0;
o=[o.x,o.y];var S=this.t_,h=l.oJ[S],aO=this.Ci[0].length,F=l.oJ.length;if(D.QC&&o[h[0]]<g.vL.wv){var n=l.we();
n[0].splice(S,1);n[1].splice(S,1);l.l0(n);u=1;if(aO==F-1)return}if(aO<F)u=2;var R=new fL([[23,2],[23,3],[23,4]][u],this);
R.data={q:2,Ci:this.Ci,fY:l.we()};l.kE(R)}else if(this.q==4){var R=new fL([12,54],this);R.data={q:4,T:l.q0.slice(0),i:this.cN.clone()};
l.kE(R)}this.cN.pN(0,0)};p.JI.prototype.WP=function(l,o,D,H){var _=H.Dr(l?l.w.vb:0);if(l!=null&&(_.x!=0||_.y!=0)){if(H.W(e_.zg)&&l.f==null){var u=new jJ(k.E.r);
u.S=p.wU;u.data={q:d.r$,avv:!0};o.A(u)}this.cN.pN(_.x,_.y);this.RE(l,o,H,D,!1);if(!this.ku)return;this.Fi(l,_.x,_.y);
this._y(l,null,D);this.pS(l)}var S=H.W(e_.Cm);if(!this.cl&&this.ayJ!=S){if(S){this.av0=this.MI.li;this.MI.li=!0}else{this.MI.li=this.av0}this.ayJ=S;
var h=new jJ(k.E.b,!0);h.data={q:k.L.BQ,S:this.id,Bt:this.MI};o.A(h)}};p.JI.prototype.H$=function(l,o){if(l.q==0){var D=l.Af;
if(D){o.MQ(D.Bj);o.T=D.q2.slice(0);o.V();o.aH=!0}p.JI.xp(o,l.T,l.X_,l.Lj,!0);p.WS.rq(o)}else if(l.q=="fcmy"||l.q=="fvec"){if(l.aC==0)delete o.add[l.q];
else o.add[l.q]=l.aC;o.st=!0}else if(l.q=="pview"){o.j$=!o.j$;o.V()}else if(l.q==2){o.l0(l.Ci);o.st=!0}else if(l.q==4){for(var v=0;
v<l.T.length;v++)o.Lx[l.T[v]].rect.offset(-l.i.x,-l.i.y);o.st=!0}else{var H=o.R[l.U];if(l.ik){H.Et(o,l.mZ);
o.f=l.dP;o.RW=!0;o.V();H.V()}else{p.JI.xo(o,l.U,-l.me.x,-l.me.y)}}};p.JI.prototype.j1=function(l,o){if(l.q==0){p.JI.xp(o,l.T,l.X_,l.Lj);
var D=l.Af;if(D){o.MQ(D.Z8);o.T=D.ZK.slice(0);o.V();o.aH=!0}p.WS.rq(o)}else if(l.q=="fcmy"||l.q=="fvec"){if(l.zc==0)delete o.add[l.q];
else o.add[l.q]=l.zc;o.st=!0}else if(l.q=="pview"){o.j$=!o.j$;o.V()}else if(l.q==2){o.l0(l.fY);o.st=!0}else if(l.q==4){for(var v=0;
v<l.T.length;v++)o.Lx[l.T[v]].rect.offset(l.i.x,l.i.y);o.st=!0}else{var H=o.R[l.U];if(l.ik){H.qY=l.qY;
o.f=l.pQ;p.JI.xo(o,l.U,0,0);H.V()}else{p.JI.xo(o,l.U,l.me.x,l.me.y)}}};p.JI.prototype.avV=function(l,o,D,H){if(D){var _=!0;
for(var v=0;v<D.length;v++)if(D[v]!=0)_=!1;if(_)return}var u=l.history[l.IL],S=this.tt,h=S!=null&&S[3]!=-1&&S[0]==l;
if(!h&&D==null&&u.data&&u.S==this&&u.data.q==0&&JSON.stringify(u.data.T)==JSON.stringify(this.t_)&&JSON.stringify(u.data.X_)==JSON.stringify(this.xG)){var F=u.data.Lj,n=u.data.aDN.M1.T.v;
n.Hrzn.v.val+=o.x;n.Vrtc.v.val+=o.y;for(var v=0;v<F.length;v+=2){F[v]+=o.x;F[v+1]+=o.y}}else{if(o==null)o=new he(D[0],D[1]);
var R={vS:"move",M1:{classID:"null",null:bt.NA("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:o.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:o.y}}}}}},s=null;
if(h)s={Bj:S[1],q2:S[2],Z8:l.R.slice(0),ZK:l.T.slice(0)};this.tt=null;var Z=new fL(H?H:[12,54],this);
if(D)Z.data={q:0,T:this.t_,X_:this.xG,Af:s,Lj:D};else Z.data={q:0,T:this.t_,X_:this.xG,Af:s,Lj:p.JI.afq(this.t_,o.x,o.y)};
Z.data.aDN=R;l.kE(Z);this.track(R)}};p.JI.afq=function(l,o,D){var H=[];for(var v=0;v<l.length;v++)H.push(o,D);
return H};p.JI.uN=function(l,o,D,H,_){p.JI.xp(l,o,D,p.JI.afq(o,H,_))};p.JI.xp=function(l,o,D,H,_){if(o.length==0)return;
if(D==null){D=[];for(var v=0;v<o.length;v++){D.push(l.R[o[v]].Un(l,!0))}}var u=new gt,S=new gt(0,0,l.Q,l._);
for(var v=0;v<o.length;v++){var h=H[2*v],F=H[2*v+1];if(_){h=-h;F=-F}var n=l.R[o[v]],R=D[v];if(n.add.fxrp&&(R.indexOf(0)!=-1||n.RR()))n.add.fxrp.offset(h,F);
for(var s=0;s<R.length;s++){var Z=R[s];if(Z==0){n.rect.offset(h,F);if(n.pn()&&n.nN(l))n.nN(l).rect.offset(h,F);
if(n.add.artb){var O=n.IH();O.offset(h,F);n.Hh(O);var w=n.add.artb.guideIndeces;w=w?w.v:[];for(var m=0;
m<w.length;m++){var V=l.oJ[w[m].v];V[1]+=V[0]==0?h:F}}if(n.add.TySh){n.add.TySh.h.translate(h,F);if(n.add.TySh.add){n.add.TySh.add.vmsk.offset(h,F)}}if(n.add.SoLd){var q=new de(1,0,0,1,h,F),i=n.add.SoLd,c=p.cA.TX(i.Trnf),z=p.cA.TX(i.nonAffineTransform);
g.X.h(c,q,c);g.X.h(z,q,z);i.Trnf=p.cA.y3(c);i.nonAffineTransform=p.cA.y3(z);p.cA.a5P(i,q)}}if(Z==1)n.KQ().rect.offset(h,F);
if(Z==2){n.add.vmsk.offset(h,F);if(n.add.vogk)g.uQ.h(n.add.vogk,[1,0,h,0,1,F,0,0],[]);if(n.rD._A){var B=n.rD._A.Xz.s;
g.X.h(B,new de(1,0,0,1,h,F),B)}}if(Z==3){n.nN(l).I.rect.offset(h,F);if(R.length==1)n.V()}}if(R.length>0){var t=n.add.GdFl;
if(t==null)t=n.add.PtFl;if(n.RR()&&!n.o9()&&n.add.vmsk!=null&&g.n.fM(n.add.vmsk.d)&&n.add.vmsk.dJ==255&&(t==null||t.Algn&&t.Algn.v)){n.rect.offset(h,F)}else n.C$(l);
var a=l.root.l3(n.pZ(l),l,o[v]);if(n.add.artb)a=a.tB(n.IH());u=u.tB(a);a.offset(-h,-F);u=u.tB(a);if(n.AN()&&n.I&&n.I.color==255)u=u.tB(S);
n.a9Y()}}l.V(g.X.rP(u))};p.JI.a3$=function(l,o){var D=[];for(var v=0;v<o.length;v++){var H=l.R[o[v]];
D.push(H.Un(l))}return D};p.JI.Jz=function(l,o,D){var H={s:[],v:[]},_=o.x+D[0],u=o.y+D[1];if(D[2]!=1e9){H.v.push("M","L");
var S=u+o._;if(D[4])H.s.push(D[2],Math.min(u,S,D[4][1]),D[2],Math.max(u,S,D[4][1]));else H.s.push(D[2],u,D[2],u+o._)}if(D[3]!=1e9){H.v.push("M","L");
var h=_+o.Q;if(D[5])H.s.push(Math.min(_,h,D[5][0]),D[3],Math.max(_,h,D[5][0]),D[3]);else H.s.push(_,D[3],h,D[3])}if(H.s.length!=0){l.D.b3=H;
l.st=!0}};p.JI.KN=function(l,o,D,H){var _=p.JI.a76(l,[[o.x],[o.y]],D,H);return new he(o.x+_[0],o.y+_[1])};
p.JI.l2=function(l,o,D,H,_){var u=_==!0?1:.5,S=p.JI.a76(l,[[o.x,o.x+Math.round(o.Q*u),o.x+o.Q],[o.y,o.y+Math.round(o._*u),o.y+o._]],D,H);
return S};p.JI.a76=function(l,o,D,H){if(H==null)H=[!0,null,!0];var _=[0,0,1e9,1e9,null,null];if(!D.Je)return _;
var u=JSON.parse(JSON.stringify(o));for(var S=0;S<2;S++){var h=1e9,F=o[S],n=0,R=null;for(var s=0;s<F.length;
s++){var Z=p.JI.atI(l,F[s],u[1-S][s],S,D,H),O=Z[0];if(O!=1e9)u[S][s]=O;if(O!=1e9&&Math.abs(O-F[s])<Math.abs(h)){h=O-F[s];
n=O;R=Z[1]}}if(h!=1e9){_[S]=h;_[S+2]=n;_[S+4]=R}}return _};p.JI.atI=function(l,o,D,H,_,u){var S=1e9,h=null,F=_.mf,n=_.og,R=[l.root];
while(R.length!=0&&F[2]){var s=R.pop(),Z=s.U,O=Z.rect;if(!Z.zd())continue;if(s.children)for(var v=0;
v<s.children.length;v++)R.push(s.children[v]);if(l.T.indexOf(s.index)!=-1||O.lh())continue;var w=O.Q,m=w>>>1,V=O._,q=V>>>1,i=S;
if(H==0){if(Math.abs(O.x-o)<Math.abs(S-o))S=O.x;if(Math.abs(O.x+m-o)<Math.abs(S-o))S=O.x+m;if(Math.abs(O.x+w-o)<Math.abs(S-o))S=O.x+w}else{if(Math.abs(O.y-o)<Math.abs(S-o))S=O.y;
if(Math.abs(O.y+q-o)<Math.abs(S-o))S=O.y+q;if(Math.abs(O.y+V-o)<Math.abs(S-o))S=O.y+V}if(i!=S){h=[O.x+m,O.y+q]}}var c=S;
S=1e9;if(u[0]&&F[0]&&n.oJ&&_.bX){var z=l.we(),B=z[0],t=z[1],a=l.NQ();for(var v=0;v<B.length;v++)if((t[v]==-1||t[v]==a)&&B[v][0]==H&&Math.abs(B[v][1]-o)<Math.abs(S-o))S=B[v][1]}if(F[1]&&n.yc&&_.bX){var I=Math.round(g.vL.bQ(n.Aq,l.on,l.Q,n.EG));
if(H==1&&n.ki==1){var N=D*.5*Math.sqrt(4/3),J;I*=Math.sqrt(4/3);J=Math.round((o-N)/I)*I+N;if(Math.abs(J-o)<Math.abs(S-o))S=J;
J=Math.round((o+N)/I)*I-N;if(Math.abs(J-o)<Math.abs(S-o))S=J}else{var J=Math.round(o/I)*I;if(Math.abs(J-o)<Math.abs(S-o))S=J}}var Q=l.n0;
if(F[3]&&n.n0&&_.bX&&Q.length!=0){for(var v=0;v<Q.length;v++){if(!u[2]&&l.$h.indexOf(v)!=-1)continue;
var A=p.d8.W6(Q,v);for(var f=0;f<3;f+=2)if(A[f+H]!=o&&Math.abs(A[f+H]-o)<Math.abs(S-o))S=A[f+H]}}if(u[1])for(var W=0;
W<u[1].length;W++){var O=u[1][W],w=O.Q,V=O._,m=w>>>1,q=V>>>1;if(u[3]){m=w/2;q=V/2}var C=[O.x,O.y,O.x+m,O.y+q,O.x+w,O.y+V];
for(var v=0;v<6;v+=2)if(Math.abs(C[v+H]-o)<Math.abs(S-o))S=C[v+H]}if(F[4]){var O=new gt(0,0,l.Q,l._),a=l.NQ();
if(a!=-1)O=l.R[a].IH();var w=O.Q,V=O._,m=w>>>1,q=V>>>1;if(u[3]){m=w/2;q=V/2}var C=[O.x,O.y,O.x+m,O.y+q,O.x+w,O.y+V];
for(var v=0;v<6;v+=2)if(Math.abs(C[v+H]-o)<Math.abs(S-o))S=C[v+H]}if(Math.abs(S-o)<=Math.abs(c-o))h=null;
else S=c;var j=Math.abs(S-o)<=4*p.Y()/l.w.F?S:1e9;return[j,h]};p.ea=function(){p.OK.call(this,[10,12],p.i$,"tools/mwand");
this.uT=null};p.ea.prototype=new p.OK;p.ea.prototype.GZ=function(l,o,D,H){this.uT=H;this.aza=this.MI.wconf[0];
this.finish(l,o,D,H)};p.ea.prototype.n$=function(l,o,D,H,_){if(!H.gz)return;var u=new jJ(k.E.r);u.S=p.zo;
u.data={q:"h_stepbck"};_.A(u);var S=H.x-this.uT.x,h=Math.max(0,Math.min(255,Math.round(this.aza+S/4)));
this.MI.wconf[0]=h;this.fK(_);this.finish(l,o,D,this.uT)};p.ea.prototype.lK=function(l,o,D,H,_){this.MI.wconf[0]=this.aza;
this.fK(_)};p.ea.prototype.getSelection=function(l,o,D,H){var _=this.FR;_=l.w.vp(H.x,H.y);var u=p.OK.aE4(new he(Math.floor(_.x),Math.floor(_.y)),this.MI.wconf,this.MI.sall);
return u};p.ea.a5n=function(l,o,D,H,_){if(o.x<0||o.x>l.Q||o.y<0||o.y>l._)return null;var u,S=new gt(0,0,l.Q,l._);
if(H)u=l.zG();else{var h=l.T.length,n=null;if(h!=1){alert(h==0?"No layer selected.":"More than one layer selected.");
return null}var F=l.R[l.T[0]],R=F.Ih<=0?null:F.Ih==1?F.KQ():F.nN(l).I;if(_||R&&R.Pj)n=R;if(n==null&&F.add.lsct!=null&&F.add.lsct!=jl.f4){alert("No layer selected.");
return null}if(n==null&&S.kn(F.rect))u=F.buffer;else{u=g.o(S.c()*4);if(n==null)g.Qo(F.buffer,F.rect,u,S);
else p.hL.Cq(n.channel,n.rect,n.color,u,S)}}var s=p.ea.im(u,S,o,null,D),Z=g.uA(s,S),O=g.o(Z.c());g.mB(s,S,O,Z);
return{rect:Z,channel:O}};p.ea.Eo=function(l,o,D){var H=o.Q,_=o._,S=0,h=0,F=0,n=0;l=new Uint32Array(l.buffer);
var u=[],R=D.length;for(var v=0;v<R;v++){var s=D[v],Z=Math.round(s.x-.5-o.x),O=Math.round(s.y-.5-o.y);
Z=Math.max(0,Math.min(H-1,Z));O=Math.max(0,Math.min(_-1,O));var w=O*H+Z,m=l[w];u.push([m&255,m>>8&255,m>>16&255,m>>>24])}return u};
p.ea.im=function(l,o,D,H,_){l=new Uint32Array(l.buffer);var u=o.Q,S=o._,h=u*S;if(H==null)H=p.ea.Eo(l,o,[D]);
var F=Math.round(D.x-.5-o.x),n=Math.round(D.y-.5-o.y),R=n*u+F,s=Date.now(),Z=g.o(u*S),O=_[0],w=1/O,m=_[1]&&O>0?255:0;
if(_[2]){var V=g.o(Z.length),q=new Uint32Array(h),i=1;q[0]=F<<16|n;V[R]=1;while(i>0){var c=q[i-1];i--;
var z=c>>>16,B=c&65535,v=B*u+z,t=p.ea.WI(l[v],H);if(t>O){var a=m*(1-Math.max(0,Math.min(1,(t-O)*w)));
Z[v]=~~a}else{Z[v]=255;if(B!=S-1&&V[v+u]==0){q[i++]=z<<16|B+1;V[v+u]=1}if(B!=0&&V[v-u]==0){q[i++]=z<<16|B-1;
V[v-u]=1}if(z!=u-1&&V[v+1]==0){q[i++]=z+1<<16|B;V[v+1]=1}if(z!=0&&V[v-1]==0){q[i++]=z-1<<16|B;V[v-1]=1}}}}else{for(var v=0;
v<h;v++){var t=p.ea.WI(l[v],H);if(t<=O)Z[v]=255}for(var B=0;B<S;B++)for(var z=0;z<u;z++){var v=B*u+z;
if(Z[v]==0&&(z>0&&(Z[v-1]==255||B>0&&Z[v-u-1]==255||B<S-1&&Z[v+u-1]==255)||z<u-1&&(Z[v+1]==255||B>0&&Z[v-u+1]==255||B<S-1&&Z[v+u+1]==255)||B>0&&Z[v-u]==255||B<S-1&&Z[v+u]==255)){var t=p.ea.WI(l[v],H),a=m*(1-Math.max(0,Math.min(1,(t-O)*w)));
Z[v]=~~a}}}return Z};p.ea.WI=function(l,o){var D=o.length,H=p.ea.abV(l,o[0]),v=1;while(v!=D){H=Math.min(H,p.ea.abV(l,o[v]));
v++}return H};p.ea.abV=function(l,o){var D=l&255,H=l>>>8&255,_=l>>>16&255,u=l>>>24&255;if(o[3]==0)return u<5?0:255;
var S=Math.max(Math.abs(D-o[0]),Math.max(Math.abs(H-o[1]),Math.abs(_-o[2])));return u==0?255:S};p.zA=function(l,o){if(o)p.hL.call(this);
else if(l)p.hL.call(this,[10,49],p.Yz,"tools/camove");else p.hL.call(this,[10,26],p.fV,"tools/patch");
this.jc=null;this._A=null;this.i=null;this.Q4=null;this.fs=new he;this.zr=null;this.u3=null};p.zA.prototype=new p.hL;
p.zA.prototype.GE=function(l,o,D,H,_){var u=l.w.vp(_.x,_.y);if(l.f&&g.Id(u,l.f.channel,l.f.rect)){var S=new gt(0,0,l.Q,l._),h=S.$o(l.f.rect);
if(!l.o_()||h.lh())return;if(!0){var F=g.o(h.c());g.mB(l.f.channel,l.f.rect,F,h);l.f={channel:F,rect:h}}this.J5(l);
this.Q_(l);this.Q4=u;this.fs=new he(u.x-l.f.rect.x,u.y-l.f.rect.y);this.u3=g.o(l.f.rect.c()*4);this.u3.fill(255);
if(this.MI.patch==1){var n=l.R[l.T[0]];n.sn(l,l.f,!0);if(n.qY==null)this.Q4=null}this.zr=l.f.rect.clone()}else{this._A={s:[u.x,u.y],v:["M"]};
this.jc=u}};p.zA.prototype.XR=function(l,o,D,H,_){var u=l.w.vp(_.x,_.y);if(this.Q4){if(this.MI.patch==1){if(l.q0.length==0){var S=l.R[l.T[0]].qY,h=u.x-this.fs.x,F=u.y-this.fs.y;
p.JI.xo(l,l.T[0],Math.round(h-S.PH.x),Math.round(F-S.PH.y))}}else this.agR(l,u,"clone")}if(this.jc){this._A.v.push("L");
this._A.s.push(u.x,u.y);this.jc=u;l.D.T9=this._A;l.st=!0}};p.zA.prototype.Jm=function(l,o,D,H,_){var u=l.w.vp(_.x,_.y);
if(this.Q4){var S=l.f.rect.clone();if(this.id==p.Yz){var h=l.R[l.T[0]];h.Et(l,h.qY);l.f.rect=this.zr.clone();
var F=g.o(l.f.rect.c()*4);g.Kl(l.f.channel,F,3);this.xJ(l,"sheal",F,l.f.rect,l.f.rect);l.f.rect=S;S=S.tB(this.zr)}this.agR(l,u,"heal");
this.finish(l,S,null,null,!0);l.V(S);this.Q4=null}if(this.jc){var n=p.OK.S9(this.MI.setop,H.W(e_.eo),H.W(e_.zg)),R=new jJ(k.E.yT,!0);
if(this._A.s.length<=4)R.data=p.OK.Hy();else R.data=p.OK.Rt(this._A.s,n);o.A(R);this.jc=null;l.D.T9=null;
l.st=!0}};p.zA.prototype.B0=function(){return this.i};p.zA.prototype.hy=function(l,o,D,H,_){p.hL.prototype.hy.call(this,l,o,D,H,_);
this.Rx(_,H)};p.zA.prototype.Rx=function(l,o){var D="auto;";if(o!=null&&o.W(e_.eo)&&!o.W(e_.zg)||this.MI.setop=="union")D="copy";
var H=new jJ(k.E.b,!0);H.data={q:k.L.yx,oD:D};if(this.caller)this.caller.A(H)};p.zA.prototype.agR=function(l,o,D){var H=new he(Math.round(this.Q4.x-o.x),Math.round(this.Q4.y-o.y));
if(this.MI.patch==1)H.pN(-H.x,-H.y);this.i=H;this.xJ(l,D,this.u3,l.f.rect,l.f.rect);this.V(l,l.f.rect)};
p.adP=function(){p.zA.call(this,!0);this.MI.patch=1};p.adP.prototype=new p.zA(!0,!0);p.wy=function(l){if(l)p.hL.call(this,[10,52],p.akt,"tools/meraser");
else p.hL.call(this,[10,13],p.ak_,"tools/pbucket");this.ky=!1;this.a9X=l};p.wy.prototype=new p.hL;p.wy.prototype.enable=function(l,o,D,H){var _=new jJ(k.E.b,!0);
_.data={q:k.L.yx,oD:"default"};o.A(_)};p.wy.prototype.Ip=function(l,o){};p.wy.prototype.GE=function(l,o,D,H,_){if(this.FZ(l,o,D,H,_,!0))return;
this.ky=!0};p.wy.prototype.XR=function(l,o,D,H,_){if(this.FZ(l,o,D,H,_))return};p.wy.prototype.Jm=function(l,o,D,H,_,u){this.enable(l,o,D,H);
var S=this.ky;this.ky=!1;if(!S||u)return;if(!l.o_())return;var h=l.w.vp(_.x,_.y),F=p.ea.a5n(l,h,this.MI.wconf,this.MI.sall,!0);
if(F==null)return;var n=g.o(F.rect.c()*4);g.M5(n,(D.Os&255)<<16|(D.Os>>8&255)<<8|(D.Os>>16&255)<<0);
g.Kl(F.channel,n,3);this.J5(l);this.xJ(l,this.a9X?"erase":"draw",n,F.rect,F.rect);this.V(l,F.rect);this.finish(l,F.rect)};
p.dz=function(){p.OK.call(this,[10,14],p.a5V,"tools/plasso");this.he="crosshair";this.SK=[];this.iJ=null;
this._A=null;this.ab6=0};p.dz.prototype=new p.OK;p.dz.prototype.disable=function(l,o,D,H){this.SD(l)};
p.dz.prototype.GZ=function(l,o,D,H){this.SK=[e_.Ab,e_.O1]};p.dz.prototype.iL=function(l){return this.SK.indexOf(l)!=-1};
p.dz.prototype.tT=function(l){return this._A!=null};p.dz.prototype.Y6=function(){return this._A!=null};
p.dz.prototype.Iu=function(){return this._A!=null};p.dz.prototype.n$=function(l,o,D,H){if(this._A==null)return;
var _=this._A,u=_.s,S=u.length-2,h=this.FR;if(this.$w.Fk(1)&&D.W(e_.zg)&&H.gz){u.push(0,0);_.v.push("L");
S+=2}else if(D.W(e_.eo))h=p.Sp.vk(new he(u[S-2],u[S-1]),h);u[S]=h.x;u[S+1]=h.y;l.D.T9=_;l.st=!0};p.dz.prototype.lK=function(l,o,D,H){var _=Date.now();
if(this._A==null)this._A={s:[this.FR.x,this.FR.y,this.FR.x,this.FR.y],v:["M","L"]};else{this.n$(l,o,D,H);
if(_-this.ab6<250||he.At(this.FR,new he(this._A.s[0],this._A.s[1]))<p.zU(l,H)){this.iJ=this._A;this.finish(l,o,D,H);
this.SD(l);return}this._A.v.push("L");this._A.s.push(this.FR.x,this.FR.y)}this.ab6=_;l.D.T9=this._A};
p.dz.prototype.SD=function(l){this._A=null;this.SK=[];if(l!=null){l.D.T9=null;l.st=!0}};p.dz.prototype.WP=function(l,o,D,H){p.OK.prototype.WP.call(this,l,o,D,H);
if(H.W(e_.aZ)&&this._A==null&&this.iJ&&l.f!=null){var _=new jJ(k.E.r);_.S=p.zo;_.data={q:"h_stepbck"};
o.A(_);this.GZ(l,D,H,null);this._A=this.iJ;return}if(this._A==null)return;if(H.W(e_.Ab)||H.W(e_.O1)){this._A.s.pop();
this._A.s.pop();this._A.v.pop();this.n$(l,D,H)}if(H.W(e_.PA)){if(this._A.s.length>4){this.iJ=this._A;
this.finish(l,D,H)}this._A=null}if(H.W(e_.aZ)){this._A=null}l.D.T9=this._A;l.st=!0};p.dz.prototype.getSelection=function(l,o,D,H){return p.OK.Rt(this._A.s,null,this.MI.anta)};
p.g9=function(){p.OK.call(this,[10,10],p.aba,"tools/mlasso");this.he="crosshair";this.SK=[];this.d=[];
this.S5=[];this.j7=[];this.EM=null;this.lA=null;this.BW=null;this.RF=0;this.m0=0};p.g9.prototype=new p.OK;
p.g9.prototype.disable=function(l,o,D,H){this.clear(l)};p.g9.prototype.tT=function(l){return this.d.length!=0};
p.g9.prototype.Iu=function(){return this.d.length!=0};p.g9.prototype.iL=function(l){return this.SK.indexOf(l)!=-1};
p.g9.prototype.GZ=function(l,o,D,H){this.SK=[e_.Ab,e_.O1];var _=this.qQ(this.__,l);if(this.d.length!=0&&(he.At(_,this.d[0])<p.zU(l,H)||Date.now()-this.RF<300)){this.Mm(l,this.d[0]);
this.finish(l,o,D);this.clear(l);return}this.RF=Date.now();if(this.d.length!=0)_=this.RY(_,l);else{var u=l.Q,S=l._,h=g.o(u*S),F=l.zG(),n=u*S*4;
for(var v=0;v<n;v+=4)h[v>>>2]=~~(.5+g.cn(F[v],F[v+1],F[v+2])*(F[v+3]*(1/255)));this.EM=g.Hz.a3C(h,u,S);
this.BW=new Uint16Array(h.length)}this.Mm(l,_);this.m0=D.W(e_.zg)?1:0;this.G6(l)};p.g9.prototype.Mm=function(l,o){var D=this.d;
this.S5[D.length]=this.j7.length;if(D.length!=0){g.Hz.bP(this.lA,o.y*l.Q+o.x);var H=this.X$(l,o);H.reverse();
var _=p.g9.auS(l,H);this.j7=this.j7.concat(_)}D.push(o);this.awU(l)};p.g9.prototype.awU=function(l){var o=this.d[this.d.length-1],D=o.y*l.Q+o.x;
this.lA=g.Hz.aaj(this.EM.mW,this.EM.Cx,D);this.BW.fill(0)};p.g9.prototype.qQ=function(l,o){return new he(Math.floor(Math.max(0,Math.min(o.Q-1,l.x))),Math.floor(Math.max(0,Math.min(o._-1,l.y))))};
p.g9.prototype.clear=function(l){this.j7=[];this.d=[];this.S5=[];this.EM=null;this.lA=null;this.BW=null;
if(l!=null){l.D.T9=null;l.D.XA=[];l.st=!0}this.SK=[]};p.g9.prototype.n$=function(l,o,D,H){var _=this.d,u=_.length;
if(u==0)return;var S=this.RY(this.qQ(this.FR,l),l),h=this.X$(l,S);for(var v=0;v<h.length;v++){var F=h[v],n=new he(F%l.Q,Math.floor(F/l.Q));
if(this.BW[F]>30&&he.At(n,_[u-1])>20){this.Mm(l,n);return}this.BW[F]++}if(this.m0==1&&H.gz)this.Mm(l,S);
this.G6(l)};p.g9.prototype.G6=function(l){var o=this.d;if(o.length!=0){var D=this.RY(this.qQ(this.FR,l),l),H=this.X$(l,D);
H.reverse();var _=p.g9.auS(l,H),u=this.j7.concat(_),S=l.D.T9={s:u,v:["M"]};for(var v=2;v<u.length;v+=2)S.v.push("L")}l.D.XA=[];
for(var v=0;v<o.length;v++)l.D.XA.push(o[v].x+.5,o[v].y+.5);l.st=!0};p.g9.prototype.lK=function(l,o,D,H){};
p.g9.prototype.WP=function(l,o,D,H){if(this.d.length==0)return;if(H.W(e_.Ab)||H.W(e_.O1)){this.d.pop();
this.j7=this.j7.slice(0,this.S5[this.d.length]);this.S5.pop();if(this.d.length==0)this.clear(l);else this.awU(l);
this.G6(l)}if(H.W(e_.PA)){var _=this.qQ(this.FR,l);this.Mm(l,_);this.finish(l,D,H);this.clear(l)}if(H.W(e_.aZ)){this.clear(l)}};
p.g9.prototype.getSelection=function(l,o,D,H){return p.OK.Rt(this.j7,null,this.MI.anta)};p.g9.prototype.X$=function(l,o){var D=this.d[this.d.length-1],H=D.y*l.Q+D.x,_=o.y*l.Q+o.x;
if(this.m0==1)return[_,H];var u=[_];while(_!=H){_=this.lA.lP[_];u.push(_);if(u.length>5e3){console.log(u);
throw"e"}}return u};p.g9.auS=function(l,o){var D=[],H=l.Q;for(var v=0;v<o.length;v++){var _=o[v];D.push(_%H+.5,Math.floor(_/H)+.5)}return D};
p.g9.prototype.RY=function(l,o){var D=o.Q,H=o._,_=l.clone(),S=3;g.Hz.bP(this.lA,l.y*D+l.x);var u=this.lA.$l[l.y*D+l.x];
for(var h=-S+1;h<S;h++)for(var F=-S+1;F<S;F++){var n=l.x+F,R=l.y+h;if(n<0||n>=D||R<0||R>=H)continue;
g.Hz.bP(this.lA,R*D+n);if(this.lA.$l[R*D+n]<u)_.pN(n,R)}return _};p.JF=function(){p.vA.call(this,[10,36],p.wD,"tools/ruler");
this.Qz=null;this.Bn=null;this.sD=null;this.sm=null;this.gE=null};p.JF.prototype=new p.vA;p.JF.prototype.tT=function(l){return l.gz};
p.JF.prototype.enable=function(l,o,D,H){p.vA.prototype.enable.call(this,l,o,H,D);if(l)this.pS(l)};p.JF.prototype.disable=function(l,o,D,H){if(l)this.SD(l)};
p.JF.prototype.Cf=function(l,o,D,H,_){this.Qz=this.sD=null;this.pS(D)};p.JF.prototype.GE=function(l,o,D,H,_){var u=p.zU(l,_),S=l.w.vp(_.x,_.y);
S.x=Math.round(S.x);S.y=Math.round(S.y);var h=this.Qz;this.Bn=h?h.slice(0):null;var F=h&&he.At(S,h[0])<u,n=h&&he.At(S,h[1])<u,R=h&&h[2]&&he.At(S,h[2])<u;
if(F||n||R){if(H.W(e_.zg)&&h.length==2){if(n){var s=h[0];h[0]=h[1];h[1]=s}h[2]=h[0].clone();this.sD=[2]}else this.sD=[F?0:n?1:2]}else if(h&&p.JF.adh(h[0],h[1],S)<u&&Math.min(h[0].x,h[1].x)-5<=S.x&&S.x<=Math.max(h[0].x,h[1].x)+5&&Math.min(h[0].y,h[1].y)-5<=S.y&&S.y<=Math.max(h[0].y,h[1].y)+5){this.sD=[];
this.gE=[];for(var v=0;v<h.length;v++){this.sD.push(v);this.gE.push(h[v].clone())}this.sm=S}else{this.Qz=[S.clone(),S.clone()];
this.sD=[1]}};p.JF.prototype.XR=function(l,o,D,H,_){if(this.sD==null)return;var u=this.Qz,S=this.sD,h=l.w.vp(_.x,_.y);
h.x=Math.round(h.x);h.y=Math.round(h.y);if(S.length>1){var F=h.x-this.sm.x,n=h.y-this.sm.y;for(var v=0;
v<u.length;v++){u[v]=this.gE[v].clone();u[v].offset(F,n)}}else{u[S[0]].pN(h.x,h.y);if(H.W(e_.eo)){u[S[0]]=p.Sp.vk(u[1-S[0]],u[S[0]])}}this.pS(l);
this.Vx(o,k.E.b,{q:k.L.BQ,S:this.id,ao_:u[0],TE:u[1],tV:u[2],on:l.on,a49:l.Q});l.w._$=g.X.Mg([u[0].x,u[0].y,u[1].x,u[1].y]);
console.log(l.w._$)};p.JF.prototype.Jm=function(l,o,D,H,_,u){this.sD=null;if(u){this.Qz=this.Bn.slice(0);
this.pS(l)}};p.JF.prototype.Vx=function(l,o,D){var H=new jJ(o,!0);H.data=D;l.A(H)};p.JF.prototype.pS=function(l){var o=this.Qz;
if(o==null)this.SD(l);else{var D=[o[1].x,o[1].y,o[0].x,o[0].y],H=["M","L"];if(o.length>2){D.push(o[2].x,o[2].y);
H.push("L")}l.D.T9={v:H,s:D};l.D.XA=D}l.st=!0};p.JF.prototype.SD=function(l){l.D.T9=null;l.D.XA=[]};
p.JF.adh=function(l,o,D){var H=o.x-l.x,_=o.y-l.y,u=Math.abs(_*D.x-H*D.y+o.x*l.y-o.y*l.x),S=Math.sqrt(H*H+_*_);
return S==0?0:u/S};p.ZC=function(){p.hL.call(this,[10,19],p.hF,"tools/sharpen");this.C2="copy"};p.ZC.prototype=new p.hL;
p.ZC.prototype.GE=function(l,o,D,H,_){var u=this.MI.pdetail?ie.kO:ie.hF;if(H.W(e_.zg))u=ie.zY;this.c8(l,D,H,_,this.MI.strn,u);
if(this.nX==null)return;this.Cb(l)};p.ZC.prototype.XR=function(l,o,D,H,_){this.pk(l,o,D);if(this.m2)this.ue(l,D,_);
if(this.nX==null)return;if(!_.gz)return;this.p8(l,D,H,_);this.Cb(l)};p.av=function(){p.hL.call(this,[10,24],p.oH,"tools/shbrush");
this.C2="draw";this.MI.opacity=.5};p.av.prototype=new p.hL;p.av.prototype.GE=function(l,o,D,H,_){this.c8(l,D,H,_,1);
if(this.nX==null)return;this.Q_(l);this.Cb(l)};p.av.prototype.XR=function(l,o,D,H,_){this.pk(l,o,D);
if(this.m2)this.ue(l,D,_);if(this.nX==null)return;if(!_.gz)return;this.p8(l,D,H,_);this.Cb(l)};p.av.prototype.Jm=function(l,o,D,H,_){if(this.nX==null)return;
this.xJ(l,"sheal",this.nX.VA(),this.nX.fZ(),this.nX.LT(),null);this.V(l,this.nX.LT());p.hL.prototype.Jm.call(this,l,o,D,H,_)};
p.a5=function(){p.hL.call(this,[10,20],p.IO,"tools/smudge");this.C2="copy"};p.a5.prototype=new p.hL;
p.a5.prototype.GE=function(l,o,D,H,_){var u=this.MI.brush.toolOptions;this.c8(l,D,H,_,this.MI.strn,ie.IO);
if(this.nX==null)return;this.Cb(l)};p.a5.prototype.XR=function(l,o,D,H,_){this.pk(l,o,D);if(this.m2)this.ue(l,D,_);
if(this.nX==null)return;if(!_.gz)return;this.p8(l,D,H,_);this.Cb(l)};p.bt=function(){p.hL.call(this,[10,23],p.HV,"tools/sponge");
this.C2="sponge"};p.bt.prototype=new p.hL;p.bt.prototype.GE=function(l,o,D,H,_){this.c8(l,D,H,_,this.MI.flow);
if(this.nX==null)return;this.Cb(l)};p.bt.prototype.XR=function(l,o,D,H,_){this.pk(l,o,D);if(this.m2)this.ue(l,D,_);
if(this.nX==null)return;if(!_.gz)return;this.p8(l,D,H,_);this.Cb(l)};p._1=function(){p.vA.call(this,[10,17],p.Nk,"tools/zoom");
this.L5=!1;this.j8=!0;this.NN=!1;this.JD=0;this.K4=null;this.wu=null;this.jW=0;this.SB=null;this.ace=0;
this.iu=new fg([{name:[8,0],Ui:"Ctrl + +"},{name:[8,1],Ui:"Ctrl + -",ab:!0},{name:[20,3],Ui:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],Ui:"Ctrl + 1"}],[{K:k.E.r,S:p.Nk,m:{q:"zoom",j8:!0}},{K:k.E.r,S:p.Nk,m:{q:"zoom",j8:!1}},{K:k.E.r,S:p.Nk,m:{q:"adapt",P:"fitscr"}},{K:k.E.r,S:p.Nk,m:{q:"adapt",P:"pixel"}}])};
p._1.prototype=new p.vA;p._1.prototype.p0=function(l,o,D,H,_){var u=this.iu;u.k();u.parent=o;u.update(l,D);
var S=new jJ(k.E.b,!0);S.data={q:k.L.jq,VG:u,x:_.pF+2,y:_.g7+1};o.A(S)};p._1.prototype.enable=function(l,o,D,H){this.IR(o,H);
if(l&&Date.now()-this.JD<300)this.Cf({q:"adapt",P:"pixel"},o,l,H,D);this.JD=Date.now()};p._1.prototype.GE=function(l,o,D,H,_){this.wu=new he(_.x,_.y);
this.jW=l.w.F;this.SB=l.w.i.clone()};p._1.prototype.XR=function(l,o,D,H,_){if(this.wu==null)return;var u=Math.exp(Math.log(this.jW)+(_.x-this.wu.x)/64);
u=Math.max(.02,Math.min(p._1.ut[0],u));l.w.F=this.jW;l.w.i=this.SB.clone();this.Cf({q:"zoom",F:u,cW:this.wu,NN:this.NN},o,l,H,D)};
p._1.prototype.Jm=function(l,o,D,H,_){if(he.At(this.wu,_)<4){var u=this.ay8(H);this.Cf({q:"zoom",j8:u,cW:_,NN:this.NN},o,l,H,D)}this.wu=null};
p._1.ut=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
p._1.H4=function(l,o,D,H){var _=1;while(l*_*1/2>D||o*_*1/2>H)_*=1/2;if(l*_*2/3>D||o*_*2/3>H)_*=1/2;else if(l*_>D||o*_>H)_*=2/3;
return _};p._1.a10=function(l,o){var D=p._1.ab9(l);if(o&&D==0)return l;if(!o&&D==p._1.ut.length-1)return l;
return p._1.ut[o?D-1:D+1]};p._1.ab9=function(l){var o=0;while(p._1.ut[o]>l)o++;return o};p._1.tN=function(l,o,D,H){var _=l.nL;
if(H==0||H==null){H=p._1.a10(l.F,D);if(H==l.F)return}var u=l.vp(o.x,o.y);u.x=Math.max(0,Math.min(_.Q,u.x));
u.y=Math.max(0,Math.min(_._,u.y));if(!1){}else{var S=l.hP(),h=l.F/H;S.translate(-u.x,-u.y);S.scale(h,h);
S.translate(u.x,u.y);l.aA5(S)}};p._1.prototype.Cf=function(l,o,D,H,_){if(l.q=="pzoom"){if(typeof l.P=="string")return;
l={q:"zoom",F:l.P/100}}var u=0,S=!1,h=null;if(l.q=="adapt"){var F=0;if(l.P=="pixel")F=1;if(l.P=="fitscr"){var F=0,n=D.w.T3.Q,R=D.w.T3._,s=new gt(0,0,D.Q,D._),Z=g.X.YZ(s).s,O=new de;
O.rotate(D.w.vb);g.X.h(Z,O,Z);var w=g.X.dm(Z),m=_.QC?g.vL.wv+4:8;F=Math.min((n-m*2)/w.Q,(R-m*2)/w._);
D.w.i.pN(0,0)}h=new he(Math.round(D.w.T3.Q/2),Math.round(D.w.T3._/2));u=F;p._1.tN(D.w,h,S,u);D.LD=!0}if(l.q.startsWith("multi")){function V(f){var $=f[0].x-f[1].x,r=f[0].y-f[1].y;
return Math.sqrt($*$+r*r)}function q(f){return new he((f[0].x+f[1].x)/2,(f[0].y+f[1].y)/2)}function i(f){var $=f[0].x-f[1].x,r=f[0].y-f[1].y;
return Math.atan2(r,$)}var c=l.sh,z=q(c);if(l.q=="multidown"){this.K4=[c,D.w.F,D.w.vp(z.x,z.y),D.w.vb]}else{var B=p._1.ut,J=.15;
u=this.K4[1]*V(c)/V(this.K4[0]);u=Math.max(B[B.length-1],Math.min(B[0],u));if(u!=D.w.F)p._1.tN(D.w,z,S,u);
var t=this.K4[2],a=D.w.zp(t.x,t.y),I=D.w.i;I.x=Math.round(I.x+z.x-a.x);I.y=Math.round(I.y+z.y-a.y);var N=this.K4[3]+(i(c)-i(this.K4[0]));
N=N%(2*Math.PI);while(N<0)N+=2*Math.PI;if(N<J||N>2*Math.PI-J)N=0;D.w.vb=N;D.LD=!0}}if(l.q=="scroll"){h=l.cW;
var B=p._1.ut,Q=l.Ek.y,A=1+Math.abs(Q)*8e-4*(l.ahn?10:1);if(Q>0)A=1/A;u=D.w.F*A;p._1.tN(D.w,h,S,Math.min(B[0],Math.max(B[B.length-1],u)));
D.LD=!0}if(l.q=="zoom"){var f=l.NN?o.GX:[D];for(var v=0;v<f.length;v++){var W=f[v],C=W.w;h=l.cW?l.cW:new he(Math.round(C.T3.Q/2),Math.round(C.T3._/2));
if(l.F!=null)u=l.F;else S=l.j8;p._1.tN(C,h,S,u);W.LD=!0}}if(l.q=="mskView"){var j=D.R[D.T[0]];if(j.Ih<=0){j.Ih=1;
D.aH=!0}var K=j.Ih==3?j.nN(D).I:j.KQ();if(l.P==0){D.w.N=[1,1,1];K.Pj=!1}if(l.P==1){D.w.N=[1,1,1];K.Pj=!0}if(l.P==2){D.w.N=[0,0,0];
K.Pj=!0}for(var v=0;v<D.Lx.length;v++)D.Lx[v].Pj=!1;D.q0=[];D.st=!0}};p._1.prototype.WP=function(l,o,D,H){if(this.L5!=H.W(e_.zg)){this.L5=H.W(e_.zg);
var _={q:k.L.BQ,S:this.id,L5:this.L5},u=new jJ(k.E.b,!0);u.data=_;o.A(u);this.IR(o,H)}};p._1.prototype.IR=function(l,o){var D=new jJ(k.E.b,!0),H=this.ay8(o);
D.data={q:k.L.yx,oD:H?"zoom-in":"zoom-out"};l.A(D)};p._1.prototype.hy=function(l,o,D,H){this.j8=l.j8;
this.NN=l.NN;this.IR(o,H)};p._1.prototype.ay8=function(l){var o=this.j8;if(l.W(e_.RP)&&l.W(e_.Cm))o=!0;
if(this.L5)o=!o;return o};p._1.aym=function(l,o){if(l.W(e_.CO)||l.W(e_.aij)){o.S=p.Nk;o.data={q:"zoom",j8:!0}}if(l.W(e_.ef)){o.S=p.Nk;
o.data={q:"zoom",j8:!1}}if(l.W(e_.yp)){o.S=p.Nk;o.data={q:"adapt",P:"fitscr"}}if(l.W(e_.hJ)){o.S=p.Nk;
o.data={q:"adapt",P:"pixel"}}};p.dG=function(l,o,D){p.vA.call(this,l,o,D);this.h7=null;this.Fy=null;
this.LO=null;this.awd=0};p.dG.prototype=new p.vA;p.dG.mj=function(l,o){var D={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},H=l==null?{classID:"null",null:D,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:D,Usng:{t:"type",v:{classID:l}},__name:"Stroke"};
if(o)H.Prs={t:"bool",v:!0};return{vS:l==null?"fill":"stroke",M1:H}};p.dG.prototype.enable=function(l,o,D,H,_){this.Fy=D;
var u=new jJ(k.E.b,!0);u.data={q:k.L.yx,oD:"default"};o.A(u)};p.dG.prototype.p0=function(l,o,D,H,_){var u=l.CS(),S=u[0],h=u[1];
if(h.length==0)return;var F=S[h[0]],n=F.add.vmsk,R=l.w.vp(_.x,_.y),s=4*p.Y()/l.w.F,Z=new gt(R.x-s,R.y-s,s*2,s*2),O=g.n.Nv(n.d,Z)[0];
if(O.length!=0){n.Qt=O;l.st=!0}var w=g.n.Id(n.d,R).wN;if(w!=-1){n.T=[w];l.st=!0}var m=new jJ(k.E.b,!0);
m.data={q:k.L.BQ,S:this.id,Og:_,YI:l,Ay:D};o.A(m)};p.dG.prototype.ajU=function(l,o){var D=new jJ(k.E.b,!0);
D.data={q:k.L.lN,au:is.a7};if(!o.bX)l.A(D);D.data={q:k.L.lN,au:is.uw};if(!o.og.sS)l.A(D)};p.dG.prototype.lx=function(l,o,D,H,_){if(D.Bq!=this.id&&_==null)return;
if(l.T.length==0)return;var u=l.R[l.T[0]],S=u.add.vmsk,h=u.add.vstk;if(a8==0){var F=cq.ty(u.add);this.h7=l;
this.LO=o;if(u.RR()&&S!=null&&(JSON.stringify(h)!=JSON.stringify(D.K_)||JSON.stringify(F)!=JSON.stringify(D.tJ))){this.awd=Date.now();
var n=new jJ(k.E.b,!0);n.data={q:k.L.lN,au:is.Eq,P:F};o.A(n);n.data={q:k.L.lN,au:is.J0,P:h};o.A(n)}}else{var R=null;
for(var v=0;v<l.T.length;v++){var u=l.R[l.T[v]],s=u.add.vstl;if(s==null)continue;if(R==null)R=JSON.parse(JSON.stringify(s));
else{for(var Z in s){if(R[Z]==null)continue;if(s[Z]==s.IS){if(JSON.stringify(s[Z])!=JSON.stringify(R[Z]))delete R[Z]}else if(s[Z]==s.h6){if(JSON.stringify(s[Z])!=JSON.stringify(R[Z]))delete R[Z]}else if(s[Z]!=R[Z])delete R[Z]}}}if(R==null)return;
var O=JSON.stringify(R);if(O!=JSON.stringify(D.o4)){var n=new jJ(k.E.b,!0);n.data={q:k.L.lN,au:is.ni,P:R};
o.A(n)}}};p.dG.prototype.Ip=function(l,o){if(this.h7==null)return;if(o==is.CV||o==is.Eq||o==is.J0){if(Date.now()-this.awd<50)return;
var D=o==is.Eq,H=this.h7,_=D?l.tJ:l.K_,u=[],S=H.T;for(var v=0;v<S.length;v++){var h=S[v],F=H.R[h];if(!F.RR()||F.add.vmsk==null)continue;
u.push(h)}var n=new jJ(k.E.r,!0);n.S=p.wU;n.data={q:d.k1,Zl:u,Dc:D,P:_};if(u.length!=0)this.LO.A(n)}};
p.dG.prototype.azA=function(l){if(typeof l=="number"){var o=new jJ(k.E.yT,!0);o.data=p.F_.Vw(0);o.data.M1.Usng.v.Type.v.Clr.v=g.G.XF({$:l>>>16&255,H:l>>>8&255,J:l>>>0&255});
this.LO.A(o)}};p.dG.prototype.Cf=function(l,o,D,H,_){this.LO=o;if(l.q=="newfill"){if(l.no==0){var u=new jJ(k.E.b,!0);
u.data={q:k.L.E1,mg:"colorpicker",cr:_.Os,k_:this.azA.bind(this)};o.A(u)}}else if(l.q=="smplp"){if(D==null)return;
var S=D.CS(),h=S[0],F=S[1];if(F.length==0){alert("No paths selected");return}var n=h[F[0]];if(n.add.vmsk.T.length<=0){alert("No paths selected");
return}if(this.Lp==null){this.Lp=n.add.vmsk.clone();this.KJ=JSON.stringify(n.add.vogk);this._A=n;this.h7=D}var u=new jJ(k.E.b,!0);
u.data={q:k.L.E1,mg:"simplifypath",aC:100,Gu:this.aaO.bind(this)};o.A(u)}else if(l.q=="pathedit"){var R=l.i6,s="",Z=D.sS.slice(0),O=D.dZ.slice(0),w=D.sS.slice(0),m=D.dZ.slice(0);
if(R=="rnm"){var V=-1-l.wN,q=Z[V],i=f9.Ed(l.name,q.add);if(V!=0)w[V]=i;else{m=[w.length];w.push(i);w[0]=f9.Ed("Work Path")}s="Rename"}else if(R=="new"){var i=f9.Ed("Path "+Z.length);
if(l.a2L){var S=D.CS(),h=S[0],F=S[1],c=h[F[0]];i.add.vmsk=c.add.vmsk.clone();i.add.vogk=JSON.parse(JSON.stringify(c.add.vogk));
if(c.wN==-1){var z=w[m[0]]=f9.Ed("Path "+Z.length);z.name=c.name;z.wN=c.wN}}w.push(i);m=[w.length-1];
s="New"}else if(R=="del"){if(m.length==0)return;m.sort(function(f,Y){return f-Y});if(m[0]==0){w[0]=f9.Ed(Z[0].name);
m=m.slice(1)}var B=0;while(m.length!=0){w.splice(m[0]-B,1);m=m.slice(1);B++}s="Delete"}else if(R=="fromsel"){var n=w[0]=f9.Ed("Work Path");
m=[0];if(D.f==null)return;var t=D.f.channel.slice(0);for(var v=0;v<t.length;v++)t[v]=t[v]>128?2:1;var a=D.f.rect.clone();
a.ag(1,1);var I=g.o(a.c());g.mB(t,D.f.rect,I,a);var N=iS.ss(I,a.Q,a._,Math.round(a.c()*5e-4)),h=iS.CS(N),J=new de(1,0,0,1,-1+D.f.rect.x,-1+D.f.rect.y);
for(var v=0;v<h.length;v++)g.X.h(h[v].path.s,J,h[v].path.s);for(var v=0;v<h.length;v++){var Q=h[v];if(Q.color==1&&Q.parent==-1)continue;
var A=g.X.Op(h[v].path,!1);A[2].HN=0;n.add.vmsk.d=n.add.vmsk.d.concat(A.slice(2))}n.add.vogk=d.Xv(n.add.vmsk.d);
s="Selection to"}var f=new fL(s+" Path",this);f.data={Bn:Z,J4:O,ag5:w,VR:m};if(R=="fromsel"){f.data.dP=D.f;
f.data.pQ=null}D.kE(f);this.j1(f.data,D)}else{var W=l.ND,S=D.CS(l.q=="append"||l.q=="fromAction"),h=S[0],F=S[1],n=h[F[0]],C=n.add.vmsk,j=n.add.vogk,K=C.clone(),$=C.clone(),r=JSON.stringify(j);
if(l.q=="fromAction"){var U=l.KL,b=U.vS,e=U.M1,P=e.T;if(b=="set"){if(P){j.push(g.uQ.Yy(P));$.d.push({type:0,HN:1,length:0});
g.uQ.$S(j,$);W=[12,76,0]}else throw e}else if(b=="draw"){j=[g.uQ.Yy(e.Shp)];$.d.push({type:0,HN:1,length:0});
g.uQ.$S(j,$);p.dG.a6x($.d,e.AntA.v,_.Os,o);return}else throw b}else if(l.q=="remove"){if(l.$L&&$.Qt.length!=0){$.d=g.n.at0($.d,$.Qt,j,l.a4$);
var L=g.n.Ly($.d);for(var v=0;v<$.T.length;v++)if($.T[v]>=L){$.T.splice(v,1);v--}$.Qt=[];W="Delete Anchors"}else{if($.T.length==0)return;
var B=0;for(var v=0;v<$.T.length;v++){j.splice($.T[v]+B,1);B--}$.d=g.n.aA$($.d,$.T);$.T=[];$.Qt=[];if(W==null)W="Delete Paths"}}if(l.q=="append"){p.dG.I4(l.aCg,$,j)}this.gJ(D,n.wN,$,j);
this.v9(D,W,n.wN,K,$.clone(),null,r,JSON.stringify(j))}};p.dG.a6x=function(l,o,D,H){var _=new d.dO;_.d=_.d.concat(l.slice(2));
var u=_.KQ();if(!o)g.round(u.channel);var S=g.o(u.rect.c()*4);g.M5(S,(D&255)<<16|(D>>8&255)<<8|(D>>16&255)<<0);
g.Kl(u.channel,S,3);var h=new jJ(k.E.r,!0);h.S=p.ON;h.data={q:"draw",VY:{buffer:S,rect:u.rect.clone()},ND:this.name};
H.A(h)};p.dG.uU=function(l,o){var D=g.n.ayi(l.d,l.T),H=[];for(var v=0;v<l.T.length;v++)H.push(JSON.parse(JSON.stringify(o[l.T[v]])));
return[D,H]};p.dG.I4=function(l,o,D){var H=g.n.Ly(o.d),_=g.n.Ly(l[0]);o.d=o.d.concat(l[0].slice(2));
o.T=[];for(var v=0;v<_;v++)o.T.push(H+v);for(var v=0;v<_;v++)D.push(JSON.parse(JSON.stringify(l[1][v])))};
p.dG.prototype.iL=function(l,o){if(o==null)return!1;var D=o.CS(),H=D[0],_=D[1];if(_.length==0)return!1;
var u=H[_[0]],S=u.add.vmsk;if(S&&S.T.length+S.Qt.length!=0)return[e_.Ab,e_.O1].indexOf(l)!=-1};p.dG.prototype.WP=function(l,o,D,H){if(l==null)return;
var _=l.CS(),u=_[0],S=_[1];if(S.length==0)return;var h=u[S[0]],F=h.add.vmsk;if(H.W(e_.aZ)||H.W(e_.PA)||this.id==p.OR&&H.W(e_.Aj)&&F.Qt.length==1){F.Qt=[];
l.st=!0}if(F.T.length!=0){var n=H.Dr(l?l.w.vb:0);if(n.x!=0||n.y!=0){var R=F.clone(),s=F.clone(),Z=new de(1,0,0,1,n.x,n.y),O=h.add.vogk,w=JSON.stringify(O);
if(H.W(e_.zg)){var m=p.dG.uU(s,O);p.dG.I4(m,s,O)}g.n.Am(s.d,Z,s.T);g.uQ.h(O,g.t.Lw(Z),s.T);this.gJ(l,h.wN,s,O);
this.v9(l,"Move Paths",h.wN,R,s.clone(),!0,w,JSON.stringify(O))}if(H.W(e_.Ab)||H.W(e_.O1))this.Cf({q:"remove",$L:this.id==p.OR},o,l,H,D)}};
p.dG.prototype.v9=function(l,o,D,H,_,u,S,h){var F=new fL(o,this);F.data={It:D,Ij:H,Hd:_,aCC:u,ayI:S,Ps:h};
l.kE(F)};p.dG.prototype.j1=function(l,o){if(l.It!=null)this.gJ(o,l.It,l.Hd.clone(),JSON.parse(l.Ps));
else{o.sS=l.ag5.slice(0);o.dZ=l.VR.slice(0);o.st=o.aH=!0}if(l.dP||l.pQ){o.f=l.pQ;o.RW=!0}};p.dG.prototype.H$=function(l,o){if(l.It!=null)this.gJ(o,l.It,l.Ij.clone(),JSON.parse(l.ayI));
else{o.sS=l.Bn.slice(0);o.dZ=l.J4.slice(0);o.st=o.aH=!0}if(l.dP||l.pQ){o.f=l.dP;o.RW=!0}};p.dG.prototype.gJ=function(l,o,D,H){var _=o<0?l.sS[-1-o]:o<1e6?l.R[o]:l.R[o-1e6].add.TySh,u=_.add.vmsk;
u.channel=null;u.cF=!0;if(u.LL){u.LL.channel=null;u.LL.cF=!0}_.add.vmsk=D;_.add.vogk=H;if(1e6<=o){fX.H9(_);
var S=l.R[o-1e6],h=_,F=this.Fy;dr.cV(S,F.uh);l.V()}else if(0<=o){D.cF=!0;_.C$(l);l.V()}l.st=l.aH=!0};
p.F_=function(l,o,D,H){p.dG.call(this,l,o,D);this.MI={shape:dV.ts(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{vB:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.agc=H;this.zX=null;this.uu=null;this.Qv=null;this.$w=new iG};p.F_.prototype=new p.dG;p.F_.prototype.tT=function(l){return l.gz&&this.id!=p.fd};
p.F_.prototype.enable=function(l,o,D,H,_){this.Fy=D;var u=new jJ(k.E.b,!0);u.data={q:k.L.yx,oD:"crosshair"};
o.A(u)};p.F_.prototype.WP=function(l,o,D,H){p.dG.prototype.WP.call(this,l,o,D,H);this.$w.WP(H);this.yU(o,D)};
p.F_.prototype.yU=function(l,o){var D=new jJ(k.E.b,!0);D.data={q:k.L.BQ,S:this.id,aX:this.RK(o)};l.A(D)};
p.F_.prototype.RK=function(l){var o=this.$w.hT(0),D=this.$w.Fk(0),H=p.OK.S9(this.MI.binop,o,D);if(l.Vt==1&&H==0)H=1;
return H};p.F_.prototype.EQ=function(l,o,D,H){};p.F_.prototype.GE=function(l,o,D,H,_){var u=D.Vt;if(u!=2)this.ajU(o,D);
if(u==2&&!l.o_())return;var S=l.w.vp(_.x,_.y);S=p.JI.KN(l,S,D);this.Qv=[S.x,S.y];this.zX=S;this.uu=new he(0,0);
this.$w.GE(H)};p.F_.prototype.aDb=function(l,o,D,H){var _=[this.zX.clone(),o.clone()];D=this.$w.hT(1)||D.W(e_.eo)||this.$w.Fk(1)?D:null;
if(this.agc)_=p.F_.ys(_[0],_[1],D,!0,this.MI.cstr);if(l)l.w._$=new gt(_[0].x,_[0].y,_[1].x-_[0].x,_[1].y-_[0].y);
return this.EQ(_[0],_[1],this.$w.hT(1)&&D.W(e_.eo),this.Qv,l.w,H)};p.F_.prototype.ad9=function(l,o,D){var H=l.w.vp(o.x,o.y);
if(this.id==p.fd)return H;var _=this.MI.cstr;if(_.vB==2){var u=new gt(H.x-_.x,H.y-_.y,_.x,_.y),S=p.JI.l2(l,u,D);
H.x+=S[0];H.y+=S[1];p.JI.Jz(l,u,S)}else H=p.JI.KN(l,H,D);return H};p.F_.prototype.XR=function(l,o,D,H,_){if(this.zX==null)return;
var u=this.Qv,S=u.length,h=_?this.ad9(l,_,D):new he(u[S-2],u[S-1]);if(H.W(e_.RP))this.zX=h.c_(this.uu);
else this.uu=h.c_(this.zX);u.push(h.x,h.y);if(this.MI.shape==null)this.MI.shape=D.To[0];var F=this.aDb(l,h,H,!0)[0],n=g.X.Ja(F);
l.D.T9=n;if(this.id!=p.fd&&this.id!=p.jJ&&this.id!=p.YX)p.vA.Zx(_,l.w._$,l,D);l.st=!0;this.$w.XR()};
p.F_.prototype.avC=function(l,o,D,H){var _=l[4].clone();if(H){_.x-=o/2;_.y-=D/2}if(this.id==p.jJ){o/=2;
D/=2;_.x+=o;_.y+=D;D=-D;o=0}var u=this.EQ(_,new he(_.x+o,_.y+D),!1,this.Qv);this.akq(l[0],l[1],l[2],u)};
p.F_.prototype.akq=function(l,o,D,H){var _=D.Vt,u=new jJ(k.E.yT,!0);if(_==0)u.data=p.F_.avR(H[1],D);
else if(_==1){var S={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:H[1]};
u.data={vS:"set",M1:S}}else{var S={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:H[1]};u.data={vS:"draw",M1:S}}o.A(u);
if(H[1].v.classID=="customShape"&&H[1].v.Nm.v.startsWith("--")){var h=l.CS(),F=h[0],n=h[1],R=F[n.pop()],s=R.add.vmsk,Z=R.add.vogk;
g.uQ.auB(Z);var O=s.clone();O.d=H[0];this.gJ(l,R.wN,O,Z)}};p.F_.prototype.Jm=function(l,o,D,H,_,u){if(this.zX==null)return;
var S=this.ad9(l,_,D),h=this.RK(D),F=D.Vt,n=this.Qv,R=n.length;if(this.id==p.fd&&R<=4){}else if(R<=4){S.x=Math.round(S.x);
S.y=Math.round(S.y);var s=new jJ(k.E.b);s.data={q:k.L.E1,mg:"createshape",a28:this.avC.bind(this),aiq:this.name,acl:[l,o,D,H,S]};
if(!u)o.A(s)}else if(R!=2){var Z=this.aDb(l,S,H),O=Z[0],w=l.CS(!0),m=w[0],V=w[1],q=V.length-1;if(F==1&&O.length>2||F==0&&h!=0&&q!=-1&&m[V[q]].wN>=0){O[2].HN=[1,2,3,0][h-1];
var i=m[V.pop()],c=i.add.vmsk,z=i.add.vogk,B=c.clone(),t=c.clone(),a=JSON.stringify(z);t.d=t.d.concat(O.slice(2));
t.T=[g.n.Ly(t.d)-1];var I=g.uQ.Yy(Z[1]);z.push(I?I:g.uQ.c9());this.gJ(l,i.wN,t,z);this.v9(l,this.name,i.wN,B,t,null,a,JSON.stringify(z))}else if(F==0){this.akq(l,o,D,Z)}else if(F==2){p.dG.a6x(O,this.MI.anta,D.Os,o)}}this.zX=null;
l.D.T9=null;l.D.b3=null;l.D.UD=[];l.w._$=null;l.st=!0;this.$w.Jm();this.yU(o,D)};p.F_.prototype.hy=function(l,o,D,H,_){for(var D in l)this.MI[D]=l[D]};
p.F_.ys=function(l,o,D,H,_){var u=l.x,S=l.y,h=o.x,F=o.y;if(_&&_.vB==2){if(H){h=Math.round(h);F=Math.round(F)}u=h-_.x;
S=F-_.y}else{var n=0;if(_&&_.vB==1)n=_.y/_.x;else if(D&&D.W(e_.eo))n=1;if(n!=0){if(H){if(u<h)u=Math.floor(u);
else u=Math.ceil(u);if(S<F)S=Math.floor(S);else S=Math.ceil(S)}var R=Math.abs(h-u),s=Math.abs(F-S),Z=R;
if(s/R<n)Z*=s/R/n;h=h>u?u+Z:u-Z;F=F>S?S+Z*n:S-Z*n}if(D&&D.W(e_.zg)){u-=h-u;S-=F-S}}var l=new he(u,S),o=new he(h,F);
if(H)p.F_.ab8(l,o);return[l,o]};p.F_.ab8=function(l,o){if(l.x>o.x){var D=l.x;l.x=o.x;o.x=D}if(l.y>o.y){var D=l.y;
l.y=o.y;o.y=D}l.x=Math.floor(l.x);l.y=Math.floor(l.y);o.x=Math.ceil(o.x);o.y=Math.ceil(o.y)};p.F_.av1=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
p.F_.Vw=function(l,o){var D=p.F_.av1(),H=D.Usng.v.Type;if(o==null){H.v=JSON.parse(JSON.stringify(cq.lJ[l]));
H.v.classID=["solidColorLayer","gradientLayer","patternLayer"][l]}else p.yZ.pu(o,H.v,l);return{vS:"make",M1:D}};
p.F_.avR=function(l,o){var D=o.tJ,H=JSON.parse(JSON.stringify(o.K_));H.fillEnabled.v=D.hM!=0;var _=p.F_.Vw(Math.max(0,D.hM-1),D.E6);
_.M1.Usng.v.Shp=l;_.M1.Usng.v.strokeStyle={t:"Objc",v:H};return _};p.XH=function(l){p.dG.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][l],[p.OR,p.aB5,p.arh,p.anT,p.aut][l],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][l]);
this.m0=l;this.RV=null;this.IN=null;this.Lp=null;this.KJ=null;this.ba=0;this.NJ=null;this.eg=!1;this.s$=!1;
this.DR=!1;this.In=!1;this.pf=!1;this.$V=!1;this.JD=0};p.XH.prototype=new p.dG;p.XH.prototype.tT=function(l){return this.Lp!=null};
p.XH.prototype.WP=function(l,o,D,H){if(!H.W(e_.zg))this.pf=!1;if(this.m0==1&&(H.W(e_.Ab)||H.W(e_.O1))&&this.iL(e_.Ab,l)){this.Cf({q:"remove",$L:!0},o,l,H,D);
return}if(this.IN)this.Rx(l,o,D,H,this.IN);p.dG.prototype.WP.call(this,l,o,D,H)};p.XH.prototype.v4=function(l,o,D,H){var _=l.w.vp(H.x,H.y,!0),u=p.JI.KN(l,_,o),S=this.m0,h=o.Vt,F=this.ba;
if(h==2)h=0;var n=l.CS(h==1),R=n[0],s=n[1],Z=R[s.pop()],O=Z?Z.add.vmsk:null;if(h==0&&F!=0&&Z&&Z.wN>=0)h=1;
var w=p.zU(l,H);if(S<2&&h==0&&(O==null||O.Qt.length==0&&g.n.Id(O.d,_,!0,w).wN==-1))return["new",!0];
if(O==null)return[null];var m=O.d,V=g.n.Nv(m,new gt(_.x-w,_.y-w,w*2,w*2),O.Qt,!0),q=g.n.Id(m,_,!0,w);
if(S<3&&q.wN!=-1&&V[0].length==0)return["add"];if((V[3]!=0||q.wN!=-1)&&(D.W(e_.zg)||S==4))return["cnv"];
var i=V[0].length==1&&m[V[0][0]-1]&&(m[V[0][0]-1].u!=null||m[V[0][0]-1].type==0||m[V[0][0]-1].length==1);
if(i)return[S==0||S==3?"del":S==2?"mva":"mov"];if(S<2){var c=g.n.An(m,g.n.si(m,O.Qt[0]));if(c!=-1&&he.At(_,m[c+1].u)<w)return["fin"];
if(O.Qt.length!=1)return["new"];return["nrm"]}return[null]};p.XH.prototype.GE=function(l,o,D,H,_){var u=l.w.vp(_.x,_.y,!0),S=p.JI.KN(l,u,D),h=this.m0,F=D.Vt,n=this.ba;
if(F==2)F=0;var R=l.CS(F==1),s=R[0],Z=R[1],O=s[Z.pop()],w=O?O.add.vmsk:null;if(F==0&&n!=0&&O&&O.wN>=0)F=1;
var m=p.zU(l,_),V=this.v4(l,D,H,_);if(V[0]==null)return;if(V[1]){var q=new jJ(k.E.yT,!0),i=g.uQ.yR("customShape",[0,0,1,1],null,null,null,"--");
q.data=p.F_.avR(i,D);o.A(q);this.$V=!0;R=l.CS(!0);s=R[0];Z=R[1];O=s[Z.pop()];w=O.add.vmsk;w.d=w.d.slice(0,2)}var c=O.add.vogk,z=w.d;
this.Lp=w.clone();this.KJ=JSON.stringify(c);this.RV=_;this.ajU(o,D);var B=g.n.Nv(z,new gt(u.x-m,u.y-m,m*2,m*2),w.Qt,!0),t=g.n.Id(z,u,!0,m);
if(V[0]=="add"){var a=g.n.An(z,t.wN),I=z[a].length;while(I<=t.rz){t.rz-=I;a+=I+1}var N={type:4,e6:S.clone(),u:S.clone(),BN:S.clone()},J=a+2+t.rz,Q=a+1+(1+t.rz)%I,A=z[J-1],f=z[Q];
if(!A.u.kn(A.BN)||!f.e6.kn(f.u)){var W=g.X.aCb(A.u,A.BN,f.e6,f.u,t.Ug);A.BN=W[0];N.e6=W[1];N.u=W[2];
N.BN=W[3];f.e6=W[4]}this.In=!0;z.splice(J,0,N);z[a].length++;w.Qt=[J];if(h==1){N.e6.x+=2;this.eD(w)}}else if(V[0]=="cnv"){var C=-1;
if(B[0].length!=0){C=B[0][0];var j=z[C],K=j.type>=3?3:0,$=C==z.length-1;j.type=K+1;if(!(h==4&&H.W(e_.zg))&&!(h==0&&$))j.e6=j.u.clone();
j.BN=j.u.clone();this.In=!0;if(h==0&&!$)this.pf=!0}else if(B[1].length+B[2].length!=0){var C=B[2][0];
if(C==null){C=B[1][0];this.s$=!0}var j=z[C],K=j.type>=3?3:0;j.type=K+2}else C=g.n.An(z,t.wN)+t.rz+1;
if(C!=-1)w.Qt=[C]}else if(V[0]=="mva"){this.DR=!0;w.Qt=[B[0][0]]}else if(V[0]=="mov"){var C=B[0][0],r=z[C],U=r.u,b=Math.abs(g.X.CC(r.e6.x,r.e6.y,U.x,U.y,r.BN.x,r.BN.y));
if(b>.01){r.e6=U.clone();r.BN=U.clone()}if(Date.now()-this.JD<300){var e=r.e6.kn(U)&&r.BN.kn(U);if(e)r.BN.offset(2,2);
else{r.e6=U.clone();r.BN=U.clone()}this.JD=0}else this.JD=Date.now();w.Qt=[C];this.eD(w)}else if(V[0]=="del"){var C=B[0][0],a=g.n.An(z,g.n.si(z,C)),i=z[a],P=a+i.length;
if(C!=P||i.type==0){z[a].length--;z.splice(C,1);P--;if(i.length==0){z.splice(a,1);P=-1}}if(P!=-1)w.Qt=[P];
else w.Qt=[]}else if(V[0]=="fin"){var a=g.n.An(z,g.n.si(z,w.Qt[0]));z[a].type=0;w.Qt=[a+1];this.NJ=S;
this.eg=!0;this.In=!0}else{var L=0;if(V[0]=="new"){w.T=[g.n.Ly(z)];z.push({type:3,length:1,HN:[1,2,3,0][Math.max(0,n-1)],qC:0,Zt:0,bb:0});
L=z.length;c.push(g.uQ.c9())}if(V[0]=="nrm"){var a=g.n.An(z,g.n.si(z,w.Qt[0])),r=a+z[a].length;z[a].length++;
L=r+1;if(r==a+1&&z[a].length!=2)L=a+1}if(H.W(e_.eo)&&z[L-1]&&z[L-1].u)S=p.Sp.vk(z[L-1].u,S);var N={type:4,e6:S.clone(),u:S.clone(),BN:S.clone()};
z.splice(L,0,N);w.Qt=[L];this.NJ=S;if(this.m0==1){N.e6.x+=2;this.eD(w)}this.In=!0;this.JD=Date.now()}this.gJ(l,O.wN,w,c);
l.st=!0};p.XH.prototype.eD=function(l){var o=l.d,D=l.Qt[0],H=g.n.An(o,g.n.si(o,D))+1,_=o[H-1].length;
if(_<3)return;var u=[],S=[];for(var v=0;v<5;v++){var h=H+(D-H-2+v+5*_)%_;S.push(h);var F=o[h].u;u.push(F.x,F.y)}var n=g.X.a2k(u);
for(var v=1;v<4;v++){var R=v*4,s=o[S[v]],F=s.u,Z=s.e6.kn(F)&&s.BN.kn(F);if(!Z){s.e6.pN(n[R],n[R+1]);
s.BN.pN(n[R+2],n[R+3])}else{s.e6=F.clone();s.BN=F.clone()}}};p.XH.prototype.Rx=function(l,o,D,H,_){var u=this.v4(l,D,H,_)[0],S=null;
if(u==null)S="default";else S=p.XH.lp(u);var h=new jJ(k.E.b,!0);h.data={q:k.L.yx,oD:S};o.A(h)};p.XH.prototype.XR=function(l,o,D,H,_){this.IN=_;
if(this.Lp==null){this.Rx(l,o,D,H,_);return}var u=this.RV;if(u&&he.At(u,_)<p.zU({w:{F:1}},_))return;
this.RV=null;var S=l.w.vp(_.x,_.y),h=p.JI.KN(l,S,D),F=l.CS(D.Vt==1),n=F[0],R=F[1],s=n[R.pop()],Z=s.add.vmsk,O=Z.d,w=O[Z.Qt[0]];
if(this.m0==1){var m=w.u.kn(w.e6)&&w.u.kn(w.BN);w.u=S.clone();w.e6=S.clone();w.BN=S.clone();if(!m)w.e6.x+=2;
this.eD(Z)}else if(H.W(e_.RP)){if(H.W(e_.eo))h=p.Sp.vk(this.NJ,h);var V=w.u.c_(w.BN),q=w.e6.c_(w.u);
w.BN=h;w.u=h.add(V);w.e6=w.u.add(q)}else if(this.DR){var i=w.e6.c_(w.u),c=w.BN.c_(w.u);w.u=h;w.e6=w.u.add(i);
w.BN=w.u.add(c)}else{if(H.W(e_.eo))h=p.Sp.vk(w.u,h);if(this.s$){var z=w.e6;w.e6=w.BN;w.BN=z}if(this.eg){var B=he.At(w.u,h),t=B==0?0:he.At(w.u,w.BN)/B;
w.BN.x=w.u.x+t*(h.x-w.u.x);w.BN.y=w.u.y+t*(h.y-w.u.y)}else w.BN=h;var a=w.type>=3?3:0;if(this.In&&!this.pf)w.type=a+H.W(e_.zg)?2:1;
if(w.type-a==1){w.e6=w.u.add(w.u.c_(h))}this.NJ=h;if(this.s$){var z=w.e6;w.e6=w.BN;w.BN=z}}this.gJ(l,s.wN,Z,s.add.vogk);
l.st=!0};p.XH.prototype.Jm=function(l,o,D,H,_){if(this.Lp==null)return;var u=l.CS(D.Vt==1),S=u[0],h=u[1],F=S[h.pop()],n=F.add.vmsk,R=F.add.vogk;
if(this.eg){n.Qt=[];this.gJ(l,F.wN,n,F.add.vogk)}var s=this.Lp.d.length,Z=n.d.length;if(!this.$V)this.v9(l,this.eg?"Close Path":(s==Z?"Move":s<Z?"Add":"Delete")+" Anchor Point",F.wN,this.Lp,n.clone(),null,this.KJ,JSON.stringify(R));
this.$V=!1;this.eg=!1;this.s$=!1;this.DR=!1;this.In=!1;this.Lp=null};p.XH.prototype.hy=function(l,o,D,H,_){this.ba=l.binop};
p.XH.awi={};p.XH.lp=function(l){var o=p.XH.awi[l],D=64,h=2,F=10,n=25,R=5,s=35;if(o)return o;var H=new gt(0,0,D,D),_=-.38,u=g.WG(D,D);
u.clearRect(0,0,D,D);var S=p.Y();u.save();u.lineWidth=h;u.translate(4-h/2,4-h/2);u.rotate(_);if(S<1.5){var Z=.66;
F*=Z;n*=Z;R*=Z;s*=Z}u.lineJoin="miter";u.beginPath();if(l=="cnv"){u.moveTo(-F,n);u.lineTo(0,0);u.lineTo(F,n);
u.stroke()}else{u.moveTo(0,0);u.lineTo(F,n);u.lineTo(R,s);u.lineTo(-R,s);u.lineTo(-F,n);u.lineTo(0,0);
u.moveTo(0,0);u.lineTo(0,n);u.fillStyle="white";u.fill();u.stroke();u.fillStyle="black";u.fillRect(-R-1,s,2*R+2,6);
u.beginPath();u.arc(0,n-2,2.5,0,2*Math.PI,!1);u.fill();u.rotate(-_);u.translate(24,7);u.beginPath();
if(l=="add"||l=="del"||l=="new"){u.moveTo(-5,0);u.lineTo(5,0);if(l=="add"){u.moveTo(0,-5);u.lineTo(0,5)}if(l=="new"){u.moveTo(-2.5,-4.5);
u.lineTo(2.5,4.5);u.moveTo(2.5,-4.5);u.lineTo(-2.5,4.5)}}else if(l=="fin")u.arc(0,0,5,0,2*Math.PI,!1);
else if(l=="mov"||l=="mva"){for(var v=0;v<4;v++){u.moveTo(0,0);u.lineTo(-7,0);var O=1+h;u.moveTo(-7+O,-O);
u.lineTo(-7,0);u.lineTo(-7+O,O);u.rotate(Math.PI/2)}}u.stroke()}u.restore();var w=new Uint8Array(u.getImageData(0,0,D,D).data.buffer),m=g.o(D*D);
g.mA(w,m,3);var V=g.o(D*D),q=[3,5,3,4,8,4,3,5,3];q=g.$z.B7(q);g.$z.y4(m,V,D,D,q);for(var v=0;v<V.length;
v++)V[v]=Math.min(255,V[v]*2);g.$z.y4(V,m,D,D,q);for(var v=0;v<m.length;v++)m[v]=Math.min(255,m[v]*2);
var i=w.slice(0);w.fill(255);g.Kl(m,w,3);g.z.JM("norm",i,H,w,H,H,1);p.XH.awi[l]=o={Ao:w,hR:H,nu:new he(4,4)};
return o};p.KA=function(){p.F_.call(this,[10,30],p.fd,"tools/fpen",!1)};p.KA.prototype=new p.F_;p.KA.prototype.EQ=function(l,o,D,H,_,u){var S=H.length-1,h=Math.sqrt((H[S-1]-H[0])*(H[S-1]-H[0])+(H[S]-H[1])*(H[S]-H[1]))<6/_.F;
return[g.n.vo(H,h,u),g.uQ.yR("customShape",[0,0,1,1],null,null,null,"--")]};p.d2=function(){p.dG.call(this,[10,27],p.md,"tools/pselect");
this.Np=null;this.vU=!1;this._A=null;this.Lp=null;this.Mv=null;this.KJ=null;this.q8=null;this.gv=null;
this.Tw=null;this.IK=null};p.d2.prototype=new p.dG;p.d2.prototype.tT=function(l){return l.gz};p.d2.prototype.GE=function(l,o,D,H,_){var u=l.w.vp(_.x,_.y),S=l.CS(),h=S[0],F=S[1],n,R;
for(var v=0;v<F.length;v++){var s=h[F[v]],Z=s.add.vmsk,O=g.n.Id(Z.d,u).wN;if(O!=-1){this._A=n=s;R=O}for(var w=0;
w<Z.Qz.length;w++){var m=g.n.ah9(Z.d,Z.Qz[w]);if(m==null)continue;var V=he.At(m,u);if(V<4*p.Y()/l.w.F){var q=l.R[s.wN-1e6].add.TySh,i=q.PF.Curve,c=q.h,z=i.Reversed;
i.Reversed=!1;var i=f8.TL(q.PF.Curve);i.Reversed=z;g.X.h(i[0],c,i[0]);this.Tw=[i,w,c.M*c.me-c.J*c.oe];
this._A=n=s;R=0}}if(this.Tw)break}if(n!=null){var Z=n.add.vmsk;Z.Qt=[];var B=Z.T.indexOf(R);if(H.W(e_.eo)){if(B==-1){Z.T.push(R);
this.vU=!0}else Z.T.splice(B,1)}else{if(B==-1)Z.T=[R];this.vU=!0}this.gv=g.n.kU(Z.d,Z.T)}this.Np=u;this.IK=new ej(u);
l.aH=!0;l.st=!0};p.d2.prototype.XR=function(l,o,D,H,_){if(this.Np==null)return;var u=l.w.vp(_.x,_.y);
if(this.vU){u=this.IK.Nn(u,H);var S=this._A;if(this.Lp==null){this.Lp=this.Mv=S.add.vmsk.clone();this.KJ=this.q8=JSON.stringify(S.add.vogk);
if(H.W(e_.zg)){var h=this.Lp.clone(),F=JSON.parse(this.KJ),n=p.dG.uU(h,F);p.dG.I4(n,h,F);this.Mv=h;this.q8=JSON.stringify(F)}}var h=this.Mv.clone(),F=JSON.parse(this.q8);
if(this.Tw){var R=this.Tw,s=R[0][0],Z=g.X.RS(s,u.x,u.y);h.Qz[R[1]]=R[0][1][Z];var O=s[Z*2],w=s[Z*2+1],m=(s[Z*2+2]-O)*(u.y-w)-(s[Z*2+3]-w)*(u.x-O);
if(R[2]<0)m=-m;h.xD=m>0}else{var V=this.gv.clone(),q=V.x,i=V.y;V.offset(u.x-this.Np.x,u.y-this.Np.y);
V.x=Math.round(V.x);V.y=Math.round(V.y);var c=p.JI.l2(l,V,D),z=new de(1,0,0,1,V.x-q+c[0],V.y-i+c[1]);
g.n.Am(h.d,z,h.T);g.uQ.h(F,g.t.Lw(z),h.T);p.JI.Jz(l,V,c)}this.gJ(l,S.wN,h,F)}else{var B=this.Np;l.D.T9=g.X.YZ(new gt(B.x,B.y,u.x-B.x,u.y-B.y));
l.st=!0}};p.d2.prototype.Jm=function(l,o,D,H,_){if(this.Np==null)return;var u=l.w.vp(_.x,_.y),S=this._A,h=S?S.add.vmsk:null;
if(this.vU){var F=JSON.stringify(S.add.vogk);if(!this.Np.kn(u))this.v9(l,"Move Paths",S.wN,this.Lp,h,null,this.KJ,F);
if(l!=null&&l.D.b3){l.D.b3=null;l.st=!0}}else{var n=l.CS(),R=n[0],s=n[1];if(s.length!=0){var Z=R[s[0]];
h=Z.add.vmsk;var O=this.Np,w=new gt(O.x,O.y,u.x-O.x,u.y-O.y),m=g.n.alL(h.d,w);if(H.W(e_.eo)){for(var v=0;
v<m.length;v++)if(h.T.indexOf(m[v])==-1)h.T.push(m[v])}else h.T=m}l.D.T9=null;l.st=!0}this.Np=null;this.Lp=null;
this.Tw=null;this.vU=!1;this.IK=null};p.d2.prototype.aaO=function(l){var o=this._A,D=this.h7,H=o.add.vmsk,_=o.add.vogk,u=_.length;
if(l=="confirm"){if(H!=this.Lp)this.v9(D,[12,94,2],o.wN,this.Lp,H,null,this.KJ,JSON.stringify(_));this.SD();
return}if(l=="cancel"){this.gJ(this.h7,this._A.wN,this.Lp.clone(),JSON.parse(this.KJ));this.SD()}else{var H=this.Lp.clone(),_=JSON.parse(this.KJ);
H.d=g.n.amv(H.d,H.T,l);this.gJ(this.h7,this._A.wN,H,_)}};p.d2.prototype.SD=function(){this._A=null;this.Lp=null;
this.Np=null;this.fJ=this.qP=-1;this.IK=null};p.d2.prototype.lx=function(l,o,D,H){p.dG.prototype.lx.call(this,l,o,D,H);
if(D.Bq!=this.id)return;if(l.T.length==0)return;var _=l.CS(),u=_[0],S=_[1];if(S.length==0)return;var h=u[S[0]],F=h.add.vmsk,n=h.add.vstk,R=h.add.vogk,s=new jJ(k.E.b,!0);
s.data={q:k.L.BQ,S:this.id,iO:"main",ro:F?F:null,uQ:R};o.A(s)};p.d2.prototype.hy=function(l,o,D,H,_){var u=l.Jl;
if(u.ro){var S=D.CS(),h=S[0],F=S[1];if(F.length==0)return;var n=h[F[0]],R=n.add.vmsk.clone(),s=JSON.stringify(n.add.vogk),Z=u.ro;
this.gJ(D,n.wN,Z,u.uQ);var O=[18,5];if(R.d.length==Z.d.length)O=R.T[0]==Z.T[0]?"Fill Rule":"Path Order";
this.v9(D,O,n.wN,R,Z,null,s,JSON.stringify(u.uQ))}};p.CP=function(){p.dG.call(this,[10,28],p.IE,"tools/dselect");
this.fJ=-1;this.qP=-1;this.F$=null;this.Np=null;this._A=null;this.Lp=null;this.KJ=null;this.h7=null;
this.RF=0;this.yd={psnap:!1};this.IK=null};p.CP.prototype=new p.dG;p.CP.prototype.tT=function(l){return l.gz};
p.CP.prototype.hy=function(l){this.yd=l};p.CP.prototype.Cf=function(l,o,D,H,_){if(l.q=="crnr"){if(D==null)return;
var u=D.CS(),S=u[0],h=u[1];if(h.length==0){alert("No paths selected");return}var F=S[h[0]],n=F.add.vmsk;
if(n.Qt.length==0){alert("No corners selected");return}for(var v=0;v<n.Qt.length;v++){var R=n.d[n.Qt[v]];
if(!R.u.kn(R.BN)||!R.u.kn(R.e6)){alert("Only sharp corners can be rounded");return}}if(this.Lp==null){this.Lp=F.add.vmsk.clone();
this.KJ=JSON.stringify(F.add.vogk);this._A=F;this.h7=D}var s=new jJ(k.E.b,!0);s.data={q:k.L.E1,mg:"cornerradius",aC:5,Gu:this.akA.bind(this)};
o.A(s)}else p.dG.prototype.Cf.call(this,l,o,D,H,_)};p.CP.prototype.akA=function(l){if(l=="confirm"){var o=this.h7,D=this._A,H=D.add.vmsk,_=D.add.vogk;
this.v9(o,[12,94,0],D.wN,this.Lp,H,null,this.KJ,JSON.stringify(_));this.SD();return}var H=this.Lp.clone(),_=JSON.parse(this.KJ),u=H.Qt;
if(l=="cancel"){}else{var S=[];for(var v=0;v<u.length;v++){var h=u[v],F=g.n.si(H.d,h,!0),s=0;if(S.indexOf(F)!=-1)continue;
S.push(F);var n=g.n.An(H.d,F,!0),R=H.d[n].length,Z=[];for(var O=0;O<R;O++){var w=H.Qt.indexOf(n+O+1)==-1?0:l;
Z.push(w);if(w!=0)s++}g.n.fG(H.d,n,Z);for(var O=0;O<u.length;O++)if(u[O]>n+R)u[O]+=s}this.OB(H,_);H.Qt=[]}this.gJ(this.h7,this._A.wN,H,_);
if(l=="cancel")this.SD()};p.CP.prototype.disable=function(l,o,D,H){this.O2(l)};p.CP.prototype.GE=function(l,o,D,H,_){this.O2(l);
var u=l.w.vp(_.x,_.y),s,Z,O;this.F$=u.clone();var S=l.CS(),h=S[0],F=S[1];if(F.length==0)return;var n=p.zU(l,_),R=new gt(u.x-n,u.y-n,n*2,n*2);
for(var w=0;w<F.length;w++){s=this._A=h[F[w]];Z=s.add.vmsk;O=g.n.Nv(Z.d,R);if(O[0].length+O[1].length+O[2].length!=0)break}var m=[!1,!1,!1];
for(var v=0;v<3;v++){for(var V=0;V<O[v].length;V++){var q=O[v][V],i=Z.d[q];if(Z.Qt.indexOf(q)!=-1||v==1&&Z.Qt.indexOf(q-1)!=-1&&!i.u.kn(i.e6)||v==2&&Z.Qt.indexOf(q+1)!=-1&&!i.u.kn(i.BN)){O[v]=[q];
m[v]=!0;break}}}if(O[0].length!=0&&(m[0]||!m[1]&&!m[2])){var c=O[0][0],z=Z.Qt.indexOf(c);if(H.W(e_.eo)){if(z==-1)Z.Qt.push(c);
else{Z.Qt.splice(z,1);l.st=!0;return}}else if(z==-1)Z.Qt=[c];this.fJ=c;this.qP=0}else if(O[1].length!=0&&m[1]){this.fJ=O[1][0];
this.qP=1}else if(O[2].length!=0&&m[2]){this.fJ=O[2][0];this.qP=2}else{var B=g.n.Id(Z.d,u,!0,n);if(B.wN==-1)this.Np=u;
else{Z.T=[B.wN];Z.Qt=[]}}if(this.Lp==null){this.Lp=s.add.vmsk.clone();this.KJ=JSON.stringify(s.add.vogk)}this.IK=new ej(u);
l.st=!0};p.CP.prototype.XR=function(l,o,D,H,_){if(l==null)return;var u=l.w.vp(_.x,_.y),S=this._A;if(this.fJ!=-1){var h=this.Lp.clone(),F=S.add.vogk,n=h.d[this.fJ];
n=[n.u,n.e6,n.BN][this.qP];if(H.W(e_.eo)){if(this.qP==0){u=this.IK.Nn(u,H);u.x+=n.x-this.F$.x;u.y+=n.y-this.F$.y}else u=p.Sp.vk(h.d[this.fJ].u,u)}else{if(this.yd.psnap){u.x=Math.round(u.x);
u.y=Math.round(u.y)}u=p.JI.KN(l,u,D)}if(this.qP==0){var R=new de(1,0,0,1,u.x-n.x,u.y-n.y);g.n.Am(h.d,R,null,h.Qt)}else{var s=h.d[this.fJ],Z=s.e6,O=s.BN;
if(this.qP==2){Z=s.BN;O=s.e6}if(H.W(e_.zg)&&(s.type==1||s.type==4))s.type++;Z.pN(u.x,u.y);if(s.type==1||s.type==4){var w=he.At(Z,s.u),m=he.At(O,s.u);
if(m!=0){O.x=s.u.x-(Z.x-s.u.x)*(m/w);O.y=s.u.y-(Z.y-s.u.y)*(m/w)}}}this.OB(h,F);this.gJ(l,S.wN,h,F)}else if(this.Np!=null){var V=this.Np;
l.D.T9=g.X.YZ(new gt(V.x,V.y,u.x-V.x,u.y-V.y));l.st=!0}else{var q=l.CS(),i=q[0],c=q[1],S,h,t;if(c.length==0)return;
var z=p.zU(l,_),B=new gt(u.x-z,u.y-z,z*2,z*2);for(var a=0;a<c.length;a++){S=i[c[a]];h=S.add.vmsk;t=g.n.Nv(h.d,B);
if(t[0].length+t[1].length+t[2].length!=0)break}this.O2(l);for(var v=0;v<3;v++){for(var I=0;I<t[v].length;
I++){var N=t[v][I],J=h.d[N];J=v==0?J.u:v==1?J.e6:J.BN;l.D.ny.push(J.x,J.y);l.st=!0}}}};p.CP.prototype.O2=function(l){if(l&&l.D.ny.length!=0){l.D.ny=[];
l.st=!0}};p.CP.prototype.Jm=function(l,o,D,H,_){var u=l.w.vp(_.x,_.y),S=this._A,h=S?S.add.vmsk:null,F=S?S.add.vogk:null;
if(this.fJ!=-1){if(Date.now()-this.RF<300){var n=h.d[this.fJ],R=this.qP,s=null;if(R==0){var Z=n.e6.kn(n.u),O=n.BN.kn(n.u);
if(!Z&&!O){s="Anchor Type";if(n.type==1||n.type==4)n.type++;else{n.type--;n.BN=n.u.add(n.u.c_(n.e6))}}else{s="Add Handles";
if(Z&&O){n.e6.x-=30;n.BN.x+=30}else if(Z)n.e6=n.u.add(n.u.c_(n.BN));else if(O)n.BN=n.u.add(n.u.c_(n.e6))}}else{s="Remove Handle";
if(R==1)n.e6.FW(n.u);else n.BN.FW(n.u)}this.OB(h,F);this.gJ(l,S.wN,h,F);this.v9(l,s,S.wN,this.Lp,h,null,this.KJ,JSON.stringify(F))}else if(!this.F$.kn(u)){this.v9(l,"Drag Anchors",S.wN,this.Lp,h,null,this.KJ,JSON.stringify(F))}this.RF=Date.now()}else if(this.Np!=null){var w=this.Np,m=new gt(w.x,w.y,u.x-w.x,u.y-w.y);
if(m.Q<0)m.x+=m.Q;if(m._<0)m.y+=m._;m.Q=Math.abs(m.Q);m._=Math.abs(m._);var V=g.n.Nv(h.d,m);h.Qt=V[0].concat(H.W(e_.eo)?h.Qt:[]);
l.D.T9=null}this.SD();l.st=!0};p.CP.prototype.SD=function(){this._A=null;this.Lp=null;this.Np=null;this.fJ=this.qP=-1;
this.IK=null};p.CP.prototype.OB=function(l,o){for(var v=0;v<l.Qt.length;v++){var D=g.n.si(l.d,l.Qt[v]);
g.uQ.A8(o,D)}};p.CP.prototype.WP=function(l,o,D,H){if(l==null)return;var _=l.CS(),u=_[0],S=_[1];if(S.length==0)return;
var h=u[S[0]],F=h.add.vmsk;if(F==null||F.Qt.length==0)return;var n=h.add.vogk,R=JSON.stringify(n),s=H.Dr(l?l.w.vb:0);
if(s.x!=0||s.y!=0){var Z=F.clone(),O=F.clone(),w=new de(1,0,0,1,s.x,s.y);g.n.Am(O.d,w,null,O.Qt);this.OB(O,n);
this.gJ(l,h.wN,O,n);this.v9(l,"Move Anchors",l.T[0],Z,O.clone(),!0,R,JSON.stringify(n))}if(H.W(e_.Ab)||H.W(e_.O1))this.Cf({q:"remove",$L:!0,a4$:!0},o,l,H,D)};
p.CP.prototype.v9=function(l,o,D,H,_,u,S,h){var F=l.I5();if(u&&F!=null&&F.S==this&&F.data.aCC&&F.data.It==D&&JSON.stringify(F.data.Ij.Qt)==JSON.stringify(H.Qt)){F.data.Hd=_;
F.data.Ps=h}else{var F=new fL(o,this);F.data={It:D,Ij:H,Hd:_,aCC:u,ayI:S,Ps:h};l.kE(F)}};p.Rect=function(){p.F_.call(this,[10,32],p.Xg,"tools/rect",!0)};
p.Rect.prototype=new p.F_;p.Rect.prototype.EQ=function(l,o,D){var H=this.MI.crad,_=o.x-l.x,u=o.y-l.y;
return[g.n.Rd.Rect(l.x,l.y,_,u,H),g.uQ.yR("Rctn",[l.x,l.y,o.x,o.y],[H,H,H,H])]};p.lY=function(){p.F_.call(this,[10,33],p.$F,"tools/ellipse",!0)};
p.lY.prototype=new p.F_;p.lY.prototype.EQ=function(l,o,D){var H=o.x-l.x,_=o.y-l.y;return[g.n.Rd.lY(l.x,l.y,H,_),g.uQ.yR("Elps",[l.x,l.y,o.x,o.y])]};
p.Xb=function(){p.F_.call(this,[10,34],p.jJ,"tools/pshape",!1);this.MI.aopts=[!1,!0,50,100,0]};p.Xb.prototype=new p.F_;
p.Xb.prototype.EQ=function(l,o,D){var H=this.MI.pshape,_=this.MI.crad,u=this.MI.irad/100,S=this.MI.sides,h=this.MI.width,F=this.MI.aopts,n=this.MI.length,V;
o=o.clone();var R=l.x,s=l.y,Z=o.x,O=o.y,w=Math.sqrt((Z-R)*(Z-R)+(O-s)*(O-s)),m=Math.atan2(-O+s,Z-R);
if(D)m=Math.round(m*180/Math.PI/15)*15*Math.PI/180;if(H==0)V=g.n.Rd.Zo(R,s,w,m,S,_);if(H==1)V=g.n.Rd.a9y(R,s,w,m,S,_,u);
if(H==2)V=g.n.Rd.i5(l.x,l.y,o.x,o.y,h,F);if(H==3)V=g.n.Rd.aiN(R,s,w,m,n);return[V,g.uQ.yR("customShape",[l.x,l.y,o.x,o.y],null,null,null,"--")]};
p.Xb.prototype.WP=function(l,o,D,H){p.F_.prototype.WP.call(this,l,o,D,H);var _=H.Dr(),u=this.MI,S,h;
if(_.y!=0){var F=-_.y,n=u.pshape;if(n<2){S="sides";h=Math.max(3,Math.min(100,u.sides+F))}else if(n==2){S="width";
h=Math.max(1,Math.min(100,u.width+F))}else if(n==3){S="length";h=Math.max(4,Math.min(40,u.length+F))}}if(_.x!=0){S="pshape";
h=Math.max(0,Math.min(3,u.pshape+_.x))}if(S){var R=new jJ(k.E.b,!0),s={};s[S]=h;u[S]=h;R.data={q:k.L.BQ,S:this.id,i6:"vals",abK:s};
o.A(R);this.XR(l,o,D,H)}};p.Lb=function(){p.F_.call(this,[10,35],p.YX,"tools/line",!1)};p.Lb.prototype=new p.F_;
p.Lb.prototype.EQ=function(l,o,D){var H=this.MI.width,_=this.MI.aopts;o=o.clone();if(D){o=p.Sp.vk(l,o)}if(a8==1)H=0;
return[g.n.Rd.i5(l.x,l.y,o.x,o.y,H,_),g.uQ.yR("Ln",null,null,[l.x,l.y,o.x,o.y],H,null,_)]};p.Gi=function(){p.F_.call(this,[10,31],p.aJ,"tools/cshape",!0)};
p.Gi.prototype=new p.F_;p.Gi.prototype.EQ=function(l,o,D){var H=this.MI.shape,_=H.EZ.Q/H.EZ._,u=d.dO.Wu(H.d);
o=o.clone();if(D){o.y=l.y+(o.x-l.x)/_}var S=o.x-l.x,h=o.y-l.y;g.n.Am(u,new de(S,0,0,h,l.x,l.y));return[u,g.uQ.yR("customShape",[l.x,l.y,o.x,o.y],null,null,null,H.Yd)]};
p.cA=function(l,o,D){p.vA.call(this,l,o,D);this.Td=0;this.R=null;this.rJ=null;this.Ay=null;this.X0=1;
this.sV=0;this.Rk=!0;this.qL=!1;this.cursor=null;this.mZ=null;this.dP=null;this.ik=!1;this.w4=null;this.a3I=0;
this.XG=null;this.m0=0;this.l1=null;this.Fm=null;this.XN=null;this.d6=null;this.ai5=null;this.B8=null};
p.cA.prototype=new p.vA;p.cA.mH=function(l,o,D){var H={classID:"null",null:bt.NA(D?"Lyr":"Dcmn",!0)};
if(l)H.Angl={t:"UntF",v:{type:"#Ang",val:o}};else H.Axis={t:"enum",v:{Ornt:o}};return{vS:l?"rotateEventEnum":"flip",M1:H}};
p.cA.prototype.p0=function(l,o,D,H,_){var u=new jJ(k.E.b,!0);u.data={q:k.L.BQ,S:this.id,Og:_,YI:l,Ay:D};
o.A(u);this.Oj=!1};p.cA.prototype.tT=function(l){return this.Fm&&this.Fm.a48()};p.cA.prototype.Cf=function(l,o,D,H,_){this.Ay=_;
if(l.q=="again"&&this.XG==null)return;if(!this.Pc(D,_))return;if(this.Fm){this.a5$(l,this.Fm.pE(),o,D,H,_);
this.jv(D,_,0,!0);this.XK(D);return}this.aiQ(D,l.U==null,l.U);this.a8k(D);this.a5$(l,l.a5M,o,D,H,_);
this.nn(D,o,l.ND,!1)};p.cA.prototype.a5$=function(l,o,D,H,_,u){var S=this.l1;if(o==null){var h=l._E!=null?l._E:4;
o=this.Fm.akj()[h]}var F=o.x,n=o.y;if(l.q=="rot"&&l.P!=Math.PI&&(S.Q+S._&1)==1){F=Math.floor(F);n=Math.floor(n)}var R=new de;
R.translate(-F,-n);if(l.q=="rot")R.rotate(l.P);if(l.q=="scl")R.scale(l.P.x,l.P.y);if(l.q=="mat")R.concat(l.P);
R.translate(F,n);if(l.q=="again")R=this.XG;var s=g.t.Lw(R);if(l.q=="dtr"){var Z=g.t;s=Z.GM(l.P,Z.o(-F,-n));
s=Z.GM(Z.o(F,n),s)}var O=this.Fm.Ha();g.t.h(s,O);this.Fm.Zv(O);if(l.oE){var w=l.oE.v;this.hy({iO:"switchWarp"},D,H,_);
this.hy({iO:"wrp",oE:w},D,H,_)}};p.cA.prototype.Iu=function(){return!0};p.cA.prototype.Pc=function(l,o,D){if(l==null)return!1;
if(this.id==p.Cu)return l.f!=null;var H=l.rC(!0,null,null,!0);if(this.id==p.D1&&l.R[H[0]].rect.lh()){alert("Layer is empty.");
return!1}for(var v=0;v<H.length;v++){var _=l.R[H[v]];if(_.Ji(2)||_.Ji(31)){alert(cU.get([6,57,0]));return!1}if(_.add.artb){alert("You can not transform the whole artboard");
return!1}if(_.add.TySh)if(!dr.Yr(_.add.TySh,o.uh))return!1;if(_.add.SoLd){if(H.length==1&&(D&&D.PT==-1)&&(_.KQ()&&_.KQ().uD||_.add.vmsk&&_.add.vmsk.uD)){alert("Unlink masks before transforming Smart Object");
return!1}if(!l.acW(_.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+l.qH(_.add.SoLd.Idnt.v)._h+")");
return!1}}}if(l.f==null)return!0;if(!l.o_())return!1;return l.a5D()};p.cA.prototype.GE=function(l,o,D,H,_){var u=this.$c(_,l),S=u[0],h=u[1],F=this.m0==0?this.Fm:this.XN;
l.w.F*=h;this.qL=F.GE(l,D,H,S,null,null,_);if(!this.qL&&a8==1){this.nn(l,o,null,!0);return}this.XK(l,S);
l.w.F/=h;if(this.qL&&F.cL(S)){if(Date.now()-this.a3I<250)this.nn(l,o,null,!0);this.a3I=Date.now()}};
p.cA.prototype.Rx=function(l){var o=new jJ(k.E.b,!0);o.data={q:k.L.yx,oD:this.cursor};l.A(o)};p.cA.prototype.$c=function(l,o){var D=1;
l=o.w.vp(l.x,l.y);if(this.m0==1){var H=g.t.kb(this.Fm.Ha(),this.l1);D=g.t.eP(H).jX();var _=g.t.L5(H);
l=g.t.a2p(_,l)}return[l,D]};p.cA.prototype.XR=function(l,o,D,H,_){var u=this.$c(_,l),S=u[0],h=u[1],F=this.m0==0?this.Fm:this.XN;
if(!_.gz){var n="default";if(F){var R=F.NK(S,l.w.F*h,null,_);if(R)n=R}if(n!=this.cursor){this.cursor=n;
this.Rx(o)}if(this.XN){this.XK(l,S)}}if(!this.qL)return;l.w.F*=h;var s=this.FX=F.XR(l,D,H,S,this.Rk);
l.w.F/=h;this.jv(l,D,0,!0);this.XK(l,S);this.yC(o)};p.cA.prototype.Jm=function(l,o,D,H,_){var u=this.$c(_,l),S=u[0],h=u[1];
this.Fm.Jm(l,D,H,S);if(this.XN){var F=this.XN.Jm(l,D,H,S);if(F){this.yC(o,!0);this.XK(l)}}if(this.FX){var n=this.q3(),R=g.X.YZ(this.l1).s;
g.t.h(n,R);this.Fm.Zv(R);this.FX=null}this.qL=!1};p.cA.prototype.WP=function(l,o,D,H){if(H.W(e_.PA))this.nn(l,o,null,!0);
else if(H.W(e_.aZ))this.nw(l,o);else{var _=this.Fm.WP(l,D,H);if(_){this.jv(l,D,0,!0);this.yC(o)}}};p.cA.prototype.hy=function(l,o,D,H){if(l.iO=="commit")this.nn(D,o,null,!0);
else if(l.iO=="cancel")this.nw(D,o);else if(l.iO=="switchWarp"){this.m0=1-this.m0;this.aki();this.XK(D);
this.yC(o)}else if(l.iO=="wrp"){this.XN.aww(l.oE);this.XK(D);this.jv(D,this.Ay,0,!0)}else if(l.iO=="splt")this.XN.asl(l.P);
else if(l.iO=="ctyp"){this.Fm.aqT(l.gM);this.XK(D);this.yC(o)}else if(l.iO=="cen"){this.Fm.aCj(l.nu);
this.XK(D);this.jv(D,this.Ay,0,!0)}else if(l.iO=="trn"){var _=g.t.Lw(l.sd),u=this.l1,S=g.t.kb(this.Fm.Ha(),this.l1);
_[6]=S[6],_[7]=S[7];var h=[u.x,u.y,u.x+u.Q,u.y,u.x+u.Q,u.y+u._,u.x,u.y+u._];g.t.h(_,h);this.X0=l.X0;
if(l.sV!=this.sV){this.sV=l.sV;this.a9p(D)}this.Rk=l.Rk;this.Fm.Zv(h);this.XK(D);this.jv(D,this.Ay,0,!0)}};
p.cA.prototype.XK=function(l,o){if(this.m0==0)this.Fm.Z$(l,this.Ay);else{this.XN.Z$(l,o);var D=this.q3();
g.t.h(D,l.D.Xi.s);g.t.h(D,l.D.Iz);g.t.h(D,l.D.Ey)}};p.cA.prototype.nn=function(l,o,D,H){this.jv(l,this.Ay,this.X0);
var _=new fL(D?D:this.name,this),B="";if(this.Td==0)_.data={type:this.Td,R:this.R,w4:this.rJ,iT:p.cA.z0(l,this.R)};
else if(this.Td==1){var u=l.R[this.R[0]],S;if(u.qY.Ih<=0){S=g.o(u.qY.PH.c());g.mA(u.qY.sM,S,3)}else S=l.f.channel;
var h={rect:u.qY.PH.clone(),channel:S};_.data={type:this.Td,U:this.R[0],dP:this.dP,pQ:h,mZ:this.mZ,ik:this.ik,qY:u.qY,w4:this.w4,iT:{hR:u.qY.PH,L0:u.qY.sM}}}else if(this.Td==2){_.data={type:this.Td,dP:this.dP,pQ:{rect:l.f.rect.clone(),channel:l.f.channel.slice(0)}}}l.kE(_);
var F=this.l1,n=g.t.kb(this.Fm.Ha(),F),R=this.rJ,s=R?R[0]:null;if(R&&R.length==1&&s[4]){var Z=p.cA.TX(s[4].nonAffineTransform),F=g.X.dm(g.Y9.N7(s[4].quiltWarp.v)[3]),O=g.t.kb(Z,F);
n=g.t.GM(n,g.t.L5(O))}var w=g.t.eP(n),m=this.Fm.pE(),V=new de;V.translate(m.x,m.y);V.concat(w);V.translate(-m.x,-m.y);
w=V.clone();var q=-Math.atan2(-w.J,w.M),i=new de;i.rotate(q);w.concat(i);function c(J,Q){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][Q],val:J}}}var z=bt.NA("Lyr",!0);
if(this.id==p.Cu)z.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};var t=p.cA.aop;for(var a in t)if(t[a]==this.Fm.XE)B=a;
if(B==""){B="Qcsi";V.ip=V.nl=0}var I={classID:"null",null:z,FTcs:{t:"enum",v:{QCSt:B}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:c(V.ip,0),Vrtc:c(V.nl,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:c(Math.atan(w.oe/w.me)*180/Math.PI,2),Vrtc:c(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:c(100*0,1),Vrtc:c(100*0,1)}},Wdth:c(w.M*100,1),Hght:c(w.me*100,1),Angl:c(q*180/Math.PI,2)};
if(B=="Qcsi")I.Pstn={t:"Objc",v:{Hrzn:c(m.x,0),Vrtc:c(m.y,0)}};var N=this.XN?this.XN.gK():null;if(N&&!g.Y9.yL(N)){I.quiltWarp={t:"Objc",v:N}}this.LO=o;
this.track({vS:"transform",M1:I});this.escape(l,o,H)};p.cA.aop={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};
p.cA.prototype.nw=function(l,o){if(this.Td==0)p.cA.yH(l,this.R,this.rJ);else if(this.Td==1){var D=l.R[this.R[0]];
l.f=this.dP;if(!this.ik){D.qY.PH=this.w4.hR;D.qY.sM=this.w4.L0;D.HE(l,0,0,l.f)}else{D.Et(l,this.mZ)}l.V();
l.RW=!0}else if(this.Td==2){l.f=this.dP;l.RW=!0}this.escape(l,o,!0)};p.cA.prototype.escape=function(l,o,D){this.Fm.clear(l);
if(this.XN)this.XN.clear(l);this.Fm=null;this.XN=null;this.B8=null;this.m0=0;if(D)this.Vx(o,k.E.b,{q:k.L.Zp})};
p.cA.prototype.j1=function(l,o){if(l.type==0)p.cA.yH(o,l.R,l.iT);else{if(l.type==1){var D=o.R[l.U];if(l.ik){D.qY=l.qY}else{D.qY.PH=l.iT.hR;
D.qY.sM=l.iT.L0}D.HE(o,0,0,o.f);o.V()}o.f={rect:l.pQ.rect.clone(),channel:l.pQ.channel.slice(0)};o.RW=!0}};
p.cA.prototype.H$=function(l,o){if(l.type==0)p.cA.yH(o,l.R,l.w4);else{if(l.type==1){var D=o.R[l.U];if(l.ik){D.Et(o,l.mZ)}else{D.qY.PH=l.w4.hR;
D.qY.sM=l.w4.L0;D.HE(o,0,0,o.f)}o.V()}o.f=l.dP;o.RW=!0}};p.cA.prototype.aiQ=function(l,o,D){l.CS();var H=[];
if(D==null)for(var v=0;v<l.dZ.length;v++)if(l.sS[l.dZ[v]].add.vmsk.d.length>2)H.push(-1-l.dZ[v]);var _=[],u=l.w.N;
if(u[0]+u[1]+u[2]==3)if(D!=null||H.length==0||l.Vl!=null&&l.Vl.length!=0){if(l.T.length==1){var S=l.R[l.T[0]];
if(S.Cl()&&S.BF)_=[l.T[0]]}if(_.length==0)_=l.rC(o,D,null,!0)}_=_.concat(H);for(var v=0;v<l.q0.length;
v++)_.push(-1e3-l.q0[v]);this.R=_};p.cA.prototype.enable=function(l,o,D,H,_,u){if(this.cursor==null)this.cursor="default";
this.Rx(o);if(this.Fm)return;this.Ay=D;this.aiQ(l,!0);this.a8k(l,u&&u.PT!=null&&u.PT!=-1?u.PT:null);
this.yC(o,null,l);this.XK(l);if(u&&u.PT==-1)this.hy({iO:"switchWarp"},o,l,H)};p.cA.prototype.DJ=function(){return[this.Rk?1:0]};
p.cA.prototype.hn=function(l,o,D){if(l&&l[0]!=null)this.Rk=l[0]==1};p.cA.prototype.yC=function(l,o,D){var H={q:k.L.BQ,S:this.id};
if(this.m0==0){var _=g.t.kb(this.Fm.Ha(),this.l1),u=g.t.eP(_);H.sd={YF:u,gM:this.Fm.aC1(),nu:this.Fm.pE(),hR:this.l1.clone(),Rk:this.Rk}}else{H.ayR=o;
H.oE=this.XN.gK()}if(D){H.Lx=["---"];for(var v=0;v<D.Lx.length;v++)H.Lx.push(D.Lx[v].name)}H.a9O=this.XN!=null;
this.Vx(l,k.E.b,H)};p.cA.prototype.a8k=function(l,o){var D=this.id==p.Cu,H=!0,_=this.R[0],u=l.R[_],h=null,F=null,n=null,Z=null;
if(D){this.Td=2;this.dP=l.f}else if(l.f&&this.R.length==1&&_>=0&&!u.rect.lh()){this.Td=1;this.dP=l.f;
this.mZ=u.qY;this.ik=!1;if(!u.IJ(l,l.f)){this.ik=!0;u.sn(l,l.f,!1)}this.w4={L0:u.qY.sM,hR:u.qY.PH}}else{this.Td=0;
this.rJ=p.cA.z0(l,this.R,null);for(var v=0;v<this.rJ.length;v++)if(this.rJ[v][3]!=null)H=!1}var S=this.Td==1;
if(this.rJ&&this.rJ.length==1){var R=this.rJ[0];if(R[2]!=null)F=R[2].ro;if(R[3]==null)S=!0;if(R[3]!=null)n=R[3];
if(R[4]!=null){h=l.R[this.R[0]].add.SoLd;if(R[1]||R[2])S=!1}}var s=D?l.f.rect.clone():p.cA.fZ(l,this.R);
this.l1=s;if(!D&&F&&a8==1){Z=F.hI();this.d6=g.t.kb(Z,this.l1)}else if(!D&&n&&a8==1){var O=l.R[this.R[0]],n=O.add.TySh;
Z=g.X.YZ(O.rD.L2).s;g.X.h(Z,n.h,Z);this.d6=g.t.kb(Z,this.l1)}else if(!D&&h){Z=p.cA.TX(h.nonAffineTransform);
this.l1=g.X.dm(g.Y9.N7(h.quiltWarp.v)[3]);if(S)this.XN=new g4(h.quiltWarp.v);this.d6=g.t.kb(Z,this.l1)}else{if(S||D)this.XN=new g4(g.Y9.o(this.l1));
this.d6=[1,0,0,0,1,0,0,0];if(this.id==p.D1)o=3;Z=[s.x,s.y,s.x+s.Q,s.y,s.x+s.Q,s.y+s._,s.x,s.y+s._]}this.Fm=new gk(Z,!0,!0,H,!1,!1,o);
this.ai5=[1,0,0,0,1,0,0,0];this.a9p(l)};p.cA.prototype.a9p=function(l){if(this.id==p.D1){var o,D,u=null;
if(this.rJ&&l.f==null){var H=this.rJ[0][0],_=H.sc;o=_[0];D=_[1]}else if(this.w4){o=this.w4.L0;D=this.w4.hR}if(this.sV!=0)u=l.Lx[this.sV-1].C7(D);
this.B8=g.sF.a4Q(o,D.Q,D._,u)}};p.cA.fZ=function(l,o){if(o==null)o=l.rC(!0,null,null,!0);var D=new gt,H=new gt;
if(l.f&&o.length==1&&o[0]>=0)D=l.f.rect.clone();else for(var v=0;v<o.length;v++){var _=o[v],u=0<=_?l.R[_]:-1e3<_?l.sS[-1-_]:l.Lx[-1e3-_],S=u.add?u.add.vmsk:null,h=0<=_?u.pZ(l,o.length==1,!1,!0):-1e3<_?g.n.kU(S.d,o.length==1&&S.T.length!=0?S.T:null):u.rect.clone();
D=D.tB(h);if(_>0&&u.add.artb)H=H.tB(u.IH())}return!H.lh()?H:D};p.cA.prototype.Vx=function(l,o,D,H){var _=new jJ(o,!0);
_.data=D;if(H)_.S=H;l.A(_)};p.cA.z0=function(l,o,D){var H=[];for(var v=0;v<o.length;v++){var _=o[v],u,S;
if(_>=0){u=l.R[_];S=u.Un(l,D,!0)}else if(_>-1e3){u=l.sS[-1-_];S=[2]}else{H.push([null,null,null,null,null,null,null,l.Lx[-1e3-_].clone()]);
continue}var h=[],F=S.indexOf(0)!=-1;if(F){var n={sc:u.add.SoLd?null:[u.buffer.slice(0),u.rect.clone()]};
h.push(n);if(u.pn()){var R=u.nN(l);n.aeM=R.buffer.slice(0);n.amc=R.rect.clone()}}else h.push(null);if(S.indexOf(1)!=-1)h.push(u.KQ().clone());
else h.push(null);if(S.indexOf(2)!=-1)h.push({ro:u.add.vmsk.clone(),K$:u.add.vstk?JSON.parse(JSON.stringify(u.add.vstk)):null,E6:u.add.vstk?cq.ty(l.R[_].add):null,o4:u.add.vstl?JSON.stringify(u.add.vstl):null,uQ:u.add.vogk?JSON.parse(JSON.stringify(u.add.vogk)):null});
else h.push(null);if(u.add.TySh&&F){fX.H9(u.add.TySh);h.push(u.add.TySh.h.clone())}else h.push(null);
if(u.add.SoLd&&F)h.push(JSON.parse(JSON.stringify(u.add.SoLd)));else h.push(null);if(S.indexOf(3)!=-1)h.push(u.nN(l).I.clone());
else h.push(null);if(u.add.lmfx)h.push(JSON.stringify(u.add.lmfx));else h.push(null);H.push(h)}return H};
p.cA.yH=function(l,o,D){for(var v=0;v<o.length;v++){var H=o[v],_=0<=H?l.R[H]:-1e3<H?l.sS[-1-H]:l.Lx[-1e3-H],u=D[v];
if(u[0]){if(u[0].sc){_.rect=u[0].sc[1].clone();_.buffer=u[0].sc[0].slice(0)}if(_.pn()){var S=_.nN(l);
S.buffer=u[0].aeM.slice(0);S.rect=u[0].amc.clone()}}if(u[1]){_.KQ().channel=u[1].channel.slice(0);_.KQ().rect=u[1].rect.clone();
_.KQ().cF=!0}if(u[2]){_.add.vmsk=u[2].ro.clone();if(u[2].E6)cq.hz(_.add,u[2].E6);if(u[2].K$)_.add.vstk=JSON.parse(JSON.stringify(u[2].K$));
if(u[2].uQ)_.add.vogk=JSON.parse(JSON.stringify(u[2].uQ));if(u[2].o4)_.add.vstl=JSON.parse(u[2].o4)}if(u[3]){_.add.TySh.h=u[3].clone();
fX.FP(_.add.TySh)}if(u[4]){_.add.SoLd=JSON.parse(JSON.stringify(u[4]))}if(u[5]){var h=_.nN(l).I;h.channel=u[5].channel.slice(0);
h.rect=u[5].rect.clone()}if(u[6]){_.add.lmfx=JSON.parse(u[6])}if(u[7]){_.channel=u[7].channel.slice(0);
_.rect=u[7].rect.clone();_.cF=!0}if(0<=H){_.C$(l);_.V();if(u[4])_.mP(l,!1)}}l.V()};p.cA.yA=function(l,o,D,H,_,u,S,h,F,n){if(typeof u[0]=="number"){var R=[];
for(var v=0;v<D.length;v++)R[v]=u;u=R}for(var v=0;v<D.length;v++){var s=u[v],Z=g.t.eP(s),O=Z.jX(),w=D[v],m=0<=w?l.R[w]:-1e3<w?l.sS[-1-w]:l.Lx[-1e3-w],V=H[v];
if(m.add&&m.add.lmfx&&h)cN.kp(m.add.lmfx,O);if(V[0]&&!V[3]&&!V[4]&&!V[5]){var q=V[0].sc;if(F){var i=F.$o(q[1]),c=g.o(i.c()*4);
g.Qo(q[0],q[1],c,i);q=[c,i]}var z=p.cA.Ua(q,_,s,S,_==0?m.buffer.buffer:null,null,null,n);if(z){m.rect=z.rect;
m.buffer=z.buffer}}if(V[1]){var B=m.KQ();p.cA.gT(l,V[1],B,_,s,S,B.uD&&S&&!g.Y9.yL(S)&&V[0]?V[0].sc[1]:null);
if(F){var i=B.rect.$o(F),t=g.o(i.c());g.mB(B.channel,B.rect,t,i);B.channel=t;B.rect=i}}if(V[2]){var a=S&&!g.Y9.yL(S),I=V[2].ro.clone(),N=D.length==1&&I.T.length!=0,J=D.length==1&&I.Qt.length>1;
if(J)N=!1;var Q=N?I.T:null,A=J?I.Qt:null;if(a){var f=g.Y9.N7(S);g.t.h(s,f[3]);g.n.atT(I.d,f,Q,A)}else g.n.ahN(I.d,s,Q,A);
if(m.add.vstk&&h){m.add.vstk.strokeStyleLineWidth.v.val=V[2].K$.strokeStyleLineWidth.v.val*O;var W=V[2].E6;
if(W&&W.hM==3){W=JSON.parse(JSON.stringify(W));var C=W.E6.phase.v;W.E6.Scl.v.val=Math.round(W.E6.Scl.v.val*O);
C.Hrzn.v=Math.round(C.Hrzn.v*O);C.Vrtc.v=Math.round(C.Vrtc.v*O);cq.hz(m.add,W)}}if(m.add.vogk){m.add.vogk=JSON.parse(JSON.stringify(V[2].uQ));
if(a||J)g.uQ.auB(m.add.vogk);else g.uQ.h(m.add.vogk,s,D.length>1?[]:I.T,h)}if(m.add.vstl){var j=m.add.vstl=JSON.parse(V[2].o4);
for(var K=0;K<2;K++){var $=K==0?j.h6:j.IS;if($==null||$[3]==null)continue;var r=$[3],U=new de(r[0],r[1],r[2],r[3],r[4],r[5]);
U.concat(Z);$[3]=[U.M,U.J,U.oe,U.me,U.ip,U.nl]}}I.L4*=O;var b=new de;b.rotate(I._8);b.concat(Z);I._8=Math.atan2(-b.J,b.M);
m.add.vmsk=I;if(m.add.vogk)g.uQ.$S(m.add.vogk,m.add.vmsk)}if(V[3]){var U=V[3].clone();U.concat(Z);m.add.TySh.h=U;
fX.FP(m.add.TySh);dr.cV(m,o.uh)}if(V[4]){var e=m.add.SoLd,P=p.cA.TX(V[4].nonAffineTransform);g.t.h(s,P);
var L=g.X.Mg(P);if(gk.go(P)){if(S){var Y=g.X.dm(g.Y9.N7(V[4].quiltWarp.v)[3]),t=g.t.kb(P,Y),X=g.X.dm(g.Y9.N7(S)[3]);
P=[X.x,X.y,X.x+X.Q,X.y,X.x+X.Q,X.y+X._,X.x,X.y+X._];g.t.h(t,P);e.quiltWarp.v=S}var G=g.t.kb(P),E=P;if(!g.t.QP(G)){G[6]=G[7]=0;
E=[0,0,1,0,1,1,0,1];g.t.h(G,E)}e.Trnf=p.cA.y3(E);e.nonAffineTransform=p.cA.y3(P);if(e.filterFX)e.filterFX=JSON.parse(JSON.stringify(V[4].filterFX));
p.cA.a5P(e,Z);m.mP(l,_==0,o.uh)}}if(V[5])p.cA.gT(l,V[5],m.nN(l).I,_,s,S);if(V[7])p.cA.gT(l,V[7],m,_,s,S);
if(0<=w){if(!n)m.Hf();m.C$(l);m.V()}}l.V()};p.cA.R7=function(l,o){var D=o.jX(),H=0;g.mk(l);var _=g.ai3(l,o,.3,4);
H=_[0];o=_[1];var u=l[H],S=l[H+1],h=S.Q,F=S._,n=g.X.YZ(S).s;g.X.h(n,o,n);var R=g.X.Mg(n),s=g.o(R.c()),Z=R.x,O=R.y,w=R.Q,m=R._,V=o.clone();
V.L5();var q=V.wq(new he(0,0)),i=V.wq(new he(1,0)),c=i.x-q.x,z=i.y-q.y;for(var B=0;B<m;B++){var t=V.M*(Z+.5)+V.oe*(B+O+.5)+V.ip,a=V.J*(Z+.5)+V.me*(B+O+.5)+V.nl;
for(var I=0;I<w;I++){s[B*w+I]=Math.floor(.5+g.t.ap1(t,a,u,h,F));t+=c;a+=z}}return{rect:R,channel:s}};
p.cA.in=function(l,o,D,H,_,u){if(D==null)D=!1;return p.cA.Ua(l,D?0:1,g.t.Lw(o),null,H,_,u,D)};p.cA.Ua=function(l,o,D,H,_,u,S,h){if(h==null)h=!1;
if(h&&S)throw"e";var F={},R=0;if(H&&!g.Y9.yL(H)){var n=g.Y9.N7(H);g.t.h(D,n[3]);F.rect=g.X.Mg(n[3]);
F.buffer=g.o(F.rect.c()*4);g.cC.drawImage(n,l[0],l[1].Q,l[1]._,F.buffer,F.rect,o==0);return F}if(g.t.QP(D)){g.Na(l);
var s=.3,R=0,Z=g.t.eP(D),O=l[1],w=O.c()*Z.jX();if(h&&w>4e6)s=w>8e6?2.2:1.2;var m=g.ai3(l,Z,s,16);R=m[0];
D=g.t.Lw(m[1])}var V=l[R],O=l[R+1],q=g.t.GM(D,g.t.Lw(new de(O.Q,0,0,O._,O.x,O.y))),i=[0,0,1,0,1,1,0,1];
g.t.h(q,i);F.rect=g.X.Mg(i);if(S)F.rect=F.rect.$o(S);if(h){while((F.rect.Q&3)!=0)F.rect.Q++;while((F.rect._&3)!=0)F.rect._++}if(!gk.go(i)||F.rect.Q>1e5||F.rect._>1e5||F.rect.c()>3e4*3e4)return null;
var c=F.rect.c()*4;if(_&&_.byteLength>=c&&c>=_.byteLength>>2){F.buffer=new Uint8Array(_)}else{F.buffer=g.o(c)}g.t.drawImage(q,V,O.Q,O._,F.buffer,F.rect,o==0,u,h);
if(o==2&&F.buffer){var z=F.rect.Q,B=F.rect._,t;t=[0,-1,0,-1,16,-1,0,-1,0];t=g.$z.B7(t);var a=F.buffer.slice(0);
g.$z.Z_(a,F.buffer,z,B,t,255,!1,!0)}if(F.buffer)return F};p.cA.gT=function(l,o,D,H,_,u,S){var h=o.rect,F=o.channel;
if(S){h=S;F=o.C7(h)}if(o.color==255)g.L5(F);var n=g.o(h.c()*4);g.Kl(F,n,3);var R=p.cA.Ua([n,h],H,_,u);
if(R){D.rect=R.rect;D.channel=g.o(R.rect.c());g.mA(R.buffer,D.channel,3);D.cF=!0}if(o.color==255){g.L5(F);
if(R)g.L5(D.channel)}};p.cA.a5P=function(l,o){var D=l.filterFX;if(D)D=D.v.filterFXList;if(D)D=D.v;if(D)for(var H=0;
H<D.length;H++){var _=D[H].v.Fltr;if(_==null||_.v.classID!="rigidTransform")continue;_=_.v;console.log(_);
var u=[];for(var S=0;S<4;S++)u.push(_["PuX"+S].v,_["PuY"+S].v);g.X.h(u,o,u);for(var S=0;S<4;S++){_["PuX"+S].v=u[S*2];
_["PuY"+S].v=u[S*2+1]}var h=["PinP","posFinalPins"],F=["originalVertexArray","deformedVertexArray"],n=_.puppetShapeList.v;
for(var R=0;R<n.length;R++){var s=n[R].v;for(var Z=0;Z<h.length;Z++){var O=p.cA.TX(s[h[Z]]);g.X.h(O,o,O);
s[h[Z]]=p.cA.y3(O);var w=new Uint8Array(s[F[Z]].v),m=new Float32Array(w.buffer);g.X.h(m,o,m);var V=[];
for(var q=0;q<w.length;q++)V[q]=w[q];s[F[Z]].v=V}}}};p.cA.TX=function(l){var o=[],D=l.v.length;for(var v=0;
v<D;v++)o.push(l.v[v].v);return o};p.cA.y3=function(l){var o={t:"VlLs",v:[]},D=l.length;for(var v=0;
v<D;v++)o.v.push({t:"doub",v:l[v]});return o};p.cA.prototype.aki=function(){var l=g.X.dm(g.Y9.N7(this.XN.gK())[3]),o=g.t.kb(this.Fm.Ha(),this.l1),D=[l.x,l.y,l.x+l.Q,l.y,l.x+l.Q,l.y+l._,l.x,l.y+l._];
g.t.h(o,D);this.Fm.Zv(D);this.l1=l};p.cA.prototype.q3=function(){var l=g.t.kb(this.Fm.Ha(),this.l1);
if(this.FX)l=g.t.GM(l,g.t.Lw(this.FX));return l};p.cA.prototype.jv=function(l,o,D,H){var _=this.q3();
_=g.t.GM(_,g.t.L5(this.d6));var u=this.XN?this.XN.gK():null;if(this.Td==0){var S=this.XG=g.t.eP(_);if(this.id==p.D1){var h=this.rJ[0][0],F=h.sc,n=F[1],R=~~(n.Q*Math.max(0,S.M)),s=~~(n._*Math.max(0,S.me)),Z=new gt(Math.round(S.M*n.x+S.ip),Math.round(S.me*n.y+S.nl),R,s),O=g.sF.h(this.B8,Z),w=l.R[this.R[0]];
w.buffer=O;w.rect=Z;w.V();l.V()}else p.cA.yA(l,o,this.R,this.rJ,D,_,u,null,null,H)}else if(this.Td==1){var m=l.R[this.R[0]],n=this.w4.hR;
if(m.Ih<=0){var V=this.w4.L0,q=this.dP,i=null;if(u&&!g.Y9.yL(u)&&!q.rect.kn(n)){var O=g.o(q.rect.c()*4);
g.Qo(V,n,O,q.rect);V=O;n=q.rect}if(this.id==p.D1){var S=this.XG=g.t.eP(_),R=~~(n.Q*Math.max(0,S.M)),s=~~(n._*Math.max(0,S.me)),Z=new gt(Math.round(S.M*n.x+S.ip),Math.round(S.me*n.y+S.nl),R,s),O=g.sF.h(this.B8,Z);
i={buffer:O,rect:Z}}else i=p.cA.Ua([V,n],D,_,u);if(i){m.qY.sM=i.buffer;m.qY.PH=i.rect;var c=g.o(i.rect.c());
g.mA(m.qY.sM,c,3);l.f={channel:c,rect:m.qY.PH.clone()}}}else{var z=g.o(n.c()*4);g.Kl(this.w4.L0,z,3);
var i=p.cA.Ua([z,n],D,_,u);if(i){m.qY.sM=g.o(i.rect.c());g.mA(i.buffer,m.qY.sM,3);m.qY.PH=i.rect}this.aEu(l,D,_,u)}m.HE(l,0,0,l.f);
if(D!=0){m.Hf();g.Hf(l.f)}l.RW=!0;l.V()}else if(this.Td==2)this.aEu(l,D,_,u)};p.cA.prototype.aEu=function(l,o,D,H){var _=this.dP.rect,u=g.o(_.c()*4);
g.Kl(this.dP.channel,u,3);var S=p.cA.Ua([u,_],o,D,H),h=g.o(S.rect.c());g.mA(S.buffer,h,3);l.f={channel:h,rect:S.rect};
l.RW=!0};p.cA.prototype.disable=function(l,o,D,H){if(this.Fm)this.nn(l,o,null,!0)};p.az6=function(){p.cA.call(this,[10,16],p.rk,"tools/transform")};
p.az6.prototype=new p.cA;p.a7S=function(){p.cA.call(this,[7,10],p.Cu,"tools/transform")};p.a7S.prototype=new p.cA;
p.a1z=function(){p.cA.call(this,[10,48],p.D1,"tools/transform")};p.a1z.prototype=new p.cA;p.Md=function(l,o,D){p.vA.call(this,[10,46],p.eK,"tools/transform");
this.H8=[1,1,2,!0];this.xi="rigidTransform";this.V1=null;this.a1P=null;this.R3=null;this.g2=null;this.IN=null;
this.GC=null;this.HT=[]};p.Md.prototype=new p.vA;p.Md.prototype.Iu=function(){return!0};p.Md.w5=function(l){if(l==null)return!1;
if(l.T.length!=1)return!1;var o=l.R[l.T[0]];return o.add.SoLd||l.o_(!1)};p.Md.prototype.Pc=function(l,o){return p.Md.w5(l)};
p.Md.prototype.enable=function(l,o,D,H,_,u,S){this.a1P=u.ol;var h=u.ol,F,m=null;if(h){var n=l.R[h.U];
if(n.add.SoLd.filterFX!=null){var R=n.add.SoLd.filterFX.v.filterFXList.v;if(R[h.index])F=JSON.parse(JSON.stringify(R[h.index].v.Fltr.v))}}var s=F==null,n=l.R[l.T[0]],Z=n.buffer,O=n.rect,w=n.add.SoLd;
if(w){var V=w.nonAffineTransform.v;m=[];for(var v=0;v<4;v++)m.push(V[v*2].v,V[v*2+1].v);if(s)this.Ce("edit",o);
var q=n.nN(l);Z=q.buffer;O=q.rect}this.V1={buffer:Z.slice(0),rect:O.clone(),auY:m};if(s)F=p.Md.Lc(this.V1,this.H8);
this.R3=F;this.g2=p.Md.EU(this.R3,this.H8);this.aV();this.pS(l);if(s)this.$u(o);var i=new jJ(k.E.b,!0);
i.data={q:k.L.BQ,S:this.id,au:this.H8};o.A(i);i.data={q:k.L.yx,oD:"default"};o.A(i)};p.Md.prototype.disable=function(l,o,D,H){if(this.g2)this.nn(l,o,!0)};
p.Md.prototype.aV=function(l){var o=this.g2;this.HT=[];for(var v=0;v<o.length;v++){var D=o[v];for(var H=0;
H<D.T.length;H++)this.HT.push([v,D.T[v]]);D.hg=g.WL.a3w(D);if(l)g.WL.aab(D)}};p.Md.prototype.hy=function(l,o,D,H){if(l.iO=="commit")this.nn(D,o,!0);
else if(l.iO=="cancel")this.nw(D,o,!0);else if(l.iO=="prm"){var _=!1;for(var v=0;v<3;v++)if(this.H8[v]!=l.au[v])_=!0;
this.H8=l.au;if(_){this.R3=p.Md.Lc(this.V1,this.H8,this.R3);this.g2=p.Md.EU(this.R3,this.H8);this.aV(!0);
this.$u(o)}this.pS(D)}else if(l.iO=="moveDepth"){var u=this.g2;for(var S=0;S<u.length;S++){var h=u[S];
for(var v=0;v<h.T.length;v++){var F=h.T[v];h.fA[F]+=l.am6?1:-1}}this.$u(o)}};p.Md.prototype.iL=function(l,o){return l==e_.Ab||l==e_.O1};
p.Md.prototype.WP=function(l,o,D,H){var _=H.Dr();if(H.W(e_.PA))this.nn(l,o,!0);else if(H.W(e_.aZ))this.nw(l,o,!0);
else if(H.W(e_.Ab)||H.W(e_.O1)){var u=this.g2;for(var S=0;S<u.length;S++){var h=u[S];h.T.sort(function(R,s){return s-R});
for(var v=0;v<h.T.length;v++){var F=h.T[v],n=F*2;h.fA.splice(F,1);h.Ox.splice(F,1);h.DI.splice(F,1);
h.xy.splice(F,1);h._3.splice(n,2);h.zP.splice(n,2)}h.T=[];if(h.xy.length==0){h.BV=h.az.slice(0);h.Da=h.az.slice(0)}}this.aV(!0);
this.$u(o);this.pS(l)}else if(_.x!=0||_.y!=0){this.a9F(l,_.x,_.y,o);this.ja=null}};p.Md.prototype.nn=function(l,o,D){this.Ce("confirm",o);
this.escape(l,o,D)};p.Md.prototype.nw=function(l,o,D){this.Ce("cancel",o);this.escape(l,o,D)};p.Md.prototype.escape=function(l,o,D){l.D.T9=null;
l.D.ny=[];l.D.TQ=[];l.st=!0;this.g2=null;var H=new jJ(k.E.b,!0);H.data={q:k.L.Zp};if(D)o.A(H)};p.Md.prototype.GE=function(l,o,D,H,_){var u=l.w.vp(_.x,_.y),S=u.x,h=u.y,F=this.g2,n=null,R=[0,2,4,1.2,1.2,1.2],s=-1,Z=p.zU(l,_);
for(var v=0;v<F.length;v++){var O=F[v],w=g.X.RS(O.zP,S,h,Z);if(w!=-1)n=[v,w];if(s==-1&&g.WL.ah7.aa8(O.Da,O.QE,S,h))s=v}if(n==null&&s!=-1){var O=F[s];
p.Md.ajV(O,S,h,S,h,0);n=[s,O.xy.length-1];O.hg=g.WL.a3w(O)}this.IN=u;if(n){var m=F[n[0]].T.indexOf(n[1])!=-1;
if(H.W(e_.eo)&&!m){F[n[0]].T.push(n[1]);this.HT.push(n)}else if(!m){F[n[0]].T=[n[1]];this.HT=[n]}}this.pS(l)};
p.Md.ajV=function(l,o,D,H,_,u){var S=g.X.RS(l.Da,o,D);l.xy.push(S);l.zP.push(H,_);l._3.push(l.Da[S*2]-o,l.Da[S*2+1]-D);
l.DI.push(0);l.Ox.push(!1);l.fA.push(u)};p.Md.prototype.XR=function(l,o,D,H,_){var u=l.w.vp(_.x,_.y),S=this.IN;
if(S)this.a9F(l,u.x-S.x,u.y-S.y,o)};p.Md.prototype.a9F=function(l,o,D,H){var _={},u=this.HT,S=this.g2;
if(this.ja==null){this.ja=[];for(var v=0;v<S.length;v++)this.ja.push(S[v].zP.slice(0))}for(var v=0;v<u.length;
v++){var h=this.HT[v],F=h[0],n=S[h[0]],R=h[1]*2;n.zP[R+0]=this.ja[F][R+0]+o;n.zP[R+1]=this.ja[F][R+1]+D;
_[F]=F}for(var F in _)g.WL.aab(this.g2[_[F]]);this.pS(l);this.$u(H)};p.Md.prototype.Ce=function(l,o){var D=new jJ(k.E.r,!0);
D.S=p.tF;D.data={q:l,ol:this.a1P,xi:this.xi,zh:this.R3};o.A(D)};p.Md.prototype.Jm=function(l,o,D,H,_){this.IN=null;
this.ja=null};p.Md.prototype.$u=function(l){p.Md.asb(this.g2,this.H8,this.R3);this.Ce("edit",l)};p.Md.prototype.pS=function(l){var o=this.g2,D=this.R3;
l.D.T9={s:[],v:[]};l.D.ny=[];l.D.TQ=[];for(var v=0;v<o.length;v++){var H=o[v];for(var _=0;_<H.zP.length;
_+=2){var u=l.D.TQ;if(H.T.indexOf(_>>>1)!=-1)u=l.D.ny;u.push(H.zP[_],H.zP[_+1])}if(this.H8[3])g.X.concat(l.D.T9,g.X.aAP(H.Da,H.QE))}l.st=!0};
p.Md.Lc=function(l,o,D){var H=l.buffer,_=l.rect,u=l.auY,S=at.ts("rigidTransform");if(u)for(var v=0;v<4;
v++){S["PuX"+v].v=u[v*2];S["PuY"+v].v=u[v*2+1]}var h=S.puppetShapeList.v,F=g.WL.aje(H,_.Q,_._,o[1],o[2]),n=[];
for(var R=0;R<F.length;R++){var s={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
s.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var Z=F[R];h.push({t:"Objc",v:s});var O=Z.az.slice(0);g.X.h(O,new de(1,0,0,1,_.x,_.y),O);var w=Z.QE;
for(var v=0;v<w.length;v+=3){var m=w[v+1];w[v+1]=w[v+2];w[v+2]=m}n.push({QE:w,az:O,BV:O,Da:O,xy:[],_3:[],zP:[],hg:null,T:[],DI:[],Ox:[],fA:[]})}if(D){var V=p.Md.EU(D,[]),q=n[0];
for(var v=0;v<V.length;v++){var i=V[v];for(var c=0;c<i.T.length;c++)q.T.push((q.zP.length>>>1)+i.T[c]);
for(var c=0;c<i.xy.length;c++){var z=i.xy[c]*2,B=i.az[z]-i._3[c*2],t=i.az[z+1]-i._3[c*2+1];p.Md.ajV(q,B,t,i.zP[c*2],i.zP[c*2+1],i.fA[c])}}}p.Md.asb(n,o,S);
return S};p.Md.EU=function(l,o){var D=p.cA.TX,H=l.puppetShapeList.v,_=[];for(var u=0;u<H.length;u++){var S=H[u].v;
o[0]=S.meshRigidity.v-1;o[1]=S.meshQuality.v-1;o[2]=S.meshExpansion.v;var h=S.pinVertexIndices.v.length,F=S.meshBoundaryPath.v.pathComponents.v;
if(F.length!=0){var n=F[0].v.SbpL.v[0].v.Pts;n.v=[]}var R=new Uint32Array(new Uint8Array(S.indexArray.v).buffer),s=new Float32Array(new Uint8Array(S.originalVertexArray.v).buffer),Z=new Float32Array(new Uint8Array(S.deformedVertexArray.v).buffer),O=[],w=[],m=[];
for(var v=0;v<R.length;v++)O.push(R[v]);for(var v=0;v<s.length;v++){w.push(s[v]);m.push(Z[v])}var V=D(S.pinVertexIndices),q=D(S.pinOffsets),i=D(S.posFinalPins),c=D(S.PnRt),z=D(S.PnOv),B=D(S.PnDp),t=D(S.selectedPin);
_.push({QE:O,az:w,BV:m.slice(0),Da:m,xy:V,_3:q,zP:i,hg:null,DI:c,Ox:z,fA:B,T:t})}return _};p.Md.asb=function(l,o,D){function H(Z,O){var w=[];
for(var v=0;v<Z.length;v++)w.push({t:O,v:Z[v]});return w}function _(Z,O,w){var m=new(w?Uint32Array:Float32Array)(Z),V=new Uint8Array(m.buffer);
for(var v=0;v<V.length;v++)O[v]=V[v]}var u=D.puppetShapeList.v;for(var S=0;S<u.length;S++){var h=l[S],F=u[S].v;
F.meshRigidity.v=o[0]+1;F.meshQuality.v=o[1]+1;F.meshExpansion.v=o[2];_(h.QE,F.indexArray.v,!0);_(h.az,F.originalVertexArray.v);
_(h.Da,F.deformedVertexArray.v);var n=[];for(var v=0;v<h.xy.length;v++){var R=h.xy[v]*2,s=v*2;n[s]=h.az[R]-h._3[s];
n[s+1]=h.az[R+1]-h._3[s+1]}F.PinP.v=H(n,"doub");F.pinVertexIndices.v=H(h.xy,"long");F.pinOffsets.v=H(h._3,"doub");
F.posFinalPins.v=H(h.zP,"doub");F.PnRt.v=H(h.DI,"long");F.PnOv.v=H(h.Ox,"bool");F.PnDp.v=H(h.fA,"doub");
F.selectedPin.v=H(h.T,"long")}};p.d8=function(l,o,D){p.vA.call(this,l?l:[10,40],o?o:p.LN,D?D:"tools/slice");
this.Gj=null;this.LO=null;this.YP=null;this.au6=null;this.VT=null;this.iu=null};p.d8.prototype=new p.vA;
p.d8.Id=function(l,o){var D=-1;for(var v=0;v<l.length;v++){var H=p.d8.W6(l,v);if(H[0]<=o.x&&o.x<=H[2]&&H[1]<=o.y&&o.y<=H[3]){D=v;
break}}return D};p.d8.prototype.Cf=function(l,o,D,H,_){if(D==null)return;this.kh(D);if(l.q=="fromAction"){var u=l.KL,S=u.vS,h=u.M1,F=D.we(),n=D.NQ(),R=n==-1?new gt(0,0,D.Q,D._):D.R[n].IH();
if(S=="divide"){if(D.$h.length!=0){var s=D.$h[0],Z=p.d8.W6(D.n0,s);R=new gt(Z[0],Z[1],Z[2]-Z[0],Z[3]-Z[1]);
D.n0.splice(s,1);D.$h=[]}F=[[],[]];for(var O=0;O<2;O++){var w=["Across","Down"][O],m=h["pixels"+w]?0:1,V=h[["pixels","slices"][m]+w];
if(V==null)continue;V=V.v;var q=O==0?R.x:R.y,i=O==0?R.Q:R._;if(m==0)for(var v=1;v*V<i;v++){F[0].push([O,q+v*V]);
F[1].push(n)}else{var c=Math.floor(i/V);for(var v=1;v<V;v++){F[0].push([O,q+v*c]);F[1].push(n)}}}}var z=[R.x,R.x+R.Q],B=[R.y,R.y+R._];
for(var v=0;v<F[0].length;v++){var t=F[0][v],a=Math.round(t[1]),I=F[1][v];if(I!=-1&&I!=n)continue;if(t[0]==0&&z.indexOf(a)==-1)z.push(a);
if(t[0]==1&&B.indexOf(a)==-1)B.push(a)}z.sort(function($,r){return $-r});B.sort(function($,r){return $-r});
for(var N=1;N<B.length;N++)for(var J=1;J<z.length;J++){D.n0.push(p.d8.MB());p.d8.Zs(D.n0,D.n0.length-1,[z[J-1],B[N-1],z[J],B[N]]);
D.st=!0}}else if(l.q=="reorder"){if(D.$h.length==0)return;var Q=D.n0,A=D.$h;A.sort(function($,r){return $-r});
console.log(A);var f=Q.slice(0),W=[],C=[];for(var v=0;v<A.length;v++){var s=A[v],j=Q[s];C.push(j);f.splice(f.indexOf(j),1)}var K=Math.max(0,Math.min(f.length,A[0]-l.dir));
for(var v=0;v<C.length;v++){f.splice(K+v,0,C[v]);W.push(K+v)}D.n0=f;D.$h=W}else if(l.q=="delete"){var Q=D.n0.slice(0);
for(var v=0;v<D.$h.length;v++)D.n0.splice(D.n0.indexOf(Q[D.$h[v]]),1);D.$h=[]}else if(l.q=="deleteAll"){D.n0=[];
D.$h=[]}else{D.n0[D.$h[0]].v=l;D.st=!0}this.kW(D)};p.d8.prototype.enable=function(l,o,D,H,_,u){p.vA.prototype.enable.call(this,l,o,D,H,_,u);
if(!D.og.n0){var S=new jJ(k.E.b,!0);S.data={q:k.L.lN,au:is.s2};o.A(S)}};p.d8.prototype.disable=function(){this.Gj=null;
this.LO=null};p.d8.prototype.p0=function(l,o,D,H,_){var u=l.w.vp(_.x,_.y),S=p.d8.Id(l.n0,u);if(S==-1)return;
this.Gj=l;this.LO=o;l.$h=[S];l.st=!0;if(this.iu==null){this.iu=new fg([{name:[5,4]},{name:[8,11,1],oj:!0}]);
this.iu.O("select",this.GO,this)}var h=this.iu;h.parent=o;h.k();h.update(l,D);var F=new jJ(k.E.b,!0);
F.data={q:k.L.jq,VG:h,x:_.pF+2,y:_.g7+1};o.A(F)};p.d8.prototype.GO=function(l){var o=this.iu.Z3()[0],D=this.Gj;
if(o==0){this.kh(D);D.n0.splice(D.$h[0],1);D.$h=[];D.st=!0;this.kW(D)}if(o==1){var H=new jJ(k.E.b,!0);
H.data={q:k.L.E1,mg:"soptions",P:D.n0[D.$h[0]].v};this.LO.A(H)}};p.d8.prototype.GE=function(l,o,D,H,_){if(l==null)return;
this.kh(l);var u=l.w.vp(_.x,_.y);u=p.JI.KN(l,u,D,[!0,null,!1]);u.x=Math.round(u.x);u.y=Math.round(u.y);
this.VT=u;l.n0.unshift(p.d8.MB());l.$h=[0];p.d8.Zs(l.n0,0,[u.x,u.y,u.x+20,u.y+20]);l.st=!0};p.d8.prototype.XR=function(l,o,D,H,_){if(this.YP==null)return;
var u=l.w.vp(_.x,_.y),S=this.VT;u=p.JI.KN(l,u,D,[!0,null,!1]);u.x=Math.round(u.x);u.y=Math.round(u.y);
var h=[S.x,S.y,u.x,u.y];p.d8.aql(h);p.d8.Zs(l.n0,0,h);l.st=!0};p.d8.prototype.Jm=function(l,o,D,H,_){this.kW(l);
this.VT=null};p.d8.prototype.kh=function(l){this.YP=JSON.stringify(l.n0);this.au6=JSON.stringify(l.$h)};
p.d8.prototype.kW=function(l){var o=JSON.stringify(l.n0);if(o!=this.YP){var D=new fL(this.name,this);
D.data={w4:this.YP,iT:o,a2i:this.au6,aDp:JSON.stringify(l.$h)};l.kE(D)}this.YP=null};p.d8.prototype.H$=function(l,o){o.n0=JSON.parse(l.w4);
o.$h=JSON.parse(l.a2i);o.st=!0};p.d8.prototype.j1=function(l,o){o.n0=JSON.parse(l.iT);o.$h=JSON.parse(l.aDp);
o.st=!0};p.d8.prototype.iL=function(l,o){return o!=null&&o.$h.length!=0&&(l==e_.Ab||l==e_.O1)};p.d8.prototype.WP=function(l,o,D,H){if(l==null)return;
if(H.W(e_.Ab)||H.W(e_.O1))this.Cf({q:"delete"},o,l,H,D);var _=H.Dr();if(_.x!=0||_.y!=0){this.kh(l);p.d8.G8(l,_);
this.kW(l)}};p.d8.prototype.hy=function(l,o,D,H,_){};p.d8.aoZ=function(l,o,D,H){var _=new he(-o.x,-o.y),u=o.Q/D.Q,S=o._/D._,h=[0,0,o.Q,o._];
for(var v=0;v<l.length;v++){var F=p.d8.W6(l,v);if(H){F[0]=Math.round(F[0]*u);F[1]=Math.round(F[1]*S);
F[2]=Math.round(F[2]*u);F[3]=Math.round(F[3]*S)}else{p.d8.zF(F,_);p.d8.awM(F,h)}if(F[0]>=F[2]||F[1]>=F[3]){l.splice(v,1);
v--;continue}p.d8.Zs(l,v,F)}};p.d8.G8=function(l,o){var D=l.n0;for(var v=0;v<l.$h.length;v++){var H=p.d8.W6(D,l.$h[v]);
p.d8.zF(H,o);p.d8.Zs(D,l.$h[v],H)}};p.d8.awM=function(l,o){if(l[0]<o[0])l[0]=o[0];if(l[1]<o[1])l[1]=o[1];
if(o[2]<l[2])l[2]=o[2];if(o[3]<l[3])l[3]=o[3]};p.d8.zF=function(l,o){l[0]=Math.round(l[0]+o.x);l[2]=Math.round(l[2]+o.x);
l[1]=Math.round(l[1]+o.y);l[3]=Math.round(l[3]+o.y)};p.d8.Zs=function(l,v,o){var D=l[v].v.bounds.v;D.Left.v=o[0];
D.Top.v=o[1];D.Rght.v=o[2];D.Btom.v=o[3]};p.d8.W6=function(l,v){var o=l[v].v.bounds.v;return[o.Left.v,o.Top.v,o.Rght.v,o.Btom.v,v]};
p.d8.aql=function(l){if(l[2]<l[0]){var o=l[0];l[0]=l[2];l[2]=o}if(l[2]==l[0])l[2]++;if(l[3]<l[1]){var o=l[1];
l[1]=l[3];l[3]=o}if(l[3]==l[1])l[3]++};p.d8.dm=function(l,o){var D=1e9,H=-1e9,_=1e9,u=-1e9;for(var v=0;
v<o.length;v++){var S=p.d8.W6(l,o[v]);D=Math.min(D,S[0]);_=Math.min(_,S[1]);H=Math.max(H,S[2]);u=Math.max(u,S[3])}return[D,_,H,u]};
p.d8.MB=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
p.B$=function(){p.d8.call(this,[10,41],p.Ze,"tools/sselect");this.VT=null;this.wC=null;this.n8=null;
this.GC=null;this.uJ=!1};p.B$.prototype=new p.d8;p.B$.prototype.GE=function(l,o,D,H,_){if(l==null)return;
var u=l.w.vp(_.x,_.y),S=p.B$.avu(u,4/l.w.F,l.n0,l.$h);S.pop();if(S.length!=0){this.VT=u;this.n8=S;this.kh(l);
return}var h=l.n0,F=p.d8.Id(h,u);if(F==-1)l.$h=[];else{var n=l.$h.indexOf(F);if(H.W(e_.eo)){if(n==-1)l.$h.push(F);
else l.$h.splice(n,1)}else{l.$h.sort(function(m,V){return m-V});if(n==-1)l.$h=[F];this.VT=u;this.kh(l);
this.wC=p.d8.dm(h,l.$h);this.GC=[];for(var v=0;v<l.$h.length;v++)this.GC.push(p.d8.W6(h,l.$h[v]));if(H.W(e_.zg)){var R=h.slice(0),s=l.$h,Z=[];
for(var v=0;v<s.length;v++){var F=s[v],O=R[F],w=h.indexOf(O);Z.push(w);h.splice(w,0,JSON.parse(JSON.stringify(O)))}l.$h=Z}}}l.st=!0};
p.B$.prototype.XR=function(l,o,D,H,_){var u=l.w.vp(_.x,_.y);if(this.VT==null){var S=p.B$.avu(u,4/l.w.F,l.n0,l.$h),h=S.pop(),F=S.length==0?"default":["ew","nwse","ns","nesw"][h]+"-resize",n=new jJ(k.E.b,!0);
n.data={q:k.L.yx,oD:F};o.A(n);return}if(!this.uJ&&u.kn(this.VT))return;this.uJ=!0;var R=l.n0,S=this.n8;
if(S){u=p.JI.KN(l,u,D,[!0,null,!1]);var s=Math.round(u.x),Z=Math.round(u.y);for(var v=0;v<S.length;v+=2){var O=p.d8.W6(R,S[v]),w=S[v+1];
O[w]=(w&1)==0?s:Z;p.d8.aql(O);p.d8.Zs(R,S[v],O)}}else{var m=u.c_(this.VT),V=this.wC.slice(0);p.d8.zF(V,m);
var q=new gt(V[0],V[1],V[2]-V[0],V[3]-V[1]),i=p.JI.l2(l,q,D,[!0,null,!1],!0);p.JI.Jz(l,q,i);m.x+=i[0];
m.y+=i[1];for(var v=0;v<l.$h.length;v++)p.d8.Zs(R,l.$h[v],this.GC[v]);p.d8.G8(l,m)}l.st=!0};p.B$.prototype.Jm=function(l,o,D,H,_){if(this.VT==null)return;
this.kW(l);l.D.b3=null;l.st=!0;this.VT=null;this.n8=null;this.GC=null;this.uJ=!1};p.B$.avu=function(l,o,D,H){var _=l.x,u=l.y,S=[],h=-1,F=[];
for(var v=0;v<H.length;v++){var n=H[v],R=p.d8.W6(D,n),s=R[0],Z=R[1],O=R[2],w=R[3];if(_<s-o||O+o<_||u<Z-o||w+o<u)continue;
var m=[_<s+o,u<Z+o,O-o<_,w-o<u],V=-1;for(var q=0;q<4;q++){if(m[q]&&m[q+1&3])V=1+2*(q&1);if(m[q])S.push(n,q)}if(V==-1){if(m[0]||m[2])V=0;
if(m[1]||m[3])V=2}if(V!=-1){h=V;F.push(n)}}var i=S.length;for(var v=0;v<i;v+=2){var n=S[v],c=S[v+1],z=p.d8.W6(D,n)[c];
for(var q=0;q<H.length;q++){var B=H[q];if(F.indexOf(B)!=-1)continue;var R=p.d8.W6(D,B);if(R[c&1]==z)S.push(B,c&1);
if(R[2+(c&1)]==z)S.push(B,2+(c&1))}}S.push(h);return S};p.Ht=function(){p.OK.call(this,[10,44],p.as9,"tools/oselect");
this.he="crosshair";this.a7e=0};p.Ht.prototype=new p.OK;p.Ht.prototype.GZ=function(l,o,D,H){if(Math.random()<1/(1+this.a7e)){alert("The cross should be fully inside the object.",3500);
this.a7e++}};p.Ht.prototype.n$=function(l,o,D,H){p.QI.bl(l,p.OK.VP,this.LO);if(!H.gz||!this.$x)return;
var _=this.fZ(l,D,!1),u=_.Q,S=_._,h=_.x,F=_.y,n=_.x+u,R=_.y+S,s=h+u/2,Z=F+S/2,O=p.Ht.afr;l.D.T9={s:[h,F,n,F,n,R,h,R,s-u*O,Z,s+u*O,Z,s,Z-S*O,s,Z+S*O],v:"M L L L Z M L M L".split(" ")};
l.st=!0};p.Ht.afr=.12;p.Ht.prototype.lK=function(l,o,D,H){l.D.T9=null;l.st=!0;this.finish(l,o,D,H)};
p.Ht.prototype.getSelection=function(l,o,D,H){if(this.__.kn(this.FR)||!this.$x)return null;var _=this.fZ(l,D,!1),u=l.R[l.T[0]];
if(_.lh()||!_.Q5(u.rect))return null;return p.OK.FD("ObSl",_)};p.QI=function(){p.hL.call(this,[10,37],p._0,"tools/qselect");
this.C2="qselect"};p.QI.prototype=new p.hL;p.QI.prototype.GE=function(l,o,D,H,_){p.QI.bl(l,p.OK.VP,o,!0);
this.c8(l,D,H,_,1);if(this.nX==null)return;this.Cb(l)};p.QI.prototype.XR=function(l,o,D,H,_){this.pk(l,o,D);
p.QI.bl(l,p.OK.VP,o);if(this.m2)this.ue(l,D,_);if(this.nX==null)return;if(!_.gz)return;var u=this.p8(l,D,H,_);
if(u!=1)this.Cb(l)};p.QI.bl=function(l,o,D,H){if(l&&o.key!=p.QI.eB(l)){o.key=p.QI.eB(l);var _=l.R[l.T[0]].rect.c(),S="Image Analysis ...";
if(_==0)return;var u=_>1e6&&H!=!0,h=new jJ(k.E.b,!0);h.data={q:k.L.AV,JS:S};if(u)D.A(h);var F=function(){var n=p.QI.af5(l);
for(var R in n)o[R]=n[R];var h=new jJ(k.E.b,!0);h.data={q:k.L.lL,JS:S};if(u)D.A(h)};if(H)F();else setTimeout(F,30)}};
p.QI.eB=function(l){var o=l.T[0],D=l.R[o],H=D.rect,_=H.Q,u=H._,S=_*u,h=D.buffer;return[o,H.x,H.y,_,u,h[0],h[1],h[2],h[3]].join(",")};
p.QI.af5=function(l){var o=l.T[0],D=l.R[o],H=D.rect,_=H.Q,u=H._,S=_*u,h=D.buffer,F=Date.now(),n=g.o(S);
n.fill(128);var R=g.CR._Y(h,_,u);console.log(Date.now()-F);var s={key:p.QI.eB(l),Mu:h,rect:H.clone(),pX:_,B9:u,WN:12,Ue:n,zW:R,f:g.o(S),Wo:null,SZ:null,jr:null};
p.QI.x6(s,null,l);return s};p.QI.x6=function(l,o,D){var H=l.pX,_=l.B9,u=0,S=0,h=Date.now(),F=l.Wo!=null&&g.CR.za(l.Wo.QE,l.Wo.a$,l.Ue)==-1;
u=Date.now()-h;h=Date.now();if(!F){var n=g.CR.za(l.zW.QE,l.zW.a$,l.Ue),R=0;while(n!=-1){var s=[],Z=[],O=l.zW.QE;
for(var w=0;w<_;w++)for(var m=0;m<H;m++){var v=w*H+m;if(O[v]==n){var V=l.Ue[v];if(V==0)s.push(m,w);if(V==255)Z.push(m,w)}}var q=D.R[D.T[0]],i=q.buffer;
g.CR._Y.Cg(i,H,_,l.zW,s,Z);n=g.CR.za(l.zW.QE,l.zW.a$,l.Ue);R++;if(R>=10){console.log("too many subdivisions");
break}}l.Wo=g.CR.vo(l.zW,H,_,l.Ue,l.WN);l.SZ=g.CR.aqR(l.Mu,H,_,l.Wo.QE,l.Wo.a$);l.jr=[l.SZ[0].slice(0),[]];
S=Date.now()-h;h=Date.now()}var h=Date.now();if(o){l.jr[0].set(l.SZ[0]);var c=l.SZ[1],z=l.jr[1];for(var B=0;
B<c.length;B++)z[B]=c[B].slice(0);g.CR.a1n(l.Wo.QE,H,_,l.Wo.a$,l.Ue,l.f,l.jr)}};p.St=function(){p.vA.call(this,[10,50],p.ck,"tools/artb");
this.kC=null;this.EX=!1;this.Fm=null;this.A$=!1;this.ave=null;this.d9=100;this.cc=null;this.RF=0};p.St.prototype=new p.vA;
p.St.prototype.Cf=function(l,o,D,H,_){this.h8(D,l.aDz,o,l.PT)};p.St.ajC=function(l,o){var D=l[0],H=0,_=0;
if(D==0)_=-1;else if(D==1)H=1;else if(D==2)_=1;else H=-1;return[20/o.gS,l[1]+H*60/o.gS,l[2]+_*60/o.gS]};
p.St.prototype.hy=function(l,o,D,H,_){this.kC=l.au;this.RF=Date.now()};p.St.prototype.lx=function(l,o,D,H){if(D.Bq!=this.id)return;
if(l==null||l.T.length!=1){this.SD(l);return}var _=l.T[0],u=l.R[_],S=u.add.artb;if(S==null){this.SD(l);
return}if(this.A$)return;if(Date.now()-this.RF>50){this.kC={};var h=["artboardBackgroundType","Clr"];
for(var v=0;v<h.length;v++)if(S[h[v]])this.kC[h[v]]=JSON.parse(JSON.stringify(S[h[v]]));var F=new jJ(k.E.b,!0);
F.data={q:k.L.BQ,S:this.id,Bt:this.kC};o.A(F)}var n=u.IH(),R=g.X.YZ(n).s,s=this.Fm=new gk(R,!0,!1,!1,!0,!1,3,!1);
s.Z$(l,D,!1);var Z={s:[1,0],v:["M"]};for(var v=1;v<30;v++){var O=Math.PI*2*v/30;Z.s.push(Math.cos(O),Math.sin(O));
Z.v.push("L")}Z.v.push("Z","M","L","M","L");Z.s.push(-.5,0,.5,0,0,-.5,0,.5);var w=n.x+n.Q/2,m=n.y+n._/2,V=this.d9*1.1,q=this.ave=[w,n.y,n.x+n.Q,m,w,n.y+n._,n.x,m],i=[0,-V,V,0,0,V,-V,0],c=l.root.children;
l.D.ZB=[];for(var v=0;v<4;v++){var z=new he(q[v*2]+i[v*2],q[v*2+1]+i[v*2+1]),B=!1;for(var t=0;t<c.length;
t++){var u=c[t].U;if(u.add.artb==null)continue;var n=u.IH();if(n.j0(z))B=!0}if(B){q[v*2]=1e9;continue}l.D.ZB.push([v,q[v*2],q[v*2+1]])}};
p.St.prototype.disable=function(l,o,D,H,_){this.SD(l)};p.St.prototype.SD=function(l){if(this.Fm){this.Fm.clear(l);
this.Fm=null;l.D.ZB=null}};p.St.prototype.GE=function(l,o,D,H,_){this.RF=Date.now();var u=l.w.vp(_.x,_.y),S=this.Fm;
if(S){var h=new jJ(k.E.r),F=S.v4(null,u,l,_);if(F<9){this.A$=S.GE(l,D,H,u,null,!0,_);return}else if(S.cL(u)){h.S=p.e5;
h.data={q:"disabAuto"};o.A(h);var n=new jJ(k.E.b);n.data={q:k.L.BC,S:p.e5,aag:!0};o.A(n);return}else{var R=-1,s=l.D.ZB;
for(var v=0;v<s.length;v++){var Z=p.St.ajC(s[v],l.w);if(he.At(u,new he(Z[1],Z[2]))<Z[0])R=s[v][0]}if(R!=-1){var O=l.R[l.T[0]].IH(),w=O.clone(),m=(R==0||R==2?O._:O.Q)+this.d9;
if(R==0||R==3)m=-m;if(R==0||R==2)O.y+=m;else O.x+=m;if(H.W(e_.zg)){var V=new gt(0,0,l.Q,l._);h.S=p.wU;
h.data={q:d.r$};o.A(h);p.JI.uN(l,l.rC(null,l.T[0],null,!0),null,O.x-w.x,O.y-w.y);l.T=l.T.slice(l.T.length-1);
var q=p.WS.rq(l);if(q){var i=l.I5();i.data.l1=V;i.data.Gt=q;i.data.ZK=l.T}}else this.h8(l,O,o);return}}}this.cc=p.JI.KN(l,u,D)};
p.St.prototype.h8=function(l,o,D,H){if(H==null)H=0;var _=l.R.slice(0),u=[l.R.length+1],S=l.O7();S.FH(cU.get([1,16,0])+" "+(l.add.artd==null?1:l.root.children.length+1));
S.add.lsct=jl.VV;S.Hh(o);if(this.kC){var h=S.add.artb,F=this.kC;for(var n in F)h[n]=F[n]}S.TY="pass";
S.XL=24;if(H==0){if(l.add.artd||o.$o(new gt(0,0,l.Q,l._)).lh())_.push(l.k0());else _.unshift(l.k0())}else{var R=l.rC();
R.sort(function(m,V){return m-V});var s=p.yZ.qK(l,R,_.length-1,!1,null,!1),Z=s.pop(),O=s.pop();_=s.pop();
_.splice(l.R.length-R.length,0,l.k0())}_.push(S);var w=new jJ(k.E.r);w.S=p.wU;w.data={q:d.IB,Z8:_,pQ:u,ND:[1,16,2]};
D.A(w)};p.St.prototype.XR=function(l,o,D,H,_){var u=l.w.vp(_.x,_.y),S=this.Fm,h=this.cc;if(S){if(this.A$){S.XR(l,D,H,u)}else{var F=S.NK(u,l.w.F,null,_);
if(F==null)F="default";var n=new jJ(k.E.b,!0);n.data={q:k.L.yx,oD:F};o.A(n)}}if(h){var R=this.W6(l,u,H,D);
l.D.T9=g.X.YZ(R);l.st=!0;p.vA.Zx(_,R,l,D)}};p.St.prototype.Jm=function(l,o,D,H,_){var u=l.w.vp(_.x,_.y),S=this.cc;
if(this.A$){this.Fm.Jm(l,D,H,u);this.A$=!1;var h=g.X.Mg(this.Fm.Ha()),F=d.dt(h),n=l.R[l.T[0]],R=JSON.parse(JSON.stringify(n.add.artb));
R.artboardRect.v=F;var s=new jJ(k.E.r,!0);s.S=p.wU;s.data={q:d.n5,jw:R};o.A(s)}if(S){var Z=this.W6(l,u,H,D);
if(Z.c()>20)this.h8(l,Z,o);l.D.T9=null;l.st=!0;this.cc=null;l.D.UD=[]}};p.St.prototype.W6=function(l,o,D,H){var _=this.cc,u=p.JI.KN(l,o,H),S=p.F_.ys(_,u,D,!0);
_=S[0];u=S[1];return g.X.Mg([_.x,_.y,u.x,u.y])};p.JB=function(){p.vA.call(this,[10,50],p.a8Y,"tools/artb");
this.Fm=null;this.lR=!1;this.Fy=null;this.va=null;this.Zq=null;this.h4=null;this.aDS=null;this.nk=null;
this.uT=null};p.JB.prototype=new p.vA;p.JB.prototype.iL=function(l,o){return l==e_.Ab||l==e_.O1};p.JB.prototype.WP=function(l,o,D,H){if(H.W(e_.Ab)||H.W(e_.O1)){var _=l.add.arts;
this.va=JSON.stringify(_);for(var v=0;v<_.length;v++)if(_[v].T){_.splice(v,1);v--}this.ajb(l);this.Fv(l)}};
p.JB.prototype.disable=function(l,o,D,H,_){this.lR=!1};p.JB.prototype.enable=function(l,o,D,H,_){this.lR=!0;
this.Fy=D;this.Fv(l)};p.JB.prototype.SD=function(l){};p.JB.prototype.GE=function(l,o,D,H,_){var u=this.uT=l.w.vp(_.x,_.y),S=l.add.arts;
this.va=JSON.stringify(S);var h=this.Fm,F=h?h.NK(u,l.w.F,null,_):null,n=H.W(e_.Cm)||H.W(e_.eo);if(h&&!n&&(g.X.dm(h.Ha()).j0(u)||F)){}else{var R=-1;
for(var v=0;v<S.length;v++)if(g.X.dm(S[v].EZ).j0(u))R=v;if(R==-1)this._G(l,-1);else if(n)S[R].T=!S[R].T;
else this._G(l,R);this.Fv(l)}if(this.Fm){this.Fm.GE(l,D,H,u,null,!0,_)}l.st=!0};p.JB.prototype.XR=function(l,o,D,H,_){var u=l.w.vp(_.x,_.y),S=l.add.arts,h=JSON.parse(this.Zq);
if(this.Fm){this.Fm.XR(l,D,H,u);if(_.gz){var F=g.X.dm(this.Fm.Ha()),n=this.aDS,R=new de;R.translate(-n.x,-n.y);
R.scale(F.Q/n.Q,F._/n._);R.translate(F.x,F.y);var s=this.Fm.v4(H,u,l,_);for(var v=0;v<S.length;v++){var Z=S[v];
if(!Z.T)continue;if(g.X.dm(h[v].EZ).lh())Z.EZ=[F.x,F.y,F.x+F.Q,F.y+F._];else{Z.EZ=h[v].EZ.slice(0);g.X.h(Z.EZ,R,Z.EZ)}}if(s==10){p.JI.uN(l,this.h4,null,F.x-this.nk.x,F.y-this.nk.y);
this.nk=F}l.V()}var O="default",w=this.Fm.NK(u,l.w.F,null,_);if(w)O=w;var m=new jJ(k.E.b,!0);m.data={q:k.L.yx,oD:O};
o.A(m)}else if(_.gz&&he.At(u,this.uT)>=6/l.w.F){S.push({Nt:"Artboard "+(S.length+1),EZ:[0,0,0,0],T:!0});
this.Fv(l);this.Fm.GE(l,D,H,this.uT,null,!0,_)}};p.JB.prototype.Jm=function(l,o,D,H,_){var u=l.w.vp(_.x,_.y),S=l.add.arts,h=JSON.parse(this.Zq),F=H.W(e_.Cm)||H.W(e_.eo);
if(!F&&he.At(this.uT,u)<6/l.w.F){var n=-1;for(var v=0;v<S.length;v++)if(g.X.dm(S[v].EZ).j0(u))n=v;if(n!=-1){this._G(l,n);
this.Fv(l)}if(g.X.dm(h[h.length-1].EZ).lh()){this.Fm.clear(l);S.pop()}}if(this.Fm){var R=this.Fm.v4(H,u,l,_);
this.Fm.Jm(l,D,H,u);if(!u.kn(this.uT))this.ajb(l,R==10?u.c_(this.uT):null)}};p.JB.prototype.ajb=function(l,o){var D=new fL([10,50],this);
D.data={aC:this.va,zc:JSON.stringify(l.add.arts)};if(o){D.data.T=this.h4;D.data.oB=o}l.kE(D)};p.JB.prototype.Fv=function(l){var o=l.add.arts,D=new gt,H=0,_=[];
for(var v=0;v<o.length;v++)if(o[v].T){var u=g.X.dm(o[v].EZ);D=D.tB(u);l.root.kL(u,_);H++}if(H==0){if(this.Fm)this.Fm.clear(l);
l.st=!0;this.Fm=null;return}this.Zq=JSON.stringify(o);this.h4=_;this.aDS=this.nk=D;var S=g.X.YZ(D).s;
this.Fm=new gk(D.lh()?null:S,!0,!1,!1,!1,!1,3);if(!D.lh())this.Fm.Z$(l,this.Fy)};p.JB.prototype._G=function(l,o){var D=l.add.arts;
for(var v=0;v<D.length;v++)D[v].T=o==v};p.JB.prototype.j1=function(l,o){o.add.arts=JSON.parse(l.zc);
if(l.T)p.JI.uN(o,l.T,null,l.oB.x,l.oB.y);if(this.lR)this.Fv(o);o.st};p.JB.prototype.H$=function(l,o){o.add.arts=JSON.parse(l.aC);
if(l.T)p.JI.uN(o,l.T,null,-l.oB.x,-l.oB.y);if(this.lR)this.Fv(o);o.st};function gk(l,o,D,H,_,u,S,h){this.Bn=null;
this.Qz=l?l.slice(0):null;this.sX=1;this.XE=4;this.FR=null;this.TA=null;this.oP=null;this.fp=-1;this.e_=null;
this.apO=!1;this.a5h=[];for(var v=0;v<8;v++)this.a5h.push(fj.ajs(0,PIMG.rotate,-.5,-.5,-45-v*45));this.abY=o;
this.alO=D;this.a2n=H;this.avH=_;this.a5e=u;this.PT=S;this.aEn=h==null?1:h}gk.prototype.a48=function(){return this.fp!=-1};
gk.prototype.Ha=function(){return this.Qz.slice(0)};gk.prototype.Zv=function(l){this.Qz=l};gk.prototype.akj=function(){return this.SW(this.Qz)};
gk.prototype.aC1=function(){return this.XE};gk.prototype.aqT=function(l){this.XE=l};gk.prototype.pE=function(l){if(l==null)l=this.Qz;
if(this.XE==9)return this.FR;else return this.SW(l)[this.XE]};gk.prototype.aCj=function(l){if(this.XE==9)this.FR=l.clone();
else{var o=this.pE(),D=new de(1,0,0,1,l.x-o.x,l.y-o.y);g.X.h(this.Qz,D,this.Qz)}};gk.prototype.BM=function(l){this.sX=l};
gk.prototype.NK=function(l,o,D,H,_){var u=this.hk(null,l,o,H),S;if(u==9)return"default";if(u==10){if(D)return null;
return!this.abY?"move":null}if(u==-1||u==4)return null;if(u==11){var h=this.pE().c_(l);if(_==null)_=Math.atan2(h.y,h.x);
S=90-_*180/Math.PI;var F=Math.round(8*(S/360));F=(F+8)%8;return this.a5h[F]}else{var n=this.RM(l,this.Qz);
S=[135,90,45,180,0,0,225,270,315][u]*Math.PI/180;var R=g.t.kb(this.Qz);return gk.a9q(R[0],R[3],S)}};
gk.a9q=function(l,o,D){var H=Math.atan2(-o,l);if(D)H+=D;var _="ew nesw ns nwse ew nesw ns nwse".split(" "),u=Math.round(8*(H/(2*Math.PI)));
u=(u+8)%8;return _[u]+"-resize"};gk.prototype.RM=function(l,o){var D=g.t.L5(g.t.kb(o)),H=new Float64Array(2);
g.t.jN(l.x,l.y,D,H);return new he(H[0],H[1])};gk.prototype.cL=function(l){var o=this.RM(l,this.Qz);return 0<=o.x&&o.x<=1&&0<=o.y&&o.y<=1};
gk.prototype.GE=function(l,o,D,H,_,u,S,h){this.apO=u;this.e_=H;var F=l.w.F,n;if(this.Qz==null)H=p.JI.KN(l,H,o);
this.oP=H.clone();if(this.Qz==null){if(h==null)h=0;var R=new de;R.rotate(h);var s=R.wq(new he(1,1));
this.oP.offset(s.x,s.y);var Z=_==null?1:1/_,O=this.Qz=[0,0,1,0,1,Z,0,Z];R.translate(H.x,H.y);g.X.h(this.Qz,R,this.Qz);
n=8}else{n=this.hk(D,H,F,S);if(0<=n&&n<=8)this.oP=this.SW(this.Qz)[n];if(n==9){this.XE=9;this.FR=H.clone()}}this.Bn=this.Qz.slice(0);
this.fp=n;this.Z$(l,o);this.TA=this.pE();return n!=-1};gk.prototype.v4=function(l,o,D,H){return this.hk(l,o,D.w.F,H)};
gk.prototype.hk=function(l,o,D,H){var _=-1,u=this.SW(),S=[0,2,6,8,1,3,5,7],h=H?p.zU({w:{F:D}},H):8*p.Y()/D,F=he.At(u[0],u[2]),n=he.At(u[0],u[6]),R=this.RM(o,this.Qz);
R.x*=F;R.y*=n;var s=new gt(0,0,F,n);s.ag(h,h);if(_==-1)if(he.At(this.pE(),o)<h)_=9;if(_==-1)for(var v=0;
v<S.length;v++)if(he.At(u[S[v]],o)<h)_=S[v];if(_==-1&&s.j0(R)){if(Math.abs(R.y-0)<h)_=1;if(Math.abs(R.x-0)<h)_=3;
if(Math.abs(R.y-n)<h)_=7;if(Math.abs(R.x-F)<h)_=5}if(_==-1&&l&&l.W(e_.zg))_=9;if(_==-1||this.PT==4){if(this.cL(o)){if(this.abY)_=10}else{var Z=[3,.85][a8];
s.ag(Z*h,Z*h);_=s.j0(R)&&this.PT!=3?11:10;if(_==10&&a8==1)_=-1}}return _};gk.prototype.XR=function(l,o,D,H,_){if(this.fp==-1)return;
this.e_=H;var u=D&&D.W(e_.eo),S=D&&D.W(e_.zg),h=D&&D.W(e_.Cm),F=l.w.F,n=this.oP,R=this.fp,s=this.SW(),Z=p.JI.KN(l,n,o),O=p.JI.KN(l,H,o),w,m;
if(R==9){var s=this.SW(),V=-1;for(var v=0;v<s.length;v++)if(he.At(s[v],O)*F<10)V=v;this.XE=V==-1?9:V;
this.FR=u?p.Sp.vk(Z,O):O.clone()}else if(R==10){m=g.X.dm(this.Bn);var q=m.x,i=m.y;m.offset(H.x-n.x,H.y-n.y);
if(this.aBU()){m.x=Math.round(m.x);m.y=Math.round(m.y)}w=p.JI.l2(l,m,o);var c=new de(1,0,0,1,m.x-q+w[0],m.y-i+w[1]);
g.X.h(this.Bn,c,this.Qz)}else if(R==11){var z=this.pE(this.Bn),B=z.c_(H),t=z.c_(n),a=Math.atan2(B.y,B.x),I=Math.atan2(t.y,t.x),c=new de(1,0,0,1,-z.x,-z.y),N=Math.PI/12;
if(u)c.rotate(Math.round((I-a)/N)*N);else c.rotate(I-a);c.translate(z.x,z.y);g.X.h(this.Bn,c,this.Qz)}else{var J=u,Q;
if(_&&!h)J=!J;if(this.a5e)J=!0;var A=this.Bn,f=R==0||R==2||R==6||R==8;if(this.PT==1){if(f)u=S=h=!0}else if(this.PT==2&&f&&this.apO!=!0)h=!0;
if(this.PT==3)h=!1;else if(this.PT==5){u=h=!0}if(this.a2n&&f&&h){var v=[0,0,2,0,0,0,6,0,4,0][R],W=-1,C=O.x,j=O.y;
if(u){var K=v+6&7,$=v+10&7,r=gk.aqZ(A[v],A[v+1],A[K],A[K+1],O.x,O.y),U=gk.aqZ(A[v],A[v+1],A[$],A[$+1],O.x,O.y),b=r[2]<U[2]?r:U;
C=b[0];j=b[1];if(S)W=r[2]<U[2]?K:$}else if(S)W=v+4&7;Q=A.slice(0);if(W!=-1){var e=A[W],P=A[W+1],L=(A[v]+e)/2,Y=(A[v+1]+P)/2;
Q[W]=L-(C-L);Q[W+1]=Y-(j-Y)}Q[v]=C;Q[v+1]=j}else if(f&&S){var z=this.TA,X=z.x,G=z.y,E=Z.x-X,T=Z.y-G,y=1,d4=1;
if(Math.abs(E)>=1)y=(O.x-X)/E;if(Math.abs(T)>=1)d4=(O.y-G)/T;if(J)y=d4=(y+d4)/2;var c=new de;c.translate(-X,-G);
c.scale(y,d4);c.translate(X,G);Q=A.slice(0);g.X.h(Q,c,Q)}else{if(this.aBU()){O.x=Math.round(O.x);O.y=Math.round(O.y)}var dH=[0,1,2,5,8,7,6,3],eV=dH[(dH.indexOf(R)+4)%8],bf=[];
for(var v=0;v<3;v++)for(var W=0;W<3;W++)bf.push(new he(W/2,v/2));var z=this.TA,jd=S&&(this.XE==4||this.XE==9)?this.RM(z,A):bf[eV],i5=S&&(this.XE==4||this.XE==9)?z:s[eV];
if(f&&J){function fD(iR,ex,dX){var iZ=ex[0]-iR[0],j3=ex[1]-iR[1],by=g.X.uF(dX[0],dX[1],-j3,iZ,iR[0],iR[1],iZ,j3);
return[dX[0]-j3*by,dX[1]+iZ*by]}while(!0){var eo=fD([i5.x,i5.y],[n.x,n.y],[O.x,O.y]);eo=new he(eo[0],eo[1]);
eo=p.JI.KN(l,eo,o);if(he.At(eo,O)<1e-6)break;O=eo}}var iX=this.RM(O,A),cK=this.RM(n,A),g0=new de,bW=new de,y=(iX.x-jd.x)/(cK.x-jd.x);
if(y==0)y=1e-4;var d4=(iX.y-jd.y)/(cK.y-jd.y);if(d4==0)d4=1e-4;if(this.avH){y=Math.max(y,0);d4=Math.max(d4,0)}if(f){if(J)g0.scale(y,y);
else g0.scale(y,d4)}else if(R!=4){var hF=J,aJ=h&&u;if(aJ)hF=!1;if(R==1||R==7)g0.scale(hF?d4:1,aJ?1:d4);
else g0.scale(aJ?1:y,hF?y:1);if(this.alO&&h){if(R==1||R==7)bW.oe=(iX.x-jd.x)/(iX.y-jd.y);else bW.J=(iX.y-jd.y)/(iX.x-jd.x)}}var c=new de;
c.translate(-jd.x,-jd.y);c.concat(g0);c.concat(bW);c.translate(jd.x,jd.y);Q=[0,0,1,0,1,1,0,1];g.X.h(Q,c,Q);
var b=g.t.kb(A);g.t.h(b,Q)}if(gk.go(Q))this.Qz=Q}this.Z$(l,o);if(w)p.JI.Jz(l,m,w)};gk.aqZ=function(l,o,D,H,_,u){var S=D-l,h=H-o,F=_-l,n=u-o,R=S*S+h*h,s=F*S+n*h,Z=s/R,O=l+Z*S,w=o+Z*h,m=_-O,V=u-w;
return[O,w,Math.sqrt(m*m+V*V)]};gk.prototype.aBU=function(){var l=this.Qz;return Math.abs(l[1]-l[3])<1e-6&&Math.abs(l[2]-l[4])<1e-6||Math.abs(l[0]-l[2])<1e-6&&Math.abs(l[3]-l[5])<1e-6};
gk.go=function(l){return g.X.alu(l)||g.X.alu([l[6],l[7],l[4],l[5],l[2],l[3],l[0],l[1]])};gk.prototype.Jm=function(l,o,D,H){this.fp=-1;
this.e_=null;l.D.b3=null;l.D.UD=[];l.st=!0};gk.prototype.WP=function(l,o,D){var H=D.Dr(l?l.w.vb:0);if(H.x||H.y){var _=new de(1,0,0,1,H.x,H.y);
g.X.h(this.Qz,_,this.Qz);this.Z$(l,o);return!0}return!1};gk.prototype.SW=function(l){if(l==null)l=this.Qz;
var o=l[6]-l[0],D=l[7]-l[1],H=l[4]-l[2],_=l[5]-l[3],u=[l[0],l[1],l[2],l[3],l[0]+o/2,l[1]+D/2,l[2]+H/2,l[3]+_/2,l[6],l[7],l[4],l[5]],S=[];
for(var v=0;v<3;v++){var h=v*4,F=u[h+0],n=u[h+1],R=u[h+2],s=u[h+3];S.push(new he(F,n));S.push(new he(F+(R-F)/2,n+(s-n)/2));
S.push(new he(R,s))}return S};gk.prototype.Z$=function(l,o,D){if(l.D==null)return;if(D==null)D=!1;var H=this.sX,_=this.SW(),u=_[0],S=_[2],h=_[6],F=_[8],n={v:[],s:[]};
if(H==0)l.D.T9=n;else l.D.Xi=n;n.v.push("M","L","L","L","Z");n.s.push(u.x,u.y,S.x,S.y,F.x,F.y,h.x,h.y);
var R=this.aEn;if(R>1){l.D.UI=JSON.parse(JSON.stringify(n));var s=S.c_(u),Z=h.c_(u),O=F.c_(S),w=F.c_(h);
for(var v=1;v<R;v++){n.v.push("M","L","M","L");var m=v/R;n.s.push(u.x+s.x*m,u.y+s.y*m,h.x+w.x*m,h.y+w.y*m);
n.s.push(u.x+Z.x*m,u.y+Z.y*m,S.x+O.x*m,S.y+O.y*m)}}l.w._$=new gt(0,0,he.At(_[0],_[2]),he.At(_[0],_[6]));
if(this.fp!=-1&&this.fp<9&&this.e_){var V=l.w.zp(this.e_.x,this.e_.y);p.vA.Zx(V,l.w._$,l,o)}if(!D){var q=[];
if(H==0)l.D.XA=q;else l.D.Iz=q;for(var v=0;v<_.length;v++)if(v!=4)q.push(_[v].x,_[v].y);var i=this.pE();
q.push(i.x,i.y)}l.st=!0};gk.prototype.clear=function(l){l.w._$=null;l.D.b3=null;l.D.T9=null;l.D.Xi=null;
l.D.UI=null;l.D.XA=[];l.D.Iz=[];l.st=!0};function g4(l){this.Y9=null;this.fp=-1;this.CX=null;this.afm=null;
this._X=null;this.kx=-1;this.amL=null;this.aww(l)}g4.prototype.gK=function(){return JSON.parse(JSON.stringify(this.Y9))};
g4.prototype.aww=function(l){this.Y9=JSON.parse(JSON.stringify(l))};g4.prototype.asl=function(l){this.kx=l};
g4.prototype.cL=function(l){return!0};g4.prototype.NK=function(l,o,D,H){var _=this.hk(l,o,H);if(_==-1)return"default";
return"pointer"};g4.prototype.GE=function(l,o,D,H,_,u,S){if(this.kx!=-1)return!0;this.fp=this.hk(H,l.w.F,S);
var h=g.Y9.N7(this.Y9),F=g.cC.p9(h,H),n=0<F[0]&&F[0]<1&&0<F[1]&&F[1]<1;this.CX=n?F:null;this.afm=JSON.stringify(h);
this.amL=JSON.stringify(this.Y9);this._X=H;return this.fp!=-1||n};g4.prototype.hk=function(l,o,D){var H=D?p.zU({w:{F:o}},D)*2:20*p.Y()/o,_=this.Y9,u=g4.ap2(_),S=-1;
if(u){S=g.X.RS(u,l.x,l.y,H);if(S!=-1)S+=1e6}else{var h=g.Y9.N7(_);S=g.X.RS(h[3],l.x,l.y,H);if(S!=-1&&this.sk(h,S)==null)S=-1}return S};
g4.prototype.XR=function(l,o,D,H){if(this.kx!=-1)return;var _=this.Y9,u=this.fp,S=this.CX,h=JSON.parse(this.afm),F=h[0],n=h[1],R=h[3];
if(u>=1e6){var s=_.warpStyle.v.warpStyle,Z=g.Y9.fZ(_);if(s=="warpCylinder"){this.Y9=_=JSON.parse(this.amL);
var O=p.cA.TX(_.warpValues),w=(O[2]-O[0])/(O[1]-O[3]),m=O[4]*w*Z._,V=O[5]*w*Z._,q=H.x-this._X.x,i=H.y-this._X.y;
O[0]=Z.x;O[1]=Z.y+Z._;O[2]=Z.x+Z.Q;O[3]=Z.y;u-=1e6;if(u==0){O[0]+=q;O[1]+=i}if(u==1){O[2]+=q;O[3]+=i}if(u==2){m+=2*i;
V+=2*i}if(u==3){V+=2*i}if(u==4){O[6]=Math.max(0,Math.min(1,O[6]-2*q/Z.Q))}var c=g.X.dm(O.slice(0,4)),z=c.Q/Z.Q,B=c._/Z._;
O[4]=m/c.Q;O[5]=V/c.Q;_.warpValues=p.cA.y3(O);var t=new de;t.translate(-Z.x,-Z.y);t.scale(z,B);t.translate(c.x,c.y);
if(u<4)return t}else{var a=_.warpRotate.v.Ornt,I=a=="Vrtc",N=g.Y9.aAQ[s],J=I?-H.x/Z.Q:-H.y/Z._;J+=N[1];
if(N[1]>.5)J=-J;J/=N[2];var z=Z.Q/Z._;if(I)z=1/z;if(N[3])J/=z;_.warpValue.v=100*Math.max(-1,Math.min(1,J))}}else if(u!=-1){var Q=[u],q=H.x-R[u*2],i=H.y-R[u*2+1];
if(F*n>16){var A=this.sk(h,u);if(A[0]==0){var f=Math.floor(u/F),W=u-f*F;if(W>0)Q.push(u-1);if(W<F-1)Q.push(u+1);
if(f>0)Q.push(u-F);if(f<n-1)Q.push(u+F)}}for(var v=0;v<Q.length;v++){R[Q[v]*2]+=q;R[Q[v]*2+1]+=i}g.Y9.bk(_,h)}else if(S){g.cC.alT(h,S[0],S[1],H.x-this._X.x,H.y-this._X.y);
g.Y9.bk(_,h)}};g4.prototype.Jm=function(l,o,D,H){var _=this.kx;this.CX=null;this.kx=-1;if(_!=-1){var u=g.Y9.N7(this.Y9),S=g.cC.p9(u,H);
if(_==0||_==1)g.cC.split(u,0,S[0]);if(_==0||_==2)g.cC.split(u,1,S[1]);g.Y9.bk(this.Y9,u)}l.st=!0;return _!=-1};
g4.prototype.WP=function(l,o,D){var H=D.Dr();if(H.x||H.y){var _=new de(1,0,0,1,H.x,H.y);g.X.h(this.Qz,_,this.Qz);
this.Z$(l)}};g4.prototype.sk=function(l,v){var o=l[0],D=l[1],H=this.fp,_=Math.floor(H/o),u=H-_*o,S=H%3,h=H%3,F=S==0&&h==0,_=Math.floor(v/o),u=v-_*o,S=u%3,h=_%3;
if(S!=0&&h!=0)return null;if(S==0&&h==0)return[0];else{var n=0;if(h==0)n=S==1?v-1:v+1;if(S==0)n=h==1?v-o:v+o;
if(o*D>16){var R=H==v||H==v+1||H==v-1||H==v+o||H==v-o;if(F&&(R||H==v+2||H==v-2||H==v+2*o||H==v-2*o)){}else if(!F&&R){}else return null}return[1,n]}};
g4.ap2=function(l,o){var o=l.warpStyle.v.warpStyle,H;if(o=="warpCustom"||o=="warpNone")return null;var D=g.Y9.N7(l);
if(o=="warpCylinder"){var _=l.warpValues.v;H=[0,1,1,0,.5,0,.5,1,.75-.25*_[6].v,.5]}else{var u=l.warpRotate.v.Ornt,S=g.Y9.aAQ[o];
H=u=="Hrzn"?[S[0],S[1]]:[S[1],S[0]]}g.cC.h(D,H,new gt(0,0,1,1));return H};g4.prototype.Z$=function(l,o){var D=this.Y9,H=D.warpStyle.v.warpStyle,_=g.Y9.N7(D),u=_[0],S=_[1],h=_[3],F=l.D.Xi={v:[],s:[]},n=l.D.Iz=[],R=l.D.Ey=[],s=this.fp;
if(H=="warpCustom")for(var Z=0;Z<S;Z++)for(var O=0;O<u;O++){var v=Z*u+O,w=this.sk(_,v);if(w==null)continue;
var m=h[2*v],V=h[2*v+1],q=R;if(w[0]==0)q=v==s&&u*S>16?R:n;else{var i=w[1];F.v.push("M","L");F.s.push(m,V,h[2*i],h[2*i+1])}q.push(m,V)}else{var c=g4.ap2(D);
if(c)for(var v=0;v<c.length;v++)n.push(c[v])}for(var Z=0;Z+1<S;Z+=3)for(var O=0;O+1<u;O+=3){F.v.push("M","C","C","C","C");
var v=Z*u+O,z=v+u+u,B=[v,v+1,v+2,v+3,v+u+3,z+3,z+u+3,z+u+2,z+u+1,z+u,z,v+u,v];for(var v=0;v<B.length;
v++){var m=h[B[v]*2],V=h[B[v]*2+1];F.s.push(m,V)}}var t=[],a=[];function I(N,O,A){for(var B=0;B<=A;B++){a.push(B==0?"M":"L");
if(N==0)t.push(O,B/A);else t.push(B/A,O)}}if(o)o=g.cC.p9(_,o);for(var N=0;N<2;N++){var J=_[2][N],Q=N==0?u:S,A=Q*5;
for(var f=1;f<Q;f++){var W=Math.floor((f-1)/3),C=f-(1+W*3);if(C==0)continue;var O=J[W]+C/3*(J[W+1]-J[W]);
I(N,O,A)}var j=this.kx;if(o&&j!=-1&&(j==0||j-1==N))I(N,o[N],A)}g.cC.h(_,t,new gt(0,0,1,1));g.X.concat(F,{s:t,v:a});
l.st=!0};g4.prototype.clear=function(l){l.D.Xi=null;l.D.Iz=[];l.D.Ey=[];l.st=!0};function iG(){this.D6=!1;
this.gs=!1;this.a4q=!1;this.as1=!1;this.n1=!1;this.te=!1;this.ok=0;this.Se=0}iG.prototype.GE=function(l){this.D6=!0;
this.gs=!1;this.n1=l.W(e_.eo);this.te=l.W(e_.zg);this.ok=this.n1?0:1;this.Se=this.te?0:1};iG.prototype.WP=function(l){var o=this.as1=l.W(e_.eo),D=this.a4q=l.W(e_.zg);
if(this.gs){if(this.ok==0&&!o)this.ok++;if(this.ok==1&&o)this.ok++;if(this.Se==0&&!D)this.Se++;if(this.Se==1&&D)this.Se++}};
iG.prototype.XR=function(){this.gs=!0};iG.prototype.Jm=function(){this.D6=!1};iG.prototype.Fk=function(v){if(v==0)return this.D6?this.te:this.a4q;
if(v==1)return this.gs?this.Se==2:!1};iG.prototype.hT=function(v){if(v==0)return this.D6?this.n1:this.as1;
if(v==1)return this.gs?this.ok==2:!1};p.History=function(){p.vA.call(this,"History",p.zo);this.hx=!0;
this.aoc=0};p.History.prototype=new p.vA;p.History.prototype.Cf=function(l,o,D,H){D.LD=!0;if(l.q=="h_itemchange"){if(l.index<D.IL)for(var v=D.IL;
v>l.index;v--)this.yV(D);if(l.index>D.IL)for(var v=D.IL;v<l.index;v++)this.ih(D)}if(l.q=="h_stepfwd")this.ih(D);
if(l.q=="h_stepbck")this.yV(D);if(l.q=="h_undoredo"){var _=this.hx||this.aoc!=D.IL;if(_){this.yV(D);
_=!1}else{this.ih(D);_=!0}this.hx=_;this.aoc=D.IL}if(l.q=="h_clear"){if(l.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
D.history=[new fL([1,0],null)];D.IL=0}else this.hx=!0};p.History.prototype.yV=function(l){if(l.IL==0)return;
var o=l.history[l.IL];o.S.H$(o.data,l);l.IL--};p.History.prototype.ih=function(l){if(l.IL==l.history.length-1)return;
var o=l.history[l.IL+1];o.S.j1(o.data,l);l.IL++};p.yZ=function(){p.vA.call(this,"Layers",p.wU);this.LO=null};
p.yZ.prototype=new p.vA;p.yZ.prototype.Cf=function(l,o,D,H,_){this.LO=o;var u=l.q,S=l.U!=null?l.U:D.T.length!=0?D.T[0]:D.R.length-1,h=D.R[S];
D.aH=!0;var F=H.W(e_.zg),n=H.W(e_.eo),R=H.W(e_.Cm);if(u==d.nA&&D.f==null&&(D.T.length>1||!D.o_(!1)||D.R[D.T[0]].Cl()))u=d.r$;
if(u==d.N9){var s=new fL([6,33],this),Z=h.Cl()?["pass"].concat(b2.Jv):b2.Jv,O=Z[l.zc],w=l.U!=null?[l.U]:D.T,m=JSON.stringify(w),V=[];
for(var v=0;v<w.length;v++)V.push(D.R[w[v]].TY);s.data={q:u,Zl:m,ZG:V,zc:O};D.kE(s);this.j1(s.data,D);
this.track(bt.A9("Md",{t:"enum",v:{BlnM:b2.De(O)}}))}if(u==d.xI){var s,q=D.I5(),w=l.U!=null?[l.U]:D.T,m=JSON.stringify(w);
if(q&&q.data&&q.data.q==u&&q.data.Zl==m)s=q;else{var i=bt.A9("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(i);var V=[];for(var v=0;v<w.length;v++)V.push(D.R[w[v]].opacity);s=new fL([6,32],this);s.data={q:u,Zl:m,ZG:V,zc:l.zc,fD:i.M1};
D.kE(s)}s.data.zc=l.zc;s.data.fD.T.v.Opct.v.val=Math.round(l.zc*100/255);this.j1(s.data,D)}if(u==d.th){if(h.add.iOpa==null)h.add.iOpa=255;
var s,q=D.I5();if(q&&q.data&&q.data.q==u&&q.data.U==S)s=q;else{s=new fL("Fill Opacity Change",this);
s.data={q:u,U:S,ZG:h.add.iOpa,zc:l.zc};D.kE(s)}s.data.zc=l.zc;this.j1(s.data,D)}if(u==d.aA){var c=l.zc,z=l.U!=null?[l.U]:D.T.slice(0),B=[],t=[],s;
for(var a=0;a<z.length;a++){var I=D.R[z[a]];if(I.add.lspf==null)I.add.lspf=0;var V=I.add.lspf,O=V;for(var v=0;
v<c[0].length;v++){var N=c[1][v],J=1<<N;if((O&J)==0&&c[0][v])O^=J;else if((O&J)!=0&&!c[0][v])O^=J}B.push(V);
t.push(O)}var q=D.I5(),w=JSON.stringify(z);if(q&&q.data&&q.data.q==u&&JSON.stringify(q.data.Zl)==w){s=q;
s.data.zc=t}else{var s=new fL([6,57,1],this);s.data={q:u,Zl:w,ZG:B,zc:t};D.kE(s)}this.j1(s.data,D)}if(u==d.Dm){var Q="----",A=l.tU,O=null;
for(var v=0;v<kI.Sv.xc.length;v++)if(h.add[kI.Sv.xc[v]])Q=kI.Sv.xc[v];var f=h.add[Q];if(A=="TySh")O=fX.D2(50,50,_.Hv);
var s=new fL("Layer Type",this);s.data={q:u,U:S,acd:[Q,f],tU:[A,O]};D.kE(s);this.j1(s.data,D)}if(u==d.B4){var z=[];
if(F){var W=D.I5(),C=W?W.data:null;if(W!=null&&W.S==this&&C.q==d.B4&&C.Zl.length!=1){var j=new jJ(k.E.r);
j.S=p.zo;j.data={q:"h_stepbck"};o.A(j);if(C.U==S)return}var K=D.root.sl(S),$=K,r=[l.U];while($.parent!=D.root){r.push($.parent.index);
$=$.parent}for(var v=0;v<D.R.length;v++){var U=D.R[v],$=D.root.sl(v),b=r.indexOf(v)!=-1?!0:U.zd()&&K.depth<$.depth;
if(b!=U.zd())z.push(v)}}else if(l.Zl)z=l.Zl;else{z.push(S);var e=D.R[S].zd(),i={vS:e?"hide":"show",M1:{classID:e?"Hd":"Shw",null:{t:"VlLs",v:[bt.NA("Lyr",!0)]}}};
this.track(i)}var s=new fL("Layer visibility",this,!0);s.data={q:u,Zl:z,U:S};D.kE(s);this.j1(s.data,D)}if(u==d.eH){if(_.Bq==p.ck){var P=new jJ(k.E.b);
P.data={q:k.L.BC,S:p.e5};o.A(P)}var L=l.a3K,Y=l.G$,E,escape=!1,T=!1;if(l.wb){if(R&&(Y==0||Y==1||Y==2)){var X=0;
if(n)X++;if(F)X+=2;var G=new jJ(k.E.r,!0);G.S=p.lO;G.data={q:"fromlayer",Jl:[l.U,Y,X]};o.A(G);return}}var i={vS:"select",M1:{classID:"null",MkVs:{t:"bool",v:!1}}};
D.a1x();if(H.W(e_.Cm)||l.Oz==0){var y=D.T.indexOf(S);if(y==-1)D.T.push(S);else if(D.T.length>1){if(l.Oz!=0)D.T.splice(y,1)}D.T.sort(function(s,hC){return s-hC});
i.M1.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};E=S}else if(n&&!F&&Y>0){u=Y==1?d.dA:Y==2?d.zj:d.v1;
escape=!0}else if((n||l.Oz==1)&&D.T.length>0){var d4=Math.min(S,D.T[0]),dH=Math.max(S,D.T[D.T.length-1]);
D.T=[];for(var v=d4;v<=dH;v++)if(D.R[v].add.lsct!=jl.fa)D.T.push(v);i.M1.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
E=S}else{E=S;if(S>=D.R.length)return;var U=D.R[S];if(U&&U.Cl()&&l.auU)U.add.lsct=jl.VV;else if(D.T.length==1&&D.T[0]==S&&Math.max(0,Y)==U.Ih){T=!0;
D.aH=!1}if(!T){D.T=[S];D.Nh()}}if(!T){if(E!=null&&E<D.R.length){i.M1.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:D.R[E].getName()}}]},this.track(i)}if(!escape){console.log("no escape");
if(D.T.length==1){var eV=D.T[0];for(var v=0;v<D.R.length;v++){if(v==eV)continue;var I=D.R[v];I.Ih=0;
I.BF=!1}var h=D.R[eV];if(Y==2){h.BF=!h.BF;D.dZ=[]}else if(h){h.Ih=Y<=0?0:Y}}else for(var v=0;v<D.R.length;
v++){var I=D.R[v];I.Ih=0;I.BF=!1}D.Vl=null;D.LD=!0}}if(l.wb&&F){if((Y==1||Y==3)&&L!=null){var G=new jJ(k.E.r,!0);
G.S=p.Nk;G.data={q:"mskView",P:L!=0?0:n?1:2};o.A(G)}else{this.Cf({q:d.JK,U:l.U},o,D,H,_)}}}if(u==d.dA||u==d.v1){var bf=u==d.dA,jd=bf?h.KQ():h.nN(D).I;
if(jd==null)return;var s=new fL(jd.isEnabled?bf?[6,15]:[6,42]:bf?[6,14]:[6,41],this);s.data={q:u,U:S};
D.kE(s);this.j1(s.data,D)}if(u==d.zj){var jd=h.add.vmsk;if(jd==null)return;var s=new fL(jd.isEnabled?[6,17]:[6,16],this);
s.data={q:u,U:S};D.kE(s);this.j1(s.data,D)}if(u==d.af3){var i5=h.add.lsct==jl.VV?jl.qb:jl.VV,$=D.root.sl(D.R.indexOf(h)),iX=!1;
if(H.W(e_.Cm)){var fD=$.parent;for(var v=0;v<fD.children.length;v++){var eo=fD.children[v].U;if(eo.Cl())eo.add.lsct=i5}}else h.add.lsct=i5;
for(var v=0;v<D.T.length;v++){var cK=D.T[v];if($.gb<cK&&cK<$.index)iX=!0}if(iX)D.T=[$.index];D.LD=!0}if(u==d.JK){if(!D.br(S))return;
var s=new fL(h.vN?[6,19]:[6,18],this);s.data={q:u,U:S};D.kE(s);if(l.zc==null||l.zc!=h.vN)this.j1(s.data,D)}if(u==d.a3e){if(h.fI())h.XL-=32;
else h.XL+=32;D.LD=!0}if(u==d.a2||u==d.ws){var s;if(u==d.a2)s=new fL(h.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(u==d.ws)s=new fL(h.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);s.data={q:u,U:S};D.kE(s);this.j1(s.data,D)}if(u==d.nF||u==d.uL){var eV=l.index,s;
if(u==d.nF)s=new fL(h.add.lmfx[cq.lZ[eV[0]]].v[eV[1]].v.enab.v?[6,30,0]:[6,29],this);if(u==d.uL)s=new fL(h.add.SoLd.filterFX.v.filterFXList.v[eV].v.enab.v?[6,44]:[6,43],this);
s.data={q:u,U:S,index:l.index};D.kE(s);this.j1(s.data,D)}if(u==d.Rj){if(l.src==l.fw)return;var g0=D.R[l.src],bW=D.R[l.fw],hF=g0.add.lmfx?JSON.stringify(g0.add.lmfx):"",aJ=bW.add.lmfx?JSON.stringify(bW.add.lmfx):"";
if(bW.add.lmfx==null){bW.add.lmfx=JSON.parse(cq.default);for(var v=0;v<cq.order.length;v++)bW.add.lmfx[cq.lZ[v]]={t:"VlLs",v:[]}}if(l.V9==null){bW.add.lmfx=JSON.parse(hF);
if(!F)delete g0.add.lmfx}else{var iR=l.V9[0],ex=cq.lZ[iR];if(cq.a8q.indexOf(cq.order[iR])==-1)bW.add.lmfx[ex].v=[];
bW.add.lmfx[ex].v.push(g0.add.lmfx[ex].v[l.V9[1]]);if(!F)g0.add.lmfx[ex].v.splice(l.V9[1],1)}var dX=g0.add.lmfx?JSON.stringify(g0.add.lmfx):"",iZ=bW.add.lmfx?JSON.stringify(bW.add.lmfx):"";
if(!bW.fI())bW.XL+=32;var s=new fL("Move Layer Styles",this);s.data={q:u,VU:l.src,ZL:l.fw,al6:hF,a1v:aJ,aaP:dX,a78:iZ};
D.kE(s);this.j1(s.data,D)}if(u==d.ou){if(l.src!=null)S=l.src;var I=D.R[S],j3=JSON.stringify(I.add.SoLd),by=JSON.parse(j3),i9=by.filterFX.v.filterFXList.v;
i9.splice(l.V9,1);var s=new fL([6,53],this);s.data={q:d.oC,X_:[{It:S,Ti:[j3,JSON.stringify(by)]}]};D.kE(s);
this.j1(s.data,D)}if(u==d.ai8){var dm=F,g0=D.R[l.src],bW=D.R[l.fw],kh=[];if(g0!=bW&&bW.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(g0==bW&&!dm&&l.V9==l.LI)return;if(g0==bW&&l.V9==-1)return;var jK=g0.nN(D),j3=JSON.stringify(g0.add.SoLd),by=JSON.parse(j3),i9=by.filterFX.v.filterFXList.v;
if(g0==bW){i9.splice(l.LI,0,i9[l.V9]);if(!dm)i9.splice(l.V9+(l.V9<l.LI?0:1),1);kh.push({It:l.src,Ti:[j3,JSON.stringify(by)]})}else if(l.V9==-1){var bd=by.filterFX;
if(!dm){delete by.filterFX;kh.push({It:l.src,Ti:[j3,JSON.stringify(by)],nZ:[jK,null]})}var dz=bW.pn()?bW.nN(D):null,dw=f9.at5(jK),ev=JSON.stringify(bW.add.SoLd),aq=JSON.parse(ev);
aq.placed.v=dw.id;aq.filterFX=bd;kh.push({It:l.fw,Ti:[ev,JSON.stringify(aq)],nZ:[dz,dw]})}else{var e3=i9[l.V9];
if(!dm){i9.splice(l.V9,1);kh.push({It:l.src,Ti:[j3,JSON.stringify(by)]})}var ev=JSON.stringify(bW.add.SoLd),aq=JSON.parse(ev);
if(aq.filterFX==null)aq.filterFX=at.B3();var a9=aq.filterFX.v.filterFXList.v;a9.splice(l.LI,0,e3);var e0={It:l.fw,Ti:[ev,JSON.stringify(aq)]};
if(!bW.pn()){var dw=f9.axN(bW.add.SoLd.placed.v);e0.nZ=[null,dw]}kh.push(e0)}var s=new fL([6,52],this);
s.data={q:d.oC,X_:kh};D.kE(s);this.j1(s.data,D)}if(u==d.al){var jd=h.KQ(),s=new fL(jd.uD?[6,26]:[6,25],this);
s.data={q:u,U:S};D.kE(s);this.j1(s.data,D);this.track({vS:"set",M1:{classID:"setd",null:{t:"obj ",v:[bt.NA("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:jd.uD}}}}})}if(u==d.ij){var jd=h.add.vmsk,s=new fL(jd.uD?[6,28]:[6,27],this);
s.data={q:u,U:S};D.kE(s);this.j1(s.data,D)}if(u==d.Rr){var s=new fL("Variables / Datasets",this),as=JSON.stringify([D.Qk,D.pt]);
if(as==l.P)return;s.data={q:u,abc:as,ar1:l.P};D.kE(s);this.j1(s.data,D)}if(u==d.Bl){var eK=[],s;for(var v=0;
v<D.T.length;v++){var a=D.T[v],U=D.R[a];if(U.add.vogk)eK.push(a,JSON.stringify(U.add.vogk))}for(var v=0;
v<D.dZ.length;v++){var a=D.dZ[v],U=D.sS[a];if(U.add.vogk)eK.push(-1-a,JSON.stringify(U.add.vogk))}g.uQ.a9s(D,l.P,l.a1a);
var gh=[];for(var v=0;v<D.T.length;v++){var a=D.T[v],U=D.R[a];if(U.add.vogk)gh.push(a,JSON.stringify(U.add.vogk))}for(var v=0;
v<D.dZ.length;v++){var a=D.dZ[v],U=D.sS[a];if(U.add.vogk)gh.push(-1-a,JSON.stringify(U.add.vogk))}var q=D.I5();
if(q&&q.data&&q.data.q==u){var gx=!0;for(var v=0;v<eK.length;v+=2)if(eK[v]!=q.data.Rs[v])gx=!1;if(gx){s=q;
s.data.C4=gh}}if(s==null){var s=new fL([12,91,1],this);s.data={q:u,Rs:eK,C4:gh};D.kE(s)}this.j1(s.data,D)}if(u==d.n5){var gc=JSON.stringify(h.add.artb),kQ=JSON.stringify(l.jw),s;
D.R[S].add.artb=JSON.parse(kQ);var dn=new gt(0,0,D.Q,D._),bQ=p.WS.ec(D),q=D.I5();if(q&&q.data&&q.data.q==u&&q.data.U==S){s=q;
s.data.jw=kQ}if(s==null){var s=new fL("Editing Artboard",this);s.data={q:u,U:S,abr:gc,jw:kQ,l1:dn};D.kE(s)}s.data.Gt=bQ;
this.j1(s.data,D)}if(u==d.O$){var gh=D.Lx.slice(0),iK=D.q0.slice(0),cJ=D.f,i1=D.f,b=D.w.N.slice(0);if(l.i6=="seltochannel"){var bu=l.Jl[0],gi=gh[bu]=gh[bu].clone(),$=g.Tc.tL(D.f,gi,l.Jl[1]);
gi.channel=$.channel;gi.rect=$.rect}if(l.i6=="fromAction"){var iv=l.P.vS,d0=l.P.M1;if(iv=="make"||iv=="duplicate"){var af=gh.length,hV=!1,i$=!1;
if(D.Ff())af--;var eY=new d.ow;eY.name="Alpha "+(af+1);if(iv=="make"){var cz=d0.Nw.v;eY.color=0;iK=[af];
eY.Pj=!0;eY.HJ=cz.Opct.v;if(cz.Nm)eY.name=cz.Nm.v;if(cz.classID=="SCch"){hV=!0;i1=null;eY.no=1}for(var v=0;
v<D.Lx.length;v++)D.Lx[v].Pj=!1;b=[0,0,0]}else{var U=D.R[D.T[0]],fk=U.Ih==1?U.KQ():U.Ih==3?U.nN(D).I:null,ee=d0.null.v[0].v;
if(d0.Nm)eY.name=d0.Nm.v;if(ee.keyID=="fsel")hV=!0;else if(fk){eY.channel=fk.channel.slice(0);eY.rect=fk.rect.clone();
eY.color=fk.color}else{var aC=p.OK.a5Q(D);i1=p.OK.alA(D,aC);eY.color=0;eY.rect=i1.rect;eY.channel=i1.channel}}if(hV){eY.color=0;
if(D.f){eY.rect=D.f.rect.clone();eY.channel=D.f.channel.slice(0)}if(i$){eY.color=255-eY.color;g.L5(eY.channel)}}gh.splice(af,0,eY)}else if(iv=="delete"){if(h&&h.KQ()&&h.Ih==1){this.Cf({q:d.cR},o,D,H,_);
return}var cI=D.q0;cI.sort(function(s,hC){return hC-s});if(cI.length==0)return;for(var v=0;v<cI.length;
v++)gh.splice(cI[v],1);iK=[];b=[1,1,1]}else if(iv=="show"||iv=="hide"){var cZ=d0.null.v,ad=null,j0=!1;
for(var v=0;v<cZ.length;v++){var cX=cZ[v].v[0].v,bY=cX.enum;if(bY=="Trgt"){if(gh[iK[0]]==null)continue;
gh[iK[0]]=gh[iK[0]].clone();gh[iK[0]].Pj=iv=="show";j0=!0}else{var bu=["Rd","Grn","Bl"].indexOf(bY);
if(ad==null)ad=D.w.N.slice(0);ad[bu]=iv=="show"?1:0}}if(ad){var j=new jJ(k.E.r,!0);j.S=p.ap;j.data={q:"setcls",N:ad};
o.A(j);if(!j0)return}}}if(l.i6=="rnm"){gh[l.wN]=gh[l.wN].clone();gh[l.wN].name=l.name}var s=new fL("Channel Edit",this);
s.data={q:u,Rs:D.Lx.slice(0),J4:D.q0.slice(0),C4:gh,VR:iK,dP:cJ,pQ:i1,a54:D.w.N.slice(0),ab5:b};this.j1(s.data,D);
D.kE(s)}if(u==d.IB){var io=new gt(0,0,D.Q,D._),s=new fL(l.ND,this);s.data={q:d.IB,Bj:D.R.slice(0),Z8:l.Z8,q2:D.T.slice(0),ZK:l.pQ};
D.kE(s);this.j1(s.data,D);var et=p.WS.rq(D);if(et){s.data.l1=io;s.data.Gt=et}}if(u==d.C_){var dR=D.rC(null,l.U),jh=1e10;
if(dR.length==0)return;if(D.R.length==dR.length){alert("Project must have at least 1 layer");return}var dZ=[];
for(var v=0;v<D.R.length;v++)if(dR.indexOf(v)==-1)dZ.push(D.R[v]);for(var v=0;v<dR.length;v++)jh=Math.min(jh,dR[v]);
jh=Math.max(jh-1,0);while(dZ[jh].name=="</Layer group>")jh++;this.track({vS:"delete",M1:{classID:"Dlt",null:bt.NA("Lyr",!0)}});
var dn=new gt(0,0,D.Q,D._),s=new fL([6,31],this);s.data={q:d.IB,Bj:D.R.slice(0),Z8:dZ,q2:D.T.slice(0),ZK:[jh]};
D.kE(s);this.j1(s.data,D);var bQ=p.WS.ec(D);if(bQ){s.data.Gt=bQ;s.data.l1=dn;p.WS.rq(D)}}if(u==d.b$){if(!H.W(e_.eo))return;
var s=new fL("Switch Layer Link",this);s.data={q:u,U:l.U};D.kE(s);this.j1(s.data,D)}if(u==d.P1){var cI=l.awk?l.awk:D.T,jo=0,b1=!1;
if(cI.length==0)return;if(cI.length==1&&D.R[cI[0]].zE==0){alert(cU.get([15,7,5]));return}var co=[];for(var v=0;
v<D.R.length;v++){var h3=D.R[v].zE;co.push(h3);jo=Math.max(jo,h3)}var ij=-1,h0=-1;for(var v=0;v<cI.length;
v++){var h3=D.R[cI[v]].zE;if(h3==0)b1=!0;else if(ij==-1||ij==h3)ij=h3;else h0=h3}if(!b1)for(var v=0;
v<cI.length;v++)D.R[cI[v]].zE=0;else if(ij!=-1&&h0==-1)for(var v=0;v<cI.length;v++)D.R[cI[v]].zE=ij;
else for(var v=0;v<cI.length;v++)D.R[cI[v]].zE=jo+1;var gn=[];for(var v=0;v<D.R.length;v++){var h3=D.R[v].zE;
if(gn[h3]==null)gn[h3]=0;gn[h3]++}for(var v=0;v<D.R.length;v++){var h3=D.R[v].zE;if(gn[h3]==1)D.R[v].zE=0}var fS=co;
co=[];for(var v=0;v<D.R.length;v++){var h3=D.R[v].zE;co.push(h3);jo=Math.max(jo,h3)}var s=new fL(b1?[6,54,0]:[6,54,1],this);
s.data={q:d.P1,azR:fS,a0j:co};D.kE(s);this.j1(s.data,D)}if(u==d.r$&&(l.U!=null||D.T.length!=0)||u==d.s5){var ka=D.OS(u==d.r$?l.U:S,null,l.avv),g5;
if(u==d.s5){var I=ka[0],iv=I.add.SoLd.Idnt.v,cs=D.qH(iv).clone();I.add.SoLd.Idnt.v=cs.Vj=f9.T5()+iv.slice(8);
D.add.lnk2.push(cs)}if(u==d.r$){var cE={vS:"duplicate",M1:{classID:"null",null:bt.NA("Lyr",!0)}};if(l.U3){ka[ka.length-1].FH(l.U3);
cE.Nm={t:"TEXT",v:l.U3}}this.track(cE);l.apj=l.U}u=d.Di;l.R=ka;l.vr=D;l.YH=D}if(u==d.Di){var dy,fa,h7=l.vr,ba=l.YH,fT=0,aI=0,ar=h7.NQ(),cR=!1,d5,dP=0,fF=0;
if(h7!=ba){console.log("ADDLAYERS different projs");var dy=new gt(0,0,h7.Q,h7._),fa=new gt(0,0,ba.Q,ba._),ao=[],fn=[],k8=new gt;
for(var v=0;v<l.R.length;v++){var I=l.R[v];k8=k8.tB(I.rect);if(I.add.SoLd==null)continue;var iv=I.add.SoLd.Idnt.v;
if(ao.indexOf(iv)==-1){ao.push(iv);fn.push(f9.T5()+iv.slice(8))}I.add.SoLd.Idnt.v=fn[ao.indexOf(iv)];
var jK=I.nN(h7);if(jK){h7.GB(jK);ba.Cy(jK)}}if(ar==-1&&!l.pj&&l.a4a&&!fa.Q5(k8)){fT=-k8.x;aI=-k8.y}if(ao.length>0){if(ba.add.lnk2==null)ba.add.lnk2=[];
for(var v=0;v<ao.length;v++){var aF=h7.qH(ao[v]),cs=aF.clone();cs.Vj=fn[v];ba.add.lnk2.push(cs)}}}var cJ=ba.T.slice(0);
cJ.sort(function(s,hC){return s-hC});var dZ=ba.R.slice(0),i1=[],f$=-1;for(var v=0;v<cJ.length;v++)f$=Math.max(f$,cJ[v]);
if(l.apj!=null)f$=l.apj;if(l.pj){f$=l.pj-1;var fW=ba.R[l.pj].IH();fT+=fW.x;aI+=fW.y}if(ar!=-1&&(h7!=ba||l.pj)){var iC=h7.R[ar].IH();
fT-=iC.x;aI-=iC.y}var f4=ba.we();for(var v=0;v<f4[0].length;v++){var gw=f4[1][v];if(gw!=-1)f4[1][v]=dZ[gw]}f$++;
for(var v=0;v<l.R.length;v++){var U=l.R[v],az=U.add.artb;dZ.splice(f$,0,U);i1.push(f$);f$++;if(az){d5=!0;
var jI=az.guideIndeces;if(jI){jI=jI.v;for(var dI=0;dI<jI.length;dI++){f4[0].push(h7.oJ[jI[dI].v].slice(0));
f4[1].push(U);cR=!0}}}}for(var v=0;v<f4[0].length;v++){var gw=f4[1][v];if(gw!=-1)f4[1][v]=dZ.indexOf(gw)}for(var v=0;
v<l.R.length;v++){var U=l.R[v];if(U.add.lsct==jl.fa){if(dP==0)fF++;dP++}else if(U.Cl())dP--}if(fF==1)i1=[f$-1];
var s=new fL([6,0],this);s.data={q:d.IB,Bj:ba.R.slice(0),Z8:dZ,q2:cJ,ZK:i1};if(cR){s.data.Ym=[ba.we(),f4]}ba.kE(s);
this.j1(s.data,ba);if(fT!=0||aI!=0)p.JI.uN(ba,ba.rC(),null,fT,aI);if(d5){s.data.l1=new gt(0,0,ba.Q,ba._);
s.data.Gt=p.WS.ec(ba);p.WS.rq(ba)}}if(u==d.$q){var eG=l.U!=null?[l.U]:D.rC(),dZ=D.R.slice(0);for(var v=0;
v<eG.length;v++){var U=D.R[eG[v]].clone();U.je(D);dZ.splice(eG[v],1,U)}var s=new fL([6,8],this);s.data={q:d.IB,Bj:D.R.slice(0),Z8:dZ,q2:D.T.slice(0),ZK:D.T.slice(0)};
D.kE(s);this.j1(s.data,D)}if(u==d.a96){var dZ=D.R.slice(0),U=dZ[D.T[0]]=dZ[D.T[0]].clone(),gE=U.add.lmfx,fB,fW;
delete U.add.lmfx;var gz=D.T[0],ak=gz+1;if(U.Cl()){var bK=D.R[D.T[0]].rD;fW=bK.ayO;fB=bK.ai;var $=D.root.sl(gz);
gz=$.gb}else{fW=U.rect;fB=g.o(fW.c());g.mA(U.buffer,fB,3)}var bo=cN.K1(gE,U.add.fxrp,fB,fW,D,fW).type;
for(var v=0;v<cq.order.length;v++){var f0=cq.order[v],kF=bo[f0];kF.reverse();for(var dI=0;dI<kF.length;
dI++){var fx=kF[dI],w=D.O7(),hZ=v>7;if(f0=="ebbl"){if(fx.pA||fx.gc){var h9=fx.pA?fx.pA:fx.gc;if(fx.pA)delete fx.pA;
else delete fx.gc;if(fx.gc||fx.Bg)dI--}else if(fx.Bg||fx.eS){var h9=fx.eS?fx.eS:fx.Bg;if(fx.eS){delete fx.eS;
if(fx.Bg)dI--}hZ=!0}fx=h9}w.TY=fx.BI;w.opacity=Math.round(255*fx.aX);w.buffer=fx.G5;w.rect=fx.nR.clone();
w.rect.offset(fW.x,fW.y);if(f0=="FrFX"){w.buffer=w.buffer.slice(0);g.Kl(fx.tb?fx.tb:fx.Tv,w.buffer,3);
if(fx.tb){hZ=!0;delete fx.tb;if(fx.Tv)dI--}}w.vN=!hZ;w.FH(U.getName()+"'s "+cU.get(cq.names[v]));dZ.splice(hZ?gz:ak,0,w);
if(hZ)ak++}}var s=new fL("Styles to Layers",this);s.data={q:d.IB,Bj:D.R.slice(0),Z8:dZ,q2:D.T.slice(0),ZK:[ak-1]};
D.kE(s);this.j1(s.data,D)}if(u==d.a7n){var eG=D.rC(),dZ=D.R.slice(0),dj=new gt(0,0,D.Q,D._);for(var v=0;
v<eG.length;v++){var hr=D.R[eG[v]],fr=hr.zd();hr.rm(!0);var i8=D.root.sl(eG[v]);if(hr.Cl())continue;
if(i8==null)continue;var U=hr.clone();U.je(D);var kJ=i8.fZ(D,!0),hj=D.R;D.MQ([hr]);D.V();D.dh();U.buffer=g.o(kJ.c()*4);
g.Qo(D.zG(),dj,U.buffer,kJ);U.rect=kJ;U.opacity=255;U.add.iOpa=255;U.TY="norm";U.V();U.rD.F0=!0;D.MQ(hj);
if(U.add.lmfx)delete U.add.lmfx;U.I=U.LL=null;dZ.splice(eG[v],1,U);U.rm(fr);hr.rm(fr)}var s=new fL([6,34],this);
s.data={q:d.IB,Bj:D.R.slice(0),Z8:dZ,q2:D.T.slice(0),ZK:D.T.slice(0)};D.kE(s);this.j1(s.data,D)}if(u==d.aja){var eG=D.rC(),dZ=D.R.slice(0);
for(var v=0;v<eG.length;v++){var U=D.R[eG[v]],ci=U.add.TySh;if(ci==null)continue;var I=new f8(ci.PF,_.uh,ci.CQ),gv=g.X.yJ(dr.KZ(I,ci,!0));
for(var hT in gv){var iQ=gv[hT],eo=U.clone();delete eo.add.TySh;eo.XL=eo.XL|1<<4;eo.add.SoCo=JSON.parse(JSON.stringify(cq.lJ[0]));
var dW=eo.add.SoCo.Clr.v;dW.Rd.v=parseInt(hT.slice(1,3),16);dW.Grn.v=parseInt(hT.slice(3,5),16);dW.Bl.v=parseInt(hT.slice(5,7),16);
var h1=new d.dO;h1.d=g.X.Op(iQ,!1);if(eo.add.vmsk!=null){eo.add.vmsk.a0S();h1.concat(eo.add.vmsk)}eo.add.vmsk=h1;
eo.add.vstk=cq.K$.ts(!0);eo.Xv();eo.C$(D);dZ.splice(dZ.indexOf(U),0,eo)}dZ.splice(dZ.indexOf(U),1)}var i1=D.T.slice(0);
for(var v=i1.length-1;v>=0;v--)if(i1[v]>=dZ.length)i1.splice(v,1);var s=new fL([6,40],this);s.data={q:d.IB,Bj:D.R.slice(0),Z8:dZ,q2:D.T.slice(0),ZK:i1};
D.kE(s);this.j1(s.data,D)}if(u==d.aD3){var a0=D.T.length,iD,jU;if(a0<2){alert("Select two or more layers.");
return}for(var v=0;v<a0;v++){var iC=D.R[D.T[v]].rect;iD=v==0?iC:iD.$o(iC);jU=v==0?iC:jU.tB(iC)}if(iD.c()*1.2>jU.c()){alert("stacking images");
var bC=[],fI=[];for(var v=0;v<a0;v++){var U=D.R[D.T[v]];bC.push(U.buffer);fI.push(U.rect)}var ip=g.alm.vP(bC,fI),eC=ip[0],ep=ip[1],be=[];
for(var v=0;v<a0;v++){var jd=new d.ow;jd.color=255;jd.rect=ep;jd.channel=eC[v];be.push(D.T[v],null,jd)}var s=new fL("Focus-Stack",this);
s.data={q:d.KR,gy:be};D.kE(s);this.j1(s.data,D);return}if(!D.Um())return;var eo=D.R[D.T[0]].clone(),dZ=[];
for(var v=0;v<D.R.length;v++)if(D.T.indexOf(v)==-1)dZ.push(D.R[v]);dZ.splice(D.T[0],0,eo);for(var v=1;
v<a0;v++)if(D.R[D.T[v]].rect.c()>2e6){alert("Blended areas are too large.");return}for(var v=1;v<a0;
v++){var U=D.R[D.T[v]],ep=U.rect.clone();ep.ag(1,1);var hC=g.o(ep.c()*4);g.Qo(U.buffer,U.rect,hC,ep);
eo.extend(ep);var jT=g.o(ep.c()*4);g.Qo(eo.buffer,eo.rect,jT,ep);var s=g.o(ep.c());g.mA(hC,s,3);g.round(s,200);
g.Kl(s,hC,3);g.z.JM("norm",hC,ep,jT,ep,ep,1);g.a8.hA(jT,s,ep);g.Qo(jT,ep,eo.buffer,eo.rect)}var s=new fL([2,10,0],this);
s.data={q:d.IB,Bj:D.R.slice(0),Z8:dZ,q2:D.T.slice(0),ZK:[D.T[0]]};D.kE(s);this.j1(s.data,D)}if(u==d._R){var dZ=D.R.slice(0),iK=D.T.slice(0);
for(var v=0;v<dZ.length;v++){var U=dZ[v],ia=U.add.vmsk;if(U.RR()&&ia&&U.add.vstk.strokeEnabled.v&&!U.add.vstk.fillEnabled.v){var ac=ia.d,an=0,ix=-1;
for(var dI=0;dI<ac.length;dI++){if((ac[dI].type==0||ac[dI].type==3)&&ac[dI].HN!=-1){an++;if(ac[dI].type==3&&ix==-1){ac[dI].qC=ac[dI].HN=1;
ix=dI}}}if(an>1&&ix!=-1&&an<10){console.log("separating an open path into a new layer");U=U.clone();
ia=U.add.vmsk;ac=ia.d;var w=ac[ix].length,jS=U.clone();jS.add.lyid=D.Dv();ia.d=ac.slice(0,2).concat(ac.slice(ix,ix+w+1));
ia.T=[];U.C$(D);U.V();var fH=jS.add.vmsk.d;jS.add.vmsk.d=fH.slice(0,ix).concat(fH.slice(ix+w+1,fH.length));
jS.add.vmsk.T=[];jS.C$(D);dZ[v]=U;dZ.splice(v+1,0,jS);for(var dI=0;dI<iK.length;dI++)if(iK[dI]>v)iK[dI]++;
var ap=iK.indexOf(v);if(ap!=-1){iK.splice(ap+1,0,v+1)}}}}if(dZ.length!=D.R.length){var s=new fL("Splitting open paths",this);
s.data={q:d.IB,Bj:D.R.slice(0),Z8:dZ,q2:D.T.slice(0),ZK:iK};D.kE(s);this.j1(s.data,D)}}if(u==d.DC){this.Cf({q:d._R},o,D,H,_);
var cJ=D.T.slice(0),hj=D.R.slice(0),eG=D.rC();if(eG.length==0)return;D.avr(eG,!1,l.Fp);var s=new fL([6,36,0],this);
s.data={q:d.IB,Bj:hj,Z8:D.R.slice(),q2:cJ,ZK:D.T.slice(0)};D.kE(s);this.j1(s.data,D)}if(u==d.aDY){var j3=h.add.SoLd;
if(j3==null)return;var iv=j3.Idnt.v,bF=D.qH(iv);bF.zG(!1);var iN=bF.f2[0],ep=bF.f2[1];if(g.pz(iN)){alert("The smart object contains transparency.");
return}var br=fj.rU("jpg").MJ([[iN.buffer]],ep.Q,ep._,[90]);this.Cf({q:d.lH,data:new Uint8Array(br),_h:"image.jpg"},o,D,H,_);
console.log(D.add);return}if(u==d.lH){var dj=l.nL,iv=l.id;if(dj==null)dj=D;if(iv==null)iv=h.add.SoLd.Idnt.v;
var aF=dj.qH(iv),cs=aF.clone();cs.raw=l.data;cs._h=l._h;var aV=fj.ZH(l.data.buffer);if(aV=="psd"){cs.xA="8BIM";
cs.hM="8BPB"}else{cs.xA="    ";cs.hM="    "}cs.zG(!1);aF.zG(!1);var s=new fL([6,36,1],this);s.data={q:d.lH,id:iv,Ol:aF,Hr:cs};
dj.kE(s);this.j1(s.data,dj)}if(u==d.Nm){var s=new fL([6,36,4],this);s.data={q:u,U:S,aC:h.add.SoLd.Impr.v.classID,zc:l.zc};
D.kE(s);this.j1(s.data,D)}if(u==d.a1R){var ay,fP;if(l.Uj){ay=l.nL;fP=l.Uj}else{l.nL.Vr();l.nL.Ou();l.nL.V();
l.nL.dh();l.nL.zG();ay=fj.rU("PSD").MJ(l.nL,0,0,[!0,!0]);fP=l.nL.name}if(!(ay instanceof ArrayBuffer))throw"e";
ay=new Uint8Array(ay);var y=l.LX;if(y==null){if(D.T.length==0)y=D.T.length;else{var cK=D.T[D.T.length-1],w=D.R[cK];
y=w.Cl()?cK:cK+1}}var aG=new gt(0,0,D.Q,D._),f6=D.NQ();if(f6!=-1)aG=D.R[f6].IH();var dC=D.M9(ay,fP,null,null,aG,_.uh,o),dZ=D.R.slice(0);
dZ.splice(y,0,dC);var s=new fL([6,36,2],this);s.data={q:d.IB,Bj:D.R.slice(),Z8:dZ,q2:D.T.slice(0),ZK:[dZ.indexOf(dC)]};
D.kE(s);this.j1(s.data,D)}if(u==d.lQ&&l.i6=="merge"){var ih=[],jk=D.root.children,cW=0;for(var v=0;v<jk.length;
v++){var $=jk[v],U=$.U,ir=$.children,kD=!0;if(!U.Cl()||ir.length==0)continue;for(var dI=0;dI<ir.length;
dI++)if(!ir[dI].U.getName().startsWith("_a_")){kD=!1;break}if(kD)ih.push(D.R.indexOf(U))}var bx=[];for(var v=0;
v<ih.length;v++)if(D.T.indexOf(ih[v])!=-1)bx.push(ih[v]);if(bx.length>=2)ih=bx;if(ih.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var bz=[];for(var v=0;v<ih.length;v++)bz.push(D.R[ih[v]].getName());var kF=[];for(var bX=0;bX<ih.length;
bX++){var $=D.root.sl(ih[bX]),e0=[[],[],0,bX];kF.push(e0);for(var v=0;v<$.children.length;v++){var a=$.children[v].index,U=$.children[v].U,eY=U.getName(),eq=20,ge=eY.split(",");
if(ge.length>1){var a_=parseInt(ge.pop());if(!isNaN(a_)&&a_!=0)eq=a_}if(eq<17)eq=17;e0[0].push(U);e0[1].push(eq);
e0[2]+=eq}}kF.sort(function(s,hC){return hC[2]-s[2]});if(kF[0][2]>2e3){var gL=0,iA=0;for(var v=0;v<kF.length;
v++){var cC=kF[v][1].length/kF[v][2];if(cC>iA){iA=cC;gL=v}}var jV=(kF[0][2]/1e3).toFixed(1),jN=window.confirm("- \""+bz[kF[0][3]]+"\" is "+jV+" seconds long\n"+"- \""+bz[kF[gL][3]]+"\" is playing at "+Math.round(iA*1e3)+" frames per second\n"+"A merged animation must be "+jV+" sec, up to "+Math.round(kF[0][2]*iA)+" frames. Proceed?");
if(!jN)return}var d9=kF[0],hl=d9[2];for(var gw=1;gw<kF.length;gw++){var e0=kF[gw],hx=1,jP=e0[1].slice(0),iI=0;
while((hx+1)*e0[2]<=d9[2]){hx++;jP=jP.concat(e0[1])}e0[1]=jP;e0[2]*=hx;var bb=d9[2]/e0[2];for(var v=0;
v<e0[1].length;v++){var fc=Math.floor(e0[1][v]*bb);e0[1][v]=fc;iI+=fc}while(iI<hl){iI++;e0[1][e0[1].length-1]++}e0[2]=iI}var hu=[],aQ=[],fc=[];
for(var v=0;v<kF.length;v++){hu.push(0);aQ.push(0)}while(cW<hl){var c6=1e9,af=-1;for(var v=0;v<kF.length;
v++){var cF=kF[v][1],gz=hu[v];if(gz!=cF.length&&aQ[v]+cF[gz]<cW+c6){af=v;c6=aQ[v]+cF[gz]-cW}}aQ[af]+=kF[af][1][hu[af]];
hu[af]++;if(c6!=0){fc.push(c6);cW+=c6}}for(var v=1;v<fc.length;v++){var bA=fc[v];if(bA<16&&(fc[v-1]<16||v<fc.length-1&&16<=fc[v+1])){fc[v-1]+=bA;
fc.splice(v,1);v--}}var fr=[],dj=new gt(0,0,D.Q,D._);for(var v=0;v<D.R.length;v++){fr[v]=D.R[v].zd();
D.R[v].rm(!1)}var dO=D.T.slice(0);D.T=ih;var dR=D.rC();dR.sort(function(s,hC){return s-hC});var dZ=[];
for(var v=0;v<D.R.length;v++){if(dR.indexOf(v)==-1)dZ.push(D.R[v])}kF.sort(function(s,hC){return s[3]-hC[3]});
function bw(cF,b9){var v=0,j2=0;while(j2+cF[v]<=b9){j2+=cF[v];v++}return v}cW=0;dZ.splice(dR[0],0,D.k0());
for(var i_=0;i_<fc.length;i_++){var z=[];for(var v=0;v<kF.length;v++){var gz=bw(kF[v][1],cW)%kF[v][0].length,U=kF[v][0][gz];
z.push(U)}var U=D.O7();for(var v=0;v<kF.length;v++){var iq=z[v],fD=D.R[ih[v]];iq.rm(!0);fD.rm(!0)}D.V();
D.dh();var iN=D.zG();U.rect=g.fP(iN,dj,2);U.buffer=g.o(U.rect.c()*4);g.Qo(iN,dj,U.buffer,U.rect);for(var v=0;
v<kF.length;v++){var iq=z[v],fD=D.R[ih[v]];iq.rm(!1);fD.rm(!1)}U.rm(i_==0);U.FH("_a_frm"+i_+","+fc[i_]);
dZ.splice(dR[0]+1+i_,0,U);cW+=fc[i_]}var U=D.O7();U.FH(bz.join(" + "));U.TY="pass";U.add.lsct=jl.qb;
U.XL=24;dZ.splice(dR[0]+1+fc.length,0,U);for(var v=0;v<D.R.length;v++)D.R[v].rm(fr[v]);var s=new fL([6,12,0],this);
s.data={q:d.IB,Bj:D.R,Z8:dZ,q2:dO,ZK:[dR[0]+1+fc.length]};D.kE(s);this.j1(s.data,D)}if(u==d.$v||u==d.Ae){var jX=D.T.length==1&&!D.R[D.T[0]].Cl(),k4=!0,dC=null,i1;
if(jX&&D.T[0]==0)return;var hj=D.R.slice(0),cJ=D.T.slice(0);if(jX)D.T=[S,S-1];if(u==d.Ae){D.T=[];for(var v=0;
v<D.R.length;v++)if(D.R[v].zd())D.T.push(v)}var eG=D.rC();eG.sort(function(s,hC){return s-hC});var h4=new gt,dj=new gt(0,0,D.Q,D._);
for(var v=0;v<eG.length;v++){var a=eG[v],U=D.R[a];if(U.Cl()||U.getName()=="</Layer group>")continue;
k4=k4&&U.RR()&&U.add.vmsk!=null;h4=h4.tB(D.root.sl(a).fZ(D,!0))}if(l.Tc!=null&&!k4){alert("Select shape layers only.");
return}if(k4){var ia=null,bR=l.Tc;for(var v=0;v<eG.length;v++){var w=D.R[eG[v]];if(w.rect.c()==0)continue;
if(dC==null){dC=w.clone();ia=dC.add.vmsk}else{var w=D.R[eG[v]],fH=d.dO.Wu(w.add.vmsk.d);if(bR!=null)for(var dI=0;
dI<fH.length;dI++)if(fH[dI].HN!=null&&fH[dI].HN!=-1)fH[dI].HN=[1,2,3,0][bR];ia.d=ia.d.concat(fH.slice(2));
dC.add.vogk=dC.add.vogk.concat(JSON.parse(JSON.stringify(w.add.vogk)))}}dC.add.vmsk.cF=!0;dC.C$(D)}else if(dj.u4(h4)){dC=D.O7();
dC.FH(D.R[eG[eG.length-1]].getName());dC.rect=h4;dC.buffer=g.o(h4.c()*4);var bT=D.add.artd;delete D.add.artd;
var eH=D.zG(eG);if(bT)D.add.artd=bT;g.Qo(eH,dj,dC.buffer,h4);dC.Hf();dC.V()}else{D.avr(eG,!0);dC=D.R[D.T[0]];
D.R.splice(D.T[0],1);var kr=D.qH(dC.add.SoLd.Idnt.v);D.add.lnk2.splice(D.add.lnk2.indexOf(kr),1);delete dC.add.SoLd}var b0=F,ko=-1;
if(l.M1&&l.M1.Dplc&&l.M1.Dplc.v)b0=!0;if(b0&&u==d.Ae&&cJ.length!=0&&D.R[cJ[0]].mF()&&D.R[cJ[0]].rect.lh()){ko=cJ[0]}if(ko!=-1||jX){var hN=D.R[ko!=-1?ko:S-1];
dC.FH(hN.getName());dC.add.lclr=hN.add.lclr}var dZ=[];for(var v=0;v<D.R.length;v++)if(b0||eG.indexOf(v)==-1)if(v!=ko)dZ.push(D.R[v]);
var dc=eG[eG.length-1],a7=dc==D.R.length-1?null:D.R[dc+1],fC=a7?dZ.indexOf(a7):dZ.length;dZ.splice(fC,0,dC);
i1=[fC];var s=new fL([6,12,0],this);s.data={q:d.IB,Bj:hj,Z8:dZ,q2:cJ,ZK:i1};D.kE(s);this.j1(s.data,D)}if(u==d.apE){var eo=D.O7();
eo.rect=new gt(0,0,D.Q,D._);eo.buffer=g.o(eo.rect.c()*4);g.M5(eo.buffer,4294967295);g.z.JM("norm",D.zG(),eo.rect,eo.buffer,eo.rect,eo.rect,1);
eo.FH("Background");eo.add.lspf=1<<2;var s=new fL([6,12,1],this);s.data={q:d.IB,Bj:D.R.slice(),Z8:[eo],q2:D.T.slice(0),ZK:[0]};
D.kE(s);this.j1(s.data,D)}var e7=u==d.nA||u==d.aE;if(u==d.On||u==d.eL||u==d.Q$||u==d.sL||e7){var U=e7?D.OS()[0]:D.O7(),dg=cU.get([0,3]),fM=l.U3,cH=!1,kw,bP;
if(u==d.Q$)dg=cU.get([12,76,1]);if(e7){if(D.f){var hr=D.R[D.T[0]],hz=hr.Gw(D,D.f);if(hz==null){alert("Copied area is empty");
return}U.rect=hz.rect;U.buffer=hz.L0;U.je(D);U.rm(!0)}else fM=U.getName();U.add.lspf=0;U.vN=!1;if((U.XL&1)!=0)U.XL--}if(u==d.sL){U.rect=p.yZ.aB7(l.VY,D);
U.buffer=l.VY.buffer.slice(0);if(l.aco&&D.f){U.I=new d.ow;U.I.rect=D.f.rect;U.I.color=0;U.I.channel=D.f.channel.slice(0)}}if(u==d.On){this.track({vS:"make",M1:{classID:"Mk",null:bt.NA("Lyr")}})}if(u==d.eL){U.XL|=16;
var aw=l.M1.Usng.v,i4=aw.Type.v,kj=jW.fN[i4.classID];dg=cU.get(jW.names[kj]);if(aw.Nm)fM=aw.Nm.v;U.add[kj]=at.ts(kj);
if(U.add[kj]==null)U.add[kj]={};for(var c8 in i4)U.add[kj][c8]=JSON.parse(JSON.stringify(i4[c8]));U.I=p.yZ.az$(D);
U.Ih=1}if(u==d.Q$){U.XL|=16;var d0=l.M1,aw=d0.Usng.v,cx=aw.Type.v,hX=aw.Shp;if(aw.Nm)fM=aw.Nm.v;if(hX==null){var bj=D.CS(),gv=bj[0],jc=bj[1];
if(jc.length!=0&&gv[jc[0]].wN<0){var dS=gv[jc[0]].add;U.add.vmsk=dS.vmsk.clone();U.add.vstk=cq.K$.ts(!0);
U.add.vogk=JSON.parse(JSON.stringify(dS.vogk));D.dZ=[]}else U.I=p.yZ.az$(D)}else{U.add.vmsk=new d.dO;
U.add.vstk=JSON.parse(JSON.stringify(aw.strokeStyle?aw.strokeStyle.v:cq.K$.ts(!0)));U.add.vogk=[];if(hX){var dK=g.uQ.Yy(hX);
if(dK){U.add.vogk=[dK];U.add.vmsk.d.push({type:0,HN:1,length:0});g.uQ.$S(U.add.vogk,U.add.vmsk)}else{hX=hX.v;
var fz=hX.classID;if(fz=="Plgn"){var cX=hX.Cntr.v,iC=hX.corner.v;cX=new he(cX.Hrzn.v.val,cX.Vrtc.v.val);
iC=new he(iC.Hrzn.v.val,iC.Vrtc.v.val);U.add.vmsk.d=g.n.Rd.Zo(cX.x,cX.y,Math.sqrt(iC.x*iC.x+iC.y*iC.y),Math.atan2(iC.y,iC.x),hX.sides.v,0)}else if(fz=="customShape"){var d2=g.uQ.Gd(hX),dv=d2[2]-d2[0],gP=d2[3]-d2[1],gu=_.To,jg,kq;
for(var v=0;v<gu.length;v++)if(gu[v].Yd==hX.Nm.v)jg=gu[v];if(jg){kq=d.dO.Wu(jg.d);g.n.Am(kq,new de(dv,0,0,gP,d2[0],d2[1]))}else kq=g.n.Rd.Rect(d2[0],d2[1],dv,gP,0);
U.add.vmsk.d=kq}U.Xv()}}}if(a8==0){var bB={solidColorLayer:0,gradientLayer:1,patternLayer:2}[cx.classID],e8=["SoCo","GdFl","PtFl"][bB];
U.add[e8]=JSON.parse(JSON.stringify(cq.lJ[bB]));if(bB==0)U.add[e8].Clr.v=g.G.XF(g.kJ(_.Os));p.yZ.pu(cx,U.add[e8],bB);
if(hX==null)dg=cU.get([6,48,0,bB]);if(e8=="PtFl"){var hw=U.add[e8].Ptrn.v,ge=cN.Sf(hw,_.hj);if(ge==null)ge=cN.Sf(hw,D.add.Patt);
hw.Idnt.v=ge.id;D.YE(ge)}U.C$(D)}else{U.add.vstl=JSON.parse(JSON.stringify(_.o4))}}var a0=p.yZ.f0(D,dg+" ");
U.FH(dg+" "+(a0+1));if(fM)U.FH(fM);var jG=D.T.length==0?D.R.length-1:D.T[D.T.length-1],gD=D.R[jG];if(a8==0&&u==d.Q$&&gD.mF()&&gD.rect.lh()){cH=!0;
U.FH(gD.getName());kw=jG}else{kw=jG+(u==d.On&&R&&!n?0:1);if(gD&&gD.add.lsct==jl.VV)kw--}if(l.akY)kw=Math.max(0,kw-1);
var dZ=D.R.slice(0);if(u==d.aE){var jH=dZ[D.T[0]]=dZ[D.T[0]].clone(),jn=D.f.channel.slice(0);g.L5(jn);
g._c(jn,D.f.rect,jH.buffer,jH.rect)}dZ.splice(kw,cH?1:0,U);var aH=[5,2];if(u==d.On)aH=[6,13];if(u==d.eL)aH=[6,1];
if(u==d.Q$){aH=[6,48,1];var hX=l.M1.Usng.v.Shp;if(hX){var i7={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[hX.v.classID];
if(i7)aH=i7}}if(e7){aH=[6,49,u==d.nA?0:1]}if(e7||u==d.Q$||u==d.sL||u==d.eL)if(D.f)bP=[D.f,null];var s=new fL(aH,this);
s.data={q:d.IB,Bj:D.R.slice(0),Z8:dZ,q2:D.T.slice(0),ZK:[kw],ZD:bP};D.kE(s);this.j1(s.data,D);if(u==d.Q$&&hX==null&&bB!=0||u==d.eL){var P=new jJ(k.E.b);
P.data={q:k.L.Ak,mg:j4.nC.Fj};o.A(P)}}if(u==d.ui){var dZ=D.R.slice(0),U=D.R[D.T[0]],im=U.rect.c(),fK=im*4,eV=dZ.indexOf(U),hN=D.O7();
hN.FH("Decomposition");hN.add.lsct=jl.VV;hN.TY="pass";hN.XL=24;dZ.splice(eV+1,0,hN);dZ.splice(eV+1,0,D.k0());
var kc=U.clone();kc.FH("Residual");dZ.splice(eV+2,0,kc);function c6(s,hC,v){hC[v]+=128-s[v];hC[v+1]+=128-s[v+1];
hC[v+2]+=128-s[v+2];hC[v+4]+=128-s[v+4];hC[v+5]+=128-s[v+5];hC[v+6]+=128-s[v+6]}dZ.splice(eV,0);var fl=Date.now();
for(var eL=0;eL<5;eL++){var jS=kc.clone();dZ.splice(eV+3,0,jS);jS.opacity=128;jS.TY="lLit";jS.FH("Scale "+(eL+1));
at.ld(1<<eL,g.l5.sO,kc.buffer,U.rect);var d2=kc.buffer,jD=new Uint8ClampedArray(jS.buffer.buffer);for(var v=0;
v<fK;v+=8)c6(d2,jD,v)}var s=new fL("Wavelet Decompose",this);s.data={q:d.IB,Bj:D.R.slice(0),Z8:dZ,q2:D.T.slice(0),ZK:[eV+2]};
D.kE(s);this.j1(s.data,D)}if(u==d.MO){var U=D.O7(),dg=cU.get([0,4]),a0=p.yZ.f0(D,dg+" ");U.FH(dg+" "+(a0+1));
U.TY="pass";U.add.lsct=jl.VV;U.XL=24;if(l.U3)U.FH(l.U3);if(l.wW!=null)U.add.lclr=l.wW;var eu=D.k0(),jG=S,kw=jG+(R?0:1),dZ=D.R.slice(0);
dZ.splice(kw,0,eu,U);var s=new fL([6,20],this);s.data={q:d.IB,Bj:D.R.slice(0),Z8:dZ,q2:D.T.slice(0),ZK:[kw+1]};
D.kE(s);this.j1(s.data,D)}if(u==d.Sz||u==d.sj){var gO=u==d.Sz?l.source:D.T[0],gN,al,fp=D.T.indexOf(gO)!=-1,kk=F|l.ajp,iJ,c6=null;
if(fp)iJ=D.rC();else iJ=D.OZ(gO);iJ.sort(function(s,hC){return s-hC});if(u==d.Sz){gN=l.target;al=l.lz>.5}else if(l.target!=null){gN=Math.min(l.target,D.R.length-1);
al=l.target<D.R.length;D.$r=!0}else{var ht=l.i6;al=ht>1;if(ht==0){gN=D.R.length-1}if(ht==1){gN=iJ[iJ.length-1]+1;
var w=D.OZ(gN);if(w.indexOf(gO)==-1)gN+=w.length-1}if(ht==2){gN=iJ[0]-1;var w=D.OZ(gN);if(w.indexOf(gO)==-1)gN-=w.length-1}if(ht==3){gN=0;
if(D.R[0].add.lnsr=="bgnd")gN++}if(gN<0||gN>D.R.length-1)return;D.$r=!0}if(iJ.indexOf(gN)!=-1&&!kk)return;
var c7=p.yZ.qK(D,iJ,gN,al,kk?D.OS(fp?null:gO):null,u==d.Sz&&l.lz>.8),fN=c7.pop(),iK=c7.pop(),dZ=c7.pop(),aj=D.T;
D.T=[gO];var ar=D.NQ();D.T=[gN];var g3=D.NQ();if(g3==gN&&!al)g3=-1;D.T=aj;if(gO==ar){}else if(ar!=g3){var c6=new he(0,0);
if(ar!=-1){var ep=D.R[ar].IH();c6.x-=ep.x;c6.y-=ep.y}if(g3!=-1){var ep=D.R[g3].IH();c6.x+=ep.x;c6.y+=ep.y}}var s=new fL(kk?[6,0]:[6,35],this);
s.data={q:d.IB,Bj:D.R.slice(0),Z8:dZ,q2:D.T.slice(0),ZK:iK,tC:c6};D.kE(s);this.j1(s.data,D);var d0={classID:"move",null:bt.NA("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:fN+(al?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:kk}};
this.track({vS:"move",M1:d0})}if(u==d.up){var gD=l.aU;if(l.rR){if(h==null||!h.Cl())return;var $=D.root.sl(S),gA=D.R.indexOf($.aEl),dZ=D.R.slice(0);
dZ.splice(S,1);dZ.splice(gA,1);var iK=[];for(var v=gA;v<S-1;v++)iK.push(v);if(gD){var d4=S-2;dZ[d4]=dZ[d4].clone();
dZ[d4].aU=!1}var s=new fL(gD?[6,6,0]:"Ungroup Layers",this);s.data={q:d.IB,Bj:D.R.slice(0),Z8:dZ,q2:D.T.slice(0),ZK:iK};
D.kE(s);this.j1(s.data,D)}else{var U=D.O7(),kE=cU.get([0,4])+" ";U.FH(kE+(p.yZ.f0(D,kE)+1));U.TY="pass";
if(gD){if(D.T.length==1){alert("Select more than one layer for a clipping group.");return}U.FH("<Clip Group>")}if(l.U3)U.FH(l.U3);
if(l.wW!=null)U.add.lclr=l.wW;U.add.lsct=D.T.length==1?jl.VV:jl.qb;U.XL=24;var eu=D.k0(),iJ=D.rC();if(iJ.length==0)return;
iJ.sort(function(s,hC){return s-hC});var dZ=[];for(var v=0;v<D.R.length;v++)if(iJ.indexOf(v)==-1)dZ.push(D.R[v]);
var jG=D.T[D.T.length-1]-iJ.length;dZ.splice(jG+1,0,eu);for(var v=0;v<iJ.length;v++)dZ.splice(jG+2+v,0,D.R[iJ[v]]);
dZ.splice(jG+2+iJ.length,0,U);if(gD){var d4=jG+iJ.length+1;dZ[d4]=dZ[d4].clone();dZ[d4].aU=!0}var s=new fL(gD?[6,6,0]:[6,9],this);
s.data={q:d.IB,Bj:D.R.slice(0),Z8:dZ,q2:D.T.slice(0),ZK:[dZ.indexOf(U)]};D.kE(s);this.j1(s.data,D);var i={vS:"make",FB:!0};
i.M1={classID:"Mk",null:bt.NA("layerSection"),From:bt.NA("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:U.getName()}}}};
this.track(i)}}if(u==d.aAj){if(D.T.length!=1)return;var y=D.T[0],cy=F;if(D.R[y].KQ()==null&&!H.W(e_.Cm)){u=d.J3;
l.PT=D.f?!cy?"RvlS":"HdSl":!cy?"RvlA":"HdAl"}else{u=d.su;l.a9Z=!0}}if(u==d.J3){if(D.T.length!=1)return;
var y=D.T[0],U=D.R[y];if(U.add.vmsk&&U.I==null)U.C$(D);var dT=U.KQ();if(dT==null||l.ab1){var s=new fL(l.U3?l.U3:[6,21],this),bZ=new d.ow,d8=l.PT,iV=d8=="RvlS"||d8=="HdSl";
if(d8=="RvlS"||d8=="HdAl"||d8=="Trns")bZ.color=0;if(iV){bZ.channel=D.f.channel.slice(0);bZ.rect=D.f.rect.clone();
if(d8=="HdSl")g.L5(bZ.channel)}if(d8=="Trns"){bZ.rect=U.rect.clone();bZ.channel=g.o(U.rect.c());g.mA(U.buffer,bZ.channel,3)}s.data={q:d.KR,gy:[y,dT,bZ],ZD:iV?[D.f,null]:null,auN:d8=="Trns"};
D.kE(s);this.j1(s.data,D);D.R[y].Ih=1;this.track({vS:"make",M1:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:d8}}}})}}else if(u==d.aku){var g0=D.R[l.src],bW=D.R[l.fw],s=new fL([6,21],this),jp=g0.KQ(),gy=bW.KQ(),jd=[l.src,jp,null,l.fw,gy,jp];
if(F||n){var eY=jp.clone();if(F)jd=[l.fw,gy,eY];else jd[5]=eY;if(n){g.L5(eY.channel);eY.color=255-eY.color}}s.data={q:d.KR,gy:jd};
D.kE(s);this.j1(s.data,D)}if(u==d.cR){if(D.T.length!=1)return;var y=S,aZ=D.R[y].KQ();if(aZ!=null){var s=new fL([6,22],this);
s.data={q:d.KR,gy:[S,aZ,null]};D.kE(s);this.j1(s.data,D)}}if(u==d._i){var hj=D.R.slice(0),eo=h.clone(),fk=eo.KQ();
g._c(fk.C7(eo.rect),eo.rect,eo.buffer,eo.rect);p.yZ.Z5(D,eo);eo.Hf();D.R[D.T[0]]=eo;var s=new fL([5,8],this);
s.data={q:d.IB,Bj:hj,Z8:D.R.slice(),q2:D.T.slice(0),ZK:D.T.slice(0)};D.kE(s);this.j1(s.data,D)}if(u==d.gj){if(D.T.length!=1)return;
var y=D.T[0];if(D.R[y].nN(D).I==null){var s=new fL([6,45],this);s.data={q:u,U:y,I:new d.ow};D.kE(s);
this.j1(s.data,D)}}if(u==d.N3){if(D.T.length!=1)return;var y=D.T[0];if(D.R[y].nN(D).I!=null){var s=new fL([6,46],this);
s.data={q:u,U:y,I:D.R[y].nN(D).I};D.kE(s);this.j1(s.data,D)}}if(u==d.io){if(l.src==null&&D.T.length!=1)return;
if(l.src!=null)S=l.src;if(D.R[S].pn()){var s=new fL([6,47],this),j3=JSON.stringify(D.R[S].add.SoLd),by=JSON.parse(j3);
delete by.filterFX;s.data={q:d.oC,X_:[{It:S,Ti:[j3,JSON.stringify(by)],nZ:[D.R[S].nN(D),null]}]};D.kE(s);
this.j1(s.data,D)}}if(u==d.su){if(D.T.length!=1)return;if(h.add.vmsk==null){var s=new fL([6,23],this),ac=D.CS(),cI=ac[1],ac=ac[0],bZ,dK;
if(l.a9Z&&cI.length!=0){var dS=ac[cI[0]].add;bZ=dS.vmsk.clone();dK=dS.vogk}else{bZ=new d.dO;dK=[];bZ.d[1].all=l.a1?0:1}s.data={q:u,U:S,z2:!0,I:bZ,uQ:JSON.stringify(dK),K$:null};
if(h.RR()){s.data.K$=Stroke.K$.ts(!0)}D.kE(s);this.j1(s.data,D)}}if(u==d.IC){var g0=D.R[l.src],bW=D.R[l.fw];
if(bW.add.vmsk)return;var s=new fL([6,23],this),ia=g0.add.vmsk;s.data={U:l.fw,z2:g0.BF,I:ia.clone(),uQ:JSON.stringify(g0.add.vogk),K$:g0.add.vstk?JSON.stringify(g0.add.vstk):null};
if(F){s.data.q=d.su}else{s.data.q=u;s.data.src=l.src;s.data.fw=l.fw}D.kE(s);this.j1(s.data,D)}if(u==d.x0||u==d.K5){if(D.T.length!=1)return;
var U=D.R[S],ia=U.add.vmsk;if(ia!=null){var av=u==d.K5,s=new fL(av?[6,8]:[6,24],this);s.data={q:d.x0,U:S,z2:U.BF,I:ia,uQ:JSON.stringify(U.add.vogk),K$:U.add.vstk?JSON.stringify(U.add.vstk):null};
if(av){s.data.LL=ia.KQ(U.add.vstk)}D.kE(s);this.j1(s.data,D)}}if(u==d.w3){var s=new fL("Metadata",this);
s.data={q:u,w4:JSON.stringify(D.ff),iT:JSON.stringify(l.iT)};D.kE(s);this.j1(s.data,D)}if(u==d.GV){var cS=l.fw?l.fw:D,ji=cS.name,fM=l.P+".psd";
if(ji==fM)return;var s=new fL([6,37],this);s.data={q:u,ay2:ji,U3:fM};if(l.a9N!=!0)cS.kE(s);this.j1(s.data,cS)}if(u==d.lQ&&l.i6.endsWith("makeframes")){var e4=[],bs=l.i6.startsWith("make");
for(var v=0;v<D.T.length;v++){var a=D.T[v],U=D.R[a],i2=U.getName(),gY=i2.startsWith("_a_");if(bs==gY||U.add.lsct==jl.fa)continue;
var iu=bs?"_a_"+i2:i2.slice(3);e4.push([a,i2,iu,U.add.lnsr,null])}var s=new fL([6,37],this);s.data={q:d.Fh,au:e4};
D.kE(s);this.j1(s.data,D)}if(u==d.Fh){var ji=h.getName(),fM=l.name.substring(0,255);if(ji==fM)return;
var s=new fL([6,37],this);s.data={q:u,au:[[S,ji,fM,h.add.lnsr,null]]};D.kE(s);this.j1(s.data,D);this.track(bt.A9("Nm",{t:"TEXT",v:fM}))}if(u==d.V0){var da=D.rC(),fV=[],g6=[];
for(var v=0;v<da.length;v++){fV.push(D.R[da[v]].add.lclr);g6.push(l.aBk)}var s=new fL([6,38],this);s.data={q:u,R:da,a3T:fV,wW:g6};
D.kE(s);this.j1(s.data,D)}if(u==d.MT){var s=D.history[D.IL];if(s!=null&&s.S==this&&s.data.q==u&&s.data.U==l.nr&&s.data.zc.k4==l.BB.k4)s.data.zc=l.BB;
else{s=new fL("Mask Density / Feather",this);s.data={q:u,U:l.nr,aC:D.R[l.nr].p1(l.BB.k4),zc:l.BB};D.kE(s)}this.j1(s.data,D)}if(u==d.k1){var hG=JSON.stringify(l.P),jL=JSON.parse(hG),s=D.history[D.IL];
if(s!=null&&s.S==this&&s.data.q==u&&s.data.Dc==l.Dc&&s.data.Zl.join(",")==l.Zl.join(",")){for(var v=0;
v<l.Zl.length;v++)s.data.FC[v]=jL;if(s.data.M1&&jL.hM!=0)p.yZ.pu(jL.E6,s.data.M1.T.v,jL.hM-1)}else{s=new fL([11,6],this);
s.data={q:u,Zl:l.Zl,Dc:l.Dc,agU:[],FC:[]};var ek=!1;for(var v=0;v<l.Zl.length;v++){var a=l.Zl[v],U=D.R[a],fd=l.Dc?cq.ty(U.add):JSON.parse(JSON.stringify(U.add.vstk));
s.data.agU.push(fd);s.data.FC.push(jL);if(JSON.stringify(fd)!=hG)ek=!0}if(!ek)return;D.kE(s);if(l.Dc&&jL.hM>0){var d0=s.data.M1={classID:"setd",null:bt.NA("contentLayer",!0),T:{t:"Objc",v:{}}};
p.yZ.pu(jL.E6,d0.T.v,jL.hM-1);this.track({vS:"set",M1:d0})}}if(l.Dc&&jL.hM==3)D.YE(cN.Sf(jL.E6.Ptrn.v,_.hj));
if(!l.Dc){var eZ=jL.strokeStyleContent.v;if(eZ.classID==cq.K$.Gl[2])D.YE(cN.Sf(eZ.Ptrn.v,_.hj))}this.j1(s.data,D)}if(u==d.S6){var eT=_.o4,jA=[];
for(var v=0;v<D.T.length;v++){var a=D.T[v],U=D.R[a],hO=U.add.vstl;if(hO==null)continue;var fd=JSON.stringify(hO);
for(var dj in eT)hO[dj]=eT[dj];var jL=JSON.stringify(hO);if(fd==jL)continue;jA.push([a,fd,jL])}if(jA.length!=0){var W=D.I5();
if(W&&W.S==this&&W.data.q==u&&W.data.xx.length==jA.length){var gx=!0;for(var v=0;v<jA.length;v++)if(jA[v][0]!=W.data.xx[v][0])gx=!1;
if(gx){for(var v=0;v<jA.length;v++)W.data.xx[v][2]=jA[v][2];D.V();return}}var s=new fL("Style Change",this);
s.data={q:u,xx:jA};D.kE(s);D.V()}}};p.yZ.qK=function(l,o,D,H,_,u){var S=l.R[D],h=[];if(_)h=l.R.slice(0);
else for(var v=0;v<l.R.length;v++)if(o.indexOf(v)==-1)h.push(l.R[v]);var F=h.indexOf(S);if(u&&S.Cl()&&S.add.lsct==jl.qb)F-=l.OZ(D).length-1;
var n=[];for(var v=0;v<o.length;v++){var R=F+(H?0:1)+v,s=_?_[v]:l.R[o[v]];h.splice(R,0,s);n.push(R)}return[h,n,F]};
p.yZ.pu=function(l,o,D){var H=[cq.mh,cq.Mp,cq.Zm][D];if(o.classID==null)o.classID=["solidColorLayer","gradientLayer","patternLayer"][D];
for(var v=0;v<H.length;v++)if(l[H[v]])o[H[v]]=JSON.parse(JSON.stringify(l[H[v]]))};p.yZ.az$=function(l){var o=new d.ow;
if(l.f!=null){o.color=0;o.channel=l.f.channel.slice(0);o.rect=l.f.rect.clone()}return o};p.yZ.HS=function(l,o,D,H,_){var u=H.Q/D.Q,S=H._/D._,h=H.Q/2,F=H._/2,n=g.X.YZ(H).s;
for(var v=0;v<l.R.length;v++){var R=l.R[v],s=R.add.SoLd;if(s==null||s.Idnt.v!=o)continue;var Z=u!=1||S!=1;
if(Z){var O=p.cA.TX(s.nonAffineTransform),w=g.t.kb(O,H),m=new de;m.translate(-h,-F);m.scale(u,S);m.translate(h,F);
var V=g.t.GM(w,g.t.Lw(m)),q=n.slice(0);g.t.h(V,q);s.Trnf=p.cA.y3(q);s.nonAffineTransform=p.cA.y3(q);
if(g.Y9.yL(s.quiltWarp.v)){var i=s.quiltWarp.v.bounds.v;i.Rght.v.val=H.Q;i.Btom.v.val=H._}}R.mP(l,null,_,!Z)}l.V()};
p.yZ.a3Y=function(l,o,D){o.color=255-o.color;g.L5(o.channel);o.cF=!0;l.C$(D);D.V()};p.yZ.prototype.H$=function(l,o){var D=l.q,H=o.R[l.U];
o.aH=!0;if(D==d.lH){o.add.lnk2.splice(o.add.lnk2.indexOf(l.Hr),1,l.Ol);p.yZ.HS(o,l.id,l.Hr.f2[1],l.Ol.f2[1])}if(D==d.Nm){H.add.SoLd.Impr.v.classID=l.aC;
H.mP(o)}if(D==d.N9){var _=JSON.parse(l.Zl);for(var v=0;v<_.length;v++)o.R[_[v]].TY=l.ZG[v];o.V()}if(D==d.xI){var _=JSON.parse(l.Zl);
for(var v=0;v<_.length;v++)o.R[_[v]].opacity=l.ZG[v];o.V()}if(D==d.aA){var _=JSON.parse(l.Zl);for(var v=0;
v<_.length;v++)if(o.R[_[v]].add.lsct!=jl.fa)o.R[_[v]].add.lspf=l.ZG[v]}if(D==d.Dm){var u=l.tU,S=l.acd;
delete H.add[u[0]];if(S[0]!="----")H.add[S[0]]=S[1]}if(D==d.th){H.add.iOpa=l.ZG;o.V()}if(D==d.B4){for(var v=0;
v<l.Zl.length;v++){var h=o.R[l.Zl[v]];h.rm(!h.zd())}o.V()}if(D==d.dA){var F=H.KQ();F.isEnabled=!F.isEnabled;
H.C$(o);o.V()}if(D==d.v1){var F=H.nN(o).I;F.isEnabled=!F.isEnabled;H.V();o.V()}if(D==d.zj){var F=H.add.vmsk;
F.isEnabled=!F.isEnabled;if(!F.isEnabled){if(H.LL){H.I=H.LL;H.LL=null}else H.I=null}else if(H.I){H.LL=H.I;
H.I=null}H.C$(o);o.V()}if(D==d.JK){H.vN=!H.vN;o.V()}if(D==d.a2){H.add.lmfx.masterFXSwitch.v=!H.add.lmfx.masterFXSwitch.v;
H.rD.F0=!0;o.V()}if(D==d.ws){H.add.SoLd.filterFX.v.enab.v=!H.add.SoLd.filterFX.v.enab.v;H.jQ(o);o.V()}if(D==d.nF){var n=l.index,R=H.add.lmfx[cq.lZ[n[0]]].v[n[1]].v;
R.enab.v=!R.enab.v;H.rD.F0=!0;o.V()}if(D==d.Rj){var s=o.R[l.VU],Z=o.R[l.ZL],O=l.al6,w=l.a1v;if(O=="")delete s.add.lmfx;
else s.add.lmfx=JSON.parse(O);if(w=="")delete Z.add.lmfx;else Z.add.lmfx=JSON.parse(w);s.rD.F0=!0;Z.rD.F0=!0;
o.V()}if(D==d.uL){var m=H.add.SoLd.filterFX.v.filterFXList.v[l.index].v;m.enab.v=!m.enab.v;H.jQ(o);o.V()}if(D==d.axX){H.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(l.a2r));
H.jQ(o);o.V()}if(D==d.al){var F=H.KQ();F.uD=!F.uD}if(D==d.ij){var F=H.add.vmsk;F.uD=!F.uD}if(D==d.Rr){var V=JSON.parse(l.abc);
o.Qk=V[0];o.pt=V[1]}if(D==d.Bl){var V=l.Rs;for(var v=0;v<V.length;v+=2){var q=V[v],h=q>=0?o.R[q]:o.sS[-1-q];
h.add.vogk=JSON.parse(V[v+1]);g.uQ.$S(h.add.vogk,h.add.vmsk);if(q>=0)h.C$(o)}o.V()}if(D==d.n5){H.add.artb=JSON.parse(l.abr);
o.V();p.WS.Qe(o,l)}if(D==d.O$){o.f=l.dP;if(l.a54)o.w.N=l.a54.slice(0);o.Lx=l.Rs.slice(0);o.q0=l.J4.slice(0);
o.st=o.LD=!0}if(D==d.b$){H.Sx=!H.Sx}if(D==d.P1){var i=l.azR;for(var v=0;v<i.length;v++)o.R[v].zE=i[v]}if(D==d.IB){if(l.tC)p.JI.uN(o,o.T,null,-l.tC.x,-l.tC.y);
if(l.q2)o.T=l.q2;if(l.ZD)o.f=l.ZD[0];o.Vl=null;o.V();p.WS.Qe(o,l);o.MQ(l.Bj);if(l.Ym)o.l0(l.Ym[0])}if(D==d.KR){for(var v=0;
v<l.gy.length;v+=3)p.yZ.Z5(o,o.R[l.gy[v]],l.gy[v+1]);if(l.ZD){var c=l.ZD[0];if(c==null)delete o.f;else o.f=c}if(l.auN){var h=o.R[l.gy[0]];
g.Kl(l.gy[2].channel,h.buffer,3)}}if(D==d.gj){H.nN(o).I=null;H.V();o.V()}if(D==d.N3){H.nN(o).I=l.I;H.V();
o.V()}if(D==d.oC){p.yZ.an0(o,l.X_,0)}if(D==d.su){p.yZ.s6(o,H,!0)}if(D==d.IC){p.yZ.s6(o,o.R[l.fw],l.I.isEnabled);
p.yZ.hK(o,o.R[l.src],l)}if(D==d.x0){if(l.LL)p.yZ.Z5(o,H,null);p.yZ.hK(o,H,l)}if(D==d.w3){o.ff=JSON.parse(l.w4)}if(D==d.GV){o.name=l.ay2}if(D==d.Fh){for(var v=0;
v<l.au.length;v++){var z=l.au[v],h=o.R[z[0]];h.FH(z[1]);if(z[3])h.add.lnsr=z[3];else delete h.add.lnsr}}if(D==d.V0){for(var v=0;
v<l.R.length;v++)o.R[l.R[v]].add.lclr=l.a3T[v]}if(D==d.k1){var B=l.agU;for(var v=0;v<l.Zl.length;v++){var h=o.R[l.Zl[v]],t=B[v];
if(!l.Dc)h.add.vstk=JSON.parse(JSON.stringify(t));else cq.hz(h.add,JSON.parse(JSON.stringify(t)));h.a6(o)}o.V()}if(D==d.S6){for(var v=0;
v<l.xx.length;v++){var a=l.xx[v];o.R[a[0]].add.vstl=JSON.parse(a[1])}o.V()}if(D==d.MT){H.aim(l.aC);H.C$(o);
o.V()}o.LD=!0};p.yZ.prototype.j1=function(l,o){var D=l.q,H=o.R[l.U];o.aH=!0;if(D==d.lH){o.add.lnk2.splice(o.add.lnk2.indexOf(l.Ol),1,l.Hr);
p.yZ.HS(o,l.id,l.Ol.f2[1],l.Hr.f2[1])}if(D==d.Nm){H.add.SoLd.Impr.v.classID=l.zc;H.mP(o)}if(D==d.N9){var _=JSON.parse(l.Zl);
for(var v=0;v<_.length;v++)o.R[_[v]].TY=l.zc;o.V()}if(D==d.xI){var _=JSON.parse(l.Zl);for(var v=0;v<_.length;
v++)o.R[_[v]].opacity=l.zc;o.V()}if(D==d.aA){var _=JSON.parse(l.Zl);for(var v=0;v<_.length;v++)if(o.R[_[v]].add.lsct!=jl.fa)o.R[_[v]].add.lspf=l.zc[v]}if(D==d.Dm){var u=l.acd,S=l.tU;
delete H.add[u[0]];if(S[0]!="----")H.add[S[0]]=S[1]}if(D==d.th){H.add.iOpa=l.zc;o.V()}if(D==d.B4){for(var v=0;
v<l.Zl.length;v++){var h=o.R[l.Zl[v]];h.rm(!h.zd())}o.V()}if(D==d.dA){var F=H.KQ();F.isEnabled=!F.isEnabled;
H.C$(o);o.V()}if(D==d.v1){var F=H.nN(o).I;F.isEnabled=!F.isEnabled;H.V();o.V()}if(D==d.zj){var F=H.add.vmsk;
F.isEnabled=!F.isEnabled;if(!F.isEnabled){if(H.LL){H.I=H.LL;H.LL=null}else H.I=null}else if(H.I){H.LL=H.I;
H.I=null}H.C$(o);o.V()}if(D==d.JK){H.vN=!H.vN;o.V()}if(D==d.a2){H.add.lmfx.masterFXSwitch.v=!H.add.lmfx.masterFXSwitch.v;
H.rD.F0=!0;o.V()}if(D==d.ws){H.add.SoLd.filterFX.v.enab.v=!H.add.SoLd.filterFX.v.enab.v;H.jQ(o);o.V()}if(D==d.nF){var n=l.index,R=H.add.lmfx[cq.lZ[n[0]]].v[n[1]].v;
R.enab.v=!R.enab.v;H.rD.F0=!0;o.V()}if(D==d.Rj){var s=o.R[l.VU],Z=o.R[l.ZL],O=l.aaP,w=l.a78;if(O=="")delete s.add.lmfx;
else s.add.lmfx=JSON.parse(O);if(w=="")delete Z.add.lmfx;else Z.add.lmfx=JSON.parse(w);s.rD.F0=!0;Z.rD.F0=!0;
o.V()}if(D==d.uL){var m=H.add.SoLd.filterFX.v.filterFXList.v[l.index].v;m.enab.v=!m.enab.v;H.jQ(o);o.V()}if(D==d.axX){H.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(l.ae4));
H.jQ(o);o.V()}if(D==d.al){var F=H.KQ();F.uD=!F.uD}if(D==d.ij){var F=H.add.vmsk;F.uD=!F.uD}if(D==d.Rr){var V=JSON.parse(l.ar1);
o.Qk=V[0];o.pt=V[1]}if(D==d.Bl){var V=l.C4;for(var v=0;v<V.length;v+=2){var q=V[v],h=q>=0?o.R[q]:o.sS[-1-q];
h.add.vogk=JSON.parse(V[v+1]);g.uQ.$S(h.add.vogk,h.add.vmsk);if(q>=0)h.C$(o)}o.V()}if(D==d.n5){H.add.artb=JSON.parse(l.jw);
o.V();p.WS.B6(o,l)}if(D==d.O$){o.f=l.pQ;if(l.ab5)o.w.N=l.ab5.slice(0);o.Lx=l.C4.slice(0);o.q0=l.VR.slice(0);
o.st=o.LD=!0}if(D==d.b$){H.Sx=!H.Sx}if(D==d.P1){var i=l.a0j;for(var v=0;v<i.length;v++)o.R[v].zE=i[v]}if(D==d.IB){o.a1x();
var c=l.Z8,z=0,B;for(var v=0;v<c.length;v++){var h=c[v],t=h.add.lsct;if(t==jl.fa)z++;else if(t==jl.VV||t==jl.qb)z--;
if(h.add.artb&&z!=0)B="Artboards can not be inside folders."}if(B){o.history.pop();o.IL--;alert(B);return}if(l.ZK)o.T=l.ZK;
if(l.ZD)o.f=l.ZD[1];o.Vl=null;o.V();o.MQ(l.Z8);p.WS.B6(o,l);if(l.tC)p.JI.uN(o,o.T,null,l.tC.x,l.tC.y);
if(l.Ym)o.l0(l.Ym[1])}if(D==d.KR){for(var v=0;v<l.gy.length;v+=3)p.yZ.Z5(o,o.R[l.gy[v]],l.gy[v+2]);if(l.ZD){var a=l.ZD[1];
if(a==null)delete o.f;else o.f=a}if(l.auN){var h=o.R[l.gy[0]],I=h.buffer;for(var v=0;v<I.length;v+=4)I[v+3]=255}}if(D==d.gj){H.nN(o).I=l.I;
H.Ih=0;H.V();o.V()}if(D==d.N3){H.nN(o).I=null;H.Ih=0;H.V();o.V()}if(D==d.oC){p.yZ.an0(o,l.X_,1)}if(D==d.su){p.yZ.hK(o,H,l)}if(D==d.IC){p.yZ.s6(o,o.R[l.src],l.I.isEnabled);
p.yZ.hK(o,o.R[l.fw],l)}if(D==d.x0){p.yZ.s6(o,H,l.I.isEnabled);if(l.LL)p.yZ.Z5(o,H,l.LL)}if(D==d.w3){o.ff=JSON.parse(l.iT)}if(D==d.GV){o.name=l.U3}if(D==d.Fh){for(var v=0;
v<l.au.length;v++){var N=l.au[v],h=o.R[N[0]];h.FH(N[2]);if(N[4])h.add.lnsr=N[4];else delete h.add.lnsr}}if(D==d.V0){for(var v=0;
v<l.R.length;v++)o.R[l.R[v]].add.lclr=l.wW[v]}if(D==d.k1){var J=l.FC;for(var v=0;v<l.Zl.length;v++){var h=o.R[l.Zl[v]],Q=J[v];
if(!l.Dc)h.add.vstk=JSON.parse(JSON.stringify(Q));else cq.hz(h.add,JSON.parse(JSON.stringify(Q)));h.a6(o)}o.V()}if(D==d.S6){for(var v=0;
v<l.xx.length;v++){var A=l.xx[v];o.R[A[0]].add.vstl=JSON.parse(A[2])}o.V()}if(D==d.MT){H.aim(l.zc);H.C$(o);
o.V()}o.LD=!0};p.yZ.f0=function(l,o){var D=0;for(var v=0;v<l.R.length;v++){var H=l.R[v].getName();if(H.startsWith(o)){var _=H.slice(o.length).trim(),u=parseInt(_);
if(!isNaN(u)&&u+""==_&&u>D)D=u}}return D};p.yZ.an0=function(l,o,D){for(var v=0;v<o.length;v++){var H=o[v],_=l.R[H.It];
if(H.Ti){_.add.SoLd=JSON.parse(H.Ti[D])}if(H.nZ){if(H.nZ[1-D]!=null)l.GB(H.nZ[1-D]);if(H.nZ[D]!=null)l.Cy(H.nZ[D]);
else _.Ih=0}_.mP(l)}};p.yZ.aB7=function(l,o){var D=l.uz,H=l.rect.clone();if(D!=null&&(D.x!=o.Q||D.y!=o._)){H.x=Math.floor((o.Q-H.Q)/2);
H.y=Math.floor((o._-H._)/2)}else if(D==null){var _=new gt(0,0,o.Q,o._),u=o.NQ();if(u!=-1)_=o.R[u].IH();
H.x+=_.x;H.y+=_.y}return H};p.yZ.aa6=function(l,o){if(o.LL)o.LL=null;else o.I=null;o.C$(l);l.V();o.Ih=0};
p.yZ.Z5=function(l,o,D){var H=o.KQ();if(H==null&&D==null)return;if(H)p.yZ.aa6(l,o);if(D==null)return;
if(o.I)o.LL=D;else o.I=D;o.C$(l);l.V()};p.yZ.s6=function(l,o,D){if(o.LL&&D){o.I=o.LL;o.LL=null}else if(o.I&&D){o.I=null}delete o.add.vogk;
delete o.add.vstk;delete o.add.vmsk;o.C$(l);o.BF=!1;l.Vl=[];l.V()};p.yZ.hK=function(l,o,D){o.add.vogk=JSON.parse(D.uQ);
if(D.K$)o.add.vstk=JSON.parse(D.K$);else delete o.add.vstk;o.add.vmsk=D.I.clone();if(o.I&&o.add.vmsk.isEnabled)o.LL=o.I;
o.C$(l);o.BF=D.z2;l.Vl=[l.R.indexOf(o)];l.dZ=[];l.V()};p.Y1=function(){p.vA.call(this,"Layer Styles",p.AM);
this.XO=null;this.W7=null;this.P_=null;this.Rq=[];this.gW=null};p.Y1.prototype=new p.vA;p.Y1.prototype.Cf=function(l,o,D,H,_){var u=l.U;
if(u==null)u=D.T[0];var S=D.R[u],h=l.wN;if(this.XO==null){this.P_=p.Y1.w6(D,S);this.XO=JSON.stringify(this.P_);
if(S.add.lmfx)this.W7=JSON.stringify(S.add.lmfx)}if(S.add.lmfx==null){S.add.lmfx=JSON.parse(cq.default);
for(var v=0;v<cq.order.length;v++)S.add.lmfx[cq.lZ[v]]={t:"VlLs",v:[]}}if(l.q=="scaleeffects"){if(l.P=="confirm"||l.P=="cancel"){this.Cf({q:l.P},o,D,H,_);
return}S.add.lmfx=JSON.parse(this.W7);cN.kp(S.add.lmfx,l.P/100)}else if(l.q=="changeprop"){var F=null;
if(h!=0){var n=this.Rq[h[0]];if(n==null)n=cq.Rq[h[0]];n=JSON.parse(n);var R=S.add.lmfx[cq.lZ[h[0]]].v;
if(R[h[1]]==null)R[h[1]]={t:"Objc",v:n};F=R[h[1]].v;for(var s in n)if(F[s]==null)F[s]=n[s]}if(l.q=="changeprop"){if(h==0){this.P_[l.Iw].v=l.P;
p.Y1.U0(D,S,this.P_)}else if(l.Iw=="lagl"){if(F.uglg&&F.uglg.v){D.ac(l.P.val);this.P_.gagl.v.val=D.Ry()}else F[l.Iw].v=l.P}else if(l.Iw=="Lald"){if(F.uglg.v){D.bC(l.P.val);
this.P_.a3U=D.xH()}else F[l.Iw].v=l.P}else if((h[0]==3||h[0]==8)&&(l.Iw=="Clr"||l.Iw=="Grad")){if(l.Iw=="Clr"){F.Clr={t:"Objc",v:l.P};
delete F.Grad}if(l.Iw=="Grad"){F.Grad={t:"Objc",v:l.P};delete F.Clr}}else{F[l.Iw].v=l.P}if(h!=0)this.Rq[h[0]]=JSON.stringify(F)}if(h!=0)if(F.Ptrn)D.YE(cN.Sf(F.Ptrn.v,_.hj))}else if(l.q=="setstl"){var Z=l.P.Lefx;
if(Z)cN.a6i(Z,D,_.hj);cN.a4M(l.P,S,null,D);this.P_=p.Y1.w6(D,S)}else if(l.q=="st_dupsingle"){var O=S.add.lmfx[cq.lZ[l.Pr[0]]].v;
if(O[l.Pr[1]]==null)return;var w=JSON.parse(JSON.stringify(O[l.Pr[1]]));O.splice(l.Pr[1],0,w)}else if(l.q=="st_movsingle"){var m=l.Pr[1],O=S.add.lmfx[cq.lZ[l.Pr[0]]].v;
if(O[l.Pr[1]]==null)return;var V=Math.max(0,Math.min(O.length-1,m+l.arR)),q=O[V];O[V]=O[m];O[m]=q}else if(l.q=="cancel"){if(this.W7==null)delete S.add.lmfx;
else S.add.lmfx=JSON.parse(this.W7);p.Y1.U0(D,S,JSON.parse(this.XO));this.XO=null;this.W7=null}else if(l.q=="confirm"){var i=JSON.stringify(S.add.lmfx),c=new fL([11,6],this);
c.data={R:[u],MM:[this.W7],B_:[i],Rl:[this.XO],tH:[JSON.stringify(this.P_)]};D.kE(c);this.XO=null;this.W7=null;
if(i!=null){var z=JSON.parse(i);aN.lo(z);z.classID="Lefx";delete z.masterFXSwitch;var B=new jJ(k.E.yT);
B.iy=!0;B.data={vS:"set",FB:!0};var t=bt.NA("Lyr",!0);t.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
B.data.M1={__name:"Set",classID:"setd",null:t,T:{t:"Objc",v:z}};o.A(B)}}else if(l.q=="st_copy"){this.gW=[this.XO,this.W7];
this.XO=null;this.W7=null}else if(l.q=="st_paste"||l.q=="st_clear"){if(l.q=="st_paste"&&this.gW==null)return;
var a=l.U!=null?[l.U]:D.T.slice(0),I=[],N=[],J=[],Q=[];for(var v=0;v<a.length;v++){var S=D.R[a[v]],A=p.Y1.w6(D,S);
I.push(S.add.lmfx?JSON.stringify(S.add.lmfx):null);J.push(JSON.stringify(A));if(l.q=="st_paste"){N.push(this.gW[1]);
Q.push(this.gW[0])}else{N.push(null);A.lrMd.v=0;A.Opct.v.val=100;A.iOpa.v.val=100;A.blIf={v:[]};for(var f=0;
f<10;f++)A.blIf.v.push(0,0,255,255);Q.push(JSON.stringify(A))}}var c=new fL([11,6],this);c.data={R:a,MM:I,B_:N,Rl:J,tH:Q};
this.j1(c.data,D);D.kE(c);this.XO=null;this.W7=null}else{var W=this.P_,z=null;if(l.q=="st_delsingle"){z=JSON.parse(this.W7);
z[cq.lZ[l.Pr[0]]].v.splice(l.Pr[1],1);z=JSON.stringify(z)}if(z==null)delete S.add.lmfx;else S.add.lmfx=JSON.parse(z);
if(W!=null)p.Y1.U0(D,S,W);var c=new fL([11,6],this);c.data={R:[l.U],MM:[this.W7],B_:[z],Rl:[this.XO],tH:[JSON.stringify(W)]};
D.kE(c);this.XO=null;this.W7=null}S.rD.F0=!0;D.aH=!0;D.V()};p.Y1.w6=function(l,o){if(o.add.iOpa==null)o.add.iOpa=255;
if(o.add.brst==null)o.add.brst=[1,1,1];var D=o.Cl()?["pass"].concat(b2.Jv):b2.Jv;return{lrMd:{v:D.indexOf(o.TY)},Opct:{v:{type:"#Prc",val:Math.round(o.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(o.add.iOpa*100/255)},t:"UntF"},blIf:{v:o.MZ.slice(0)},brst:{v:o.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:l.Ry()}},a3U:l.xH(),Cl:o.Cl()}};
p.Y1.U0=function(l,o,D){var H=o.Cl()?["pass"].concat(b2.Jv):b2.Jv;o.TY=H[D.lrMd.v];o.opacity=Math.round(D.Opct.v.val*255/100);
o.add.iOpa=Math.round(D.iOpa.v.val*255/100);o.MZ=D.blIf.v.slice(0);o.add.brst=D.brst.v.slice(0);l.ac(D.gagl.v.val);
l.bC(D.a3U)};p.Y1.prototype.H$=function(l,o){for(var v=0;v<l.R.length;v++){var D=o.R[l.R[v]],H=l.MM[v];
if(H==null)delete D.add.lmfx;else D.add.lmfx=JSON.parse(H);p.Y1.U0(o,D,JSON.parse(l.Rl[v]));D.rD.F0=!0}o.aH=!0;
o.V()};p.Y1.prototype.j1=function(l,o){for(var v=0;v<l.R.length;v++){var D=o.R[l.R[v]],H=l.B_[v];if(H==null)delete D.add.lmfx;
else D.add.lmfx=JSON.parse(H);p.Y1.U0(o,D,JSON.parse(l.tH[v]));D.rD.F0=!0}o.aH=!0;o.V()};p.ce=function(){p.vA.call(this,"Layer Comps",p.sT)};
p.ce.prototype=new p.vA;p.ce.prototype.Cf=function(l,o,D,H){var _=JSON.parse(JSON.stringify(D.xr)),u=JSON.parse(JSON.stringify(D.xr)),S=null,h=null,F=null,n=-1,R=!1;
if(l.q=="delLC"){var s=p.ce.G7(D.xr,l.wN),Z=D.xr.lastAppliedComp?D.xr.lastAppliedComp.v:0;u.list.v.splice(s,1);
if(Z==l.wN)delete u.lastAppliedComp;S="Delete Layer Comp"}if(l.q=="editLC"){var s=p.ce.G7(D.xr,l.wN),O=u.list.v[s].v;
if(l.U3!=null)O.Nm.v=l.U3;if(l.aaQ!=null){var w=l.aaQ,m=O.capturedInfo.v,V=m&(1<<w)-1;m=m>>w;if((m&1)==1)m--;
else m++;O.capturedInfo.v=(m<<w)+V}S="Layer Comp properties"}if(l.q=="setLC"){p.ce.wK(D);if(l.wN==0)delete u.lastAppliedComp;
else u.lastAppliedComp={t:"long",v:l.wN};S="Switch Layer Comp";R=!0}if(l.q=="updLC"){p.ce.wK(D);h=p.ce.arA(D,l.wN);
F=p.ce.Uw(D,l.wN);u.lastAppliedComp={t:"long",v:l.wN};S="Update Layer Comp";n=l.wN;R=!0}if(l.q=="addLC"){p.ce.wK(D);
var q=1;for(var v=0;v<u.list.v.length;v++)q=Math.max(q,u.list.v[v].v.compID.v)+1;q+=Math.floor(Math.random()*1e4);
var i={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(u.list.v.length+1)},compID:{t:"long",v:q},capturedInfo:{t:"long",v:7}}};
u.list.v.push(i);u.lastAppliedComp={t:"long",v:q};S="New Layer Comp";var c=p.ce.Uw(D,q);p.ce.Dj(D,c,q)}var z=new fL(S,this);
z.data={aDm:_,a8g:u,ayE:h,amR:F,wN:n,G6:R};this.j1(z.data,D);D.kE(z)};p.ce.prototype.j1=function(l,o){o.xr=l.a8g;
o.aH=!0;if(l.amR)p.ce.Dj(o,l.amR,l.wN);if(l.G6){var D=o.xr.lastAppliedComp?o.xr.lastAppliedComp.v:0,H=p.ce.G7(o.xr,D),_=H==-1?null:o.xr.list.v[H].v,u=_?_.capturedInfo.v:7;
p.ce.pC(o,D,u);o.V()}};p.ce.prototype.H$=function(l,o){o.xr=l.aDm;o.aH=!0;if(l.ayE)p.ce.Dj(o,l.ayE,l.wN);
if(l.G6){var D=o.xr.lastAppliedComp?o.xr.lastAppliedComp.v:0,H=p.ce.G7(o.xr,D),_=H==-1?null:o.xr.list.v[H].v,u=_?_.capturedInfo.v:7;
p.ce.pC(o,D,u);o.V()}};p.ce.wK=function(l){if(l.xr.lastAppliedComp!=null||!l.WK)return;var o=p.ce.Uw(l,0);
p.ce.Dj(l,o,0);l.WK=!1};p.ce.Cp=function(l,o,D){l.v.Hrzn.v+=o;l.v.Vrtc.v+=D};p.ce.G7=function(l,o){var D=l.list.v;
for(var v=0;v<D.length;v++)if(D[v].v.compID.v==o)return v;return-1};p.ce.a7T=function(l){var o=l.layerSettings.v,_=null;
if(o.length==0)return;var D="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),H=o[0].v;
if(H.enab==null)H.enab={t:"bool",v:!0};if(H.Ofst==null)H.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var v=0;v<o.length;v++){var u=o[v].v;if(_==null)_=JSON.parse(JSON.stringify(u));else for(var S=0;
S<D.length;S++){var h=D[S];if(u[h])_[h]=JSON.parse(JSON.stringify(u[h]))}o[v].v=JSON.parse(JSON.stringify(_))}};
p.ce.a4G=function(l,o){var D=l.add.shmd.cmls,H=D.layerSettings.v;for(var _=0;_<H.length;_++){var u=H[_].v,S=u.compList.v[0].v;
if(S==o)return _}return-1};p.ce.aDy=function(l,o){var D=p.ce.a4G(l,o);return D==-1?null:l.add.shmd.cmls.layerSettings.v[D].v};
p.ce.pC=function(l,o,D){for(var v=0;v<l.R.length;v++){var H=l.R[v],_=H.add.shmd.cmls;if(_==null)continue;
var u=_.layerSettings.v,S=p.ce.aDy(H,o);if(S==null){H.rm(!1);continue}if((D&1)!=0){if(S.enab)H.rm(S.enab.v);
else H.rm(!0)}if((D&2)!=0){if(S.Ofst){var h=S.Ofst.v,F=H.pZ(l),n=Math.round(h.Hrzn.v-F.x),R=Math.round(h.Vrtc.v-F.y);
if(n!=0||R!=0)p.JI.uN(l,[v],null,n,R)}}if((D&4)!=0){if(S.Lefx){var s=JSON.parse(JSON.stringify(S.Lefx.v));
aN.eC(s);if(JSON.stringify(s)!=JSON.stringify(H.add.lmfx)){H.add.lmfx=s;H.rD.F0=!0}}else delete H.add.lmfx;
if(S.blendOptions){var Z=S.blendOptions.v;if(Z.Opct)H.opacity=Math.round(255*Z.Opct.v.val/100);if(Z.fillOpacity)H.add.iOpa=Math.round(255*Z.fillOpacity.v.val/100);
if(Z.Md)H.TY=H.add.lsct==jl.fa?"norm":b2.kt(Z.Md.v.BlnM)}else{H.opacity=255;H.TY=H.Cl()?"pass":"norm";
H.add.iOpa=255}}}};p.ce.arA=function(l,o){var D={};for(var v=0;v<l.R.length;v++){var H=l.R[v];if(H.add.shmd==null||H.add.shmd.cmls==null)continue;
D["l"+H.add.lyid]=JSON.parse(JSON.stringify(p.ce.aDy(H,o)))}return D};p.ce.Uw=function(l,o){var D={};
for(var v=0;v<l.R.length;v++){var H=l.R[v],_=H.add.lyid;D["l"+_]=p.ce.a2W(l,H,o)}return D};p.ce.a2W=function(l,o,D){var H=o.add.shmd?o.add.shmd.cmls:null,_={classID:"null"},u=o.pZ(l),S={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:u.x},Vrtc:{t:"long",v:u.y}}};
_.compList={t:"VlLs",v:[{t:"long",v:D}]};_.enab={t:"bool",v:o.zd()};_.Ofst=JSON.parse(JSON.stringify(S));
_.FXRefPoint=JSON.parse(JSON.stringify(H&&H.origFXRefPoint?H.origFXRefPoint:S));_.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:b2.De(o.TY)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*o.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:o.add.iOpa!=null?100*o.add.iOpa/255:100}}}};
if(o.add.vmsk){_.vectorMask={t:"Objc",v:{classID:"null"}};_.vectorMask.v.Ofst=JSON.parse(JSON.stringify(S))}if(o.add.lmfx){_.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(o.add.lmfx))};
aN.lo(_.Lefx.v)}return _};p.ce.atB=function(l,o){var D=o.add.lyid;if(o.add.shmd==null)o.add.shmd={};
if(o.add.shmd.cmls==null){o.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:D},layerSettings:{t:"VlLs",v:[{t:"Objc",v:p.ce.a2W(l,o,0)}]}}}};
p.ce.Dj=function(l,o,D){for(var v=0;v<l.R.length;v++){var H=l.R[v],_=H.add.lyid;p.ce.atB(l,H);var u=H.add.shmd.cmls,S=u.layerSettings.v,h=o["l"+_];
if(h!=null)h={t:"Objc",v:JSON.parse(JSON.stringify(h))};var F=p.ce.a4G(H,D);if(F==-1){if(h==null)continue;
else S.push(h)}else{if(h==null)S.splice(F,1);else S[F]=h}}};p.ce.a9=function(l,o){for(var v=0;v<l.R.length;
v++){var D=l.R[v],H=D.add.lyid;if(D.add.shmd==null||D.add.shmd.cmls==null)continue;var _=D.pZ(l),u=Math.round(_.x),S=Math.round(_.y);
if(!o){u=-u;S=-S}var h=D.add.shmd.cmls,F=h.layerSettings.v;if(h.origFXRefPoint)p.ce.Cp(h.origFXRefPoint,-u,-S);
for(var n=0;n<F.length;n++){var R=F[n].v;p.ce.Cp(R.Ofst,u,S);var s=R.imageMask,Z=R.vectorMask;if(s&&s.v.Ofst)p.ce.Cp(s.v.Ofst,u,S);
if(Z&&Z.v.Ofst)p.ce.Cp(Z.v.Ofst,u,S)}}};p.MW=function(){p.vA.call(this,"Adjust Edit",p.xw);this.iT=null;
this.sw=null};p.MW.prototype=new p.vA;p.MW.vM=function(l,o,D,H){if(H)o/=4;var _=0,u=0,S=255,h=0,F=0,n=255;
while(u+l[_]<o){u+=l[_];_++}while(h+l[S]<o){h+=l[S];S--}if(H){_-=Math.round(l[_]/(D/32));S+=Math.round(l[S]/(D/32));
if(_<0)F=Math.round(-_*255/(S-_));if(S>255)n=255-Math.round((S-255)*255/(S-_))}return[Math.max(_,0),Math.min(S,255),F,n,100]};
p.MW.prototype.Cf=function(l,o,D,H,_){var u=l.q;if(u=="auto"){var S=l.AQ,h=p.MW.getData(D);for(var v=0;
v<h.length;v++){var F=h[v],n;if(S<3){}else{var R=at.ts("hue2");gT.sQ(R,0,[0,-100,0]);n=jW.Vz("hue2",R)}jW.Ok(n,F.L0,F.DH,F.hR)}p.MW.Y7(D,h);
p.MW.gH(D,h,S<3?[4,16,S]:[19,7,0],this);D.V()}if(u=="edit_layer")this.as3(l,o,D,H);if(u=="edit"||u=="confirm"||u=="cancel")this.DK(l,o,D,_,!0);
if(u=="start"){if(D.T.length==0)return;var s=D.R[D.T[0]];if(s.add.SoLd&&s.Ih<=0&&D.q0.length==0){var Z=new jJ(k.E.r,!0);
Z.S=p.tF;Z.data={q:"start",xi:l.PN,zh:l.zh};o.A(Z);return}if(!D.Um(o,null,!0))return;if(cB[l.PN]&&l.zh==null){if(D.T.length!=1)alert("Will be applied to "+D.T.length+" layers.");
var Z=new jJ(k.E.b,!0);Z.data={q:k.L.E1,mg:"afw_"+l.PN};o.A(Z)}else{this.DK({q:"edit",zh:l.zh,xi:l.PN},o,D,_);
this.DK({q:"confirm",xi:l.PN},o,D,_)}}};p.MW.prototype.as3=function(l,o,D,H){var _=l.q,u=D.T[0],S=D.R[u],h=jW.get(S.add),Z;
if(S.add[h]==null)return;var F=JSON.parse(JSON.stringify(S.add[h]));for(var n in l.P)F[n]=l.P[n];var R=JSON.parse(JSON.stringify(F));
for(var n in jW.fN)if(jW.fN[n]==h)R.classID=n;var s=D.history[D.IL];if(s&&s.S==this&&s.data.aC!=null&&s.data.U==u)Z=s;
else{var O=new jJ(k.E.yT,!0),w={classID:"setd",null:bt.NA("AdjL",!0),T:{t:"Objc",v:R}};O.data={FB:!0,vS:"set",M1:w};
o.A(O);var Z=new fL([6,39],this);Z.data={U:u,aC:S.add[h],zc:F,fD:w};D.kE(Z)}Z.data.zc=F;Z.data.fD.T.v=R;
this.j1(Z.data,D)};p.MW.getData=function(l,o,D){var H=[],_=new gt(0,0,l.Q,l._),u=l.q0.length!=0?[-1-l.q0[0]]:l.T;
for(var v=0;v<u.length;v++){var S=u[v],h=S<0?null:l.R[S],F={U:S,wE:S<0?1:h.Ih};H.push(F);var n=l.Lx[-1-S];
if(0<=S)n=h.Ih<=0?null:h.Ih==1?h.KQ():h.nN(l).I;var R=n?n.rect:h.rect;if(l.f){F.hR=l.f.rect.$o(o||n!=null?_:R)}else F.hR=o||n!=null?R.tB(_):R.clone();
if(D)F.hR=D[v].hR.clone();var s=F.hR.c();F.L0=g.o(s*4);if(n)p.hL.Cq(n.channel,n.rect,n.color,F.L0,F.hR);
else g.Qo(h.buffer,R,F.L0,F.hR);F.DH=F.L0.slice(0);if(l.f){F.gy=g.o(s);g.mB(l.f.channel,l.f.rect,F.gy,F.hR)}}return H};
p.MW.aex=function(l,o,D){if(o==null)return o;var H=jW.Ny(l,o),u;if(H==-1)return o;var _=D.length>>>2,S=g.Pn(D),h=.001*_;
if(H==0||H==2)u=[[0,255,0,255,100],p.MW.vM(S[1],h,_,H==2),p.MW.vM(S[2],h,_,H==2),p.MW.vM(S[3],h,_,H==2)];
if(H==1)u=[p.MW.vM(S[0],h*.33,_,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var F=at.ts("levl");
for(var v=0;v<4;v++)el.sQ(F,v,u[v]);return F};p.MW.a6X=function(l,o,D,H){var _,u;if(D.t=="name"){var S=0;
for(var h=0;h<l.R.length;h++)if(l.R[h].getName()==D.v.val)S=h;if(l==o&&S==H.U){_=H.L0;u=H.hR}else{var F=l.R[S];
_=F.buffer;u=F.rect}}else{u=new gt(0,0,l.Q,l._);_=l==o?H.Ao:l.zG()}return[_,u]};p.MW.prototype.DK=function(l,o,D,H){if(this.iT==null){if(l.xi=="aply")D.R[D.T[0]].extend(new gt(0,0,D.Q,D._));
this.iT=p.MW.getData(D,null,l.xi=="fade"?D.I5().data:null);if(l.xi=="aply"||l.xi=="matc")this.iT[0].Ao=D.zG()}if(l.q=="edit"){this.sw=[l.xi,l.zh];
var _=this.iT[0],u=p.MW.aex(l.xi,l.zh,_.L0),S=jW.Vz(l.xi,u);if(l.xi=="fade"||l.xi=="matc"||l.xi=="aply")S=l.zh;
if(S!=null){for(var h=0;h<this.iT.length;h++){var F=this.iT[h];if(l.gF)g.Tg(F.L0,F.DH);else if(l.xi=="fade"){var n=b2.kt(l.zh.Md.v.BlnM),R=l.zh.Opct.v.val/100,s=D.I5().data[h];
g.Tg(s.L0,F.DH);if(n=="norm")g.z.vx(F.L0,F.hR,F.DH,F.hR,null,null,null,F.hR,R);else{var Z=cN.uM();Z.U$=!0;
for(var v=0;v<s.L0.length;v+=4)if(s.L0[v+3]!=F.L0[v+3]){Z=null;break}g.z.JM(n,F.L0,F.hR,F.DH,F.hR,F.hR,R,Z)}}else if(l.xi=="matc"){var O;
if(S.noReference&&S.noReference.v)O=F.L0;else{var w=S.Srce.v,m=w[1].v.val,V=o.GX,q=D;for(var v=0;v<V.length;
v++)if(V[v].name==m)q=V[v];var i=p.MW.a6X(q,D,w[0],F);O=i[0]}h5(F.L0,F.hR.Q,F.hR._,O,F.DH,[S.Lght.v,S.ClrR.v,S.Fade.v,S.neutralizeColor?S.neutralizeColor.v:!1])}else if(l.xi=="aply"){S=S.With.v;
var c=S.T.v,i=p.MW.a6X(D,D,c[1],F),O=i[0],z=i[1],B=S.Clcl?S.Clcl.v.Clcn:null,n=B?b2.kt(B):"norm",R=S.Opct?S.Opct.v.val/100:1,t=["RGB","Rd","Grn","Bl","Trsp"].indexOf(c[0].v.enum),u=S.Invr&&S.Invr.v;
if(u||t!=0){O=O.slice(0);if(u)g.ac8(O);if(t!=0){var a=g.o(z.c());g.mA(O,a,t-1);if(t==4)g.L5(a);for(var I=0;
I<3;I++)g.Kl(a,O,I)}}if(B=="Add"||B=="Sbtr"){var N=1/S.Scl.v,J=S.Ofst.v,Q=B=="Add"?1:-1,A=new Uint8ClampedArray(F.DH.buffer);
for(var v=0;v<O.length;v+=4){A[v]=(F.L0[v]+Q*O[v])*N+J;A[v+1]=(F.L0[v+1]+Q*O[v+1])*N+J;A[v+2]=(F.L0[v+2]+Q*O[v+2])*N+J}}else{var Z=cN.uM();
Z.U$=S.PrsT&&S.PrsT.v;F.DH.fill(0);F.DH.set(F.L0);g.z.JM(n,O,z,F.DH,F.hR,F.hR,R,Z)}}else jW.Ok(S,F.L0,F.DH,F.hR)}p.MW.Y7(D,this.iT)}}if(l.q=="cancel"){p.MW.a98(D,this.iT);
this.iT=null}if(l.q=="confirm"){var f={fade:[2,11],aply:[2,12],matc:[4,18]},W=f[l.xi];if(W==null)W=jW.names[l.xi];
var C=jW.Ny(l.xi,this.sw[1]);if(C!=-1)W=[4,16,C];p.MW.gH(D,this.iT,W,this);this.iT=null;if(C==-1)p.MW.Hj(o,this.sw)}D.V()};
p.MW.Hj=function(l,o){var D=o[0],H=o[1],_,u;if(jW.AW[D]){_=jW.AW[D];if(cB[D])u=H}if(at.AW[D]){_=at.AW[D];
if(cB[D])u=H}if(D=="fade"){_="fade";u=H}if(D=="matc"){_="matchColor";u=H}if(D=="aply"){_="applyImageEvent";
u=H}if(D=="GEfc"){if(u.GEfs)u=u.GEfs.v[0].v}if(_==null)return;var S=new jJ(k.E.yT,!0);S.data={FB:!0,vS:_};
if(u){u=JSON.parse(JSON.stringify(u));S.data.M1=u}l.A(S)};p.MW.a98=function(l,o){p.MW.xv(l,o)};p.MW.gH=function(l,o,D,H){for(var v=0;
v<o.length;v++){var _=o[v],u=l.R[_.U],S=_.U<0?l.Lx[-1-_.U]:_.wE<=0?null:_.wE==1?u.KQ():u.nN(l).I;if(S){S.Hf();
S.cF=!0;if(u)u.C$(l)}else{u.Hf();u.V()}delete _.DH;delete _.gy}var h=new fL(D,H);h.data=o;l.kE(h);l.aH=!0};
p.MW.Y7=function(l,o,D){for(var v=0;v<o.length;v++){var H=o[v],_=l.R[H.U],u=D?H.L0:H.DH,S=H.hR;if(H.wE==0){_.extend(S);
if(H.gy){g.Qo(H.L0,S,_.buffer,_.rect);g.z.vx(u,S,_.buffer,_.rect,H.gy,S,0,S,1)}else g.Qo(u,S,_.buffer,_.rect)}else{var h=H.U<0?l.Lx[-1-H.U]:H.wE==1?_.KQ():_.nN(l).I;
h.extend(S);if(H.gy){var F=g.o(S.c()*4);g.Tg(H.L0,F);g.z.vx(u,S,F,S,H.gy,S,0,S,1);p.hL.rr(F,S,h)}else p.hL.rr(u,S,h);
h.cF=!0;if(_)_.C$(l)}if(_)_.V()}if(!D)p.MW.amu(l,o)};p.MW.xv=function(l,o){for(var v=0;v<o.length;v++){var D=o[v],H=l.R[D.U],_=D.hR,u=g.o(_.c()*4);
if(D.wE==0){g.Qo(H.buffer,H.rect,u,_);H.extend(_);g.Qo(D.L0,_,H.buffer,H.rect);H.Hf()}else{var S=D.U<0?l.Lx[-1-D.U]:D.wE==1?H.KQ():H.nN(l).I;
p.hL.Cq(S.channel,S.rect,S.color,u,_);S.extend(_);p.hL.rr(D.L0,_,S);S.Hf();S.cF=!0;if(H)H.C$(l)}D.L0=u;
if(H)H.V()}l.aH=!0};p.MW.P7=function(l){var o=0;for(var v=0;v<l.length;v++)o+=l[v].L0.length;return o};
p.MW.amu=function(l,o){var D=p.MW.afu(l),H=~D;if(D==16777215)return;for(var v=0;v<o.length;v++){var _=o[v],u=l.R[_.U],S=_.hR;
if(_.wE!=0)continue;u.extend(S);var h=S.x-u.rect.x,F=S.y-u.rect.y,n=u.rect.Q,R=new Uint32Array(_.L0.buffer),s=new Uint32Array(u.buffer.buffer);
for(var Z=0;Z<S._;Z++)for(var O=0;O<S.Q;O++){var w=Z*S.Q+O,m=(Z+F)*n+(O+h);s[m]=s[m]&D|R[w]&H}u.Hf();
u.V()}l.V()};p.MW.afu=function(l){var o=l.w.N;return o[2]*16711680|o[1]*65280|o[0]*255};p.MW.prototype.H$=function(l,o){var D=o.R[l.U];
if(l.aC!=null)D.add[jW.get(D.add)]=l.aC;else p.MW.xv(o,l);o.V()};p.MW.prototype.j1=function(l,o){var D=o.R[l.U];
if(l.aC!=null)D.add[jW.get(D.add)]=l.zc;else p.MW.xv(o,l);o.V()};p.MW.prototype.P7=function(l){return l.aC==null?p.MW.P7(l):0};
p.Xq=function(){p.vA.call(this,"Filter Edit",p.tF);this.iT=null;this.$b=null;this.q=null;this.sw=null};
p.Xq.prototype=new p.vA;p.Xq.prototype.Cf=function(l,o,D,H,_){if(l.q=="start"){if(D.T.length==0)return;
var u=D.R[D.T[0]];if(u.add.SoLd&&u.Ih<=0&&D.q0.length==0){}else if(!D.Um(o,null,!0))return;var S=l.xi;
if((cB[S]||at.p[S])&&l.zh==null){if(D.T.length!=1)alert("Will be applied to "+D.T.length+" layers.");
var h=new jJ(k.E.b,!0);h.data=p.Xq.acu(S,this.bz(D,S));o.A(h)}else{var F={q:"edit",xi:S,zh:l.zh,ol:this.bz(D)};
this.Cf(F,o,D,H,_);F.q="confirm";delete F.zh;this.Cf(F,o,D,H,_)}}if(l.q=="edit"||l.q=="cancel"||l.q=="confirm"){if(l.q=="edit")this.sw=[l.xi,l.zh];
if(l.ol)this.ay5(l,o,D,_);else this.alp(l,o,D,_)}if(l.q=="applylast"&&this.sw!=null){var F={q:"edit",xi:this.sw[0],zh:this.sw[1],ol:this.bz(D)};
this.Cf(F,o,D,H,_);F.q="confirm";delete F.zh;this.Cf(F,o,D,H,_)}};p.Xq.acu=function(l,o){var D=at.p[l];
if(D)return{q:k.L.BC,S:D,Bt:{ol:o}};else return{q:k.L.E1,mg:"afw_"+l,ol:o}};p.Xq.prototype.bz=function(l,o){var D=l.R[l.T[0]],H;
if(D.add.SoLd&&D.Ih<=0&&l.q0.length==0){H={U:l.T[0],index:0};if(D.add.SoLd.filterFX!=null){var _=D.add.SoLd.filterFX.v.filterFXList.v;
H.index=_.length;for(var v=0;v<_.length;v++)if(at.Vs(_[v].v)==o&&at.p[o])H.index=v}}return H};p.Xq.prototype.ay5=function(l,o,D,H){var _=D.R[l.ol.U],u=l.xi;
if(l.q=="edit"){if(this.q==null){var S=at.names[u];if(S==null)S=jW.names[u];if(u=="blendOptions")S=[14,10];
this.q=new fL(S,this);this.q.data={ol:l.ol,aD1:JSON.parse(JSON.stringify(_.add.SoLd))}}if(!_.pn()){_.add.SoLd.filterFX=at.B3();
var h=this.q.data.nZ=f9.axN(_.add.SoLd.placed.v);D.Cy(h);if(D.f){h.I.channel=D.f.channel.slice(0);h.I.rect=D.f.rect.clone();
h.I.color=0;this.q.data.dP=D.f;D.f=null}_.mP(D)}var F=_.add.SoLd.filterFX.v.filterFXList.v;if(F[l.ol.index]==null){F.push(at.If(u,H))}if(l.zh){F[l.ol.index].v.enab.v=l.gF!=!0;
if(u=="blendOptions")F[l.ol.index].v.blendOptions.v=l.zh;else F[l.ol.index].v.Fltr.v=l.zh}this.q.data.aw3=JSON.parse(JSON.stringify(_.add.SoLd));
this.j1(this.q.data,D)}if(l.q=="cancel"){if(this.q)this.H$(this.q.data,D);this.q=null}if(l.q=="confirm"){if(this.q)D.kE(this.q);
p.MW.Hj(o,this.sw);this.q=null}};p.Xq.prototype.AP=function(l){return{$:l>>>16,H:l>>>8&255,J:l&255}};
p.Xq.prototype.alp=function(l,o,D,H){if(this.iT==null){var _=at.jk(l.xi,l.zh);this.iT=p.MW.getData(D,_.x!=0||_.y!=0,l.xi=="VaPo"?[{hR:l.Ao[1]}]:null)}if(l.q=="edit"){var u=JSON.stringify(l.zh);
if((l.zh==null||u!=this.$b)&&l.gF!=!0)for(var v=0;v<this.iT.length;v++){var S=this.iT[v],h={rect:S.hR,buffer:S.L0},F={rect:S.hR,buffer:S.DH};
if(l.xi=="Avrg"&&S.gy){h.buffer=S.L0.slice(0);g.NY(S.gy,h.buffer)}at.Ok(l.xi,h,l.zh,this.AP(H.Os),this.AP(H.qg),F,[D.add.lnk2?D.add.lnk2:[],D.R[D.T[0]].KQ(),D.Lx,D.CS()]);
if(l.xi=="VaPo"){g.Qo(l.Ao[0],l.Ao[1],F.buffer,F.rect)}if(l.xi=="Avrg"&&S.gy){var n=S.L0.length;for(var v=0;
v<n;v+=4)S.DH[v+3]=S.L0[v+3]}this.$b=u}p.MW.Y7(D,this.iT,l.gF)}if(l.q=="cancel"){p.MW.a98(D,this.iT);
this.iT=null;this.$b=null}if(l.q=="confirm"){if(l.xi=="VaPo"){this.iT.as2=JSON.stringify(D.gQ);this.iT.ga=JSON.stringify(l.P);
D.gQ=l.P}p.MW.gH(D,this.iT,at.names[l.xi],this);this.iT=null;this.$b=null;p.MW.Hj(o,this.sw)}D.V();D.aH=!0};
p.Xq.prototype.H$=function(l,o){if(l.ga)o.gQ=JSON.parse(l.as2);if(l.ol){var D=o.R[l.ol.U];if(l.nZ)o.GB(l.nZ);
if(l.dP)o.f=l.dP;D.add.SoLd=JSON.parse(JSON.stringify(l.aD1));if(D.pn())D.jQ(o);else{D.mP(o);D.Ih=0}}else p.MW.xv(o,l);
o.V();o.aH=!0};p.Xq.prototype.j1=function(l,o){if(l.ga)o.gQ=JSON.parse(l.ga);if(l.ol){var D=o.R[l.ol.U];
if(l.nZ)o.Cy(l.nZ);if(l.dP)o.f=null;D.add.SoLd=JSON.parse(JSON.stringify(l.aw3));if(D.pn())D.jQ(o);else D.mP(o);
if(!D.fI())D.XL+=32}else p.MW.xv(o,l);o.V();o.aH=!0};p.Xq.prototype.P7=function(l){return l.ol==null?p.MW.P7(l):0};
var is={CV:"0",ON:"1",z1:"2",x8:"3",ha:"3.5",E9:"4",om:"5",ke:"6",UB:"7",r:"8",p2:"8.5",Ln:"8.8",YL:"9",Oe:"10",MV:"11",Eq:"12",J0:"13",_b:"14",ml:"15",mG:"16",Ep:"17",ni:"18",rY:"21",nq:"22",a7:"23",HK:"23.0",L_:"23.1",Go:"23.2",uw:"23.3",MU:"23.4",s2:"23.5",YY:"23.6",a7E:"30",VL:"31",Tj:"40",TF:"41",pe:"42"};
is.wx={};is.wx[is.ON]=["abr","brushes",hW,[9,3],3];is.wx[is.z1]=["grd","gradients",eB,[12,37],4];is.wx[is.x8]=["shc","contours",aX,[12,21],0];
is.wx[is.ha]=["acv","curves",hR,[4,2],0];is.wx[is.E9]=["asl","styles",eF,[12,22],5];is.wx[is.om]=["pat","patterns",it,[12,62],6];
is.wx[is.ke]=["csh","shapes",dV,[12,77],7];is.wx[is.UB]=["aco","swatches",gr,[9,8],0];is.wx[is.r]=["atn","actions",aM,[9,9],2];
is.wx[is.p2]=["tpl","tpresets",b7,[9,12],0];is.wx[is.Ln]=["icc","profiles",ik,"LUTs",8];function fL(l,o,D){if(D==null)D=!1;
this.name=l;this.S=o;this.OM=D;this.data=null;this.amJ=Date.now()}fL.prototype.P7=function(){return this.S?this.S.P7(this.data):0};
var bt={};bt.NA=function(l,o){var D={t:"Clss",v:{classID:l}};if(o)D={t:"Enmr",v:{classID:l,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[D]}};bt.A9=function(l,o){var D={classID:"Lyr"};D[l]=o;return{vS:"set",M1:{classID:"null",null:bt.NA("Lyr",!0),T:{t:"Objc",v:D}}}};
bt.awJ=function(l,o,D,H,_){var u=new jJ(k.E.yT,!0),S=[],v=0,h=bt.EW(o,D,H,S);while(S.length!=0){var F=S.pop();
v++;if(!F.e)continue;console.log(v-1);if(F.vS=="conditional"){var n=l.R[l.T[0]],R=F.M1.null.v.Cndt,s=!1;
if(R=="Bckg")s=!1;else if(R=="Pxel"&&l.o_(!1))s=!0;else if(R=="Adjs"&&jW.get(n.add))s=!0;else if(R=="Shp"&&n.add.vogk)s=!0;
else if(R=="Grup"&&n.Cl())s=!0;else if(R=="Opn"&&l!=null)s=!0;else if(R=="32Bt")s=!1;else if(R=="RGB")s=!0;
var Z=F.M1.then,O=F.M1.else;if(s&&Z)bt.EW(o,Z.v[0].v.val,Z.v[1].v.val,S);if(!s&&O)bt.EW(o,O.v[0].v.val,O.v[1].v.val,S)}else if(F.vS=="stop"){if(F.M1.Cntn&&F.M1.Cntn.v==!0)window.confirm(F.M1.Msge.v);
else{alert(F.M1.Msge.v);break}}else if(F.vS=="play"){var w=F.M1.null.v,m=new jJ(k.E.b,!0);m.data={q:k.L.yM,Jl:[w[0].v.val,w[1].v.val]};
_.A(m)}else{u.data={vS:F.vS,M1:F.M1};_.A(u)}}};bt.BX=function(l,o,D){var H;for(var v=0;v<l.length;v++){if(l[v].ND!=D)continue;
var _=l[v].T3;for(var u=0;u<_.length;u++){if(_[u].ND!=o)continue;H=_[u]}}return H};bt.EW=function(l,o,D,H){var _=bt.BX(l,o,D).T3,u=_.length;
for(var v=0;v<u;v++)H.push(_[u-1-v])};bt.an7=function(l){var o=l.vS,D=l.M1,H,S,h,F,n;if(D&&D.null)H=D.null.v[0];
if(D&&H==null&&D.At)H=D.At.v[0];if(H&&H.t=="obj ")H=H.v[0];var _=H&&H.v?H.v.classID:null,u=["purge"];
if(u.indexOf(o)!=-1)return o[0].toUpperCase()+o.slice(1);if(o=="GEfc"||o=="paintDaubs")return kL.names[D.GEfk.v.GEft][1];
n=jW.AW;for(S in n)if(n[S]==o)h=S;n=at.AW;for(S in n)if(n[S]==o)F=S;n=at.AW;for(S in n)if(S==o)F=S;if(h){var R=jW.Ny(h,D);
if(R!=-1)return[4,16,R];return jW.names[h]}if(F)return at.names[F];var s=bt.ats;if(o=="make"){if(H){if(_=="AdjL")return[6,1];
else if(_=="layerSection")return D.From?[6,9]:[6,20];else if(_=="Lyr")return[6,13];else if(_=="Chnl"&&H.v.enum=="Msk")return[6,2];
else if(_=="contentLayer")return[6,48,1];else if(_=="BckL")return"Make Background Layer";else if(_=="Path")return"Make Path";
else if(_=="TxLr")return"Make Text Layer";else if(_=="slice")return"Make Slices";else if(_=="Dcmn")return[11,7];
else if(_=="Gd")return[23,4]}if(D.Nw){_=D.Nw.v.classID;if(_=="Dcmn")return[11,7];else if(_=="Chnl"||_=="SCch")return"New Channel"}}else if(o=="deselect"){if(_=="Path")return"Deselect current path";
else throw _}else if(o=="draw"){return"Draw"}else if(o=="select"){if(_=="Chnl"){var Z={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[H.v.enum];
if(Z==null)Z="";return"Select "+Z+" Channel"}else if(_=="Mn")return"Select Panel \""+H.v.enum+"\"";else if(_=="Lyr"){if(H.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[H.v.enum]+" Layer";
return"Select Layer \""+H.v.val+"\""}else if(_=="Path")return"Select Path";else if(_=="Brsh")return"Select Brush";
else if(_=="Dcmn")return"Select Document"}else if(s[o]&&_=="Chnl"){var O=H.v.keyID=="fsel";return s[o]+" "+(O?"Selection":"Channel")}else if(o=="set"){if(_=="Lyr")return"Set Current Layer";
else if(_=="AdjL")return[6,39];else if(_=="contentLayer")return[6,48,2];else if(_=="Prpr"){var w=H.v.keyID;
if(w=="TxtS")return"Set Text Style";else if(w=="paragraphStyle")return"Set Paragraph Style";else if(w=="Lefx")return[11,6];
else console.log(w)}else if(_=="Clr")return"Set "+(H.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(_=="Brsh")return"Set Brush";else if(_=="Path")return"Set Work Path";else console.log(_)}else if(o=="move"){if(_=="Lyr")return"Move Layer";
else if(_=="Chnl"&&H.v.keyID=="fsel")return[7,7];else console.log(_)}else if(o=="show"||o=="hide"){var m="";
if(_=="Lyr")m="Layer";if(_=="Chnl")m="Channel";if(_=="filterFX")m="Filter Effect";return(o=="show"?"Show":"Hide")+" "+m}else if(o=="reset"){if(_=="Clr")return"Reset Colors"}else if(o=="exchange"){if(_=="Clr")return[22,7,0]}else if(o=="rotateEventEnum")return[2,5];
else if(o=="flip"){var V=D.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,V?2:3]]}if(o=="duplicate"&&_=="Dcmn")return"Duplicate first document";
if(_=="Chnl"){if(o=="duplicate"){if(H.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(o=="delete")return"Delete Channel"}if(o=="transform")return H&&H.v.keyID=="fsel"?[7,10]:[10,16];
var q={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:D?_=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},i=q[o];
if(i==null)i=bt.aB6[o];if(i)return i;return o};bt.aB6={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
bt.ats={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
bt.adV=function(l,o,D,H){var _=l.vS,u=l.M1,S=!1,h=new jJ(k.E.r,!0),s,Z,O,w;h.S=p.wU;var F=new jJ(k.E.b,!0),n=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(n.indexOf(_)!=-1)return;var R=_;while(R.length<4)R+=" ";w=jW.AW;for(s in w)if(w[s]==R)Z=s;w=at.AW;
for(s in w)if(w[s]==R)O=s;w=at.AW;for(s in w)if(s==R)O=s;if(_=="fade")Z=_;if(_=="matchColor")Z="matc";
if(_=="applyImageEvent")Z="aply";if(Z){h.S=p.xw;h.data={q:"start",PN:Z,zh:u}}else if(O){h.S=p.tF;h.data={q:"start",xi:O,zh:u}}else if(_=="GEfc"||_=="paintDaubs"){h.S=p.tF;
h.data={q:"start",xi:"GEfc",zh:u}}else if(_=="imageSize"||_=="canvasSize"||_=="revealAll"||_=="trim"||_=="crop"){h.S=p._a;
h.data={q:"fromAction",KL:l}}else if(_=="fill"||_=="stroke"||_=="delete"&&u==null){var m=null;if(H.T.length!=0)m=H.R[H.T[0]];
var V=g.kJ(D.Os);if(m!=null&&_=="fill"&&m.add.TySh){var q="var c = new SolidColor();  c.rgb.red="+V.$+";  c.rgb.green="+V.H+";  c.rgb.blue="+V.J+";  app.activeDocument.activeLayer.textItem.color = c;";
F.data={q:k.L.BS,v_:q}}else if(m!=null&&_=="delete"&&m.add.TySh){h.S=p.gg;h.data={q:"insertText",P:""}}else if(m!=null&&_=="fill"&&m.RR()){var h=new jJ(k.E.yT,!0),u={classID:"setd",null:bt.NA("contentLayer",!0),T:{t:"Objc",v:{}}};
p.yZ.pu({Clr:{t:"Objc",v:g.G.XF(g.kJ(D.Os))}},u.T.v,0);h.data={vS:"set",M1:u};o.A(h);return}else if(_=="stroke"&&u&&u.null==null){h.S=p.Ix;
h.data={q:"stroke",ayD:u}}else{if(_=="stroke"&&u&&u.Usng)h.S=p.AW[u.Usng.v.classID];else h.S=D.Bq==p.eh?p.eh:p.ON;
h.data={q:"fromAction",KL:l}}}else if(_=="colorRange"||_=="grow"||_=="similar"){h.S=p.i$;h.data={q:"fromAction",KL:l}}else if(_=="set"&&u&&u.T&&u.T.v.Ordn=="Al"&&D.Bq==p.gg&&o.fX().Iu()){h.S=p.gg;
h.data={q:"selectAll"}}else if(bt.aB6[_]||bt.ats[_]&&(!1||u.With&&u.With.v[0].v.keyID=="fsel"||u.From&&u.From.v[0].v.keyID=="fsel"||u.null&&u.null.v[0].v.keyID=="fsel"||u.T.v[0]&&u.T.v[0].v.keyID=="fsel")){h.S=p.lO;
h.data={q:"fromAction",KL:l}}else if(_=="rasterizeLayer"){h.data={q:u.What?d.a7n:d.$q}}var i={copyToLayer:d.nA,cutToLayer:d.aE,mergeLayersNew:d.$v,mergeVisible:d.Ae,flattenImage:d.apE,newPlacedLayer:d.DC};
if(i[_])h.data={q:i[_],M1:u};if(h.data){o.A(h);return}if(_=="collapseAllGroupsEvent"){for(var v=0;v<H.R.length;
v++){var m=H.R[v];if(m.Cl())m.add.lsct=jl.qb}H.LD=!0;return}if(_=="desaturate"||_=="Dstt"){h.S=p.xw;
h.data={q:"auto",AQ:3};if(H&&H.R[H.T[0]].add.SoLd==null)o.A(h);return}if(_=="close"){if(u&&u.Svng.v.YsN=="Ys"){F.data={q:k.L.D9};
o.A(F)}F.data={q:k.L.ZT,p7:H};o.A(F);return}if(_=="save"){F.data={q:k.L.D9};o.A(F);return}if(_=="copyMerged"){F.data={q:k.L.T0,jM:!0,u1:!0};
o.A(F);return}if(_=="placedLayerReplaceContents")F.data={q:k.L.z4,BE:!0};var i={placedLayerEditContents:k.L.am4,placedLayerExportContents:k.L.a4x,copyEvent:k.L.T0,paste:k.L.ZZ};
if(i[_])F.data={q:i[_],u1:!0};if(F.data){o.A(F);return}var c=u.null?u.null.v:null,z=c?c[0].v.classID:"";
if(_=="make"){if(u.null==null&&u.Nw)z=u.Nw.v.classID;if(z=="AdjL"){h.data={q:d.eL,M1:u}}else if(z=="layerSection"){h.data=u.From?{q:d.up}:{q:d.MO};
if(u.Usng){var B=u.Usng.v;if(B.Nm)h.data.U3=B.Nm.v;if(B.Clr)h.data.wW=bt.So(B)}}else if(z=="Lyr"){if(u.Usng&&u.Usng.v.length==2)h.data={q:d.a96};
else{h.data={q:d.On};if(u.Usng)h.data.U3=u.Usng.v.Nm.v;if(u.below&&u.below.v)h.data.akY=!0}}else if(z=="Chnl"&&u.At&&u.At.v[0].v.enum=="Msk"){h.data={q:d.J3,PT:u.Usng.v.UsrM}}else if(z=="Chnl"||z=="SCch"){h.data={q:d.O$,i6:"fromAction",P:l}}else if(z=="contentLayer"){h.data={q:d.Q$,M1:u}}else if(z=="BckL"){H.R[H.T[0]].aiA();
return}else if(z=="Dcmn"){if(u.Nw==null)return;var t=u.Nw.v;F.data={q:k.L.r8,nL:f9.adc(t,D)}}else if(z=="Ptrn")F.data={q:k.L.W2,au:0};
else if(z=="Path"){var a=u.At;if(a&&a.v&&a.v[0]&&a.v[0].v&&a.v[0].v.enum=="vectorMask"){h.S=p.wU;var I=u&&u.Usng&&u.Usng.v.vectorMaskEnabled=="RvlA";
h.data={q:d.su,a1:!I}}else{h.S=p.md;h.data={q:"pathedit",i6:"fromsel"}}}else if(z=="TxLr"){h.S=p.gg;
h.data={q:"fromAction",KL:l}}else if(z=="slice"){h.S=p.LN;h.data={q:"fromAction",KL:l}}else if(z=="Gd"){var N=[[],[]],t=u.Nw.v;
N[t.Ornt.v.Ornt=="Vrtc"?0:1].push(t.Pstn.v.val);var J=gG.yB(N);p.JI.aN(J,H.we());h.S=p.e5;h.data={q:"gids",fY:J}}else{console.log(_,z,u);
throw"e"}}else if(_=="divide"){h.S=p.LN;h.data={q:"fromAction",KL:l}}else if(_=="deselect"){if(z=="Path"){H.dZ=[];
H.Vl=[];H.LD=H.st=!0;return}else throw z}else if(_=="selectNoLayers"){H.T=[];H.aH=!0}else if(_=="selectAllLayers"){H.T=[];
for(var v=0;v<H.R.length;v++)H.T.push(v);H.aH=!0;return}else if(_=="select"){var Q=p.AW;if(z=="Lyr"){var A=u.selectionModifier,f=A?A.v.selectionModifierType:null,W=bt.tO(H,c[0]),C=0;
if(W==-1){alert("Layer "+c[0].v.val+" does not exist.");return}var m=H.R[W];if(m.Cl()&&m.KQ()&&A==null)C=1;
h.data={q:d.eH,U:W,Oz:f?["addToSelection","addToSelectionContinuous"].indexOf(f):null,G$:C}}else if(z=="Path"){if(c[0].v.keyID=="WrPt"){H.dZ=[0];
H.LD=H.st=!0;return}else throw c[0]}else if(z=="Chnl"){var j=c?c[0].v.enum:"",K=["Rd","Grn","Bl"].indexOf(j);
if(K!=-1){var $=u.Extd&&u.Extd.v?H.w.N.slice(0):[0,0,0];$[K]=1;h.S=p.ap;h.data={q:"setcls",N:$}}else h.data={q:d.eH,U:W,G$:j=="RGB"?0:1}}else if(z=="Dcmn"){if(o.GX.length<2)return;
F.data={q:k.L.a1j,dir:u.null.v[0].v.val}}else if(z=="Brsh"){var r=D.YQ.list,U;for(var v=0;v<r.length;
v++){if(r[v].v.Nm.v.split("/").pop()==c[0].v.val)U=r[v].v}if(D.Bq==p.e5){F.data={q:k.L.BC,S:p.ON};o.A(F)}F.data={q:k.L.lN,au:is._b,by:U}}else if(z=="Mn"){if(c[0].v.enum=="Scl")F.data={q:k.L.BC,S:p.rk,Bt:{PT:3}};
if(c[0].v.enum=="Plce")F.data={q:k.L.z4,ado:!0};if(c[0].v.enum=="ZmIn"){h.S=p.Nk;h.data={q:"zoom",j8:!0}}if(c[0].v.enum=="ZmOt"){h.S=p.Nk;
h.data={q:"zoom",j8:!1}}if(c[0].v.enum=="FtOn"){h.S=p.Nk;h.data={q:"adapt",P:"fitscr"}}}else if(Q[z]){F.data={q:k.L.BC,S:Q[z]}}else throw z}else if(_=="draw"){h.S=p.md;
h.data={q:"fromAction",KL:l}}else if(_=="gradientClassEvent"){h.S=p.ht;h.data={q:"fromAction",KL:l}}else if((_=="set"||_=="reset"||_=="exchange")&&z=="Clr"){F.data={q:k.L.lN,au:is.rY,i6:_=="reset"?3:2};
if(_=="set"){F.data.i6=c[0].v.keyID=="FrgC"?0:1;var b=g.G.s3(u.T.v);F.data.P=b.$<<16|b.H<<8|b.J}}else if(_=="set"){if(z=="AdjL"){var e=u.T.v.classID;
e=jW.fN[e];h.S=p.xw;if(e)h.data={q:"edit_layer",P:u.T.v}}else if(z=="Lyr"){var P=u.T.v,W=bt.tO(H,c[0]);
for(var L in P){if(L=="classID")continue;h.S=p.wU;if(L=="Nm")h.data={q:d.Fh,name:P.Nm.v};else if(L=="Opct")h.data={q:d.xI,zc:Math.round(P.Opct.v.val*255/100)};
else if(L=="fillOpacity")h.data={q:d.th,zc:Math.round(P.fillOpacity.v.val*255/100)};else if(L=="Md")h.data={q:d.N9,zc:b2.cu.indexOf(P.Md.v.BlnM)+(H.R[W].Cl()?1:0)};
else if(L=="Usrs")h.data={q:d.al,U:W};else if(L=="Blnd"){h.S=p.AM;h.data={q:"setstl",U:W,P:{blendOptions:{t:"objc",v:P}}};
o.A(h);h.data={q:"confirm",U:W}}else if(L=="userMaskFeather"||L=="userMaskDensity"){var Y=P.userMaskFeather,X=P.userMaskDensity,W=H.T[0],G=H.R[W].p1(0);
if(Y)G.$Y=Y.v.val;if(X)G.mb=X.v.val;h.data={q:d.MT,nr:W,BB:G}}else if(L=="Clr"){var V=bt.So(P);h.data={q:d.V0,aBk:V}}else if(L=="Lefx")bt.a6p(o,W,P.Lefx.v,D);
else{console.log(u);throw L}if(h.data){o.A(h);delete h.data}}h.data={};var m=H.R[W];m.a46()}else if(z=="Prpr"){var P=JSON.parse(JSON.stringify(u.T.v)),W=bt.tO(H,u.null.v[1]),m=H.R[W],E=c[0].v.keyID;
if(E=="TxtS"||E=="paragraphStyle"){var T=m.add.TySh,y=JSON.parse(JSON.stringify(T.PF)),d4=fX.PZ(y),dH=fX.eF(y,0,d4.length-2);
if(E=="TxtS")fX.a2O(P,dH);else fX.an2(P,dH);fX.fn(y,0,d4.length-1,dH);h.S=p.gg;h.data={q:"newED",S3:W,gP:y}}else if(E=="Lefx"){for(var eV in P)if(P[eV].v){if(eV=="Scl")P[eV].v.val=100}bt.a6p(o,W,P,D);
h.data={}}else throw E}else if(z=="contentLayer"){var W=bt.tO(H,c[0]),P=u.T.v,bf=!0;if(P.classID=="shapeStyle"){if(P.strokeStyle){P=P.strokeStyle.v;
bf=!1}else P=P.FlCn.v}if(bf){var i5={solidColorLayer:0,gradientLayer:1,patternLayer:2}[P.classID],fD=cq.ty(H.R[W].add),O=fD.hM==i5+1?fD.E6:cq.lJ[i5];
O=JSON.parse(JSON.stringify(O));p.yZ.pu(P,O,i5);h.data={q:d.k1,Zl:[W],Dc:!0,P:{hM:i5+1,E6:O}}}else{var eo=JSON.parse(JSON.stringify(H.R[W].add.vstk));
for(var eV in P)eo[eV]=P[eV];h.data={q:d.k1,Zl:[W],Dc:!1,P:eo}}}else if(z=="Brsh"){var U=JSON.parse(JSON.stringify(D.YQ.Wj)),iX=u.T.v;
if(iX.masterDiameter)U.Brsh.v.Dmtr.v.val=iX.masterDiameter.v.val;else console.log("unknown brush parameters");
F.data={q:k.L.lN,au:is._b,by:U}}else if(z=="Path"){h.S=p.md;h.data={q:"fromAction",KL:l}}else{console.log(c[0],u);
throw z}}else if(_=="move"){if(z=="Lyr"){var P=u.T.v;if(P.classID=="Ofst"){h.data={q:"trsl",iq:P.Hrzn.v.val,QF:P.Vrtc.v.val};
h.S=p.e5}else{var cK,g0;if(P[0].t=="Enmr"){if(P[0].v.enum=="Frnt")g0=0;else if(P[0].v.enum=="Nxt")g0=1;
else if(P[0].v.enum=="Prvs")g0=2;else if(P[0].v.enum=="Back")g0=3;else throw"e"}else cK=P[0].v.val;h.data={q:d.sj,target:cK,i6:g0,ajp:u.Dplc?u.Dplc.v:!1}}}else if(z=="Chnl"&&c[0].v.keyID=="fsel"){h.S=p.lO;
h.data={q:"fromAction",KL:l}}}else if(_=="groupEvent"||_=="ungroup")h.data={q:d.JK};else if(_=="show"||_=="hide"){var bW=u.null.t;
if(bW=="obj "){if(c[0].v.val!=null)h.data={q:d.uL,index:c[0].v.val-1};else h.data={q:d.ws}}else if(bW=="VlLs"){var z=c[0].v[0].v.classID;
if(z=="Chnl")h.data={q:d.O$,i6:"fromAction",P:l};else{var hF=z=="filterFX"?c:c[0].v;for(var v=0;v<hF.length;
v++){if(z=="filterFX")h.data={q:d.uL,index:hF[v].v[0].v.val-1};else{var W=bt.tO(H,hF[v]),aJ=H.R[W].zd();
if(_=="show"&&aJ||_=="hide"&&!aJ)continue;h.data={q:d.B4,Zl:[W]}}o.A(h)}return}}else throw bW}else if(_=="rotateEventEnum"){h.S=z=="Lyr"?p.rk:p._a;
var iR=u.Angl.v.val;h.data={q:"rot",ND:[2,5],P:-iR*Math.PI/180}}else if(_=="flip"){h.S=z=="Lyr"?p.rk:p._a;
var ex=u.Axis.v.Ornt=="Hrzn",dX=ex?new he(-1,1):new he(1,-1);h.data={q:"scl",ND:[[2,6],[22,4,ex?2:3]],P:dX}}else if(_=="transform"){var iZ=1,j3=1,by=0,i9=0,dm=0,kh=0,jK=0,aq=null,e3=null;
if(u.Wdth)iZ=u.Wdth.v.val/100;if(u.Hght)j3=u.Hght.v.val/100;if(u.Skew){var bd=u.Skew.v;by=bd.Hrzn.v.val;
i9=bd.Vrtc.v.val}if(u.Ofst){var dz=u.Ofst.v;kh=dz.Hrzn.v.val;jK=dz.Vrtc.v.val}if(u.Angl)dm=u.Angl.v.val;
var dw=new de;dw.concat(new de(iZ,iZ*Math.tan(i9*Math.PI/180),j3*Math.tan(by*Math.PI/180),j3,0,0));dw.rotate(-dm*Math.PI/180);
dw.translate(kh,jK);var ev=g.t.Lw(dw);if(u.Usng){var dz=u.Usng.v;ev[6]=dz.Hrzn.v.val/100;ev[7]=dz.Vrtc.v.val/100}var a9=u.FTcs.v.QCSt;
if(a9=="Qcsi"){var e0=u.Pstn.v;aq=new he(e0.Hrzn.v.val,e0.Vrtc.v.val)}else e3=p.cA.aop[a9];var c=u.null;
if(c&&c.v instanceof Array)c=c.v[0];var W=c?bt.tO(H,c):null;if(W==-1)W=null;h.S=c&&c.v.keyID=="fsel"?p.Cu:p.rk;
h.data={q:"dtr",_E:e3,P:ev,oE:u.warp,a5M:aq}}else if(_=="duplicate"){if(z=="Chnl")h.data={q:d.O$,i6:"fromAction",P:l};
else if(z=="Dcmn"){var as=fj.rU("PSD").MJ(H);iT.MA({url:H.name},as,o);return}else if(z=="Actn"){var eK=D.Pg,gh=c[1].v.val,gx=null;
for(var v=0;v<eK.length;v++)if(eK[v].ND==gh)gx=eK[v];var gc=bt.BX(eK,c[0].v.val,gh);gc=JSON.parse(JSON.stringify(gc));
gc.ND+=" copy";gx.T3.push(gc);return}else h.data={q:d.r$,U3:u.Nm?u.Nm.v:null}}else if(_=="delete"){if(z=="filterFX"){if(c[0].v.val!=null)h.data={q:d.ou,V9:c[0].v.val-1};
else h.data={q:d.io}}else if(z=="Path"){h.S=p.md;h.data={q:"pathedit",i6:"del"}}else if(z=="Lyr")h.data={q:d.C_};
else if(z=="Chnl"&&c[0].v.enum=="Msk")h.data={q:d.cR};else if(z=="Chnl")h.data={q:d.O$,i6:"fromAction",P:l};
else if(z=="Cmnd"){var eK=D.Pg,gh=c[2].v.val,gc=bt.BX(eK,c[1].v.val,gh);gc.T3.splice(c[0].v.val-1,1);
return}else if(z=="Actn"){var eK=D.Pg,gh=c[1].v.val,gx=null;for(var v=0;v<eK.length;v++)if(eK[v].ND==gh)gx=eK[v];
var gc=bt.BX(eK,c[0].v.val,gh);gx.T3.splice(gx.T3.indexOf(gc),1);return}else throw z}else if(_=="align"){if(u.Aply&&u.Aply.v.projection=="Auto"){h.S=p._a;
h.data={q:"auto-align"}}else{h.S=p.e5;var kQ=u.Usng.v.ADSt,Z={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[kQ];
if(Z==null)throw kQ;h.data={q:"algn",P:Z}}}else if(_=="applyLocking"){var dn=u.layerLocking.v,bQ;if(dn.protectTransparency)bQ=[[dn.protectTransparency.v],[0]];
else if(dn.protectNone)bQ=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(dn);throw"e"}h.data={q:d.aA,zc:bQ}}if(h.data)o.A(h);
else if(F.data)o.A(F);else{console.log(l);alert("Unknown action \""+_+"\"");throw"e"}};bt.a6p=function(l,o,D,H){D=JSON.parse(JSON.stringify(D));
aN.eC(D);if(D.masterFXSwitch==null)D.masterFXSwitch={t:"bool",v:!0};console.log(D);var _=cq.lZ;for(var u=0;
u<_.length;u++)if(D[_[u]]){for(var v=0;v<D[_[u]].v.length;v++){var S=D[_[u]].v[v].v;for(var h=0;h<2;
h++){var F=S[h==0?"TrnS":"MpgS"];if(F&&F.v.Crv==null){var n=F.v,R=n.Nm.v.split("=").pop(),s=H.bw;for(var Z=0;
Z<s.length;Z++){var O=s[Z].Nm.v.split("=").pop();if(O==R)n.Crv=JSON.parse(JSON.stringify(s[Z].Crv))}if(F.v.Crv==null){console.log(F);
throw"e"}}}}}var w=new jJ(k.E.r,!0);w.S=p.AM;w.data={q:"setstl",U:o,P:{Lefx:{t:"objc",v:D}}};l.A(w);
w.data={q:"confirm",U:o};l.A(w)};bt.So=function(l){var o={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[l.Clr.v.Clr];
if(o==null)throw l.Clr.v.Clr;return o};bt.tO=function(l,o){var D=1e6,H=0,_=l.R.length;for(var v=0;v<l.T.length;
v++){D=Math.min(D,l.T[v]);H=Math.max(H,l.T[v])}var u=o.t,S=-1;if(u=="name"){var h=o.v.val,S=-1;for(var v=0;
v<_;v++)if(l.R[v].getName()==h){S=v;break}}else if(u=="Enmr"){if(l.T.length!=0)S=l.T[0];if(o.v.enum=="Frwr")S=H+1;
if(o.v.enum=="Bckw")S=D-1;if(o.v.enum=="Back")S=0;if(o.v.enum=="Frnt")S=_-1;S=(S+_)%_}else if(u=="prop"){if(o.v.keyID=="Bckg")S=0}else if(u=="indx")S=o.v.val-1;
return S};var jW={};jW.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
jW.asJ=["expA","clrL","selc"];jW.jL=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];jW.aB8=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
jW.oA=[[13,1,1],[13,1,4],[13,1,5]];jW.m_={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
jW.fN=function(){var l=JSON.parse(JSON.stringify(jW.m_));delete l.GrMp;l.GdMp="grdm";return l}();jW.AW={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
jW.keys={levl:[e_.Cm,e_.Ct],curv:[e_.Cm,e_.mw],hue2:[e_.Cm,e_.fq],nvrt:[e_.Cm,e_.rv],blnc:[e_.Cm,e_.ED]};
jW.v$=function(l){var o=at.ts("mixr");o.Mnch={t:"bool",v:l.nD};function D(H,v){var _={classID:"ChMx"},u={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var S in u)_[S]={t:"UntF",v:{type:"#Prc",val:H[v+u[S]]}};return{t:"Objc",v:_}}if(l.nD)o.Gry=D(l.P,0);
else{o.Rd=D(l.P,0);o.Grn=D(l.P,5);o.Bl=D(l.P,10)}return o};jW.Db=function(l){function o(H,_,v){var u={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var S in u)if(H[S])_[v+u[S]]=H[S].v.val}var D={nD:!1,P:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(l.Mnch&&l.Mnch.v)D.nD=!0;if(D.nD)o(l.Gry.v,D.P,0);else{o(l.Rd.v,D.P,0);o(l.Grn.v,D.P,5);o(l.Bl.v,D.P,10)}return D};
jW.get=function(l){for(var o in jW.names)if(l[o]!=null)return o;return null};jW.Vz=function(l,o){var D=jW.sg,H;
if(l=="brit"){var _=o.Brgh?o.Brgh.v:0,u=o.Cntr?o.Cntr.v:0,S=o.useLegacy?o.useLegacy.v:!1;if(S){var h=_/255,F=1+u/100;
if(F>1)F=1+Math.tan(Math.PI/2*u/101);var n=(1-F)/2,R=g.JX.NB(h,h,h),s=[F,0,0,n,0,F,0,n,0,0,F,n,0,0,0,1],Z=g.JX.multiply(s,R),O=new g.Q9(256);
for(var v=0;v<256;v++)O.$[v]=v;g.JX.transform(O,O,Z);H={type:D.ME,LG:O.$,tw:O.$,BI:O.$,X9:!1,Gh:!1}}else{var w=1024,m=-30+60*(u+100)/200,V=[];
for(var v=0;v<4;v++)V.push(g.SA.ll(v/3*255,v/3*255,!0));V[1].v.Hrzn.v=64;V[1].v.Vrtc.v=64-m;V[2].v.Hrzn.v=128+64;
V[2].v.Vrtc.v=128+64+m;V.sort(function(h7,ba){return h7.v.Hrzn.v-ba.v.Hrzn.v});var q=g.SA.KH(V,w);function i(h7,w){var V=[],kC=3;
for(var v=0;v<kC+1;v++)V.push(g.SA.ll(v/kC*255,v/kC*255,!0));V[1].v.Hrzn.v=130-h7*26;V[1].v.Vrtc.v=130+h7*51;
V[2].v.Hrzn.v=233-h7*48;V[2].v.Vrtc.v=233+h7*10;return g.SA.KH(V,w)}var c=i(Math.abs(_)/100,w);if(_<0){var z=[],B=1/w;
for(var v=0;v<w;v++){var t=v*B,a=v;while(c[a]>t&&a>1)a--;z[v]=a*B}c=z}var I=new Uint8Array(w);for(var v=0;
v<w;v++){var N=Math.round((w-1)*c[v]);I[v]=Math.round(255*q[N])}H={type:D.ME,LG:I,tw:I,BI:I,X9:!1,Gh:!1}}}if(l=="levl"){var J=[],Q,A,R,f,W,C;
for(var v=0;v<4;v++)J.push(el.$m(o,v));Q=-J[0][0]/255;A=1/(J[0][1]/255-J[0][0]/255);R=g.JX.multiply(g.JX.Xu(A,A,A),g.JX.NB(Q,Q,Q));
f=g.JX.Xu(1/(J[1][1]/255-J[1][0]/255),1/(J[2][1]/255-J[2][0]/255),1/(J[3][1]/255-J[3][0]/255));W=g.JX.NB(-J[1][0]/255,-J[2][0]/255,-J[3][0]/255);
C=g.JX.multiply(f,W);var I=new g.Q9(256);for(var v=0;v<256;v++)I.$[v]=I.H[v]=I.J[v]=v;var j=1/(J[0][4]/100),K=1/(J[1][4]/100),$=1/(J[2][4]/100),r=1/(J[3][4]/100);
g.JX.transform(I,I,C);for(var v=0;v<256;v++){I.$[v]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.$[v]/255,K))));
I.H[v]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.H[v]/255,$))));I.J[v]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.J[v]/255,r))))}g.JX.transform(I,I,R);
for(var v=0;v<256;v++){I.$[v]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.$[v]/255,j))));I.H[v]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.H[v]/255,j))));
I.J[v]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.J[v]/255,j))))}Q=J[0][2]/255;A=J[0][3]/255-J[0][2]/255;
R=g.JX.multiply(g.JX.NB(Q,Q,Q),g.JX.Xu(A,A,A));f=g.JX.Xu(J[1][3]/255-J[1][2]/255,J[2][3]/255-J[2][2]/255,J[3][3]/255-J[3][2]/255);
W=g.JX.NB(J[1][2]/255,J[2][2]/255,J[3][2]/255);C=g.JX.multiply(W,f);g.JX.transform(I,I,g.JX.multiply(R,C));
H={type:D.ME,LG:I.$,tw:I.H,BI:I.J,X9:!1,Gh:!1}}if(l=="curv"){var U=hR.$m(o,0).length==256?1:0,b=[];if(U==0){var e=g.SA.d0(hR.$m(o,0),256);
for(var v=1;v<4;v++){var P=g.SA.d0(hR.$m(o,v),256);b.push(g.SA.avs(P,e))}}else{var L=[];for(var v=0;
v<4;v++){var Y=new Uint8Array(256);L.push(Y);var X=hR.$m(o,v);for(var a=0;a<256;a++)Y[a]=X[a]}for(var v=1;
v<4;v++)b.push(g.SA.avs(L[v],L[0]))}H={type:D.ME,LG:b[0],tw:b[1],BI:b[2],X9:!1,Gh:!1}}if(l=="expA"){var G=o.Exps,E=o.Ofst,T=o.gammaCorrection,y=G?G.v:0,d4=E?E.v:0,dH=T?T.v:1,I=new Uint8Array(256);
for(var v=0;v<256;v++){var o=v/255,eV=Math.pow(Math.abs(d4),1/(Math.PI/2));if(d4>0){o=Math.max(d4/Math.E,o);
o=o*Math.exp(d4/1.75+y/Math.PI);o=(1-eV)*o+eV*1}else{o=o*Math.exp(-d4*1.75+y/Math.PI);o=o+-eV*1.14}o=Math.pow(o,1/dH);
o=Math.max(0,Math.min(1,o));I[v]=Math.round(o*255)}H={type:D.ME,LG:I,tw:I,BI:I,X9:!1,Gh:!1}}if(l=="vibA"){var bf=(o.vibrance?o.vibrance.v:0)/100,jd=(o.Strt?o.Strt.v:0)/100,eV=1+bf*(bf>0?.25:.5),i5=.8+.2/eV;
H={type:D._u,au:[bf,jd,i5,eV]}}if(l=="hue2"){var fD=[],eo=[],iX=[],cK=o.Clrz?o.Clrz.v:!1;for(var v=0;
v<256;v++){fD[v]=v/255;eo[v]=0;iX[v]=0}var g0=gT.$m(o,0),bW=jW.I2(g0[1]/100);if(cK){var hF=g0[0]/360;
for(var v=0;v<256;v++){fD[v]=hF;eo[v]=bW}}else{for(var v=0;v<256;v++){var aJ=fD[v],iR=eo[v];fD[v]+=g0[0]/360;
for(var a=0;a<6;a++){var ex=gT.$m(o,a+1),dX=ex.AZ,iZ=ex.Zz,eV=0;for(var j3=1;j3<4;j3++)if(iZ[j3]<iZ[0])iZ[j3]+=360;
var by=iZ[0],i9=iZ[1],dm=iZ[2],kh=iZ[3],jK=aJ*360;if(jK<iZ[0])jK+=360;var bd=(jK-by)/(i9-by),dz=(jK-dm)/(kh-dm);
if(bd<0)eV=0;else if(bd<1)eV=bd;else if(dz<0)eV=1;else if(dz<1)eV=1-dz;else eV=0;var F=jW.I2(dX[1]/100);
fD[v]+=eV*dX[0]/360;eo[v]+=eV*F;iX[v]+=eV*dX[2]/100}}for(var v=0;v<256;v++){eo[v]=(1+eo[v])*(1+bW)-1;
iX[v]=Math.max(-1,Math.min(1,iX[v]))}}var dw=new Uint8Array(256),ev=new Uint8Array(256),aq=new Uint8Array(256);
for(var v=0;v<256;v++){var e3=fD[v],jd=eo[v],a9=iX[v];if(e3>1)e3--;if(e3<0)e3++;jd=jW.aBL(jd);jd=(1+jd)*.5;
a9=(1+a9)*.5;dw[v]=Math.round(255*e3);ev[v]=Math.round(255*jd);aq[v]=Math.round(255*a9)}var e0=g0[2]/100,as=e0<0?-e0:e0,eK=e0<0?0:1;
H={type:D.Q6,a4h:dw,JW:ev,abX:aq,arU:as*eK,Wy:1-as,a7y:g0[2]/100,azr:cK?1:0}}if(l=="nvrt"){var I=new Uint8Array(256);
for(var v=0;v<256;v++)I[v]=255-v;H={type:D.ME,LG:I,tw:I,BI:I,X9:!1,Gh:!1}}if(l=="post"){var gh=o.Lvls.v,I=new Uint8Array(256),eV=gh/255.001,gx=255/(gh-1);
for(var v=0;v<256;v++)I[v]=Math.floor(v*eV)*gx;H={type:D.ME,LG:I,tw:I,BI:I,X9:!1,Gh:!1}}if(l=="grdm"){var gc=o.Grad.v,kQ=o.Rvrs,w=1024,dn;
if(gc.Clrs){var bQ=g.G.pD(gc,0,0);dn=g.G.a1h(gc,bQ,w,kQ?kQ.v:!1)}else{dn=g.G.a4X(gc,w,kQ?kQ.v:!1)}var iK=g.o(w),cJ=g.o(w),i1=g.o(w);
g.mA(dn,iK,0);g.mA(dn,cJ,1);g.mA(dn,i1,2);H={type:D.ME,LG:iK,tw:cJ,BI:i1,X9:!0,Gh:!1}}if(l=="selc"){var bu=new Float32Array(9*3*2),gi=o.HH,iv=o.Mthd?o.Mthd.v.CrcM=="Absl":!1;
for(var a=0;a<9;a++){var d0=a*6,af=je.$m(o,a),eY=af[0]/100,hV=af[1]/100,i$=af[2]/100,cz=af[3]/100;if(iv){bu[d0]=bu[d0+1]=bu[d0+2]=1;
bu[d0+3]=eY*(1+cz)+cz;bu[d0+4]=hV*(1+cz)+cz;bu[d0+5]=i$*(1+cz)+cz}else{bu[d0+0]=(1+eY)*(1+cz);bu[d0+1]=(1+hV)*(1+cz);
bu[d0+2]=(1+i$)*(1+cz)}}H={type:D.dr,aeu:bu}}if(l=="blwh"){var fk="Rd Yllw Grn Cyn Bl Mgnt".split(" "),H=[],ad=0,j0=0;
for(var v=0;v<6;v++)H.push(o[fk[v]].v);H.push(o.useTint.v,o.tintColor.v);var ee=[];for(var v=0;v<6;v++)ee.push((H[v]-50)/50);
var aC=g.G.s3(H[7]);aC.$/=255;aC.H/=255;aC.J/=255;var cI=g.UM(aC.$,aC.H,aC.J),a9=g.SV(g.Za(cI.B9,1,.5)),cZ=cI.lv*cI.zh;
if(a9==.5)ad=j0=.5;else{ad=cZ*(.5-a9)/(.5/a9-1);j0=1-cZ*(.5-a9)-1/(2*(1-a9));j0/=1-1/(2*(1-a9))}H={type:D.Mh,alv:ee,E8:H[6]?1:0,a1M:cI.B9,SV:a9,atr:cZ,AD:ad,a0o:j0}}if(l=="blnc"){var J=[],cX=["ShdL","MdtL","HghL"];
for(var v=0;v<3;v++){if(o[cX[v]]==null){J[v]=[0,0,0];continue}var gh=o[cX[v]].v,bY=gh[0].v/100,io=gh[1].v/100,et=gh[2].v/100,dR=o.PrsL==null||o.PrsL.v?(Math.min(bY,io,et)+Math.max(bY,io,et))/2:0;
J[v]=[bY-dR,io-dR,et-dR]}var b=[g.o(256),g.o(256),g.o(256)];for(var a=0;a<3;a++)for(var v=0;v<256;v++){var t=v*(1/255),dZ=0,m=0,jh=0;
m=J[2][a];jh=Math.abs(m);if(m<0)dZ=Math.pow(t,Math.SQRT2);else dZ=1.63*(Math.pow(t+.04,.5)-.2);t=jh*dZ+(1-jh)*t;
m=J[1][a];jh=Math.abs(m);if(m<0)dZ=Math.pow(t,2);else dZ=Math.min(2.35*(Math.pow(t+.09,.5)-.3),Math.pow(t,1/2));
t=jh*dZ+(1-jh)*t;m=J[0][a];jh=Math.abs(m);if(m<0)dZ=t<.4?0:Math.pow((t-.4)/.6,Math.SQRT2);else dZ=Math.pow(t,Math.SQRT2/2);
t=jh*dZ+(1-jh)*t;t=Math.max(0,Math.min(1,t));b[a][v]=Math.round(t*255)}H={type:D.ME,LG:b[0],tw:b[1],BI:b[2],X9:!1,Gh:!1}}if(l=="phfl"){var co=g.G.s3(o.Clr.v),h3=[co.$/255,co.H/255,co.J/255],b1=o.Dnst.v/100,b=[g.o(256),g.o(256),g.o(256)];
for(var a=0;a<3;a++)for(var v=0;v<256;v++){var t=v*(1/255),ij=t*h3[a];ij=Math.max(0,Math.min(1,ij));
t=b1*ij+(1-b1)*t;b[a][v]=Math.round(t*255)}H={type:D.ME,LG:b[0],tw:b[1],BI:b[2],X9:!1,Gh:o.PrsL.v}}if(l=="thrs"){var I=g.o(256);
for(var v=o.Lvl.v;v<256;v++)I[v]=255;H={type:D.ME,LG:I,tw:I,BI:I,X9:!0,Gh:!1}}if(l=="mixr"){var h0=jW.Db(o),Z=[];
for(var v=0;v<h0.P.length;v++)if(v%5!=3)Z.push(h0.P[v]/100);if(h0.nD){for(var gn=1;gn<3;gn++)for(var t=0;
t<4;t++)Z[gn*4+t]=Z[t]}H={type:D.WY,YF:Z}}if(l=="rplc"){var fS=o.Mnm.v,ka=o.Mxm.v;H={type:D.$f,A6:[fS.Lmnc.v,fS.A.v,fS.B.v],_2:[ka.Lmnc.v,ka.A.v,ka.B.v],shift:[o.H.v/360,o.Strt.v/100,o.Lght.v/100],WN:o.Fzns.v/150}}if(l=="clrL"&&o.profile){var g5=new Uint8Array(o.profile.v),cE=ICC.R(g5.buffer),dy=[],fa=17,dy=ICC.U.sampleLUT(cE,fa);
H={type:D.H3,L0:ICC.U.lutToRGBA8(dy,fa),a0z:dy,mW:fa}}return H};jW.Ny=function(l,o){var D=-1;if(l!="levl"||o==null)D=-1;
else if(o.Auto)D=0;else if(o.AuCo)D=1;else if(o.autoBlackWhite)D=2;return D};jW.sg={ME:0,Q6:1,_u:2,dr:3,Mh:4,WY:5,$f:6,H3:7};
jW.I2=function(l){if(l<0)return l;return Math.pow(Math.tan(Math.PI/2*l),1.3)};jW.aBL=function(l){if(l<0)return l;
l=Math.pow(l,1/1.3);return Math.atan2(l,1)/(Math.PI/2)};jW.Ok=function(l,o,D,H){var _=jW.sg,u=Date.now();
if(kx.X7&&H.c()>300*300&&l.type!=_.ME&&l.type!=_.H3){H=H.clone();H.x=H.y=0;var S=kx.jx(0,H.Q,H._);S.set(o);
kx._J(S,H);S.XJ(H);jW.xd(l,S.M4,H);S.get(D);return}if(l.type==_.H3){var h=l.a0z,F=l.mW;ICC.U.applyLUT(h,F,o,D);
var n=o.length;for(var v=0;v<n;v+=4)D[v+3]=o[v+3]}if(l.type==_.WY)g.JX.anx(o,D,l.YF);if(l.type==_.Mh){var R=l.atr,s=l.SV,Z=l.AD,O=l.a0o,n=o.length;
for(var v=0;v<n;v+=4){var H=o[v]*(1/255),w=o[v+1]*(1/255),m=o[v+2]*(1/255),V=g.RL(H,w,m),q=0;for(var i=0;
i<6;i++)q+=Math.min(1,1.7*(1-V.Cx))*V.lv*l.alv[i]*jW.awp(V.B9,i*(1/6));var c=Math.max(0,Math.min(1,V.Cx*(1+q)));
if(l.E8==1){var z=0;if(c<Z)z=c*(.5/s);else if(c<O)z=c+R*(.5-s);else z=1-(1-c)*.5/(1-s);V.B9=l.a1M;V.lv=Math.min(1,R+3*R*Math.abs(c-.5*(Z+O)));
V.Cx=z}else{V.B9=0;V.lv=0;V.Cx=c}var B=g.Za(V.B9,V.lv,V.Cx);D[v]=Math.round(B.$*255);D[v+1]=Math.round(B.H*255);
D[v+2]=Math.round(B.J*255)}}if(l.type==_.dr){var t=l.aeu,n=o.length,a=1/255;for(var v=0;v<n;v+=4){var H=o[v]*a,w=o[v+1]*a,m=o[v+2]*a,V=g.RL(H,w,m),I=Math.max(H,Math.max(w,m)),N=Math.min(H,Math.min(w,m)),J=1-H,Q=1-w,A=1-m,f=0,W=0,C=0;
for(var i=0;i<9;i++){var j=i*6,U=0;if(t[j]==1&&t[j+1]==1&&t[j+2]==1&&t[j+3]==0&&t[j+4]==0&&t[j+5]==0)continue;
var K=J*t[j]+t[j+3],$=Q*t[j+1]+t[j+4],r=A*t[j+2]+t[j+5];if(i<6)U=jW.awp(V.B9,i*(1/6))*V.lv*2*Math.min(V.Cx,1-V.Cx);
else if(i==6)U=Math.max(0,N-.5)*2;else if(i==7)U=1-(Math.abs(I-.5)+Math.abs(N-.5));else U=Math.max(0,.5-I)*2;
f+=(Math.max(0,Math.min(1,K))-J)*U;W+=(Math.max(0,Math.min(1,$))-Q)*U;C+=(Math.max(0,Math.min(1,r))-A)*U}J=Math.max(0,Math.min(1,J+f));
Q=Math.max(0,Math.min(1,Q+W));A=Math.max(0,Math.min(1,A+C));H=1-J;w=1-Q;m=1-A;D[v]=Math.round(H*255);
D[v+1]=Math.round(w*255);D[v+2]=Math.round(m*255)}}if(l.type==_.ME){g.a9A(o,D,l.LG,l.tw,l.BI,l.X9,l.Gh)}if(l.type==_.Q6){var b=new Uint32Array(o.buffer),e=new Uint32Array(D.buffer),n=b.length;
if(jW.y6==null){jW.y6=new Float64Array(256);for(var v=0;v<256;v++)jW.y6[v]=jW.I2(-1+2*v/255)}var P=jW.y6;
for(var v=0;v<n;v++){var L=b[v],H=(L&255)*(1/255),w=(L>>>8&255)*(1/255),m=(L>>>16&255)*(1/255),Y=L>>>24,X=Math.min(H,w,m),G=Math.max(H,w,m),E=0,T=0,y=0;
E=g.RL(H,w,m).B9;var d4=~~(E*255+.5),dH=l.a4h[d4]*(1/255),eV=l.JW[d4]*(1/255)*2-1,bf=l.abX[d4]*(1/255)*2-1,q=-bf,jd=X;
if(0<bf){q=bf;jd=G}var i5=l.arU+l.Wy*q*jd,fD=l.Wy*(1-q);H=i5+fD*H;w=i5+fD*w;m=i5+fD*m;G=Math.max(H,w,m);
X=Math.min(H,w,m);y=(G+X)*.5;if(G!=X){var eo=G-X;T=y>.5?eo/(2-(G+X)):eo/(G+X)}var iX=eV;if(l.azr==0){eV=P[Math.floor((1+eV)*127.5)];
iX=Math.min(T*(1+eV),1)}var B=g.Za(dH,iX,y);H=B.$;w=B.H;m=B.J;e[v]=Y<<24|m*255<<16|w*255<<8|H*255}}if(l.type==_.$f){g.Tg(o,D);
var b=new Uint32Array(o.buffer),e=new Uint32Array(D.buffer),n=b.length,cK=l.WN,g0=1/cK,bW={Ct:l.A6[0],M:l.A6[1],J:l.A6[2]},hF={Ct:l._2[0],M:l._2[1],J:l._2[2]};
for(var v=0;v<n;v++){var L=b[v],aJ=L&255,iR=L>>>8&255,ex=L>>>16&255,H=aJ*(1/255),w=iR*(1/255),m=ex*(1/255),Y=L>>>24,dX=g.nU(aJ,iR,ex),iZ=g.ay0(dX,bW,hF,cK,g0);
if(iZ==0)continue;var V=g.RL(H,w,m),dH=2+V.B9+l.shift[0];V.B9=dH-~~dH;V.lv=Math.max(0,Math.min(1,V.lv+l.shift[1]));
V.Cx=Math.max(0,Math.min(1,V.Cx+l.shift[2]));var B=g.Za(V.B9,V.lv,V.Cx);H=(1-iZ)*H+iZ*B.$;w=(1-iZ)*w+iZ*B.H;
m=(1-iZ)*m+iZ*B.J;e[v]=Y<<24|m*255<<16|w*255<<8|H*255}}if(l.type==_._u){var b=new Uint32Array(o.buffer),e=new Uint32Array(D.buffer),n=b.length,j3=l.au[0],by=l.au[1],i9=l.au[2],q=l.au[3],dm=g.JX.OH([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),kh=g.JX.L5(dm),jK=2.4;
function F(aq){return Math.max(0,Math.min(1,aq))}function bd(aq){return Math.pow(aq,jK)}function dz(aq){return Math.pow(aq,1/jK)}function dw(H,w,m,aq){H=bd(H);
w=bd(w);m=bd(m);var e3=g.JX.GS(dm,[H,w,m,1]);e3[0]*=i9;e3[1]*=q;e3[2]*=q;var B=g.JX.GS(kh,e3);B[0]=dz(F(B[0]));
B[1]=dz(F(B[1]));B[2]=dz(F(B[2]));return B}for(var v=0;v<n;v++){var L=b[v],H=(L&255)*(1/255),w=(L>>>8&255)*(1/255),m=(L>>>16&255)*(1/255),Y=L>>>24,B=dw(H,w,m,j3);
H=B[0];w=B[1];m=B[2];var ev=g.RL(H,w,m);ev.lv=Math.max(0,Math.min(1,ev.lv*(1+by)));B=g.Za(ev.B9,ev.lv,ev.Cx);
H=B.$;w=B.H;m=B.J;e[v]=Y<<24|m*255<<16|w*255<<8|H*255}}};jW.xd=function(l,o,D){kx.PN.xd(l,o)};jW.awp=function(l,o){var D=g.Lz(o,l)*6;
return Math.max(0,Math.min(1,D<0?1+D:1-D))};var at={};at.Vs=function(l){var o=l.filterID.v;return o>16777215?x.aqE(o):l.Fltr.v.classID};
at.E$=[{E6:"GEfc"},{E6:"LnCr"},{E6:"Adobe Camera Raw Filter"},{E6:"LqFy"},{E6:"VaPo",ab:!0},{$_:"3D",cj:["lightFilterGradient","Dila"]},{$_:[24,2],cj:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{$_:[24,4],cj:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{$_:[24,6],cj:["AdNs","Dspc","DstS","Mdn ","denoise"]},{$_:[24,8],cj:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{$_:[24,10],cj:["Flam","Clds","DfrC","Fbrs","LnsF"]},{$_:[24,12],cj:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{$_:[24,14],cj:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{$_:[24,16],cj:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{$_:"Fourier",cj:["dDFT","iDFT"]}];
at.AW={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
at.CF={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
at.p={rigidTransform:p.eK};at.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
at.ts=function(l){var o=null;if(l=="GEfc")o={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:kL.ts("GlwE")}]}};
if(l=="LqFy"){var D={pX:5,B9:5,map:new Float32Array(5*5*2)},H=new Uint8Array(gZ.Y8(D)),_=[];for(var v=0;
v<H.length;v++)_.push(H[v]);o={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:_}}}if(l=="rigidTransform"){o={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(l=="LnCr")o={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(l=="adaptCorrect")o={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(l=="Dfs ")o={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(l=="Fbrs")o={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(l=="Embs")o={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(l=="oilPaint")o={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(l=="TrcC")o={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(l=="Wnd ")o={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(l=="lightFilterGradient")o={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(l=="boxblur")o={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(l=="GsnB")o={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(l=="Bokh")o={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(l=="MtnB")o={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(l=="RdlB")o={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(l=="surfaceBlur")o={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(l=="denoise")o={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(l=="Dspl")o={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(l=="Pnch")o={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(l=="Plr ")o={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(l=="Rple")o={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(l=="Shr ")o={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(l=="Sphr")o={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(l=="Twrl")o={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(l=="Wave")o={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(l=="ZgZg")o={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(l=="AdNs")o={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(l=="DstS")o={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(l=="Mdn ")o={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(l=="ClrH")o={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(l=="Crst")o={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(l=="Mztn")o={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(l=="Msc ")o={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(l=="Pntl")o={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(l=="LnsF")o={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(l=="Dthr")o={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(l=="Part")o={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(l=="Adobe Camera Raw Filter")o={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(l=="smartSharpen")o={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(l=="UnsM")o={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(l=="HghP")o={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(l=="HsbP")o={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(l=="Mxm ")o={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(l=="Mnm ")o={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(l=="Ofst")o={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(l=="Kale")o={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(l=="Rept")o={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(l=="Flam")o={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(l=="Ctoa")o={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(l=="brit")o={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(l=="levl")o={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(l=="curv")o={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(l=="expA")o={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(l=="vibA")o={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(l=="hue2")o={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(l=="blnc")o={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(l=="blwh")o={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(l=="phfl")o={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(l=="grdm")o={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(cq.Rq[6]).Grad};
if(l=="selc")o={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(l=="thrs")o={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(l=="mixr")o={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(l=="clrL")o={__name:"Color Lookup",classID:"colorLookup"};if(l=="post")o={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(l=="rplc")o={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(l=="fade")o={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(l=="aply")o={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(l=="matc"){o={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(l=="Dila")o={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(l=="blendOptions")o={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return o};at.T7={sFlam:function(l,o){o[0]=l.Type.v;o[1]=l.Leng.v;o[2]=l.RndL.v;o[3]=l.Widt.v;o[4]=l.Angl.v;
o[5]=l.Intr.v;o[6]=l.Adpt.v;o[7]=l.Clr.v;o[8]=l.Qual.v;o[9]=l.Turb.v;o[10]=l.Jag.v;o[11]=l.Opct.v.val;
o[12]=l.Lins.v;o[13]=l.Botm.v;o[14]=l.Styl.v;o[15]=l.Shap.v;o[16]=l.RnSh.v;o[17]=l.Arng.v},gFlam:function(l,o){l.Type.v=o[0];
l.Leng.v=o[1];l.RndL.v=o[2];l.Widt.v=o[3];l.Angl.v=o[4];l.Intr.v=o[5];l.Adpt.v=o[6];l.Clr.v=o[7];l.Qual.v=o[8];
l.Turb.v=o[9];l.Jag.v=o[10];l.Opct.v.val=o[11];l.Lins.v=o[12];l.Botm.v=o[13];l.Styl.v=o[14];l.Shap.v=o[15];
l.RnSh.v=o[16];l.Arng.v=o[17]},sAdNs:function(l,o){o[0]=l.Nose.v.val;o[1]=["Gsn","Unfr"].indexOf(l.Dstr.v.Dstr);
o[2]=l.Mnch.v},gAdNs:function(l,o){l.Nose.v.val=o[0];l.Dstr.v.Dstr=["Gsn","Unfr"][o[1]];l.Mnch.v=o[2]},sDstS:function(l,o){o[0]=l.Rds.v;
o[1]=l.Thsh.v},gDstS:function(l,o){l.Rds.v=o[0];l.Thsh.v=o[1]},sGsnB:function(l,o){o[0]=l.Rds.v.val},gGsnB:function(l,o){l.Rds.v.val=o[0]},sDila:function(l,o){o[0]=l.Crop.v.val;
o[1]=l.Rds.v.val},gDila:function(l,o){l.Crop.v.val=o[0];l.Rds.v.val=o[1]},sHghP:function(l,o){o[0]=l.Rds.v.val},gHghP:function(l,o){l.Rds.v.val=o[0]},sHsbP:function(l,o){var D=["RGBC","HSBl","HSLC"];
o[0]=D.indexOf(l.Inpt.v.ClrS);o[1]=D.indexOf(l.Otpt.v.ClrS)},gHsbP:function(l,o){var D=["RGBC","HSBl","HSLC"];
l.Inpt.v.ClrS=D[o[0]];l.Otpt.v.ClrS=D[o[1]]},"sMxm ":function(l,o){var D="preserveShape";o[0]=l.Rds.v.val;
o[1]=l[D]?["squareness","Rndn"].indexOf(l[D].v[D]):0},"gMxm ":function(l,o){var D="preserveShape";l.Rds.v.val=o[0];
l[D]={t:"enum",v:{preserveShape:["squareness","Rndn"][o[1]]}}},"sMnm ":function(l,o){var D="preserveShape";
o[0]=l.Rds.v.val;o[1]=l[D]?["squareness","Rndn"].indexOf(l[D].v[D]):0},"gMnm ":function(l,o){var D="preserveShape";
l.Rds.v.val=o[0];l[D]={t:"enum",v:{preserveShape:["squareness","Rndn"][o[1]]}}},sMtnB:function(l,o){o[0]=[l.Angl.v];
o[1]=l.Dstn.v.val;console.log(o)},gMtnB:function(l,o){l.Angl.v=typeof o[0]=="number"?o[0]:o[0][0];l.Dstn.v.val=o[1]},sOfst:function(l,o){o[0]=l.Hrzn.v;
o[1]=l.Vrtc.v;o[2]=["Rpt","Bckg","Wrp"].indexOf(l.Fl.v.FlMd)},gOfst:function(l,o){l.Hrzn.v=o[0];l.Vrtc.v=o[1];
l.Fl.v.FlMd=["Rpt","Bckg","Wrp"][o[2]]},sPnch:function(l,o){o[0]=l.Amnt.v},gPnch:function(l,o){l.Amnt.v=o[0]},"sPlr ":function(l,o){o[0]=["RctP","PlrR"].indexOf(l.Cnvr.v.Cnvr)},"gPlr ":function(l,o){l.Cnvr.v.Cnvr=["RctP","PlrR"][o[0]]},sRple:function(l,o){o[0]=l.Amnt.v;
o[1]=["Sml","Mdm","Lrg"].indexOf(l.RplS.v.RplS)},gRple:function(l,o){l.Amnt.v=o[0];l.RplS.v.RplS=["Sml","Mdm","Lrg"][o[1]]},sTwrl:function(l,o){o[0]=l.Angl.v},gTwrl:function(l,o){l.Angl.v=o[0]},sZgZg:function(l,o){o[0]=l.Amnt.v;
o[1]=l.NmbR.v;o[2]=["ArnC","OtFr","PndR"].indexOf(l.ZZTy.v.ZZTy)},gZgZg:function(l,o){l.Amnt.v=o[0];
l.NmbR.v=o[1];l.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][o[2]]},sUnsM:function(l,o){o[0]=l.Amnt.v.val;o[1]=l.Rds.v.val;
o[2]=l.Thsh.v},gUnsM:function(l,o){l.Amnt.v.val=o[0];l.Rds.v.val=o[1];l.Thsh.v=o[2]},sWave:function(l,o){o[0]=l.NmbG.v;
o[1]=l.WLMn.v;o[2]=l.WLMx.v;o[3]=l.AmMn.v;o[4]=l.AmMx.v;o[5]=l.SclH.v;o[6]=l.SclV.v;o[7]=["WvSn","WvTr","WvSq"].indexOf(l.Wvtp.v.Wvtp);
o[8]=["WrpA","RptE"].indexOf(l.UndA.v.UndA);o[9]=l.RndS.v},gWave:function(l,o){l.NmbG.v=o[0];l.WLMn.v=o[1];
l.WLMx.v=o[2];l.AmMn.v=o[3];l.AmMx.v=o[4];l.SclH.v=o[5];l.SclV.v=o[6];l.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][o[7]];
l.UndA.v.UndA=["WrpA","RptE"][o[8]];if(o[9]!=null){var D=parseInt(o[9]);if(isNaN(D))D=248325464;D=Math.max(0,Math.min(268435455,D));
l.RndS.v=D}},sDspl:function(l,o){o[0]=l.HrzS.v;o[1]=l.VrtS.v;o[2]=0;o[3]=["WrpA","RptE"].indexOf(l.UndA.v.UndA)},gDspl:function(l,o){l.HrzS.v=o[0];
l.VrtS.v=o[1];l.UndA.v.UndA=["WrpA","RptE"][o[3]];l.DspF.v.pth=o[4]},sbrit:function(l,o){o[0]=l.Brgh?l.Brgh.v:0;
o[1]=l.Cntr?l.Cntr.v:0;o[2]=l.useLegacy?l.useLegacy.v:!1},gbrit:function(l,o){l.Brgh.v=o[0];l.Cntr.v=o[1];
if(o[2]!=null)l.useLegacy.v=o[2]}};at.a8u=function(l){var o=new he(0,0);if(l.enab.v==!1)return o;var D=l.filterFXList.v;
for(var v=0;v<D.length;v++){var H=D[v].v;if(H.enab.v==!1)continue;var _=at.Vs(H),u=at.jk(_,H.Fltr?H.Fltr.v:null);
if(u.x>o.x)o.x=u.x;if(u.y>o.y)o.y=u.y}return o};at.jk=function(l,o){var D=0,H=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(l)!=-1){var _=o.Rds?o.Rds.v.val:1;
D=H=_*2.57}if(l=="MtnB")D=H=o.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(l)!=-1){D=H=1e4}if(l=="GEfc")return kL.jk(o);
return new he(Math.ceil(D),Math.ceil(H))};at.B3=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
at.If=function(l,o){var D={$:o.Os>>16,H:o.Os>>8&255,J:o.Os&255},H={$:o.qg>>16,H:o.qg>>8&255,J:o.qg&255},_=at.names[l];
if(_==null)_=jW.names[l];var u=l;for(var S in jW.m_)if(jW.m_[S]==l)u=S;var h={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:cU.get(_)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:g.G.XF(D)},BckC:{t:"Objc",v:g.G.XF(H)},filterID:{t:"long",v:u.length==4?x.aDg(u):777}}},F=at.ts(l);
if(F)h.v.Fltr={t:"Objc",v:F};return h};at.ld=function(l,o,D,H){var _=Date.now(),u=kx.X7&&Math.max(H.Q,H._)<=kx.Ig.getParameter(kx.Ig.MAX_TEXTURE_SIZE);
if(l<1){var S=Math.round(l*5),h=[1,2,1,2,[40,26,13,6,4,2][S],2,1,2,1];h=g.$z.B7(h);if(!u){g.IQ(D);var F=D.slice(0);
g.$z.Z_(F,D,H.Q,H._,h,255);g.PU(D)}else{var n=H.Q,R=H._,s=kx.jx(0,n,R);s.set(D);var Z=kx.jx(1,n,R),O=new Float32Array([1/n,1/R]);
kx._J(Z);kx.filter.xd({type:kx.filter.a3M,DW:O,a8x:new Float32Array(h)},s.mn);Z.get(D)}}else{var w=o==g.l5.am?0:o==g.l5.sO?1:2,m=[];
while(w!=2&&l*[1,2.4][w]>20&&m.length<4){var V=g.hl(D,H);m.push(D,H);D=V.G5;H=V.rect;l/=2}var n=H.Q,R=H._;
if(!u||w==2&&l>15){g.IQ(D);o(D,H,l);g.PU(D)}else{var s=kx.jx(0,n,R);s.set(D);var Z=kx.jx(1,n,R),O=new Float32Array([1/n,1/R]);
if(w==0){var q=1;while(q<l)q<<=1;kx._J(Z);kx.filter.xd({type:kx.filter.zY,DW:O,$P:l,Bt:[0,0,q]},s.mn);
kx._J(s);kx.filter.xd({type:kx.filter.zY,DW:O,$P:l,Bt:[0,1,q]},Z.mn);s.get(D)}else if(w==1){var i=3,c=g.l5.vu(l,i);
for(var v=0;v<i;v++){var z=c[v]>>>1,B=1;while(B<z)B<<=1;if(z==0)continue;kx._J(Z);kx.filter.xd({type:kx.filter.zY,DW:O,$P:z,Bt:[0,0,B]},s.mn);
kx._J(s);kx.filter.xd({type:kx.filter.zY,DW:O,$P:z,Bt:[0,1,B]},Z.mn)}s.get(D)}else{var q=1;while(q<l)q<<=1;
kx._J(Z);kx.filter.xd({type:kx.filter.zY,DW:O,$P:l,Bt:[0,0,q]},s.mn);Z.get(D)}}var t=Date.now();while(m.length!=0){var a=m.pop(),I=m.pop();
g.scale.ayG(D,H.Q,H._,I,a.Q,a._);D=I;H=a}}};at.aoN=function(l,o,D,H){for(var v=0;v<l.length;v++){D[v]=l[v]*(1/255);
H[v]=0}FFT.fft2d(D,H);var _=o>>>1,u=16384,S=128,F=100;while(S<o){S<<=1;u<<=2}var h=255/Math.log(u),n=-100;
for(var R=0;R<o;R++)for(var s=0;s<_;s++){var Z=o+_+R&o-1,O=D[Z*o+s],w=H[Z*o+s],m=Math.sqrt(O*O+w*w),V=Math.atan2(w,O);
l[R*o+s]=Math.round(h*Math.log(m+1));l[R*o+_+s]=Math.round((Math.PI+V)*(255*.5/Math.PI))}};at.a6H=function(l,o,D,H){D.fill(0);
H.fill(0);var _=o>>>1,u=16384,S=128;while(S<o){S<<=1;u<<=2}var h=255/Math.log(u),F=[],n=[],R=[];for(var v=0;
v<256;v++){F[v]=Math.exp(v/h)-1;var s=v*(2*Math.PI/255)-Math.PI;n[v]=Math.sin(s);R[v]=Math.cos(s)}for(var Z=0;
Z<o;Z++)for(var O=0;O<_;O++){var w=o+_+Z&o-1,m=F[l[Z*o+O]],s=l[Z*o+_+O],V=m*R[s],q=m*n[s];D[w*o+O]=V;
H[w*o+O]=q;if(O!=0){var i=w==0?w*o+o-O:(o-w)*o+(o-O);D[i]=V;H[i]=-q}}FFT.ifft2d(D,H);for(var v=0;v<l.length;
v++){l[v]=Math.max(0,Math.min(255,~~(.5+255*D[v])))}};at.ayy=new ArrayBuffer(512);at.avK=function(l){var o=at.ayy,D=l.length;
if(o.byteLength<D)at.ayy=o=new ArrayBuffer(D);var H=new Uint8Array(o);for(var v=0;v<D;v+=4){H[v]=l[v];
H[v+1]=l[v+1];H[v+2]=l[v+2];H[v+3]=l[v+3]}return o};at.Ok=function(l,o,D,H,_,u,S){if(u==null)u={buffer:g.o(o.buffer.length),rect:o.rect.clone()};
u.buffer.set(o.buffer);var h=D&&D.RndS?D.RndS.v>>>1:0;if(l=="GEfc"){var F=[];if(D.GEfs){var n=D.GEfs.v;
for(var v=0;v<n.length;v++){var R=n[v].v;if(R.GELv&&R.GELv.v==!1)continue;F.push(R)}}else F=[D];for(var v=0;
v<F.length;v++){var s;if(v==0)kL.Ok(l,o,F[v],H,_,u,S);else{if(s==null)s={buffer:g.o(o.buffer.length),rect:o.rect.clone()};
g.Tg(u.buffer,s.buffer);kL.Ok(l,s,F[v],H,_,u,S)}}}if(l=="Dila"){var Z=D.Crop.v.val,O=D.Rds.v.val+Z;O=O*O;
if(O==0)return;var w=o.rect,m=w.Q,V=w._,q=m*V,i=o.buffer,s=u.buffer,c=g.o(q);g.mA(i,c,3);if(Z!=0){var z=w.clone();
z.ag(1,1);var B=g.o(z.c());g.mB(c,w,B,z);g.L5(B);g.style.stroke(B,B,z,Z);g.L5(B);g.mB(B,z,c,w)}var t=g.style.Sr(c,m,V);
s.fill(0);for(var a=0;a<V;a++)for(var I=0;I<m;I++){var v=a*m+I,N=v<<1,J=v<<2,Q=t[N],A=t[N+1];if(Q*Q+A*A<O){var f=(a+A)*m+(I+Q)<<2;
s[J]=i[f];s[J+1]=i[f+1];s[J+2]=i[f+2];s[J+3]=255}}}if(l=="Adobe Camera Raw Filter"){var w=o.rect,m=w.Q,V=w._,q=m*V,W=q*4,C=q*3,j=new Float32Array(m*V*3),K=o.buffer;
for(var v=0;v<q;v++){var $=v*3,J=v*4;j[$]=K[J]*(1/255);j[$+1]=K[J+1]*(1/255);j[$+2]=K[J+2]*(1/255)}var r=JSON.parse(JSON.stringify(D));
delete r.Upri;delete r.GuUr;var U=j.slice(0);gK(j,m,V,U,r);j=U;K=u.buffer;for(var v=0;v<q;v++){var $=v*3,J=v*4;
K[J]=255*Math.max(0,Math.min(1,j[$]));K[J+1]=255*Math.max(0,Math.min(1,j[$+1]));K[J+2]=255*Math.max(0,Math.min(1,j[$+2]))}}if(l=="Fct "){var w=o.rect,m=w.Q,V=w._,q=m*V,W=q*4;
function b(gu){var kh=gu.slice(0);for(var a=0;a<3;a++)for(var I=0;I<3;I++)kh[a*3+I]=gu[(2-I)*3+a];return kh}function e(h4,fY,i7,im){var fI=0;
for(var a=0;a<3;a++)for(var I=0;I<3;I++)fI+=fY[a*3+I]*h4[(im-1+a)*m+i7-1+I];return fI}var P=[8,5,2,5,2,-1,2,-1,-4],L=[5,5,5,2,2,2,-1,-1,-1],Y=[2,2,2,2,2,2,2,2,2],X=[];
X.push(P);for(var v=0;v<3;v++)X.push(b(X[X.length-1]));X.push(L);for(var v=0;v<3;v++)X.push(b(X[X.length-1]));
X.push(Y);for(var v=0;v<9;v++)X[v]=g.$z.B7(X[v]);var G=[-m-1,-m,-m+1,-1,0,1,m-1,m,m+1],E=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],T=g.o(q),y=new Float32Array(q),U=g.o(q);
for(var d4=0;d4<3;d4++){g.mA(o.buffer,T,d4);for(var dH=0;dH<1;dH++){for(var a=1;a<V-1;a++)for(var I=1;
I<m-1;I++){var bf=a*m+I,jd=T[bf];y[bf]=1e9;for(var v=0;v<9;v++){var i5=e(T,X[v],I,a),fD=(i5-jd)*(i5-jd);
if(fD<y[bf])y[bf]=fD}}for(var a=1;a<V-1;a++)for(var I=1;I<m-1;I++){var eo=0,iX=1e9;for(var v=0;v<9;v++){var cK=a*m+I+G[v],fD=y[cK];
if(fD<iX){iX=fD;eo=T[cK]}}U[a*m+I]=eo}T.set(U)}g.Kl(U,u.buffer,d4)}}if(l=="adaptCorrect"){var w=o.rect,m=w.Q,V=w._,q=m*V,W=q*4,g0=D.sdwM.v,bW=g0.Amnt.v.val/100,hF=g0.Wdth.v.val/100,aJ=g0.Rds.v,iR=D.hglM.v,ex=iR.Amnt.v.val/100,dX=iR.Wdth.v.val/100,iZ=iR.Rds.v;
g.a3x.vP(o.buffer,u.buffer,m,V,bW,hF,aJ,ex,dX,iZ,D.ClrC.v/100,D.Cntr.v/100)}if(l=="denoise"){var w=o.rect,m=w.Q,V=w._,j3=D.channelDenoise.v[0].v;
g.auu.a8z(o.buffer,m,V,u.buffer,j3.Amnt.v/10,j3.EdgF.v/100)}if(l=="HsbP"){var by=D.Inpt.v.ClrS,i9=D.Otpt.v.ClrS,w=o.rect,m=w.Q,V=w._,q=m*V;
for(var v=0;v<q;v++){var J=v*4,dH=o.buffer[J]*(1/255),dm=o.buffer[J+1]*(1/255),kh=o.buffer[J+2]*(1/255);
if(by=="RGBC"){}else if(by=="HSLC"){var U=g.Za(dH,dm,kh);dH=U.$;dm=U.H;kh=U.J}else if(by=="HSBl"){var U=g.ao4(dH,dm,kh);
dH=U.$;dm=U.H;kh=U.J}var jK=dH,bd=dm,dz=kh;if(i9=="RGBC"){}else if(i9=="HSLC"){var U=g.RL(dH,dm,kh);
jK=U.B9;bd=U.lv;dz=U.Cx}else if(i9=="HSBl"){var U=g.a4L(dH,dm,kh);jK=U.B9;bd=U.lv;dz=U.J}u.buffer[J]=~~(255*jK);
u.buffer[J+1]=~~(255*bd);u.buffer[J+2]=~~(255*dz)}}if(l=="Fbrs"){var w=o.rect,m=w.Q,V=w._;g.g.ay_(o.buffer,m,V,u.buffer,[D.Vrnc.v,D.Strg.v,h]);
var dw=g.o(m*V);g.mA(u.buffer,dw,0);g.L5(dw);kL.Tm(dw,u.buffer,H,_)}if(l=="Frgm"){var w=o.rect,m=w.Q,V=w._,ev=o.buffer.slice(0);
g.IQ(ev);g.g.au_(ev,m,V,u.buffer);g.PU(u.buffer)}if(l=="Flam"){var w=o.rect,m=w.Q,V=w._,aq=D.Clr.v,e3={type:D.Type.v+1,length:D.Leng.v,apo:D.RndL.v,sa:D.Widt.v,au5:D.Angl.v,ame:D.Intr.v,ayf:D.Adpt.v,color:{$:aq.Rd.v,H:aq.Grn.v,J:aq.Bl.v},DU:D.Qual.v+1,Pm:D.Turb.v,nj:D.Jag.v,opacity:D.Opct.v.val,_S:D.Lins.v,axt:D.Botm.v,style:D.Styl.v+1,shape:D.Shap.v+1,a6$:D.RnSh.v,a1I:D.Arng.v,ae7:!1},a9=S[3],e0=a9[0],as=a9[1],eK=e0[as.length!=0?as[0]:0];
if(eK==null){alert("Make a path first");return}var gh=eK.add.vmsk.d,gx=g.n.Ly(gh),gc=[];for(var f=0;
f<gx;f++){var kQ=g.n.An(gh,f),dn=gh[kQ];if(dn.length<2)continue;var bQ=[];gc.push(bQ);var iK=dn.length-(dn.type==3?1:0);
for(var bf=0;bf<iK;bf++){var cJ=gh[kQ+1+bf],i1=bf==dn.length-1?gh[kQ+1]:gh[kQ+1+bf+1],bu=cJ.u,gi=cJ.BN,P=i1.e6,iv=i1.u,d0=Math.round(he.At(bu,iv)/5);
for(var af=0;af<d0;af++){var eY=af/d0,hV=1-eY,I=hV*hV*hV*bu.x+3*hV*hV*eY*gi.x+3*hV*eY*eY*P.x+eY*eY*eY*iv.x,a=hV*hV*hV*bu.y+3*hV*hV*eY*gi.y+3*hV*eY*eY*P.y+eY*eY*eY*iv.y;
bQ.push(I,a)}}}var i$=[gc,e3],cz=Date.now(),fk=eX(i$);bG(o.buffer,m,V,u.buffer,fk,i$)}if(l=="Dfs "){var w=o.rect,m=w.Q,V=w._,ee=["Nrml","DrkO","LghO","anisotropic"].indexOf(D.Md.v.DfsM);
if(ee<3)g.g.a6I(o.buffer,m,V,u.buffer,[ee]);else{var i$=[1.4,1.6,1,4,!1,2,[0,0,.001]],w=o.rect.clone();
w.x=w.y=0;g.KX.filter(o.buffer,w,u.buffer,i$)}}if(l=="TrcC"){var w=o.rect,m=w.Q,aC=m<<2,V=w._,cI=D.Lvl.v,cZ=D.Edg.v.CntE=="Lwr",ad=o.buffer,j0=u.buffer;
g.M5(j0,16777215,4278190080);function cX(aw,i4){io(aw,i4);io(aw+1,i4+1);io(aw+2,i4+2)}function bY(aw,i4){et(aw,i4);
et(aw+1,i4+1);et(aw+2,i4+2)}function io(aw,i4){var jK=ad[aw],bd=ad[i4];if(jK>=cI&&bd<cI)j0[aw]=0;if(jK<cI&&bd>=cI)j0[i4]=0}function et(aw,i4){var jK=ad[aw],bd=ad[i4];
if(jK>cI&&bd<=cI)j0[i4]=0;if(jK<=cI&&bd>cI)j0[aw]=0}if(cZ)for(var a=1;a<V;a++)for(var I=1;I<m;I++){var J=a*m+I<<2;
cX(J,J-4);cX(J,J-aC)}else for(var a=1;a<V;a++)for(var I=1;I<m;I++){var J=a*m+I<<2;bY(J,J-4);bY(J,J-aC)}}if(l=="Embs"){var w=o.rect,m=w.Q,V=w._,dR=-D.Angl.v*Math.PI/180,dZ=D.Hght.v,jh=D.Amnt.v/100;
dZ/=2;var Q=Math.cos(dR)*dZ,A=Math.sin(dR)*dZ,ad=o.buffer,j0=u.buffer;j0.fill(0);var jo=new Uint32Array(ad.buffer),U=new Uint8Array(4),co=new Uint32Array(U.buffer);
for(var a=0;a<V;a++)for(var I=0;I<m;I++){var h3=0,b1=0,ij=0;if(0<=I+Q&&I+Q<m&&0<=a+A&&a+A<V){g.t.E7(I+Q+.5,a+A+.5,jo,m,V,co,0,0);
h3+=U[0]-128;b1+=U[1]-128;ij+=U[2]-128}if(0<=I-Q&&I-Q<m&&0<=a-A&&a-A<V){g.t.E7(I-Q+.5,a-A+.5,jo,m,V,co,0,0);
h3-=U[0]-128;b1-=U[1]-128;ij-=U[2]-128}var J=a*m+I<<2;j0[J]=Math.max(0,Math.min(255,h3*jh+128));j0[J+1]=Math.max(0,Math.min(255,b1*jh+128));
j0[J+2]=Math.max(0,Math.min(255,ij*jh+128));j0[J+3]=ad[J+3]}}if(l=="ShrE"){var w=o.rect,m=w.Q,V=w._;
g.g.ahA(o.buffer,m,V,u.buffer)}if(l=="Dspc"){var w=o.rect,m=w.Q,V=w._;g.g.adZ(o.buffer,m,V,u.buffer)}if(l=="Slrz"){var h0=u.buffer,gn=128;
for(var v=0;v<h0.length;v+=4){if(h0[v]>gn)h0[v]=255-h0[v];if(h0[v+1]>gn)h0[v+1]=255-h0[v+1];if(h0[v+2]>gn)h0[v+2]=255-h0[v+2]}}if(l=="Wnd "){var w=o.rect,m=w.Q,V=w._,fS=["Wnd","Blst","Stgr"],ka=D.WndM.v.WndM;
g.g.mg(o.buffer,m,V,u.buffer,[fS.indexOf(ka),D.Drct.v.Drct!="Left"])}if(l=="Bokh"){var w=o.rect,m=w.Q,V=w._,q=m*V,W=q*4,g5=o.buffer.slice(0),cs=D.BkDi.v.BtDi,cE=D.BkDc,dy=D.BkDs.v,fa=D.BkDp.v/255;
if(cs=="BeIn")fa=0;var h7=57*(.3+.7*((m+V)/2)/1750)*(D.BkIb.v/100)*(1+.2*Math.pow(fa,.1)),kC=parseInt(D.BkIs.v.BtIs.slice(3)),f_=-D.BkIr.v*Math.PI/180,ba=[];
for(var v=0;v<8;v++){var fT=f_+v*(Math.PI*2/kC),aI=f_+(v+1)*(Math.PI*2/kC),ar=Math.cos(fT),ao=Math.sin(fT),fn=Math.cos(aI),k8=Math.sin(aI),aF=[0,0,0];
g.YF.wr([[ar,ao,1,0],[fn,k8,1,0],[1,1,1,1]],aF);if(aF[2]>0){aF[0]*=-1;aF[1]*=-1;aF[2]*=-1}ba.push(aF[0],aF[1],aF[2],0)}if(cs=="BeIn"){g.M5(g5,0,16777215);
fa=1}else if(cs=="BeIt"&&cE.v.BtDc=="BeCt"){}else{var f$;if(cs=="BeIt"&&cE.v.BtDc=="BeCm")f$=S[1];else if(cs=="BeIa")f$=S[2][cE.v];
if(f$==null){g.M5(g5,0,16777215)}else{var T;if(f$.rect.kn(w))T=f$.channel;else T=f$.C7(w);g.Kl(T,g5,3)}}if(dy)for(var v=0;
v<W;v+=4)g5[v+3]=255-g5[v+3];if(kx.X7){var fW=g5,iC=m,f4=V,cR=1,d5=(D.BkSb.v==0||D.BkSt.v==255)&&cs=="BeIn";
if(!d5){var gw=0;for(var v=0;v<W;v+=4)gw+=Math.abs(fa-g5[v+3]*(1/255));gw=gw/q*h7;var az=3.14*gw*gw*m*V/3e6;
if(az>2e3){alert("too large radius");return}}while(d5&&3*(h7/cR)*(h7/cR)*m*V>500*2e3*2e3){var jI=g.agA(g5,new gt(0,0,iC,f4));
g5=jI.G5;iC=jI.rect.Q;f4=jI.rect._;cR*=2}var cz=Date.now(),i=kx.jx(0,iC,f4);i.set(g5);var dI=kx.jx(1,m,V);
kx._J(dI);kx.filter.xd({type:kx.filter.ak7,DW:new Float32Array([1/iC,1/f4]),acH:fa,Yf:h7/cR,aBw:new Float32Array([D.BkSb.v/100,D.BkSt.v/255]),ahG:new Float32Array([D.BkNa.v/100,D.BkNt.v.BtNt=="BeNu"?0:1,D.BkNm.v?1:0]),al5:new Float32Array(ba.slice(0,16)),a7W:new Float32Array(ba.slice(16))},i.mn);
dI.get(u.buffer);var dP=u.buffer;for(var v=0;v<W;v+=4)dP[v+3]=o.buffer[v+3]}}if(l=="rigidTransform"){var cz=Date.now(),fF=at.avK,i=o.buffer.slice(0),bK=0,bo=0;
g.IQ(i);var m=o.rect.Q,V=o.rect._,eG=D.puppetShapeList.v,gE=[],fB=[],gz=[],ak=[];for(var bf=0;bf<eG.length;
bf++){var f0=eG[bf].v,N=bK*2,$=bo*3,kF=f0.originalVertexArray.v.length>>>2,fx=f0.indexArray.v.length>>>2,hZ=new Float32Array(fF(f0.originalVertexArray.v));
for(var v=0;v<kF;v++)gE[N+v]=hZ[v];var h9=new Float32Array(fF(f0.deformedVertexArray.v));for(var v=0;
v<kF;v++)fB[N+v]=h9[v];var dj=new Uint32Array(fF(f0.indexArray.v));for(var v=0;v<fx;v++)gz[$+v]=bK+dj[v];
var hr=[],fr=[],i8=f0.PnDp.v;for(var v=0;v<i8.length;v++){hr.push(f0.pinVertexIndices.v[v].v);fr.push(i8[v].v)}var kJ=g.WL.ao2(hZ,dj,hr,fr);
for(var v=0;v<kJ.length;v++)ak[bK+v]=kJ[v];bK+=kF>>>1;bo+=~~(fx/3)}var hj=new de(1,0,0,1,-o.rect.x,-o.rect.y);
g.X.h(gE,hj,gE);g.X.h(fB,hj,fB);u.buffer.fill(0);g.WL.qz(i,m,V,u.buffer,m,V,gE,fB,ak,gz);g.PU(u.buffer)}if(l=="lightFilterGradient"){function ci(bu){var fY=1/Math.sqrt(bu[0]*bu[0]+bu[1]*bu[1]+bu[2]*bu[2]);
bu[0]*=fY;bu[1]*=fY;bu[2]*=fY}var m=o.rect.Q,V=o.rect._,q=m*V,cz=Date.now(),gv=g.o(q),bd=.3,dz=.7;g.Hx(u.buffer,gv);
var hT=g.o(q);g.l5.Cc(gv,hT,u.rect,16);var iQ=g.o(q);g.l5.Cc(gv,iQ,u.rect,8);var dW=gv,h1=new Float32Array(q),a0=D.Dtl.v,iD=a0[2].v,jU=a0[1].v,bC=a0[0].v,fI=D.Scl.v*40*D.textureScale.v/(iD+jU+bC);
iD*=fI;jU*=fI;bC*=fI;for(var v=0;v<q;v++){var ip=hT[v]*(1/255),eC=iQ[v]*(1/255),ep=dW[v]*(1/255);ep=ep*ep;
h1[v]=iD*ip+jU*eC+bC*ep}var be=D.blur.v;if(be!=0){g.l5.X6(h1,u.rect,be)}var hC=m-1,jT=V-1;for(var a=0;
a<V;a++)for(var I=0;I<m;I++){var v=a*m+I,J=v*4,ia=h1[v],Q=bd*(h1[v+(I==hC?0:1)]-ia)+dz*(ia-h1[v-(I==0?0:1)]),A=bd*(h1[v+(a==jT?0:m)]-ia)+dz*(ia-h1[v-(a==0?0:m)]),bu=[1,0,Q],gi=[0,1,A];
ci(bu);ci(gi);var aI=bu[0],ac=bu[2],an=gi[1],ix=gi[2],jS=-ac*an,fH=-aI*ix,ap=aI*an;u.buffer[J]=~~(127.5+jS*127.5);
u.buffer[J+1]=~~(127.5+fH*127.5);u.buffer[J+2]=~~(127.5+ap*127.5)}}if(l=="defr"){var m=o.rect.Q,V=o.rect._;
f7(o.buffer,m,V,u.buffer)}if(l=="dDFT"||l=="iDFT"){function bF(kC){if(kC==0)return 1;kC--;kC|=kC>>1;
kC|=kC>>2;kC|=kC>>4;kC|=kC>>8;kC|=kC>>16;return kC+1}var m=o.rect.Q,V=o.rect._,iN=bF(Math.max(m,V)),br=iN>>>1,aV=new gt(0,0,iN,iN),ay=new gt(0,0,m,V);
ay.y=iN-V>>>1;var fP=m>>>1,aG=new gt(0,ay.y,fP,V),f6=new g.Q9(m*V);g.gV(o.buffer,f6);var dC=new Float64Array(iN*iN),ih=new Float64Array(iN*iN),T=g.o(iN*iN);
FFT.init(iN);var jk=[f6.$,f6.H,f6.J];for(var v=0;v<3;v++){var ir=jk[v];T.fill(0);if(l=="dDFT"){g.mB(ir,ay,T,aV);
at.aoN(T,iN,dC,ih);g.mB(T,aV,ir,ay,aG);aG.x+=fP;aV.x-=br-fP;g.mB(T,aV,ir,ay,aG);aG.x-=fP;aV.x+=br-fP}else{g.mB(ir,ay,T,aV,aG);
aG.x+=br;ay.x+=br-fP;g.mB(ir,ay,T,aV,aG);aG.x-=br;ay.x-=br-fP;at.a6H(T,iN,dC,ih);g.mB(T,aV,ir,ay)}}g.xQ(f6,u.buffer)}if(l=="Avrg"){var kD=0,bx=0,bz=0,bX=0,eq=1;
for(var v=0;v<o.buffer.length;v+=4){var c=o.buffer[v+3];bz+=o.buffer[v]*c;bx+=o.buffer[v+1]*c;kD+=o.buffer[v+2]*c;
bX+=c}var ge=1/bX;kD=Math.round(eq*(kD*ge)+(1-eq)*255);bx=Math.round(eq*(bx*ge)+(1-eq)*255);bz=Math.round(eq*(bz*ge)+(1-eq)*255);
g.M5(u.buffer,kD<<16|bx<<8|bz,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(l)!=-1){var a_=D.Rds?D.Rds.v.val:1,gL=l=="boxblur"?g.l5.am:g.l5.sO;
at.ld(a_,gL,u.buffer,u.rect);if(l=="UnsM"||l=="smartSharpen"){var jh=(D.Amnt?D.Amnt.v.val:200)/100,iA=0;
if(l=="UnsM")iA=D.Thsh.v;else jh*=.75;for(var v=0;v<o.buffer.length;v++){if((v&3)==3){u.buffer[v]=o.buffer[v];
continue}var jd=o.buffer[v],i5=u.buffer[v],cC=jh*(jd-i5);if(cC>0)cC=Math.max(0,cC-iA);else cC=Math.min(0,cC+iA);
u.buffer[v]=Math.max(0,Math.min(255,jd+cC))}}if(l=="HghP")for(var v=0;v<o.buffer.length;v++){if((v&3)==3){u.buffer[v]=o.buffer[v];
continue}var jd=o.buffer[v],i5=u.buffer[v];u.buffer[v]=Math.max(0,Math.min(255,128+jd-i5))}}if(l=="AdNs"){var jV=new Uint8ClampedArray(u.buffer.buffer),jN=255*D.Nose.v.val/100,d9;
if(D.Dstr.v.Dstr=="Gsn")d9=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else d9=function(){return Math.random()*2-1};for(var v=0;v<jV.length;v+=4){var dH=jV[v],dm=jV[v+1],kh=jV[v+2],hl,hx,bb;
if(D.Mnch.v){hl=hx=bb=d9()}else{hl=d9();hx=d9();bb=d9()}dH+=jN*hl;dm+=jN*hx;kh+=jN*bb;jV[v]=dH;jV[v+1]=dm;
jV[v+2]=kh}}var cz=Date.now();if(l=="Mdn "||l=="DstS"||l=="Mxm "||l=="Mnm "||l=="surfaceBlur"){var dH=0,fc=D.Thsh,f0=0;
if(fc)fc=fc.v;else fc=0;if(l=="Mdn "||l=="Mxm "||l=="Mnm "||l=="surfaceBlur")dH=D.Rds.v.val;else dH=D.Rds.v;
var cW=10*Math.ceil(dH/10),m=o.rect.Q,V=o.rect._,hu=["Mnm ","Mxm ","surfaceBlur"].indexOf(l),aQ=(f0==0?1:.75)*[.73,.73,1.2][hu]*(m*V*Math.pow(cW*cW,1.05))/6022387,c6=.6*(m*V*Math.pow(dH,1/2.6))/6500;
if(l=="Mxm "||l=="Mnm ")c6=m*V/13e3;var cF=D.preserveShape;if(cF&&cF.v.preserveShape=="Rndn")f0=1;if(kx.X7&&hu!=-1&&(aQ<c6||f0==1)&&aQ<500){var i=kx.jx(0,m,V);
i.set(o.buffer);var s=kx.jx(1,m,V);kx._J(s);kx.filter.xd({type:kx.filter.alC,DW:new Float32Array([1/m,1/V]),Yf:dH,ait:fc/255,Bt:[f0,hu,cW]},i.mn);
s.get(u.buffer)}else if(l=="Mxm "||l=="Mnm "){var m=o.rect.Q,V=o.rect._;g.AF.acS(o.buffer,u.buffer,m,V,1+Math.floor(D.Rds.v.val)*2,l=="Mxm ")}else{dH=Math.round(dH);
g.cs.f3=.5;g.cs.FJ=fc;var gL=l=="surfaceBlur"?1:0;g.cs.Yk(o.buffer,u.buffer,m,V,dH,gL);if(l=="DstS")for(var v=0;
v<m*V*4;v++){var bA=Math.abs(o.buffer[v]-u.buffer[v]);if(bA<=fc)u.buffer[v]=o.buffer[v]}}}if(l=="ClrH"){var aG=o.rect.clone(),jX=0;
aG.x=aG.y=0;var dH=D.Rds.v;dH=dH*Math.sqrt(2);var m=aG.Q,V=aG._,dO=g.WG(m,V),eS=new Float32Array(256);
for(var v=0;v<256;v++){var aq=v/255,a_=Math.sqrt(aq*(1/Math.PI));if(a_>.5)a_=.5+Math.pow((a_-.5)/(.564-.5),1.35)*.2;
eS[v]=dH*a_}var jC=Math.floor(2*m/dH),bw=Math.floor(2*V/dH),i_=10-(dH-54*Math.sqrt(2))*1.5,iq=[o.buffer,aG];
g.Na(iq);while(iq[jX*2+1].Q>1.5*m/dH)jX++;var h3=iq[jX*2+1],ij=iq[jX*2],k4=g.o(h3.c()),cR=1/(1<<jX),iC=h3.Q,f4=h3._,T=g.o(m*V);
for(var h4=0;h4<3;h4++){g.mA(ij,k4,h4);g.L5(k4);var dR=Math.PI*D["Ang"+(h4+1)].v/180,bR=new de;bR.translate(-m/2,-V/2);
bR.rotate(-dR);bR.translate(m/2,V/2);dO.clearRect(0,0,m,V);for(var a=-(bw>>>2);a<bw;a++)for(var I=-(jC>>>2);
I<jC;I++){var bT=bR.wq(new he((I+.5)*dH-i_,(a+.5)*dH-i_)),b0=Math.max(0,Math.min(bT.x*cR,iC-.51)),i6=Math.max(0,Math.min(bT.y*cR,f4-.51)),q=~~g.t.kM(b0,i6,k4,iC,f4);
dO.beginPath();dO.arc(bT.x,bT.y,eS[q],0,2*Math.PI);dO.fill()}var ko=dO.getImageData(0,0,m,V);g.mA(ko.data,T,3);
g.L5(T);g.Kl(T,u.buffer,h4)}}if(l=="Crst"||l=="Pntl"){var m=o.rect.Q,V=o.rect._,gL=l=="Crst"?g.fc.a7g:g.fc.aem;
gL(o.buffer,m,V,u.buffer,D.ClSz.v,[Math.round(_.$),Math.round(_.H),Math.round(_.J)])}if(l=="Mztn"){var m=o.rect.Q,V=o.rect._,q=m*V,f6=new g.Q9(q),hN=[f6.$,f6.H,f6.J];
g.gV(o.buffer,f6);var ka=D.MztT.v.MztT,dc={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[ka],cz=Date.now(),a7=[];
for(var v=0;v<q;v++){a7[v]=Math.random()}var q=m*V,fC=Math.round(q*dc[0]),e7=q-m-1;for(var v=0;v<fC;
v++){var dg=Math.random(),hz=1;if(dg<.5){hz=m;dg*=2}else dg=2*(dg-.5);var aw=Math.floor(dg*e7),i4=aw+hz;
a7[aw]=a7[i4]}var gM=Math.round(m*dc[1]);for(var a=0;a<V;a++)for(var v=0;v<gM;v++){var dg=g.z._5(a*q+v),aw=a*m+Math.floor(dg*(m-1));
a7[aw]=a7[aw+1]}var kj=new Float64Array(256);for(var v=0;v<256;v++){var cx=v/255,hX=2*(cx<.5?cx:1-cx);
hX=dc[2]+Math.pow(hX,dc[3])*(1-dc[2]);cx=cx<.5?hX*.5:1-hX*.5;kj[v]=cx}for(var d4=0;d4<3;d4++){var T=hN[d4];
for(var a=0;a<V;a++){for(var I=0;I<m;I++){var v=a*m+I,bj=T[v],cx=kj[bj],dg=a7[v];T[v]=dg>cx?0:255}}}g.xQ(f6,u.buffer)}if(l=="Msc "){var gx=D.ClSz.v.val,m=o.rect.Q,V=o.rect._,dK=Math.ceil(m/gx),fz=Math.ceil(V/gx),d2=g.o(dK*fz*4);
g.scale.gp(o.buffer,m,V,d2,dK,fz,1/gx);g.scale.gp(d2,dK,fz,u.buffer,m,V,gx)}if(l=="Clds"||l=="DfrC"){var m=u.rect.Q,V=u.rect._,q=m*V,dv=g.o(q);
if(l=="Clds")g.M5(u.buffer,4278190080);var gP=g.o(256*4);for(var v=0;v<256;v++){var J=v<<2,gu=v/255,dj=1-gu;
gP[J]=Math.round(gu*H.$+dj*_.$);gP[J+1]=Math.round(gu*H.H+dj*_.H);gP[J+2]=Math.round(gu*H.J+dj*_.J)}g.g.aiB(o.buffer,m,V,dv);
var jg=u.buffer;for(var v=0;v<q;v++){var J=v<<2,d4=dv[v]<<2,dH=gP[d4],dm=gP[d4+1],kh=gP[d4+2];if(l=="Clds"){jg[J]=dH;
jg[J+1]=dm;jg[J+2]=kh}else{jg[J]=Math.abs(jg[4*v]-dH);jg[J+1]=Math.abs(jg[4*v+1]-dm);jg[J+2]=Math.abs(jg[4*v+2]-kh)}}}if(l=="LnsF"){var m=o.rect.Q,V=o.rect._,ka=["Zm","Nkn","Nkn1","PnVs"].indexOf(D.Lns.v.Lns),kq=D.FlrC.v,bB=[Math.min(ka,2),D.Brgh.v/100,kq.Hrzn.v,kq.Vrtc.v],cz=Date.now();
g.a9h(o.buffer,m,V,u.buffer,bB)}var e8=["Blr ","BlrM","Shrp","ShrM"].indexOf(l);if(e8!=-1){var hw=e8>1,m=o.rect.Q,V=o.rect._,jG=g.$z.lF[e8],gD=o.buffer.slice(0);
if(!hw)g.IQ(gD);g.$z.Z_(gD,u.buffer,m,V,jG,255,!1,hw);if(!hw)g.PU(u.buffer)}if(l=="MtnB"){var cH=-D.Angl.v*Math.PI/180,kw=D.Dstn.v.val/2,cz=Date.now(),m=o.rect.Q,V=o.rect._,w=o.rect.clone();
w.x=w.y=0;if(kx.X7){var cz=Date.now(),jH=u.buffer;jH.set(o.buffer);g.IQ(jH);var jn=kx.jx(0,m,V);jn.set(jH);
var ad=g.o(4);ad[0]=Math.round(128+127*Math.cos(cH));ad[1]=Math.round(128+127*Math.sin(cH));new Uint32Array(jH.buffer).fill(new Uint32Array(ad.buffer)[0]);
var aH=kx.jx(1,m,V);aH.set(jH);kx._J(jn,w);jn.XJ(w);kx.filter.xd({type:kx.filter.zQ,rj:aH.mn,DW:new Float32Array([1/m,1/V]),a3N:kw/2,aoC:1},jn.M4);
jn.get(jH);g.PU(jH)}else{var hj=new de;hj.rotate(cH);var U=p.cA.in([o.buffer,o.rect],hj,!1,null,!0);
at.ld(kw,g.l5.aa4,U.buffer,U.rect);hj.L5();U=p.cA.in([U.buffer,U.rect],hj,!1,u.buffer.buffer,!0,u.rect)}console.log(Date.now()-cz)}if(l=="RdlB"){var m=o.rect.Q,V=o.rect._,jh=D.Amnt.v,bP=D.BlrM.v.BlrM=="Zm",h4=D.Cntr.v,i7=h4.Hrzn.v,im=h4.Vrtc.v,Q=Math.max(i7,1-i7)*m,A=Math.max(im,1-im)*V,a_=Math.sqrt(Q*Q+A*A),fK=2*Math.PI*a_*1.5,kc=Math.round(fK),fl=Math.round(a_),aG=new gt(0,0,kc,fl),eL=g.o(kc*fl*4),jD=bP?4:1,eu=bP?.6:8*((m+V)/2)/1400,gO=.1,cR=1,jC=1;
g.t.a62(o.buffer,m,V,eL,kc,fl,i7,im,jD,gO,cR,jC);var gN=bP?g.o(kc*fl*4):null;if(bP){g.t.ji(eL,gN,kc,fl);
var eY=gN;gN=eL;eL=eY;aG.Q=fl;aG._=kc}at.ld(eu*jh,g.l5.aa4,eL,aG);if(bP){g.t.ji(eL,gN,fl,kc);var eY=gN;
gN=eL;eL=eY;aG.Q=kc;aG._=fl}g.t.ab3(eL,kc,fl,u.buffer,m,V,i7,im,jD,gO,cR,jC)}if(l=="Plr "){var m=o.rect.Q,V=o.rect._;
if(D.Cnvr.v.Cnvr=="RctP")g.t.ab3(o.buffer,m,V,u.buffer,m,V,.5,.5,1,0,2,m/V);else g.t.a62(o.buffer,m,V,u.buffer,m,V,.5,.5,1,0,2,m/V)}if(l=="FndE"){var m=o.rect.Q,V=o.rect._;
g.$z.atN(o.buffer,u.buffer,m,V)}if(l=="oilPaint"){var dR=D.LghD.v*Math.PI/180,al=[Math.cos(dR),Math.sin(dR),.001],i$=[D.stylization.v,D.cleanliness.v,D.brushScale.v,D.microBrush.v,D.lightingOn.v,D.specularity.v,al],w=o.rect.clone();
w.x=w.y=0;g.KX.filter(o.buffer,w,u.buffer,i$)}if(l=="Ofst"){var m=o.rect.Q,V=o.rect._,fp=new Uint32Array(o.buffer.buffer),kk=new Uint32Array(u.buffer.buffer),iJ=D.Hrzn.v,ht=D.Vrtc.v,c7=D.Fl.v.FlMd;
g.M5(kk,0);if(c7=="Bckg"||c7=="Rpt"){var aG=o.rect.clone();aG.offset(iJ,ht);g.Qo(fp,aG,kk,u.rect)}if(c7=="Rpt"){var ar,ao,fn,k8,fN;
iJ=Math.max(-m,Math.min(m,iJ));ht=Math.max(-V,Math.min(V,ht));ar=iJ>0?iJ:0;fn=iJ>0?m:m+iJ;ao=ht>0?0:ht+V;
k8=ht>0?ht:V;fN=ht>0?0:m*(V-1);for(var a=ao;a<k8;a++)for(var I=ar;I<fn;I++)kk[a*m+I]=fp[fN+I-iJ];ar=iJ>0?0:m+iJ;
fn=iJ>0?iJ:m;ao=ht>0?ht:0;k8=ht>0?V:V+ht;fN=iJ>0?0:m-1;for(var a=ao;a<k8;a++)for(var I=ar;I<fn;I++)kk[a*m+I]=fp[fN+m*(a-ht)];
if(iJ>=0&&ht>=0){ar=0;fn=iJ;ao=0;k8=ht;fN=0}if(iJ>=0&&ht<0){ar=0;fn=iJ;ao=V+ht;k8=V;fN=m*(V-1)}if(iJ<0&&ht>=0){ar=m+iJ;
fn=m;ao=0;k8=ht;fN=m-1}if(iJ<0&&ht<0){ar=m+iJ;fn=m;ao=V+ht;k8=V;fN=m*V-1}for(var a=ao;a<k8;a++)for(var I=ar;
I<fn;I++)kk[a*m+I]=fp[fN]}if(c7=="Wrp"){iJ=(iJ+100*m)%m;ht=(ht+100*V)%V;var aG=new gt(iJ-m,ht-V,m,V);
g.Qo(fp,aG,kk,u.rect);aG.offset(m,0);g.Qo(fp,aG,kk,u.rect);aG.offset(0,V);g.Qo(fp,aG,kk,u.rect);aG.offset(-m,0);
g.Qo(fp,aG,kk,u.rect)}}if(l=="Rept"){var aj=D.Rsft.v.val/100,g3=D.SpcX.v.val/100;g3=Math.max(g3,-.99);
var gA=D.SpcY.v.val/100;gA=Math.max(gA,-.99);var cR=D.Scl.v.val/100,hj=new de;hj.rotate(D.Angl.v*Math.PI/180);
hj.scale(cR,cR);var kE={buffer:o.buffer,rect:o.rect};g.yl(kE);if(kE.rect.lh()){kE.buffer=o.buffer;kE.rect=o.rect}var jg=kE.buffer,aG=kE.rect,cy=g.fP(jg,aG,0),dT=new Uint32Array(jg.buffer)[0];
if(!cy.lh()&&!cy.kn(aG)){var bZ=g.o(cy.c()*4);g.Qo(jg,aG,bZ,cy);jg=bZ;aG=cy}aG.x=aG.y=0;dT=g3==0&&gA==0&&!g.pz(o.buffer)||D.SpcC.v?dT:0;
function d8(I){return I<0?Math.ceil(I):Math.floor(I)}var iV=hj.wq(new he(aG.Q,0));iV.x=d8(iV.x);iV.y=d8(iV.y);
var jp=hj.wq(new he(0,aG._));jp.x=d8(jp.x);jp.y=d8(jp.y);var U=p.cA.in([jg,aG],hj,!1),ay=U.rect,j0=U.buffer,gy=Math.round(ay.x),aZ=Math.round(ay.y),av=Math.max(u.rect.Q,u.rect._)/Math.min(aG.Q*cR*(1+g3),aG._*cR*(1+gA));
av=Math.ceil(av*1.7);g.M5(u.buffer,dT);for(var a=-av;a<av;a++){for(var I=-av;I<av;I++){var cS=(I+a*aj)*(1+g3),ji=a*(1+gA);
ay.x=gy+Math.round(cS*iV.x+ji*jp.x);ay.y=aZ+Math.round(cS*iV.y+ji*jp.y);if(ay.Q5(u.rect))g.z.JM("norm",j0,ay,u.buffer,u.rect,ay,1)}}}if(l=="Ctoa"){var _=g.G.s3(D.Clr.v),fc=D.Trsp.v.val/100,e4=D.Opct.v.val/100;
fc=e4==0?0:fc/e4;var m=o.rect.Q,V=o.rect._,bs=~~_.$,i2=~~_.H,gY=~~_.J,fN=o.buffer,cK=u.buffer;for(var a=0;
a<V;a++)for(var I=0;I<m;I++){var v=a*m+I,J=v<<2,aG=fN[J],iu=fN[J+1],jg=fN[J+2],da=Math.abs(bs-aG),fV=Math.abs(i2-iu),g6=Math.abs(gY-jg),hG=Math.max(da,fV,g6)*(1/255);
hG=Math.max(0,Math.min(1,hG/e4));var jL=hG==0?0:1/hG,ek=fc==1?1:Math.max(0,Math.min(1,(hG-fc)/(1-fc)));
cK[J]=Math.max(0,Math.min(255,(aG-bs*(1-hG))*jL));cK[J+1]=Math.max(0,Math.min(255,(iu-i2*(1-hG))*jL));
cK[J+2]=Math.max(0,Math.min(255,(jg-gY*(1-hG))*jL));cK[J+3]=Math.min(cK[J+3],~~(.5+ek*255))}}if(l=="Dthr"){function fd(I){return~~(.5+255*g.vH(I/255))}var bf=D.Plte.v,eZ;
if(bf==0)eZ=[4278190080,4294967295];else{var eT=[[1,1,1],[2,2,2],[3,3,2]][bf-1],jA=[1<<eT[0],1<<eT[1],1<<eT[2]],hO=[~~(255/(jA[0]-1)),~~(255/(jA[1]-1)),~~(255/(jA[2]-1))];
eZ=[];for(var dH=0;dH<jA[0];dH++)for(var dm=0;dm<jA[1];dm++)for(var kh=0;kh<jA[2];kh++)eZ.push(255<<24|fd(kh*hO[2])<<16|fd(dm*hO[1])<<8|fd(dH*hO[0]))}var m=o.rect.Q,V=o.rect._,q=m*V,b9=q*4,ij=o.buffer.slice(0),j2=u.buffer;
for(var v=0;v<b9;v++)ij[v]=~~(.5+255*g.vH(ij[v]/255));var bM=g.o(m*V);UPNG.encode.dither(ij,m,V,eZ,j2,bM,D.Mthd?D.Mthd.v:1);
for(var v=0;v<b9;v++)j2[v]=~~(.5+255*g.Xf(j2[v]/255))}if(l=="Part"){var iM=[D.RndS.v,D.Cont.v/100,D.Size.v,D.Dpth.v/100,D.Brgh.v/100,g.G.s3(D.Clr.v),D.Time.v,D.Blnk.v,D.Fall.v,D.Turb.v/100];
g.Ik.nW(u.buffer,o.rect.Q,o.rect._,iM)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(l)!=-1){var aD=S[0],m=o.rect.Q,V=o.rect._,kj,j$=0;
if(l=="LqFy")kj=gZ.x2(new Uint8Array(D.LqMe.v).buffer);else{var g_=3;if(l=="Wave")g_=Math.min(3,D.WLMn.v);
kj={pX:Math.floor(m/g_),B9:Math.floor(V/g_)};kj.map=new Float32Array(kj.pX*kj.B9*2);if(l=="LnCr"){var i7=.5*(kj.pX-1),im=.5*(kj.B9-1),gb=Math.max(Math.abs(0-i7),Math.abs(1-i7)),hs=Math.max(Math.abs(0-im),Math.abs(1-im)),bR=Math.sqrt(gb*gb+hs*hs),e1=0,i0=0,dY=-1,c9=2,cR=D.LnSi.v/100,bP=1/cR,kB=D.LnIa.v/100,a3=kB==0?1e-6:kB*4.6,fQ=bP/bR;
for(var a=0;a<kj.B9;a++){for(var I=0;I<kj.pX;I++){var Q=(I-i7)*fQ,A=(a-im)*fQ,dH=Math.sqrt(Q*Q+A*A)*a3,bV=Math.atan(dH),ez=kB>0?bV/dH:dH/bV,jC=i7+bR*ez*Q,bw=im+bR*ez*A,v=a*kj.pX+I<<1;
kj.map[v]=jC-I;kj.map[v+1]=bw-a}}}else if(l=="Kale"){var dK=kj.pX,fz=kj.B9,dh=(dK-1)*.5,jT=(fz-1)*.5,hA=D.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,aU=D.Mirr.v,eO=Math.PI*2/aU,cv=.5*eO;
for(var a=0;a<fz;a++)for(var I=0;I<dK;I++){var Q=I-dh,A=a-jT,aK=Math.sqrt(Q*Q+A*A),dR=Math.atan2(A,Q)+hA;
dR=dR%eO;if(dR>cv)dR=eO-dR;var jC=dh+Math.cos(dR-hA)*aK,bw=jT+Math.sin(dR-hA)*aK,v=(a*dK+I)*2;kj.map[v]=jC-I;
kj.map[v+1]=bw-a}}else if(l=="Dspl"&&aD.length!=0){j$=D.UndA.v.UndA=="WrpA"?2:1;var eA=D.DspF.v.pth,fs,kK=D.DspD,eg,hv,fe;
if(kK){var kD=kK.v;eg=kD[1]*256+kD[0];hv=kD[5]*256+kD[4];fe=new Uint8Array(kD.slice(10,10+eg*hv))}else{for(var v=0;
v<aD.length;v++)if(aD[v].Vj==eA)fs=aD[v];if(fs==null)fs=aD[0];fs.zG();var da=fs.f2[1],fe=g.o(da.c());
g.Hx(fs.f2[0],fe);eg=da.Q;hv=da._}kj={pX:eg,B9:hv};kj.map=new Float32Array(kj.pX*kj.B9*2);var es=2.54*D.HrzS.v*eg/m,em=2.54*D.VrtS.v*hv/V;
for(var a=0;a<kj.B9;a++){for(var I=0;I<kj.pX;I++){var bA=-.5+fe[a*eg+I]*(1/255),v=a*kj.pX+I<<1;kj.map[v]=bA*es;
kj.map[v+1]=bA*em}}}else if(l=="Pnch"||l=="Twrl"||l=="Sphr"||l=="ZgZg"){var jh=1,cH=Math.PI,kG=0,kp=1,d$=0,h4=3,gx=1.53,ez=1;
if(l=="Pnch"||l=="Sphr"||l=="ZgZg")jh=D.Amnt.v/100;if(l=="ZgZg"){kp=D.NmbR.v;d$=["ArnC","OtFr","PndR"].indexOf(D.ZZTy.v.ZZTy)}if(l=="Twrl")cH=D.Angl.v*Math.PI/180;
if(l=="Sphr")kG=["Nrml","HrzO","VrtO"].indexOf(D.SphM.v.SphM);function gL(I){I=Math.pow(I,1-I*.3-I*I*(I*I)*.5);
return-.225*Math.sin(I*Math.PI)}function k9(V,fY,dH,ar,ao,fn,k8,ez){var Q=fn-ar,A=k8-ao,b8=ar-V,jQ=ao-fY,gu=Q*Q+A*A,kh=2*(Q*b8+A*jQ),h4=b8*b8+jQ*jQ-dH*dH,hk=Math.sqrt(kh*kh-4*gu*h4),iw=ez/(2*gu),gC=(-kh+hk)*iw,eN=(-kh-hk)*iw;
return ez*Math.min(gC,eN)}var dK=kj.pX,fz=kj.B9,dh=kj.pX/2,jT=kj.B9/2,c1=1/dh,dH=Math.sqrt(h4*h4+1)/h4,ir=h4+Math.sqrt(1/(h4*h4));
if(jh<0){h4=1.72;dH=1;ir=h4;gx=-1;ez=-1}for(var a=0;a<fz;a++){var A=(a-jT)/jT;for(var I=0;I<dK;I++){var Q=(I-dh)*c1;
if(kG==1)A=0;else if(kG==2)Q=0;var db=Math.sqrt(Q*Q+A*A);if(db<1&&db!=0){var v=a*kj.pX+I<<1;if(l=="Pnch"){var dN=-jh*gL(db)/db;
kj.map[v]=Q*dN*dh;kj.map[v+1]=A*dN*jT}else if(l=="Sphr"){var eY=k9(0,ir,dH,0,0,db,h4,ez),i_=gx*jh*(eY-1);
kj.map[v]=Q*i_*dh;kj.map[v+1]=A*i_*jT}else if(l=="Twrl"){var dR=Math.atan2(A,Q)-cH*(1-db)*(1-db),aP=Math.cos(dR),am=Math.sin(dR);
kj.map[v]=(db*aP-Q)*dh;kj.map[v+1]=(db*am-A)*jT}else if(l=="ZgZg"){var aP=0,am=0,ja=jh*(.5-.5*Math.cos(db*kp*2*Math.PI))*(1-db);
if(d$==0){var dR=Math.atan2(A,Q)-3.5*ja;aP=db*Math.cos(dR);am=db*Math.sin(dR)}if(d$==1){ja=100/m*ja/db;
aP=(1-ja)*Q;am=(1-ja)*A}if(d$==2){var Y=512/m*ja*Math.PI/4;aP=Y+Q;am=Y+A}kj.map[v]=(aP-Q)*dh;kj.map[v+1]=(am-A)*jT}}}}}else if(l=="Shr "){var gh=JSON.parse(JSON.stringify(D.ShrP.v));
g.SA.h(gh,new de(0,255/127,255/127,0,-2,0));var a$=g.SA.KH(gh,kj.B9,!0);j$=D.UndA.v.UndA=="WrpA"?2:1;
for(var a=0;a<kj.B9;a++){var Q=-a$[a]*kj.pX;for(var I=0;I<kj.pX;I++){var v=a*kj.pX+I<<1;kj.map[v]=Q}}}else if(l=="Wave"){var g8=D.NmbG.v,hh=D.WLMn.v,bv=D.WLMx.v,hU=D.AmMn.v*(Math.PI/4),hY=D.AmMx.v*(Math.PI/4),ab=D.SclH.v/100,cP=D.SclV.v/100,ka=D.Wvtp.v.Wvtp,ja=Math.sin;
if(ka=="WvTr")ja=function(I){I*=2/Math.PI;return-.5+Math.abs(I%2-1)};if(ka=="WvSq")ja=function(I){I*=2/Math.PI;
return 1+2*Math.floor(I%2-1)};var ew=[],g1=new g.z.yu(D.RndS.v);for(var v=0;v<g8;v++){ew.push(g1.get()*10);
ew.push(Math.PI*g_/(hh+g1.get()*(bv-hh)));ew.push(ab*(hU+g1.get()*(hY-hU))/g_);ew.push(g1.get()*10);
ew.push(Math.PI*g_/(hh+g1.get()*(bv-hh)));ew.push(cP*(hU+g1.get()*(hY-hU))/g_)}var bg=[],iW=[],kf=Math.max(kj.pX,kj.B9);
for(var v=0;v<kf;v++){var Q=0,A=0;for(var af=0;af<g8;af++){var bS=af*6;Q+=ew[bS+2]*ja(ew[bS]+v*ew[bS+1]);
A+=ew[bS+5]*ja(ew[bS+3]+v*ew[bS+4])}bg[v]=A;iW[v]=Q}for(var a=0;a<kj.B9;a++){for(var I=0;I<kj.pX;I++){var v=a*kj.pX+I<<1;
kj.map[v]=iW[a];kj.map[v+1]=bg[I]}}j$=D.UndA.v.UndA=="WrpA"?2:1}else if(l=="Rple"){j$=1;var jh=D.Amnt.v/100,er=4,jf=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],iF=1,iU=1,b8=0,d3=["Sml","Mdm","Lrg"].indexOf(D.RplS.v.RplS);
if(d3==0){iF=1;iU=.2;b8=3}if(d3==2){iF=1;iU=2;b8=-1;jf=jf.reverse()}var kn=function(I,a){var h4=Math.cos,fI=0;
for(var v=0;v<er;v++)for(var af=0;af<er;af++)fI+=jf[v*er+af]*h4(I*(v+b8)-a*(af+b8));return fI},gR=Math.floor(50/g_),ho=new Float32Array(gR*gR*2),fv=iU*jh*.5/g_;
for(var a=0;a<gR;a++)for(var I=0;I<gR;I++){var i7=iF*I*2*Math.PI/gR,im=iF*a*2*Math.PI/gR,eE=kn(i7,im),Q=(kn(i7+.01,im)-eE)*100,A=(kn(i7,im+.01)-eE)*100,v=(a*gR+I)*2;
ho[v]=Q*fv;ho[v+1]=A*fv}for(var a=0;a<kj.B9;a++)for(var I=0;I<kj.pX;I++){var am=a%gR,aP=I%gR,v=a*kj.pX+I<<1,cQ=am*gR+aP<<1;
kj.map[v]=ho[cQ];kj.map[v+1]=ho[cQ+1]}}}g.rH.Y3(o.buffer,u.buffer,m,V,null,kj.map,kj.pX,kj.B9,j$)}return u};
var kL={};kL.adi="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");kL.Ag="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
kL.rF=["ScrC","ScrD","ScrL"];kL.hH=["SDRD","SDHz","SDLD","SDVt"];kL.wH="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
kL.hG="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");kL.m6="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
kL.E$=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];kL.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
kL.ts=function(l){var o;if(l=="ClrP")o={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(l=="Ct")o={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(l=="DryB")o={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(l=="FlmG")o={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(l=="Frsc")o={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(l=="NGlw")o={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(l=="PntD")o={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(l=="PltK")o={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(l=="PlsW")o={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(l=="PstE")o={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(l=="RghP")o={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(l=="SmdS")o={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(l=="Spng")o={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(l=="Undr")o={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(l=="Wtrc")o={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(l=="AccE")o={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(l=="AngS")o={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(l=="Crsh")o={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(l=="DrkS")o={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(l=="InkO")o={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(l=="Smie")o={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(l=="Spt")o={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(l=="SprS")o={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(l=="DfsG")o={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(l=="Gls")o={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(l=="OcnR")o={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(l=="BsRl")o={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(l=="ChlC")o={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(l=="Chrc")o={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(l=="Chrm")o={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(l=="CntC")o={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(l=="GraP")o={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(l=="HlfS")o={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(l=="NtPr")o={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(l=="Phtc")o={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(l=="Plst")o={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(l=="Rtcl")o={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(l=="Stmp")o={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(l=="TrnE")o={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(l=="WtrP")o={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(l=="GlwE")o={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(l=="Crql")o={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(l=="Grn")o={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(l=="MscT")o={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(l=="Ptch")o={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(l=="StnG")o={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(l=="Txtz")o={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
o.__name="Filter Gallery";o.classID="GEfc";o.GEfk={t:"enum",v:{GEft:l}};o.GELv={t:"bool",v:!0};return o};
kL.X9=function(l,o){for(var v=0;v<o.length;v++)~~(o[v]=(l[4*v]+l[4*v+1]+l[4*v+2])*(1/3))};kL.anV=function(l,o,D,H,_,u){var S=UPNG.quantize(l,o);
S={QE:S.inds,Wo:S.plte};if(u){var h=new Uint32Array(S.Wo.length);for(var v=0;v<h.length;v++)h[v]=S.Wo[v].est.rgba;
S.QE=g.aoT(new Uint8Array(l),D,H,new Uint8Array(h.buffer))}var F=Math.floor((D+H)*.015);if(F!=0&&_)g.CR.a5R(S.QE,D,H,F);
return S};kL.Ok=function(l,o,D,H,_,u,S){l=D.GEfk.v.GEft;var h=o.rect,F=h.Q,n=h._,R=F*n,s=D.FlRs?D.FlRs.v>>>1:0;
function Z(B){return B.$<<24|B.H<<16|B.J<<8|255}if(l=="ClrP")g.g.abQ(o.buffer,F,n,u.buffer,[D.Pncl.v,D.StrP.v,D.PprB.v]);
if(l=="Ct"){var O=D.NmbL.v,w=D.EdgS.v,m=kL.anV(o.buffer.buffer,O*2,F,n,!0);for(var v=0;v<m.QE.length;
v++)m.QE[v]++;var V=new Uint8Array((F+2)*(n+2));g.mB(m.QE,new gt(1,1,F,n),V,new gt(0,0,F+2,n+2));var q=g.X.awH(V,F+2,n+2,w,!1),i=new de(1,0,0,1,-1,-1);
for(var v=0;v<q.length;v++)g.X.h(q[v].path.s,i,q[v].path.s);var c=[],z=m.Wo;for(var v=0;v<z.length;v++){var B=z[v].est.q;
c.push({$:Math.round(255*B[0]),H:Math.round(255*B[1]),J:Math.round(255*B[2]),M:Math.round(255*B[3])})}var t=g.WG(F,n);
for(var v=0;v<q.length;v++){var a=q[v],B=c[a.color-1];if(B.M==0)continue;t.fillStyle="rgba("+B.$+","+B.H+","+B.J+","+B.M/255+")";
t.beginPath();Typr.U.pathToContext({crds:a.path.s,cmds:a.path.v},t);t.fill()}if(!h.lh()){var I=t.getImageData(0,0,F,n);
g.Tg(I.data,u.buffer)}}if(l=="DryB")g.g.ab0(o.buffer,F,n,u.buffer,[D.BrsS.v,D.BrsD.v,D.Txtr.v]);if(l=="FlmG")g.g.ajF(o.buffer,F,n,u.buffer,[D.Grn.v,D.HghA.v,D.Intn.v,s]);
if(l=="Frsc")g.g.a9J(o.buffer,F,n,u.buffer,[D.BrsS.v,D.BrsD.v,D.Txtr.v]);if(l=="NGlw")g.g.awV(o.buffer,F,n,u.buffer,[D.Sz.v,D.Brgh.v,Z(g.G.s3(D.Clr.v)),Z(H),Z(_)]);
if(l=="PltK")g.g.arF(o.buffer,F,n,u.buffer,[D.StrS.v,D.StDt.v,D.Sftn.v]);if(l=="PstE")g.g.ako(o.buffer,F,n,u.buffer,[D.EdgT.v,D.EdgI.v,D.Pstr.v]);
if(l=="RghP")g.g.atg(o.buffer,F,n,u.buffer,[D.StrL.v,D.StDt.v,kL.wH.indexOf(D.TxtT.v.TxtT),D.Scln.v,D.Rlf.v,kL.Ag.indexOf(D.LghD.v.LghD),D.InvT.v]);
if(l=="SmdS")g.g.ao5(o.buffer,F,n,u.buffer,[D.StrL.v,D.HghA.v,D.Intn.v,D.FlRs?D.FlRs.v:0,s]);if(l=="Spng")g.g.amT(o.buffer,F,n,u.buffer,[D.BrsS.v,D.Dfnt.v,D.Smth.v,D.FlRs?D.FlRs.v:0,s]);
if(l=="Undr")g.g.aBA(o.buffer,F,n,u.buffer,[D.BrsS.v,D.TxtC.v,kL.wH.indexOf(D.TxtT.v.TxtT),D.Scln.v,D.Rlf.v,kL.Ag.indexOf(D.LghD.v.LghD),D.InvT.v]);
if(l=="Wtrc")g.g.atR(o.buffer,F,n,u.buffer,[D.BrsD.v,D.ShdI.v,D.Txtr.v]);if(l=="AccE")g.g.afl(o.buffer,F,n,u.buffer,[D.EdgW.v,D.EdgB.v,D.Smth.v]);
if(l=="AngS")g.g.a55(o.buffer,F,n,u.buffer,[D.DrcB.v,D.StrL.v,D.Shrp.v]);if(l=="Crsh")g.g.ac3(o.buffer,F,n,u.buffer,[D.StrL.v,D.Shrp.v,D.Strg.v]);
if(l=="DrkS")g.g.a91(o.buffer,F,n,u.buffer,[D.Blnc.v,D.BlcI.v,D.WhtI.v]);if(l=="InkO")g.g.amx(o.buffer,F,n,u.buffer,[D.StrL.v,D.DrkI.v,D.LghI.v]);
if(l=="Smie")g.g.aEh(o.buffer,F,n,u.buffer,[D.StrW.v,D.StrP.v,D.Cntr.v]);if(l=="DfsG")g.g.are(o.buffer,F,n,u.buffer,[D.Grns.v,D.GlwA.v,D.ClrA.v,Z(_),s]);
if(l=="CntC")g.g.azm(o.buffer,F,n,u.buffer,[D.FrgL.v,D.BckL.v,kL.wH.indexOf(D.TxtT.v.TxtT),D.Scln.v,D.Rlf.v,kL.Ag.indexOf(D.LghD.v.LghD),D.InvT.v,Z(_),Z(H)]);
if(l=="ChlC")g.g.anc(o.buffer,F,n,u.buffer,[D.ChrA.v,D.ChlA.v,D.StrP.v,s,Z(_),Z(H)]);var N=l=="GraP"||l=="Chrc"||l=="Plst"||l=="Rtcl"||l=="Stmp"||l=="TrnE";
if(N){var J=g.o(F*n);if(l=="GraP")g.g.aEe(o.buffer,F,n,u.buffer,[D.StrL.v,D.LgDr.v,kL.hH.indexOf(D.SDir.v.StrD),s]);
if(l=="Chrc")g.g.ap4(o.buffer,F,n,u.buffer,[D.ChAm.v,D.Dtl.v,D.LgDr.v]);if(l=="Plst")g.g.au0(o.buffer,F,n,u.buffer,[D.ImgB.v,kL.hG.indexOf(D.LghP.v.LghP),D.Smth.v]);
if(l=="Rtcl")g.g.anS(o.buffer,F,n,u.buffer,[D.Dnst.v,D.BlcL.v,D.WhtL.v,s]);if(l=="Stmp")g.g.aom(o.buffer,F,n,u.buffer,[D.LgDr.v,D.Smth.v]);
if(l=="TrnE")g.g.amF(o.buffer,F,n,u.buffer,[D.ImgB.v,D.Smth.v,D.Cntr.v,s]);g.mA(u.buffer,J,0);kL.Tm(J,u.buffer,H,_)}if(l=="NtPr")g.g.a64(o.buffer,F,n,u.buffer,[D.ImgB.v,D.Grns.v,D.Rlf.v,Z(H),Z(_),s]);
if(l=="WtrP")g.g.awa(o.buffer,F,n,u.buffer,[D.FbrL.v,D.Brgh.v,D.Cntr.v,s>>>1]);if(l=="Crql")g.g.ao9(o.buffer,F,n,u.buffer,[D.CrcS.v,D.CrcD.v,D.CrcB.v,s]);
if(l=="Grn")g.g.aq4(o.buffer,F,n,u.buffer,[D.Intn.v,kL.m6.indexOf(D.Grnt.v.Grnt),D.Cntr.v,Z(H),Z(_),s]);
if(l=="MscT")g.g.a4N(o.buffer,F,n,u.buffer,[D.TlSz.v,D.GrtW.v,D.LghG.v,s]);if(l=="Ptch")g.g.aht(o.buffer,F,n,u.buffer,[D.SqrS.v,D.Rlf.v,s]);
if(l=="Phtc"){function Q(gh,gx,h,dR){g.l5.Kt(gh,gx,h,dR);for(var v=0;v<R;v++)gx[v]=Math.max(0,Math.min(255,128+gh[v]-gx[v]))}var A=D.Dtl.v,f=D.Drkn.v,W=g.o(R);
g.Hx(o.buffer,W);var C=g.o(R);Q(W,C,h,1);if(A==1){A=2;f=Math.round(f/4)}var j=g.o(R);Q(W,j,h,A);for(var v=0;
v<R;v++)W[v]=Math.max(0,Math.min(255,255-(C[v]-j[v])*f));kL.Tm(W,u.buffer,H,_)}if(l=="Spt"||l=="SprS"){var K,$=1,r=1;
K={pX:Math.floor(F/r),B9:Math.floor(n/r)};K.map=new Float32Array(K.pX*K.B9*2);var U=new g.z.yu(s),b=new Float32Array(8192),e=D.SprR.v,P=e<20?.018*e:.36+(e-20)*.128;
if(l=="SprS"){P=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][e]}for(var v=0;
v<8192;v++)b[v]=(-1+2*U.get())*P*70;for(var L=0;L<n;L++)for(var Y=0;Y<F;Y++){var X=L*F+Y<<1;K.map[X]=b[X%7919];
K.map[X+1]=b[(X+1)%7919]}var G=K.map.slice(0),E=l=="Spt"?D.Smth.v-1:1;if(l=="Spt"&&E!=0){kL.a6a(K.map,G,F,n,E);
kL.ajQ(G,K.map,F,n,E)}if(l=="SprS"){var T=D.StrL.v>>>1,y=T==0?2:1;kL.a6a(K.map,G,F,n,y);kL.ajQ(G,K.map,F,n,y);
if(T!=0){var d4=kL.hH.indexOf(D.SDir.v.StrD),dH=[1,1,1,0][d4],bf=[-1,0,1,1][d4],jd=2*T+1,i5=1/jd;for(var L=0;
L<n;L++)for(var Y=0;Y<F;Y++){var X=L*F+Y<<1,fD=0,eo=0;for(var v=0;v<jd;v++){var iX=Math.max(0,Math.min(F-1,Y-(T+v)*dH)),cK=Math.max(0,Math.min(n-1,L-(T+v)*bf)),g0=cK*F+iX<<1;
fD+=K.map[g0];eo+=K.map[g0+1]}G[X]=fD*i5;G[X+1]=eo*i5}K.map=G}}g.rH.Y3(o.buffer,u.buffer,F,n,null,K.map,K.pX,K.B9,$)}if(l=="BsRl"||l=="PlsW"||l=="Chrm"){var bW=Date.now(),hF=g.o(R),aJ=hF.slice(0);
g.Hx(o.buffer,hF);var A=D.Dtl.v,iR=D.Smth.v;if(A!=15){g.l5.Cc(hF,aJ,h,Math.round((15-A)*.5));g.Tg(aJ,hF)}var ex=1.4/F,dX=1.4/n,iZ=new Float32Array(R),j3=new Float32Array(R),by=new Float32Array(u.buffer.buffer);
for(var L=0;L<n;L++)for(var Y=0;Y<F;Y++){var v=L*F+Y,dH=Y==F-1?hF[v]-hF[v-1]:hF[v+1]-hF[v],bf=L==n-1?hF[v]-hF[v-F]:hF[v+F]-hF[v],i9=Y*ex-.7,dm=L*dX-.7;
iZ[v]=dH==0?i9:dH*.4;j3[v]=bf==0?dm:bf*.4}if(l=="BsRl"){var kh=(2+kL.Ag.indexOf(D.LghD.v.LghD))*Math.PI*.25,fD=Math.cos(kh);
if(Math.abs(fD)<.1)fD=0;fD=Math.sign(fD);var eo=Math.sin(kh);if(Math.abs(eo)<.1)eo=0;eo=Math.sign(eo);
var jK=1/(fD*fD+eo*eo);for(var L=0;L<n;L++)for(var Y=0;Y<F;Y++){var v=L*F+Y,bd=Math.max(-1,Math.min(1,fD*iZ[v])),dz=Math.max(-1,Math.min(1,eo*j3[v]));
aJ[v]=128+127*(bd+dz)*jK}if(iR!=1){g.l5.Cc(aJ,hF,h,Math.round((iR-1)*.5));g.Tg(hF,aJ)}kL.Tm(aJ,u.buffer,H,_)}else{if(l=="Chrm")iR=5+iR;
if(iR>1)kL.ld(iZ,j3,by,h,iR-1);if(l=="PlsW"){var dw=new Uint8Array(iZ.buffer);for(var v=0;v<R;v++){var ev=v<<2,dH=iZ[v],bf=j3[v],aq=1/(Math.sqrt(1+dH*dH)*Math.sqrt(1+bf*bf)),e3=aq*aq,a9=e3*e3,B=~~(255*(a9*a9*e3));
dw[ev+0]=B;dw[ev+1]=B;dw[ev+2]=B;dw[ev+3]=B}u.buffer.set(o.buffer);g.z.JM("norm",dw,h,u.buffer,h,h,D.HghS.v/20)}else if(l=="Chrm"){var e0=u.buffer,as=F>>>1,eK=n>>>1;
for(var v=0;v<R;v++){var ev=v<<2,dH=iZ[v],bf=j3[v],gh={x:1,y:0,qi:dH};cN.nv(gh);var gx={x:0,y:1,qi:bf};
cN.nv(gx);var gc=cN.a1C(gh,gx),kQ=1/gc.qi,dn=~~Math.max(0,Math.min(F-1,as-gc.x*kQ*as)),bQ=~~Math.max(0,Math.min(n-1,eK-gc.y*kQ*eK)),B=hF[bQ*F+dn];
e0[ev+0]=B;e0[ev+1]=B;e0[ev+2]=B}}}}if(l=="Gls"||l=="OcnR"||l=="Txtz"){var iK=l=="OcnR"?2:kL.wH.indexOf(D.TxtT.v.TxtT),cJ=kL.mV(iK),i1=cJ[0],hF=cJ[1],bu=i1.Q,gi=i1._,jd=24,ee=0,aC,cI;
function iv(f$,fW,iC){return~~(d0*(f$+fW)+8192)&127}var iZ=new Float32Array(R),j3=new Float32Array(R),by=new Float32Array(u.buffer.buffer),d0=l=="OcnR"?1/(1+(D.RplS.v-1)*.1):100/D.Scln.v;
if(iK==3)d0*=32/22.2;var bW=Date.now(),af=d0,ex=1.4/F,dX=1.4/n;if(l=="Txtz"){af*=1/255;jd=256}for(var L=0;
L<n;L++){var eY=iv(L,h.y,gi),cK=eY+1&127;for(var Y=0;Y<F;Y++){var v=L*F+Y,hV=iv(Y,h.x,bu),iX=hV+1&127,i$=0,cz=0,fk=0;
if(l=="Txtz"){i$=g.t.kM(d0*Y,d0*L,hF,128,128);cz=g.t.kM(d0*Y,d0*L+1,hF,128,128);fk=g.t.kM(d0*Y+1,d0*L,hF,128,128)}else{i$=hF[eY*bu+hV];
cz=hF[cK*bu+hV];fk=hF[eY*bu+iX]}iZ[v]=Math.max(-jd,Math.min((fk-i$)*af,jd));j3[v]=Math.max(-jd,Math.min((cz-i$)*af,jd))}}if(l=="Txtz")kL.a8c(iZ,j3,by,h,6);
else kL.ld(iZ,j3,by,h,l=="Txtz"?1:l=="OcnR"?3.5/d0:D.Smth.v);if(l=="Txtz")ee=D.InvT.v?-1:1;else if(l=="Gls"){ee=[1,.4,.5,.5,.5,.5,.5][iK]*(Math.exp(D.Dstr.v*.155)-1);
if(D.InvT.v)ee=-ee}else{ee=.5*(Math.exp(D.RplM.v*.155)-1)}var e0=u.buffer;if(l=="Txtz"){var kh=(2+kL.Ag.indexOf(D.LghD.v.LghD))*Math.PI*.25,fD=Math.cos(kh),eo=Math.sin(kh);
aC={x:fD,y:eo,qi:0};cN.nv(aC);cI=D.Rlf.v;cI=cI/4+Math.max(0,(cI-35)*2)}function cZ(gh,gx,j0){var b1=g.z.overF(gx,gh,1),f$=(1-j0)*gh+j0*(j0*gx+(1-j0)*b1);
return f$*255}for(var L=0;L<n;L++)for(var Y=0;Y<F;Y++){var v=L*F+Y,ev=v<<2,dH=iZ[v],bf=j3[v],gh={x:1,y:0,qi:dH};
cN.nv(gh);var gx={x:0,y:1,qi:bf};cN.nv(gx);var gc=cN.a1C(gh,gx);if(l=="Txtz"){var ad=cN.a6Q(gc,aC)*ee,j0=1,B=1;
if(ad<0){B=0;ad=-ad}j0=Math.min(1,ad*cI);e0[ev+0]=~~cZ(o.buffer[ev]*(1/255),B,j0);e0[ev+1]=~~cZ(o.buffer[ev+1]*(1/255),B,j0);
e0[ev+2]=~~cZ(o.buffer[ev+2]*(1/255),B,j0)}else{var kQ=ee/gc.qi,dn=~~Math.max(0,Math.min(F-1,Y-gc.x*kQ)),bQ=~~Math.max(0,Math.min(n-1,L-gc.y*kQ)),cX=bQ*F+dn<<2;
e0[ev+0]=o.buffer[cX];e0[ev+1]=o.buffer[cX+1];e0[ev+2]=o.buffer[cX+2]}}}if(l=="PntD"){var bY=D.Shrp.v*.4,io=D.BrsT.v.BrsT,et={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[io],dR=Math.round(D.Sz.v*.5);
g.cs.f3=et[0];g.cs.Yk(o.buffer,u.buffer,F,n,dR,0,[]);var dZ=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];dZ=g.$z.B7(dZ);
var jh=u.buffer.slice(0);g.$z.Z_(jh,u.buffer,F,n,dZ,0);for(var v=0;v<o.buffer.length;v++){var jo=u.buffer[v]-jh[v];
u.buffer[v]=Math.max(0,Math.min(255,jh[v]+bY*jo))}}if(l=="GlwE"){var co=u.buffer.slice(0);g.cs.f3=.5;
g.cs.Yk(o.buffer,co,F,n,D.Smth.v>>>1,0,[]);g.$z.atN(co,u.buffer,F,n);g.Tg(u.buffer,co);g.L5(co);g.M5(co,4278190080,16777215);
g.AF.acS(co,u.buffer,F,n,(D.EdgW.v>>>1)*2+1,!0);var h3=D.EdgB.v/10;for(var v=0;v<co.length;v++){if((v&3)==3)continue;
var b1=u.buffer[v];u.buffer[v]=Math.max(0,Math.min(255,b1*h3))}}if(l=="StnG"){g.fc.azj(o.buffer,F,n,u.buffer,D.ClSz.v,[Math.round(H.$),Math.round(H.H),Math.round(H.J)],D.BrdT.v)}if(l=="HlfS"){var ij=D.HlSz.v,h0=ij*2+1,gn=D.Cntr.v,fS=kL.rF.indexOf(D.ScrT.v.ScrT),R=F*n,ka=R*4,g5=g.o(R),cs=o.buffer,ba=0,fT=0;
kL.X9(cs,g5);var cE=g5.slice(0);g.l5.a5x(cE,g5,h,ij);var dy=Math.PI/h0,fa=new Float64Array(F),fD=new Float64Array(F),h7=new Float64Array(2*F);
for(var Y=0;Y<F;Y++){var hV=(Y-(F>>>1))*dy;fa[Y]=hV*hV;fD[Y]=Math.cos(hV);var dH=Y<<1;h7[dH]=Math.sin(dH*(1/4.5));
h7[dH+1]=Math.sin((dH+1)*(1/4.5))}for(var L=0;L<n;L++){var eY=(L-(n>>>1))*dy,eo=Math.cos(eY),aI=eY*eY;
for(var Y=0;Y<F;Y++){var B=eo;if(fS==0){var ar=.5+Math.sqrt(fa[Y]+aI)*4.5;B=h7[~~ar]}else if(fS==1){B=fD[Y]*eo}var v=L*F+Y,ao=g5[v]*(.75+.25*B),j0=cs[(v<<2)+3]*(1/255),fn=Math.max(0,Math.min(255,~~ao));
ba+=fn*j0,fT+=j0;g5[v]=fn}}ba/=fT;var k8=128+1.26*(ba-128),h3=.08+.25*Math.abs((128-ba)/128),aF=1+h3*gn;
for(var v=0;v<R;v++){var ao=k8+(g5[v]-k8)*aF;g5[v]=Math.max(0,Math.min(255,~~ao))}if(gn>46)g.round(g5);
kL.Tm(g5,u.buffer,H,_)}for(var v=0;v<o.buffer.length;v+=4)u.buffer[v+3]=o.buffer[v+3]};kL.Tm=function(l,o,D,H){var _=l.length,u=D.$,S=D.H,h=D.J,F=H.$,n=H.H,R=H.J;
for(var v=0;v<_;v++){var s=l[v]*(1/255),Z=1-s,O=v<<2;o[O]=~~(u*Z+F*s);o[O+1]=~~(S*Z+n*s);o[O+2]=~~(h*Z+R*s)}};
kL.mV=function(l){if(l==6)l=2;var o="blocks canvas frosted tinylens brick burlap".split(" ")[l];if(kL.w2==null)kL.w2=[];
if(kL.w2[l]==null){var D,H;if(l==2){H=new gt(0,0,128,128);var _=at.ts("AdNs");_.Mnch.v=!0;_.Dstr.v.Dstr="Gsn";
_.Nose.v.val=50;var D=g.o(H.c()*4),u=D.slice(0);new Uint32Array(u.buffer).fill(4286611584);at.Ok("AdNs",{buffer:u,rect:H},_,0,0,{buffer:D,rect:H})}else{var S=fj.iS.get("tex/"+o,!0)[0];
H=S.jH;D=new Uint8Array(S.data)}var h=g.o(H.c());g.mA(D,h,0);kL.w2[l]=[H,h]}return kL.w2[l]};kL.ld=function(l,o,D,H,_){if(_<=1){_=Math.round(_);
kL.a8c(l,o,D,H,[1,16,4][_]);return}var u=_*.42;if(l){g.l5.X6(l,H,u,3)}if(o){g.l5.X6(o,H,u,3)}};kL.a8c=function(l,o,D,H,_){var u=g.$z.B7([1,2,1,2,_,2,1,2,1]);
if(l){D.set(l);g.$z.a8o(l,D,H.Q,H._,u);l.set(D)}if(o){D.set(o);g.$z.a8o(o,D,H.Q,H._,u);o.set(D)}};kL.jk=function(l){if(l==null)return new he(0,0);
var o=0,D=l.GEfs?l.GEfs.v:[{v:l}];for(var v=0;v<D.length;v++){var H=D[v].v,u=1e4;if(H.GELv&&!H.GELv.v)continue;
var _=H.GEfk.v.GEft;if(_=="GlwE"||_=="Phtc"||_=="BsRl"||_=="PlsW"||_=="Chrm"||_=="Gls"||_=="OcnR"||_=="InkO")u=0;
o=Math.max(o,u)}return new he(o,o)};kL.aty=function(l){var o=[0,0,0,0,0,0,0,0,0,0,0,0,0],D=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][l];
for(var v=0;v<13;v++){var H=v-6;o[v]=1/(D*Math.sqrt(2*Math.PI))*Math.exp(-.5*(H/D)*(H/D))}return o};
kL.a6a=function(l,o,D,H,_){var u=kL.aty(_),S=6,h=13;for(var F=0;F<H;F++)for(var n=0;n<D;n++){var R=F*D+n<<1,s=0,Z=0;
for(var v=0;v<h;v++){var O=n+v-S,w=O<0?0:O>=D?D-1:O,m=(F*D+w)*2,V=u[v];s+=V*l[m];Z+=V*l[m+1]}o[R]=s;
o[R+1]=Z}};kL.ajQ=function(l,o,D,H,_){var u=kL.aty(_),S=6,h=13;for(var F=0;F<H;F++)for(var n=0;n<D;n++){var R=F*D+n<<1,s=0,Z=0;
for(var v=0;v<h;v++){var O=F+v-S,w=O<0?0:O>=H?H-1:O,m=(w*D+n)*2,V=u[v];s+=V*l[m];Z+=V*l[m+1]}o[R]=s;
o[R+1]=Z}};function b2(){}b2.Yi=[2,5,5,7,4,4];b2.Jv="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
b2.cu="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
b2.Rv=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
b2.oK=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
b2.kt=function(l){if(l=="passThrough")return"pass";return b2.Jv[b2.cu.indexOf(l)]};b2.De=function(l){if(l=="pass")return"passThrough";
return b2.cu[b2.Jv.indexOf(l)]};b2.getName=function(l){return b2.Rv[b2.Jv.indexOf(l)]};function d(){this.rect=null;
this.buffer=null;this.TY="norm";this.opacity=255;this.vN=!1;this.aU=!1;this.XL=0;this.zE=0;this.Sx=!0;
this.MZ=[];for(var v=0;v<10;v++)this.MZ.push(0,0,255,255);this.name=null;this.add={};this.l4=null;this.X4=null;
this.I=null;this.LL=null;this.axB=30;this.Jh=null;this.PS=null;this.sf=null;this.Nz=null;this.Ih=0;this.BF=!1;
this.qY=null;this.rD=new d.mI}d.mI=function(){this.$G=!0;this.F0=!0;this.ai=g.o(0);this.avj=g.o(0);this.aR=null;
this.YT={};this.ays=null;this.WM=null;this.Fu=null;this.II=null;this.Hc=null;this.w_=null;this.OD=null;
this.Ie=null;this.Yh=null;this.OT=null;this.vt=null;this.Mz=null;this.YD=!1};d.mI.prototype.ajW=function(){this.$G=null;
this.F0=!1;this.aR=null;this.YD=kx.X7};d.mI.prototype.akN=function(){cN.a9K(this.YT);this.ai=g.o(0);
this.avj=g.o(0);if(this.II)this.II.delete();if(this.Hc)this.Hc.delete();this.II=null;this.Hc=null;var l=[this.w_,this.OD,this.Ie,this.Yh,this.OT,this.vt];
for(var v=0;v<6;v++)if(l[v]!=null&&l[v]instanceof kx.Q9)l[v].delete();this.w_=null;this.OD=null;this.Ie=null;
this.Yh=null;this.OT=null;this.vt=null};d.prototype.V=function(l){if(l==null)l=this.rect.clone();if(this.rD.aR==null)this.rD.aR=l;
else this.rD.aR=this.rD.aR.tB(l)};d.prototype.Cl=function(){return this.add.lsct==jl.VV||this.add.lsct==jl.qb};
d.prototype.RR=function(){var l=this.add;return l.SoCo!=null||l.GdFl!=null||l.PtFl!=null||l.vstl!=null};
d.prototype.a9Y=function(){var l=this.add.lmfx;if(l==null)return;var o=["GrFl","patternFill"];for(var v=0;
v<o.length;v++){var D=cq.lZ[cq.order.indexOf(o[v])],H=l[D].v;if(H.length==0)continue;for(var _=0;_<H.length;
_++){var u=H[_].v;if(u.enab.v&&(u.Algn==null||!u.Algn.v))this.rD.F0=!0}}};d.prototype.aCk=function(){var l=this.I,o=this.rD.$G;
if(this.RR())l=this.KQ();if(!kx.X7)return l.LE();if(this.rD.Hc==null||o||kx.X7!=this.rD.YD){var D=l.fZ(),H=this.rD.Hc,_=null;
if(o!=!0&&o!=null){_=o.clone();_.offset(-D.x,-D.y)}if(H==null||H.Q!=D.Q||H._!=D._){H=this.rD.Hc=new kx.jF(D.Q,D._);
_=null}H.set(l.LE(),_)}return this.rD.Hc};d.prototype.a2G=function(l){var o=this.rect,D=this.buffer;
if(!kx.X7){var H=this.D3(l,D,o);if(H){D=H.G5;o=H.rect}return D}if(this.rD.aR!=null||kx.X7!=this.rD.YD){var H=this.D3(l,D,o);
if(H){D=H.G5;o=H.rect}var _=o;if(kx.X7!=this.rD.YD||this.rD.II==null||this.rD.II.Q!=_.Q||this.rD.II._!=_._){if(this.rD.II)this.rD.II.delete();
this.rD.II=new kx.Q9(_.Q,_._);this.rD.II.set(D)}else{var u=this.rD.aR.clone();u.offset(-o.x,-o.y);this.rD.II.set(D,u)}}return this.rD.II};
d.prototype.o9=function(){var l=this.I;if(this.RR())l=this.KQ();return l!=null&&l.isEnabled&&(!l.rect.lh()||l.s3()!=255)};
d.prototype.D3=function(l,o,D){if(this.pn()){var H=this.nN(l);if(H.I&&H.I.isEnabled&&(!H.I.rect.lh()||H.I.color==0)){var _=this.add.SoLd.filterFX.v;
H.I.dJ=_.filterMaskDensity?_.filterMaskDensity.v:255;H.I.L4=_.filterMaskFeather?_.filterMaskFeather.v:0;
var u=H.buffer,S=H.rect;if(S.c()<D.c()){S=D;u=g.o(S.c()*4);g.Qo(H.buffer,H.rect,u,S)}var h=H.I.C7(D);
g.L5(h);o=o.slice(0);g.z.vx(u,S,o,D,h,D,0,D,1);return{G5:o,rect:D}}}};d.prototype.aws=function(){var l={lg:!1,GR:!1,GF:0,OQ:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)l.GR=!0;if(this.KQ()&&this.KQ().isEnabled)l.lg=!0;if(l.lg&&l.GR){l.GF=this.KQ().rect.x-this.add.vmsk.KQ().rect.x;
l.OQ=this.KQ().rect.y-this.add.vmsk.KQ().rect.y}return l};d.prototype.C$=function(l,o){if(a8!=0)return;
if(o&&this.KQ().L4!=0){o=o.clone();var D=Math.round(this.KQ().L4*2.4);o.ag(D,D)}var H=!1;if(this.add.lsct==jl.fa)return;
var _=this,u=this.KQ()!=null&&this.KQ().cF,S=this.add.vmsk!=null&&this.add.vmsk.cF,h=this.aws(),F=JSON.stringify(h)!=this.rD.ays||h.lg&&u||h.GR&&S;
if(F){if(h.GR){var n=this.add.vmsk.KQ();if(h.lg){this.I=this.KQ().GM(n);this.rD.WM=new he(this.I.rect.x-this.KQ().rect.x,this.I.rect.y-this.KQ().rect.y)}else this.I=n}if(this.I)H=!0;
if(this.I)this.rD.Fu=new he(this.rect.x-this.I.rect.x,this.rect.y-this.I.rect.y);if(h.lg)this.KQ().cF=!1;
if(h.GR)this.add.vmsk.cF=!1;this.V(o)}else{if(h.lg&&h.GR){this.I.rect.x=this.KQ().rect.x+this.rD.WM.x;
this.I.rect.y=this.KQ().rect.y+this.rD.WM.y}}if(_.RR()){this.a6(l)}if(_.mF()){var R;if(this.I)R=new he(this.rect.x-this.I.rect.x,this.rect.y-this.I.rect.y);
if(this.I&&this.I.isEnabled&&(this.rD.Fu==null||!R.kn(this.rD.Fu))){this.rD.Fu=R;this.V(o);H=!0}}if(jW.get(_.add)!=null)H=!0;
if(H){var s=this.rD.$G;if(o&&s&&s!=!0)s=s.tB(o);else s=o?o:!0;this.rD.$G=s}this.rD.ays=JSON.stringify(h)};
d.prototype.a6=function(l){if(a8!=0)return;var o=this,D=o.add.vstk,H=new gt(0,0,l.Q,l._),_,u=o.add.vmsk?this.add.vmsk.KQ():null,F=!0,s;
if(u&&u.isEnabled&&u.s3()==0)_=u.fZ().clone();else _=H;var S=o.KQ();if(S&&S.isEnabled&&S.s3()==0)_=_.$o(o.I.fZ());
var h=u&&D;if(D&&(!D.strokeEnabled.v||D.strokeStyleLineWidth.v.val==0))h=!1;if(D&&!D.fillEnabled.v&&h)F=!1;
var n=g.o(_.c()*4);if(F){if(o.add.SoCo)cN.SS(n,o.add.SoCo.Clr.v);if(o.add.GdFl){var R=u&&u.color==0?g.n.kU(o.add.vmsk.d,null,!0):null;
cN.HZ(o.add.GdFl,n,_,l,null,R)}if(o.add.PtFl)cN.eT(o.add.PtFl,n,_,l.add.Patt,o.add.fxrp)}if(h)s=cq.K$.gU.indexOf(D.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(u){var Z=u.dJ;if(h)u.dJ=255;var O=g.o(_.c());if(u.s3()!=0)O.fill(Math.round(u.s3()));if(u&&u.isEnabled){var w=u.fZ(),m=u.LE();
if(w.kn(_))g.Tg(m,O);else g.mB(m,w,O,_)}if(h&&s==2){}else{if(o.add.SoCo&&F){g.Kl(O,n,3)}else g._c(O,_,n,_)}if(h)u.dJ=Z}o.buffer=n;
o.rect=_;if(h){var V=D.strokeStyleContent.v,q=cq.K$.Gl.indexOf(V.classID),i=this.add.vmsk.KQ(D);if(s!=0&&!o.rect.kn(H))o.extend(o.rect.tB(i.fZ()));
var Z=i.dJ;i.dJ=255;var c=i.C7(o.rect);i.dJ=Z;if(i.color==255)g.L5(c);var z=g.o(o.rect.c()*4);if(q==0)cN.SS(z,V.Clr.v);
if(q==1)cN.HZ(V,z,o.rect,l,null,u.color==0?u.rect:null);if(q==2)cN.eT(V,z,o.rect,l.add.Patt,o.add.fxrp);
var B=D.strokeStyleOpacity.v.val/100;if(B!=1)g.jd(c,B);if(i.color==255)s=2-s;if(s<2){g.z.vx(z,o.rect,o.buffer,o.rect,c,o.rect,255,o.rect,1,!1);
if(s==0)g.NY(O,o.buffer)}if(s==2){g.NY(c,z);g.L5(O);g.z.vx(z,o.rect,o.buffer,o.rect,O,_,255,o.rect,1,!1);
g.L5(O)}if(i.dJ!=255){var t=z.slice(0);g.M5(t,4278190080,16777215);g.z.JM("norm",t,o.rect,o.buffer,o.rect,o.rect,1-i.dJ/255)}Z=u.dJ;
u.dJ=255;this.avj=u.C7(o.rect);u.dJ=Z}this.V()};d.prototype.mP=function(l,o,D,H){var _=this,u=_.add.SoLd.Idnt.v,S=_.add.SoLd,h=p.cA.TX(S.nonAffineTransform),F=g.X.dm(h),n=l.Es(u,S.Crop?S.Crop.v:null,[F.Q,F._],S.Impr.v.classID,D),i=null;
if(n==null)return;var R=n.f2;S.Sz.v.Wdth.v=R[1].Q;S.Sz.v.Hght.v=R[1]._;if(a8!=0)return;var s=n.on==null?S.Rslt.v.val:n.on,Z=S.quiltWarp.v;
if(g.Y9.yL(Z))Z=null;var O=g.t.kb(h,R[1]);if(Z){var F=g.X.dm(g.Y9.N7(Z)[3]),w=F.x,m=F.y,V=1/F.Q,q=1/F._;
O=g.t.kb(h);O=g.t.GM(O,[V,0,-w*V,0,q,-m*q,0,0])}if(!o&&!_.pn()&&Z==null){var c=l.R.indexOf(_),z=d.n3(_);
for(var v=0;v<c;v++){var B=l.R[v];if(B.add.SoLd&&!B.pn()&&d.n3(B)[0]==z[0]){var t=d.n3(B);i={buffer:B.buffer.slice(0),rect:B.rect.clone()};
i.rect.offset(Math.round(z[1]-t[1]),Math.round(z[2]-t[2]));break}}}if(i==null)i=p.cA.Ua(R,o?0:1,O,Z,null,null,null,o);
if(i==null){_.buffer=g.o();_.rect=new gt}else if(_.pn()){var a=_.nN(l);if(H){a.buffer.fill(0);g.Qo(i.buffer,i.rect,a.buffer,a.rect)}else{a.buffer=i.buffer;
a.rect=i.rect.clone()}this.jQ(l,o)}else{_.buffer=i.buffer;_.rect=i.rect}_.C$(l);_.V();l.V()};d.n3=function(l){var o=l.add.SoLd,D=o.Idnt.v,H=p.cA.TX(o.nonAffineTransform),_=g.t.kb(H,new gt(0,0,1e3,1e3)),u=o.quiltWarp.v;
if(g.Y9.yL(u))u=null;return[[D,_[0],_[1],_[3],_[4],_[6],_[7],u==null].join(":"),_[2],_[5]]};d.prototype.jQ=function(l,o){if(o==null)o=!1;
var D=this.nN(l),H=this.add.SoLd.filterFX.v,_=at.a8u(H),u=new gt(0,0,l.Q,l._),S=D.rect.tB(u),h=D.rect.clone();
h.ag(_.x,_.y);var F={buffer:null,rect:S.$o(h)};F.buffer=g.o(F.rect.c()*4);g.Qo(D.buffer,D.rect,F.buffer,F.rect);
if(H.enab.v&&o==!1){var n=H.filterFXList.v;for(var v=0;v<n.length;v++){var R=n[v].v;if(R.enab.v==!1)continue;
var s=R.blendOptions.v,Z=b2.kt(s.Md.v.BlnM),O=s.Opct.v.val/100,w=g.G.s3(R.FrgC.v),m=g.G.s3(R.BckC.v),V=at.Vs(R),q={buffer:g.o(F.buffer.length),rect:F.rect.clone()},i=R.Fltr?R.Fltr.v:null;
if(jW.m_[V]!=null){var c=jW.m_[V],z=jW.Vz(c,i);if(z)jW.Ok(z,F.buffer,q.buffer,F.rect)}else at.Ok(V,F,i,w,m,q,[l.add.lnk2?l.add.lnk2:[],this.KQ(),l.Lx]);
if(Z=="norm"&&O==1)F=q;else if(Z=="norm"){g.z.vx(q.buffer,q.rect,F.buffer,F.rect,null,null,null,F.rect,O)}else{g.z.JM(Z,q.buffer,q.rect,F.buffer,F.rect,F.rect,O)}}}this.rect=F.rect;
this.buffer=F.buffer;this.Hf();this.V();l.V()};d.prototype.sn=function(l,o,D){this.qY=this.atc(l,o,D)};
d.prototype.Gw=function(l,o){var D=this.atc(l,o,!0);if(D==null)return null;var H={G$:D.Ih,L0:D.sM,rect:D.PH};
if(H.G$==1||H.G$==3){var _=H.rect,u=g.o(_.Q*_._*4);g.Kl(H.L0,u,0);g.Kl(H.L0,u,1);g.Kl(H.L0,u,2);g.axk(l.f.channel,l.f.rect,u,_);
H.L0=u}return H};d.prototype.atc=function(l,o,D){var H,_,u,S,h,F,n;if(this.Ih<=0){var R=g.o(this.rect.c());
g.mA(this.buffer,R,3);H=g.Tc.tL(o,{channel:R,rect:this.rect},3);if(H==null)return null;var s=g.uA(H.channel,H.rect);
S=H.rect.clone();h=this.rect.clone();_=g.o(S.c()*4);g.Qo(this.buffer,h,_,S);g.Kl(H.channel,_,3);u=this.buffer.slice(0);
if(!D){var Z=o.channel.slice(0);g.L5(Z);g._c(Z,o.rect,u,h)}F=this.buffer.slice(0);n=this.rect.clone()}if(this.Ih==1||this.Ih==3){var O=this.Ih==1?this.KQ():this.nN(l).I;
S=o.rect.clone();h=O.rect.clone();_=O.as(S);var u=O.channel.slice(0);if(!D)g.z.d_(O.color==255?g.QV(S.c()):g.c9(S.c()),S,u,h,o.channel,S,1);
F=O.channel.slice(0);n=O.rect.clone()}return{Ih:this.Ih,sM:_,PH:S,EZ:u,oz:h,vh:F,Q1:n}};d.prototype.Et=function(l,o){var D=this.qY;
if(D.Ih==0){this.rect=D.Q1;this.buffer=D.vh;this.V()}if(D.Ih==1||D.Ih==3){var H=D.Ih==1?this.KQ():this.nN(l).I;
H.channel=D.vh;H.rect=D.Q1;if(this.Ih==1){H.cF=!0;this.C$(l)}if(this.Ih==3)this.V()}this.qY=o};d.prototype.IJ=function(l,o){if(this.Ih<=0&&o.rect.kn(this.rect)){var D=g.o(this.rect.c());
g.mA(this.buffer,D,3);if(g.kn(l.f.channel,D)){var H=this.rect,_=this.buffer;this.qY={Ih:this.Ih,sM:_.slice(0),PH:H.clone(),EZ:g.o(0),oz:new gt,vh:g.o(0),Q1:new gt};
return!0}}var u=this.qY;if(u==null)return!1;if(u.Ih!=this.Ih)return!1;if(!o.rect.kn(u.PH))return!1;var S=u.oz.tB(u.PH);
if(u.Ih<=0){if(!S.kn(this.rect))return!1;var h=g.o(u.sM.length>>2);g.mA(u.sM,h,3);if(!g.kn(o.channel,h))return!1;
var F=g.o(S.Q*S._*4);g.Qo(u.EZ,u.oz,F,S);g.z.JM("norm",u.sM,u.PH,F,S,S,1);return g.kn(F,this.buffer)}if(u.Ih==1||u.Ih==3){var n=u.Ih==1?this.KQ():this.nN(l).I;
if(!S.kn(n.rect))return!1;var R=g.o(S.c());R.fill(n.color);g.mB(u.EZ,u.oz,R,S);g.z.d_(u.sM,u.PH,R,S,o.channel,S,1);
return g.kn(R,n.channel)}};d.prototype.HE=function(l,o,D,H){var _=this.qY;_.PH.offset(o,D);var u=_.oz.tB(_.PH);
if(_.Ih<=0){var S=g.o(u.c()*4);g.Qo(_.EZ,_.oz,S,u);g.z.JM("norm",_.sM,_.PH,S,u,u,1);this.buffer=S;this.rect=u;
this.V()}else{var h=this.Ih==1?this.KQ():this.nN(l).I,F=g.o(u.c());F.fill(h.color);g.mB(_.EZ,_.oz,F,u);
g.z.d_(_.sM,_.PH,F,u,H.channel,u,1);h.channel=F;h.rect=u.clone();if(this.Ih==1){h.cF=!0;this.C$(l)}if(this.Ih==3)this.V()}};
d.prototype.ayV=function(l){var o=[-1,0,1,2];if(l)o.push(3);if(this.I)o.push(-2);if(this.LL)o.push(-3);
return o};d.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};d.prototype.FH=function(kC){this.add.luni=this.name=kC};
d.prototype.Vo=function(l){var o=this.add.lnsr,D=this.add.TySh;if(o=="rend"&&D){var H=fX.PZ(D.PF);this.FH(H.slice(0,H.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
d.prototype.zd=function(){return(this.XL&1<<1)==0};d.prototype.mF=function(){return(this.XL&1<<4)==0};
d.prototype.fI=function(){return(this.XL&1<<5)!=0};d.prototype.aiA=function(){var l=this;if(l.add.lnsr!="bgnd"){l.add.lnsr="bgnd";
l.FH("Background");l.add.lspf=1<<2}};d.prototype.a46=function(){var l=this;if(l.add.lnsr=="bgnd"){delete l.add.lnsr;
l.FH("Layer 0");l.add.lspf=0}};d.prototype.Ji=function(l){var o=this.add.lspf;return o==null?!1:(o>>l&1)!=0};
d.prototype.rm=function(l){if(l&&!this.zd())this.XL-=2;if(!l&&this.zd())this.XL+=2};d.prototype.Zh=function(){var l=this.add.lmfx;
if(l==null)return!1;for(var o in l){if(o=="masterFXSwitch")continue;if(o=="Scl")continue;if(o=="classID")continue;
if(l[o].v.length>0)return!0}return!1};d.prototype.pn=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
d.prototype.AN=function(){var l=this.add.lmfx;if(l==null)return!1;if(!l.masterFXSwitch.v)return!1;for(var o in l){if(o=="masterFXSwitch")continue;
if(o=="Scl")continue;if(o=="classID")continue;var D=l[o].v;for(var v=0;v<D.length;v++)if(D[v].v.enab.v)return!0}return!1};
d.prototype.Eh=function(){var l=this,o=l.add.SoLd,D=l.add.TySh,H=l.add.vmsk,_=[];if(o)_=p.cA.TX(o.nonAffineTransform);
if(D&&this.rD.L2){_=g.X.YZ(l.rD.L2).s;g.X.h(_,D.h,_)}if(H)_=g.X.YZ(H.ar$()).s;return _};d.prototype.pZ=function(l,o,D,H){if(a8==1)return g.X.dm(this.Eh());
var _=new gt,u=this.Un(l,D,H);if(u.indexOf(0)!=-1)_=_.tB(this.rect);if(u.indexOf(1)!=-1){var S=this.KQ(),h=S.fZ();
_=D&&S.s3()==0?_.lh()?h:_.$o(h):_.tB(h)}if(u.indexOf(2)!=-1){var F=this.add.vmsk,n=this.add.vstk,R;if(o){if(F.Qt.length>1){var s=g.n.GL(F.d,null,F.Qt);
R=g.X.dm(s);if(R.lh())R=null}if(R==null)R=g.n.kU(F.d,F.T.length!=0?F.T:null)}else R=g.n.kU(F.d);if(!H&&n&&n.strokeEnabled.v){var Z=n.strokeStyleLineAlignment.v.strokeStyleLineAlignment,O=n.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(Z!="strokeStyleAlignInside"){var w=n.strokeStyleLineWidth.v.val;if(O=="strokeStyleMiterJoin")R=new gt(0,0,l.Q,l._);
else R.ag(w,w)}}_=_.tB(R)}if(u.indexOf(3)!=-1)_=_.tB(this.nN(l).I.fZ());if(u.length==0&&this.RR())_=H?new gt(0,0,0,0):new gt(0,0,l.Q,l._);
return _};d.prototype.y7=function(){var l=this.add.artb,o=l.artboardBackgroundType.v,D=0;if(o==1)D=4294967295;
else if(o==2)D=4278190080;else if(o==3)D=0;else if(o==4){D=l.Clr.v;D=255<<24|D.Bl.v<<16|D.Grn.v<<8|D.Rd.v}else throw o;
return D};d.prototype.IH=function(){var l=this.add.artb.artboardRect.v,o=l.Btom.v,D=l.Left.v,H=l.Rght.v,top=l.Top.v;
return new gt(D,top,H-D,o-top)};d.prototype.Hh=function(l){var o=d.dt(l);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=o};d.dt=function(l){var o={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
o.Btom.v=l.y+l._;o.Left.v=l.x;o.Rght.v=l.x+l.Q;o.Top.v=l.y;return o};d.prototype.Un=function(l,o,D){var H=[],_=this;
if(!o&&_.BF&&D){H.push(2)}else if(_.Ih<=0||o){if(_.mF()){if(a8==1&&_.add.TySh)H.push(0);if(a8==1&&_.add.SoLd)H.push(0);
else if(!this.rect.lh()||_.add.SoLd)H.push(0)}if(_.KQ()&&!_.KQ().rect.lh())if(_.KQ().uD||o)H.push(1);
if(_.add.vmsk)if(_.add.vmsk.uD||o)H.push(2);if(_.pn()&&_.nN(l).I&&!_.nN(l).I.rect.lh())H.push(3)}else if(_.Ih==1){H.push(1);
if(_.KQ().uD&&!_.KQ().rect.lh()){if(_.mF())if(!this.rect.lh())H.push(0);if(_.add.vmsk)if(_.add.vmsk.uD)H.push(2)}}else if(_.Ih==3&&!_.nN(l).I.rect.lh())H.push(3);
if(_.add.artb&&H.indexOf(0)==-1)H.push(0);H.sort();return H};d.prototype.KQ=function(){var l=this;return l.LL?l.LL:l.add.vmsk&&l.add.vmsk.isEnabled?null:l.I};
d.prototype.nN=function(l){var o=this.add.SoLd.placed.v,D=l.add.FEid;if(D==null)return null;for(var v=0;
v<D.length;v++)if(D[v].id==o)return D[v];return null};d.prototype.extend=function(l){g.a1e(this,l)};
d.prototype.a8P=function(l,o,D){var H=l.clone();if(this.AN()){var _=this.add.lmfx,u=o.root.sl(o.R.indexOf(this)),S=_.gradientFillMulti.v,h=!1;
for(var v=0;v<S.length;v++)if(S[v].v.enab.v&&S[v].v.Algn.v)h=!0;if(h)H=H.tB(u.fZ(o,!1));var F=cN.asH(this.add.lmfx,o,D);
H.offset(F.x,F.y);H.Q+=F.Q;H._+=F._}return H};d.prototype.Hf=function(){if(this.mF())g.yl(this);var l=this.KQ();
if(l)l.Hf()};d.prototype.clone=function(){var l=new d;l.rect=this.rect.clone();l.buffer=this.buffer.slice(0);
l.TY=this.TY;l.opacity=this.opacity;l.vN=this.vN;l.XL=this.XL;l.name=this.name;l.MZ=this.MZ.slice(0);
if(this.I)l.I=this.I.clone();if(this.LL)l.LL=this.LL.clone();for(var o in this.add)l.add[o]=aN.clone(o,this.add[o]);
return l};d.prototype.je=function(l){var o=this;if(o.add.TySh)delete o.add.TySh;if(o.add.SoLd){var D=this.D3(l,this.buffer,this.rect);
if(D){this.buffer=D.G5;this.rect=D.rect;this.V()}delete o.add.SoLd}if(o.add.SoCo||o.add.GdFl||o.add.PtFl){if(o.add.vogk)delete o.add.vogk;
if(o.add.SoCo)delete o.add.SoCo;if(o.add.GdFl)delete o.add.GdFl;if(o.add.PtFl)delete o.add.PtFl;if(o.add.vmsk){console.log(o.LL,o.I);
delete o.add.vmsk;if(o.LL==null&&o.I)delete o.I;else if(o.LL!=null&&o.I!=null){o.I=o.LL;delete o.LL}}}if(!o.Cl()&&jW.get(o.add)==null&&!this.mF())this.XL-=16};
d.prototype.p1=function(l){var o=255,D=0;if(l==2){var H=this.add.SoLd.filterFX.v;if(H.filterMaskDensity)o=H.filterMaskDensity.v;
if(H.filterMaskFeather)D=H.filterMaskFeather.v}else{var _=l==0?this.KQ():this.add.vmsk;o=_.dJ;D=_.L4}return{k4:l,mb:o,$Y:D}};
d.prototype.aim=function(l){if(l.k4==2){var o=this.add.SoLd.filterFX.v;if(l.mb==255)delete o.filterMaskDensity;
else o.filterMaskDensity={t:"long",v:l.mb};if(l.$Y==0)delete o.filterMaskFeather;else o.filterMaskFeather={t:"doub",v:l.$Y};
this.V()}else{var D=l.k4==0?this.KQ():this.add.vmsk;D.dJ=l.mb;D.L4=l.$Y;D.cF=!0}};d.prototype.Xv=function(){var l=this,o=l.add.vmsk;
if(o==null)return;l.add.vogk=g.uQ.afK(o.d)};d.Xv=function(l){var o=[],D=g.n.Ly(l);for(var H=0;H<D;H++)o.push(g.uQ.c9());
return o};var jl={f4:0,VV:1,qb:2,fa:3};d.ow=function(){this.name="Mask";this.Pj=!1;this.cr={$:255,H:0,J:0};
this.HJ=50;this.no=0;this.color=255;this.uD=!0;this.isEnabled=!0;this.qe=!1;this.dJ=255;this.L4=0;this.rect=new gt;
this.channel=g.o(0);this.cZ=null;this.auj=null;this.cF=!0};d.ow.prototype.GM=function(l){if(!this.isEnabled)return l;
var o=new d.ow;o.color=Math.round(this.s3()*l.s3()/255);if(this.s3()==0&&l.s3()==0)o.rect=this.fZ().$o(l.fZ());
else if(l.s3()==0)o.rect=l.fZ().clone();else if(this.s3()==0)o.rect=this.fZ().clone();else o.rect=this.fZ().tB(l.fZ());
o.channel=this.C7(o.rect);o.dJ=255;o.L4=0;var D=l.C7(o.rect);g.ajn(D,o.rect,o.channel,o.rect);return o};
d.ow.prototype.fZ=function(){if(this.L4==0)return this.rect;var l=Math.ceil(this.L4*2.2),o=this.rect.clone();
if(o.y==0){if(o.x==0)o.Q+=l;else o.ag(l,0);o._+=l}else o.ag(l,l);return o};d.ow.prototype.LE=function(){if(this.L4==0&&this.dJ==255)return this.channel;
if(this.L4==0){var l=this.channel.slice(0);g.L5(l);g.jd(l,this.dJ/255);g.L5(l);return l}var o=this.fZ(),D=this.as(o),l=g.o(o.c());
g.l5.Cc(D,l,o,this.L4);if(this.dJ!=255){g.L5(l);g.jd(l,this.dJ/255);g.L5(l)}return l};d.ow.prototype.s3=function(){return Math.round(255-(255-this.color)*(this.dJ/255))};
d.ow.prototype.extend=function(l){g.extend(this,l,this.color)};d.ow.prototype.Hf=function(){if(this.color==255)g.L5(this.channel);
g.Hf(this);if(this.color==255)g.L5(this.channel)};d.ow.prototype.clone=function(){var l=new d.ow;l.name=this.name;
l.Pj=this.Pj;l.cr=this.cr;l.HJ=this.HJ;l.no=this.no;l.color=this.color;l.uD=this.uD;l.isEnabled=this.isEnabled;
l.qe=this.qe;l.dJ=this.dJ;l.L4=this.L4;l.rect=this.rect.clone();l.channel=this.channel.slice(0);return l};
d.ow.prototype.as=function(l,o){if(o==null)o=g.o(l.c());o.fill(this.color);g.mB(this.channel,this.rect,o,l);
return o};d.ow.prototype.C7=function(l,o){var D=this.fZ(),H=this.LE();if(o==null)o=g.o(l.c());o.fill(this.s3());
g.mB(H,D,o,l);return o};d.dO=function(){this.uD=!0;this.isEnabled=!0;this.dJ=255;this.L4=0;this._8=0;
this.HN=0;this.d=[{type:6},{type:8,all:0}];this.Qz=[-3,-3];this.xD=!1;this.LL=null;this.cF=!0;this.T=[];
this.Qt=[]};d.dO.prototype.ar$=function(l){var o=d.dO.Wu(this.d),D=new de;if(l)D.rotate(-this._8);g.n.Am(o,D);
return g.n.kU(o)};d.dO.prototype.hI=function(){var l=this.ar$(!0),o=g.X.YZ(l).s,D=new de;D.rotate(this._8);
g.X.h(o,D,o);return o};d.dO.prototype.offset=function(l,o){this.LL=this.KQ();g.n.Am(this.d,new de(1,0,0,1,l,o));
this.LL.rect.offset(l,o)};d.dO.prototype.KQ=function(l){if(!this.cF&&this.LL&&l==null){this.LL.isEnabled=this.isEnabled;
return this.LL}var o=g.n.kU(this.d),D="strokeStyleLineAlignment",H="strokeStyleLineJoinType";if(o.c()>2e4*2e4)o=new gt(0,0,100,100);
if(l&&l[D].v[D]!="strokeStyleAlignInside"){var _=1;if(l[H].v[H]=="strokeStyleMiterJoin"){var u=g.n.a3u(this.d),S=u/2,h=Math.sin(S),F=Math.cos(S);
F/=h;h=1;var _=Math.sqrt(F*F+h*h);if(isNaN(_)||_<1)_=1}_*=l[D].v[D]=="strokeStyleAlignOutside"?1:.5;
var n=Math.ceil(l.strokeStyleLineWidth.v.val*_);n=Math.min(n,600);o.ag(n,n)}o=g.X.rP(o);var R=new d.ow;
R.color=g.n.fM(this.d)?0:255;R.uD=this.uD;R.isEnabled=this.isEnabled;R.qe=!0;R.rect=o;R.dJ=this.dJ;R.L4=this.L4;
R.channel=g.o(R.rect.c());if(!o.lh())g.n.aAh(this.d,R.channel,R.rect,l);if(l==null){this.LL=R;this.cF=!1}return R};
d.dO.prototype.clone=function(){var l=new d.dO;l.uD=this.uD;l.isEnabled=this.isEnabled;l.dJ=this.dJ;
l.L4=this.L4;l._8=this._8;l.d=d.dO.Wu(this.d);l.Qz=this.Qz.slice(0);l.xD=this.xD;l.T=this.T.slice(0);
l.Qt=this.Qt.slice(0);return l};d.dO.prototype.concat=function(l){var o=l.d.slice(2);if(o.length==0)return;
o[0].HN=3;this.d=this.d.concat(o)};d.dO.Wu=function(l){var o=[];for(var v=0;v<l.length;v++){var D=l[v];
if(D.type>5||D.type==0||D.type==3)o.push(JSON.parse(JSON.stringify(D)));else o.push({type:D.type,e6:D.e6.clone(),u:D.u.clone(),BN:D.BN.clone()})}return o};
d.dO.afJ=function(l,o,D){if(l.length!=o.length)return!1;for(var v=2;v<l.length;v++){var H=l[v],_=o[v];
if(H.type!=_.type)return!1;if(H.type==0||H.type==3){if(H.length!=_.length||!D&&H.HN!=_.HN)return!1}else if(!H.e6.kn(_.e6)||!H.u.kn(_.u)||!H.BN.kn(_.BN))return!1}return!0};
d.dO.prototype.a0S=function(){var l=this.d;for(var v=3;v<l.length;v++)if(l[v].type==0||l[v].type==3)l[v].HN=-1};
d.qS=function(){this.type=null;this.XT=2;this.Vj=null;this._h="";this.hM="";this.xA="";this.open=0;this.raw=null;
this.f2=null;this.a1O="";this.hU=!1};d.qS.prototype.clone=function(){var l=new d.qS;l.type=this.type;
l.XT=this.XT;l.Vj=this.Vj;l._h=this._h;l.hM=this.hM;l.xA=this.xA;l.open=this.open;l.raw=new Uint8Array(this.raw.buffer.slice(0));
return l};d.qS.prototype.zG=function(l,o,D,H,_){if(D==null)D="none";var u=this,S=fj.ZH(u.raw.buffer),h=S=="svg"||S=="pdf"||S=="ai";
if(u.f2){var F=o&&h&&Math.max(u.f2[1].Q,u.f2[1]._)<Math.max(o[0],o[1]);if(!F&&D==this.a1O&&!u.hU)return}this.a1O=D;
if(!h)l=0;if(S==null){alert("Unsupported format: "+x.Gk(u.raw,0,4));return null}var n=fj.rU(S);if(n.pa){var R=new f9(name+(S=="psd"?"":"-"+S)+".psd"),s;
n.Zk(u.raw.buffer,R,o);var Z=new gt(0,0,R.Q,R._);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(D)!=-1){var O=[];
for(var v=0;v<R.R.length;v++){var w=R.R[v],m=w.buffer;if(!w.rect.kn(Z)){m=g.o(Z.c()*4);g.Qo(w.buffer,w.rect,m,Z);
console.log("resizing")}O.push(m)}s=g.o(Z.c()*4);g.stack.stack(O,s,D)}else{for(var v=0;v<R.R.length;
v++)if(R.R[v].RR())R.R[v].C$(R);if(H&&R.hU){var V=dr.XV(R,H,_);u.hU=!V;if(V)dr.TJ(R,H,_)}R.Vr();R.V();
R.dh();s=R.zG()}u.f2=[s,Z];u.on=R.on!=null&&R.on!=0?R.on:72}else if(n){var q=n.Zk(u.raw.buffer)[0];u.f2=[new Uint8Array(q.data),q.jH];
u.on=q.on!=null&&q.on!=0?q.on:72}if(u.f2){if(l==1){var m=u.f2[0],i=u.f2[1],c=g.o(i.c());g.mA(m,c,3);
var z=g.uA(c,i),B=g.o(z.c()*4);g.Qo(m,i,B,z);z.x=z.y=0;u.f2=[B,z]}g.Na(u.f2)}};d.r$="0";d.C_="2";d.P1="2.5";
d.b$="2.6";d.DC="3";d.lH="4";d.Nm="4.5";d.aDY="4.6";d.a1R="5";d.s5="5.5";d.$q="6";d.a7n="7";d.a96="8";
d.$v="9";d.Ae="9.3";d.apE="9.5";d.lQ="9.6";d.dA="10";d.zj="11";d.v1="12";d.J3="13";d.cR="13.1";d.aku="13.2";
d._i="13.3";d.KR="13.4";d.su="14";d.x0="14.1";d.IC="14.2";d.K5="14.3";d.al="17";d.ij="18";d.aAj="19";
d.Bl="19.5";d.O$="19.6";d.n5="19.7";d.Rr="19.8";d.N9="20";d.xI="21";d.aA="21.5";d.th="22";d.Dm="22.5";
d.B4="23";d.avh="24";d.eH="25";d.af3="26";d.a3e="27";d.a2="28";d.nF="29";d.Di="30";d.JK="31";d.On="32";
d.ui="32.5";d.MO="33";d.eL="34";d.sL="35";d.Sz="36";d.Rj="36.5";d.up="37";d.sj="37.5";d.a8H="37.6";d.Fh="38";
d.GV="38.5";d.w3="38.6";d.IB="39";d.V0="40";d.aja="41";d.aD3="42";d.ws="50";d.uL="51";d.gj="52";d.N3="53";
d.io="54";d.ai8="54.5";d.ou="54.6";d.axX="54.7";d.oC="54.8";d.k1="55";d.S6="55.5";d.Q$="56";d.nA="57";
d.aE="58";d.MT="59";d._R="60";function fO(){this.depth=0;this.index=-1;this.U=null;this.aEl=null;this.gb=-1;
this.children=null;this.parent=null;this.DE=null}fO.prototype.a2M=function(l,o){if(this.depth!=0)l.push(this.U.getName());
if(this.children)for(var v=0;v<this.children.length;v++)this.children[v].a2M(l,o);if(l.length>o.zh.length)o.zh=l.slice(0);
if(this.depth!=0)l.pop()};fO.prototype.a5y=function(){var l=0;if(this.U.Cl()){for(var v=0;v<this.children.length;
v++)l+=this.children[v].a5y()}else if(this.U.buffer)l+=this.U.buffer.length;return l};fO.prototype.sl=function(l){var o=this.DE[l];
return this.DE[l]};fO.prototype.kL=function(l,o){var D=this.U;if(!D.zd()||D.Ji(2)||D.Ji(31))return null;
if(D.o9()){var H=D.I.rect.Q5(l);if(!H&&D.I.color==0)return}if(D.Cl()){for(var v=0;v<this.children.length;
v++){var kC=this.children[v];kC.kL(l,o)}}else if(a8==1){var _=D.Eh();if(l.Q5(g.X.dm(_))&&o.indexOf(this.index)==-1)o.push(this.index)}else if(D.rect.Q5(l))o.push(this.index)};
fO.prototype.Id=function(l,o){var D=this.U;if(!D.zd()||D.Ji(2)||D.Ji(31))return null;if(D.o9()){if(D.I.rect.j0(l)){if(!g.Id(l,D.I.channel,D.I.rect))return null}else if(D.I.color==0)return null}if(D.Cl()){if(D.add.artb&&!D.IH().j0(l))return null;
for(var v=this.children.length-1;v>=0;v--){var kC=this.children[v],H=kC.Id(l,o);if(H&&o==null)return H}return null}else if(a8==1){if(D.add.vmsk){var _=D.add.vstk,u=!_.fillEnabled.v&&!D.aU,S=_.strokeStyleLineWidth.v.val*.5,h=g.n.Id(D.add.vmsk.d,l,u,S);
return h.wN==-1?null:this}var F=D.Eh();if(iS.EP(F,l.x,l.y))return this}else if(D.add.TySh&&D.rect.j0(l)||g.agC(l,D.buffer,D.rect)){if(o==null)return this;
else o.push(this.index)}return null};fO.prototype.awG=function(l){var o=this.U;if(!o.zd()||o.Ji(2)||o.Ji(31))return null;
var D=o.add.vmsk;if(D&&D.isEnabled){var H=g.n.Id(D.d,l).wN;if(H!=-1)return{aEx:this,ano:H}}if(o.Cl()){if(o.add.artb&&!o.IH().j0(l))return null;
for(var v=this.children.length-1;v>=0;v--){var kC=this.children[v],_=kC.awG(l);if(_)return _}return null}return null};
fO.prototype.vc=function(l,o){l.push(this.index);if(this.U.Cl()){l.push(this.gb);if(o)if(this.U.Ih==1&&this.U.KQ().uD==!1)return;
for(var v=0;v<this.children.length;v++)this.children[v].vc(l)}};fO.tc=function(){var l=document.createElement("canvas");
return l.getContext("2d")};fO.aB0=function(l,o){var D,H;if(l.Q>l._){D=o;H=Math.floor(o*(l._/l.Q))}else{D=Math.floor(o*(l.Q/l._));
H=o}return new he(D,H)};fO.Aa=32;fO.kD=1;fO.prototype.cK=function(l,o,D){var H=fO.kD,_=this.U;if(_.Cl()&&_.add.artb!=null)o=_.IH();
var u=H==0?_.rect:o;if(u.lh()||_.add.TySh)u=o;var S=fO.Aa*p.Y(),h=fO.aB0(u,S),F=h.x,n=h.y,R=fO.aB0(o,S);
if(_.RR()&&_.add.vmsk==null||_.add.TySh)F=n=Math.max(n,16);else if(_.Cl()){F=n=Math.round(18*p.Y())}else{F=Math.max(F,6);
n=Math.max(n,6)}if(D&&_.Jh==null){_.Jh=fO.tc();if(a8==0){_.PS=fO.tc();_.sf=fO.tc();_.Nz=fO.tc()}}var s=_.RR()&&_.add.vmsk;
if(a8==1&&!_.Cl()){if(D)g._9.aqS(_.Jh,F,n,l,this)}else if(s){if(D&&_.add.vstk)g._9.dF(_.Jh,F,n,u,_.buffer,_.rect,!1,null,!_.add.vstk.fillEnabled.v&&!_.add.vstk.strokeEnabled.v);
if(D)g._9.aCx(_.Jh,F,n)}else if(_.add.TySh){if(D)g._9.apb(_.Jh,n,n,_.add.TySh)}else if(_.add.SoCo){if(D)g._9.a50(_.Jh,n,n,_.add.SoCo)}else if(_.add.GdFl){if(D)g._9.a0y(_.Jh,n,n,_.add.GdFl)}else if(_.add.PtFl){if(D)g._9.ars(_.Jh,n,n,_.add.PtFl,l)}else if(jW.get(_.add)!=null){if(D)g._9.avN(_.Jh,n,n,_.add)}else if(_.add.SoLd){if(D)g._9.dF(_.Jh,F,n,u,_.buffer,_.rect,!1);
if(D)g._9.agJ(_.Jh,F,n,_.add.SoLd)}else if(_.Cl()){}else{if(D){if(_.mF())g._9.dF(_.Jh,F,n,u,_.buffer,_.rect,!1);
else{g._9.ae1(_.Jh,n,n)}}}var Z=_.KQ();if(D){if(Z)g._9.Jd(_.PS,R.x,R.y,o,Z);if(_.pn()&&_.nN(l)&&_.nN(l).I){var O=_.nN(l).I;
g._9.Jd(_.Nz,R.x,R.y,o,O)}if(!s&&_.add.vmsk){g._9.Jd(_.sf,R.x,R.y,o,_.add.vmsk.KQ(),!0)}}if(Z||_.add.vmsk)n=Math.max(n,R.y);
_.axB=Math.max(n,16);if(D!=!0&&_.Cl()&&(_.add.lsct==jl.VV||l.R.length<4e3))for(var v=0;v<this.children.length;
v++)this.children[v].cK(l,o)};fO.prototype.a0p=function(l,o,D,H){this.depth=D;var _=l[o];if(H==null)H=[];
this.DE=H;if(_.add.lsct==jl.fa){this.aEl=_;this.gb=o-1;this.children=[];var v=o+1;while(!0){var u=l[v];
if(u==null)console.log(v,l.length);if(u.add.lsct==jl.VV||u.add.lsct==jl.qb){if(_.add.lyid==u.add.lyid)_.add.lyid+=16777215;
this.U=u;this.index=v-1;H[this.index]=this;H[o-1]=this;break}var S=new fO;S.parent=this;v=S.a0p(l,v,D+1,H);
this.children.push(S)}return v+1}else{this.U=_;this.index=o-1;H[this.index]=this;return o+1}};fO.prototype.l3=function(l,o,D,H){var _=this.sl(D),u=l;
while(_.parent!=null){u=_.U.a8P(u,o,H);_=_.parent}return u};fO.prototype.fZ=function(l,o){var D=this.U,H=new gt;
if(!D.zd())return H;var _=D.KQ();if(D.Cl())for(var v=0;v<this.children.length;v++){var u=this.children[v].fZ(l,!0);
H=H.tB(u)}else if(jW.get(D.add)!=null)H=D.o9()&&D.I.color==0?D.I.fZ().clone():new gt(0,0,l.Q,l._);else if(D.RR()&&D.add.vmsk&&D.add.vmsk.isEnabled&&D.add.vstk){H=D.rect.clone()}else if(D.RR()&&_&&_.isEnabled&&_.s3()!=0)H=new gt(0,0,l.Q,l._);
else{H=D.pZ(l,!1,!0);if(D.add.vmsk)H=g.X.rP(H)}return o?D.a8P(H,l):H};fO.fq={delete:function(l){if(l&&l.Q)l.delete()},o:function(l,o){return kx.X7?new kx.Q9(l,o):g.o(l*o*4)},hX:function(l,o,D){if(kx.X7){if(l==null||l.Q!=o||l._!=D){fO.fq.delete(l);
return new kx.Q9(o,D)}}else{if(l==null||!(l instanceof Uint8Array)||l.length!=o*D*4){fO.fq.delete(l);
return g.o(o*D*4)}}return l},mB:function(l,o,D,H,_){(kx.X7?kx.Lv:g.Qo)(l,o,D,H,_)},vx:function(l,o,D,H,_,u,S,h,v,F,n){(kx.X7?kx.z.Ur:g.z.vx)(l,o,D,H,_,u,S,h,v,F,n)},aik:function(l,o,D,H,_,u,S,h){var F=D.clone(),n=_.Q,R=_._,s=F.x,Z=F.y,O=F.x+F.Q>n?-1:0,w=F.x<0?2:1,m=F.y+F._>R?-1:0,V=F.y<0?2:1;
for(var q=m;q<V;q++)for(var i=O;i<w;i++){F.x=s+i*n;F.y=Z+q*R;fO.fq.JM(l,o,F,H,_,u,S,h)}},JM:function(l,o,D,H,_,u,S,h){if(kx.X7)kx.z.afL(l,o,D,H,_,u,S,h);
else g.z.JM(l,o,D,H,_,u,S,h)},M5:function(l,o,D){if(kx.X7){kx._J(l);kx.NX(o,D)}else g.M5(l,o,D)},atM:function(l,o,D,H,_){if(kx.X7){kx.z.Ur(null,null,H,_,l,o,D,_,1,!1)}else{if(D==255)g._c(l,o,H,_);
else{var u=g.o(o.c());g.ej(H,_,u,o);g.zV(l,u);g.M5(H,0,16777215);g.axk(u,o,H,_)}}},yD:function(l,o,D,H){if(kx.X7)kx.z.Ur(null,null,D,H,l,o,0,H,1,!1);
else g.yD(l,o,D,H)}};fO.prototype.YC=function(l,o,D,H,_,u){var S=typeof u=="number";if(!this.U.Cl()&&(S&&this.index>u||!S&&u.indexOf(this.index)==-1)){return}var h=this.U,F=cN.w6(h),n=fO.fq,R=h.RR()?h.KQ():h.I;
if(!h.zd())return;if(h.o9()&&R.rect.lh()&&R.s3()==0){return}if(h.add.vstk==null&&this.fZ(H,!1).lh()){return}if(h.RR()&&h.rect.lh())return;
var s=this.fZ(H,!0).$o(D);if(!o.kn(D)&&!D.Q5(s))return;if(h.Cl()&&h.add.artb){var Z=h.IH();D=D.$o(Z)}var O=fO.a6M(h,_,F);
if(!O){this.ahD(l,o,D,H,_,u);return}h.rD.w_=n.hX(h.rD.w_,s.Q,s._);n.mB(l,o,h.rD.w_,s,D);this.ahD(h.rD.w_,s,D,H,_,u);
n.vx(h.rD.w_,s,l,o,null,null,0,D,h.opacity/255,h.TY=="diss",F.dC)};fO.a6M=function(l,o,D){if(D.dC[0]*D.dC[1]*D.dC[2]==0)return!0;
return l.opacity!=255&&(o.length!=0||l.Cl()||l.AN())};fO.aeK={rD:{}};fO.prototype.ahD=function(l,o,D,H,_,u){var S=this.U,h=cN.w6(S),F=jW.get(S.add)!=null,n=fO.fq,R=fO.a6M(S,_,h),s=R?1:S.opacity/255,Z=S.RR()?S.KQ():S.I,O=S.Cl()&&h.$d==null&&(S.TY=="pass"||S.add.artb)&&!(_.length>0||h.fill!=1||S.AN()),w=!S.Cl()&&!F&&!S.AN()&&_.length==0,m=F&&!S.AN()&&_.length==0,B=null,t=null,a=null,A;
if(O||w||m){var V=l,q=o;if(S.o9()){q=this.fZ(H,!1);V=S.rD.Yh=n.hX(S.rD.Yh,q.Q,q._);n.mB(l,o,S.rD.Yh,q)}if(O)this.iI(V,q,D,H,u);
if(w)n.JM(S.TY,S.a2G(H),S.rect,V,q,D,s,h);if(m){var i=S.o9()&&Z.s3()==0?Z.fZ().clone():q.clone(),c=S.rD;
if(i.kn(new gt(0,0,H.Q,H._)))c=fO.aeK;c.Ie=this.acx(V,q,c.Ie,i,S.add);h.U$=!0;n.JM(S.TY,c.Ie,i,V,q,D,s,h)}if(S.o9())n.vx(V,q,l,o,S.aCk(),Z.fZ(),Z.s3(),D,1,S.TY=="diss");
S.rD.ajW();return}var z=S.Cl()&&S.TY=="pass"&&(_.length>0||h.fill!=1||S.AN()),i=S.rect;if(S.Cl()){i=this.fZ(H,!1);
a=S.rD.Ie=n.hX(S.rD.Ie,i.Q,i._);n.M5(a,0);this.iI(a,i,i,H,u);t=n.hX(S.rD.OD,i.Q,i._);n.mB(a,i,t,i)}else if(F){i=S.o9()&&Z.s3()==0?Z.fZ().clone():o.clone();
t=n.hX(S.rD.OD,i.Q,i._);n.M5(t,4294967295)}else{i=S.rect;B=S.a2G(H);t=n.hX(S.rD.OD,i.Q,i._);n.mB(B,i,t,i)}S.rD.OD=t;
if(S.o9())n.atM(S.aCk(),Z.fZ(),Z.s3(),t,i);if(S.AN())if(S.rD.aR||S.rD.F0||S.rD.YD!=kx.X7||S.rD.$G||S.Cl()){var I=S.add.vmsk,N=g.o(i.c());
if(cN.ajS(S.add.lmfx)){if(kx.X7){if(!S.Cl()&&S.KQ()==null&&S.rect.kn(i)&&I==null)g.mA(S.buffer,N,3);
else{var J=g.o(i.c()*4);t.get(J);g.mA(J,N,3)}}else g.mA(t,N,3)}if(S.rD.F0||S.rD.YD!=kx.X7||!g.kn(N,S.rD.ai)){var Q=null;
if(S.RR()&&I&&I.isEnabled&&I.KQ().color==0)Q=I.KQ().rect;cN.a9K(S.rD.YT);S.rD.YT=cN.ahc(N,i,S.add.lmfx,S.add.fxrp,H,Q);
S.rD.ai=N;S.rD.ayO=i}}if(S.AN())cN.atx(S.add.lmfx,S.rD.YT,i,l,o,D);if(S.Cl()){B=n.hX(S.rD.Yh,i.Q,i._);
n.M5(B,0);if(S.TY=="pass")n.mB(l,o,B,i);if(z)n.yD(a,i,B,i);this.iI(B,i,D,H,u);S.rD.Yh=B}if(F){B=S.rD.Yh=this.acx(l,o,S.rD.Yh,i,S.add)}if(S.Cl()||F)A=B;
else{A=n.hX(S.rD.Yh,i.Q,i._);n.mB(B,i,A,i,D);S.rD.Yh=A}n.M5(A,4278190080,16777215);for(var v=0;v<_.length;
v++)_[v].YC(A,i,D,H,[],u);var f=S.rD.OT=n.hX(S.rD.OT,i.Q,i._);n.mB(l,o,f,i,D);if(F)h.U$=!0;n.JM(S.TY=="pass"?"norm":S.TY,A,i,f,i,D,1,h);
if(S.AN()){var W=S.rD.YT.type.FrFX,C=null;if(W.length!=0){C=W[0];for(var v=0;v<W.length;v++)if(W[v].Ov.Q>C.Ov.Q)C=W[v];
S.rD.vt=n.hX(S.rD.vt,C.Ov.Q,C.Ov._);n.mB(l,o,S.rD.vt,C.Ov,D);S.rD.Mz=n.hX(S.rD.Mz,C.Ov.Q,C.Ov._)}cN.ae$(S.add.lmfx,S.rD.YT,i,l,o,D,f,S.rD.vt,S.rD.Mz,C?C.Ov:null)}if(!kx.X7){var j=g.o(i.c());
g.mA(t,j,3);t=j}n.vx(f,i,l,o,t,i,0,D,1,S.TY=="diss");S.rD.ajW()};fO.prototype.acx=function(l,o,D,H,_){var u=jW.get(_),S;
if(u)S=jW.Vz(u,_[u]);var h=fO.fq;D=h.hX(D,H.Q,H._);if(!(kx.X7&&o.kn(H)))h.mB(l,o,D,H);if(S){if(kx.X7){var F=H.clone();
F.x=F.y=0;if(o.kn(H)){kx._J(D,F);jW.xd(S,l.mn,F)}else{kx._J(D,H);D.XJ(H);jW.xd(S,D.M4,F)}}else jW.Ok(S,D,D,H)}return D};
fO.prototype.iI=function(l,o,D,H,_){var u=o.Q,S=o._,h=o.x,F=o.y,kC=D,n=kC.x,R=kC.y,s=-1,Z=-1,O=2,w=2;
if(!H.j$){s=Z=0;O=w=1}var m=this.children;for(var v=0;v<m.length;v++){var V=jW.get(m[v].U.add)!=null,q=[];
for(var i=v+1;i<m.length;i++)if(m[i].U.vN)q.push(m[i]);else break;for(var c=Z;c<w;c++)for(var z=s;z<O;
z++){o.x=h+z*u;o.y=F+c*S;kC.x=n+z*u;kC.y=R+c*S;if((z!=0||c!=0)&&V)continue;m[v].YC(l,o,kC,H,q,_)}v+=q.length}o.x=h;
o.y=F;kC.x=n;kC.y=R};(function(){fO.prototype.Wh=function(_,u,S,h){var F=this.U,n=F.add.lmfx,R=F.add.TySh,s=F.add.SoLd,O=null;
if(!F.zd())return;u.save();var Z=F.opacity/255*(F.add.iOpa?F.add.iOpa/255:1);u.globalAlpha*=Z;u.globalCompositeOperation=b2.oK[b2.Jv.indexOf(F.TY)];
var w=cN.a5_(F,!1);if(w){O=u;var m=document.createElement("canvas");m.width=u.canvas.width;m.height=u.canvas.height;
var V=u.getTransform();u=m.getContext("2d");u.setTransform(V.a,V.b,V.c,V.d,V.e,V.f)}if(F.Cl()){var q=this.children,i=null;
for(var v=0;v<q.length;v++)if(q[v].U.aU&&q[v].U.zd())i=q[v].U;if(i){u.beginPath();o(i,u);u.clip()}for(var v=0;
v<q.length;v++)q[v].Wh(_,u,S,h)}else if(R){var c=!0;if(F.rD.path==null){c=dr.Yr(R,S.uh);if(c)dr.cV(F,S.uh,!1)}if(c){{var z=R.h;
u.save();l(u,z);dr.aw9(F.rD.path,u);u.restore()}}}else if(F.RR()&&F.add.vmsk&&!F.aU){var B=F.add.vmsk;
u.beginPath();o(F,u);var t=F.add.vstl;if(t.h6.length!=0){var a=D(t.h6,B.d,_,u);if(a[1]){u.save();l(u,a[1])}u.fillStyle=a[0];
u.fill(["nonzero","evenodd"][B.HN]);if(a[1]){u.restore()}}if(t.IS.length!=0){g.n.lr(t,u);u.strokeStyle=D(t.IS,B.d,_,u,!0)[0];
u.stroke()}}else if(s){var I=s.filterFX;if(I){var a=I.v.filterFXList.v;for(var v=0;v<a.length;v++){var N=a[v].v;
if(!N.enab.v)continue;var J=at.Vs(N);if(J=="GsnB"){u.filter="blur("+N.Fltr.v.Rds.v.val*_.w.F+"px)"}}}var Q=s.Idnt.v,A=_.Es(Q,s.Crop?s.Crop.v:null),z=g.t.Ro(s),f=A.f2;
H(_,F,u,z,f)}if(w){O.save();O.setTransform(1,0,0,1,0,0);O.drawImage(u.canvas,0,0);O.restore();u=O}u.globalAlpha/=Z;
u.globalCompositeOperation="source-over";u.restore()};function l(_,u){_.transform(u.M,u.J,u.oe,u.me,u.ip,u.nl)}function o(_,u){var S=_.add.vmsk.d;
for(var v=0;v<S.length;v++){if(S[v].type>5)continue;var h=S[v].length;if(h==0)continue;var F=S[v].type==3;
g.n.a2Y(u,S,v+1,h,0,0,F);if(!F)u.closePath();v+=h}}function D(_,u,S,h,F){if(_.length==3)return[CSS.ajX(_),null];
else if(_.length==2){var n=S.PJ[_[0]],R=1,s=n.t5;if(s==null){var Z=document.createElement("canvas"),O=Z.getContext("2d");
Z.width=Math.round(n.Q*R);Z.height=Math.round(n._*R);O.scale(R,R);n.root.Wh(n,O,{},null);s=n.t5=h.createPattern(Z,"repeat")}var w=new de(1/R,0,0,1/R,0,0),m=S.on/72,V=new de;
V.concat(w);var q=_[1][1];V.concat(new de(q[0],q[1],q[2],q[3],m*q[4],m*q[5]));V.scale(1,-1);return[s,V]}else{var i=_[0],c=_[1],z=_[2],B=-z[5]*Math.PI/180,t=kO.bT(_,u),a,w;
if(i==0){var I=[0,0,1,0];g.X.h(I,t,I);a=h.createLinearGradient(I[0],I[1],I[2],I[3])}else{var I=[Math.cos(B)*z[6],Math.sin(B)*z[6],0,0,1,0],N=Math.abs(t.M*t.J+t.oe*t.me)<1e-9,J=Math.abs(t.M*t.M+t.J*t.J-t.oe*t.oe-t.me*t.me)<1e-9,Q=N&&J;
if(Q||F){g.X.h(I,t,I);var A=I[4]-I[2],f=I[5]-I[3];a=h.createRadialGradient(I[0],I[1],0,I[2],I[3],Math.sqrt(A*A+f*f))}else{a=h.createRadialGradient(I[0],I[1],0,0,0,1);
w=t}}g.G.wS(a,c);return[a,w]}}function H(_,u,S,h,F){if(h==null)h=new de;var n=u.buffer,R=u.rect;if(F){var s=h.jX()*_.w.F,Z=0;
while(1<<Z/2<.5/s&&Z+2<F.length)Z+=2;n=F[Z];R=F[Z+1];R=R.clone();R.x=R.y=0;var s=1<<Z/2,O=new de;O.scale(s,s);
O.concat(h);h=O}if(R.lh())return;var w=document.createElement("canvas");w.width=R.Q;w.height=R._;var m=w.getContext("2d");
m.putImageData(new ImageData(new Uint8ClampedArray(n.buffer),R.Q,R._),0,0);S.transform(h.M,h.J,h.oe,h.me,h.ip,h.nl);
S.drawImage(w,R.x,R.y);h.L5();S.transform(h.M,h.J,h.oe,h.me,h.ip,h.nl)}}());function f9(l){this.WW="psd";
this.Br=!1;this.name=l;this.Rc=-1;this.j$=!1;this.BL=null;this.ti=null;this.jn=null;this.Pl=null;this.Q=0;
this._=0;this.buffer=null;this.R=[];this.QU={};this.add={};this.RX=[];this.PJ={};this.Wo=[];this.t5=null;
this.NR=4;this.Kk=null;this.on=72;this.ff={};this.T=[];this.oJ=[];this.q_=!1;this.n0=[];this.$h=[];this.sS=[f9.Ed("Work Path")];
this.dZ=[];this.Vl=null;this.xr={classID:"CompList",list:{t:"VlLs",v:[]}};this.gQ=[];this.Qk=[];this.pt=[];
this.root=null;this.DL=null;this.hU=!1;this.af$=!1;this.a9c=!1;this.WK=!1;this.RW=!1;this.st=!1;this.LD=!1;
this.aH=!1;this.m$=!1;this.$r=!1;this.aR=null;this.X8=null;this.f=null;this.Lx=[];this.q0=[];this.D={Lu:{},XA:[],Iz:[],Ey:[],ny:[],TQ:[],T9:null,Xi:null,vG:null,A_:null,b3:null,UI:null,hw:null,gr:[],UD:[],ZB:null};
this.history=[new fL([1,0],null)];this.IL=0;this.$i=0;this.Z6=0;this.t4=0;this.w=new ds(this);this.En=null;
this.C3=null}f9.prototype.aDE=function(){var l=this,o=l.add.artd;return o!=null&&o.Cnt.v>1||l.add.arts&&l.add.arts.length>1};
f9.prototype.HW=function(l){if(l){if(l.length==30240){this.HW(null);return}this.QU.r1039=l;var o=ICC.R(l.buffer),_=null,u=17,F,n;
if(o==null){this.HW(null);return}var D=o.header.spaceIn.toLowerCase(),H=JSON.stringify(o.tags.desc).toLowerCase();
try{_=ICC.U.profileName(o)}catch(ey){}if(D!="rgb "||_==null||D=="rgb "&&this.add.fcmy==1){this.HW(null);
return}console.log("We got an ICC profile!",o,_);try{var S=ICC.U.sampleLUT(o,u)}catch(ey){this.HW(null);
return}var h=S.slice(0),R=g.o(4),s=g.jZ("rgbToRgbC"),Z=s[2],O=s[3];for(var v=0;v<S.length;v+=3){R[0]=S[v]*255;
R[1]=S[v+1]*255;R[2]=S[v+2]*255;ICC.U.applyLUT(O,Z,R,R);h[v]=R[0]/255;h[v+1]=R[1]/255;h[v+2]=R[2]/255}if(kx.X7){F=new kx.Q9(u,u*u);
F.set(ICC.U.lutToRGBA8(S,u));n=new kx.Q9(u,u*u);n.set(ICC.U.lutToRGBA8(h,u))}this.En=[l,o,u,S,F,h,n]}else{delete this.QU.r1039;
this.En=null}};f9.prototype.zf=function(){return this.En};f9.prototype.UZ=function(){if(this.En)return this.En;
if(this.add.fcmy==1){if(this.C3==null){var l=g.jZ("rgbToRgbC"),o=l[2],D=l[3],H;if(kx.X7){H=new kx.Q9(o,o*o);
H.set(ICC.U.lutToRGBA8(D,o))}this.C3=[null,null,o,null,null,D,H]}return this.C3}};f9.prototype.a1x=function(){var l=this;
if(l.w.N.join("")!="111"){l.w.N=[1,1,1];l.st=!0}for(var v=0;v<l.R.length;v++){var o=l.R[v],D=o.add.vmsk;
if(o.pn()){var H=o.nN(l);if(H&&H.I&&H.I.Pj){H.I.Pj=!1;l.st=!0}}var _=o.KQ();if(_&&_.Pj){_.Pj=!1;l.st=!0}if(D){if(D.T.length!=0)D.T=[];
if(D.Qt.length!=0)D.Qt=[]}}};f9.prototype.au3=function(){var l=this;return l.f!=null||l.CS()[1].length!=0||l.T.length>1};
f9.prototype.we=function(){var l=this.oJ,o=[];for(var v=0;v<l.length;v++)o[v]=-1;var D=this.root.children;
for(var v=0;v<D.length;v++){var H=D[v],_=H.U.add.artb;if(_==null)continue;var u=_.guideIndeces;u=u?u.v:[];
for(var S=0;S<u.length;S++)o[u[S].v]=H.index}return[JSON.parse(JSON.stringify(l)),o]};f9.prototype.l0=function(l){this.oJ=JSON.parse(JSON.stringify(l[0]));
var o=l[1],D=this.root.children;for(var v=0;v<D.length;v++){var H=D[v],_=H.U.add.artb;if(_==null)continue;
_.guideIndeces={t:"VlLs",v:[]}}for(var v=0;v<o.length;v++)if(o[v]!=-1)this.R[o[v]].add.artb.guideIndeces.v.push({t:"long",v:v})};
f9.prototype.adM=function(l){var o=this;if(l[0])o.add.lnk2=l[0];else delete o.add.lnk2;if(l[1])o.add.FEid=l[1];
else delete o.add.FEid;if(l[2])o.add.Patt=l[2];else delete o.add.Patt};f9.prototype.aaA=function(l){var o=this,D=[],H=[],_=[],w=null,m=null,V=null;
for(var v=0;v<l.length;v++){var u=l[v];if(u.add.SoLd){D.push(u.add.SoLd.Idnt.v);H.push(u.add.SoLd.placed.v)}if(u.add.PtFl)_.push(u.add.PtFl.Ptrn.v.Idnt.v);
if(u.add.lmfx){for(var S=0;S<cq.lZ.length;S++){var h=u.add.lmfx[cq.lZ[S]].v;for(var F=0;F<h.length;F++)if(h[F].v.Ptrn){var n=h[F].v;
if(n.classID=="FrFX"&&n.PntT.v.FrFl!="Ptrn")continue;_.push(n.Ptrn.v.Idnt.v)}}}var R=u.add.vstk;if(R&&R.strokeStyleContent.v.classID=="patternLayer"){_.push(R.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var s=o.add.lnk2,Z=o.add.FEid,O=o.add.Patt;
if(s){w=[];for(var v=0;v<s.length;v++)if(D.indexOf(s[v].Vj)!=-1)w.push(s[v]);if(w.length==0)w=null}if(Z){m=[];
for(var v=0;v<Z.length;v++)if(H.indexOf(Z[v].id)!=-1)m.push(Z[v]);if(m.length==0)m=null}if(O){V=[];for(var v=0;
v<O.length;v++)if(_.indexOf(O[v].id)!=-1)V.push(O[v]);if(V.length==0)V=null}return[w,m,V]};f9.prototype.FY=function(l){var o=this,D=o.root.sl(l==null?o.T[0]:l),H=!1;
while(D.parent!=null){H=H||D.U.Ji(31);D=D.parent}return H};f9.prototype.Ff=function(){var l=this.Lx,o=this.Lx.length;
if(o!=0&&l[o-1].name=="Quick Mask")return l[o-1]};f9.prototype.Vg=function(){return this.WW==e2.nt("% |/!)")||this.WW==e2.eI("gP")};
f9.prototype.sp=function(l){var o=this.add.artd;if(l!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:l},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};f9.prototype.Cy=function(l){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(l)==-1)this.add.FEid.push(l)};
f9.prototype.GB=function(l){var o=this.add.FEid.indexOf(l);this.add.FEid.splice(o,1);if(this.add.FEid.length==0)delete this.add.FEid};
f9.prototype.V=function(l){if(l==null)l=new gt(0,0,this.Q,this._);if(this.aR==null)this.aR=l;else this.aR=this.aR.tB(l)};
f9.prototype.azX=function(l){return this.aR!=null};f9.prototype.br=function(l){var o=this.R[l],D=this.root.sl(l);
if(D==null)return!1;if(o.Cl()||D.parent.children.indexOf(D)==0)return!1;return!0};f9.a1l=function(l){if(l.add.lnk2)for(var v=0;
v<l.add.lnk2.length;v++){var o=l.add.lnk2[v].Vj;l.add.lnk2[v].Vj=f9.T5()+o.slice(8);for(var D=0;D<l.R.length;
D++){var H=l.R[D].add.SoLd;if(H&&H.Idnt.v==o)H.Idnt.v=l.add.lnk2[v].Vj}}};f9.prototype.qE=function(l,o,D){l.sort(function(s,Z){return s-Z});
var top=l[l.length-1],H=this.R.slice(0),_=this.T.slice(0),u=[],S=[];for(var v=0;v<this.R.length;v++){if(l.indexOf(v)!=-1)S.push(this.R[v]);
else u.push(this.R[v])}this.MQ(S);this.T=[];var h=this.root.fZ(this,!0);if(o)h=h.$o(o);if(D)h=h.tB(D);
if(h.lh())h=new gt(0,0,100,100);var F=new gt(-h.x,-h.y,this.Q,this._),n=new Uint8Array(fj.rU("PSD").MJ(this,0,0,[!0,!1]));
this.MQ(H);this.T=_;var R=new f9(this.R[top].getName());fj.rU("PSD").Zk(n.buffer,R);delete R.add.artd;
R.n0=[];R.MQ(R.R);R.l0([[],[]]);f9.a1l(R);p.WS.Du(R,h);R.V();R.dh();R.zG();return[R,h,u,top]};f9.prototype.avr=function(l,o,D){var H=this.qE(l),_=H[0],u=H[1],S=H[2],top=H[3],h;
if(D=="jpg")h=new Uint8Array(fj.rU("JPG").MJ([[_.zG().buffer]],_.Q,_._,[80]));else h=new Uint8Array(fj.rU("PSD").MJ(_,null,null,[!0,!1]));
if(o)S=this.R.slice(0);var F=this.M9(h,_.name,u.x,u.y);if(top==this.R.length-1)S.push(F);else S.splice(o?top+1:top-l.length+1,0,F);
this.MQ(S);this.T=[S.indexOf(F)]};f9.T5=function(l){if(l==null)l="";var o="";while(o==""||o==l){o="";
for(var v=0;v<8;v++)o+=Math.floor(Math.random()*16).toString(16)}return o};f9.prototype.YE=function(l){if(l==null)return;
if(this.add.Patt==null)this.add.Patt=[];var o=this.add.Patt;for(var v=0;v<o.length;v++)if(o[v].id==l.id)return;
o.push(l)};f9.prototype.M9=function(l,o,D,H,_,u,S){if(this.add.lnk2==null)this.add.lnk2=[];var h=null;
for(var v=0;v<this.add.lnk2.length;v++)if(g.kn(l,this.add.lnk2[v].raw)){h=this.add.lnk2[v].Vj;break}if(h==null){var F=fj.ZH(l.buffer);
h=f9.T5()+"-d71c-11e5-b1ae-a548a96e5f9f";var n=new d.qS;n.Vj=h;n.xA=F=="psd"?"8BIM":"    ";n._h=o+"."+F;
n.hM=F=="psd"?"8BPB":"    ";n.open=0;n.raw=l;n.type="liFD";n.XT=2;this.add.lnk2.push(n)}var R=this.Es(h,null,null,null,u,S),s=f9.T5()+"-d71c-11e5-b1ae-a548a96e5f9f",Z=this.O7(),O=R?R.f2[1]:new gt;
Z.FH(o);Z.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:h},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:s},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:g.Y9.o(O)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:O.Q},Hght:{t:"doub",v:O._}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:R?R.on:72}}};
var w=O.clone();if(D!=null)w.offset(D,H);if(R!=null&&_){var F=fj.ZH(l.buffer),m=_.x,V=_.y,q=_.Q,i=_._;
w=R.f2[1].clone();w.offset(m+D,V+H);var c=c=this.on/(F=="pdf"?144:R.on?R.on:this.on);w.Q=w.Q*c;w._=w._*c;
var z=Math.max(w.Q/q,w._/i);if(z>1.0001){w.Q=w.Q/z;w._=w._/z}w.x=Math.round(m+(q-w.Q)/2);w.y=Math.round(V+(i-w._)/2)}var B=g.X.YZ(w).s;
Z.add.SoLd.Trnf=p.cA.y3(B);Z.add.SoLd.nonAffineTransform=p.cA.y3(B);if(R){if(_)Z.mP(this,!1);else if(a8==0){Z.rect=w;
Z.buffer=R.f2[0].slice(0)}}return Z};f9.prototype.n7=function(){var l=this.add.arts,o=new gt;for(var v=0;
v<l.length;v++)o=o.tB(g.X.Mg(l[v].EZ));return o};f9.prototype.at8=function(l,o,D){var H=this.n7();if(o==null){o=H.Q;
D=H._}var _=g.WG(o,D);_.save();_.translate(-H.x,-H.y);_.scale(o/H.Q,D/H._);this.root.Wh(this,_,l,new gt(0,0,o,D));
_.restore();return _.getImageData(0,0,o,D).data.buffer};f9.prototype.zG=function(l){if(l!=null){this.V();
this.dh(l);var o=this.buffer;if(kx.X7)this.DL.get(o);else o=o.slice(0);this.V();this.dh();return o}if(this.aR){this.dh();
this.aR=null}if(kx.X7&&this.X8){this.DL.get(this.buffer);this.X8=null;this.LD=!0}return this.buffer};
f9.prototype.apq=function(){for(var v=0;v<this.R.length;v++)this.R[v].a9Y();this.V()};f9.prototype.avZ=function(){for(var v=0;
v<this.R.length;v++)if(this.R[v].add.lmfx)this.R[v].rD.F0=!0};f9.prototype.Dv=function(){var l=this.QU.r1044;
if(l==null){l=this.QU.r1044=new Uint8Array(4);var o=0;for(var v=0;v<this.R.length;v++)o=Math.max(o,this.R[v].add.lyid);
x.Dn(l,0,o)}var D=x.C(l,0);x.Dn(l,0,D+1);return D+1};f9.prototype.o_=function(l,o,D){if(l==null)l=!0;
var H=this;if(H.q0.length!=0)return!0;if(H.T.length!=1){if(l)alert(H.T.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.Um(l,o,D)};f9.prototype.Um=function(l,o,D){if(l==null)l=!0;if(o==null)o=!1;var H=this;
if(H.q0.length!=0)return!0;for(var v=0;v<H.T.length;v++){var _=H.R[H.T[v]],u=o||_.Ih<=0;if(_.add.lsct!=null&&_.add.lsct!=jl.f4&&_.Ih!=1){if(l)alert(cU.get([15,7,2]));
return!1}if(u&&!_.mF()){if(l)alert(cU.get([15,7,2]));return!1}if(u&&_.add.TySh){return this.a84(l,[15,7,3],D)}if(u&&_.add.SoLd){return this.a84(l,[15,7,4],D)}if(_.Ji(1)||H.FY(H.T[v])){if(l)alert(cU.get([6,57,0]));
return!1}}return!0};f9.prototype.a84=function(l,o,D){if(l&&typeof l=="object"){var H=new jJ(k.E.b);H.data={q:k.L.E1,mg:"confirm"};
H.data.P=cU.get(o)+". "+cU.get([6,8])+"?";var _=l;H.data.Gu=function(){var u=new jJ(k.E.yT,!0);u.data={vS:"rasterizeLayer",M1:{classID:"rasterizeLayer",null:bt.NA("Lyr",!0)}};
_.A(u)};l.A(H);return!1}if(l)alert(cU.get(o));return!1};f9.prototype.auq=function(l){var o=this.root.sl(l);
if(o.parent)return o.U.zd()&&this.auq(o.parent.index);else return o.U.zd()};f9.prototype.NQ=function(l){var o=this;
if(l){var D=0;for(var v=0;v<o.T.length;v++)if(o.R[o.T[v]].add.artb)D++;if(D>1)return-1}if(o.add.artd&&o.T.length!=0){var H=o.root.sl(o.T[0]);
while(H.parent.parent)H=H.parent;if(H.U.add.artb)return H.index}return-1};f9.prototype.xC=function(){var l=this.NQ();
if(l!=-1){var o=this.R[l].IH();return new he(o.x,o.y)}return new he(0,0)};f9.prototype.a5D=function(){var l=this.R[this.T[0]];
if(l.Ih<=0&&!l.rect.Q5(this.f.rect)){alert("Selected area is empty.");return!1}if(this.T.length==1&&this.f){var o=g.o(this.f.channel.length);
g.ej(l.buffer,l.rect,o,this.f.rect);g.zV(this.f.channel,o);if(g.$p(o,0)){alert("Selected area is empty.");
return!1}}return!0};f9.prototype.Ry=function(){if(this.QU["r"+1037]==null)this.ac(30);return x.Kb(this.QU["r"+1037],0)};
f9.prototype.ac=function(l){if(this.QU["r"+1037]==null)this.QU["r"+1037]=new Uint8Array(4);if(x.Kb(this.QU["r"+1037],0)==l)return;
x.yS(this.QU["r"+1037],0,l);this.avZ()};f9.prototype.xH=function(){if(this.QU["r"+1049]==null)this.bC(30);
return x.Kb(this.QU["r"+1049],0)};f9.prototype.bC=function(l){if(this.QU["r"+1049]==null)this.QU["r"+1049]=new Uint8Array(4);
if(x.Kb(this.QU["r"+1049],0)==l)return;x.yS(this.QU["r"+1049],0,l);this.avZ()};f9.prototype.qH=function(l){if(this.add.lnk2==null)return null;
for(var v=0;v<this.add.lnk2.length;v++)if(this.add.lnk2[v].Vj==l)return this.add.lnk2[v];return null};
f9.prototype.acW=function(l){var o=this.qH(l);if(o==null)return!1;var D=fj.ZH(o.raw.buffer);if(D==null)return!1;
if(fj.rU(D)!=null||D=="psd")return!0;return!1};f9.prototype.Es=function(l,o,D,H,_,u){var S=this.qH(l);
if(S==null)return null;S.zG(o,D,H,_,u);if(S.f2)return S};f9.prototype.ajR=function(){var l=this.Q,o=this._;
if(kx.X7&&this.DL==null)this.DL=new kx.Q9(l,o,!0);if(this.buffer==null||this.buffer.length!=l*o*4||kx.X7&&(this.DL.Q!=l||this.DL._!=o)){this.buffer=g.o(l*o*4);
if(this.DL)this.DL.delete();if(kx.X7)this.DL=new kx.Q9(l,o,!0)}};f9.prototype.axm=function(){this.ajR();
if(kx.X7){this.DL.set(this.buffer)}};f9.prototype.dh=function(l){if(a8!=0)throw"redrawing in vector mode";
var o=this.Q,D=this._,H=new gt(0,0,o,D),_=this.j$?H:H.$o(this.aR);this.ajR();if(_.lh())return;if(!_.kn(H)){if(!kx.X7){var u=g.c9(_.c()*4);
g.Qo(u,_,this.buffer,H)}if(kx.X7){kx._J(this.DL,_);kx.NX(0)}}else{if(kx.X7){this.DL.set(null)}else{this.buffer.fill(0)}}var S=Date.now(),h=kx.X7?this.DL:this.buffer;
if(l==null)l=1e9;var F=this.root.children;for(var v=0;v<F.length;v++){var n=F[v].U;if(n.zd()&&n.add.artb&&this.add.artd){var R=n.IH(),s=_.$o(R),Z=n.y7();
if(Z!=0){if(kx.X7){kx._J(h,s);kx.NX(Z);kx.NX(Z)}else g.arx(h,H,s,Z)}}}this.root.YC(h,H,_,this,[],l);
this.X8=this.aR.clone()};f9.prototype.O7=function(l){var o=new d;o.rect=new gt(0,0,0,0);o.buffer=g.o(1);
o.add.luni=new he(0,0);if(l!=!0)o.add.lyid=this.Dv();o.add.lsct=jl.f4;o.add.lclr=0;o.add.fxrp=new he(0,0);
return o};f9.prototype.k0=function(l){var o=this.O7(l);o.FH("</Layer group>");o.add.lsct=jl.fa;o.XL=24;
return o};f9.prototype.dI=function(){return this.IL!=this.$i};f9.prototype.kE=function(l){while(this.history.length>this.IL+1)this.history.pop();
if(this.$i>this.IL)this.$i=-1;if(l.S.id!=p.sT){this.WK=!0;if(this.xr.lastAppliedComp){delete this.xr.lastAppliedComp;
this.LD=!0}}this.history.push(l);this.IL++;this.LD=!0;var o=eJ.lu()?60:30,D=0;for(var v=this.history.length-1;
v>=0;v--){var H=this.history[v];if(H.OM)continue;D++;if(D==o){this.IL-=v;this.history=this.history.slice(v);
break}}};f9.prototype.I5=function(){if(this.IL!=this.history.length-1)return null;return this.history[this.history.length-1]};
f9.prototype.rC=function(l,o,D,H){if(l==null)l=!1;var _=o!=null?[o]:this.T.slice(0);if(H){var u=[];for(var v=0;
v<_.length;v++){var S=this.R[_[v]],h=S.zE;if(S.Sx&&h!=0&&u.indexOf(h)==-1)u.push(h)}if(u.length!=0)for(var v=0;
v<this.R.length;v++){var S=this.R[v],h=S.zE;if(S.Sx&&h!=0&&u.indexOf(h)!=-1&&_.indexOf(v)==-1)_.push(v)}}var F=[];
for(var v=0;v<_.length;v++){var n=this.OZ(_[v],l);for(var R=0;R<n.length;R++)if(F.indexOf(n[R])==-1)F.push(n[R]);
if(D){var kC=this.root.sl(_[v]);while(kC.parent!=null&&kC.parent.parent!=null){kC=kC.parent;if(F.indexOf(kC.index)==-1){F.push(kC.index,kC.gb)}}}}return F};
f9.prototype.OS=function(l,o,D){var H=this,_=H.rC(!1,l,null,D);_.sort(function(c,z){return c-z});var u={};
for(var S=0;S<H.R.length;S++){var h=H.R[S].getName();u[h]=!0}var F=[];for(var v=0;v<_.length;v++){var n=H.R[_[v]].clone(),V,q;
n.add.lyid=H.Dv();n.add.lspf=0;if(n.pn()){var R=n.nN(H),s=f9.at5(R);H.Cy(s);n.add.SoLd.placed.v=s.id}else if(n.add.SoLd){var Z=n.add.SoLd.placed.v;
n.add.SoLd.placed.v=f9.T5(Z.slice(0,8))+Z.slice(8)}n.C$(H);var O=n.getName(),w=O.length;while(48<=O.charCodeAt(w-1)&&O.charCodeAt(w-1)<=57)w--;
var m=parseInt(O.slice(w));if(isNaN(m)){if(O.endsWith(" copy")){m=1;V=O.slice(0,O.length-5)}else{m=0;
V=O}}else if(O.slice(0,w).endsWith(" copy ")){m=m;V=O.slice(0,w-6)}else{m=0;V=O}m++;while(!0){q=V+" copy"+(m==1?"":" "+m);
if(u[q]==null)break;m++}var i=_.indexOf(this.root.sl(_[v]).parent.index)!=-1;if(O=="Background"&&H.R.length==1)q="Layer 1";
if(o!=!0&&!i)n.FH(q);u[q]=!0;F.push(n)}return F};f9.at5=function(l){return{id:f9.T5(l.id.slice(0,8))+l.id.slice(8),buffer:l.buffer.slice(0),rect:l.rect.clone(),I:l.I?l.I.clone():null}};
f9.axN=function(l){return{id:l,rect:new gt,buffer:g.o(1),I:new d.ow}};f9.Ed=function(l,o){if(o==null)o={vmsk:new d.dO};
if(o.vogk==null){o.vogk=[];var D=g.n.Ly(o.vmsk.d);for(var H=0;H<D;H++)o.vogk.push(g.uQ.c9())}return{name:l,wN:0,add:o}};
f9.prototype.CS=function(l){var o=[],D=[],H=this;for(var v=1;v<H.sS.length;v++){var _=H.sS[v];_.wN=-1-v;
o.push(_);if(H.dZ.indexOf(v)!=-1)D.push(o.length-1)}if(H.sS[0].add.vmsk.d.length>2){var _=H.sS[0];_.wN=-1;
o.push(_);if(H.dZ.indexOf(0)!=-1)D.push(o.length-1)}var u=H.Vl==null;if(u)H.Vl=[];for(var v=H.T.length-1;
v>=0;v--){var S=H.T[v],h=H.R[S],F=h.add.TySh;if(h.add.vmsk!=null){var _=f9.Ed("\""+h.getName()+"\" Shape Path",h.add);
_.wN=S;o.push(_);if(u&&(h.BF||h.RR()))H.Vl.push(S);if(H.Vl.indexOf(S)!=-1)D.push(o.length-1)}if(l!=!0&&F&&F.add&&g.Y9.yL(F.oG)){var _=f9.Ed("\""+h.getName().slice(0,10)+"..\" Text Path",F.add);
_.wN=1e6+H.T[v];o.push(_);D.push(o.length-1)}}if(D.length==0&&l){H.sS[0].wN=-1;H.dZ=[0];D.push(o.length);
o.push(H.sS[0])}return[o,D]};f9.prototype.OZ=function(v,l){var o=[],kC=this.root.sl(v);if(kC)kC.vc(o,l);
return o};f9.prototype.Ou=function(){this.root.cK(this,new gt(0,0,this.Q,this._))};f9.prototype.MQ=function(l){for(var v=0;
v<this.R.length;v++){var o=this.R[v];if(l.indexOf(o)==-1){o.rD.akN();o.V()}}var D=0;for(var v=0;v<l.length;
v++)if(l[v].add.artb)D++;this.sp(D);this.R=l.slice(0);this.Vr()};f9.prototype.Vr=function(){var l=this.R,o=l.length;
this.root=new fO;var D=this.O7(!0);D.TY="pass";D.add.lsct=jl.VV;D.FH("");var H=this.k0(!0),_=[H];for(var v=0;
v<o;v++)_.push(l[v]);_.push(D);this.root.a0p(_,0,0);if(this.T.length==0)this.T=[o-1]};f9.prototype.Nh=function(){if(this.T.length!=1)return;
var l=this.root.sl(this.T[0]);while(l.parent!=null){var o=l.parent.U;o.add.lsct=jl.VV;l=l.parent}this.st=this.aw1=!0};
f9.prototype.ay4=function(){this.Vr();var l=[this.root],aO=0;while(l.length!=0){var top=l.pop();aO++;
if(top.U.add.lsct==jl.VV)for(var v=0;v<top.children.length;v++)l.push(top.children[v])}if(aO>1e3){var o=this.root.children;
for(var v=0;v<o.length;v++)if(o[v].U.add.lsct==jl.VV)o[v].U.add.lsct=jl.qb}};f9.VO=function(l,o,D,H,_,u,S,h){if(h==null)h="sRGB IEC61966-2.1";
var F={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:H},artboard:{t:"bool",v:u},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:l*72/D}},Hght:{t:"UntF",v:{type:"#Rlt",val:o*72/D}},Rslt:{t:"UntF",v:{type:"#Rsl",val:D}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:_}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:h}}}};
if(_=="Clr")F.Nw.v.FlCl={t:"Objc",v:S};return{vS:"make",M1:F}};f9.adc=function(l,o){var D=0,H=0,_=72,u=o.auW,S=l.preset&&l.preset.v=="Clipboard";
if(S){D=u.Q;H=u._}else{D=l.Wdth.v.val;H=l.Hght.v.val;_=l.Rslt.v.val;D=Math.round(D*_/72);H=Math.round(H*_/72)}var h=new f9((l.Nm?l.Nm.v:cU.get([11,7]))+".psd");
h.Q=D;h._=H;h.on=_;var F=l.Fl?l.Fl.v.Fl:"Wht";if(l.artboard&&l.artboard.v){var n=h.O7();n.FH(cU.get([1,16,0])+" 1");
n.add.lsct=jl.VV;n.Hh(new gt(0,0,D,H));n.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[F]};
if(F=="Clr")n.add.artb.Clr={t:"Objc",v:g.G.XF(g.G.s3(l.FlCl.v))};n.TY="pass";n.XL=24;var R=h.O7();R.FH("Layer 1");
h.MQ([h.k0(),R,n]);h.sp(1);h.T=[1]}else if(a8==0){var s=h.O7(),Z=0;s.FH("Background");h.MQ([s]);s.add.lspf=1<<2;
if(F=="Clr"){Z=g.G.s3(l.FlCl.v);Z=255<<24|Math.round(Z.J)<<16|Math.round(Z.H)<<8|Math.round(Z.$)}else{var O=o.qg;
O=(O&255)<<16|(O>>>8&255)<<8|O>>>16;Z={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|O}[F]}s.rect=new gt(0,0,D,H);
s.buffer=g.o(D*H*4);g.M5(s.buffer,Z);s.Hf()}if(a8==0)h.buffer=g.o(D*H*4);var w=l.profile;if(w){var m={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[w.v];
if(m)h.HW(fj.iS.get(m))}return h};f9.prototype.azh=function(){var l=this,o=l.add.arts=[],D=!0;l.Vr();
var H=l.root.children;for(var v=0;v<H.length;v++)if(!H[v].U.Cl())D=!1;if(!D||l.R.length==0){l.R.unshift(l.k0());
var _=l.O7();_.FH("Layer 1");_.add.lsct=jl.VV;_.TY="pass";_.XL=24;l.R.push(_);for(var v=0;v<l.T.length;
v++)l.T[v]++;l.aH=!0}if(l.add.artd){delete l.add.artd;for(var v=0;v<l.R.length;v++){var _=l.R[v],u=_.add.artb;
if(u==null)continue;var S=_.IH();delete _.add.artb;o.push({Nt:_.getName(),EZ:[S.x,S.y,S.x+S.Q,S.y+S._],T:!1})}}else o.push({Nt:"Artboard",EZ:[0,0,l.Q,l._],T:!1});
if(l.name.endsWith(".psd"))l.name=l.name.slice(0,-4)+".ai";if(l.buffer)l.buffer=null;for(var v=0;v<l.R.length;
v++){var _=l.R[v],S=_.rect;if(_.Cl()&&_.add.vmsk){var h=l.O7();l.R.splice(v,0,h);h.FH("<Clipping Path>");
h.aU=!0;h.add.vogk=_.add.vogk;delete _.add.vogk;h.add.vmsk=_.add.vmsk;delete _.add.vmsk;h.add.vstk=cq.K$.ts();
h.add.SoCo=JSON.parse(cq.Rq[cq.order.indexOf("SoFi")]);h.add.vstl={};console.log("mask here!")}else if(_.RR()&&_.add.vstl==null){if(_.add.vmsk==null){_.add.vmsk=new d.dO;
_.add.vmsk.d=g.n.Rd.Rect(0,0,l.Q,l._);_.add.vstk=cq.K$.ts(!0);_.Xv()}var F=_.add.vstl=f9.vm(_.add)}if(_.add.SoLd||_.add.TySh||_.add.vmsk||S.lh())continue;
var n=S.Q,R=S._,s=g.q$(_.buffer,n,R)?"JPG":"PNG";if(n*R<700*700)s="PNG";var Z=fj.rU(s).MJ([[_.buffer.buffer]],n,R),O=l.R[v]=l.M9(new Uint8Array(Z),_.getName(),S.x,S.y);
O.rm(_.zd())}};f9.vm=function(l,o){var D=l.vstk,F=null,n=null;if(D==null)D=cq.K$.ts(!0);var H=cq.K$.yz(D),_=cq.ty(l),u=cq.TW(D);
function S(F){var m=g.G.s3(F.Clr.v);return[m.$/255,m.H/255,m.J/255]}var h=l.lmfx;if(h)F=h.solidFillMulti.v[0];
if(F)F=F.v;if(F&&(!F.enab.v||F.Opct.v.val<50))F=null;if(h)n=h.frameFXMulti.v[0];if(n)n=n.v;if(n&&(!n.enab.v||n.Opct.v.val<50))n=null;
var R=l.vmsk,s=R?R.d:g.n.Rd.Rect(0,0,o.Q,o._);for(var Z=0;Z<2;Z++){var O=Z==0?_:u,w=[];if(O.hM==1)w=hd.FU(O.E6.Clr.v);
if(O.hM==2){w=l[Z==0?"_fstl":"_sstl"];if(w==null||a8==0)w=kO.rf(O.E6,s)}if(Z==0&&F)w=S(F);if(Z==1&&n){w=S(n);
H.W5=n.Sz.v.val;H.QH=cq.stroke.types.indexOf(n.Styl.v.FStl);H.h_=1}if(Z==0)H.h6=w;else H.IS=w}return H};
function ds(l){this.nL=l;this.F=0;this.gS=1;this.i=new he(0,0);this.dK=new he(0,0);this.vb=0;this.N=[1,1,1];
this.zq=0;this.T3=new gt(0,0,1,1);this.aie=new gt(0,0,l.Q,l._);this._$=null;this._e=null;this.vQ=new Uint32Array(0);
this.Sj=null;this.aB=null;this.a0=g.o(0);this.TU=null;this.Uv=null}ds.prototype.hP=function(l){var o=new de,D=this.T3,H=this.nL,_=l?this.gS:this.F,u=l?this.dK:this.i,S=Math.round((D.Q-H.Q*_)/2+u.x),h=Math.round((D._-H._*_)/2+u.y);
o.translate(-S,-h);o.scale(1/_,1/_);var F=H.Q/2,n=H._/2;o.translate(-F,-n);o.rotate(this.vb);o.translate(F,n);
return o};ds.prototype.aA5=function(l){var o=this.T3,D=this.nL,H=Math.atan2(-l.J,l.M),_=D.Q/2,u=D._/2;
l.translate(-_,-u);l.rotate(-H);l.translate(_,u);var S=1/l.jX();l.scale(S,S);var h=-l.ip,F=-l.nl,n=Math.round(h-(o.Q-D.Q*S)/2),R=Math.round(F-(o._-D._*S)/2);
if(Math.abs(S-Math.round(S))<1e-6)S=Math.round(S);this.vb=H;this.F=S;this.i=new he(n,R)};ds.prototype.vp=function(l,o,D){var H=this.hP(),_=H.wq(new he(l,o));
if(D){_.x=Math.round(_.x);_.y=Math.round(_.y)}return _};ds.prototype.zp=function(l,o){var D=this.hP();
D.L5();return D.wq(new he(l,o))};function cq(){}cq.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
cq.lZ="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
cq.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];cq.a8q=["DrSh","IrSh","SoFi","GrFl","FrFX"];
cq.mh=["Clr"];cq.Mp="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");cq.Zm=["Ptrn","Angl","Scl","Algn","phase"];
cq.TB={d3:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",aDh:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",al0:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",ail:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",mt:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
cq.TB.d3="\"Clr\": "+cq.TB.d3;cq.TB.G="\"Grad\":"+cq.TB.aDh+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
cq.TB.mt="\"Ptrn\":"+cq.TB.mt+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
cq.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
cq.Rq=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+cq.TB.d3+","+cq.TB.G+","+cq.TB.mt+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+cq.TB.d3+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+cq.TB.G+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+cq.TB.mt+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"LineÃ¡rnÃ­\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
cq.G={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
cq.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],kA:["SClr","GrFl","Ptrn"],axo:[[13,0],[12,37],[12,62]]};
cq.qD={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],aq9:["SrcC","SrcE"],aso:[[19,5,1],[12,69]]};cq.u6={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],ago:["SfBL","PrBL","Slmt"],a2$:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
cq.K$={PC:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],gU:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],Gl:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+cq.TB.d3+"}")},strokeStyleResolution:{t:"doub",v:72}},ts:function(l,o){var D=JSON.parse(cq.K$.adX);
if(l)D.fillEnabled.v=!0;if(o)D.strokeEnabled.v=!0;return D},yz:function(l,o,D){if(o==null)o={};if(D==null)D=1;
var H=l.strokeStyleLineDashSet.v,_=o.W5=l.strokeStyleLineWidth.v.val*D;o.wk=l.strokeStyleMiterLimit.v;
o.aS=l.strokeStyleLineDashOffset.v.val;o.h_=cq.K$.join.indexOf(l.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
o.iw=cq.K$.PC.indexOf(l.strokeStyleLineCapType.v.strokeStyleLineCapType);o.QH=cq.K$.gU.indexOf(l.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
o.dE=[];for(var v=0;v<H.length;v++)o.dE.push(H[v].v.val*_);if(o.dE.length==1&&o.dE[0]==0)o.dE=[];return o},write:function(l,o,D){if(D==null)D=1;
var H=o.W5,_=o.wk,u=o.dE,S=o.aS,h=o.h_,F=o.iw,n=o.QH;if(H!=null)H=l.strokeStyleLineWidth.v.val=Math.max(.4,H*D);
else H=l.strokeStyleLineWidth.v.val;if(n!=null)l.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cq.K$.gU[n];
if(_!=null)l.strokeStyleMiterLimit.v=_;if(u!=null)l.strokeStyleLineDashSet.v=cN.fx(u,D/H);if(S!=null)l.strokeStyleLineDashOffset.v.val=S;
if(h!=null)l.strokeStyleLineJoinType.v.strokeStyleLineJoinType=cq.K$.join[h];if(F!=null)l.strokeStyleLineCapType.v.strokeStyleLineCapType=cq.K$.PC[F]}};
cq.K$.adX=JSON.stringify(cq.K$.default);cq.o4={ts:function(){return{h6:[1,1,1],IS:[0,0,0],W5:1,wk:0,dE:[],aS:0,h_:0,iw:0,QH:1}}};
cq.TW=function(l){var o=l.strokeEnabled.v,D=l.strokeStyleContent.v;return o?{hM:1+cq.K$.Gl.indexOf(D.classID),E6:D}:{hM:0}};
cq.lr=function(l,o){var D=o.hM;l.strokeEnabled.v=D!=0;if(D!=0){l.strokeStyleContent.v=o.E6;o.E6.classID=cq.K$.Gl[D-1]}};
cq.ty=function(l){var o=l.vstk,D=null;if(o&&!o.fillEnabled.v)D={hM:0};else if(l.SoCo)D={hM:1,E6:l.SoCo};
else if(l.GdFl)D={hM:2,E6:l.GdFl};else if(l.PtFl)D={hM:3,E6:l.PtFl};return D};cq.hz=function(l,o){var D=l.vmsk,H=l.vstk,_=o.hM;
if(H)H.fillEnabled.v=_!=0;if(_>0){var u=["SoCo","GdFl","PtFl"][_-1];for(var v=0;v<3;v++)delete l[["SoCo","GdFl","PtFl"][v]];
l[u]=o.E6}};cq.lJ=[{classID:"null",Clr:JSON.parse(cq.Rq[5]).Clr},{classID:"null",Grad:JSON.parse(cq.Rq[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(cq.Rq[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var cN={};cN.a9U=function(l,o){function D(l,Z){if(l==null||!l.masterFXSwitch.v)return null;var O=l[Z].v,w;
if(O.length!=0){w=O[0].v;if(!w.enab.v)w=null}return w}var H=o.SoCo,_=o.GdFl,u=D(l,"solidFillMulti"),S=D(l,"gradientFillMulti");
if(u==null&&S==null)return[H,_];var h=cN.aDl;if(H&&u&&S==null){var F=JSON.parse(JSON.stringify(H));F.Clr.v=h(u.Clr.v,H.Clr.v,u);
return[F,null]}if(_&&u&&S==null){var n=JSON.parse(JSON.stringify(_)),R=n.Grad.v.Clrs.v;for(var v=0;v<R.length;
v++){var s=R[v].v.Clr;s.v=h(u.Clr.v,s.v,u)}return[null,n]}if(H&&S){var n=JSON.parse(JSON.stringify(S)),R=n.Grad.v.Clrs.v;
for(var v=0;v<R.length;v++){var s=R[v].v.Clr;s.v=h(s.v,H.Clr.v,S)}return[null,n]}return[u,S]};cN.XS={fl:g.o(4),Lq:g.o(4),$:new gt(0,0,1,1)};
cN.aDl=function(l,o,D){var H=b2.kt(D.Md.v.BlnM),_=D.Opct.v.val/100,u=cN.XS;l=g.G.s3(l);o=g.G.s3(o);u.fl[0]=l.$;
u.fl[1]=l.H;u.fl[2]=l.J;u.fl[3]=255;u.Lq[0]=o.$;u.Lq[1]=o.H;u.Lq[2]=o.J;u.Lq[3]=255;g.z.JM(H,u.fl,u.$,u.Lq,u.$,u.$,_);
return{classID:"RGBC",Rd:{t:"doub",v:u.Lq[0]},Grn:{t:"doub",v:u.Lq[1]},Bl:{t:"doub",v:u.Lq[2]}}};cN.awN=function(l,o,D){var H=l;
l=l.slice(0);var _=b2.Jv[b2.cu.indexOf(o.Md.v.BlnM)],u=g.G.s3(o.Clr.v),S=4278190080|Math.round(u.J)<<16|Math.round(u.H)<<8|Math.round(u.$),h=g.o(D.c()*4);
g.M5(h,S);g.z.JM(_,h,D,l,D,D,o.Opct.v.val/100);for(var v=0;v<l.length;v+=4)l[v+3]=H[v+3];return l};cN.kp=function(l,o){var D=["Sz","blur","Sftn","Dstn"];
for(var v=0;v<cq.order.length;v++){var H=cq.order[v],_=l[cq.lZ[v]].v;for(var u=0;u<_.length;u++){var S=_[u].v;
for(var h=0;h<D.length;h++){var F=S[D[h]];if(F){var n=F.v.val,R=n;R=Math.max(n==0?0:1,R*o);if(H=="ChFX")R=Math.min(R,250);
if(H=="ebbl"){if(D[h]=="blur")R=Math.min(R,250);if(D[h]=="Sftn")R=Math.min(R,16)}F.v.val=Math.round(R)}}if(H=="ebbl"||H=="patternFill"||H=="FrFX")if(S.Ptrn&&S.Scl)S.Scl.v.val=Math.max(1,Math.min(1e3,S.Scl.v.val*o))}}};
cN.asH=function(l,o,D){var H=new gt(-.5,-.5,1,1);for(var v=0;v<cq.order.length;v++){var _=cq.order[v],u=l[cq.lZ[v]].v;
for(var S=0;S<u.length;S++){var h=u[S].v,s;if(!h.enab.v)continue;var F=h.blur?h.blur.v.val+1:0,n=h.Ckmt?h.Ckmt.v.val/100:0,R=Math.round(F*n);
if(_=="DrSh"||_=="IrSh"&&D){s=new gt(-.5,-.5,1,1);s.ag(F,F);cN.mX(s,h,o,0)}if(_=="St3D"){s=new gt(-.5,-.5,1,1);
cN.mX(s,h,o,Math.PI,"Angl")}if(_=="OrGl"||_=="IrGl"&&D){s=new gt(-.5,-.5,1,1);s.ag(F,F)}if(_=="FrFX"){var Z=cN._N(h),O=Z[1];
if(D)O=Math.max(Z[0],O);s=new gt(-.5,-.5,1,1);s.ag(Math.ceil(O),Math.ceil(O))}if(_=="ebbl"){var F=h.blur.v.val,w=h.bvlS.v.BESl;
if(w=="Embs"||w=="PlEb")F/=2;var m=["OtrB","InrB","Embs","PlEb","strokeEmboss"],V=["SfBL","PrBL","Slmt"],q=["In","Out"],i=h.bvlT.v.bvlT!="SfBL"?F:F*.43,c=Math.round(F);
s=new gt(-c-1,-c-1,2*c+2,2*c+2)}if(D&&_=="ChFX"){s=new gt(-.5,-.5,1,1);s.ag(F,F);var z=s.clone();cN.mX(s,h,o,0);
cN.mX(z,h,o,Math.PI);s=s.tB(z)}if(s)H=H.tB(s)}}if(H.x!=Math.ceil(H.x)){H.x=Math.ceil(H.x);H.Q-=1}if(H.y!=Math.ceil(H.y)){H.y=Math.ceil(H.y);
H._-=1}H.Q=Math.floor(H.Q);H._=Math.floor(H._);return H};cN._N=function(l){var o,D,H=0,_=0;if(l.Sz){o=l.Sz.v.val;
D=cq.stroke.types.indexOf(l.Styl.v.FStl)}else{o=l.Wdth.v;D=["Insd","Cntr","Otsd"].indexOf(l.Lctn.v.StrL)}if(D==0)H=o;
if(D==1)H=_=o/2;if(D==2)_=o;return[H,_]};cN.anv=function(l){if(kx.X7&&l.MC==null){l.MC=new kx.Q9(l.nR.Q,l.nR._);
l.MC.set(l.G5);delete l.G5;if(l.Tv){l.$Z=new kx.jF(l.nR.Q,l.nR._);l.$Z.set(l.Tv);delete l.Tv}if(l.tb){l.cE=new kx.jF(l.nR.Q,l.nR._);
l.cE.set(l.tb);delete l.tb}}};cN.aqX=function(l){if(l.MC)l.MC.delete();if(l.$Z)l.$Z.delete();if(l.cE)l.cE.delete()};
cN.a9K=function(l){if(l.all==null)return;for(var v=0;v<l.all.length;v++){cN.aqX(l.all[v])}};cN.ahc=function(l,o,D,H,_,u){var S=cN.K1(D,H,l,o,_,u);
for(var v=0;v<S.all.length;v++)cN.anv(S.all[v]);return S};cN.ajS=function(l){for(var v=0;v<cq.order.length;
v++){var o=cq.order[v],D=cq.lZ[v],H=l[D].v;for(var _=0;_<H.length;_++){var u=H[_].v;if(u.enab.v&&["patternFill","GrFl","SoFi"].indexOf(o)==-1)return!0}}return!1};
cN.K1=function(l,o,D,H,_,u){if(u==null)u=H;var S=0,h=0;for(var v=0;v<cq.order.length;v++){var F=cq.order[v],n=cq.lZ[v],R=l[n].v;
for(var s=0;s<R.length;s++){var Z=R[s].v;if(F=="DrSh"&&Z.enab.v&&Z.Ckmt.v.val>0&&Z.blur.v.val>0)S=Math.max(S,Math.ceil(Z.Ckmt.v.val*Z.blur.v.val/100));
if(F=="OrGl"&&Z.enab.v&&Z.Ckmt.v.val>0&&Z.blur.v.val>0&&Z.GlwT.v.BETE=="SfBL")S=Math.max(S,Math.ceil(Z.Ckmt.v.val*Z.blur.v.val/100));
if(F=="OrGl"&&Z.enab.v&&Z.blur.v.val>0&&Z.GlwT.v.BETE=="PrBL")S=Math.max(S,Z.blur.v.val);if(F=="FrFX"&&Z.enab.v&&Z.Sz.v.val>0){if(Z.Styl.v.FStl=="OutF")S=Math.max(S,Z.Sz.v.val);
if(Z.Styl.v.FStl=="CtrF")S=Math.max(S,Math.ceil(Z.Sz.v.val/2));h=Math.max(h,cN._N(Z)[1])}}}var O=new cN.TN(D,H,S,cN.ajS(l)),w=-H.x,m=-H.y,V={type:{},all:[]};
for(var q=0;q<cq.order.length;q++){var F=cq.order[q],n=cq.lZ[q];V.type[F]=[];for(var i=l[n].v.length-1;
i>=0;i--){var c=l[n].v[i].v,a;if(!c.enab.v)continue;var z=c.blur?c.blur.v.val:0,B=c.Ckmt?c.Ckmt.v.val/100:0,t=z*B;
if(F=="St3D"){var I=Math.max(1e-4,1-c.Srnk.v.val/100),W=2,fD=0;function N(J,bW,c){var gn=c.Angl.v.val;
gn*=Math.PI/180;var e=c.Dstn.v.val,bF=Math.cos(gn)*e,iN=-Math.sin(gn)*e,br=I+bW*(1-I),aJ=new de;aJ.translate(-J.Q/2,-J._/2);
aJ.scale(br,br);aJ.translate(J.Q/2,J._/2);aJ.translate((1-bW)*bF,(1-bW)*iN);return aJ}var J=H.clone(),Q=D;
J.x=J.y=0;var A=Date.now(),f=J.clone();f.ag(W,W);var C=g.o(f.c());g.mB(Q,J,C,f);f.x=f.y=0;g.l5.Cc(C,C,f,2);
var j=g.o(f.c()*4);j.fill(255);g.rT(C,j);var K=g.o(J.c()),$=J.Q,r=J._,U=f.Q,b=cN.aBe(c,_),e=Math.cos(b[1]),P=-Math.cos(b[0])*e,L=Math.sin(b[0])*e;
if(Math.abs(P)<.001&&Math.abs(L)<.001)P=L=0;for(var Y=0;Y<r;Y++)for(var X=0;X<$;X++){var v=(Y+W)*U+X+W,G=C[v+1]-C[v-1],E=C[v+U]-C[v-U],T=G*G+E*E;
if(T>10){var y=1/Math.sqrt(T);K[Y*$+X]=Math.max(0,Math.min(255,128+127*(P*y*G+L*y*E)))}}var d4=[Q,J],dH=N(J,0,c),eV=g.X.YZ(J).s,bf=eV.slice(0);
g.X.h(eV,dH,bf);var jd=J.tB(g.X.Mg(bf)),i5=g.o(jd.c()*4);for(var v=0;v<8;v+=2){var G=eV[v]-bf[v],E=eV[v+1]-bf[v+1];
fD=Math.max(fD,Math.sqrt(G*G+E*E))}var eo=Math.round(fD/2),iX=g.G.s3(c.Clr.v);iX.$/=255;iX.H/=255;iX.J/=255;
var cK=c.Drkn.v.val/100;for(var g0=0;g0<eo;g0++){var bW=g0/eo,hF=1-cK+bW*cK,aJ=N(J,bW,c),iR=J.clone(),ex=Q;
if(I!=1){var dX=p.cA.R7(d4,aJ);iR=dX.rect;ex=dX.channel}else{var iZ=aJ.wq(new he(0,0));iR.x+=Math.round(iZ.x);
iR.y+=Math.round(iZ.y)}var j3=g.o(iR.c()*4);if(P!=0||L!=0){var by=iR.Q,i9=iR._,dm=iX.$,kh=iX.H,jK=iX.J,bd=aJ.clone();
bd.L5();var dz=bd.wq(new he(.5,.5)),dw=bd.wq(new he(1.5,1.5)),G=dw.x-dz.x,E=dw.y-dz.y;for(var Y=0;Y<i9;
Y++){for(var X=0;X<by;X++){var v=Y*by+X,ev=v*4,aq=Math.max(0,Math.min($-1,~~(.5+G*X))),e3=Math.max(0,Math.min(r-1,~~(.5+E*Y))),a9=K[e3*$+aq],e0=-1+2*a9*(1/255),as=-e0,eK=0;
if(e0>0){as=0;eK=e0}j3[ev]=255*(1-as)*(eK+(1-eK)*dm)*hF;j3[ev+1]=255*(1-as)*(eK+(1-eK)*kh)*hF;j3[ev+2]=255*(1-as)*(eK+(1-eK)*jK)*hF}}}else cN.SS(j3,c.Clr.v,null,hF);
g.Kl(ex,j3,3);g.z.JM("norm",j3,iR,i5,jd,iR,1)}a={G5:i5,nR:jd}}else if(F=="DrSh"){var gh=O.Ej(t,z-t,!0),gx=gh.n2,gc=gh.hR.clone();
cN.tK(gx,c,!1);if(c.Cntn&&c.Cntn.v){var kQ=new gt;cN.mX(kQ,c,_,0);var dn=gc.clone();dn.offset(-kQ.x,-kQ.y);
dn=dn.tB(gc);var bQ=g.o(dn.c());g.mB(gx,gc,bQ,dn);var iK=Math.sqrt(kQ.x*kQ.x+kQ.y*kQ.y),cJ=gx.slice(0);
for(var v=0;v<iK-1;v++){var G=Math.round(-kQ.x*v/iK),E=Math.round(-kQ.y*v/iK),i1=gh.hR.clone();i1.offset(G,E);
g.a7V(cJ,i1,bQ,dn)}gx=bQ;gc=dn}gc.offset(w,m);cN.mX(gc,c,_,0);var i5=g.o(gc.c()*4);cN.SS(i5,c.Clr.v);
g.Kl(gx,i5,3);a={G5:i5,nR:gc,aze:c.layerConceals.v}}else if(F=="IrSh"){var gh=O.Ej(t,z-t,!1);cN.mX(gh.hR,c,_,0);
var gc=O.rect().clone(),gx=g.o(gc.c());gx.fill(255);g.mB(gh.n2,gh.hR,gx,gc);cN.tK(gx,c,!0,!0);var i5=g.o(gc.c()*4);
cN.SS(i5,c.Clr.v);g.Kl(gx,i5,3);gc.offset(w,m);a={G5:i5,nR:gc}}else if(F=="GrFl"){var i5=g.o(O.rect().c()*4);
cN.HZ(c,i5,O.rect(),_,null,u);var gc=O.rect().clone();gc.offset(w,m);a={G5:i5,nR:gc}}else if(F=="SoFi"){var i5=g.o(O.n2().length*4);
cN.SS(i5,c.Clr.v);var gc=O.rect().clone();gc.offset(w,m);a={G5:i5,nR:gc}}else if(F=="ebbl"){var bu=!1;
if(bu)console.log(c);var A=Date.now(),gi=A,iv=c.bvlS.v.BESl,d0=c.bvlT.v.bvlT;if(iv=="strokeEmboss"){var af=l.frameFXMulti.v;
if(af.length==0)continue;af=af[0].v;if(!af.enab.v)continue;var eY=af.Styl.v.FStl;if(eY=="OutF")iv="OtrB";
if(eY=="CtrF")iv="Embs";if(eY=="InsF")iv="InrB"}var z=c.blur.v.val;if(z==0)z=.7;if(iv=="Embs"||iv=="PlEb")z/=2;
var hV=["OtrB","InrB","Embs","PlEb","strokeEmboss"],i$=["SfBL","PrBL","Slmt"],cz=["In","Out"],fk=d0!="SfBL"?z:z*.45,ee=Math.round(z),aC=O.rect().clone(),cI=aC.clone();
cI.ag(ee,ee);var $=cI.Q,r=cI._,cZ=$*r,ad=g.o(cZ);g.mB(O.n2(),aC,ad,cI);var j0=g.style.QK(ad,$,r);g.L5(ad);
var cX=g.style.QK(ad,$,r);if(bu)console.log("distTransform computed",Date.now()-A);A=Date.now();for(var v=0;
v<cZ;v++){var bY=cX[v]-j0[v];cX[v]=bY}if(d0=="PrBL")g.l5.X6(cX,cI,1.5,2);for(var v=0;v<cZ;v++){var bY=cX[v];
if(bY<-fk)cX[v]=-fk;else if(bY>fk)cX[v]=fk}if(bu)console.log("summing + cropping",Date.now()-A);A=Date.now();
if(d0=="SfBL"){var io=Math.pow(z*.21,1.22);if(!0)io=Math.max(io,2);g.l5.X6(cX,cI,io,2);console.log(io)}if(bu)console.log("blurring",Date.now()-A);
A=Date.now();var et=cX,dR=j0;dR.set(et);if(c.useShape.v){var dZ=Math.min(100,c.Inpr.v.val+1)/100;if(iv!="OtrB"&&iv!="InrB")dZ=1;
var jh=g.SA.KH(c.MpgS.v.Crv.v,2e3),jo=Math.round(2e3/dZ);jh=g.SA.aln(jh,jo,iv=="InrB");var co=.5/fk;
for(var v=0;v<cZ;v++){var h3=et[v],b1=.99999*(h3+fk)*co;et[v]=-fk+2*fk*jh[~~(b1*(jo-1))]}if(bu)console.log("applying shape",Date.now()-A);
A=Date.now()}if(c.useTexture.v){var j3=g.o($*r*4);cN.eT(c,j3,cI,_.add.Patt,o);var ij=g.o($*r);g.Hx(j3,ij);
g.l5.a5x(ij,ij,cI,1);var h0=z*c.textureDepth.v.val*(1/100)*(1/255);if(c.InvT.v)h0=-h0;for(var v=0;v<cZ;
v++)et[v]+=-h0*ij[v];if(bu)console.log("applying texture",Date.now()-A);A=Date.now()}var b=cN.aBe(c,_),gn=b[0],fS=b[1],P=Math.cos(gn)*Math.cos(fS),L=-Math.sin(gn)*Math.cos(fS),ka=Math.sin(fS),g5=iv=="PlEb",cs=new Float32Array(cZ),cE=cs;
cs.fill(ka);if(g5){cE=new Float32Array(cZ);cE.fill(ka)}var dy=(c.bvlT.v.bvlT=="SfBL"?1:.5)*(c.bvlD.v.BESs=="In"?1:-1)*c.srgR.v.val/100,fa=-.125*dy;
for(var Y=0;Y<r;Y++){var h7=Y==0?0:-$,f_=Y==r-1?0:$,v=Y*$;for(var X=0;X<$;X++,v++){var ba=X==0?v:v-1,fT=X==$-1?v:v+1,G=et[fT]-et[ba],E=et[v+f_]-et[v+h7],f$=1;
if(G==0&&E==0)continue;var aI=et[ba+h7],ar=et[fT+h7],ao=et[ba+f_],fn=et[fT+f_],k8=fa*(ar+2*G+fn-aI-ao),aF=fa*(ao+2*E+fn-aI-ar),fW=1/Math.sqrt(k8*k8+aF*aF+1);
k8*=fW;aF*=fW;f$*=fW;var iC=k8*P+aF*L+f$*ka;cs[v]=Math.max(0,iC);if(!g5)continue;var f4=-k8*P-aF*L+f$*ka;
cE[v]=Math.max(0,f4)}}if(bu)console.log("raycasting",Date.now()-A);A=Date.now();if(c.Sftn.v.val!=0){g.l5.X6(cs,cI,c.Sftn.v.val*.43,2);
if(g5)g.l5.X6(cE,cI,c.Sftn.v.val*.43,2)}if(bu)console.log("softening",Date.now()-A);A=Date.now();var cR=cN.zH(c.hglC.v,0),d5=cN.zH(c.sdwC.v,0),gw=new Uint8Array(cs.buffer),az=new Uint32Array(gw.buffer),jI=new Uint8Array(et.buffer),dI=new Uint32Array(jI.buffer),dP=gw,fF=jI,eG=az,gE=dI;
if(g5){dP=new Uint8Array(cE.buffer);eG=new Uint32Array(dP.buffer);fF=new Uint8Array(dR.buffer);gE=new Uint32Array(fF.buffer)}var fB=1/ka,gz=1/(1-ka),co=1/fk,jh=g.SA.KH(c.TrnS.v.Crv.v,1024),ak=new Float32Array(2500);
for(var v=0;v<2500;v++){var X=Math.max(0,Math.min(1,(v-500)*.001));ak[v]=Math.pow(X,.2)}for(var Y=0;
Y<r;Y++)for(var X=0;X<$;X++){var v=Y*$+X,bK=4*v+3,bo=~~(cs[v]*1023),f0=jh[bo],kF=(dR[v]+fk*.993)*co,fx=ak[~~(500+kF*1e3)],hZ=fx*(1-Math.min(1,f0*fB)),h9=fx*(1-Math.min(1,(1-f0)*gz));
dI[v]=~~(.5+255*hZ)<<24|d5;az[v]=~~(.5+255*h9)<<24|cR;if(!g5)continue;var dj=jh[~~(cE[v]*1023)],hr=fx*(1-Math.min(1,dj*fB)),i9=fx*(1-Math.min(1,(1-dj)*gz));
gE[v]=~~(.5+255*hr)<<24|d5;eG[v]=~~(.5+255*i9)<<24|cR}if(bu)console.log("baking textures",Date.now()-A);
A=Date.now();cI=O.rect().clone();cI.ag(ee,ee);cI.offset(w,m);a={at3:c.bvlS.v.BESl=="strokeEmboss"};var fr=b2.kt(c.hglM.v.BlnM),i8=c.hglO.v.val/100,kJ=b2.kt(c.sdwM.v.BlnM),hj=c.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(iv)!=-1){a.gc={G5:gw,nR:cI,BI:fr,aX:i8};a.pA={G5:jI,nR:cI,BI:kJ,aX:hj}}if(["OtrB","Embs","PlEb"].indexOf(iv)!=-1){a.Bg={G5:dP,nR:cI,BI:fr,aX:i8};
a.eS={G5:fF,nR:cI,BI:kJ,aX:hj}}if(bu)console.log(Date.now()-gi)}else if(F=="patternFill"){var ci=O.rect(),i5=g.o(ci.c()*4);
cN.eT(c,i5,ci,_.add.Patt,o);var gc=ci.clone();gc.offset(w,m);a={G5:i5,nR:gc}}else if(F=="ChFX"){var i5=g.o(O.n2().length*4);
cN.SS(i5,c.Clr.v);var z=c.blur.v.val,gv=O.rect().clone();gv.ag(z,z);var hT=g.o(gv.c()),iQ=g.o(gv.c());
g.mB(O.n2(),O.rect(),iQ,gv);g.l5.Cc(iQ,hT,gv,z*.43);var dW=g.SA.d0(c.MpgS.v.Crv.v,256,!0);g.avt(hT,dW);
var h1=g.o(O.n2().length),a0=g.o(O.n2().length),iD=O.rect().clone();cN.mX(iD,c,_,0);g.mB(hT,gv,h1,iD);
iD=O.rect().clone();cN.mX(iD,c,_,Math.PI);g.mB(hT,gv,a0,iD);var jU=h1.length;for(var v=0;v<jU;v++)i5[4*v+3]=Math.abs(h1[v]-a0[v]);
if(c.Invr.v)for(var v=0;v<jU;v++)i5[4*v+3]=255-i5[4*v+3];var gc=O.rect().clone();gc.offset(w,m);a={G5:i5,nR:gc}}else if(F=="OrGl"){var gh;
if(c.GlwT.v.BETE=="SfBL")gh=O.Ej(t,z-t,!0);else gh=O.a1g(z,B,!0);var gx=gh.n2,gc=gh.hR,bC=gx.slice(0);
cN.a7B(gx,c);var i5=g.o(gc.c()*4);if(c.Grad==null){cN.SS(i5,c.Clr.v);cN.tK(gx,c,!1)}else{cN.tK(gx,c,null);
var fI={d9:gx,OY:255,PP:0,$N:gc};cN.HZ(c,i5,gc,_,fI);var ip=c.Nose.v.val/100,eC=gc.Q;for(var v=0;v<bC.length;
v++){var ep=255,be=bC[v];if(be<32){var kF=(be+bC[v-1]+bC[v+1]+bC[v-eC]+bC[v+eC])*.2-1;ep=Math.min(255,Math.round(Math.max(0,kF)*8))}gx[v]=ep}cN.a6h(gx,c)}g.Kl(gx,i5,3);
gc.offset(w,m);a={G5:i5,nR:gc}}else if(F=="IrGl"){var gh;if(c.GlwT.v.BETE=="SfBL")gh=O.Ej(t,z-t,!1);
else gh=O.a1g(z,B,!1);var gx=gh.n2,gc=gh.hR;cN.a7B(gx,c);if(c.glwS.v.IGSr=="SrcC")g.L5(gx);var i5=g.o(gc.c()*4);
if(c.Grad==null){cN.SS(i5,c.Clr.v);cN.tK(gx,c,!0)}else{cN.tK(gx,c,null);var fI={d9:gx,OY:255,PP:0,$N:gc};
cN.HZ(c,i5,gc,_,fI);gx.fill(255);cN.a6h(gx,c)}g.Kl(gx,i5,3);gc.offset(w,m);a={G5:i5,nR:gc}}else if(F=="FrFX"){var hC=cN._N(c),jT=hC[0],ia=hC[1],gc=O.rect().clone(),ac=null,an=null;
gc.ag(Math.ceil(h),Math.ceil(h));if(ia>0){var gh=O.Ej(ia,0,!0);an=gh.n2;if(an.length<gc.c()){an=g.o(gc.c());
g.mB(gh.n2,gh.hR,an,gc)}}if(jT>0){var gh=O.Ej(jT,0,!1);ac=g.o(gc.c());ac.fill(255);g.mB(gh.n2,gh.hR,ac,gc)}gc.offset(w,m);
var i5=g.o(gc.c()*4),ix=c.PntT.v.FrFl;if(ix=="SClr")cN.SS(i5,c.Clr.v);if(ix=="GrFl")cN.HZ(c,i5,gc,_,O.ajM(jT,ia));
if(ix=="Ptrn")cN.eT(c,i5,gc,_.add.Patt,o);var jS=c.overprint,fH=jS?jS.v:!1;if(fH){var ap=ac?ac:an;if(ac&&an)g.Tc.$o(ac,an,ap);
g.Kl(ap,i5,3)}a={G5:i5,nR:gc,tb:an,Tv:ac,amV:fH}}V.type[F].push(a);if(F=="ebbl"){if(a.gc)V.all.push(a.gc,a.pA);
if(a.Bg)V.all.push(a.Bg,a.eS)}else{a.BI=b2.kt(c.Md.v.BlnM);a.aX=c.Opct.v.val/100,V.all.push(a)}}}return V};
cN.nv=function(l){var o=1/Math.sqrt(l.x*l.x+l.y*l.y+l.qi*l.qi);l.x*=o;l.y*=o;l.qi*=o};cN.a1C=function(l,o){return{x:l.y*o.qi-l.qi*o.y,y:l.qi*o.x-l.x*o.qi,qi:l.x*o.y-l.y*o.x}};
cN.a6Q=function(l,o){return l.x*o.x+l.y*o.y+l.qi*o.qi};cN.a6h=function(l,o){var D=o.Nose.v.val/100;if(D>0)for(var v=0;
v<l.length;v++){var H=l[v];H=Math.min(510-(1+D)*g.style._5(v),H);l[v]=H}};cN.w6=function(l){var o=cN.uM(),D=l.MZ,H=!1;
for(var v=0;v<32;v+=8)if(D[v]+D[v+1]+D[v+4]+D[v+5]!=0||D[v+2]+D[v+3]+D[v+6]+D[v+7]!=1020)H=!0;if(H){D=D.slice(0);
for(var v=0;v<40;v+=4){var _=D[v]/255,u=D[v+1]/255,S=D[v+2]/255,h=D[v+3]/255;D[v]=_-.001;D[v+1]=_==u?1e6:1/(u-_);
D[v+2]=S==h?-1e6:1/(S-h);D[v+3]=h+.001}}var F=l.add.iOpa!=null?l.add.iOpa/255:o.fill,n=l.add.vstk;if(n&&!n.fillEnabled.v&&(!n.strokeEnabled.v||n.strokeStyleLineWidth.v.val==0))F=0;
return{fill:F,$d:H?D:null,dC:l.add.brst!=null?l.add.brst:o.dC,a3s:l.add.knko!=null?l.add.knko:o.a3s,style:!1,U$:!1}};
cN.uM=function(){return{fill:1,$d:null,dC:[1,1,1],a3s:0,style:!1,U$:!1}};cN.abj=function(l,o,D,H,_,u,S,h){if(h==null)h=1;
if(S==null)S=new de;var F=l.dT[1].Q,n=l.dT[1]._,R=new de,s=_<2;if(s)R.translate(-F/2,-n/2);if(_==0){h*=Math.max(D/F,H/n)}else if(_==1){h*=Math.min(D/F,H/n)}else if(_==2){R.scale(1/F,1/n);
R.concat(S);R.scale(D,H)}else if(_==3){h=h}R.scale(h,h);if(s)R.translate(D/2,H/2);R.concat(u);o.Ptrn.v.Idnt.v=l.id;
o.Scl.v.val=Math.round(100*R.jX());o.Angl.v.val=Math.round(180*Math.atan2(-R.J,R.M)/Math.PI);o.Algn.v=!0;
var Z=o.phase.v;Z.Hrzn.v=Math.round(R.ip);Z.Vrtc.v=Math.round(R.nl)};cN.Sf=function(l,o){if(o==null)return null;
var D=l.Idnt.v,H=l.Nm.v;for(var v=0;v<o.length;v++)if(o[v].id==D)return o[v];for(var v=0;v<o.length;
v++)if(o[v].name==H)return o[v];return null};cN.a6i=function(l,o,D){var H=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var v=0;v<H.length;v++){var _=l.v[H[v]].v;for(var u=0;u<_.length;u++)if(_[u].v.Ptrn)o.YE(cN.Sf(_[u].v.Ptrn.v,D))}};
cN.amB=function(l,o,D){var H=["patternFillMulti","ebblMulti","frameFXMulti"];for(var v=0;v<H.length;
v++){var _=l.v[H[v]].v;for(var u=0;u<_.length;u++)if(_[u].v.Ptrn){var S=_[u].v.Ptrn.v,h=cN.Sf(S,D),F=cN.Sf(S,o.add.Patt);
if(h==null&&F)D.push(F)}}};cN.eT=function(l,o,D,H,_){var u=cN.Sf(l.Ptrn.v,H);if(u!=null&&!D.lh()){var S=u.dT,h=S[0],F=S[1],n=0;
g.Na(S);var R=(l.Scl?l.Scl.v.val:100)/100;while((R<.3||R==.5)&&S[n+2]){R*=F.Q/S[n+3].Q;n+=2;h=S[n];F=S[n+1]}var s=g.scale.eT(h,F.Q,F._),Z=l.phase?l.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},O=l.Angl?l.Angl.v.val:0,w=-D.x+Z.Hrzn.v-1,m=-D.y+Z.Vrtc.v-1;
if(l.Algn!=null&&!l.Algn.v){}else{w+=_.x;m+=_.y}if(o)g.scale.aas(s,o,D.Q,D._,R,R,w+1,m+1,O*Math.PI/180);
else return[s,R,w+1,m+1,O*Math.PI/180]}};cN.HZ=function(l,o,D,H,_,u,S,h){if(u==null)u=D;var F=l.Type?l.Type.v.GrdT:"shapeburst",n=l.Algn&&l.Algn.v?u:new gt(0,0,H.Q,H._),R=l.Angl?g.G.apH(l,n):[new he(0,0),new he(100,0)],s=R[0].x,Z=R[0].y,O=R[1].x-s,w=R[1].y-Z,m=Math.sqrt(O*O+w*w);
m=1/(2*m*m);var V=[O*m,w*m,-w*m,O*m],q=l.Rvrs?l.Rvrs.v:!1,i=l.Dthr?l.Dthr.v:!1;g.G.Wl(l.Grad.v,o,D,V,s,Z,q,cq.G.types.indexOf(F),S==null?0:S,h==null?0:h,_,i)};
cN.acG=function(l,o,D){for(var v=0;v<l.all.length;v++){var H=l.all[v];H.Ov=H.nR.clone();H.Ov.offset(o,D)}};
cN.atx=function(l,o,D,H,_,u){var S=kx.X7?cN.a2Z:cN.awt;cN.acG(o,D.x,D.y);var h=o.type.DrSh;for(var v=0;
v<h.length;v++)if(!h[v].aze)S(h[v],H,_,u)};cN.ae$=function(l,o,D,H,_,u,S,h,F,n){var R=D,s=kx.X7?cN.a2Z:cN.awt,Z=kx.X7?kx.z.Ur:g.z.vx,O;
O=o.type.DrSh;for(var v=0;v<O.length;v++)if(O[v].aze)s(O[v],H,_,u);O=o.type.St3D;for(var v=0;v<O.length;
v++)s(O[v],H,_,u);O=o.type.OrGl;for(var v=0;v<O.length;v++)s(O[v],H,_,u);var w="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var m=0;m<w.length;m++){var O=o.type[w[m]];for(var v=0;v<O.length;v++)s(O[v],S,R,u)}var V=o.type.ebbl[0],q=V!=null&&V.at3;
O=o.type.FrFX;for(var v=0;v<O.length;v++){var i=O[v];fO.fq.mB(h,n,F,n,u);s(i,F,n,u);if(q&&v==O.length-1){if(V.eS)s(V.eS,F,n,u);
if(V.Bg)s(V.Bg,F,n,u);if(V.pA)s(V.pA,F,n,u);if(V.gc)s(V.gc,F,n,u)}if(i.amV){if(i.Tv||i.$Z){s(i,S,R,u)}if(i.tb||i.cE){s(i,H,_,u)}}else{if(i.Tv||i.$Z)Z(F,n,S,R,kx.X7?i.$Z:i.Tv,i.Ov,0,u,1);
if(i.tb||i.cE)Z(F,n,H,_,kx.X7?i.cE:i.tb,i.Ov,0,u,1)}}if(!q&&V!=null){if(V.eS)s(V.eS,H,_,u);if(V.Bg)s(V.Bg,H,_,u);
if(V.pA)s(V.pA,S,R,u);if(V.gc)s(V.gc,S,R,u)}};cN.awt=function(l,o,D,H){var _=cN.uM();_.fill=l.aX;_.style=!0;
g.z.JM(l.BI,l.G5,l.Ov,o,D,H,1,_)};cN.a2Z=function(l,o,D,H){var _=cN.uM();_.fill=l.aX;_.style=!0;kx.z.afL(l.BI,l.MC,l.Ov,o,D,H,1,_)};
cN.a7B=function(l,o){var D=1-o.Inpr.v.val/100,H=1+Math.tan(D*(Math.PI/2)),_=l.length;for(var v=0;v<_;
v++)l[v]=Math.min(255,Math.round(l[v]*H))};cN.tK=function(l,o,D,H){var _=o.blur.v.val,u=Math.round(_*(o.Ckmt.v.val/100));
if(_>u){var S=g.SA.d0(o.TrnS.v.Crv.v,256,H!=!0);g.avt(l,S)}if(D!=null&&o.Nose.v.val>0)g.style.f$(l,o.Nose.v.val/100,D)};
cN.zH=function(l,o,D){if(o==null)o=255;var H=g.G.s3(l);if(D!=null){H.$=Math.round(H.$*D);H.H=Math.round(H.H*D);
H.J=Math.round(H.J*D)}return o<<24|H.J<<16|H.H<<8|H.$};cN.SS=function(l,o,D,H){var _=new Uint32Array(l.buffer);
_.fill(cN.zH(o,D,H))};cN.mX=function(l,o,D,H,_){var u=o.uglg&&o.uglg.v?D.Ry():o[_?_:"lagl"].v.val;u=u*Math.PI/180+H;
var S=Math.cos(u)*o.Dstn.v.val,h=Math.sin(u)*o.Dstn.v.val;l.x-=Math.round(S);l.y+=Math.round(h)};cN.aBe=function(l,o){var D=l.uglg&&l.uglg.v?o.Ry():l.lagl.v.val;
D=D*(Math.PI/180);var H=l.uglg&&l.uglg.v?o.xH():l.Lald.v.val;H=H*(Math.PI/180);return[D,H]};cN.aDB=function(l){if(l==null||!l.masterFXSwitch.v)return null;
var o=l.frameFXMulti.v,D=null;for(var v=0;v<o.length;v++)if(o[v].v.enab.v)D=o[v].v;if(D==null)return null;
var H=cq.K$.ts();cN.aay(D,H);return H};cN.aay=function(l,o){var D=cq.stroke.kA.indexOf(l.PntT.v.FrFl),H=[cq.mh,cq.Mp,cq.Zm][D],_=o.strokeStyleContent.v={classID:cq.K$.Gl[D]};
for(var v=0;v<H.length;v++)_[H[v]]=l[H[v]];o.strokeEnabled=l.enab;o.strokeStyleLineWidth=l.Sz;o.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cq.K$.gU[cq.stroke.types.indexOf(l.Styl.v.FStl)];
o.strokeStyleOpacity=l.Opct;o.strokeStyleBlendMode=l.Md;o.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
cN.fx=function(l,o){var D=[];for(var v=0;v<l.length;v++)D.push({t:"UntF",v:{type:"#Nne",val:l[v]*o}});
return D};cN.a5_=function(l,o){var D=l.opacity/255*(l.add.iOpa?l.add.iOpa/255:1),H=l.add.TySh,_=l.Cl()||l.RR()&&l.add.vmsk&&l.add.vstk.fillEnabled.v&&l.add.vstk.strokeEnabled.v;
if(H){var u=H.PF.EngineDict.StyleRun.RunArray,S=u[0].StyleSheet.StyleSheetData,h=0;if(S.FillFlag)h++;
if(S.StrokeFlag)h++;if(S._FillBackgroundFlag)h++;if(h>1)_=!0}return _&&(o||D!=1||l.TY!="pass"&&l.TY!="norm")};
cN.TN=function(l,o,D,H){this.jP=o.clone();this.ava=o.clone();this.ava.ag(D,D);if(H){this.jP.ag(1,1);
this.jI=g.o(this.jP.c());g.mB(l,o,this.jI,this.jP)}else this.jI=l;this.e2=null;this.Sk=null;this.e$=null};
cN.TN.prototype.n2=function(){return this.jI};cN.TN.prototype.rect=function(){return this.jP};cN.TN.prototype.Mb=function(){return this.ava};
cN.TN.prototype.rR=function(){if(this.e2)return this.e2;this.e2=this.n2().slice(0);g.L5(this.e2);return this.e2};
cN.TN.prototype.cf=function(){if(this.Sk)return this.Sk;this.Sk=g.style.QK(this.rR(),this.rect().Q,this.rect()._);
return this.Sk};cN.TN.prototype.LP=function(){if(this.e$)return this.e$;var l=this.Mb(),o=g.o(l.c());
g.mB(this.n2(),this.rect(),o,l);var D=Date.now();this.e$=g.style.QK(o,l.Q,l._);return this.e$};cN.TN.prototype.ajM=function(l,o){var D={OY:-o,PP:l,$N:null,d9:null};
if(o==0){D.$N=this.rect();D.d9=this.cf();return D}var H=this.LP().slice(0),_=this.Mb();D.$N=_;D.d9=H;
for(var v=0;v<H.length;v++)H[v]=-H[v];if(l==0)return D;var u=this.cf(),S=this.rect();for(var h=0;h<S._;
h++)for(var F=0;F<S.Q;F++){var n=h*S.Q+F,R=(h+S.y-_.y)*_.Q+F+S.x-_.x;H[R]+=u[n]}return D};cN.TN.prototype.Ej=function(l,o,D){var H=Math.ceil(l+o),_={hR:this.rect().clone(),n2:null};
_.hR.ag(H,H);_.n2=g.o(_.hR.c());if(l==0&&o==0)g.Tg(D?this.n2():this.rR(),_.n2);else{var u=g.o(_.hR.c());
g.mB(this.n2(),this.rect(),u,_.hR);if(!D)g.L5(u);if(l!=0){if(D)g.style.LB(u,_.hR,this.LP(),this.Mb(),l);
else g.style.LB(u,_.hR,this.cf(),this.rect(),l)}if(o!=0)g.l5.Cc(u,_.n2,_.hR,Math.max(1,o*.43));else _.n2=u}return _};
cN.TN.prototype.a1g=function(l,o,D){var H=l*(o-.5),_={hR:this.rect().clone(),n2:null};if(D)_.hR.ag(l,l);
_.n2=g.o(_.hR.c());var u=_.hR.Q,S=_.hR._,h=D?this.LP():this.cf(),F=D?this.Mb():this.rect(),n=_.hR,R=n.$o(F),u=R.Q,S=R._,s=R.x-n.x,Z=R.y-n.y,O=R.x-F.x,w=R.y-F.y,m=1-o*2;
for(var V=0;V<S;V++)for(var q=0;q<u;q++){var i=h[(V+w)*F.Q+q+O],c=i/l;_.n2[(V+Z)*n.Q+q+s]=Math.max(0,Math.min(255,255-255*((c+m)/(1+m))))}return _};
cN.a4M=function(l,o,D,H){var _=l.Lefx,u=l.blendOptions;if(_){var S=o.add.lmfx;if(D==null)D=S?S.Scl.v.val:100;
o.add.lmfx=JSON.parse(JSON.stringify(_.v));if(o.add.lmfx.Scl==null)o.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
cN.kp(o.add.lmfx,D/o.add.lmfx.Scl.v.val);if(S)o.add.lmfx.Scl.v.val=S.Scl.v.val;var h=_.v.gagl;if(h&&H)H.ac(h.v.val)}else delete o.add.lmfx;
if(u){u=u.v;if(u.Md)o.TY=b2.kt(u.Md.v.BlnM);if(u.Opct)o.opacity=Math.round(u.Opct.v.val*255/100);if(u.fillOpacity)o.add.iOpa=Math.round(u.fillOpacity.v.val*255/100);
if(u.Blnd){var F=[];for(var v=0;v<10;v++)F.push(0,0,255,255);var n=u.Blnd.v,R="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var v=0;v<n.length;v++){var s=n[v].v,Z=8*["Gry","Rd","Grn","Bl"].indexOf(s.Chnl.v[0].v.enum);for(var O=0;
O<8;O++){F[Z+O]=s[R[O]].v}}o.MZ=F}}};cN.akP=function(l){var o="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),D=[],H=l.MZ;
for(var v=0;v<4;v++){var _=v*8;if(H[_]+H[_+1]+H[_+4]+H[_+5]==0&&H[_+2]+H[_+3]+H[_+6]+H[_+7]==4*255)continue;
var u={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][v]}}]}}};
D.push(u);for(var S=0;S<8;S++)u.v[o[S]]={t:"long",v:H[v*8+S]}}var h={classID:"blendOptions"};if(l.TY!="norm")h.Md={t:"enum",v:{BlnM:b2.De(l.TY)}};
if(l.opacity!=255)h.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(l.opacity*100/255)}};if(l.add.iOpa!=null)h.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(l.add.iOpa*100/255)}};
if(D.length!=0)h.Blnd={t:"VlLs",v:D};var F={KO:{classID:"null",Idnt:{t:"TEXT",v:f9.T5()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},yO:{classID:"Styl",blendOptions:{t:"Objc",v:h}}},n=l.add.lmfx;
if(n)F.yO.Lefx={t:"Objc",v:n};return F};function j6(){}j6.xj=function(l){return JSON.parse(JSON.stringify(l))};
j6.iF=function(l){var o=j6.xj(j6.afy),D=o.Brsh.v;if(l!=null){delete D.Hrdn;D.classID="sampledBrush";
D.sampledData={t:"TEXT",v:l}}return o};j6.afy={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
j6.aCX=function(l,o){var D=["opVr","szVr"],H=["usePaintDynamics","useTipDynamics"];for(var v=0;v<2;v++){var _=D[v];
if(l[_]==null)l[_]=JSON.parse(j6.nv.f8[_]);l[_].v.bVTy.v=o[v]?2:0;if(o[v])l[H[v]].v=!0}j6.nv.aCc(l)};
j6.nv={};j6.nv.check=function(l){var o=j6.nv.Pu;for(var v=0;v<o.length;v++)if(l[o[v]]==null)l[o[v]]=JSON.parse(j6.nv.f8[o[v]]);
var D=[];for(var v=0;v<o.length;v++)D.push(o[v]);var H=j6.nv.alk;for(var v=0;v<H.length;v++){var _=H[v][0],u=H[v][1],S=!0;
for(var h=0;h<_.length;h++)S=S&&l[_[h]].v==!0;if(S)for(var h=0;h<u.length;h++){if(l[u[h]]==null)console.log("Missing conditional parameter "+u[h]);
else D.push(u[h])}}for(var F in l)if(D.indexOf(F)==-1&&F!="toolOptions")console.log("Extra parameter "+F);
l=l.Brsh.v;o=j6.nv.by.Pu;for(var v=0;v<o.length;v++)if(l[o[v]]==null)l[o[v]]=JSON.parse(j6.nv.by.f8[o[v]]);
D=[];for(var v=0;v<o.length;v++)if(l[o[v]])D.push(o[v]);else console.log("Missing default parameter "+o[v]);
H=j6.nv.by.aic[l.classID];for(var v=0;v<H.length;v++)if(l[H[v]]==null&&H[v]!="dtipsGridSize"&&H[v]!="dtipsErodibleTipHeightMap"&&l.afx!=1)console.log("Missing conditional parameter "+H[v]);
else D.push(H[v]);for(var F in l)if(D.indexOf(F)==-1)console.log("Extra parameter "+F)};j6.nv.aCc=function(l){var o=j6.nv.alk;
for(var v=0;v<o.length;v++){var D=o[v][0],H=o[v][1],_=!0;for(var u=0;u<D.length;u++)_=_&&l[D[u]]&&l[D[u]].v==!0;
if(_){for(var u=0;u<H.length;u++)if(l[H[u]]==null){l[H[u]]=JSON.parse(j6.nv.f8[H[u]])}}else for(var u=0;
u<H.length;u++)if(l[H[u]]!=null){delete l[H[u]]}}};j6.nv.by={};j6.nv.by.Pu="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
j6.nv.by.f8={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};j6.nv.by.aic={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
j6.nv.alk=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
j6.nv.Pu="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
j6.nv.f8={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function ej(l,o){this.au1=l;this.vb=o==null?0:o;this.dir=0}ej.prototype.Nn=function(l,o){var D=this.au1,H=new he(l.x-D.x,l.y-D.y),_=new de;
_.rotate(-this.vb);H=_.wq(H);if(this.dir==0&&!D.kn(l))this.dir=Math.abs(H.x)<Math.abs(H.y)?1:2;if(o.W(e_.eo)){if(this.dir==1)H.x=0;
if(this.dir==2)H.y=0}_.L5();H=_.wq(H);var u=new he(D.x+H.x,D.y+H.y);return u};ej.prototype.a4p=function(l){if(l.W(e_.eo))return this.dir;
return 0};var c_=function(){function l(){this.amD={}}l.a6L=function(o,D){var H=o.clone();H.ip-=Math.floor(H.ip);
H.nl-=Math.floor(H.nl);var _=new he(D,0),u=new he(0,D),S=H.wq(_),h=H.wq(u),F=new he(H.ip,H.nl);return[S,h,F]};
l.as_=function(o,D){var H=he.At;return H(o[0],D[0])+H(o[1],D[1])+H(o[2],D[2]);return dsum};l.prototype.amy=function(o){var D=this.amD,H=D[o];
if(H==null)H=D[o]={vw:[],J$:0,c:0,alN:0,a7z:0};H.J$=Date.now();while(Object.keys(D).length>3){var _="",u=Date.now();
for(var S in D){var h=D[S].J$;if(h<u){u=h;_=S}}delete D[_]}return H};l.prototype.api=function(o,D){var H=o.vw,_,u=1e6;
for(var v=0;v<H.length;v++){var S=H[v],h=l.as_(S.L4,D);if(h<u){_=S;u=h}}return _};l.prototype.awE=function(o,D){var H=o.vw;
H.push(D);o.c+=D.rect.c();if(H.length>1e3||o.c>100*100*1600){console.log("pruning",o.c,H.length);H.sort(function(u,S){return S.J$-u.J$});
while(H.length>500||o.c>100*100*800){var _=H.pop();o.c-=_.rect.c()}}};return l}();function ie(l,o,D,H,_,u,S,h,F){this.b9=o;
this.N8=D;this.qg=u;this.Jl=H;this.CY=null;this.WE=null;this.RA=0;this.a5U=0;this.afA=0;this.SQ=0;this.Tb=0;
this.WB=F==null?Math.floor(Math.random()*16777215):F;this.BY=F==null?Math.floor(Math.random()*16777215):F;
this.jH=new gt;this.GD=new gt;if(h!=null){this.G5=h}else{var n=ie.aC6;if(n.length!=S.c()*4)n=g.o(S.c()*4);
else n.fill(0);this.G5=ie.aC6=n}this.rect=S.clone();this.Ei=[];this.ls=[];this.FR=null;this.Os=0;this.J=null;
this.amf="";this.PY=null;this.aaX(l,_)}ie.aC6=g.o(16);ie.prototype.aaX=function(l,o){this.Os=o;this.J=l;
this.amf=JSON.stringify(l)+JSON.stringify(this.Jl.Dg);this.PY=ie.am3(this.J,this.b9,this.N8)};ie.prototype.moveTo=function(l,o,D){D=this.a2_(D);
this.RA=D;var H=new he(l,o),_=this.J.Brsh.v.Dmtr.v.val;this.CY=H.clone();this.WE=H.clone();this.FR=H.clone();
this.Ei=[l,o];this.ls=[D];if(this.Jl.s4!=ie.IO){var u=this.J.angleDynamics,S=u?u.v.bVTy.v==6:!1;this.HA(S?new gt:this.a3n(H,this.azt(D),D,new he(0,0)))}this.SQ=H.clone()};
ie.prototype.lineTo=function(l,o,D){D=this.a2_(D);var H=this.Ei,_=H.length,u=H[_-2],S=H[_-1];if(l==u&&o==S)return;
var h=this.J.Brsh.v.Dmtr.v.val,F=Math.ceil(h)+1,n=new gt(Math.round(u),Math.round(S),0,0);n.ag(F,F);
var R=new gt(Math.round(l),Math.round(o),0,0);R.ag(F,F);this.Ei.push(l,o);this.ls.push(D);_+=2;if(_>=6)this.HA(this.az1(_))};
ie.prototype.a2_=function(l){if(l==null)l=1;l=Math.max(.05,Math.min(5,l));if(isNaN(l)){alert("Pressure is not a number");
throw"e"}return l};ie.prototype.HA=function(l){this.jH=l;this.GD=this.GD.tB(l)};ie.prototype.finish=function(){var l=this.Ei,o=l.length,D;
if(o==4)D=this.Ys(l[o-2],l[o-1],this.ls[(o>>1)-1],!0);if(o>4)D=this.az1(o+2);if(D)this.HA(D)};ie.prototype.fZ=function(){return this.rect.clone()};
ie.prototype.qq=function(){return this.jH.$o(this.rect)};ie.prototype.LT=function(){return this.GD.$o(this.rect)};
ie.prototype.VA=function(){return this.G5};ie.prototype.az1=function(l){var o=this.Ei,D=this.ls,H=o[l-6],_=o[l-5],u=o[l-4],S=o[l-3],h=D[(l>>1)-3],F=D[(l>>1)-2],n=new he(0,0),R=new he(0,0);
if(8<=l)n=ie.a2t(o[l-8],o[l-7],H,_,u,S);if(l<=o.length)R=ie.a2t(o[l-2],o[l-1],u,S,H,_);var s=H+n.x,Z=_+n.y,O=u+R.x,w=S+R.y,m=new gt,V=this.ahs()?1:10;
for(var v=0;v<V;v++){var q=(v+1)/V,i=1-q,c=i*i*i*H+3*q*i*i*s+3*q*q*i*O+q*q*q*u,z=i*i*i*_+3*q*i*i*Z+3*q*q*i*w+q*q*q*S,B=this.Ys(c,z,h+q*(F-h));
m=m.tB(B)}return m};ie.a2t=function(l,o,D,H,_,u){var S=l-D,h=o-H,F=_-D,n=u-H,R=Math.sqrt(S*S+h*h),s=Math.sqrt(F*F+n*n),Z=Math.acos((S*F+h*n)/(R*s))/Math.PI,O=.35,w=.1;
Z=w+Z*(O-w);var m=_-l,V=u-o,q=Math.sqrt(m*m+V*V),i=Z*s/q;return new he(m*i,V*i)};ie.prototype.Ys=function(l,o,D,H){var _=new gt,u=this.Jl.a3r;
if(u==null)u=0;if(u==0||H){_=this.arv(l,o,D);return _}var S=this.FR,h=l-S.x,F=o-S.y,n=Math.sqrt(h*h+F*F);
h/=n;F/=n;if(n>u){var R=S.x+h*(n-u),s=S.y+F*(n-u);_=this.arv(R,s,D);this.FR.pN(R,s)}return _};ie.prototype.ahs=function(){var l=this.J,o=l.Brsh.v.Dmtr.v.val;
return this.Jl.Dg&&o==1};ie.prototype.arv=function(l,o,D){var H=new gt,_=new he(l,o),u=this.Jl.s4,S=_.c_(this.WE);
S.normalize(1);var h=he.At(this.WE,_),F=-this.a5U,n=this.WE.clone();if(this.ahs()){if(h>.99){var R=this.WE;
ie.amO(R,_,this.G5,this.rect,this.So(this.J));H=g.X.Mg([R.x,R.y,_.x,_.y]);F=h}else _=this.WE}else while(!0){var s=this.RA+(D-this.RA)*(Math.max(0,F)/h),Z=this.azt(s),O=this.alP()*(Z+this.afA)/2*this.PY.agl;
if(u==ie.IO)O=1;O=Math.max(O,.5);if(F+O<h){F+=O;this.Tb+=O;var w=new he(this.WE.x+S.x*F,this.WE.y+S.y*F),q=1;
if(u==ie.IO){var m=n.clone();m.x+=S.x>0?1:-1;var V=n.clone();V.y+=S.y>0?1:-1;if(he.At(m,w)<he.At(V,w))w=m;
else w=V;F=he.At(w,this.WE)}if(this.J.useScatter.v==!0){q=this.J.Cnt.v;var i=this.J.countDynamics.v.jitter.v.val/100,c=i*(-1+2*this.mz());
q+=Math.round(q*c)}for(var v=0;v<q;v++){var z=this.a3n(w,Z,D,S);H=H.tB(z)}n=w}else break}this.a5U=h-F;
this.WE=_;this.RA=D;return H};ie.prototype.alP=function(){var l=this.J.Brsh.v,o=l.Spcn.v.val,D=Math.max(5,l.Rndn.v.val);
return D/100*(o/100)};ie.prototype.azt=function(l){var o=this.J,D=o.Brsh.v.Dmtr.v.val;if(o.useTipDynamics.v){var H=D*(o.minimumDiameter.v.val/100);
D=H+(D-H)*(1-this.mz(this.BY)*(o.szVr.v.jitter.v.val/100));D*=ie.YM(o,"szVr",l,this.Tb)}return D};ie.YM=function(l,o,D,H){var _=1,u=l[o].v,S=u.bVTy.v,h=u.fStp.v;
if(S==1)_*=Math.max(0,(h-H)/h);if(S==2)_*=D;return _};ie.prototype.a3n=function(l,o,D,H){var _=this.Jl.S$,m=0;
_=Math.min(1,_);var u=this.J,S=this.J.Brsh.v,h=S.Dmtr.v.val,F=this.Jl,n=F.s4,R=F.aDk,s=this.PY.dT[1],Z=new de;
Z.translate(-s.Q/2,-s._/2);Z.scale(1/this.PY.aof,1/this.PY.aof);Z.scale(o/h,o/h);Z.scale(1,Math.max(5,S.Rndn.v.val)/100);
if(u.usePaintDynamics&&u.usePaintDynamics.v){var O=u.opVr.v.jitter.v.val/100,w=u.prVr.v.jitter.v.val/100;
_*=1-this.mz()*O;_*=1-this.mz()*w;_*=ie.YM(u,"opVr",D,this.Tb)*ie.YM(u,"prVr",D,this.Tb)}if(u.useTipDynamics.v){var V=u.angleDynamics.v,q=u.minimumRoundness.v.val/100;
Z.scale(1,q+(1-q)*Math.round(100-this.mz()*u.roundnessDynamics.v.jitter.v.val)/100);m+=(-.5+this.mz())*4*Math.PI*(V.jitter.v.val/100);
m+=ie.YM(u,"angleDynamics",D,this.Tb)*2*Math.PI;if(V.bVTy.v==6)m+=Math.atan2(-H.y,H.x)}m+=S.Angl.v.val*(Math.PI/180);
Z.rotate(m);if(u.useScatter.v){var i=(-1+2*this.mz())*u.scatterDynamics.v.jitter.v.val/100;Z.translate(-i*o*H.y,i*o*H.x)}Z.translate(l.x,l.y);
var c=this.ajm(Z,l,o),z=c.rect.clone();if(n==null){var B=this.So(u);g.M5(c.EL,Math.round(B.J*255)<<16|Math.round(B.H*255)<<8|Math.round(B.$*255)<<0,4278190080);
if(this.GD.lh()&&this.rect.kn(c.rect)&&_==1)this.G5=c.EL.slice(0);else{var t=-1,a=2,I=-1,N=2;if(!F.j$){t=I=0;
a=N=1}for(var J=I;J<N;J++)for(var Q=t;Q<a;Q++){var A=c.rect.clone();A.x+=Q*this.rect.Q;A.y+=J*this.rect._;
if(A.Q5(this.rect)){z=z.tB(A);g.z.axU(c.EL,A,this.G5,this.rect,A,_)}}}}if(n==ie.IO){var f=new he(c.rect.x+c.rect.Q/2,c.rect.y+c.rect._/2),W=Math.round(f.x-this.SQ.x),C=Math.round(f.y-this.SQ.y),j=c.rect.clone();
j.offset(-W,-C);var K=j.$o(this.rect);K.offset(W,C);g.Qo(this.G5,this.rect,c.EL,j);g.z.ac9(c.EL,c.rect,this.G5,this.rect,c.Ue,c.rect,_)}if(n==ie.zY||n==ie.hF||n==ie.kO){var $=c.rect.$o(this.rect),r;
if($.kn(c.rect))r=c.Ue;else{r=g.o($.c());g.mB(c.Ue,c.rect,r,$)}var U=g.o($.c()*4);g.Qo(this.G5,this.rect,U,$);
if(n==ie.hF){var b=U.slice(0),e=g.$z.B7([-1,-1,-1,-1,25,-1,-1,-1,-1]);g.$z.Z_(U,b,$.Q,$._,e,0);g.Tg(b,U)}else if(n==ie.kO){var P=at.ts("UnsM");
P.Amnt.v.val=15;P.Thsh.v=0;P.Rds.v.val=5;var b=g.o(U.length);at.Ok("UnsM",{buffer:U,rect:$},P,0,0,{buffer:b,rect:$});
g.Tg(b,U)}else{at.ld(1,g.l5.am,U,$)}g.z.ac9(U,$,this.G5,this.rect,r,$,_)}this.afA=o;this.SQ=f;this.BY++;
return z};ie.prototype.So=function(l){var o=ie.aAm(this.Os);if(l.useColorDynamics&&l.useColorDynamics.v){var D=1-this.mz()*l.clVr.v.jitter.v.val/100,H=ie.aAm(this.qg);
o.$=D*o.$+(1-D)*H.$;o.H=D*o.H+(1-D)*H.H;o.J=D*o.J+(1-D)*H.J;var _=(-.5+this.mz())*l.H.v.val/100,u=(-1+2*this.mz())*l.Strt.v.val/100,S=(-1+2*this.mz())*l.Brgh.v.val/100,h=g.UM(o.$,o.H,o.J);
h.B9=(h.B9+_+1)%1;h.lv=h.lv+u;if(h.lv<0)h.lv=-h.lv;if(h.lv>1)h.lv=1-(h.lv-1);h.zh=h.zh+S;if(h.zh<0)h.zh=-h.zh;
if(h.zh>1)h.zh=1-(h.zh-1);o=g.cO(h.B9,h.lv,h.zh)}return o};ie.prototype.nv=function(l){return Math.max(0,Math.min(1,l))};
ie.prototype.mz=function(l){if(l==null){l=this.WB++}return ie.hash(l)};ie.aAm=function(l){return{$:(l>>16&255)/255,H:(l>>8&255)/255,J:(l>>0&255)/255}};
ie.hash=function(l){l=l^61^l>>16;l=l+(l<<3);l=l^l>>4;l=l*668265261;l=l^l>>15;return(l&16777215)/16777215};
ie.a15=new c_;ie.prototype.ajm=function(l,o,D){var H=Math.sqrt(this.PY.dT[1].c()),_=H*l.jX(),u=_<10?1:_<50?1.5:_<200?3:8;
if(_<30)u=0;var S=ie.a15,h=S.amy(this.amf),F=this.Jl.Dg,n=c_.a6L(l,H),R=S.api(h,n);if(R&&c_.as_(R.L4,n)>u)R=null;
if(R){R.rect.x=Math.round(R.aDC.x+l.ip);R.rect.y=Math.round(R.aDC.y+l.nl);R.J$=Date.now()}else{var s=Math.round(this.J.Brsh.v.Dmtr.v.val),Z;
if(F&&s<=3){Z={channel:g.o(s*s),rect:new gt(Math.round(o.x-s/2),Math.round(o.y-s/2),s,s)};Z.channel.fill(255)}else if(l.M==1&&l.J==0&&l.oe==0&&l.me==1){Z={channel:this.PY.dT[0],rect:this.PY.dT[1].clone()};
Z.rect.x=Math.round(l.ip);Z.rect.y=Math.round(l.nl)}else{if(l.jX()>1e-4)Z=p.cA.R7(this.PY.dT,l)}if(F){for(var v=0;
v<Z.channel.length;v++)Z.channel[v]=Z.channel[v]>127?255:0}if(Z==null)Z={channel:g.o(0),rect:new gt};
R={EL:g.o(Z.rect.c()*4),Ue:Z.channel,rect:Z.rect,aDC:new he(Z.rect.x-l.ip,Z.rect.y-l.nl),L4:n,J$:Date.now()};
g.Kl(R.Ue,R.EL,3);if(h)S.awE(h,R)}return R};ie.am3=function(l,o,D){var H,_,u,S=l.Brsh.v.Dmtr.v.val,h=l.Brsh.v.classID;
if(h=="computedBrush"){var F=l.Brsh.v.Hrdn.v.val/100;_=S<100?1.4:1;u=1;H=g.arP.a5d(S,F,_)}if(h=="sampledBrush"){var n;
for(var v=0;v<o.length;v++)if(o[v].id==l.Brsh.v.sampledData.v)n=o[v];H=n.dT;var R=H[1];_=Math.max(R.Q,R._)/S;
u=Math.min(R.Q,R._)/Math.max(R.Q,R._)}return{aof:_,agl:u,dT:H}};ie.Pf=null;ie.Ig=null;ie.cK=function(l,o,D,H,_,u){var S=ie.Pf,h=ie.Ig;
if(S==null){ie.Pf=S=document.createElement("canvas");ie.Ig=h=S.getContext("2d")}if(u==null)u=H;if(S.width!=u||S.height!=_){S.width=u;
S.height=_}else h.clearRect(0,0,u,_);h.fillStyle="#000000";h.font=Math.floor(10*p.Y())+"px sans-serif";
var F=l.Brsh.v.Dmtr.v.val,n=""+F,R=l.useBrushSize;if(R&&R.v)n="---";var s=h.measureText(n);h.fillText(n,(H-s.width)/2,_-2);
var Z=H,O=_-10*p.Y(),w=Math.min(Z,O),m=l.Brsh.v.classID;if(m=="computedBrush"){h.translate(Z/2,O/2);
h.rotate(-l.Brsh.v.Angl.v.val*Math.PI/180);h.scale(1,.1+.9*l.Brsh.v.Rndn.v.val/100);var V=Math.min(.95*w/2,F/2)+.5,q=.9*l.Brsh.v.Hrdn.v.val/100,i=h.createRadialGradient(0,0,0,0,0,V);
i.addColorStop(q,"rgba(0,0,0,1)");i.addColorStop((.5+q)/1.5,"rgba(0,0,0,.5)");i.addColorStop(1,"rgba(0,0,0,0)");
h.fillStyle=i;h.fillRect(-V,-V,2*V,2*V);h.setTransform(1,0,0,1,0,0)}else if(m=="sampledBrush"){var c,I=0;
for(var v=0;v<o.length;v++)if(o[v].id==l.Brsh.v.sampledData.v)c=o[v];var z=c.dT;g.mk(z);var B=z[0],t=z[1].Q,a=z[1]._;
while((t>Z||a>O)&&z[I+2]){I+=2;B=z[I];t=z[I+1].Q;a=z[I+1]._}if(t*a!=0){var N=g.o(t*a*4);g.Kl(B,N,3);
var J=new ImageData(new Uint8ClampedArray(N.buffer),t,a);h.putImageData(J,Math.round((Z-t)/2),Math.round((O-a)/2))}}else{}return S.toDataURL()};
ie.wl=function(l,o,D,H){if(D==0)D=1;var _=l.Brsh.v,u=_.Dmtr.v.val,S=_.Dmtr.v.val=Math.min(H!=null?Math.round(H*2.6):3e3,u*D),h=_.Hrdn?_.Hrdn.v.val/100:1,F=H!=null?H:Math.round(S*(1+.55*(1-h)))+4,s;
F=Math.max(15,Math.min(F,3e3));var n=new gt(0,0,F,F),R=new ie(l,o,null,{S$:1},16711712,0,n);_.Dmtr.v.val=u;
R.moveTo(n.Q/2,n._/2);var Z=R.VA(),O=R.fZ();if(n.kn(O))s=Z;else{s=g.o(n.c()*4);g.Qo(Z,O,s,n)}return[s,n,S]};
ie.aoK=function(l,o,D,H){var _=o.Q,u=_>>>1;for(var v=0;v<4;v++){var S=6-v;l[_*(u-S)+u-1]=H;l[_*(u-S)+u]=D;
l[_*(u-S)+u+1]=H;l[_*(u+S)+u-1]=H;l[_*(u+S)+u]=D;l[_*(u+S)+u+1]=H;l[_*(u-1)+u-S]=H;l[_*u+u-S]=D;l[_*(u+1)+u-S]=H;
l[_*(u-1)+u+S]=H;l[_*u+u+S]=D;l[_*(u+1)+u+S]=H}};ie.lp=function(l,o,D,H){var _=ie.wl(l,o,D),u=_[0].slice(0),S=_[1],h=_[2],F=S.c(),n=g.o(F);
g.mA(u,n,3);var R=g.o(F);g.f.aeZ(n,R,S,p.Y()>1.9);if(h<3||g.$p(R,0)||H&&h>12){ie.aoK(R,S,255,0)}var s=[3,5,3,4,8,4,3,5,3];
s=g.$z.B7(s);g.$z.y4(R,n,S.Q,S._,s);g.M5(u,4294967295);g.Kl(n,u,3);for(var v=0;v<F;v++)if(R[v]==255){u[v<<2]=u[(v<<2)+1]=u[(v<<2)+2]=0;
u[(v<<2)+3]=255}return{Ao:u,hR:S,nu:new he(S.Q/2,S._/2)}};ie.amO=function(l,o,D,H,_){var u=4278190080|Math.round(_.J*255)<<16|Math.round(_.H*255)<<8|Math.round(_.$*255)<<0;
D=new Uint32Array(D.buffer);var S=Math.floor(l.x),h=Math.floor(l.y),F=Math.floor(o.x),n=Math.floor(o.y),R=Math.abs(F-S),s=Math.abs(n-h),Z=S<F?1:-1,O=h<n?1:-1,w=R-s;
while(!0){D[h*H.Q+S]=u;if(S==F&&h==n)break;var m=2*w;if(m>-s){w-=s;S+=Z}if(m<R){w+=R;h+=O}}};ie.IO="0";
ie.zY="1";ie.hF="2";ie.kO="3";var dr={};dr.cV=function(l,o,D){if(D==null)D=!0;var H=l.add.TySh,_=H.PF,u=new f8(_,o,H.CQ);
l.rD.L2=u.K7();var S=l.rD.path=dr.KZ(u,H);if(a8!=0)return[S,u,null];var h=dr.qz(S,H.h,fX.Pa(H));if(D){l.rect=h.hR;
l.buffer=h.G5;l.V()}return[S,u,h]};dr.qz=function(l,o,D){l={v:l.v,s:l.s.slice(0)};g.X.h(l.s,o,l.s);var H=g.X.Mg(l.s),_=0;
for(var v=0;v<l.v.length;v++){var u=l.v[v];if(u[0]=="O"&&u[1]=="-")_=Math.max(_,parseFloat(u.split("-").pop()))}_=Math.ceil(_*o.jX()/2);
H.ag(_,_);if(H.lh())return{G5:g.o(0),hR:new gt};var S=g.WG(H.Q,H._);S.translate(-H.x,-H.y);dr.aw9(l,S);
var h=S.getImageData(0,0,H.Q,H._),F=new Uint8Array(h.data.buffer);if(D==0)for(var v=0;v<F.length;v+=4)F[v+3]=F[v+3]>80?255:0;
if(D==3)for(var v=0;v<F.length;v+=4)F[v+3]=Math.min(255,F[v+3]*1.5);S.resetTransform();S.beginPath();
return{G5:F,hR:H}};dr.KZ=function(l,o,D){var H=o.h,_=o.PF;dr.ds=H.jX();var u=fX.Pa(o),S=Math.max(H.J*H.J,H.oe*H.oe)<1e-9?H:null;
if(u==3||u==4)S=null;var h={v:[],s:[]};dr.acT(l,h,S,!0);dr.acT(l,h,S,!1);h=dr.dH(h,o,l,D);return h};
dr.ds=1;dr.dH=function(l,o,D,H){if(l==null)return l;if(D&&D.LG)g.X.h(l.s,D.LG,l.s);if(D&&!g.Y9.yL(o.oG)){var _=fX.fZ(o,D);
if(!_.lh()){if(l.v){l=g.X.xN(l);var u=Math.min(_.Q,_._)/8;if(u<1)u=1;l=g.X.Cg(l,u)}var S=g.Y9.N7(o.oG,_);
g.cC.h(S,l.s,_)}}var h=o.h;if(H)g.X.h(l.s,h,l.s);return l};dr.aw9=function(l,o){o.save();o.miterLimit=2;
Typr.U.pathToContext({crds:l.s,cmds:l.v},o);o.restore()};dr.Yr=function(l,o,D){var H=f8.anG(D),_=l.PF,u=_.ResourceDict.FontSet,S=_.ResourceDict.StyleSheetSet[0].StyleSheetData,h=_.EngineDict.StyleRun.RunLengthArray,F=_.EngineDict.StyleRun.RunArray,n=fX.PZ(_),R=!0,s={},Z=0;
for(var v=0;v<F.length;v++){var O=F[v].StyleSheet.StyleSheetData.Font;if(O==null)O=S.Font;for(var w=0;
w<h[v];w++){var m=n.charCodeAt(Z+w),V=O+","+(m>128?m:-1);if(s[V]==null){s[V]=1;if(o.DD(u[O].Name,m)==null)R=!1}}Z+=h[v]}return R&&H};
dr.XV=function(l,o,D){var H=!0;for(var _=0;_<l.R.length;_++){var u=l.R[_],S=u.add.TySh;if(S!=null&&!dr.Yr(S,o,D))H=!1}return H};
dr.TJ=function(l,o,D){for(var H=0;H<l.R.length;H++){var _=l.R[H],u=_.add.TySh;if(u!=null&&dr.Yr(u,o,D)){dr.cV(_,o);
l.V()}}};dr.acT=function(l,o,D,H){var _=new de;for(var v=0;v<l.z5.length;v++)dr.a6D(l.i7,l.z5[v],o,_,D,H)};
dr.a6D=function(l,o,D,H,_,u){H.translate(o.Q4.x,o.Q4.y);for(var v=0;v<o.j7.length;v++){var S={},h=o.j7[v];
if(!h.bp)break;var F=H.clone();F.translate(h.Q4.x,h.Q4.y);if(_){var n=_.nl+F.nl*_.me;F.nl=(Math.round(n)-_.nl)/_.me}for(var R=h.start;
R<h.end;R++)dr.ahi(l,o.M7[R],o,S,D,F,u)}H.translate(-o.Q4.x,-o.Q4.y)};dr.ahi=function(l,o,D,H,_,u,S){u.translate(o.Q4.x,o.Q4.y);
for(var h=o.kf;h<=o.TI;h++){var F=D.Hw[h],n=F.hR.Q,R=l[D.alr+F.h$],s=R.Y4._FillBackgroundFlag;if(R.G0=="\n"||S&&!s)continue;
var Z=R.Y4.FontSize/R.s0.head.unitsPerEm,O=u.clone();O.translate(F.Q4.x+F.GF*Z,F.Q4.y-F.OQ*Z);var w=new de;
w.scale(Z,-Z);if(R.Y4.FauxItalic)w.concat(new de(1,0,-Math.tan(.18),1,0,0));w.translate(0,R.qX);w.scale(R.scale.x,R.scale.y);
if(R.Y4.BaselineShift!=null)w.translate(0,-R.Y4.BaselineShift);if(F.vb!=0){w.rotate(-F.vb)}w.concat(O);
var m=(R.Y4._LineWidth?R.Y4._LineWidth:1)*dr.ds;if(S){_.v.push(dr.So(R.Y4._FillBackgroundColor));var V=1.005*F.hR._/Z,q=new gt(-F.GF,-V*.27,1.03*F.hR.Q/(Z*R.scale.x),V);
if(R.Y4.StrokeFlag)q.ag(m/Z,m/Z);g.X.concat(_,g.X.YZ(q),w);_.v.push("X");continue}if(R.Y4.FillFlag)_.v.push(dr.So(R.Y4.FillColor));
if(R.Y4.StrokeFlag)_.v.push("O-"+dr.So(R.Y4.StrokeColor)+"-"+m);if(F.path.v.length!=0&&R.G0!="\t"){if(R.Y4.FauxBold){var i=R.Y4.FontSize/2048*27*R.scale.x,c=Math.cos(F.vb)*i,z=Math.sin(F.vb)*i;
w.ip+=c;w.nl+=z;g.X.concat(_,F.path,w);w.ip-=c+c;w.nl-=z+z;g.X.concat(_,F.path,w)}else g.X.concat(_,F.path,w)}if(R.G0!="\n"){var B=F.hR.Q/Z;
if(R.Y4.Underline){if(H.JG==null)H.JG=R.s0.post.underlineThickness;if(H.axj==null)H.axj=R.s0.post.underlinePosition;
var t=0,a=H.axj-H.JG/2,I=-H.JG;g.X.concat(_,{v:["M","L","L","L","Z"],s:[t,a,t+B,a,t+B,a+I,t,a+I]},w)}if(R.Y4.Strikethrough){var N=R.s0["OS/2"].yStrikeoutSize,J=R.s0["OS/2"].yStrikeoutPosition,t=0,a=J+N/2,I=-N;
g.X.concat(_,{v:["M","L","L","L","Z"],s:[t,a,t+B,a,t+B,a+I,t,a+I]},w)}}if(R.Y4.FillFlag)_.v.push("X");
if(R.Y4.StrokeFlag)_.v.push("OX")}u.translate(-o.Q4.x,-o.Q4.y)};dr.So=function(l){var o=fX.s3(l),D=(Math.round(o.$)<<16)+(Math.round(o.H)<<8)+Math.round(o.J);
return"#"+g.Bi(D)};function f8(l,o,D){var H=fX.I8(l),_,u,S=fX.IU(l),h=l._LineOrientation==2?new de:null,s,O;
if(l.Curve)u=f8.TL(l.Curve);if(H!=0){_=new gt(S[0],S[1],S[2],S[3]);if(h){var F=_.Q;_.Q=_._;_._=F;h.translate(0,-S[2])}if(H==2){_.Q=u[5]-u[4];
_._=9999}}this.z5=[];this.i7=[];this.no=H;this.LG=h;var n=this.aDI=fX.PZ(l),R=-1,Z=-1;for(var v=0;v<n.length;
v++){var w=s,m=fX.aif(l,v);if(m!=R){R=m;w=s=fX.aAE(l,m)}var V=O,m=fX.ahE(l,v);if(m!=Z){Z=m;V=O=fX.al2(l,m)}var q={G0:n.charAt(v),Y4:w,s0:null,VZ:-1,O6:fX.a8t(l,v),qX:0,scale:new he(0,0),eA:0,lineHeight:0,Od:0},i=l.ResourceDict.FontSet[w.Font].Name,c=q.s0=o.DD(i,n.charCodeAt(v));
q.scale.x=w.HorizontalScale==null?1:w.HorizontalScale;q.scale.y=w.VerticalScale==null?1:w.VerticalScale;
var z=c["OS/2"],B=c.hhea;if(w.FontCaps==1&&q.G0!=q.G0.toUpperCase()){var t=z.sxHeight?z.sxHeight/z.sTypoAscender:.76;
q.scale.x*=t;q.scale.y*=t}var a=1/c.head.unitsPerEm*w.FontSize;if(w.FontBaseline==1){var t=l.ResourceDict.SuperscriptSize;
q.scale.x*=t;q.scale.y*=t;q.qX-=l.ResourceDict.SuperscriptPosition*w.FontSize}if(w.FontBaseline==2){var t=l.ResourceDict.SubscriptSize;
q.scale.x*=t;q.scale.y*=t;q.qX+=l.ResourceDict.SubscriptPosition*w.FontSize}q.eA=f8.eA(c)*w.FontSize;
var I=V.AutoLeading;q.lineHeight=w.FontSize*(I==null?1.2:I);if(w.AutoLeading==!1)q.lineHeight=w.Leading;
if(q.G0=="\n"&&n[v-1]!="\n")q.lineHeight=0;if(q.lineHeight==0)q.lineHeight=.01;this.i7.push(q)}var N=this.z5,J=[0];
for(var v=0;v<l.EngineDict.ParagraphRun.RunLengthArray.length;v++){var Q=new f8.rd(l,o,this.i7,v,_,J,H==1?u:null);
N.push(Q)}if(h){if(H==0)h.translate(0,N[0].M7[0].eA/2);h.rotate(-Math.PI/2)}if(H==2){var A=l.Curve.Points,f=u[0],W=u[1],C=u[2],j=u[3],K=u[4],$=u[5];
for(var v=0;v<N.length;v++)for(var r=0;r<N[v].j7.length;r++)if(!(v==0&&r==0))N[v].j7[r].bp=!1;var Q=N[0],U=Q.j7[0];
Q.Q4.pN(0,0);U.Q4.pN(0,0);for(var r=U.start;r<U.end;r++){var b=Q.M7[r],e=b.Q4.x;b.Q4.x=0;for(var P=b.kf;
P<=b.TI;P++){var L=Q.Hw[P],Y=L.hR.Q/2;L.Q4.x+=e;var X=f8.aEo(f,(K+L.Q4.x+Y)%j);L.Q4.x=X[0]-Y*X[2];L.Q4.y=X[1]-Y*X[3];
L.vb=Math.atan2(X[3],X[2])}}}if(D){var G=D.VAlign.v;if(G!=0&&fX.I8(l)==1){var E=fX.IU(l)[3],T=this.K7()._,y=0;
if(G==1)y=E-T;if(G==2)y=(E-T)/2;for(var v=0;v<this.z5.length;v++)this.z5[v].Q4.y+=y}}}f8.eA=function(l){var o=l._hhhh;
if(o==null){var D=Typr.U,H=D.codeToGlyph(l,104),_=g.X.dm(Typr.U.glyphToPath(l,H).crds)._;o=l._hhhh=_*(1/l.head.unitsPerEm)}return o};
f8.prototype.a1i=function(){return!this.a8p(0)};f8.prototype.ann=function(){return this.a8p(1)};f8.prototype.a8p=function(l){var o=this.z5,D=!0,H=0;
for(var v=0;v<o.length;v++){var _=o[v].j7,u=_.length;H+=u;for(var S=0;S<u;S++)D&=_[S].bp}return[D,H][l]};
f8.TL=function(l,o,D){if(o==null)o=.25;var H=l.Points,_=H.length,u=_>>>3,S=l.TextOnPathTRange,h=l.Reversed,Z=0,O=0;
if(h){var F=H.slice(0);for(var v=0;v<_;v+=2){F[v]=H[_-2-v];F[v+1]=H[_-1-v]}H=F;S=[u-S[1]%u,u-S[0]%u]}var n=[],R=[0],s=[0];
for(var v=0;v<_;v+=8){var w=H[v+6]-H[v+0],m=H[v+7]-H[v+1],V=Math.round(Math.sqrt(w*w+m*m)/o),q=D&&v==_-8?V+1:V;
for(var i=0;i<q;i++){var c=i/V,z=1-c,B=z*z*z*H[v+0]+3*z*z*c*H[v+2]+3*z*c*c*H[v+4]+c*c*c*H[v+6],t=z*z*z*H[v+1]+3*z*z*c*H[v+3]+3*z*c*c*H[v+5]+c*c*c*H[v+7];
n.push(B,t);if(v+i!=0){var w=B-Z,m=t-O;s.push(s[s.length-1]+Math.sqrt(w*w+m*m));R.push((v>>>3)+c)}Z=B;
O=t}}var o=s.length,a=s[o-1],I=f8.oT(S[0]%u,R),N=f8.oT(S[1]%u,R),J=s[I%o],Q=s[N%o];if(J>=Q)Q+=a;return[n,R,s,a,J,Q]};
f8.oT=function(l,o){var v=0;while(o[v]<l)v++;return v};f8.aEo=function(l,o){var D=0,v=0,H,_,u;while(D<o){H=l[v+2]-l[v];
_=l[v+3]-l[v+1];u=Math.sqrt(H*H+_*_);D+=u;v+=2}return[l[v],l[v+1],H/u,_/u]};f8.prototype.aB1=function(l){return this.i7[l]};
f8.prototype.acP=function(l){for(var o=0;o<this.z5.length;o++){var D=this.z5[o];for(var H=0;H<D.j7.length;
H++){var _=D.j7[H],u=D.M7[_.start].start,S=D.M7[_.end-1].end;if(u<l&&l<S)return[u,S-1]}}return[0,1]};
f8.prototype.ahO=function(l,o){var D=-1,H=this.z5;if(this.no==2){var _=1e9,u=0,S=H[0],h=S.j7[0];for(var F=h.start;
F<h.end;F++){var n=S.M7[F];for(var R=n.kf;R<=n.TI;R++){var s=S.Hw[R],Z=s.hR.Q,O=l.x-s.Q4.x,w=l.y-s.Q4.y,m=O*O+w*w;
if(m<_){_=m;u=s.h$}}}if(u!=0&&this.aDI.codePointAt(u-1)>65535)u--;return u}for(var V=0;V<H.length;V++){var S=H[V];
for(var q=0;q<S.j7.length;q++){D++;var h=S.j7[q],i=S.j7[q+1];if(i==null&&V<H.length-1)i=H[V+1].j7[0];
if(o!=null){if(D!=o)continue}else{if(i!=null&&S.Q4.y+h.Q4.y<l.y)continue}for(var F=h.start;F<h.end;F++){var n=S.M7[F];
for(var R=n.kf;R<=n.TI;R++){var s=S.Hw[R],Z=s.hR.Q,c=S.Q4.x+h.Q4.x+n.Q4.x,z=c+s.Q4.x,B=c+(R<n.TI?S.Hw[R+1].Q4.x:s.Q4.x+Z);
if(l.x<=B||F+1==h.end&&R==n.TI){var t=S.alr+s.h$,a=this.i7[t],I=a.Od&1;if(a.G0!="\n"&&(I==0&&l.x>z+Z/2||I==1&&l.x<z+Z/2))t+=this.aDI.codePointAt(t)>65535?2:1;
return t}}}}}};f8.prototype.ym=function(l){var o={hR:new gt,yI:0},D=0;for(var H=0;H<this.z5.length;H++){var _=this.z5[H];
for(var u=0;u<_.j7.length;u++){var S=_.j7[u];o.yI=D;D++;for(var h=S.start;h<S.end;h++){var F=_.M7[h];
for(var n=F.start;n<F.end;n++){if(n==l){var R=this.i7[n],s=R.VZ,Z=_.Hw[s].h$,O=1;while(_.Hw[s]!=null&&_.Hw[s].h$==Z){var w=_.Hw[s],m=_.Q4.x+S.Q4.x+F.Q4.x+w.Q4.x,V=_.Q4.y+S.Q4.y+F.Q4.y+w.Q4.y;
o.hR=o.hR.tB(new gt(m,V-R.lineHeight,w.hR.Q,R.lineHeight));o.vb=w.vb;s+=O}return o}}}}}};f8.prototype.K7=function(){var l=Infinity,o=Infinity,D=-Infinity,H=-Infinity;
for(var v=0;v<this.z5.length;v++){var _=this.z5[v];for(var u=0;u<_.j7.length;u++){var S=_.j7[u];if(!S.bp)break;
for(var h=S.start;h<S.end;h++){var F=_.M7[h];for(var n=F.kf;n<=F.TI;n++){var R=_.Hw[n],s=R.hR,Z=_.Q4.x+S.Q4.x+F.Q4.x+R.Q4.x,O=_.Q4.y+S.Q4.y+F.Q4.y+R.Q4.y;
l=Math.min(l,Z+s.x);o=Math.min(o,O+s.y);D=Math.max(D,Z+s.x+s.Q);H=Math.max(H,O+s.y+s._)}}}}return new gt(l,o,D-l,H-o)};
f8.OL=function(l){return 19968<=l&&l<=40959||12288<=l&&l<=12543};f8.kx=function(l,o,D,H,_,u,S){var h=[u],F=0;
for(var v=u;v<S;v++){if(D[v]==null)console.log(v,u,S,D);var n=D[v].G0,R=n.charCodeAt(0);if(R==32||R==9){h.push(F,v,1,v+1);
F=0}else if(R==3851){h.push(F+1,v+1);F=0}else if(f8.OL(R)){h.push(F,v);F=1}else if(v!=u&&D[v].Od!=D[v-1].Od){h.push(F,v);
F=1}else F++}h.push(F);var s=[];for(var v=0;v<h.length;v+=2){var Z=h[v],O=h[v+1];if(O==0)continue;s.push(new f8.aBj(l,o,D,H,_,Z,O))}return s};
f8.anW=function(l,o,D,H,_,u,S){var h=[0,o?o.Q:1e9],F=[];if(H){var n=l[u].eA,R=_+(_==0?n:l[u].lineHeight),s=R-n*.9,Z=g.X.a29(H[0],s),O=Z.length,w=g.X.a29(H[0],R),m=w.length;
if(O!=0&&m!=0){var V=0,q=0,i=[];while(V<O&&q<m){var c=Math.max(Z[V],w[q]),z=Z[V+1],B=w[q+1],t=Math.min(z,B);
if(c<t)i.push(c,t);if(z<B)V+=2;else q+=2}if(i.length!=0)h=i}}for(var a=0;a<h.length;a+=2){var I=0,N=u,J=o?h[a+1]-h[a]-D.StartIndent-D.EndIndent-(u==0?D.FirstLineIndent:0):Infinity;
while(u!=l.length){var Q=l[u],A=I==0||(Q.z_||Q.Ge)||I+Q.hR.Q<J;if(!A)break;I+=Q.hR.Q;u++}F.push(u-N)}S[0]=F;
S[1]=h;S[2]=u};f8.a94=function(l,o){var D=l.length,H=new Uint32Array(D),_=new Uint8Array(D),u=0;for(var v=0;
v<D;v++){_[v]=0;var S=l.charCodeAt(v);H[v]=S;if(S>u)u=S}if(u>1424)_=f8.apW(H,o);return _};f8.a0O=function(l){return l=="ÃŸ"?l:l.toUpperCase()};
f8.rd=function(l,o,D,H,_,u,S){this.M7=[];this.j7=[];this.Q4=new he(0,0);this.Hw=null;this.M7=null;this.Y4=fX.al2(l,H);
var h=this.Y4,s=0,w="",c=0,z=1,P=0;if(H!=0){var F=h.SpaceBefore;if(F!=null)u[0]+=F}var n=l.EngineDict.ParagraphRun.RunLengthArray,R=n[H];
for(var v=0;v<H;v++)s+=n[v];var Z=h._Direction?h._Direction:0;this.alr=s;var O=fX.PZ(l).slice(s,s+R);
for(var m=0;m<O.length;m++){var V=O.charAt(m);w+=D[s+m].Y4.FontCaps==0?V:f8.a0O(V)}O=w;var q=f8.a94(O,Z),i=[],B=q[v]&1,t=D[s].s0;
D[s].Od=q[0];for(var v=1;v<O.length;v++){var V=D[s+v],a=q[v];V.Od=a;if(a!=B||V.s0!=t){i.push(c,z);c=v;
z=1;B=a;t=V.s0}else z++}i.push(c,z);var I=this.Hw=[];for(var v=0;v<i.length;v+=2){var N=i[v],J=i[v+1],Q=(D[s+N].Od&1)==0,A=O.slice(N,N+J),f=Typr.U.shapeHB(D[s+N].s0,A,Q),W=[],K=0;
for(var m=0;m<f.length;m++){var C=f[m];W.push({H:C.g,h$:C.cl,pF:C.ax,g7:C.ay,GF:C.dx,OQ:C.dy})}f=W;var j=f.slice(0);
if(!Q)j.reverse();for(var m=0;m<A.length;m++){while(K+1<j.length&&j[K+1].h$<=m){K++}while(K>0&&j[K-1].h$==m)K--;
D[s+N+m].VZ=I.length+(Q?K:j.length-K-1)}for(var m=0;m<f.length;m++){I.push(f[m]);f[m].h$+=N;var V=D[s+f[m].h$];
if(V.O6!=-1&&V.O6<V.s0.maxp.numGlyphs){f[m].H=V.O6;var $=V.s0.hmtx;if($){var r=Object.keys($)[0];f[m].pF=$[r][V.O6]}}if(V.G0=="\n")f[m].pF=0;
if(V.G0=="\t")f[m].pF=V.s0.head.unitsPerEm*36/V.Y4.FontSize}}var U=fX.ql(h),b=this.M7=f8.kx(l,o,D,s,I,s,s+R),e=this.j7,L=-1,w=[null,null,0];
while(P<b.length){f8.anW(b,_,h,S,u[0],P,w);L++;var Y={start:P,end:0,hR:new gt,Q4:new he(0,0),bp:!0},g0=0,bW=0;
e.push(Y);Y.end=w[2];if(Y.start==Y.end)throw"e";var X=Y.end==b.length;function G(j,N,iR){var ex=iR-N>>>1;
for(var v=0;v<ex;v++){var dX=j[N+v];j[N+v]=j[iR-1-v];j[iR-1-v]=dX}}for(var E=1;E<5;E++){var T=-1;for(var v=Y.start;
v<Y.end;v++){var a=D[b[v].start].Od;if(T==-1&&a>=E)T=v;else if(T!=-1&&a<E){G(b,T,v);T=-1}}var y=Y.end;
if(Z==0&&b[y-1].z_)y--;if(T!=-1)G(b,T,y)}var d4=w[0],dH=w[1],T=P,eV=P;for(var bf=0;bf<dH.length;bf+=2){var jd=_?dH[bf+1]-dH[bf]-h.StartIndent-h.EndIndent-(P==0?h.FirstLineIndent:0):Infinity,i5=0;
T=eV;eV+=d4[bf>>>1];var fD=this.ahz(T,eV,b,Z,_!=null);if(_){if(U==1||X&&U==4)i5=fD[1]+(jd-fD[0]);if(U==2||X&&U==5)i5=fD[1]+(jd-fD[0])/2;
if(eV-T==1&&b[T].hR.Q>jd)i5=0;if(L==0)i5+=h.FirstLineIndent;i5+=h.StartIndent}else{if(U==0)i5=h.StartIndent+h.FirstLineIndent;
if(U==1)i5=-fD[0]-h.EndIndent;if(U==2)i5=-fD[0]/2}i5+=dH[bf];if(_&&U>2&&(U==6||!X))this.auL(T,eV,b,jd,Z,i5);
else{var eo=i5;for(var v=T;v<eV;v++){var iX=b[v],cK=iX.hR.Q;iX.Q4.x=eo;if(iX.QJ=="\t")cK=Math.ceil((eo+4)/36)*36-eo;
eo+=cK}}}P=Y.end;for(var v=Y.start;v<Y.end;v++){var hF=b[v].hR.clone();hF.adN(b[v].Q4);Y.hR=Y.hR.tB(hF);
g0=Math.max(g0,b[v].eA);bW=Math.max(bW,b[v].lineHeight)}Y.Q4.y=L==0?0:e[L-1].Q4.y+bW;if(L==0){if(H==0&&_)u[0]+=g0;
if(H!=0)u[0]+=bW;this.Q4.y=u[0]}else u[0]+=bW;if(_)Y.bp=this.Q4.y+Y.Q4.y<_.y+_._||H==0&&L==0}var aJ=h.SpaceAfter;
if(aJ!=null)u[0]+=aJ};f8.rd.prototype.ahz=function(l,o,D,H,_){var u=0,S=0;for(var v=l;v<o;v++)u+=D[v].hR.Q;
if(_){if(H==0)for(var v=o-1;v>=l;v--)if(D[v].z_||D[v].Ge)u-=D[v].hR.Q;else break;if(H==1)for(var v=l;
v<o;v++)if(D[v].z_||D[v].Ge){var h=D[v].hR.Q;u-=h;S-=h}else break}return[u,S]};f8.rd.prototype.auL=function(l,o,D,H,_,u){var S=0,h=0,F=0,n=0;
for(var v=l;v<o;v++)if(D[v].z_)F++;else{S+=D[v].hR.Q;h++}if(_==0)for(var v=o-1;v>=l;v--)if(D[v].z_||D[v].Ge){if(D[v].z_){F--}}else break;
if(_==1)for(var v=l;v<o;v++)if(D[v].z_||D[v].Ge){if(D[v].z_){F--;n++}}else break;if(h<=1||F==0){if(h==1)D[l].Q4.x=u;
return}var R=(H-S)/F,s=-n*R;for(var v=l;v<o;v++){if(D[v].z_)this.Hw[D[v].kf].hR.Q=D[v].hR.Q=R;D[v].Q4.x=u+s;
s+=D[v].hR.Q}};f8.aBj=function(l,o,D,H,_,u,S){this.QJ="";for(var v=0;v<S;v++)this.QJ+=D[u+v].G0;this.z_=S==1&&(D[u].G0==" "||D[u].G0=="\t");
this.Ge=S==1&&D[u].G0=="\n";this.start=u;this.end=u+S;this.hR=new gt;this.Q4=new he(0,0);this.eA=0;this.lineHeight=0;
var h=0,F=0;if(S==0){this.lineHeight=D[u].lineHeight;this.eA=D[u].eA;this.hR=new gt(0,-D[u].lineHeight,0,D[u].lineHeight)}var n=D[u].VZ,R=D[u+S-1].VZ;
if(R<n){var s=n;n=R;R=s}while(R+1<_.length&&_[R].h$==_[R+1].h$){R++}this.kf=n;this.TI=R;for(var Z=n;
Z<=R;Z++){var O=_[Z],w=D[H+O.h$],m=l._LineOrientation==2&&(w.Y4.BaselineDirection!=2||f8.OL(w.G0.charCodeAt(0))),V=Typr.U.glyphToPath(w.s0,O.H),B=0;
O.path={v:V.cmds,s:V.crds};var q=w.Y4.FontSize,i=1/w.s0.head.unitsPerEm*q;if(!w.Y4.AutoKerning)h+=w.Y4.Kerning*2*i*w.scale.x;
O.Q4=new he(h,0);O.vb=0;if(m&&O.path.s.length>0){O.vb=-Math.PI/2;O.Q4.x+=q*.83;O.Q4.y=-q*.3+O.pF*i/2;
O.pF=q/i}var c=O.pF*i*w.scale.x;O.hR=new gt(0,-w.lineHeight,c,w.lineHeight);var z=O.hR.clone();z.adN(O.Q4);
if(w.Y4.Tracking!=null)B=w.Y4.Tracking*.001*q;if(w.Y4.FauxBold==!0)B+=.027*q;h+=c+B;if(Z<_.length-2)O.hR.Q+=B;
if(S==1&&w.G0==" "){z.Q+=2*B;O.Q4.x+=B}else if(S==1&&w.G0!=null&&f8.OL(w.G0.charCodeAt(0)))z.Q+=B;this.hR=this.hR.tB(z);
this.eA=Math.max(this.eA,w.eA);this.lineHeight=Math.max(this.lineHeight,w.lineHeight)}};f8.Kr=0;f8.anG=function(l){if(f8.Kr==2)return!0;
if(f8.Kr==1)return!1;f8.Kr=1;function o(){fetch(eJ.NO("code/ext/fribidi.wasm")).then(function(D){return D.arrayBuffer()}).then(function(D){return WebAssembly.instantiate(D)}).then(function(D){var H=D.instance.exports,_=H.memory,u=16,S=256,h=1,F=u|S,n=u|S|h;
f8.apW=function(s,Z){var O=s.length,w=O*4+4+O*4+O*4+O;fj.O8(H,w+O+1e7);var m=new Uint8Array(_.buffer),V=new Uint32Array(_.buffer),q=H.calloc(w,1),i=q+O*4,c=i+4,z=c+O*4,B=z+O*4;
V.set(s,q>>>2);V[i>>>2]=Z==0?F:n;H.fribidi_get_bidi_types(q,O,c);H.fribidi_get_bracket_types(q,O,c,z);
H.fribidi_get_par_embedding_levels_ex(c,z,O,i,B);var t=m.slice(B,B+O);H.free(q);return t};f8.Kr=2;var R=new jJ(k.E.b,!0);
R.data={q:k.L.lN,BL:"add",au:is.Oe,Pv:null};l.A(R)})}Typr.U.initHB(eJ.NO("code/ext/hb.wasm"),o);return!1};
function fX(){}fX.xj=function(l){return JSON.parse(JSON.stringify(l))};fX.Us=function(l,o){for(var D in o)l[D]=o[D]};
fX.D2=function(l,o,D,H){var _=fX.a2R();if(D)fX.fn(_,0,0,D);var u=new de;if(H!=null)u.rotate(H);u.translate(Math.round(l),Math.round(o));
var S={h:u,PF:_};S.CQ=fX.afC();S.oG=g.Y9.o();S.g6=new gt;return S};fX.ayo=function(l){var o=["CharacterDirection",0];
for(var v=0;v<o.length;v+=2){if(l[o[v]]!=null&&l[o[v]]!=o[v+1]){throw"e";console.log(o[v],l[o[v]])}}if(l instanceof Array)for(var v=0;
v<l.length;v++)fX.ayo(l[v]);else if(l instanceof Object)for(var D in l)fX.ayo(l[D])};fX.ql=function(l,o){if(o==null)o=l.Justification;
var D=l._Direction?l._Direction:0;if(D==1){if(o==0||o==3)o++;else if(o==1||o==4)o--}return o};fX.H9=function(l){if(l.add==null)return;
var o=l.PF,D=o.Curve,H=l.add.vmsk,_=H.d,u=g.X.Ja(_,2).s,S=l.h.clone();S.L5();g.X.h(u,S,u);var h=u.slice(0,8);
for(var F=8;F<u.length;F+=6)h.push(u[F-2],u[F-1],u[F],u[F+1],u[F+2],u[F+3],u[F+4],u[F+5]);D.Points=h;
D.TextOnPathTRange=H.Qz.slice(0);D.Reversed=H.xD;if(fX.I8(o)==1){var D=f8.TL(o.Curve),n=g.X.dm(D[0]);
fX.nP(o,[0,0,n.Q,n._].map(Math.round));for(var v=0;v<h.length;v+=2){h[v]-=n.x;h[v+1]-=n.y}var R=new de(1,0,0,1,n.x,n.y);
R.concat(l.h);l.h=R}};fX.FP=function(l){if(l.add==null)return;var o=l.add.vmsk,D=l.PF.Curve,H=D.Points,_={v:["M"],s:[H[0],H[1]]};
for(var v=0;v<H.length;v+=8){_.v.push("C");_.s.push(H[v+2],H[v+3],H[v+4],H[v+5],H[v+6],H[v+7])}g.X.h(_.s,l.h,_.s);
var u=g.X.Op(_,!0);o.d=u;o.xD=D.Reversed;o.Qz=D.TextOnPathTRange.slice(0);l.add.vogk=d.Xv(u)};fX.s3=function(l){var o={$:0,H:0,J:0};
if(l){var D=l.Values;if(l.Type==1)o={$:D[1]*255,H:D[2]*255,J:D[3]*255};else if(l.Type==2){var H={classID:"CMYC",Cyn:{t:"doub",v:D[1]*100},Mgnt:{t:"doub",v:D[2]*100},Ylw:{t:"doub",v:D[3]*100},Blck:{t:"doub",v:D[4]*100}};
o=g.G.s3(H)}else console.log("Unknown color type")}return o};fX.aDt=function(l){for(var v=0;v<l.length;
v++){var o=l[v].StyleSheet.StyleSheetData,D=o.FillColor;if(D&&D.Type==2){var H=fX.s3(D);D.Type=1;D.Values=[1,H.$/255,H.H/255,H.J/255]}}};
fX.fZ=function(l,o){var D;if(fX.I8(l.PF)==1){var H=fX.IU(l.PF);D=new gt(0,0,H[2]-H[0],H[3]-H[1])}else{D=o.K7();
if(o.LG){var _=o.LG.clone(),u=g.X.YZ(D);g.X.h(u.s,_,u.s);D=g.X.dm(u.s)}}return D};fX.GM=function(l){var o=l[0];
for(var v=0;v<l.length;v++)o=fX.a82(o,l[v]);return o};fX.a82=function(l,o){var D={};for(var H in l)if(JSON.stringify(l[H])==JSON.stringify(o[H]))D[H]=l[H];
return D};fX.LQ=function(l,o){var D=l.LJ,H=-1;for(var v=0;v<D.length;v++)if(D[v].Name==o)H=v;if(H==-1){H=D.length;
D.push({FontType:1,Name:o,Script:0,Synthetic:0})}l.i7.Font=H};fX.PZ=function(l){return l.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
fX.c3=function(l,o){l.EngineDict.Editor.Text=o.replace(/\n/g,"\r")};fX.I8=function(l){return l.Curve&&l.Curve.TextOnPathTRange[0]>=0?2:l.EngineDict.Rendered.Shapes.Children[0].ShapeType};
fX.aM=function(l,o){var D=l.EngineDict.Rendered.Shapes.Children[0];D.ShapeType=o;var H=D.Cookie.Photoshop;
H.ShapeType=o;H.Base.ShapeType=o;if(o==0){delete H.BoxBounds;H.PointBase=[0,0]}if(o==1){delete H.PointBase;
H.BoxBounds=[0,0,1,1]}};fX.IU=function(l){return l.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
fX.nP=function(l,o){l.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=o};fX.a8t=function(l,o){var D=l.EngineDict.AlternateGlyphRun;
if(D==null)return-1;var H=fX.Sm(D.RunLengthArray,o).fv;if(D.RunArray[H]==null)return-1;var _=D.RunArray[H].Glyph;
return _==null?-1:_};fX.afb=function(l,o,D){var H=l.EngineDict.AlternateGlyphRun;if(H==null){H=l.EngineDict.AlternateGlyphRun=fX.ayc();
H.RunArray.push({});H.RunLengthArray.push(fX.PZ(l).length)}var _=fX.Sm(H.RunLengthArray,o),u=_.fv,S=o-_.XI,h=H.RunArray[u],F=JSON.stringify(h),n=H.RunLengthArray[u];
if(S!=0){H.RunArray.splice(u,0,JSON.parse(F));H.RunLengthArray.splice(u,0,S);H.RunLengthArray[u+1]-=S;
u++;n-=S;S=0}if(n!=1){H.RunArray.splice(u+1,0,JSON.parse(F));H.RunLengthArray.splice(u+1,0,n-1);H.RunLengthArray[u]=1;
n=1}h.Glyph=D};fX.aif=function(l,o){var D=l.EngineDict.StyleRun.RunLengthArray;return fX.Sm(D,o).fv};
fX.aAE=function(l,o){var D=l.ResourceDict.StyleSheetSet[0].StyleSheetData,H={};for(var _ in D)H[_]=D[_];
var u=l.EngineDict.StyleRun.RunArray[o].StyleSheet.StyleSheetData;fX.Us(H,u);return H};fX.ahE=function(l,o){var D=l.EngineDict.ParagraphRun.RunLengthArray;
return fX.Sm(D,o).fv};fX.al2=function(l,o){var D=l.ResourceDict.ParagraphSheetSet[0].Properties,H={};
for(var _ in D)H[_]=D[_];var u=l.EngineDict.ParagraphRun.RunArray[o].ParagraphSheet.Properties;fX.Us(H,u);
var S=["StartIndent","EndIndent","FirstLineIndent"];for(var v=0;v<3;v++)if(H[S[v]]==null)H[S[v]]=0;return H};
fX.yQ=function(l,o,D){if(D=="")return;var H=fX.PZ(l);fX.c3(l,H.substring(0,o)+D+H.substring(o,H.length));
var _=l.EngineDict.StyleRun,u=_.RunLengthArray,S=fX.Sm(u,o-1);u[S.fv]+=D.length;var h=l.EngineDict.AlternateGlyphRun;
if(h){var u=h.RunLengthArray,S=fX.Sm(u,o-1);u[S.fv]+=D.length}var F=l.EngineDict.ParagraphRun,u=F.RunLengthArray,n=fX.Sm(u,o),R=D.split("\n");
if(R.length==1){u[n.fv]+=D.length;return}u.splice(n.fv+1,0,u[n.fv]-(o-n.XI));F.RunArray.splice(n.fv+1,0,fX.xj(F.RunArray[n.fv]));
u[n.fv]-=u[n.fv+1];u[n.fv]+=R[0].length+1;for(var v=1;v<R.length-1;v++){F.RunArray.splice(n.fv+v,0,fX.xj(F.RunArray[n.fv+v-1]));
F.RunLengthArray.splice(n.fv+v,0,R[v].length+1)}u[n.fv+R.length-1]+=R[R.length-1].length};fX.uq=function(l,o,D){var H=fX.PZ(l);
fX.c3(l,H.substring(0,o)+H.substring(D,H.length));fX.AL(l.EngineDict.ParagraphRun,o,D,!0);fX.AL(l.EngineDict.StyleRun,o,D,!1);
var _=l.EngineDict.AlternateGlyphRun;if(_)fX.AL(_,o,D,!1)};fX.AL=function(l,o,D,H){var _=l.RunLengthArray,u=fX.Sm(_,o),S=fX.Sm(_,D),h=[];
for(var v=0;v<_.length;v++)for(var F=0;F<_[v];F++)h.push(v);h.splice(o,D-o);var n=[];for(var v=0;v<_.length;
v++)n.push(0);for(var v=0;v<h.length;v++)n[h[v]]++;for(var v=0;v<_.length;v++){if(n[v]==0){n.splice(v,1);
_.splice(v,1);l.RunArray.splice(v,1);v--}else if(n[v]<_[v])_[v]=n[v]}if(H&&u.fv!=S.fv&&u.XI!=o){_[u.fv]+=_[u.fv+1];
_.splice(u.fv+1,1);l.RunArray.splice(u.fv+1,1)}};fX.fn=function(l,o,D,H){var _=l.EngineDict.Editor.Text.length;
if(D==_-2)D++;if(H.i7.Font!=null)l.ResourceDict.FontSet=H.LJ.slice(0);if(o<=D)fX.ajv(l.EngineDict.StyleRun,H.i7,o,D,!0);
fX.ajv(l.EngineDict.ParagraphRun,H.z5,o,D,!1)};fX.eF=function(l,o,D){var H={LJ:l.ResourceDict.FontSet.slice(0),i7:[],z5:[]},_=l.EngineDict.StyleRun.RunLengthArray,u=fX.Sm(_,o).fv,S=fX.Sm(_,D).fv;
for(var v=u;v<=S;v++){var h=fX.xj(l.ResourceDict.StyleSheetSet[0].StyleSheetData),F=l.EngineDict.StyleRun.RunArray;
if(F.length==0)continue;var n=F[v].StyleSheet.StyleSheetData;fX.Us(h,n);H.i7.push(h)}var R=l.EngineDict.ParagraphRun.RunLengthArray,s=fX.Sm(R,o).fv,Z=fX.Sm(R,D).fv;
for(var v=s;v<=Z;v++){var O=l.EngineDict.ParagraphRun.RunArray;if(O.length==0)continue;H.z5.push(fX.xj(O[v].ParagraphSheet.Properties))}H.i7=H.i7.length==0?{}:fX.GM(H.i7);
H.z5=H.z5.length==0?{}:fX.GM(H.z5);return H};fX.ajv=function(l,o,D,H,_){var u=l.RunLengthArray;if(_){var S=fX.Sm(u,D);
if(S.XI!=D){var h=u[S.fv];u.splice(S.fv,0,D-S.XI);u[S.fv+1]=h-u[S.fv];l.RunArray.splice(S.fv+1,0,fX.xj(l.RunArray[S.fv]))}var F=fX.Sm(u,H);
if(F.XI+u[F.fv]-1!=H){var h=u[F.fv];u.splice(F.fv,0,H-F.XI+1);u[F.fv+1]=h-u[F.fv];l.RunArray.splice(F.fv+1,0,fX.xj(l.RunArray[F.fv]))}}var S=fX.Sm(u,D),F=fX.Sm(u,H);
if(_)for(var v=S.fv;v<=F.fv;v++)fX.Us(l.RunArray[v].StyleSheet.StyleSheetData,o);else for(var v=S.fv;
v<=F.fv;v++)fX.Us(l.RunArray[v].ParagraphSheet.Properties,o)};fX.akS=function(l,o,D){var H=l.EngineDict.StyleRun.RunLengthArray,_=[],u=0;
for(var v=0;v<H.length;v++){var S=H[v];for(var h=0;h<S;h++)if(o<=u+h&&u+h<D)_.push(v);u+=S}var F=_[0],n=[];
for(var v=0;v<_.length;v++){var R=_[v]-F;if(R==n.length)n.push(0);n[R]++}return n};fX.adI=function(l){var o=l.EngineDict.StyleRun,D=o.RunArray,H=o.RunLengthArray;
for(var v=0;v<H.length-1;v++){var _=D[v].StyleSheet.StyleSheetData,u=D[v+1].StyleSheet.StyleSheetData;
if(JSON.stringify(_)==JSON.stringify(u)){D.splice(v+1,1);H[v]+=H[v+1];H.splice(v+1,1);v--}}};fX.Pa=function(l){var o=l.CQ.AntA.v.Annt;
o=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(o);if(o==-1)o=1;return o};fX.AH=function(l,o){l.CQ.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][o]};
fX.hE=function(l,o){var D,H;D=["FontSize","Leading","BaselineShift","_LineWidth"];H=l.i7;for(var v=0;
v<D.length;v++)if(H[D[v]]!=null)H[D[v]]*=o;D=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
H=l.z5;for(var v=0;v<D.length;v++)if(H[D[v]]!=null)H[D[v]]*=o};fX.abt=function(){return fX.eF(fX.xj(fX.aiE),0,0)};
fX.afC=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
fX.Sm=function(l,o){var D=0,v=0;while(D+l[v]<=o){D+=l[v];v++}return{fv:v,XI:D}};fX.a2R=function(){var l=fX.xj(this.aiE);
return l};fX.an2=function(l,o){var D=o.z5};fX.a2O=function(l,o){var D=o.i7,H;H=l.Undl;if(H&&H.v.Undl=="underlineOnLeftInVertical")D.Underline=!0;
H=l.syntheticItalic;if(H)D.FauxItalic=H.v};fX.ajc={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
fX.a9B={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
fX.ayc=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};fX.aiE={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(fX.ajc))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ãƒ¼\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ãƒ½ãƒ¾ã‚ã‚žã€…ããƒã…ã‡ã‰ã£ã‚ƒã‚…ã‚‡ã‚Žã‚¡ã‚£ã‚¥ã‚§ã‚©ãƒƒãƒ£ãƒ¥ãƒ§ãƒ®ãƒµãƒ¶\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ãƒ½ãƒ¾ã‚ã‚žã€…",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(fX.ajc))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(fX.a9B))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var cj={};cj.age=function(l){var o=cj.asA(l._0,l._1);cj.a8d(o,l._0);return o};cj.a5B=function(l,o,D){var H={};
H._98={_0:"i7"};H._0=cj.ayY(l,o,D?D._0:null);H._1=cj.ao$(l,o,H._0,D?D._1:null);return H};cj.ayY=function(l,o,D){var H={};
H._1=cj.ayX(l,D?D._1:null);H._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};H._3=JSON.parse(JSON.stringify(cj.a00));
H._4=JSON.parse(JSON.stringify(cj.azq));H._5=cj.arE(l,H._1._0,D?D._5:null);H._6=cj.aAe(l,D?D._6:null);
H._8=cj.a6f(l,o,D?D._8:null);H._9=cj.asm;return H};cj.a8d=function(l,o){cj.a6t(l,o._5,o._1._0)};cj.ayX=function(l,o){var D=[],H=[];
for(var v=0;v<l.length;v++){var _=l[v].ResourceDict.FontSet;for(var u=0;u<_.length;u++){var S=_[u];if(H.indexOf(S.Name)!=-1)continue;
D.push(S);H.push(S.Name)}}var h={_0:[]};for(var v=0;v<D.length;v++){var F=D[v],n={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+F.Name,_1:"i"+F.Script,_2:"i"+F.FontType}}};
if(F.Script==0)delete n._0._0._1;h._0.push(n)}return h};cj.arE=function(l,o,D){var H={_0:[],_1:[]},_={_0:JSON.parse(JSON.stringify(cj.aot))};
cj.a8G(_._0,l[0].ResourceDict.StyleSheetSet[0],o,l[0].ResourceDict.FontSet);H._0.push(_);H._1.push({_0:"i0"});
H._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});H._1.push({_0:"i1"});return H};cj.a6t=function(l,o,D){var H=o._0[0];
for(var v=0;v<l.length;v++)cj.azZ(H._0,l[v].ResourceDict.StyleSheetSet[0],D,l[v].ResourceDict.FontSet)};
cj.aAe=function(l,o){var D={_0:[],_1:[]},H={_0:JSON.parse(JSON.stringify(cj.Xa))};cj.mr(H._0,l[0].ResourceDict.ParagraphSheetSet[0]);
D._0.push(H);D._1.push({_0:"i0"});H={_0:JSON.parse(JSON.stringify(cj.Xa))};cj.mr(H._0,l[0].ResourceDict.ParagraphSheetSet[0]);
H._0._0="sBasic Paragraph";H._0._6="i0";D._0.push(H);D._1.push({_0:"i1"});return D};cj.a6f=function(l,o,D){var H={_0:[]};
for(var v=0;v<l.length;v++){var _=l[v].Curve,u={};H._0.push({_0:u});var S=fX.I8(l[v]);u._1={};u._2={};
u._2._0="i"+S;if(l[v]._LineOrientation==2)u._2._1="i2";if(S==0){delete u._1;u._2._6=["f-1","f-1"];u._2._11={_4:"i-1",_7:!1}}else if(S==1&&_==null){var h=fX.IU(l[v]),F=h[2],n=h[3];
u._1._0=cj.zi("f",[0,0,0,0,F,0,F,0,F,0,F,0,F,n,F,n,F,n,F,n,0,n,0,n,0,n,0,n,0,0,0,0]);u._2._6=["f-2","f-2"];
u._2._11={_4:"i-2",_7:!1}}else if(S==1){var h=fX.IU(l[v]),F=h[2],n=h[3];u._1._0=cj.zi("f",_.Points);
u._2._6=["f-3","f-3"];u._2._11={_4:"i-3",_7:!1}}else if(S==2){u._1._0=cj.zi("f",_.Points);u._2._6=cj.zi("f",_.TextOnPathTRange);
u._2._11={_0:_.Reversed,_3:"i0",_5:"f0",_7:!1}}}return H};cj.ao$=function(l,o,D,H){var _={};_._0=JSON.parse(JSON.stringify(cj.a08));
_._1=cj.a7P(l,o,D,H?H._1:null);_._2=JSON.parse(JSON.stringify(cj.aot._6));_._3=JSON.parse(JSON.stringify(cj.Xa._5));
return _};cj.asA=function(l,o){return cj.ayj(l,o._1)};cj.a7P=function(l,o,D,H){var _=[],u=D._1._0;for(var v=0;
v<l.length;v++){var S=l[v],h={_0:{}};_.push(h);h._0._0="s"+S.EngineDict.Editor.Text;h._0._0=h._0._0;
var F=h._0._5={_0:[]},n=S.EngineDict.ParagraphRun;for(var R=0;R<n.RunArray.length;R++){var s={_0:{}};
F._0.push(s);s._0._0={_0:"s",_5:{},_6:"i1"};cj.mr(s._0._0,n.RunArray[R].ParagraphSheet);s._1="i"+n.RunLengthArray[R]}var Z=h._0._6={_0:[]};
n=S.EngineDict.StyleRun;for(var R=0;R<n.RunArray.length;R++){var O={_0:{}};Z._0.push(O);O._0._0={_0:"s",_5:"i1",_6:{}};
cj.a8G(O._0._0,n.RunArray[R].StyleSheet,u,S.ResourceDict.FontSet);O._1="i"+n.RunLengthArray[R]}n=S.EngineDict.AlternateGlyphRun;
if(n){var w=h._0._9={_0:[]};for(var R=0;R<n.RunArray.length;R++){var m={_0:{}};w._0.push(m);var V=n.RunArray[R];
if(V.Glyph!=null){m._0._0={_0:"i"+V.Glyph,_1:"e"}}m._1="i"+n.RunLengthArray[R]}}h._0._10={_0:"i4",_2:!0};
h._1=cj.view.a1r(S,null,v,null)}return _};cj.ayj=function(l,o){var D=[],H=l._1._0;if(o)for(var v=0;v<o.length;
v++){var _=fX.a2R();D.push(_);var u=o[v];_.EngineDict.Editor.Text=u._0._0.slice(1);var S=_.EngineDict.ParagraphRun.RunArray[0],h=_.EngineDict.ParagraphRun,F=u._0._5;
if(F)for(var n=0;n<F._0.length;n++){var R=F._0[n];h.RunLengthArray[n]=parseInt(R._1.slice(1));h.RunArray[n]=JSON.parse(JSON.stringify(S));
cj.a9T(R._0._0,h.RunArray[n].ParagraphSheet)}else{h.RunLengthArray[0]=fX.PZ(_).length}var s=u._0._6;
h=_.EngineDict.StyleRun;if(s)for(var n=0;n<s._0.length;n++){var Z=s._0[n];h.RunLengthArray[n]=parseInt(Z._1.slice(1));
h.RunArray[n]={StyleSheet:{StyleSheetData:{}}};cj.azZ(Z._0._0,h.RunArray[n].StyleSheet,H,_.ResourceDict.FontSet)}else{h.RunLengthArray[0]=fX.PZ(_).length;
h.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return D};cj.a8G=function(l,o,D,H,_){l._0="s"+(o.Name?o.Name:"");
var u=l._6,S=_?_._6:null,h=o.StyleSheetData;if(h.Font!=null){var F=H[h.Font].Name,n=-1;for(var v=0;v<D.length;
v++)if("s"+F==D[v]._0._0._0){n=v;break}u._0="i"+n}if(h.FontSize!=null)u._1="f"+h.FontSize;if(h.FauxBold!=null)u._2=h.FauxBold;
if(h.FauxItalic!=null)u._3=h.FauxItalic;if(h.AutoLeading!=null)u._4=h.AutoLeading;if(h.Leading!=null)u._5="f"+h.Leading;
if(h.HorizontalScale!=null)u._6="f"+h.HorizontalScale;if(h.VerticalScale!=null)u._7="f"+h.VerticalScale;
if(h.Tracking!=null)u._8="i"+h.Tracking;if(h.BaselineShift!=null)u._9="f"+h.BaselineShift;if(h.AutoKerning!=null)u._11="i"+(h.AutoKerning?1:0);
if(h.FontCaps!=null)u._12="i"+h.FontCaps;if(h.FontBaseline!=null)u._13="i"+h.FontBaseline;if(h.Strikethrough!=null)u._15="i"+(h.Strikethrough?1:0);
if(h.Underline!=null)u._16="i"+(h.Underline?2:0);if(h.Ligatures!=null)u._18=h.Ligatures;if(h.DLigatures!=null)u._19=h.DLigatures;
if(h.BaselineDirection!=null)u._35="i"+h.BaselineDirection;if(h.Language!=null)u._38="i"+h.Language;
if(h.FillColor!=null)u._53=cj.So(h.FillColor);if(h.StrokeColor!=null)u._54=cj.So(h.StrokeColor);if(h.FillFlag!=null)u._56=h.FillFlag;
if(h.StrokeFlag!=null)u._57=h.StrokeFlag;if(h._LineWidth!=null)u._63="f"+h._LineWidth;if(h._FillBackgroundColor!=null)u._79=cj.So(h._FillBackgroundColor);
if(h._FillBackgroundFlag!=null)u._80=h._FillBackgroundFlag};cj.So=function(l){return{_99:"/SimplePaint",_0:{_0:"i1",_1:cj.zi("f",l.Values)}}};
cj.azZ=function(l,o,D,H){var _=l._6;if(_==null)return;var u=o.StyleSheetData;if(_._0){var S=parseInt(_._0.slice(1)),h=D[S]._0._0._0.slice(1);
fX.LQ({i7:u,LJ:H},h)}if(_._1!=null)u.FontSize=parseFloat(_._1.slice(1));if(_._2!=null)u.FauxBold=_._2;
if(_._3!=null)u.FauxItalic=_._3;if(_._4!=null)u.AutoLeading=_._4;if(_._5!=null)u.Leading=parseFloat(_._5.slice(1));
if(_._6!=null)u.HorizontalScale=parseFloat(_._6.slice(1));if(_._7!=null)u.VerticalScale=parseFloat(_._7.slice(1));
if(_._8!=null)u.Tracking=parseFloat(_._8.slice(1));if(_._9!=null)u.BaselineShift=parseFloat(_._9.slice(1));
if(_._11!=null)u.AutoKerning=parseFloat(_._11.slice(1))==1;if(_._12!=null)u.FontCaps=parseFloat(_._12.slice(1));
if(_._13!=null)u.FontBaseline=parseFloat(_._13.slice(1));if(_._15!=null)u.Strikethrough=parseFloat(_._15.slice(1))==1;
if(_._16!=null)u.Underline=parseFloat(_._16.slice(1))==1;if(_._18!=null)u.Ligatures=_._18;if(_._19!=null)u.DLigatures=_._19;
if(_._35!=null)u.BaselineDirection=parseFloat(_._35.slice(1));if(_._38!=null)u.Language=parseFloat(_._38.slice(1));
if(_._53!=null)u.FillColor=cj.B5(_._53);if(_._54!=null)u.StrokeColor=cj.B5(_._54);if(_._56!=null)u.FillFlag=_._56;
if(_._57!=null)u.StrokeFlag=_._57;if(_._63!=null)u._LineWidth=parseFloat(_._63.slice(1));if(_._79!=null)u._FillBackgroundColor=cj.B5(_._79);
if(_._80!=null)u._FillBackgroundFlag=_._80};cj.B5=function(l){var o=l._0._0,D=l._0._1,H=[1,0,0,0],_=[];
for(var v=0;v<D.length;v++)_[v]=parseFloat(D[v].slice(1));if(o=="i0")H[1]=H[2]=H[3]=_[1];else if(o=="i1")H=_;
else if(o=="i2")H=[1].concat(UDOC.C.cmykToRgb(_.slice(1)));else console.log("unknown color type",o,_);
return{Type:1,Values:H}};cj.mr=function(l,o){l._0="s"+(o.Name?o.Name:"");var D=l._5,H=o.Properties;if(H.Justification!=null)D._0="i"+H.Justification;
if(H.FirstLineIndent!=null)D._1="f"+H.FirstLineIndent;if(H.StartIndent!=null)D._2="f"+H.StartIndent;
if(H.EndIndent!=null)D._3="f"+H.EndIndent;if(H.SpaceBefore!=null)D._4="f"+H.SpaceBefore;if(H.SpaceAfter!=null)D._5="f"+H.SpaceAfter;
if(H.AutoLeading!=null)D._7="f"+H.AutoLeading;if(H.AutoHyphenate!=null)D._9=H.AutoHyphenate;if(H._Direction!=null)D._33="i"+H._Direction;
if(H._ComposerEngine!=null)D._35="i"+H._ComposerEngine};cj.a9T=function(l,o){var D=l._5;if(D==null)return;
var H=o.Properties;if(D._0)H.Justification=parseInt(D._0.slice(1))};cj.zi=function(l,o){var D=[];for(var v=0;
v<o.length;v++)D.push(l+o[v]);return D};cj.a00={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
cj.azq={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002ã€…\u3009\u300B\u300A\u300F\u3011\u3015ããƒã…ã‡ã‰ã£ã‚ƒã‚…ã‚‡ã‚Ž\u309B\u309Cã‚ã‚žã‚¡ã‚£ã‚¥ã‚§ã‚©ãƒƒãƒ£ãƒ¥ãƒ§ãƒ®ãƒµãƒ¶\u30FBãƒ¼ãƒ½ãƒ¾\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002ã€…\u3009\u300B\u300A\u300F\u3011\u3015ã‚ã‚ž\u30FBãƒ½ãƒ¾\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002ã€…\u3009\u300B\u300A\u300F\u3011\u3015ããƒã…ã‡ã‰ã£ã‚ƒã‚…ã‚‡ã‚Ž\u309B\u309Cã‚ã‚žã‚¡ã‚£ã‚¥ã‚§ã‚©ãƒƒãƒ£ãƒ¥ãƒ§ãƒ®ãƒµãƒ¶\u30FBãƒ¼ãƒ½ãƒ¾\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002ã€…\u3009\u300B\u300A\u300F\u3011\u3015ã‚ã‚ž\u30FBãƒ½ãƒ¾\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
cj.aot={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
cj.Xa={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
cj.asm={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
cj.a08={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var aB={};aB.a1_=function(l){return aB.yh(l,aB.Ca,0)};aB.aB4=function(l){return aB.xz(l,aB.Ca)};aB.yh=function(l,o,D){var H;
if(typeof l=="string")return l;if(l instanceof Array){H=[];for(var v=0;v<l.length;v++)H[v]=aB.yh(l[v],o,D+1)}else{H={};
var _={};for(var u in o){var S=o[u],h="_"+S[0];if(l[h]!=null){H[u]=S[1]?aB.yh(l[h],S[1],D+1):l[h];_[h]=!0}}for(var u in l){if(_[u]==null){if(u.length>3)continue;
console.log(o,_);console.log(u,l);throw"e"}}}return H};aB.xz=function(l,o){var D;if(typeof l=="string")return l;
else if(l instanceof Array){D=[];for(var v=0;v<l.length;v++)D[v]=aB.xz(l[v],o)}else{D={};var H={};for(var _ in o){var u=o[_],S="_"+u[0];
if(l[_]!=null){D[S]=u[1]?aB.xz(l[_],u[1]):l[_];H[_]=!0}}for(var _ in l){if(H[_]==null){console.log(o,H);
console.log(_,l);throw"e"}}}return D};aB.sX={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
aB.cu={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,aB.sX],_StrokeColor:[54,aB.sX],_Blend:[55,{_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,aB.sX],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]};
aB.aoo={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,aB.cu],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
aB.a8T={_Name:[0],_Features:[5,aB.aoo],_Parent:[6],_UUID:[97]};aB.af4={_Name:[0],_Parent:[5],_Features:[6,aB.cu],_UUID:[97]};
aB.Ca={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,aB.af4]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,aB.a8T]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_3:[3],_4:[4],_5:[5],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18],_22:[22]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,aB.a8T]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,aB.af4]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2],_4:[4]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,aB.cu],_OriginalNormalParagraphFeatures:[3,aB.aoo],_4:[4]}]};
cj.view={};cj.view.a1r=function(l,o,D,H){var _={},u=fX.I8(l);_._0=[{_0:"i"+D}];return _};function CSS(){}CSS.aBN=function(l,o){var D=l.add,H=D.vmsk,_=D.vstk,u=D.lmfx,S=D.TySh,h=[],F=CSS.ty(u,D),n=l.opacity/255*(l.add.iOpa!=null?l.add.iOpa/255:1);
if(n!=1)h.push("opacity: "+n.toFixed(3));if(l.RR()&&H){var R=g.n.kU(H.d);if(!R.lh()){h.push("width: "+Math.round(R.Q)+"px");
h.push("height: "+Math.round(R._)+"px")}var s=g.n.aEF(H.d);if(s>0)h.push("border-radius: "+Math.round(s)+"px")}else if(S){var Z=S.PF;
if(fX.I8(Z)==1){var R=fX.IU(Z);h.push("width: "+Math.round(R[2])+"px");h.push("height: "+Math.round(R[3])+"px")}CSS.aqz(h,fX.eF(Z,0,0),S.h,!1,!1,F[0])}CSS.aBq(o,u,h);
if(S==null)CSS.aDR(F,h);if(_==null||!_.strokeEnabled.v)_=cN.aDB(u);if(_&&_.strokeEnabled.v){var O=_.strokeStyleContent.v,w=O.classID,m=_.strokeStyleOpacity.v.val/100,V=_.strokeStyleLineWidth.v.val,q="";
if(w=="solidColorLayer")q=CSS.mS(O.Clr.v,m);h.push("border: "+V+"px solid "+q)}return h};CSS.aBq=function(l,o,D){if(o==null||!o.masterFXSwitch.v)return;
var H=o.dropShadowMulti.v.concat(o.innerShadowMulti.v);for(var v=0;v<H.length;v++){var _=H[v].v;if(_.enab.v){var u=_.classID=="IrSh",S=_.Dstn.v.val,h=_.lagl.v.val*Math.PI/180;
if(_.uglg&&_.uglg.v)h=l.Ry()*Math.PI/180;var F=S*Math.cos(h),n=S*Math.sin(h),R=(F==0?"0 ":CSS.a1c(-F)+"px ")+(n==0?"0 ":CSS.a1c(n)+"px ")+_.blur.v.val/2+"px "+CSS.mS(_.Clr.v,_.Opct.v.val/100);
if(u)D.push("box-shadow: inset "+R);else D.push("filter: drop-shadow("+R+")")}}};CSS.ty=function(l,o){var D=cN.a9U(l,o),H=D[0],_=D[1],u,S;
if(H){u=CSS.mS(H.Clr.v,o.iOpa!=null?o.iOpa/255:1)}else if(_){S=CSS.rf(_)}return[u,S]};CSS.aDR=function(l,o){if(l[0])o.push("background-color: "+l[0]);
if(l[1])o.push("background-image: "+l[1])};CSS.I$={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.a1c=function(kC){return""+parseFloat(kC.toFixed(3))};CSS.Bc=function(l){if(l==null)return{$:0,H:0,J:0};
var o=l.indexOf("(");if(o!=-1){var D=l.slice(o+1,l.length-1).split(",");for(var v=0;v<D.length;v++){var H=D[v].trim();
D[v]=parseFloat(H)*(H.endsWith("%")?255/100:1)}return{$:D[0],H:D[1],J:D[2]}}if(l.charAt(0)!="#"){var _=CSS.I$;
if(_[l])l=_[l];else console.log("unknown color "+l)}l=l.slice(1);if(l.length==4)l=l[0]+l[0]+l[1]+l[1]+l[2]+l[2]+l[3]+l[3];
if(l.length==3)l=l[0]+l[0]+l[1]+l[1]+l[2]+l[2];var u=-1;if(l.length==8){u=parseInt(l.slice(6),16);l=l.slice(0,6)}l=parseInt(l,16);
var S={$:l>>16&255,H:l>>8&255,J:l&255};if(u!=-1)S.M=u;return S};CSS.mS=function(l,o){return CSS.Ir(g.G.s3(l),o)};
CSS.Ir=function(l,o){if(o==null)o=1;var D=Math.round(l.$),H=Math.round(l.H),_=Math.round(l.J),u=D<<16|H<<8|_;
return o==1?"#"+g.Bi(u):"rgba("+D+","+H+","+_+","+o+")"};CSS.ajX=function(l,o){return CSS.Ir({$:l[0]*255,H:l[1]*255,J:l[2]*255},o)};
CSS.rf=function(l){var o=l.Grad.v;if(o.Clrs==null)return"";var D=o.Clrs.v.slice(0),H=o.Trns.v.slice(0),_=l.Ofst.v,u=l.Type.v.GrdT=="Rdl"?1:0,S=(u==1?"radial":"linear")+"-gradient",h=u==0?Math.round(-l.Angl.v.val+90)+"deg":"circle at center",F=l.Rvrs.v,n=g.G.ant(o,F);
for(var v=0;v<n.length;v++){var R=n[v],s=R[1];h+=", "+CSS.Ir({$:s[0]*255,H:s[1]*255,J:s[2]*255},R[2])+" "+Math.round(R[0]*100)+"%"}return S+"("+h+")"};
CSS.aqz=function(l,o,D,H,_,u){var S=o.i7,h=H?1:D.jX(),F=Math.round(S.FontSize*h);l.push("font-size: "+F+"px");
var n=S.Tracking;if(!H&&n!=null&&n!=0)l.push("letter-spacing: "+Math.round(n*F/1e3)+"px");if(!S.AutoLeading)l.push("line-height: "+Math.round(S.Leading*h)+"px");
if(S.Strikethrough)l.push("text-decoration: line-through");if(S.Underline)l.push("text-decoration: underline");
if(S.FontCaps==2)l.push("text-transform: uppercase");var R=fX.s3(S.FillColor);R=[R.$,R.H,R.J].map(Math.round);
l.push((H?"fill: ":"color: ")+(u?u:"#"+g.Bi(R[0]<<16|R[1]<<8|R[2])));var s=o.LJ[S.Font].Name;if(s){var Z=ey.cw.DD(s),O="",w=null,m=null;
if(Z!=null&&s!=ey.gd(Z))Z=null;if(_&&Z)O+="\""+s+"\", ";var V=s.toLowerCase();if(Z){w=ey.aeO(Z)[0];if(Z["OS/2"])m=Z["OS/2"].usWeightClass}else{w=CSS.arJ(s);
if(V.indexOf("light")!=-1)m=300;else if(V.indexOf("medium")!=-1)m=500;else if(V.indexOf("black")!=-1||V.indexOf("extrabold")!=-1)m=800;
else if(V.indexOf("bold")!=-1)m="bold"}if(w!=null)O+="\""+w+"\"";if(m!=null)l.push("font-weight: "+m);
if(V.indexOf("italic")!=-1||V.indexOf("oblique")!=-1)l.push("font-style: italic");if(O)l.push("font-family: "+O)}var q=o.z5.Justification;
if(q!=null&&q!=0)if(H){}else l.push("text-align: "+["left","right","center"][q%3])};CSS.arJ=function(l){l=l.split("-")[0];
while(l.endsWith("MT")||l.endsWith("PS"))l=l.slice(0,l.length-2);var o=!0;for(var v=0;v<l.length;v++){var D=l.charAt(v);
if(!o&&D.toLowerCase()!=D){l=l.slice(0,v)+" "+l.slice(v);v++;o=!0}else o=!1}return l};function kI(){}kI.Tn={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
kI.aq=function(l,o){var D=Date.now(),H=l.split("\n"),_;if(H.length==1)H=l.split("\r");for(var v=0;v<H.length;
v++)if(H[v].trim()[0]=="#"){H[v]=""}l=H.join("\n");try{_=acorn.parse(l)}catch(ey){console.log(ey);return}var u=JSON.parse(JSON.stringify(kI.Sv.JL));
u.__return=!1;u.__continue=!1;u.__break=!1;u.__throw=!1;u.__fs={};u.__window={};kI.eval(_,o,u);var S=u.__fs;
if(Object.keys(S).length!=0){var h=UZIP.encode(S);iT.save(h,"output.zip")}};kI.eval=function(l,o,D){var H=l.type;
if(!1){}else if(H=="Program"||H=="BlockStatement"){var _=l.body;for(var v=0;v<_.length;v++){var u=_[v].type;
if(u=="FunctionDeclaration")D[_[v].id.name]=_[v]}for(var v=0;v<_.length;v++){var u=_[v].type,S=kI.eval(_[v],o,D);
if(D.__continue&&D.__pif==null){D.__continue=!1;return S}if(D.__return||D.__break||D.__throw)return S}}else if(H=="ReturnStatement"){D.__return=!0;
return l.argument?kI.Wb(l.argument,o,D):null}else if(H=="BreakStatement"){D.__break=!0}else if(H=="ContinueStatement"){D.__continue=!0}else if(H=="VariableDeclaration"){var h=l.declarations;
for(var v=0;v<h.length;v++)kI.eval(h[v],o,D)}else if(H=="VariableDeclarator"){D[l.id.name]=l.init?kI.Wb(l.init,o,D):null}else if(H=="FunctionDeclaration"){D[l.id.name]=l}else if(H=="MemberExpression"){var F=kI.Wb(l.object,o,D),S;
if(D.__throw)return;var n=l.computed?kI.Wb(l.property,o,D):kI.eval(l.property,o,D);if(F.N!=null)S=kI.Sv.Iw(F,n,o,D);
else if(F==window&&kI.Tn[n]){}else S=F[n];return S}else if(H=="ArrayExpression"){var R=[],s=l.elements;
for(var v=0;v<s.length;v++)R.push(kI.Wb(s[v],o,D));return R}else if(H=="ObjectExpression"){var R={},s=l.properties;
for(var v=0;v<s.length;v++){var Z=s[v],O=s[v].key.name?s[v].key.name:s[v].key.value;R[O]=kI.Wb(s[v].value,o,D)}return R}else if(H=="ExpressionStatement"){return kI.eval(l.expression,o,D)}else if(H=="NewExpression"){var w=l.arguments,m=l.callee,V=m.type,q=m.name,i=[],R=null;
for(var v=0;v<w.length;v++)i.push(kI.Wb(w[v],o,D));if(q=="Array")R=new window[q];else if(V=="Identifier")R=kI.Sv.aek(q,i,o,D);
else throw"e";if(R==null)throw"new "+q;return R}else if(H=="CallExpression"){var w=l.arguments,m=l.callee,V=m.type,c={};
for(var z in D)c[z]=D[z];var i=[];for(var v=0;v<w.length;v++)i.push(kI.Wb(w[v],o,D));if(V=="Identifier"){var B=m.name,t=D[B];
if(t&&t.N=="AppFunc"){B=t.Nt;t=null}if(t){if(t.params){var a=t.params;for(var v=0;v<a.length;v++)c[a[v].name]=i[v];
return kI.eval(t.body,o,c)}else{return t.apply(null,i)}}else if(kI.Sv.auw.indexOf(B)!=-1)return kI.Sv.PV({N:"Application"},B,i,o,D);
else if(window[B]==null)console.log("Unknown function "+B);else if(kI.Tn[B])alert(B+"() not available");
else{var I=window[B].apply(window,i);return I}}else if(V=="MemberExpression"){var F=kI.Wb(m.object,o,D),n=m.computed?kI.Wb(m.property,o,D):kI.eval(m.property,o,D);
if(F==window&&kI.Tn[n])return;if(F.N!=null)return kI.Sv.PV(F,n,i,o,D);else if(n=="sort"&&F[0]&&F[0].N=="Layer"){return F.sort(function(X,G){return X.P.getName()>G.P.getName()?1:-1})}else if(n=="toSource")return JSON.stringify(F);
else return F[n].apply(F,i)}else if(V=="FunctionExpression"){return kI.eval(m.body,o,D)}else console.log(l)}else if(H=="AssignmentExpression"){var N=l.operator,J=l.left,Q=J.type,A=kI.Wb(J,o,D),f=kI.Wb(l.right,o,D),S=null;
if(!1){}else if(N=="=")S=f;else if(N=="+=")S=A+f;else if(N=="-=")S=A-f;else if(N=="*=")S=A*f;else if(N=="/=")S=A/f;
else if(N=="%=")S=A%f;else if(N=="&=")S=A&f;else if(N=="|=")S=A|f;else if(N=="&&=")S=A&&f;else if(N=="||=")S=A||f;
else console.log(l);if(Q=="Identifier"){var W=J.name;if(D.hasOwnProperty(W))D[W]=S;else D.__window[W]=S}else if(Q=="MemberExpression"){var C=kI.eval(J.property,o,D),j=kI.Wb(J.object,o,D);
if(j.N!=null)kI.Sv.axV(j,C,S,o,D);else j[C]=S}else console.log(l);return S}else if(H=="Identifier")return l.name;
else if(H=="Literal")return l.value;else if(H=="UpdateExpression"){var N=l.operator,K=l.argument.name,R=kI.Wb(l.argument,o,D),$=D;
if($[K]==null)$=D.__window;if(!1){}else if(N=="++"){$[K]++;return l.prefix?$[K]:$[K]-1}else if(N=="--"){$[K]--;
return l.prefix?$[K]:$[K]+1}else console.log(l)}else if(H=="UnaryExpression"){var N=l.operator,r=kI.Wb(l.argument,o,D);
if(r&&r.N=="UnitValue"){if(N=="-")return-r.P;else return kI.asY(r.P,N)}else return kI.asY(r,N)}else if(H=="BinaryExpression"||H=="LogicalExpression"){var N=l.operator,J=kI.Wb(l.left,o,D);
if(H=="LogicalExpression"&&N=="&&"&&!J)return J;var r=kI.Wb(l.right,o,D);if(J==null||r==null)return kI.VQ(J,r,N);
else if(J.N=="UnitValue"&&r.N=="UnitValue")return kI.VQ(J.P,r.P,N);else if(J.N=="UnitValue")return kI.VQ(J.P,r,N);
else if(r.N=="UnitValue"){if(N=="-")return-(J-r.P);else return kI.VQ(J,r.P,N)}else return kI.VQ(J,r,N)}else if(H=="IfStatement"){var U=kI.Wb(l.test,o,D),b=D.__pif,S=null;
D.__pif=!0;if(U)S=kI.eval(l.consequent,o,D);else if(l.alternate)S=kI.eval(l.alternate,o,D);D.__pif=b;
return S}else if(H=="ConditionalExpression"){var U=kI.Wb(l.test,o,D);if(U)return kI.Wb(l.consequent,o,D);
else if(l.alternate)return kI.Wb(l.alternate,o,D)}else if(H=="ForInStatement"){kI.eval(l.left,o,D);var e=l.left.declarations[0].id.name,P=kI.Wb(l.right,o,D);
for(var z in P){D[e]=z;var L=kI.eval(l.body,o,D);if(D.__break)break;if(D.__return)return L}D.__break=!1}else if(H=="ForStatement"){kI.eval(l.init,o,D);
while(kI.eval(l.test,o,D)){var L=kI.eval(l.body,o,D);if(D.__break)break;if(D.__return)return L;kI.eval(l.update,o,D)}D.__break=!1}else if(H=="WhileStatement"){while(kI.eval(l.test,o,D)){var L=kI.eval(l.body,o,D);
if(D.__break)break;if(D.__return)return L}D.__break=!1}else if(H=="DoWhileStatement"){do{var L=kI.eval(l.body,o,D);
if(D.__break)break;if(D.__return)return L}while(kI.eval(l.test,o,D));D.__break=!1}else if(H=="TryStatement"){kI.eval(l.block,o,D);
if(D.__throw){var Y=l.handler;D[Y.param.name]=D.__throw;D.__throw=!1;kI.eval(Y.body,o,D);delete D[Y.param.name]}}else if(H=="EmptyStatement"){}else console.log(l)};
kI.VQ=function(l,o,D){if(D=="+")return l+o;else if(D=="-")return l-o;else if(D=="*")return l*o;else if(D=="/")return l/o;
else if(D=="%")return l%o;else if(D=="^")return l^o;else if(D=="&")return l&o;else if(D=="&&")return l&&o;
else if(D=="|")return l|o;else if(D=="||")return l||o;else if(D=="<")return l<o;else if(D==">")return l>o;
else if(D=="=="){if(l!=null&&o!=null&&l.N&&o.N)return l.P==o.P;return l==o}else if(D=="===")return l===o;
else if(D=="<=")return l<=o;else if(D==">=")return l>=o;else if(D=="!=")return l!=o;else if(D=="!==")return l!==o;
else if(D=="<<")return l<<o;else if(D==">>")return l>>o;else console.log(D)};kI.asY=function(l,o){if(o=="-")return-l;
else if(o=="!")return!l;else if(o=="~")return~l;else if(o=="+")return l;else if(o=="typeof")return typeof l;
else console.log(o,l)};kI.Wb=function(l,o,D){var H=l.type;if(H=="Identifier")return kI.aiy(l.name,o,D);
else return kI.eval(l,o,D)};kI.aiy=function(l,o,D){if(l=="undefined")return undefined;else if(D.hasOwnProperty(l))return D[l];
else if(l=="app")return{N:"Application"};else if(l=="Folder")return{N:"Folder"};else if(l=="File")return{N:"File"};
else if(l=="$")return{N:"$"};else if(kI.Sv.a0d.indexOf(l)!=-1)return kI.Sv.Iw({N:"Application"},l,o,D);
else if(kI.Sv.auw.indexOf(l)!=-1)return{N:"AppFunc",Nt:l};else if(D.__window.hasOwnProperty(l))return D.__window[l];
else if(window[l]&&!kI.Tn[l])return window[l];else{D[l]=null;return null}};kI.Sv={};kI.Sv.aek=function(l,o,D,H){var _;
if(l=="SolidColor")_={N:l,P:[1,0,0,0]};if(l=="RGBColor")_={N:l,P:[1,0,0,0]};if(l=="Window")_={N:l,P:new kl(o[0],o[1],o[2])};
if(l=="ExportOptionsSaveForWeb")_={N:l,P:{Fp:"png",cI:100}};if(l=="PhotoshopSaveOptions")_={N:l,P:{Fp:"psd"}};
if(l=="PNGSaveOptions")_={N:l,P:{Fp:"png",cI:100}};if(l=="JPEGSaveOptions")_={N:l,P:{Fp:"jpg",cI:100}};
if(l=="PDFSaveOptions")_={N:l,P:{Fp:"pdf",aqr:""}};if(l=="File")_={N:l,P:o[0]};if(l=="ActionReference")_={N:l,P:{t:"obj ",v:[]}};
if(l=="ActionDescriptor")_={N:l,P:{t:"Objc",v:{classID:"null"}}};if(l=="ActionList")_={N:l,P:{t:"VlLs",v:[]}};
if(l=="UnitValue")_={N:l,P:o.length==0?0:parseFloat(o[0])};return _};kI.Sv.a0d="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
kI.Sv.auw="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
kI.Sv.Iw=function(l,o,D,H){var _=D.Pk,u=D.W1();if(!1){}else if(o=="typename"){if(l.N=="Layer")return l.P.Cl()?"LayerSet":"ArtLayer";
else return l.N}else if(["Document","Layer"].indexOf(l.N)!=-1&&["layers","artLayers","layerSets"].indexOf(o)!=-1){var S=u;
if(l.N=="Document")S=l.P;else S=l.de;var h=S.root,F={N:"Layers",aB_:o,P:[],de:S};if(l.N=="Layer")h=S.root.sl(S.R.indexOf(l.P));
if(h.children==null)return null;for(var v=0;v<h.children.length;v++){var n=h.children[v].U,R=n.Cl();
if(R&&o=="artLayers"||!R&&o=="layerSets")continue;F.P.push({N:"Layer",P:n,de:S})}F.P.reverse();return F}else if(l.N=="Documents"||l.N=="Layers"||l.N=="HistoryStates"||l.N=="LayerComps"){if(!1){}else if(o=="length")return l.P.length;
else if(Number.isInteger(o))return l.P[o];else console.log(l.N+": unknown property ",o)}else if(l.N=="Application"){if(!1){}else if(o=="activeDocument")return{N:"Document",P:D.W1()};
else if(o=="documents"){var F={N:"Documents",P:[]};for(var v=0;v<D.GX.length;v++)F.P.push({N:"Document",P:D.GX[v]});
return F}else if(o=="fonts")return{N:"TextFonts"};else if(o=="preferences")return{N:"Preferences"};else if(o=="displayDialogs")return{N:"DialogModes"};
else if(o=="foregroundColor"||o=="backgroundColor"){var s=o[0]=="f"?_.Os:_.qg;return{N:"SolidColor",P:[1,(s>>>16&255)/255,(s>>>8&255)/255,(s>>>0&255)/255]}}else if(o=="UI")return{N:"UI"};
else if(o=="version")return 30;else console.log(l,o)}else if(l.N=="Document"){var u=l.P;if(!1){}else if(o=="activeLayer"){var n=u.R[u.T[0]];
return{N:"Layer",P:n,de:u}}else if(o=="pixelAspectRatio")return 1;else if(o=="resolution")return u.on;
else if(o=="width")return u.Q;else if(o=="height")return u._;else if(o=="name")return u.name;else if(o=="saved")return!u.dI();
else if(o=="selection")return{N:"Selection"};else if(o=="activeHistoryState")return{N:"HistoryState",wN:u.IL};
else if(o=="source")return u.ti;else if(o=="layerComps"){var Z=u.xr.list.v,O=[];for(var v=0;v<Z.length;
v++)O.push({N:"LayerComp",P:v});return{N:"LayerComps",P:O}}else if(o=="historyStates"){var w=[];for(var v=0;
v<u.history.length;v++)w.push({N:"HistoryState",wN:v});return{N:"HistoryStates",P:w}}else if(o=="mode")return 7;
else if(o=="colorSamplers"){var F={N:"ColorSamplers",aB_:o,P:u.RX.slice(0),de:u};return F}else console.log(l,o)}else if(l.N=="LayerComp"){if(o=="name")return u.xr.list.v[l.P].v.Nm.v;
else throw o}else if(l.N=="ColorSamplers"){if(Number.isInteger(o))return{N:"ColorSampler",P:l.P[o]};
else if(o=="length")return u.RX.length}else if(l.N=="ColorSampler"){if(o=="color"){var s=p.wg.pl(u,u.w.zp(l.P.x,l.P.y),1,2);
return{N:"SolidColor",P:[1,(s>>>16&255)/255,(s>>>8&255)/255,(s>>>0&255)/255]}}else if(o=="position")return[l.P.x,l.P.y]}else if(l.N=="Layer"){var m={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},n=l.P;
if(!1){}else if(o=="visible")return n.zd();else if(o=="selected")return u.T.indexOf(u.R.indexOf(n))!=-1;
else if(o=="grouped")return n.vN;else if(m[o]!=null)return n.Ji(m[o]);else if(o=="opacity")return n.opacity*100/255;
else if(o=="fillOpacity")return(n.add.iOpa==null?255:n.add.iOpa)*100/255;else if(o=="blendMode")return n.TY;
else if(o=="name")return n.getName();else if(o=="textItem")return{N:"TextItem",P:n};else if(o=="bounds"){var V=p.cA.fZ(u,[u.R.indexOf(n)]);
return kI.Sv.a0E(V,u)}else if(o=="parent"){var q=D.GX,S;for(var v=0;v<q.length;v++)if(q[v].R.indexOf(n)!=-1)S=q[v];
var i=S.root.sl(S.R.indexOf(n)).parent;return i.depth==0?{N:"Document",P:S}:{N:"Layer",P:i.U,de:S}}else if(o=="kind"){var c=kI.Sv.xc;
for(var v=0;v<c.length;v++)if(n.add[c[v]]!=null)return v;return 0}else if(o=="isBackgroundLayer")return n.add.lnsr="bgnd";
else if(o=="itemIndex")return u.R.indexOf(n)+1;else console.log(l,o)}else if(l.N=="Selection"){if(!1){}else if(o=="bounds"){if(u.f==null)H.__throw={message:"no selection"};
else return kI.Sv.a0E(u.f.rect,u)}else console.log(l,o)}else if(l.N=="TextItem"){var z=l.P.add.TySh,B=z.PF,t=fX.PZ(B),a=z.h.jX(),I=fX.eF(B,0,0);
if(o=="contents")return t.slice(0,t.length-1).replace(/\n/g,"\r");else if(o=="font")return I.i7.Font!=null?I.LJ[I.i7.Font].Name:null;
else if(o=="size")return kI.Sv.b_(I.i7.FontSize*a,u);else if(o=="leading")return kI.Sv.b_(I.i7.Leading*a,u);
else if(o=="tracking")return kI.Sv.b_(I.i7.Tracking);else if(o=="baselineShift")return kI.Sv.b_(I.i7.BaselineShift);
else if(o=="fauxBold")return I.i7.FauxBold;else if(o=="fauxItalic")return I.i7.FauxItalic;else if(o=="kind")return 1-fX.I8(B);
else if(o=="useAutoLeading")return I.z5.AutoLeading;else if(o=="hyphenation")return I.z5.AutoHyphenate;
else if(o=="justification")return kI.Sv.b_(I.z5.Justification);else if(o=="color")return{N:"SolidColor",P:I.i7.FillColor.Values.slice(0)};
else if(o=="width"||o=="height"){var N=fX.IU(B),J=(N[2]-N[0])*a,Q=(N[3]-N[1])*a;return kI.Sv.b_(o=="width"?J:Q,u)}else if(o=="position"){var A=z.h;
return kI.Sv.aor([A.ip,A.nl],u)}else if(o=="horizontalScale"||o=="verticalScale"){var f=o[0].toUpperCase()+o.slice(1);
return Math.round(I.i7[f]*100)}else if(o=="antiAliasMethod")fX.Pa(z);else if(o=="totalTextStyle"){var F={};
for(var W=0;W<2;W++){var C=["Style","Paragraph"][W],j=B.EngineDict[C+"Run"].RunLengthArray,K=[],$=0;
for(var v=0;v<j.length;v++){var r=fX.eF(B,$,Math.min($+j[v],t.length-2));$+=j[v];K.push(W==0?r.i7:r.z5);
F.fontSet=r.LJ}F[C]={runs:j,styles:K}}return JSON.stringify(F)}else if(o=="transform"){var A=z.h;return JSON.stringify([A.M,A.J,A.oe,A.me,A.ip,A.nl])}else console.log(l,o)}else if(l.N=="Preferences"){if(o=="rulerUnits")return _.og.wc;
else console.log(l,o)}else if(l.N=="SolidColor"){if(o=="rgb")return{N:"RGBColor",P:l.P};if(o=="cmyk")return{N:"CMYKColor",P:g.xY(l.P.slice(1))};
else console.log(l,o)}else if(l.N=="RGBColor"){var V=Math.round(255*l.P[1]),U=Math.round(255*l.P[2]),b=Math.round(255*l.P[3]);
if(!1){}else if(o=="red")return V;else if(o=="green")return U;else if(o=="blue")return b;else if(o=="hexValue")return"#"+g.Bi(V<<16|U<<8|b).toUpperCase();
else console.log(l,o)}else if(l.N=="CMYKColor"){var e=[];for(var v=0;v<4;v++)e.push(Math.round(l.P[v]*100));
var P=["cyan","magenta","yellow","black"].indexOf(o);if(P!=-1)return e[P];else console.log(l,o)}else if(l.N=="UnitValue"){if(o=="value")return l.P;
else throw"e"}else if(l.N=="ExportOptionsSaveForWeb"){if(o=="format")return l.P.Fp;else if(o=="PNG8"||o=="interlaced")return!1;
else if(o=="quality")return l.P.cI;else if(o=="transparency")return!0;else throw o}else if(l.N=="PNGSaveOptions"||l.N=="JPEGSaveOptions"||l.N=="PDFSaveOptions"){return 0}else if(l.N=="$"){if(o=="localize")return!1;
else if(o=="os")return"Windows";else throw o}else if(l.N=="ActionList"){if(o=="count")return l.P.v.length;
else throw o}else console.log(l,o)};kI.Sv.a0E=function(l,o){return kI.Sv.aor([l.x,l.y,l.x+l.Q,l.y+l._],o)};
kI.Sv.aor=function(l,o){var D=[];for(var v=0;v<l.length;v++)D.push(kI.Sv.b_(l[v],o));return D};kI.Sv.qc=function(l){var o=[];
for(var v=0;v<l.length;v++)o.push(l[v].N?l[v].P:l[v]);return o};kI.Sv.b_=function(l,o){return{N:"UnitValue",P:l}};
kI.Sv.a38=function(l,o){if(l.N=="UnitValue")return l.P;return l};kI.Sv.axV=function(l,o,D,H,_){var u=new jJ(k.E.r,!0),S=new jJ(k.E.b,!0),h=H.W1(),F=H.Pk;
if(!1){}else if(l.N=="Application"){if(!1){}else if(o=="activeDocument"){S.data={q:k.L.r8,nL:D.P};H.A(S)}else if(o=="displayDialogs"){}else if(o=="foregroundColor"||o=="backgroundColor"){var n=D.P,R=n[1]*255<<16|n[2]*255<<8|n[3]*255<<0;
S.data={q:k.L.lN,au:is.rY,i6:o=="foregroundColor"?0:1,P:R};H.A(S)}else console.log(l,o,D)}else if(l.N=="Document"){var s=l.P;
if(!1){}else if(o=="name"){u.S=p.wU;u.data={q:d.GV,P:D,a9N:!0,fw:s};h.LD=!0}else if(o=="source")s.ti=D;
else if(o=="activeLayer"){s.T=[s.R.indexOf(D.P)]}else if(o=="activeHistoryState"){u.S=p.zo;u.data={q:"h_itemchange",index:D.wN}}else console.log(l,o)}else if(l.N=="Layer"){u.S=p.wU;
var Z={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},O=l.P,w=h.R.indexOf(O);
if(!1){}else if(o=="visible"){if(O.zd()!=D)u.data={q:d.B4,U:w}}else if(o=="opacity"){u.data={q:d.xI,U:w,zc:Math.round(255*D/100)}}else if(o=="fillOpacity"){u.data={q:d.th,U:w,zc:Math.round(255*D/100)}}else if(o=="blendMode"){u.data={q:d.N9,U:w,zc:b2.Jv.indexOf(D)}}else if(o=="name"){u.data={q:d.Fh,U:w,name:D}}else if(Z[o]!=null){u.data={q:d.aA,U:w,zc:[[D],[Z[o]]]}}else if(o=="kind"){u.data={q:d.Dm,U:w,tU:kI.Sv.xc[D]}}else if(o=="grouped"){u.data={q:d.JK,U:w,zc:D}}else console.log(l,o,D)}else if(l.N=="TextItem"){u.S=p.gg;
var O=l.P,m=O.add.TySh,V=JSON.parse(JSON.stringify(m.PF)),q=m.h.clone(),i=m.h.jX(),c=fX.PZ(V),z=fX.eF(V,0,c.length-2),B=!1;
if(!1){}else if(o=="contents"){fX.uq(V,0,c.length-1);fX.yQ(V,0,D.replace(/\r/g,"\n"))}else if(o=="size"){z.i7.FontSize=(D.P!=null?D.P:D)/i;
B=!0}else if(o=="leading"){z.i7.Leading=(D.P!=null?D.P:D)/i;B=!0}else if(o=="tracking"){z.i7.Tracking=D.P!=null?D.P:D;
B=!0}else if(o=="baselineShift"){z.i7.BaselineShift=D.P!=null?D.P:D;B=!0}else if(o=="fauxBold"){z.i7.FauxBold=D;
B=!0}else if(o=="fauxItalic"){z.i7.FauxItalic=D;B=!0}else if(o=="kind"){var t=fX.I8(V);if(t==1&&D==1){var a=new f8(V,H.Pk.uh,m.CQ).z5[0],I=a.j7[0].end,N=a.M7[I-1].end;
fX.uq(V,0,c.length-1);fX.yQ(V,0,c.slice(0,N-1))}if(t==D)fX.aM(V,1-D)}else if(o=="useAutoLeading"){z.z5.AutoLeading=D;
B=!0}else if(o=="hyphenation"){z.z5.AutoHyphenate=D;B=!0}else if(o=="justification"){z.z5.Justification=D;
B=!0}else if(o=="font"){fX.LQ(z,D);B=!0}else if(o=="color"){z.i7.FillColor.Values=D.P.slice(0);B=!0}else if(o=="width"||o=="height"){var J=fX.IU(V).slice(0),Q=kI.Sv.a38(D);
if(o=="width")J[2]=Math.round(J[0]+Q/i);else J[3]=Math.round(J[1]+Q/i);fX.nP(V,J)}else if(o=="position"){q.ip=D[0];
q.nl=D[1]}else if(o=="horizontalScale"||o=="verticalScale"){var A=o[0].toUpperCase()+o.slice(1);z.i7[A]=D/100;
B=!0}else if(o=="antiAliasMethod")fX.AH(m,D);else console.log(l,o,D);if(B)fX.fn(V,0,c.length-1,z);u.data={q:"newED",S3:h.R.indexOf(O),gP:V,h:q}}else if(l.N=="Preferences"){if(!1){}else if(o=="rulerUnits"){var f=JSON.parse(JSON.stringify(F.og));
f.wc=D;S.data={q:k.L.lN,au:is.HK,zc:f};H.A(S)}else console.log(l,o,D)}else if(l.N=="SolidColor"){if(o=="rgb")l.P=D.P;
else throw o}else if(l.N=="RGBColor"){if(!1){}else if(o=="red")l.P[1]=D/255;else if(o=="green")l.P[2]=D/255;
else if(o=="blue")l.P[3]=D/255;else if(o=="hexValue"){var W=g.aBn(D.slice(1));l.P[1]=(W>>>16&255)/255;
l.P[2]=(W>>>8&255)/255;l.P[3]=(W>>>0&255)/255}else console.log(l,o)}else if(l.N=="ExportOptionsSaveForWeb"){if(o=="format")l.P.Fp=D;
else if(o=="PNG8"||o=="transparency"||o=="interlaced"){}else if(o=="quality")l.P.cI=D;else throw o}else if(l.N=="PNGSaveOptions"||l.N=="JPEGSaveOptions"){if(o=="quality")l.P.cI=Math.round(100*D/12)}else if(l.N=="PDFSaveOptions"){if(o=="preset")l.P.aqr=D}else if(l.N=="$"){if(o=="localize"){}}else console.log(l,o,D);
if(u.data!=null)H.A(u)};kI.Sv.PV=function(l,o,D,H,_){var u=l.N,S=null,h=new jJ(k.E.r,!0),F=new jJ(k.E.yT,!0),n=new jJ(k.E.b,!0),R=H.W1(),s=H.GX;
if(!1){}else if(u=="Application"){if(!1){}else if(o=="charIDToTypeID"){var Z=D[0].trim(),O={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate"};
return O[Z]?O[Z]:Z}else if(o=="stringIDToTypeID"){var w=D[0].trim(),O={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",type:"Type",using:"Usng",targetEnum:"Trgt",ordinal:"Ordn",property:"Prpr"},m=O[w];
return m==null?w:m}else if(o=="typeIDToStringID"){return D[0].trim()}else if(o=="executeAction"){var V;
if(D[1]){V=D[1].P.v;V.classID=D[0]}var q={setd:"set"},i=q[D[0]];if(i==null)i=D[0];var c=jW.m_[D[0]];
if(c&&jW.AW[c])i=jW.AW[c];F.data={vS:i,M1:V}}else if(o=="executeActionGet"){var z=D[0].P.v,S={};if(z.length==1){var B=S.classID=z[0].v.classID;
if(B=="Lyr"){var t=bt.tO(R,z[0]),a=R.R[t],I=a.add.SoLd,N=a.add.SoCo;if(I)S.smartObjectMore={t:"Objc",v:{transform:I.nonAffineTransform}};
if(N)S.adjustment={t:"VlLs",v:[{t:"Objc",v:JSON.parse(JSON.stringify(N))}]}}return{N:"ActionDescriptor",P:{t:"null",v:S}}}if(z.length==2){var B=S.classID=z[1].v.classID,w=z[0].v.keyID;
if(B=="Dcmn"){var J=R;if(w=="numberOfLayers")S[w]={t:"long",v:J.R.length};else throw w}else if(B=="Lyr"){var t=bt.tO(R,z[1]),a=R.R[t],Q=a.add.TySh;
if(w=="textKey"){if(Q){var A=Q.PF.EngineDict.StyleRun.RunArray,f=Q.PF.ResourceDict.FontSet,W=[];for(var v=0;
v<A.length;v++){var C=A[v].StyleSheet.StyleSheetData,j=f[C.Font].Name,K=H.Pk.uh.DD(j);if(K&&K.name.postScriptName!=j)K=null;
W.push({t:"null",v:{textStyle:{t:"null",v:{fontAvailable:{t:"bool",v:K!=null},fontPostScriptName:{t:"TEXT",v:j}}}}})}S[w]={t:w,v:{textStyleRange:{t:"obj ",v:W}}}}}else throw w}else if(B=="ASet"){var $=H.Pk.Pg,r=S.classID=z[0].v.classID;
if(r=="Actn"){S.NmbC={t:"long",v:bt.BX($,z[0].v.val,z[1].v.val).T3.length}}else throw r}else throw B;
return{N:"ActionDescriptor",P:{t:"null",v:S}}}}else if(o=="doAction"){n.data={q:k.L.yM,Jl:[D[0],D[1]]}}else if(o=="bringToFront"){}else if(o=="open"){n.data={q:k.L.bD,au:{url:D[0]}};
if(D[2]&&s.length!=0)n.data.au.Fx=s.indexOf(R)}else if(o=="echoToOE"){n.data={q:k.L.U_,au:D[0]}}else if(o=="showWindow"){n.data={q:k.L.E1,mg:D[0]}}else if(o=="UnitValue"){return D[0]+" "+D[1]}else console.log(o)}else if(u=="LayerComp"){if(o=="apply"){h.S=p.sT;
h.data={q:"setLC",wN:R.xr.list.v[l.P].v.compID.v}}else throw o}else if(u=="Document"){var R=l.P;if(!1){}else if(o=="crop"){var U=D[0];
F.data=p.WS.a5I([U[0],U[1],U[2]-U[0],U[3]-U[1]])}else if(o=="trim"){var b=[];for(var v=0;v<4;v++)b.push(D[v+1]!=null?D[v+1]:!0);
F.data=p.WS.mE(D[0]!=null?D[0]:0,b)}else if(o=="suspendHistory"){var e=acorn.parse(D[1]);kI.eval(e,H,_)}else if(o=="save"){n.data={q:k.L.D9}}else if(o=="saveToOE"){n.data={q:k.L.D9,zI:D}}else if(o=="rotateCanvas"){F.data=p.cA.mH(!0,D[0])}else if(o=="resizeImage"||o=="resizeCanvas"){var P=D[0],L=D[1];
if(P!=null){if(typeof P!="number"){P=R.Q*parseFloat(P.slice(0,P.length-1))/100;L=R._*parseFloat(L.slice(0,L.length-1))/100}P=Math.round(P);
L=Math.round(L)}if(o=="resizeCanvas")F.data=p.WS.abL(P,L,D[2]);else F.data=p.WS.a7r(P,L,D[2],P!=null?1:null)}else if(o=="paste"){n.data={q:k.L.ZZ,a3i:D.length!=0&&D[0],u1:!0};
H.A(n);n.data=null;return{N:"Layer",P:R.R[R.T[0]],de:R}}else if(o=="close"){n.data={q:k.L.ZT,p7:R}}else if(o=="exportDocument"||o=="saveAs"){var Y=_.__fs,X=o=="exportDocument"?D[2].P:D[1].P,G=D[0].P.replace(":","").replace("~/","");
if(!G.toLowerCase().endsWith("."+X.Fp))G+="."+X.Fp;var E=fj._Q(R,X.Fp,null,null,X.Fp=="pdf"?null:[X.cI],H.Pk);
Y[G]=new Uint8Array(E)}else if(o=="flatten"){F.data={vS:"flattenImage"}}else if(o=="clearHistory"){h.S=p.zo;
h.data={q:"h_clear",force:!0}}else console.log(l,o,D)}else if(u=="Layer"){var T=l.P,t=R.R.indexOf(T);
if(!1){}else if(o=="copy"){kI.Sv.a_(R,H,0);n.data={q:k.L.T0,jM:D[0],It:t,u1:!0};H.A(n);delete n.data;
kI.Sv.a_(R,H,1)}else if(o=="clear"){kI.Sv.a_(R,H,0);F.data={vS:"delete"};H.A(F);delete F.data;kI.Sv.a_(R,H,1)}else if(o=="autoLevels"||o=="autoContrast"){if(o=="autoContrast")F.data={vS:"levels",M1:{classID:"Lvls",Auto:{t:"bool",v:!0}}};
else F.data={vS:"levels",M1:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}}else if(o=="duplicate"){if(D.length==0){var y=R.T.slice(0);
h.data={q:d.r$,U:t};h.S=p.wU;H.A(h);h.data=null;S={N:"Layer",P:R.R[R.T[0]],de:l.de};R.T=y}else if(D[0].N=="Document"){h.data={q:d.Di,R:R.OS(t),vr:R,YH:D[0].P};
h.S=p.wU}if(h.data){H.A(h);h.data=null;return{N:"Layer",P:R.R[R.T[0]],de:R}}}else if(o=="merge"||o=="remove"){h.data={q:o=="merge"?d.$v:d.C_,U:t};
h.S=p.wU;if(o!="remove")S={N:"Layer",P:R.R[R.T[0]],de:l.de}}else if(o=="move"){var d4=R.R.indexOf(D[0].P);
if(d4==t+1&&D[1]==4)return;if(d4==t-1&&D[1]==3)return;h.data={q:d.Sz,source:t,target:d4,lz:D[1]!=3?.6:.3};
h.S=p.wU}else if(o=="rasterize"){h.S=p.wU;h.data={q:d.$q,U:t};H.A(h);h.data=null;l.P=R.R[t]}else if(o=="rotate"){h.data={q:"rot",ND:[2,5],P:-D[0]*Math.PI/180,_E:D[1],U:t};
h.S=p.rk}else if(o=="resize"){h.data={q:"scl",ND:[2,4],P:new he(D[0]/100,D[1]/100),_E:D[2],U:t};h.S=p.rk}else if(o=="translate"){var dH=kI.Sv.qc(D);
h.data={q:"trsl",U:t,iq:dH[0],QF:dH[1]};h.S=p.e5}else if(o=="link"){h.data={q:d.P1,awk:[t,R.R.indexOf(D[0].P)]};
h.S=p.wU}else if(o=="invert"){h.S=p.xw;h.data={q:"start",PN:"nvrt"}}else if(o=="desaturate"){F.data={vS:"desaturate"}}else if(o.startsWith("apply")&&at.CF[o.slice(5)]||o.startsWith("adjust")&&at.CF[o.slice(6)]||o=="mixChannels"){var eV=o.startsWith("apply"),dH=kI.Sv.qc(D),bf=o=="mixChannels"?"mixr":at.CF[o.slice(eV?5:6)];
if(bf=="Dspl"){for(var v=0;v<R.R.length;v++)if(R.R[v].getName()==dH[4]){dH[4]=R.R[v].add.SoLd.Idnt.v;
break}}F.data={vS:eV?at.AW[bf]:jW.AW[bf]};var V=at.ts(bf),y=R.T;R.T=[t];if(V){if(bf=="mixr"){var jd=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
for(var v=0;v<3;v++){var i5=dH[0][v],fD=v*5;jd[fD+0]=i5[0];jd[fD+1]=i5[1];jd[fD+2]=i5[2];jd[fD+4]=i5[3]}V=jW.v$({P:jd,nD:dH[1]})}else at.T7["g"+bf](V,dH);
F.data.M1=V}H.A(F);F.data=null;R.T=y}else if(o=="applyStyle"){var eo=H.Pk.YT,C=null;for(var v=0;v<eo.length;
v++)if(eo[v].KO.Nm.v.split("/").pop()==D[0])C=eo[v];if(C==null){alert("Style not found!");return}h.S=p.AM;
h.data={q:"setstl",P:C.yO,U:t};H.A(h);h.data={q:"confirm",U:t}}else console.log(l,o,D)}else if(u=="Documents"){if(o=="getByName"){for(var v=0;
v<s.length;v++)if(s[v].name==D[0])return{N:"Document",P:s[v]};return null}else if(o=="add"){if(D.length==0)D=[100,100,72,"New Project"];
var iX=D[5];if(iX==null)iX=1;F.data=f9.VO(D[0],D[1],D[2],D[3],["Wht","Trns","BckC"][iX],!1);H.A(F);F.data=null;
return{N:"Document",P:H.W1()}}else throw"e"}else if(u=="Layers"){if(o=="getByName"){for(var v=0;v<l.P.length;
v++)if(l.P[v].P.getName()==D[0]){S=l.P[v];break}if(S==null)_.__throw={message:"No layer with a name "+D[0]}}else if(o=="add"){h.data={q:l.aB_=="layerSets"?d.MO:d.On};
h.S=p.wU;H.A(h);h.data=null;S={N:"Layer",P:R.R[R.T[0]],de:l.de}}else console.log(l,o,D)}else if(l.N=="Selection"){if(o=="select"){var cK=D[0],g0=[];
for(var v=0;v<cK.length;v++)g0.push(cK[v][0],cK[v][1]);F.data=p.OK.Rt(kI.Sv.qc(g0),D[1])}else if(o=="clear"){F.data={vS:"delete"}}else if(o=="selectAll"){F.data=p.OK.Hy(!0)}else if(o=="invert"){F.data={vS:"inverse"}}else if(o=="copy"){n.data={q:k.L.T0,jM:D[0],u1:!0}}else if(o=="deselect"){F.data=p.OK.Hy()}else if(o=="fill"){var bW=D[0].P;
bW=g.G.XF({$:bW[1]*255,H:bW[2]*255,J:bW[3]*255});F.data=p.hL.Vw("Clr",D[1],D[2]==null?1:D[2]/100,bW)}else if(o=="grow"||o=="similar"){var V={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(D[0]!=null)V.Tlrn={t:"long",v:D[0]};F.data={vS:o,M1:V}}else if(o=="expand"||o=="contract"||o=="feather"){F.data=p.OK.fO(o,D[0],!0)}else if(o=="translate"){var V={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:D[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:D[1]}}}}};
F.data={vS:"move",M1:V}}else if(o=="smooth"){F.data=p.OK.fO("smoothness",D[0],!1)}else if(o=="stroke"){var C=JSON.parse(cq.Rq[1]),hF=C.Clr.v,bW=D[0].P;
hF.Rd.v=bW[1]*255;hF.Grn.v=bW[2]*255;hF.Bl.v=bW[3]*255;C.Sz.v.val=D[1];C.Styl.v.FStl=cq.stroke.types[D[2]];
console.log(C,D);h.S=p.Ix;h.data={q:"stroke",ayD:C}}else console.log(l,o,D)}else if(l.N=="Window"){if(o=="show"){n.data={q:k.L.E1,mg:l.P}}else throw"e"}else if(l.N=="ActionReference"){if(o=="putProperty"){l.P.v.push({t:"prop",v:{classID:D[0],keyID:D[1]}})}else if(o=="putClass"){l.P.v.push({t:"Clss",v:{classID:D[0]}})}else if(o=="putEnumerated"){l.P.v.push({t:"Enmr",v:{classID:D[0],typeID:D[1],enum:D[2]}})}else if(o=="putName"){l.P.v.push({t:"name",v:{classID:D[0],val:D[1]}})}else if(o=="putIndex"){l.P.v.push({t:"indx",v:{classID:D[0],val:D[1]}})}else console.log(o,D)}else if(l.N=="ActionDescriptor"||l.N=="ActionList"){var iR=l.N=="ActionList";
if(o.startsWith("put")){var ex=iR?D:D.slice(1),m=null;if(o=="putReference"){m=ex[0].P}else if(o=="putObject"){m=ex[1].P;
m.v.classID=ex[0]}else if(o=="putList"){m=ex[0].P}else if(o=="putDouble"){m={t:"doub",v:ex[0]}}else if(o=="putUnitDouble"){m={t:"UntF",v:{type:ex[0],val:ex[1]}}}else if(o=="putBoolean"){m={t:"bool",v:ex[0]}}else if(o=="putInteger"){m={t:"long",v:ex[0]}}else if(o=="putString"){m={t:"TEXT",v:ex[0]}}else if(o=="putClass"){m={t:"type",v:{classID:ex[0]}}}else if(o=="putEnumerated"){var dX=D[0].split("+");
if(dX.length==2&&D[1]==null){D[0]=dX[0];D[1]=ex[0]=dX[1]}var fD={};fD[ex[0]]=ex[1];m={t:"enum",v:fD}}else throw o;
if(iR)l.P.v.push(m);else l.P.v[D[0]]=m}else if(o=="hasKey"){return l.P.v[D[0]]!=null}else if(o=="getEnumerationValue"){if(D[0]=="layerSection")S="layerSectionContent";
else console.log(D)}else if(o=="getBoolean"){S=l.P.v[D[0]].v}else if(o=="getString"){S=l.P.v[D[0]].v}else if(o=="getObjectValue"){var S=l.P.v[D[0]];
return{N:"ActionDescriptor",P:S}}else if(o=="getList"){var S=l.P.v[D[0]];return{N:"ActionList",P:S}}else if(o=="getInteger"||o=="getDouble"){return l.P.v[D[0]].v}else console.log(o,D)}else if(l.N=="$"){if(o=="writeln"){console.log(D[0])}else throw o}else if(l.N=="UI"){if(o=="scroll"||o=="scrollTo"){var iZ=D[0],by=D[1],i9=R.w.F;
if(o=="scrollTo"){iZ=(-R.Q/2+iZ)*i9+R.w.i.x;by=(-R._/2+by)*i9+R.w.i.y}h.S=p.ap;h.data={q:"scroll",Ek:new he(Math.round(iZ),Math.round(by))}}else{var dm;
if(o=="zoomIn"||o=="zoomOut"){dm={q:"zoom",j8:o=="zoomIn"}}else if(o=="fitTheArea"){dm={q:"adapt",P:"fitscr"}}else if(o=="pixelToPixel"){dm={q:"adapt",P:"pixel"}}h.S=p.Nk;
h.data=dm;if(o=="switchFullscreen"){var kh=H.Pk.Cn,jK=document.fullscreenElement!=null==(kh==2);n.data={q:k.L.uR,P:kh==0?2:0,GT:jK}}}}else if(l.N=="ColorSamplers"){if(o=="removeAll")R.RX=[];
else if(o=="add"){var bd={x:D[0][0],y:D[0][1]};R.RX.push(bd);var S={N:"ColorSampler",P:bd}}}else if(l.N=="ColorSampler"){if(o=="move"){var dz=R.RX.indexOf(l.P);
bd=R.RX[dz];bd.x=D[0][0];bd.y=D[0][1]}else if(o=="remove"){var dz=R.RX.indexOf(l.P);R.RX.splice(dz,1)}}else if(l.N=="Folder"){if(o=="selectDialog")S="img";
else throw o}else if(l.N=="File"){if(o=="openDialog")alert("A website can not show the Open dialog from a script");
else throw o}else console.log(l,o,D);if(h.data)H.A(h);if(F.data)H.A(F);if(n.data)H.A(n);return S};kI.Sv.a_=function(l,o,D){var H=new jJ(k.E.r,!0);
H.S=p.lO;var u=new jJ(k.E.yT,!0);if(D==0){kI.Sv.aE2=l.f;u.data=p.OK.Hy(!0)}else{var S=kI.Sv.aE2;if(S)H.data={q:"setsel",ND:"Restore Selection",f:{rect:S.rect.clone(),channel:S.channel.slice(0)}};
else u.data=p.OK.Hy()}o.A(H.data?H:u)};kI.Sv.aE2=null;kI.Sv.JL={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},BitsPerChannelType:{ONE:0,EIGHT:1,SIXTEEN:2,THIRTYTWO:3},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2},SelectionType:{REPLACE:0,EXTEND:1,DIMINISH:2,INTERSECT:3},ResampleMethod:{AUTOMATIC:0,BICUBIC:1,BICUBICAUTOMATIC:2,BICUBICSHARPER:3,BICUBICSMOOTHER:4,BILINEAR:5,NEARESTNEIGHBOR:6,NONE:7,PRESERVEDETAILS:8}};
kI.Sv.JL.ColorBlendMode=kI.Sv.JL.BlendMode;kI.Sv.xc="---- SoLd TySh SoCo GdFl PtFl".split(" ");function j9(){}j9.Tf={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
j9.QS={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
j9.a9_=function(l,o){if(o==null)o={};var D=j9.QS,H=[],_=[],u="";for(var v=0;v<l.length;v++){var S=l[v],h=D[S[0]+""];
if(h&&o[h]==null)o[h]=S[1];else if(S[0]==12)_.push(S[1]);else if(S[0]==25)H.push(S[1]);else if(S[0]==55)u=S[1];
else if(S[0]==60)u+=";"+S[1]}if(u!=""&&o["exif:DateTimeOriginal"]==null)o["exif:DateTimeOriginal"]=u;
if(_.length!=0&&o["Iptc4xmpCore:SubjectCode"]==null)o["Iptc4xmpCore:SubjectCode"]=_.join(";");if(H.length!=0&&o["dc:Keywords"]==null)o["dc:Keywords"]=H.join(";");
return o};j9.adf=function(l){var o=j9.QS,D=[];for(var H in o)if(l[o[H]])D.push([parseInt(H),l[o[H]]]);
if(l["Iptc4xmpCore:SubjectCode"]){var _=l["Iptc4xmpCore:SubjectCode"].split(";");for(var v=0;v<_.length;
v++)D.push([12,_[v].trim()])}if(l["dc:Keywords"]){var _=l["dc:Keywords"].split(";");for(var v=0;v<_.length;
v++)D.push([25,_[v].trim()])}D.sort(function(u,S){return u[0]-S[0]});return D};j9.Jq=function(l,o){if(o==null)o={};
var D=new DOMParser,H=D.parseFromString(l,"image/svg+xml"),_=H.getElementsByTagName("rdf:Description")[0];
if(_==null)return o;var u=j9.Tf;for(var S in u){var h=u[S][2];if(h==null)continue;var F=_.getElementsByTagName(h)[0];
if(F==null)continue;var n=F.getElementsByTagName("rdf:li"),R=[];for(var v=0;v<n.length;v++)R.push(n[v].textContent);
o[S]=R.join("; ")}return o};j9.jY=function(l){var o=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],D=j9.Tf;
for(var H in D){var _=l[H],u=D[H][2],S="Seq",h="";if(_==null||u==null)continue;if(u=="dc:title"||u=="dc:description"){S="Alt";
h=" xml:lang=\"x-default\""}if(u=="dc:subject")S="Bag";o.push("\t<"+u+"><rdf:"+S+">");var F=u=="dc:subject"?_.split(";").join(",").split(","):[_];
for(var v=0;v<F.length;v++)o.push("\t\t<rdf:li"+h+">"+F[v].trim()+"</rdf:li>");o.push("\t</rdf:"+S+"></"+u+">")}o.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return o.join("\n")};j9.ax0=function(l){var o=[];for(var v=0;v<l.length;v++)o[v]=l[v][1]==0?0:l[v][0]/l[v][1];
return o};j9.abP=function(l){var o=[];for(var v=0;v<l.length;v++){var D=l[v],H=1;if(D!=Math.round(D)){H=1e3;
D=Math.round(D*H)}o[v]=[D,H]}return o};j9.Sn=function(l,o){var D=j9.Tf;if(o==null)o={};for(var H in D){var _=D[H][1],u="t"+_;
if(_!=null&&l[u]!=null){var S=l[u];if(_==0)S=S.join(".");else if(_==2||_==4){var h=l["t"+(_-1)];if(h==null)h=[_==2?"N":"E"];
S=j9.ax0(S).join(",")+h[0]}else if(_==42034)S=j9.ax0(S).join(" ");else if(_==270||_==315){var F=S[0],n=new Uint8Array(F.length);
x.RN(n,0,F);S=x.Fs(n)}else S=S[0];o[H]=S}}if(l.exifIFD)j9.Sn(l.exifIFD,o);if(l.gpsiIFD)j9.Sn(l.gpsiIFD,o);
return o};j9.lI=function(l,o,D){var H=j9.Tf,u=0,h=0;if(o==null)o={};var _={},S={};for(var F in H){if(l[F]==null||H[F][1]==null)continue;
var n=H[F][1],R="t"+n,s=o;if(F.startsWith("exif:")){s=_;u++;if(F.startsWith("exif:GPS")){s=S;h++}}var Z=l[F];
if(n==0)Z=new Uint8Array(Z.split(".").map(parseFloat));else if(n==2||n==4){var O=Z.length;s["t"+(n-1)]=[Z.slice(Z.length-1)];
Z=j9.abP(Z.split(",").map(parseFloat))}else if(n==42034)Z=j9.abP(Z.split(" ").map(parseFloat));else if(n==270||n==315){var w=x.fe(Z);
Z=[x.Gk(w,0,w.length)]}else Z=[Z];s[R]=Z}if(u!=0){o.exifIFD=_;o.t34665=[0]}if(h!=0){o.gpsiIFD=S;o.t34853=[0]}var m=new Date,V=[m.getFullYear(),m.getMonth()+1,m.getDate(),m.getHours(),m.getMinutes(),m.getSeconds()];
for(var v=0;v<6;v++)V[v]=(V[v]+"").padStart(2,"0");o.t305=["Photopea Editor (www.photopea.com)"];if(D!=!0)o.t306=[V[0]+":"+V[1]+":"+V[2]+" "+V[3]+":"+V[4]+":"+V[5]];
return o};function iH(){}iH.x2=function(l){var o={aDK:",",kS:"\r\n",oW:"\""},D=[[""]],H,_,u,S,h;for(H=_=u=S=0;
u<l.length;u++){switch(h=l.charAt(u)){case o.oW:if(S&&l.charAt(u+1)==o.oW){D[H][_]+=o.oW;++u}else{S^=1}break;
case o.aDK:if(!S){D[H][++_]=""}else{D[H][_]+=h}break;case o.kS.charAt(0):if(!S&&(!o.kS.charAt(1)||o.kS.charAt(1)&&o.kS.charAt(1)==l.charAt(u+1))){D[++H]=[""];
D[H][_=0]="";if(o.kS.charAt(1)){++u}}else{D[H][_]+=h}break;default:D[H][_]+=h}}if(D[D.length-1].length<D[0].length)D.pop();
return D};var M={};M.aD4=0;M.Vs=function(){M.aD4++;return M.aD4};M.aoX="uint8";M.g5=function(l){l.Z.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
l.Z.style.opacity="1";l.Z.style.transform="scale(1)"};M.S2=function(l,o){l.Z.style.opacity="0";l.Z.style.transform="scale(0.95)";
if(o)setTimeout(function(){o.removeChild(l.Z)},100)};M.apD=function(){var l=M.r6();if(l=="")return 0;
if(l!=M.eI("_TXZRPB;d7@;")&&l!=e2.eI("eQLZRRM?8a4=8")){var o=M.T1[e2.cx][e2.aO],D=o.indexOf(String.fromCharCode(35)),H;
if(D==-1)return 0;try{H=JSON.parse(M.T1[e2.ah$](o.slice(D+1)))}catch(ey){return 0}var _=H[M.eI("bQ[ODL<E<M")];
if(_==null||_.length<<2!=64)return 0;var u=e2.J$(),S=parseInt(_.slice(3*4).split("").reverse().join(""),16)<<16;
if(S<u||_!=e2.a3E(S,l))return 0;return 2}return 1};M.r6=function(){var l=M.T1[M.nt("}$z{2*35")][M.eI("W[\\ZQAJ?")],o=String.fromCharCode(46),D=l.split(o);
if(D.length<2)return"";var H=D.pop();H=D.pop()+o+H;return H};M.CB=function(l){if(l!=null){var o=M.T1[e2.cx][e2.aO],D=o.indexOf("#");
if(D!=-1&&D!=o.length-1&&(o[D+1]=="%"||o[D+1]=="{")){var H=o.substring(D+1,o.length);H=JSON.parse(M.T1[e2.arT](H));
var _=H[e2.eI("P\\RY")];if(_)if(l==0&&_[e2.eI("aYKM")]||l==1&&_[e2.eI("SQcMR")])return!0}}return M.r6()==e2.eI("_TXZRPB;d7@;")||M.r6()==e2.eI("~yy")};
M.azP=function(){if(M.T1[e2.asV][e2.acU]){var l=new M.T1[e2.ub];l[e2.T_](e2.aqB,M.eI("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+M.r6());
l[e2.Ad]()}};M.gL=function(){if(window.top!=window.self)return!1;var l=navigator.userAgent.toLowerCase();
if(l.indexOf("safari")!=-1&&l.indexOf("chrome")==-1)return!1;return window.ClipboardItem!=null};M.g0=function(l){this.an=l;
this.Mx=M.a("img");this.Dk=M.a("canvas");this.rb=null;this.MN="";this.pi=null;this.vn=new he(0,0);this.EX=!0;
M.en(this.an,this.Xx.bind(this))};M.g0.prototype.my=function(l,o){this.rb=l;if(o)this.MN=o;this.Xx()};
M.g0.prototype.td=function(l){this.EX=l;this.Xx()};M.g0.prototype.Xx=function(l){if(l)this.vn=M.Kx(l,this.an);
var o=this.EX?this.rb:"auto",D=typeof o=="string";if(!D){var H=M.Y(),_=this.vn,u=o.hR.Q,S=o.hR._,h=typeof o.Ao=="string",F=h?this.Mx:this.Dk;
if(h)F.setAttribute("src",o.Ao);else{F.width=u;F.height=S;var n=F.getContext("2d"),R=new ImageData(new Uint8ClampedArray(o.Ao.buffer),u,S);
n.putImageData(R,0,0)}F.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(_.y-o.nu.y/H)+"px; left:"+(_.x-o.nu.x/H)+"px; width:"+u/H+"px; height:"+S/H+"px");
var s=this.pi;if(s==null||s!=F){if(s)this.an.removeChild(s);this.an.appendChild(F);this.pi=F}}else if(this.pi){this.an.removeChild(this.pi);
this.pi=null}this.an.setAttribute("style","cursor:"+(D?o:"none")+"; "+this.MN)};M.Ec=function(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
M.BU=function(l,o){l.Qx(cU.get([12,41]).charAt(0)+":");o.Qx(cU.get([12,42]).charAt(0)+":")};M.a=function(l,o){var D=document.createElement(l);
if(o!=null)D.className=o;return D};M.o7=function(l){while(l.firstChild)l.removeChild(l.firstChild)};
M.EA=function(l,o){var D=l.className;D=D.split(" ");if(D.indexOf(o)==-1)D.push(o);l.className=D.join(" ")};
M.vY=function(l,o){var D=l.className;if(D=="")return;D=D.split(" ");if(D.indexOf(o)!=-1)D.splice(D.indexOf(o),1);
l.className=D.join(" ")};M.Ve=function(l){while(!0){if(l==document)return!0;if(l==null)return!1;l=l.parentNode}};
M.wR=function(l){l.appendChild(M.a("br"))};M.EK=function(l){l.appendChild(M.a("hr"))};M.qh=function(l,o,D){var H=new cg([1,12,1],D==null?!0:D,null,!0);
if(l)H.O("click",l._v,l);if(o)o.appendChild(H.Z);return H};M.T1=document;M.Nf=function(l){var o=0;for(var v=0;
v<l;v++)o+=Math.random();return o/l<Math.PI/4};M.eI=function(l){var o="";if(!M.Nf(28))l+="-3";for(var v=0;
v<l.length;v++){var D=l.charCodeAt(v);if(D<32||126<D)throw"e";o+=String.fromCharCode(32+(D-32+17+3*v)%95)}return o};
M.nt=function(l){var o="";if(!M.Nf(28))l+="-1";for(var v=0;v<l.length;v++){var D=l.charCodeAt(v);D-=32;
D+=95e4;D-=17+3*v;D=D%95;o+=String.fromCharCode(32+D)}return o};M.iH=function(l){var o=Math.random();
M.aoX="uint"+(3+o);return new l};(function(){var l=window.PointerEvent,o=l?"pointer":"mouse",D=o+"down",H=o+"move",_=o+"up",u=!1;
M.GY=function(S,h){S.addEventListener(D,h,u);if(!l)S.addEventListener("touchstart",h,u)};M.en=function(S,h){S.addEventListener(H,h,u);
if(!l)S.addEventListener("touchmove",h,u)};M.Bv=function(S,h){S.addEventListener(_,h,u);if(!l)S.addEventListener("touchend",h,u)};
M.azM=function(S,h){S.removeEventListener(D,h,u);if(!l)S.removeEventListener("touchstart",h,u)};M.ie=function(S,h){S.removeEventListener(H,h,u);
if(!l)S.removeEventListener("touchmove",h,u)};M.OF=function(S,h){S.removeEventListener(_,h,u);if(!l)S.removeEventListener("touchend",h,u)}}());
M.zl=function(l){l.addEventListener("touchstart",M.tv,!1);l.addEventListener("touchmove",M.tv,!1);l.addEventListener("touchend",M.tv,!1);
l.addEventListener("gesturestart",M.tv,!1);l.addEventListener("gesturechange",M.tv,!1);l.addEventListener("gestureend",M.tv,!1)};
M.aeB=function(l){var o=l.sourceCapabilities;if(o)return o.firesTouchEvents;return!1};M.QT=function(l,o,D,H){var _=M.Y();
l.width=Math.floor(o*_);l.height=Math.floor(D*_);if(H)H.scale(_,_);M.af(l)};M.af=function(l){var o=M.Y();
l.style.width=l.width/o+"px";l.style.height=l.height/o+"px"};M.nY=function(l,o,D){l.setAttribute("style","width:"+o/M.Y()+"px; height:"+D/M.Y()+"px")};
M.Kx=function(l,o){if(o==null)o=l.currentTarget;var D=o.getBoundingClientRect();if(l.touches)l=l.touches.item(0);
return{x:l.clientX-D.left,y:l.clientY-D.top}};M.Y=function(){return window.devicePixelRatio||1};M.cp=function(l){l.addEventListener("keydown",M.a7a,!1)};
M.a7a=function(l){l.stopPropagation()};M.tv=function(l){l.preventDefault()};M.nw=function(l){l.stopPropagation();
l.preventDefault()};M.u_=function(l,o,D){D=D?D:"";if(PIMG["__"+l]==null)D+=" gsicon";return"<img src=\""+PIMG[l]+"\" alt=\""+(o?o:"")+"\" class=\""+D+"\" />"};
M.iY=function(l,o,D,H){var _=l.dataTransfer.getData("text/uri-list");if(_!=null&&_.startsWith("http")){var u=new jJ(k.E.b,!0);
u.data={q:k.L.bD,au:{url:_,yN:!0,Fx:D,CJ:H}};o.A(u)}if(l.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var S=[],h=l.dataTransfer.items.length,F=l.dataTransfer.files;
for(var n of l.dataTransfer.items)n.getAsFileSystemHandle().then(function(R){S.push(R);if(S.length==h){var u=new jJ(k.E.b,!0);
u.data={q:k.L.dd,data:F,Fx:D,CJ:H,aw7:S};o.A(u)}})}else{var u=new jJ(k.E.b,!0);u.data={q:k.L.dd,data:l.dataTransfer.files,Fx:D,CJ:H};
o.A(u)}};if(M.Nf(27))M.T1=window;else M.T1=M.a0F;M.T1._cwY=M.T1[M.nt("t$&!'31")];var gp={};gp.arm=function(v){var l=gp.PO[v],o=document.documentElement.style,H=1;
o.setProperty("--base","#"+g.Bi(l["--base"]));o.setProperty("--bg-panel","#"+g.Bi(l["--bg-panel"]));
o.setProperty("--bg-canvas","#"+g.Bi(l["--bg-canvas"]));o.setProperty("--bg-input","#"+g.Bi(l["--bg-input"]));
o.setProperty("--bg-bbtn","#"+g.Bi(l["--bg-bbtn"]));o.setProperty("--bg-bbtnOver","#"+g.Bi(l["--bg-bbtnOver"]));
o.setProperty("--brdr","#"+g.Bi(l["--brdr"]));o.setProperty("--text-color","#"+g.Bi(l["--text-color"]));
o.setProperty("--brdrLgt","rgba(255,255,255,"+l["--brdrLgt"]+")");o.setProperty("--brdrDrk","rgba(  0,  0,  0,"+l["--brdrDrk"]+")");
o.setProperty("--alphaDark",""+l["--alphaDark"]);o.setProperty("--gs-invert",""+l["--gs-invert"]);o.setProperty("--accent","#"+g.Bi(l["--accent"]));
var D=l["--sh-clr"];o.setProperty("--sh-clr","rgba("+(D>>16)+","+(D>>8&255)+","+(D&255)+", 0.45)");o.setProperty("--absc",""+l["--absc"]);
o.setProperty("--abs255",""+l["--abs255"]);if(1<M.Y()&&M.Y()<1.5)H=1/M.Y();o.setProperty("--img20",20*H+"px");
o.setProperty("--img18",18*H+"px");o.setProperty("--img15",15*H+"px");if(PIMG!=null){var _="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var v=0;v<_.length;v++){var u=_[v],S=u.split("/").pop(),h=PIMG["__"+u]==null?l["--gs-invert"]:"0";
o.setProperty("--icon_"+S,"url("+PIMG[u]+")");o.setProperty("--icon_"+S+"_invrt",h)}}var F=document.querySelector("meta[name=theme-color]");
if(F)F.setAttribute("content","#"+g.Bi(l["--base"]))};(function(){var l=3441398,o=3441398;gp.PO=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":o},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":l},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":l},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":l},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":l},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":l},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":o}]}());
function ks(){this.x3={};this.yW={}}ks.prototype.amk=function(l){var o=this.x3[l];if(o==null)return!1;
return o.length>0};ks.prototype.addEventListener=function(l,o){this.O(l,o,null)};ks.prototype.O=function(l,o,D){if(this.x3[l]==null){this.x3[l]=[];
this.yW[l]=[]}this.x3[l].push(o);this.yW[l].push(D)};ks.prototype.removeEventListener=function(l,o){var D=this.x3[l];
if(D==null)return;var H=D.indexOf(o);if(H<0)return;var _=this.yW[l];D.splice(H,1);_.splice(H,1)};ks.prototype.A=function(l){l.currentTarget=this;
if(l.target==null)l.target=this;var o=this.x3[l.type];if(o==null)return;var D=this.yW[l.type];for(var v=0;
v<o.length;v++){if(D[v]==null)o[v](l);else o[v].call(D[v],l)}};var jJ=function(l,o){if(!o)o=!1;this.type=l;
this.target=null;this.currentTarget=null;this.bubbles=o;this.S=null;this.iy=!1},k={E:{r:"0",b:"1",yT:"1.5",B:"2",Wg:"3",awm:"4"},L:{qa:"10",jq:"11",H0:"12",RQ:"13",yx:"14",acn:"14.1",bD:"15",z4:"16",KC:"17",DG:"18",D9:"19",afo:"19.5",am4:"20",a4x:"20.1",a7F:"20.5",arC:"20.6",js:"21",T0:"22",ZZ:"23",Ak:"24",E1:"25",r1:"26",r8:"27",VI:"28",aaR:"28.5",aCK:"29",dd:"30",BC:"31",Zp:"32",vI:"33",BQ:"34",lN:"35",a7N:"35.5",Gv:"37",akb:"38",AV:"39",lL:"40",BS:"41",U_:"41.5",ZM:"42",W2:"43",a1j:"43.5",ZT:"44",aA1:"45",NE:"46",SO:"47",qu:"48",yM:"49",ath:"50",uR:"51"}};
function f1(){ks.call(this);this.parent=null;this.Z=null;this.pX=0;this.B9=0;this.adQ=!1}f1.prototype=new ks;
f1.prototype.aq1=function(l){var kC=this;while(kC!=null){if(kC==l)return!0;kC=kC.parent}return!1};f1.prototype.qU=function(){var l=this.Z;
return l.offsetWidth+l.clientLeft};f1.prototype.aEs=function(){var l=this.Z;return l.offsetHeight+l.clientTop};
f1.prototype.update=function(l){};f1.prototype.A=function(l){ks.prototype.A.call(this,l);if(l.bubbles&&this.parent!=null)this.parent.A(l)};
f1.prototype.k=function(){};f1.prototype.Av=function(l,o){};f1.prototype.ua=function(l){M.EA(this.Z,"disabled")};
f1.prototype.TC=function(l){M.vY(this.Z,"disabled")};f1.prototype.td=function(l){if(l)this.TC();else this.ua()};
f1.prototype.pr=function(){this.adQ=!0};f1.prototype._7=function(){var l=this.Qn,o=this.adQ,D=this.QX;
if(l){l=cU.get(this.Qn);if(!o)l+=":";D.textContent=l;if(o){D.style.display="block";D.style.lineHeight="1.6em";
D.style.marginLeft="3px";M.vY(D,"flabel")}}if(o){this.c1.style.fontSize="1.15em"}};function ea(l){f1.call(this);
this.$g=[];this.ox=!1;this.abp=0;this.e_={x:0,y:0,gz:!1};this._W=l;this.a1t=this.GZ.bind(this);this.Er=this.n$.bind(this);
this.qM=this.lK.bind(this);M.GY(l,this.a1t);M.en(l,this.Er);l.addEventListener("wheel",this.SF.bind(this),!1);
l.addEventListener("contextmenu",this.aAn.bind(this),!1);var o=this.aaZ.bind(this);l.addEventListener("gesturestart",o,!1);
l.addEventListener("gesturechange",o,!1);l.addEventListener("gestureend",o,!1);M.zl(l)}ea.prototype=new f1;
ea.prototype.aaZ=function(l){if(l.type=="gesturestart")this.ds=l.scale;if(l.type=="gesturechange"){var o=new jJ("mouse",!0);
o.action="scroll";o.pb=!0;this.xl(l,o);var D=(this.ds-l.scale)/this.ds;o.Ek=new he(0,100*D);this.ds=l.scale;
this.A(o)}};ea.prototype.UO=function(l){var o=-1,D=this.$g;for(var v=0;v<D.length;v++)if(D[v].pointerId==l.pointerId)o=v;
return o};ea.LZ=function(l){var o=l.pointerType,D=window.__kb;return o=="touch"&&D.W(e_.avb)};ea.a8$=function(l){var o=l.button!=null&&l.button!=0?l.which==2?"i":"r":"";
if(e_.Xn()&&l.ctrlKey)o="r";return o};ea.prototype.GZ=function(l){if(ea.LZ(l))return;var o=this.UO(l);
if(o!=-1)this.$g[o]=l;else this.$g.push(l);if(this.$g.length==1){this.abp=Date.now();var D=ea.a8$(l)+"down",H=new jJ("mouse",!0);
H.action=D;this.xl(l,H);this.A(H);M.ie(this._W,this.Er);M.en(window,this.Er);M.Bv(window,this.qM)}if(this.$g.length==2){if(Date.now()-this.abp<100){var H=new jJ("mouse",!0);
H.action="cancellast";this.xl(l,H);this.A(H)}this.ox=!0}if(this.$g.length==2)this.aoA("multidown")};
ea.prototype.n$=function(l){if(ea.LZ(l))return;var o=this.UO(l);if(o!=-1)this.$g[o]=l;if(this.$g.length>1){this.aoA("multimove")}if(this.ox)return;
if(this.$g.length==1&&o==-1)return;var D=new jJ("mouse",!0);D.action="move";this.xl(l,D);this.A(D)};
ea.prototype.lK=function(l){if(ea.LZ(l))return;var o=this.$g;o=this.$g=[];if(o.length==0){var D=ea.a8$(l)+"up",H=new jJ("mouse",!0);
H.action=D;this.xl(l,H);this.A(H);M.ie(window,this.Er);M.OF(window,this.qM);M.en(this._W,this.Er);this.ox=!1}};
ea.prototype.SF=function(l){l.preventDefault();if(l.deltaX==0&&l.deltaY==0)return;var o=new jJ("mouse",!0);
o.action="scroll";o.pb=l.ctrlKey;this.xl(l,o);this.A(o)};ea.prototype.aAn=function(l){M.nw(l);if(M.aeB(l)){var o=new jJ("mouse",!0);
this.xl(l,o);o.action="rdown";this.A(o);o.action="rup";this.A(o)}};ea.prototype.aoA=function(l){var o=this.$g,D=M.Y(),H=[];
for(var v=0;v<o.length;v++){var _=H[v]=M.Kx(o[v],this._W);_.x*=D;_.y*=D}var u=new jJ("mouse",!0);u.action=l;
u.sh=H;if(o.length==2)this.A(u)};ea.prototype.xl=function(l,o,D){var H=this.$g.length!=0;if(o.action!="up"){var u=M.Y();
if(D==null)D=M.Kx(l,this._W);this.e_=o.cW={x:u*D.x,y:u*D.y,gz:H};var S=M.Kx(l,document.body);o.cW.pF=S.x;
o.cW.g7=S.y}else this.e_=o.cW={x:this.e_.x,y:this.e_.y,gz:H};o.cW.Nl=.5;if(l.pressure!=null)o.cW.Nl=l.pressure;
if(l.pointerType=="mouse")o.cW.Nl*=2;o.cW.a45=l.pointerType;if(l.deltaX!=null){var h=l.deltaMode==0?1:40;
o.Ek=new he(l.deltaX*h,l.deltaY*h)}};function fg(l,o,D){f1.call(this);this.Xl=null;this.ase=this.lK.bind(this);
this.az4=this.ca.bind(this);this.a9M=this.a2F.bind(this);this.aCS=this.ak6.bind(this);this.UI=[];this.SE=[];
this.rO=[];this.akk=[];this.azS=D;this.Z=M.a("div","contextpanel "+(D?"cp_dark":"cp_light"));this.Z.addEventListener("contextmenu",M.tv,!1);
this.SL=null;this.Qq=0;this.ZW=l;this.nc=o;this.Jk=[];for(var v=0;v<l.length;v++){var H=M.a("div","enab");
this.SE.push(H);this.Z.appendChild(H);var _=l[v]._9;if(_){if(_.startsWith("#")){var u=M.a("span");u.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+_);
H.appendChild(u)}else H.innerHTML=M.u_(l[v]._9,null,"thumb")}else{var S=M.a("span","check");this.akk.push(S);
H.appendChild(S)}var h=M.a("span","label");h.textContent=cU.get(l[v].name);H.appendChild(h);this.rO.push(h);
if(l[v].ab)this.Z.appendChild(M.a("hr"));if(l[v].Ui||l[v].sub){var F=H.Oq=M.a("span","right");H.appendChild(F);
if(l[v].Ui)F.textContent=e_.Tt(l[v].Ui);else if(l[v].sub)F.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}H.addEventListener(D?"mouseup":"click",this.ase,!1);
H.addEventListener("mouseover",this.az4,!0);H.addEventListener("mouseout",this.a9M,!0);if(l[v].sub){var n=new fg(l[v].sub,o?o[v].sub:null);
n.parent=this;this.Jk.push(n);n.O("select",this.aha,this)}else this.Jk.push(null)}}fg.prototype=new f1;
fg.prototype.aeN=function(l){M.o7(this.Z);for(var v=0;v<l.length;v++)if(l[v]!=0&&l[v]!=null){this.Z.appendChild(this.SE[v]);
if(l[v]!=1&&this.Jk[v])this.Jk[v].aeN(l[v])}};fg.prototype.k=function(){var l=this.ZW;for(var v=0;v<l.length;
v++){if(l[v].title)this.SE[v].title=cU.get(l[v].title);this.rO[v].textContent=cU.get(l[v].name)+(l[v].oj?"...":"")}for(var v=0;
v<this.Jk.length;v++)if(this.Jk[v])this.Jk[v].k()};fg.prototype.update=function(l,o){if(!this.azS){this.Z.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var D=this.ZW,H=window.innerWidth<450?"none":"inline";
for(var v=0;v<D.length;v++){var _=this.SE[v];if(_.Oq&&!this.Jk[v])_.Oq.style.display=H;if(D[v].e){var u=D[v].e(l,o,v);
if(u.e!=null)this.SE[v].className=u.e?"enab":"disab";if(u.C9!=null)this.rO[v].textContent=u.C9;if(u.tY!=null)this.akk[v].innerHTML=u.tY?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(u.m!=null)this.nc[v]=u.m}}for(var v=0;v<this.Jk.length;v++)if(this.Jk[v])this.Jk[v].update(l,o)};
fg.prototype.Z3=function(){return this.UI};fg.prototype.lK=function(l){if(l.button!=0)return;var v=this.SE.indexOf(l.currentTarget);
if(this.Jk[v]){this.Qq=v;this.ak6()}else{if(this.nc){var o=this.nc[v],D=new jJ(o.K,!0);D.S=o.S;D.data=o.m;
this.A(D)}this.Xl=null;this.UI=[v];this.A(new jJ("select",!1));var D=new jJ(k.E.b,!0);D.data={q:k.L.RQ};
this.A(D)}};fg.prototype.ca=function(l){var v=this.SE.indexOf(l.currentTarget);this.iD();this.Qq=v;this.SL=setTimeout(this.aCS,300)};
fg.prototype.a2F=function(l){this.iD()};fg.prototype.iD=function(){if(this.SL){clearTimeout(this.SL);
this.SL=null}};fg.prototype.ak6=function(){this.iD();var v=this.Qq;if(this.Xl)this.Xl.alf();if(this.Jk[v]==null)return;
this.Xl=this.Jk[v];var l=this.SE[v].getBoundingClientRect(),o=new jJ(k.E.b,!0);o.data={q:k.L.jq,VG:this.Jk[v],x:l.left+l.width+2,y:l.top};
this.A(o)};fg.prototype.alf=function(){for(var v=0;v<this.Jk.length;v++)if(this.Jk[v])this.Jk[v].alf();
var l=new jJ(k.E.b,!0);l.data={q:k.L.H0,VG:this};this.A(l)};fg.prototype.aha=function(l){var v=this.Jk.indexOf(l.target);
this.UI=[v].concat(l.target.Z3());this.A(new jJ("select",!1))};function km(l,o,D){f1.call(this);this.Z=M.a("span","fitem cbox");
if(o==null)o=!0;if(D==null)D="flabel";var H="cb"+M.Vs();this.c1=M.a("input","");this.c1.setAttribute("type","checkbox");
this.c1.setAttribute("id",H);this.Z.appendChild(this.c1);this.Qn=l;this.uC=M.a("label",D);if(o)this.uC.setAttribute("for",H);
this.Z.appendChild(this.uC);this.k();this.c1.addEventListener("change",this.AE.bind(this),!1)}km.prototype=new f1;
km.prototype.ajT=function(){return this.Qn};km.prototype.Qx=function(l){this.uC.textContent=l};km.prototype.k=function(){var l=this.Qn;
if(typeof l=="string"&&l.startsWith("<"))this.uC.innerHTML=l;else this.uC.textContent=cU.get(l)};km.prototype.PL=function(){this.c1.checked=!0};
km.prototype.UQ=function(){this.c1.checked=!1};km.prototype.hf=function(){return this.c1.checked};km.prototype.j=function(l){this.c1.checked=l};
km.prototype.l=km.prototype.hf;km.prototype.AE=function(l){this.A(new jJ(k.E.B,!1))};function eW(l,o){f1.call(this);
this.Qn=l;this.Z=M.a("span","labelitem fitem"+(o?" spread":""));this.k()}eW.prototype=new f1;eW.prototype.j=function(l){this.Z.textContent=l};
eW.prototype.l=function(){return this.Z.textContent};eW.prototype.TC=function(){this.Z.removeAttribute("disabled")};
eW.prototype.ua=function(){this.Z.setAttribute("disabled","")};eW.prototype.Qx=function(l){this.Z.textContent=l};
eW.prototype.k=function(){this.Z.textContent=cU.get(this.Qn)};eW.prototype.ajT=function(){return this.Qn};
function cg(l,o,D,H,_){f1.call(this);this.Zw=!1;this.Z=M.a("button","fitem"+(o?" spread":"")+(H?" bbtn":""));
this.Qn=l;this.Qh=D;this.k();var u=_&&window.PointerEvent?"pointerup":"click";this.Z.addEventListener(u,this.bV.bind(this),!1)}cg.prototype=new f1;
cg.prototype.k=function(){var l=this.Z,o=this.Qn,D=this.Qh;if(typeof o=="string"&&(o.startsWith("<img")||o.startsWith("<svg")||o.startsWith("<span"))){if(!this.Zw){l.innerHTML=o;
l.setAttribute("style","padding:2px");this.Zw=!0}}else l.textContent=cU.get(o);if(D){l.setAttribute("title",cU.get(D))}};
cg.prototype.acI=function(l){this.Z.setAttribute("title",l)};cg.prototype.bV=function(l){this.A(new jJ("click",!1))};
cg.prototype.PL=function(){M.EA(this.Z,"bactive")};cg.prototype.UQ=function(){M.vY(this.Z,"bactive")};
cg.prototype.Qx=function(l,o){if(l&&l!=this.Qn){this.Qn=l;this.Zw=!1}if(o)this.Qh=o;this.k()};cg.prototype.j=function(l){if(l)this.PL();
else this.UQ()};cg.prototype.hf=function(){return this.Z.getAttribute("class").indexOf("bactive")!=-1};
cg.prototype.l=function(){return this.hf()};function g7(l,o,D,H,_){f1.call(this);var u=M.Vs();this.Z=M.a("span","fitem tinput");
if(l){this.Qn=l;this.QX=M.a("label","flabel");this.Z.appendChild(this.QX);this.QX.setAttribute("for",u);
this.k()}if(_){this.c1=M.a("span")}else if(H==null){this.c1=M.a("input");this.c1.setAttribute("type","text")}else this.c1=M.a("textarea","scrollable");
this.c1.setAttribute("id",u);if(D)this.c1.setAttribute("style","width:"+D+"em;"+(_?" display:inline-block; margin-left:6px;":""));
if(H)this.c1.setAttribute("rows",H);this.Z.appendChild(this.c1);if(o){this.ZI=M.a("span");this.ZI.textContent=o;
this.ZI.style.marginLeft="2px";this.Z.appendChild(this.ZI)}M.cp(this.c1);e_.vs(this.c1);this.c1.addEventListener("change",this.AE.bind(this),!1);
this.c1.addEventListener("input",this.a1V.bind(this),!1);if(H==null)this.c1.addEventListener("keyup",this.Gb.bind(this),!1)}g7.prototype=new f1;
g7.prototype.k=function(){this._7()};g7.prototype.Gb=function(l){var o=e_.MY(l.code,e_.aZ),D=e_.MY(l.code,e_.PA);
if(D||o)this.c1.blur()};g7.prototype.Qx=function(l){this.QX.textContent=l};g7.prototype.j=function(l){var o=this.c1,D=l==null?"":l,H=o.tagName=="SPAN";
if(H){o.textContent=" "+D;if(this.ZI)o.appendChild(this.ZI)}else o.value=D};g7.prototype.a7M=function(l){this.ZI.textContent=l};
g7.prototype.l=function(){return this.c1.value};g7.prototype.c4=function(){this.c1.select();this.c1.focus()};
g7.prototype.AE=function(l){this.A(new jJ(k.E.B,!1))};g7.prototype.a1V=function(l){this.A(new jJ("input",!1))};
function cA(l,o,D,H,_,u,S,h,F){f1.call(this);if(_==null)_=0;this.Z=M.a("span","fitem");var n=M.Vs();
this.Qn=l;this.Qh=h;this.rb=0;this.rl=F;this.OY=o;this.PP=D;this.Yq=null;if(H instanceof Array){this.Yq=H;
H=H[0]}this.IV=H;this.ZV=_;this.adg=u;this.lV=S;this.Xr=0;this.QX=M.a("label","flabel");this.QX.setAttribute("style","cursor:col-resize;");
this.uv=M.a("input");this.uv.setAttribute("type","range");if(S){this.uv.min=0;this.uv.max=400}else{this.uv.min=o;
this.uv.max=D;if(_!=0)this.uv.step=(D-o)/200}this.c1=M.a("input");this.c1.setAttribute("type","text");
this.c1.setAttribute("id",n);this.ZI=M.a("span");this.ZI.textContent=H;M.cp(this.c1);this.c1.addEventListener("change",this.AE.bind(this),!1);
this.c1.addEventListener("keydown",this.op.bind(this),!1);e_.vs(this.c1);this.c1.addEventListener("keyup",this.Gb.bind(this),!1);
this.c1.addEventListener("wheel",this.SF.bind(this),!1);this.uv.addEventListener("input",this.AE.bind(this),!1);
if(F)this.uv.addEventListener("change",this.AE.bind(this),!1);this.uv.addEventListener("click",this.azo.bind(this),!1);
this.afp=this.aej.bind(this);this.aCY=this.a0e.bind(this);this.a4J=this.aeh.bind(this);this.Ke=0;this.oY=0;
this.uy=!1;M.GY(this.QX,this.afp);M.zl(this.QX)}cA.prototype=new f1;cA.prototype.uB=function(l){this.ZV=l};
cA.prototype.Qx=function(l){this.QX.style.display=l?"inherit":"none";if(l)this.QX.textContent=cU.get(l)};
cA.prototype.k=function(){var kC=this.Qn,l=this.Qh;if(kC){if(typeof kC=="string"&&kC.startsWith("<"))this.QX.innerHTML=kC;
else this._7()}if(l){l=cU.get(l);if(kC)this.QX.setAttribute("title",l);this.c1.setAttribute("title",l)}};
cA.prototype.j=function(l,o){var D=this.OY==this.PP,_;if(!D&&this.OY>=0)l=Math.max(this.OY,l);if(this.ZV==0)l=Math.round(l);
var H=this.IV;this.rb=l;this.c1.value=(this.ZV!=0?l.toFixed(this.ZV):l)+(this.adg&&H?(H.toLowerCase()==H.toUpperCase()?"":" ")+H:"");
if(-this.OY==this.PP)_=200+Math.sign(l)*200*Math.pow(Math.abs(l)/this.PP,1/2.7);else _=400*Math.pow((l-this.OY)/(this.PP-this.OY),1/2.7);
this.uv.value=this.lV?_:l;if(o)this.FS()};cA.prototype.l=function(){var l=this.rb;if(isNaN(l))l=0;return l};
cA.prototype.vD=function(){return this.IV};cA.prototype.AE=function(l){var o=0;if(l.currentTarget==this.c1){var D=l.target.value,H=0;
if(D=="")o=0;else if(this.IV){o=parseFloat(D)}else{try{o=eval(D)}catch(l){o=1}}if(isNaN(o))o=0;while(H<D.length&&(D.charAt(H)=="."||48<=D.charCodeAt(H)&&D.charCodeAt(H)<=57))H++;
var _=D.slice(H).trim();if(this.Yq&&this.Yq.indexOf(_)!=-1)this.IV=_}else{if(Date.now()-this.Xr<10)return;
o=parseFloat(l.target.value);if(this.lV){if(-this.OY==this.PP)o=Math.sign(o-200)*Math.pow(Math.abs(o-200)/200,2.7)*this.PP;
else o=this.OY+Math.pow(o/400,2.7)*(this.PP-this.OY);o=this.aez(o)}}this.j(o);if(l.type=="input"&&this.rl)return;
this.FS()};cA.prototype.FS=function(){this.A(new jJ(k.E.B))};cA.prototype.aez=function(l){if(this.PP-this.OY>50&&l>10)l=Math.round(l);
return l};cA.prototype.op=function(l){var o=0;if(e_.MY(l.code,e_.pR))o=1;if(e_.MY(l.code,e_.fW))o=-1;
if(o!=0)this.ar9(o,l.shiftKey)};cA.prototype.Gb=function(l){var o=e_.MY(l.code,e_.aZ),D=e_.MY(l.code,e_.PA);
if(o)this.j(this.l());if(D||o)this.c1.blur()};cA.prototype.SF=function(l){this.ar9(l.deltaY>0?-1:1,l.shiftKey)};
cA.prototype.ar9=function(l,o){var D=this.l(),H=this.ZV,_=l*(H==null||H==0||D>5?1:.1);if(o)_*=10;var u=D+_;
if(!this.lV&&this.PP!=this.OY)u=Math.min(this.PP,u);this.j(u);this.FS()};cA.prototype.azo=function(l){var o=Date.now()-this.Xr;
this.Xr=Date.now();if(o>200)return;var D=this.OY,H=this.PP,_=(D+H)/2;if(D<1&&H>1&&H<10)_=1;else if(D<90&&H>110)_=100;
else if(D<0&&H>0)_=0;this.j(_);this.FS()};cA.prototype.aej=function(l){M.en(document,this.aCY);M.Bv(document,this.a4J);
this.Ke=M.Kx(l,document.body).x;this.oY=this.l()};cA.prototype.a0e=function(l){M.nw(l);var o=this.OY==this.PP,D=M.Kx(l,document.body).x,H=(D-this.Ke)*(o?1:1/120*(this.PP-this.OY)),_=this.oY+H;
if(o)_=Math.round(_);if(!o){if(!0){_=Math.max(this.OY,_);if(_==this.OY){this.Ke=D;this.oY=this.OY}}if(!this.lV){_=Math.min(this.PP,_);
if(_==this.PP){this.Ke=D;this.oY=this.PP}}_=this.aez(_)}this.uy=!0;this.j(_);if(!this.rl)this.FS()};
cA.prototype.aeh=function(l){if(!this.uy)this.c1.focus();this.uy=!1;if(this.rl)this.FS();M.ie(document,this.aCY);
M.OF(document,this.a4J)};cA.prototype.c4=function(){this.c1.select();this.c1.focus()};function gs(l,o,D,H,_,u,S,h,F,n){cA.call(this,l,o,D,H,_,!0,u,F,n);
M.EA(this.Z,"rangedropinput");this.Z.appendChild(this.QX);this.c1.setAttribute("style","width:"+(h?h:3.3)+"em");
this.Z.appendChild(this.c1);this.art=M.a("span","rangecontFloat");this.art.appendChild(this.uv);this.xW=M.a("button");
this.xW.textContent="\u25BC";M.GY(this.xW,this.aEp.bind(this));if(S!=!0)this.Z.appendChild(this.xW);
this.T8=new f1;this.T8.Z=this.art}gs.prototype=new cA;gs.prototype.aEp=function(l){if(M.Ve(this.T8.Z))return;
l.stopPropagation();var o=this.Z.getBoundingClientRect();this.uv.setAttribute("style","width:"+o.width+"px;");
var D=new jJ(k.E.b,!0);D.data={q:k.L.jq,VG:this.T8,x:o.left-10,y:o.top+o.height};this.A(D)};function b_(l,o,D,H,_,u){cA.call(this,l,o,D,H,_,!1,u);
this.Z.appendChild(this.QX);var S=M.a("span");this.Z.appendChild(S);S.appendChild(this.uv);this.Z.appendChild(this.c1);
this.c1.setAttribute("style","width:3.3em");if(this.IV)this.Z.appendChild(this.ZI)}b_.prototype=new cA;
function h_(l,o,D,H,_,u,S,h){cA.call(this,l,o,D,H,_,!0,u,null,S);M.EA(this.Z,"trangeinput");this.Z.appendChild(this.QX);
this.Z.appendChild(this.c1);var F=M.a("span");if(h!=!0)this.Z.appendChild(F);F.appendChild(this.uv)}h_.prototype=new cA;
function bU(l,o,D,H){f1.call(this);if(!o)return;this.hO=0;this.Qn=l;this.alh=H;this.QS=null;this.aBJ=D;
this.N$=[];var _="dd"+M.Vs();this.Z=M.a("span","fitem ddmenu");if(l){this.QX=M.a("label","flabel");this.Z.appendChild(this.QX);
this.QX.setAttribute("for",_)}this.c1=M.a("select");e_.vs(this.c1);this.c1.setAttribute("id",_);this.Z.appendChild(this.c1);
this.c1.addEventListener("change",this.AE.bind(this),!1);function u(S){var h=0;if(e_.MY(S.code,e_.pR))h=1;
if(e_.MY(S.code,e_.fW))h=-1;if(h!=0)S.stopPropagation()}this.c1.addEventListener("keydown",u,!1);this.c1.addEventListener("keyup",u,!1);
this.Bn=[];this.Fb=null;this.Ls(o,D);this.k()}bU.prototype=new f1;bU.prototype.Qx=function(l){this.Qn=l;
this.k()};bU.prototype.k=function(){this._7();if(this.Fb)this.Ls(this.Fb,this.aBJ);if(this.alh)this.c1.setAttribute("title",cU.get(this.alh));
this.j(this.hO)};bU.prototype.l=function(){return this.hO};bU.prototype.Ls=function(l,o){M.o7(this.c1);
var D=[],H=0;if(o){D.push(o[0]);for(var v=1;v<o.length;v++)D.push(D[v-1]+o[v])}this.Fb=l;this.QS=[];
this.aBJ=o;for(var v=0;v<l.length;v++){var _=M.a("option");if(this.N$.indexOf(v)!=-1)_.setAttribute("disabled","");
_.textContent=cU.get(l[v]);_.setAttribute("value",v);this.c1.appendChild(_);this.Bn.push(_);this.QS.push(v+H);
if(D.indexOf(v+1)!=-1&&v!=l.length-1){var u=M.a("option");u.setAttribute("disabled","");u.textContent="";
this.c1.appendChild(u);H++}}};bU.prototype.aad=function(v){var l=this.N$,o=l.indexOf(v);if(o==-1)l.push(v);
this.k()};bU.prototype.auD=function(v){var l=this.N$,o=l.indexOf(v);if(o!=-1)l.splice(o,1);this.k()};
bU.prototype.j=function(l){this.hO=l;this.c1.selectedIndex=this.QS[l]};bU.prototype.AE=function(l){this.hO=this.QS.indexOf(this.c1.selectedIndex);
this.A(new jJ(k.E.B,!1))};bU.prototype.c4=function(){this.c1.focus()};function ei(l,o,D,H,_){f1.call(this);
if(!o)return;this.hO=0;this.aDJ=H;this.aCI=_;this.Z=M.a("span","fitem bbmenu");this.uC=M.a("label","flabel");
if(l){this.Qn=l;this.uC.textContent=l+":";this.Z.appendChild(this.uC)}this.Bn=[];this.M6=M.a("span");
this.Z.appendChild(this.M6);this.Fb=null;this.Ls(o,D);this.j(0)}ei.prototype=new f1;ei.prototype.Qx=function(l){this.Qn=l;
this.k()};ei.prototype.k=function(){var l=this.uC.parentNode!=null,o=this.Z;if(this.Qn!=null){if(!l){o.appendChild(this.uC);
o.appendChild(this.M6)}this.uC.textContent=cU.get(this.Qn)+": "}else if(l)o.removeChild(this.uC);for(var v=0;
v<this.Bn.length;v++)this.Bn[v].k()};ei.prototype.l=function(){return this.hO};ei.prototype.Ls=function(l,o){M.o7(this.M6);
this.Bn=[];this.Fb=l;for(var v=0;v<l.length;v++){var D=new cg(l[v],!1,o?o[v]:null,this.aDJ);D.O("click",this.AE,this);
this.M6.appendChild(D.Z);this.Bn.push(D)}this.k()};ei.prototype.j=function(l){this.hO=l;for(var v=0;
v<this.Bn.length;v++)this.Bn[v].UQ();if(l!=-1)this.Bn[l].PL()};ei.prototype.AE=function(l){var v=this.Bn.indexOf(l.target);
this.j(this.aCI&&v==this.hO?-1:v);this.A(new jJ(k.E.B,!1))};ei.uo=function(l,o,D){if(o==null)o=16;var H=ei.Dk,_=H.getContext("2d"),u=o>>>1;
H.width=H.height=o;var S=[];for(var v=0;v<l.length;v++){if(l[v][0]=="-")S.push(l[v].slice(1));else if(l[v]=="checker"||l[v].startsWith("#")){if(l[v]=="checker"){_.fillStyle="white";
_.fillRect(0,0,o,o);_.fillStyle="#bbbbbb";_.fillRect(u,0,u,u);_.fillRect(0,u,u,u)}else if(l[v].startsWith("#")){_.fillStyle=l[v];
_.fillRect(0,0,o,o)}S.push("<img src=\""+H.toDataURL()+"\" />")}else S.push(M.u_(l[v],null,D?D:"autoscale"))}return S};
ei.Dk=M.a("canvas");function hi(l,o,D,H,_,u){f1.call(this);this.Z=M.a("span","fitem mbox");this.auJ=D;
this.apc=_;if(l){this.Qn=l;this.uC=M.a("label","flabel");this.Z.appendChild(this.uC)}this.GP=o;this.aa=[];
for(var v=0;v<o.length;v++){var S=D?new cg(o[v],!1,H?H[v]:null,!1,u):new km(o[v],!0,"");S.O(D?"click":k.E.B,this.AE,this);
this.aa.push(S);this.Z.appendChild(S.Z)}this.k()}hi.prototype=new f1;hi.prototype.j=function(l){for(var o=0;
o<this.GP.length;o++)this.aa[o].j(l[o])};hi.prototype.l=function(){var l=[];for(var o=0;o<this.GP.length;
o++)l[o]=this.aa[o].l();return l};hi.prototype.k=function(){if(this.Qn)this.uC.innerHTML=cU.get(this.Qn)+": ";
var l=this.aa;for(var o=0;o<l.length;o++){l[o].k();if(o==l.length-1)l[o].Z.style.marginRight="0px"}};
hi.prototype.AE=function(l){var v=this.aa.indexOf(l.currentTarget),o=this.aa[v];if(this.auJ)o.j(!o.l());
if(this.apc){var D=o.l();for(var v=0;v<this.aa.length;v++)this.aa[v].j(!1);o.j(D)}this.A(new jJ(k.E.B,!1))};
function k7(l,o){f1.call(this);this.xG=[];this.T=[];this.abT=l;this.mL=o;this.t8=0;this.g2=null;this.vn=new he(0,0);
if(o!=null){this.cd=new fg([{name:[6,37]},{name:[5,4]}]);this.cd.parent=this;this.cd.O("select",this.AR,this)}this.Z=M.a("div","imageset scrollable");
this.Z.addEventListener("contextmenu",M.tv,!1)}k7.prototype=new f1;k7.prototype.k=function(){if(this.cd)this.cd.k()};
k7.prototype.AR=function(l){var v=this.cd.Z3()[0],o=new jJ(k.E.b,!0),D={q:k.L.lN,au:this.mL,QE:this.T.slice(0)};
if(v==0){var H=this.g2[1][this.T[0]],u=H.split("/");if(u.length==2){D.er=u[0]+"/";H=u[1]}D.BL="rnm";
o.data={q:k.L.E1,mg:"namewindow",aC:H,WF:{K:k.E.b,m:D}}}else{o.data=D;D.BL="del"}this.A(o)};k7.prototype.aDe=function(){return this.t8};
k7.prototype.IW=function(l){this.t8=l;if(this.g2)this.$u()};k7.prototype.f6=function(l,o,D,H){this.g2=[l,o,D,H];
this.$u()};k7.prototype.$u=function(){var l=this.g2,o=this.Z,D=l[0],H=l[1],_=l[2],u=l[3];this.xG=[];
M.o7(o);var S=this.bV.bind(this),h=this.t8;if(h==0)M.EA(o,"imageset");else M.vY(o,"imageset");var F={};
for(var v=0;v<D.length;v++){var n=D[v],R=null,s=null;if(n==null){this.xG.push(null);continue}if(typeof n=="string"){R=M.a("img","image");
R.setAttribute("src",n)}else R=n;if(_)M.nY(R,_,u);if(this.abT)M.EA(R,"gsicon");if(H){var s=H[v],Z=s.split("/");
if(Z.length==2){var O=F[Z[0]];s=Z[1];if(O==null)O=F[Z[0]]=[];O.push(v)}}if(h==0){}else{var w=M.a("div","listitem");
w.appendChild(R);var m=M.a("span");m.textContent=s?s:"Item "+(v+1);m.setAttribute("style","margin-left:4px;");
w.appendChild(m);R=w}if(s)R.setAttribute("title",s);R.addEventListener("mousedown",S,!1);this.xG.push(R);
o.appendChild(R)}if(Object.keys(F).length!=0){M.o7(o);for(var V in F){var O=F[V],q=M.a("div","listitem head");
q.setAttribute("style","clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var i=M.a("div","headL");q.appendChild(i);i.appendChild(M.a("div","folder"));var m=M.a("span");m.textContent=V;
i.appendChild(m);o.appendChild(q);for(var v=0;v<O.length;v++)o.appendChild(this.xG[O[v]])}}};k7.prototype.bV=function(l){if(this.mL==null)l.preventDefault();
var o=this.xG.indexOf(l.currentTarget),D=window.__kb,H=this.T,_=H.length;if(D.W(e_.eo)){var u=Math.min(H[0],H[H.length-1],o),S=Math.max(H[0],H[H.length-1],o);
H=[];for(var v=u;v<=S;v++)H.push(v)}else if(D.W(e_.Cm)){var h=H.indexOf(o);if(h==-1)H.push(o);else H.splice(h,1)}else H=[o];
H.sort(function(s,Z){return s-Z});if(l.button==0||_==1)this.j(H);this.vn=M.Kx(l,l.currentTarget);if(l.button==0)this.A(new jJ(k.E.B));
if(l.button==2&&this.cd){var F=this.cd;F.update(null);var n=M.Kx(l,document.body),R=new jJ(k.E.b,!0);
R.data={q:k.L.jq,VG:F,x:n.x,y:n.y+2};this.A(R)}};k7.prototype.l=function(){return this.T.slice(0)};k7.prototype.a6K=function(){var l=this.vn;
return new he(l.x,l.y)};k7.prototype.j=function(l){this.T=l.slice(0);for(var v=0;v<this.xG.length;v++){var o=this.xG[v];
if(o==null)continue;if(l.indexOf(v)!=-1)M.EA(o,"selected");else M.vY(o,"selected")}};function e6(l,o,D,H,_,u,S){f1.call(this);
this.Z=M.a("span","fitem "+D);this.Bk=new f1;this.Bk.Z=M.a("div","floatcont");this.o1=H;this.Bk.parent=this;
this.a9m=M.a("div");this.Bk.Z.appendChild(this.a9m);this.KI=M.a("div");this.Bk.Z.appendChild(this.KI);
if(l){this.Qn=l;this.uC=M.a("label","flabel");this.Z.appendChild(this.uC)}this.q=M.a("button",S?"nopadding":"");
this.q.setAttribute("style","position:relative;");var h=this.J1.bind(this),F=this.FL.bind(this);M.GY(this.q,o?F:h);
this.Z.appendChild(this.q);this.UU=M.a("img",S?"gsicon":"");this.q.appendChild(this.UU);if(o){var n=M.a("button");
n.textContent="\u25BC";M.GY(n,h);this.Z.appendChild(n)}else{var R=M.a("span");R.textContent="\u25BC";
R.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.q.appendChild(R)}var s=this.aAa=M.a("span");
this.KI.appendChild(s);s.setAttribute("style","display:inline-block;  vertical-align:top;");this.G_=new k7(S,u);
s.appendChild(this.G_.Z);this.G_.parent=this.Bk;this.G_.O(k.E.B,this.c6,this);this.G_.Z.style.height=_+"px";
this.xs=M.a("button");this.xs.textContent="\u25BC";this.xs.setAttribute("style","padding:3px");M.GY(this.xs,this.MK.bind(this));
this.KI.appendChild(this.xs);var Z=this.W9(),O=this.a32=u!=is.E9&&u!=is.ke?u:null,w=this.azc=u==null?!1:is.wx[u][4]!=0,m=u==null?"":is.wx[u][0].toUpperCase(),V=[];
if(O)V.push({name:[12,87]});V.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],ab:!0});V.push({name:[[23,6],"."+(m=="ICC"?"icc .cube .look .3dl":m)]},{name:["VAR0 ."+m,[1,8]]},{name:[6,37]},{name:[5,4],ab:Z.length!=0});
for(var v=0;v<Z.length;v++)V.push({name:Z[v].split("/").pop()});this.aEa=V;this.mL=u;this.Kz=null;this.Ck=!0;
this.jz=null}e6.prototype=new f1;e6.prototype.W9=function(){return[]};e6.prototype.FL=function(){};e6.prototype.k=function(){this.G_.k();
var l=this.Qn;if(l)this.uC.textContent=cU.get(l)+":"};e6.prototype.Qx=function(l){this.uC.textContent=l};
e6.prototype.jD=function(l){var o=this.mL,D=0;if(o==is.Ln){D=this.Kz?this.Kz.length:0;l=l.slice(0)}this.Kz=l;
this.Ck=!0;if(M.Ve(this.G_.Z)||o==is.UB)this.Lk();if(o==is.Ln&&l.length-D==1&&M.Ve(this.Z)){this.j(l[D]);
this.Ck=!0;this.Lk();this.G_.j([D]);this.A(new jJ(k.E.B))}};e6.prototype.AR=function(l){var o=l.target.Z3()[0];
if(this.a32==null)o++;var D=new jJ(k.E.b,!0);if(o==0){var H=this.aW();if(this.mL==is.Ln&&H[0].profile==null)return;
D.data={q:k.L.lN,BL:"add",au:this.a32,Pv:H}}else if(o==1)this.G_.IW(1-this.G_.aDe());else if(o<=5)this.Cf(o-2);
else{var u=this.W9();D.data={q:k.L.bD,au:{url:"rsrc/"+u[o-6]}}}if(D.data)this.A(D)};e6.prototype.Cf=function(l){var o=new jJ(k.E.b,!0),D=this.G_.l(),H={q:k.L.lN,au:this.mL,QE:D};
if(l>1&&D.length==0){alert("No items selected");return}if(l==0)o.data={q:k.L.z4};else if(l==1)o.data={q:k.L.NE,afs:this.mL,QE:D.length==0?null:D};
else if(l==2){var u=this.G_.g2[1][D[0]],S=u.split("/");if(S.length==2){H.er=S[0]+"/";u=S[1]}H.BL="rnm";
o.data={q:k.L.E1,mg:"namewindow",aC:u,WF:{K:k.E.b,m:H}}}else if(l==3){o.data=H;H.BL="del"}this.A(o)};
e6.prototype.aW=function(){return[this.l()]};e6.prototype.MK=function(l){if(this.cd==null){this.cd=new fg(this.aEa);
this.cd.parent=this.Bk;this.cd.O("select",this.AR,this)}if(M.Ve(this.cd.Z))return;l.stopPropagation();
var o=this.cd;o.k();o.update(null);var D=l.currentTarget.getBoundingClientRect(),H=new jJ(k.E.b,!0);
H.data={q:k.L.jq,VG:o,x:D.left,y:D.top+D.height};this.A(H)};e6.prototype.J1=function(l,o,D){if(M.Ve(this.Bk.Z))return;
if(l)l.stopPropagation();this.Lk();if(o==null){var H=this.q.getBoundingClientRect(),o=H.left,D=H.top+H.height}this.Av();
var _=new jJ(k.E.b,!0);_.data={q:k.L.jq,VG:this.Bk,x:o,y:D,Hi:!0};this.A(_)};e6.prototype.Av=function(l,o){var l=Math.min(this.o1,window.innerWidth-40);
this.aAa.style.width=l+"px";this.Bk.Z.style.width=l+20+"px"};e6.prototype.aup=function(l,o){this.J1(null,l,o)};
function aa(){f1.call(this);this.Z=M.a("div");this.rb=!1;this.Ll=[new bU([12,19,1],[[13,1,7]].concat(jW.oA)),new ce([17,1]),new ce([12,46])];
for(var v=0;v<3;v++){var l=this.Ll[v];this.Z.appendChild(l.Z);l.O(k.E.B,this.dy,this)}this.k()}aa.prototype=new f1;
aa.prototype.k=function(){for(var v=0;v<3;v++)this.Ll[v].k()};aa.prototype.l=function(){return this.rb.slice(0)};
aa.prototype.j=function(l){this.rb=l.slice(0);var o=this.Ll,D=o[0].l();o[1].j(l.slice(D*8,D*8+4),D);
o[2].j(l.slice(D*8+4,D*8+8),D)};aa.prototype.dy=function(l){var o=this.Ll,D=o.indexOf(l.currentTarget);
if(D==0)this.j(this.rb);else{var H=o[0].l()*8+(D==1?0:4),_=o[D].l();for(var v=0;v<4;v++)this.rb[H+v]=_[v];
this.A(new jJ(k.E.B,!1))}};function ce(l){f1.call(this);this.Z=M.a("div");this.Pf=M.a("canvas");this.Uk=l;
this.rb=[0,20,200,255];this.FU=0;this.Xe=-1;this.asU=[];for(var v=0;v<5;v++){var o=M.a("span");o.setAttribute("style","display:inline-block;width:"+(v==0?8:v==2?7:2)+"em");
this.asU.push(o);this.Z.appendChild(o)}this.kj=this.GZ.bind(this);this.ju=this.n$.bind(this);this.ER=this.lK.bind(this);
M.zl(this.Pf);M.GY(this.Pf,this.kj);this.Z.appendChild(this.Pf);this.$u()}ce.prototype=new f1;ce.prototype.k=function(){this.$u()};
ce.prototype.j=function(l,o){this.rb=l;this.FU=o;this.$u()};ce.prototype.l=function(){return this.rb.slice(0)};
ce.prototype.GZ=function(l){var o=this.rb,D=M.Kx(l,this.Pf),H=D.x-8,_=-1,u=1e9;for(var v=0;v<4;v++){var S=H-o[v],h=Math.abs(S);
if(h<8&&h<u&&((v&1)==0&&S<0||(v&1)==1&&S>0)){u=S;_=v}}if(_==-1)return;this.Xe=_;this.yY=window.__kb.W(e_.zg)||o[(_>>>1)*2]!=o[(_>>>1)*2+1];
M.en(window,this.ju);M.Bv(window,this.ER)};ce.prototype.n$=function(l){var o=this.rb,D=this.Xe,H=(D>>>1)*2,_=H+1,u=M.Kx(l,this.Pf),S=Math.round(Math.max(0,Math.min(255,u.x-8)));
o[D]=S;if(this.yY&&o[H]>=o[_])this.yY=!1;if(!this.yY)o[H]=o[_]=S;this.$u();this.A(new jJ(k.E.B,!1))};
ce.prototype.lK=function(l){M.ie(window,this.ju);M.OF(window,this.ER)};ce.prototype.$u=function(){var l=this.Pf;
M.QT(l,255+16,16);var o=l.getContext("2d"),D=l.width,H=l.height,_=Math.round(255*M.Y()),u=Math.round(8*M.Y());
o.translate(u,0);var S=o.createLinearGradient(0,0,_,0);S.addColorStop(0,"black");S.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.FU]);
o.fillStyle=S;o.fillRect(0,0,_,u);var h=this.asU,F=cU.get(this.Uk)+":";h[0].textContent=F;for(var v=0;
v<4;v++){var n=this.rb[v];h[1+v].textContent=n;var R=Math.round(n*M.Y());o.beginPath();o.moveTo(R,u);
o.lineTo(R,u+u);o.lineTo(R+((v&1)==0?-1:1)*u,u+u);o.closePath();o.fillStyle=v<2?"#666666":"#cccccc";
o.fill();o.strokeStyle="black";o.stroke()}};function gX(l,o,D){f1.call(this);if(D==null)D=!1;this.P=[0,0,1];
this.aqa=o;this.a9x=D;this.Pp=0;var H="ai"+M.Vs();this.Z=M.a("span","fitem angleinput");if(l){this.uC=M.a("label","flabel");
this.Qn=l;this.Z.appendChild(this.uC);this.uC.setAttribute("for",H)}this.$P=D?44:20;this.Pf=M.a("canvas","gsicon");
this.Ig=this.Pf.getContext("2d");M.zl(this.Pf);M.QT(this.Pf,this.$P*2+1,this.$P*2+1);this.Ig.scale(M.Y(),M.Y());
this.Z.appendChild(this.Pf);M.GY(this.Pf,this.pm.bind(this));this.bE=this.sA.bind(this);this.j5=this.t7.bind(this);
var _=this.AE.bind(this),u=M.a("div");u.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!D)this.Z.appendChild(u);this.ci=[];for(var v=0;v<2;v++){var S=M.a("input");this.ci.push(S);S.setAttribute("type","text");
M.cp(S);if(v==0)S.setAttribute("id",H);S.addEventListener("change",_,!1);var h=M.a("span");h.textContent="\xB0";
if(v==0||o){u.appendChild(S);u.appendChild(h);M.wR(u)}}this.j(this.P)}gX.prototype=new f1;gX.prototype.k=function(){if(this.Qn)this.uC.textContent=cU.get(this.Qn)+":"};
gX.prototype.Qx=function(l){this.uC.textContent=l};gX.prototype.l=function(){return this.P.slice(0)};
gX.prototype.j=function(l,o){var D=this.P;l=l.slice(0);if(l[0]==null)l[0]=D[0];if(l[1]==null)l[1]=D[1];
if(l[2]==null)l[2]=D[2];this.P=l;var H=l[0],_=l[1],u=l[2],S=this.aqa,h=this.a9x,F=this.$P*.85;if(!S)_=0;
this.ci[0].value=H;this.ci[1].value=_;var n=this.Ig;n.clearRect(0,0,100,100);H=Math.PI*H/180;_=F*(90-_)/90;
var R=this.$P+.5;n.save();n.translate(R,R);n.rotate(-H);n.strokeStyle="rgba(0,0,0,0.5)";n.beginPath();
n.ellipse(0,0,F,F*u,0,0,2*Math.PI);if(h){n.moveTo(0,-F*u);n.lineTo(0,F*u);n.moveTo(-_,0)}else n.moveTo(0,0);
n.lineTo(_,0);n.stroke();var s=this.$P*.15;n.fillStyle="black";n.beginPath();if(h){n.arc(0,-F*u,s*.66,0,2*Math.PI);
n.arc(0,F*u,s*.66,0,2*Math.PI)}if(S){n.arc(_,0,s*.4,0,2*Math.PI)}else{n.moveTo(R-s,-s*.66);n.lineTo(R,0);
n.lineTo(R-s,s*.66)}n.fill();n.restore();if(o)this.AE()};gX.prototype.AE=function(l){var o=parseInt(this.ci[0].value);
if(isNaN(o))o=0;var D=parseInt(this.ci[1].value);if(isNaN(D))D=0;o=o%360;D=D%360;this.j([o,D]);this.A(new jJ(k.E.B,!1))};
gX.prototype.pm=function(l){M.en(window,this.bE);M.Bv(window,this.j5);var o=M.Kx(l,this.Pf),R=0,s=1e9;
o.x-=this.$P;o.y-=this.$P;var D=this.P,H=D[0]*Math.PI/180,_=(90-D[1])/90,u=D[2],S=this.$P*.85,h=Math.sin(-H),F=Math.cos(-H),n=[new he(F*S,h*S)];
if(this.a9x)n.push(new he(-h*S*u,F*S*u),new he(h*S*u,-F*S*u));for(var v=0;v<n.length;v++){var Z=he.At(o,n[v]);
if(Z<s){s=Z;R=v}}this.Pp=R;if(R==0)this.sA(l)};gX.prototype.sA=function(l){var o=M.Kx(l,this.Pf),D=this.Pp,H=[],_=o.x-this.$P,u=o.y-this.$P,S=this.$P*.85;
if(D==0){var h=180*Math.atan2(-u,_)/Math.PI,F=90-90*Math.min(1,Math.sqrt(_*_+u*u)/S);if(l.shiftKey)h=Math.round(h/15)*15;
H=[Math.round(h),Math.round(F)]}else H=[null,null,Math.max(.01,Math.min(1,Math.sqrt(_*_+u*u)/S))];this.j(H);
this.A(new jJ(k.E.B,!1))};gX.prototype.t7=function(l){this.A(new jJ(k.E.B,!1));M.ie(window,this.bE);
M.OF(window,this.j5)};function dq(l,o){f1.call(this);this.rb=0;this.Aw=o;this.Z=M.a("span","fitem angleinput");
if(l){this.uC=M.a("label","flabel");this.Qn=l;this.Z.appendChild(this.uC)}this.Pf=M.a("canvas","gsicon");
this.Ig=this.Pf.getContext("2d");M.QT(this.Pf,o,o);this.Z.appendChild(this.Pf);M.zl(this.Pf);M.GY(this.Pf,this.pm.bind(this));
this.bE=this.sA.bind(this);this.j5=this.t7.bind(this);this.j(0)}dq.prototype=new f1;dq.prototype.k=function(){if(this.Qn)this.uC.textContent=cU.get(this.Qn)+":"};
dq.prototype.Qx=function(l){this.uC.textContent=l};dq.prototype.l=function(){return this.rb};dq.prototype.auM=function(l){var o=this.rb,D=Math.floor(o/3),H=o-D*3;
H=Math.max(0,Math.min(2,H+l.x));D=Math.max(0,Math.min(2,D+l.y));this.j(D*3+H)};dq.prototype.j=function(l){this.rb=l;
var o=this.Pf.width,D=Math.floor(l/3),H=l-3*D,_=(H+.5)*o/3,u=(D+.5)*o/3,S=this.Ig,h=[.5,Math.round(o/3)+.5,Math.round(2*o/3)+.5,o-.5];
S.clearRect(0,0,o,o);var F=this.Aw<30;S.setLineDash([]);S.strokeStyle=F?"rgba(0,0,0,0.5)":"#000000";
S.beginPath();for(var v=0;v<4;v++){var n=h[v];S.moveTo(n,0);S.lineTo(n,o);S.moveTo(0,n);S.lineTo(o,n)}S.stroke();
if(l==9)return;if(!F){S.setLineDash([1,2]);var R=o*.53,s=Math.max(0,Math.min(o-R,_-R/2)),Z=Math.max(0,Math.min(o-R,u-R/2));
S.strokeRect(Math.round(s)+.5,Math.round(Z)+.5,Math.round(R),Math.round(R))}S.fillStyle="#000000";S.beginPath();
S.arc(_,u,o/8,0,Math.PI*2);S.fill()};dq.prototype.pm=function(l){M.en(document.body,this.bE);M.Bv(document.body,this.j5);
this.sA(l)};dq.prototype.sA=function(l){var o=M.Kx(l,this.Pf),D=Math.max(0,Math.min(2,Math.floor(o.x/(this.Aw/3)))),H=Math.max(0,Math.min(2,Math.floor(o.y/(this.Aw/3))));
this.j(H*3+D)};dq.prototype.t7=function(l){this.A(new jJ(k.E.B,!1));M.ie(document.body,this.bE);M.OF(document.body,this.j5)};
function bl(kC){f1.call(this);this.Z=M.a("span","fitem cswatch");this.a2U=0;this.N0=[];this.Ho=[];var l=this.a8D.bind(this);
for(var v=0;v<kC;v++){this.N0.push(0);var o=M.a("span","colorsample");o.addEventListener("click",l,!1);
this.Ho.push(o);this.Z.appendChild(o)}var D=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],H=Math.min(kC,D.length);
for(var v=0;v<H;v++)this.N0[v]=D[v];this.HP()}bl.prototype=new f1;bl.prototype.a8D=function(l){this.a2U=this.Ho.indexOf(l.currentTarget);
this.A(new jJ(k.E.B))};bl.prototype.l=function(){return this.N0[this.a2U]};bl.prototype.j=function(l){var o=this.N0,D=o.indexOf(l);
if(D!=-1)o.splice(D,1);else o.pop();o.unshift(l);this.HP()};bl.prototype.HP=function(){for(var v=0;v<this.N0.length;
v++){this.Ho[v].setAttribute("style","background-color:#"+g.Bi(this.N0[v]))}};function jv(l){f1.call(this);
this.sX={$:0,H:0,J:0};this.od=l;this.Z=M.a("span","fitem colorsample");this.Z.addEventListener("click",this.Bx.bind(this),!1)}jv.prototype=new f1;
jv.prototype.k=function(){};jv.prototype.Bx=function(l){var o=this.sX;this.A(new jJ("click"));var D=new jJ(k.E.b,!0);
D.data={q:k.L.E1,mg:"colorpicker",cr:g.V$(o),k_:this.$W.bind(this),z6:this.od};this.A(D)};jv.prototype.$W=function(l){this.BM(l);
this.A(new jJ(k.E.B))};jv.prototype.Jx=function(){this.Bx(null)};jv.prototype.rX=function(){var l=this.sX;
return l.$<<16|l.H<<8|l.J};jv.prototype.l=function(){return g.G.XF(this.sX)};jv.prototype.BM=function(l){this.sX=g.kJ(l);
this.aBd()};jv.prototype.j=function(l){this.sX=g.G.s3(l);this.aBd()};jv.prototype.aBd=function(){var l=this.sX,o=l.$,D=l.H,H=l.J,_=o<<16|D<<8|H;
this.Z.setAttribute("style","background-color:#"+g.Bi(_))};function g2(){f1.call(this);this.Qm=!1;this.D8=20;
this.arN=10;this.tg=0;this.Qm=!1;this.IP={$:255,H:0,J:0};this.rM={$:0,H:0,J:0};this.Fy=null;this.Gj=null;
this.FE=[[0,0,0],[0,[[0,[1,1,1],1,.5],[1,[0,0,0],1,.5]],[0,0,0,1,1,0,0],[1,0,0,1,0,0]],[]];this.Z=M.a("canvas");
this.$u();M.zl(this.Z);M.GY(this.Z,this.kj.bind(this))}g2.prototype=new f1;g2.prototype.an1=function(l){if(this.Qm==l)return;
this.Qm=l;this.$u()};g2.prototype.k=function(){};g2.prototype.anX=function(l,o){function D(H){return{$:H>>16&255,H:H>>8&255,J:H&255}}if(l!=null)this.IP=D(l);
if(o!=null)this.rM=D(o);this.$u()};g2.prototype.apQ=function(l,o){this.Fy=l;this.Gj=o;this.$u()};g2.prototype.kj=function(l){var o=M.Kx(l,this.Z),D=o.x*M.Y(),H=o.y*M.Y(),_=this.D8,u=this.arN,S=0;
if(H>_){S=4+Math.floor(3*D/_)}else if(D<u&&H<u){S=0}else if(D>_-u&&H>_-u){S=1}else if(D<u){S=2}else{S=3}this.Jx(S)};
g2.prototype.Jx=function(l){var o=this.Fy,D=new jJ(k.E.b,!0);if(l>1){if(a8==0)D.data={q:k.L.lN,au:is.rY,i6:l};
else{var H=JSON.parse(JSON.stringify(o.o4));if(l==2){var u=H.IS;H.IS=H.h6;H.h6=u}if(l==3){H.h6=[1,1,1];
H.IS=[0,0,0]}if(l>=4){var S=this.FE[l-4];if(this.tg==0)H.h6=S;else H.IS=S}D.data={q:k.L.lN,au:is.ni,P:H}}}else{var h=this.$W.bind(this),F=this.tg;
this.tg=l;if(a8==0){var n=l==0?this.IP:this.rM;D.data={q:k.L.E1,mg:"colorpicker",cr:g.V$(n),k_:h}}else{if(F!=l){this.$u();
return}var R=l==0?o.o4.h6:o.o4.IS;if(R.length==0)R=[0,0,0];g2.a2u(R,this,h);return}}this.A(D)};g2.prototype.$W=function(l){var o=new jJ(k.E.b,!0),D=this.tg,H=this.Fy;
if(a8==0)o.data={q:k.L.lN,au:is.rY,i6:D,P:l};else{var u=l;if(typeof l=="number"){u=g.kJ(l,1);u=[u.$,u.H,u.J]}var S=JSON.parse(JSON.stringify(H.o4));
if(D==0)S.h6=u;else S.IS=u;o.data={q:k.L.lN,au:is.ni,P:S}}this.A(o)};g2.prototype.$u=function(){var l=this.Z,o=l.getContext("2d"),D=M.Y(),D=M.Y(),H=this.D8=Math.floor(34*D),_=Math.floor((H-2)/3),u="#aaaaaa",S=.62;
l.width=H;l.height=H+a8*(_+9);M.af(l);l.setAttribute("style",l.getAttribute("style")+";cursor:pointer");
var H=this.D8=l.width,h=this.arN=Math.round(H*S);function F(c,z){var B=c.$,t=c.H,a=c.J;if(z)B=t=a=Math.round(g.cn(B,t,a));
var I=B<<16|t<<8|a;return"#"+g.Bi(I)}function n(o,Z,c,z,B,t){o.beginPath();if(z>=t*2&&B>=t*2){o.moveTo(Z+t,c);
o.lineTo(Z+z-t,c);o.quadraticCurveTo(Z+z,c,Z+z,c+t);o.lineTo(Z+z,c+B-t);o.quadraticCurveTo(Z+z,c+B,Z+z-t,c+B);
o.lineTo(Z+t,c+B);o.quadraticCurveTo(Z,c+B,Z,c+B-t);o.lineTo(Z,c+t);o.quadraticCurveTo(Z,c,Z+t,c)}o.closePath()}function R(Z,c,h,z,B){o.strokeStyle=B?B:"black";
o.fillStyle=z;n(o,Z+.5,c+.5,h-1,h-1,h*.2);o.fill();o.stroke()}var s=this.Fy;if(s){o.beginPath();var Z=H-h,O=Math.floor(h*.28),w=h-2*O;
o.lineWidth=1;o.strokeStyle="white";if(this.tg==0)g2.fm(o,s.o4.IS,this.Gj,h,h,Z,Z,!0);g2.fm(o,s.o4.h6,this.Gj,h,h,0,0);
if(this.tg==1)g2.fm(o,s.o4.IS,this.Gj,h,h,Z,Z,!0);for(var v=0;v<3;v++){o.beginPath();g2.fm(o,this.FE[v],this.Gj,_,_,v*(_+1),H+9,!1)}}else{R(H-h,H-h,h,F(this.rM,this.Qm));
R(0,0,h,F(this.IP,this.Qm))}var m=H-h,V=Math.round(m*S);R(H-V,m-V,V,a8==0?"white":"black",u);R(H-m,0,V,a8==0?"black":"white",u);
o.save();o.fillStyle=u;o.translate(0,H);o.rotate(-Math.PI/2);m=H-h;var q=Math.round(m*.28),i=Math.round(m*.25);
for(var v=0;v<2;v++){o.fillRect(q,q,m-q,1);o.beginPath();o.moveTo(m-i,q+.5-i);o.lineTo(m,q+.5);o.lineTo(m-i,q+.5+i);
o.closePath();o.fill();o.transform(0,1,1,0,0,0)}o.restore()};g2.a2u=function(l,o,D){var H=new jJ(k.E.b,!0);
if(l.length==3)H.data={q:k.L.E1,mg:"colorpicker",cr:g.V$({$:l[0]*255,H:l[1]*255,J:l[2]*255}),k_:D};else H.data={q:k.L.E1,mg:"vgradienteditor",P:l,k_:D};
o.A(H)};g2.fm=function(l,o,D,H,_,u,S,h){function F(m,V){return CSS.Ir({$:m[0]*255,H:m[1]*255,J:m[2]*255},V)}if(o==null){l.fillStyle="#888888";
l.clearRect(u,S,H,_);l.font=Math.round(_*.6*(h?.5:1))+"px sans-serif";l.fillStyle="white";if(h){l.fillText("?",u+H*.05,S+_*.3);
l.fillText("?",u+H*.8,S+_*.3);l.fillText("?",u+H*.05,S+_*.9);l.fillText("?",u+H*.8,S+_*.9)}else l.fillText("?",H*.36,_*.7)}else if(o.length==0){l.fillStyle="#ffffff";
l.fillRect(u,S,H,_);l.strokeStyle="#ff0000";l.lineWidth=2;l.moveTo(u,S);l.lineTo(u+H,S+_);l.moveTo(u,S+_);
l.lineTo(u+H,S);l.stroke()}else if(o.length==3){l.fillStyle=F(o);l.fillRect(u,S,H,_)}else if(o.length==4){var n=u+H/2,R=S+_/2,s=o[0]==0?l.createLinearGradient(u,S,u+H,S):l.createRadialGradient(n,R,0,n,R,H/2);
g.G.wS(s,o[1]);l.fillStyle=s;l.fillRect(u,S,H,_)}else if(o.length==2){var Z=D.PJ[o[0]];l.save();l.fillStyle="white";
l.fillRect(u,S,H,_);l.rect(u,S,H,_);l.scale(H/Z.Q,_/Z._);l.fillStyle=Z.t5;l.fill();l.restore()}l.lineWidth=1;
l.strokeStyle="white";l.strokeRect(u+.5,S+.5,H-1,_-1);if(h){var O=Math.floor(H*.28),w=H-2*O;l.clearRect(u+O,u+O,w,w);
l.strokeRect(u+O+.5,u+O+.5,w-1,w-1)}};function eI(l){e6.call(this,l,!1,"brushbutton nopadding",19*13,10*13,is.ON,!0);
var o=this.a9m;M.EA(o,"flexrow");var D=M.a("div");o.appendChild(D);var H=M.a("div");o.appendChild(H);
H.setAttribute("style","margin-left:8px");this.$T=new gX(null,null,!0);this.$T.O(k.E.B,this.CA,this);
D.appendChild(this.$T.Z);this.UT=new h_([12,14,0],1,1e3," px",0,!0);this.UT.O(k.E.B,this.CA,this);H.appendChild(this.UT.Z);
this.HL=new h_([12,17],0,100,"%");this.HL.O(k.E.B,this.CA,this);H.appendChild(this.HL.Z);this.EC=new hi(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.EC.O(k.E.B,this.CA,this);H.appendChild(this.EC.Z)}eI.prototype=new e6;eI.prototype.W9=function(){var l=["pencil","trees"];
for(var v=0;v<l.length;v++)l[v]="brushes/"+l[v]+".abr";return l};eI.prototype.j=function(l,o,D){this.jz=JSON.parse(JSON.stringify(l));
var H=Math.floor(20*M.Y()),_=Math.floor(36*M.Y()),S=Math.floor(24*M.Y()),h=ie.cK(l,o,D,H,S,_);this.UU.setAttribute("src",h);
M.nY(this.UU,_,S);var F=l.Brsh.v;this.UT.j(F.Dmtr.v.val);if(F.Hrdn!=null){this.HL.TC();this.HL.j(F.Hrdn.v.val)}else this.HL.ua();
if(F.Angl!=null)this.$T.j([F.Angl.v.val]);if(F.Rndn!=null)this.$T.j([null,null,F.Rndn.v.val/100]);var n=[!1,!1];
if(l.opVr)n[0]=l.opVr.v.bVTy.v==2;if(l.szVr)n[1]=l.szVr.v.bVTy.v==2;this.EC.j(n)};eI.prototype.aW=function(){return{list:[{t:"Objc",v:this.l()}],b9:[],N8:[]}};
eI.prototype.l=function(){return this.jz};eI.prototype.Lk=function(){if(!this.Ck)return;var l=[],o=[],D=this.Kz,H=Math.floor(33*M.Y()),_=Math.floor(40*M.Y());
for(var v=0;v<D.list.length;v++){var u=D.list[v].v,S=ie.cK(u,D.b9,D.N8,H,_);l.push(S);o.push(u.Nm.v)}this.G_.f6(l,o,H,_);
this.Ck=!1};eI.prototype.c6=function(l){var o=this.Kz;this.j(o.list[this.G_.l()[0]].v,o.b9,o.N8);this.A(new jJ(k.E.B))};
eI.prototype.k=function(){e6.prototype.k.call(this);this.$T.k();this.UT.k();this.HL.k()};eI.prototype.CA=function(l){var o=this.Kz,D=this.jz,H=D.Brsh.v;
H.Dmtr.v.val=this.UT.l();if(H.Hrdn!=null)H.Hrdn.v.val=this.HL.l();if(H.Angl!=null)H.Angl.v.val=this.$T.l()[0];
if(H.Rndn!=null)H.Rndn.v.val=Math.round(this.$T.l()[2]*100);if(l.target==this.EC)j6.aCX(D,this.EC.l());
this.j(D,o.b9,o.N8);this.A(new jJ(k.E.B))};function dU(l){e6.call(this,l,!0,"contourbutton",17*13,10.5*13,is.x8)}dU.prototype=new e6;
dU.prototype.c6=function(l){this.j(this.Kz[l.target.l()]);this.A(new jJ(k.E.B))};dU.prototype.FL=function(l){var o=new jJ(k.E.b,!0);
o.data={q:k.L.E1,mg:"contoureditor",T3:this.jz,response:this.ax6.bind(this)};this.A(o)};dU.prototype.ax6=function(l){this.j(l);
this.A(new jJ(k.E.B))};dU.prototype.Lk=function(){if(!this.Ck)return;var l=Math.floor(38*M.Y()),o=Math.floor(38*M.Y()),D=[],H=[],_=this.Kz;
for(var v=0;v<_.length;v++){H.push(_[v].Nm?_[v].Nm.v:"");D.push(g.SA.cK(_[v].Crv.v,l,o))}this.G_.f6(D,H,l,o);
this.Ck=!1};dU.prototype.j=function(l){this.jz=JSON.parse(JSON.stringify(l));var o=this.jz.Crv.v;for(var v=0;
v<o.length;v++)if(o[v].v.Cnty==null)o[v].v.Cnty={t:"bool",v:!0};this.r9()};dU.prototype.r9=function(){var l=Math.floor(30*M.Y()),o=Math.floor(30*M.Y()),D=g.SA.cK(this.jz.Crv.v,l,o);
this.UU.setAttribute("src",D);M.nY(this.UU,l,o)};dU.prototype.l=function(){return JSON.parse(JSON.stringify(this.jz))};
function e5(l){f1.call(this);this.hh=null;this.Fy=null;this.ye=null;this.DX=null;this.awW=[];this.aaw=[];
this.Z=M.a("span","fitem fillbutton");this.Bk=new f1;this.Bk.Z=M.a("div","floatcont form");this.Bk.Z.setAttribute("style","width: 21em;");
this.Bk.parent=this;this.Kq=l;this.uC=this.uC=M.a("label","flabel");this.Z.appendChild(this.uC);this.Pf=M.a("canvas");
this.Ig=this.Pf.getContext("2d");this.a9j=null;this.Z.appendChild(this.Pf);M.GY(this.Pf,this.J1.bind(this));
this.Lf=new ei([12,66],["","Color","Grad","Patt"]);this.Bk.Z.appendChild(this.Lf.Z);this.Lf.O(k.E.B,this.dy,this);
this.Bk.Z.appendChild(M.a("hr"));this.aan=M.a("span");this.dx=new jv(!1);this.dx.parent=this.Bk;this.dx.O(k.E.B,this.dy,this);
this.Ch=new bl(10);this.Ch.O(k.E.B,this.dy,this);this.jg=M.a("div","marged hiline");this.jg.appendChild(this.dx.Z);
M.wR(this.jg);this.jg.appendChild(this.Ch.Z);this.un=new aY("GrFl",!0);this.un.parent=this.Bk;this.un.O(k.E.B,this.dy,this);
this.vl=M.a("div","marged hiline");var o="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var v=0;
v<o.length;v++){var D=this.un.sy[o[v]].Z;this.vl.appendChild(D)}this.EV=new aY("patternFill",!0);this.EV.parent=this.Bk;
this.EV.O(k.E.B,this.dy,this);this.mK=M.a("div","marged hiline");var o=["Ptrn","Angl","Scl","Algn","phase"];
for(var v=0;v<o.length;v++){var D=this.EV.sy[o[v]].Z;this.mK.appendChild(D)}}e5.prototype=new f1;e5.prototype.Ip=function(l,o){var D=jt.cq(l,o);
if(D!=null)this.Ch.j(D);if(o==is.om){this.awW=[];this.aaw=[];if(this.hh)this.j(this.ye,this.l(),this.hh)}this.Fy=l;
this.un.Ip(l,o);this.EV.Ip(l,o)};e5.prototype.k=function(){this.uC.textContent=cU.get(this.Kq)+": ";
this.Lf.k();this.dx.k();this.un.k();this.EV.k()};e5.prototype.dy=function(l){var o=l.currentTarget;if(o==this.Lf){var H=this.Lf.l(),_={hM:H,E6:this.hh[H]};
if(H>0&&_.E6==null)_.E6=JSON.parse(JSON.stringify(cq.lJ[H-1]));if(this.hh)this.j(this.ye,_,this.hh)}if(o==this.Ch)this.dx.BM(o.l());
this.A(new jJ(k.E.B,!1))};e5.prototype.J1=function(l){if(M.Ve(this.Bk.Z))return;l.stopPropagation();
var o=this.Pf.getBoundingClientRect(),D=new jJ(k.E.b,!0);D.data={q:k.L.jq,VG:this.Bk,x:o.left,y:o.top+o.height+4};
this.A(D)};e5.prototype.j=function(l,o,D){this.hh=D;this.ye=l;var H=[[13,1,0],[13,0],[12,37],[12,62]],_=this.awW,u=this.aaw,S=!1,R;
for(var v=0;v<4;v++){var h={hM:v,E6:D[v]},F=e5.ar_(h);if(u[v]==F)continue;S=!0;var n=e5.acJ(null,h,this.Fy,this.ye,22,22,!1);
_[v]="<img width=\"22\" height=\"22\" src=\""+n+"\" />";u[v]=F}if(S)this.Lf.Ls(_,H);this.Lf.j(o.hM);
var F=e5.ar_(o);if(F!=this.a9j)e5.acJ(this.Ig,o,this.Fy,this.ye,30,23,!0);this.a9j=F;var s=o.hM;if(s==0){R=this.aan}if(s==1){this.dx.j(o.E6.Clr.v);
R=this.jg}if(s==2){this.un.update(l,o.E6);R=this.vl}if(s==3){this.EV.update(l,o.E6);R=this.mK}if(R!=this.DX){if(this.DX!=null){this.Bk.Z.removeChild(this.DX)}this.Bk.Z.appendChild(R);
this.DX=R}};e5.prototype.l=function(){var l={hM:this.Lf.l()};if(l.hM==1){l.E6=JSON.parse(JSON.stringify(cq.lJ[0]));
l.E6.Clr.v=this.dx.l()}if(l.hM==2){l.E6=this.un.l()}if(l.hM==3){l.E6=this.EV.l()}return l};e5.ar_=function(l){var o=l.hM,D=l.E6,H="empty";
if(o==1){H=g.G.s3(D.Clr.v);H=H.$+","+H.H+","+H.J}if(o==2)H=JSON.stringify(D.Grad.v);if(o==3)H=D.Ptrn.v.Idnt.v;
return H};e5.acJ=function(l,o,D,H,_,u,S){if(l==null)l=e5.Ig;var h=Math.floor(_*M.Y()),F=Math.floor(u*M.Y()),n=l.canvas;
n.width=h;n.height=F;M.nY(n,h,F);e5.aoh(l,o,D,H,h,F);if(S){l.beginPath();l.strokeStyle="#000000";l.fillStyle="#ffffff";
l.lineWidth=2;var R=h*.7,s=Math.floor(F*.7),Z=7*M.Y();l.moveTo(R,s);l.lineTo(R+Z,s);l.lineTo(R+Z/2,s+Z/2);
l.closePath();l.stroke();l.fill()}if(l==e5.Ig)return n.toDataURL()};e5.Ig=M.a("canvas").getContext("2d");
e5.aoh=function(l,o,D,H,_,u,S,h){if(S==null)S=0;if(h==null)h=0;var F=o.hM;if(F==0){l.fillStyle="#ffffff";
l.fillRect(S,h,_,u);l.strokeStyle="#ff0000";l.lineWidth=2;l.moveTo(S,h);l.lineTo(S+_,h+u);l.moveTo(S,h+u);
l.lineTo(S+_,h);l.stroke()}if(F==1){var n=o.E6.Clr.v;n=g.G.s3(n);l.fillStyle="#"+g.Bi(n.$<<16|n.H<<8|n.J);
l.fillRect(S,h,_,u)}if(F==2){var R=p.Sp.cK(o.E6.Grad.v,_,u,0,D.Os,D.qg,!0);l.putImageData(R,S,h)}if(F==3){var s=o.E6.Ptrn.v,Z;
if(H!=null)Z=cN.Sf(s,H.add.Patt);if(Z==null)Z=cN.Sf(s,D.hj);gU.cK(Z,_,u,l.canvas)}};function gU(l){e6.call(this,l,!1,"patternbutton",18*13,10*13,is.om);
this.R_=null}gU.prototype=new e6;gU.prototype.c6=function(l){var o=this.Kz[this.G_.l()];this.jz={classID:"Ptrn",Nm:{t:"TEXT",v:o.name},Idnt:{t:"TEXT",v:o.id}};
this.A(new jJ(k.E.B));this.r9()};gU.prototype.Lk=function(){if(!this.Ck)return;var l=this.Kz,o=Math.floor(34*M.Y()),D=Math.floor(34*M.Y()),H=[],_=[];
for(var v=0;v<l.length;v++){H.push(gU.cK(l[v],o,D));_.push(l[v].name)}this.G_.f6(H,_,o,D);this.Ck=!1};
gU.prototype.j=function(l,o){if(this.jz&&l.Idnt.v==this.jz.Idnt.v)return;this.jz=JSON.parse(JSON.stringify(l));
this.r9(o)};gU.prototype.l=function(){return JSON.parse(JSON.stringify(this.jz))};gU.prototype.aW=function(){return this.R_?[this.R_]:[]};
gU.prototype.r9=function(l){var o=Math.floor(50*M.Y()),D=Math.floor(50*M.Y()),H;if(l!=null)H=cN.Sf(this.jz,l.add.Patt);
if(H==null)H=cN.Sf(this.jz,this.Kz);this.R_=H;var _=gU.cK(H,o,D);this.UU.setAttribute("src",_);M.nY(this.UU,o,D)};
gU.Pf=M.a("canvas","");gU.cK=function(l,o,D,H){if(H==null)H=gU.Pf;var _=H.getContext("2d");H.width=o;
H.height=D;if(l){var u=l.dT[1],S=u.Q,h=u._,F=l.dT[0],n=Math.min(o/S,D/h),R=n;if(R*S<2)R=2/S;var s=n;
if(s*h<2)s=2/h;var Z=p.cA.in([F,u],new de(R,0,0,s,0,0),R>2),O=Z.rect.Q,w=Z.rect._,m=_.createImageData(O,w);
g.Tg(Z.buffer,m.data);_.putImageData(m,Math.floor((o-O)/2),Math.floor((D-w)/2))}return H.toDataURL()};
function kv(l,o,D){if(o==null)o=24.2;if(D==null)D=17;e6.call(this,l,!1,"patternbutton",o*13,D*13,is.E9);
this.c5=""}kv.prototype=new e6;kv.prototype.c6=function(l){this.jz=JSON.parse(JSON.stringify(this.Kz[0][this.G_.l()[0]]));
this.A(new jJ(k.E.B))};kv.prototype.Lk=function(){var l=this.Kz;if(l==null||!this.Ck)return;var o=Math.floor(50*M.Y()),D=Math.floor(50*M.Y()),H=[],_=[];
for(var v=0;v<l[0].length;v++){H.push(kv.cK(this.Kz[0][v].yO,o,D,this.Kz[1]));_.push(l[0][v].KO.Nm.v.split("=").pop())}this.G_.f6(H,_,o,D);
this.Ck=!1};kv.prototype.j=function(l,o,D,H){var _=JSON.stringify(l.yO)+","+D+","+H;if(this.c5!=_){this.c5=_;
this.jz=JSON.parse(JSON.stringify(l));this.r9(o,D,H)}};kv.prototype.l=function(){return JSON.parse(JSON.stringify(this.jz))};
kv.prototype.r9=function(l,o,D){var H=Math.floor(68*M.Y()),_=Math.floor(68*M.Y()),u=kv.cK(this.jz.yO,H,_,l?l:this.Kz[1],o,D);
this.UU.setAttribute("src",u);M.nY(this.UU,H,_)};kv.cK=function(l,o,D,H,_,u){var S=new f9;S.Q=o;S._=D;
S.buffer=g.o(o*D*4);S.add.Patt=H;S.ac(_==null?90:_);S.bC(u==null?30:u);var h=new gt(0,0,Math.round(o*.5),Math.round(D*.5));
h.x=Math.round((o-h.Q)/2);h.y=Math.round((D-h._)/2);var F=S.O7();F.rect=h;F.buffer=g.o(h.c()*4);g.M5(F.buffer,4284045657);
cN.a4M(l,F,.5*100);S.R.push(F);S.Vr();S.V();var n=kx.X7;kx.X7=!1;S.dh();var R=S.zG();kx.X7=n;var s=fj.f1(R.buffer,S.Q,S._);
return s};function cl(l){e6.call(this,null,!1,"tpresetbutton",18*13,24*13,is.p2,!0);M.vY(this.Z,"fitem");
this.G_.IW(1);this.id=l;this.r9();this.q.style.overflow="hidden";this.ww=new km([15,7,9]);this.ww.j(!0);
this.ww.O(k.E.B,this.aqJ,this);this.KI.appendChild(this.ww.Z)}cl.prototype=new e6;cl.prototype.af2=function(l){if(this.id==l)return;
this.id=l;this.jD(this.Kz)};cl.prototype.c6=function(l){var o=this.Kz[this.G_.l()],D=new jJ(k.E.b,!0);
D.data={q:k.L.lN,BL:"set",au:is.p2,Pv:o};this.A(D)};cl.prototype.k=function(){e6.prototype.k.call(this);
this.ww.k()};cl.prototype.aqJ=function(){this.Ck=!0;this.Lk()};cl.prototype.Lk=function(){if(!this.Ck)return;
var l=Math.floor(16*M.Y()),o=Math.floor(16*M.Y()),D=[],H=[],_=this.Kz,u=this.ww.l();for(var v=0;v<_.length;
v++){var S=p.AW[_[v][1].classID];if(!u||S==this.id){H.push(_[v][0]?_[v][0].split("=").pop():"");D.push(S==-1?"":PIMG[p.Nb[S]])}else{D.push(null);
H.push(null)}}this.G_.f6(D,H,l,o);this.Ck=!1};cl.prototype.r9=function(){var l=this.UU;l.setAttribute("src",PIMG[p.Nb[this.id]]);
M.EA(l,"toolicon")};cl.prototype.aW=function(){return null};cl.Ca={};cl.cK=function(l,o,D){var H=cl.Ig,_=cl.Ca,u=g.Bi(l.$<<16|l.H<<8|l.J);
if(_[u])return _[u];if(H==null){var S=M.a("canvas");H=cl.Ig=S.getContext("2d")}var S=H.canvas;S.width=o;
S.height=D;H.fillStyle="#"+u;H.fillRect(0,0,o,D);var h=_[u]=S.toDataURL();return h};function b4(l,o,D){f1.call(this);
this.Z=M.a("span","fitem curveeditor");this.oZ=null;this.ane=0;this.FU="";this.mode=0;this.eu=l;this.aAg=o;
this.apd=D;this._V=null;this.qp=null;this.ar8=0;this.aBz=0;this.WE=new he;this.qn=this.sA.bind(this);
this.Gx=this.t7.bind(this);this.Aw=256;this.Pf=M.a("canvas");this.Ig=this.Pf.getContext("2d");M.zl(this.Pf);
this.Z.appendChild(this.Pf);this.Av(256,256);M.GY(this.Pf,this.pm.bind(this));this.coords=M.a("div");
this.coords.setAttribute("style","width:250px");this.Z.appendChild(this.coords);var H=this.PP=D?100:255,_=null;
this.$$=new gs("X (in)",0,H,_,0,!1,!0);this.Ri=new gs("Y (out)",0,H,_,0,!1,!0);this.k5=new km([19,3,0]);
this.$$.O(k.E.B,this.yj,this);this.Ri.O(k.E.B,this.yj,this);this.k5.O(k.E.B,this.yj,this);this.coords.appendChild(this.$$.Z);
if(D)this.coords.appendChild(this.k5.Z);this.coords.appendChild(this.Ri.Z)}b4.prototype=new f1;b4.prototype.k=function(){this.k5.k();
this.$$.k();this.Ri.k()};b4.prototype.Av=function(l,o){this.Aw=Math.round(l);this.Ig.resetTransform();
M.QT(this.Pf,this.Aw,this.Aw,this.Ig);this.Ig.scale(this.Aw/256,this.Aw/256);if(this._V)this.G6()};b4.prototype.yj=function(l){var v=this.a6n(),o=this._V[v],D=255/this.PP;
o.v.Hrzn.v=this.$$.l()*D;o.v.Vrtc.v=this.Ri.l()*D;if(this.apd)o.v.Cnty.v=this.k5.l();this._V.sort(function(H,_){return H.v.Hrzn.v-_.v.Hrzn.v});
this.G6();this.A(new jJ(k.E.B))};b4.prototype.j=function(l,v){var o=JSON.stringify(l);if(o==JSON.stringify(this._V))return;
this.mode=l.length==256?1:0;this._V=JSON.parse(o);if(v!=null)this.qp=this._V[v];this.G6()};b4.prototype.LC=function(l,o,D){this.oZ=l;
this.ane=o;this.FU=D;this.G6()};b4.prototype.l=function(){return JSON.parse(JSON.stringify(this._V))};
b4.prototype.a6n=function(){return this._V.indexOf(this.qp)};b4.prototype.pm=function(l){var o=256/this.Aw,D=M.Kx(l,this.Pf);
D.x*=o;D.y*=o;var H=D.x,_=256-D.y;if(this.eu){var u=H;H=256-_;_=u}this.WE.pN(H,_);if(this.mode==0){var S=0,h=1e9,Z;
for(var v=0;v<this._V.length;v++){var F=this._V[v].v,n=F.Hrzn.v-H,R=F.Vrtc.v-_,s=Math.sqrt(n*n+R*R);
if(s<h){h=s;S=v}}if(h<15)Z=this._V[S];else{Z=g.SA.ll(H,_,!0);this._V.push(Z);this._V.sort(function(O,w){return O.v.Hrzn.v-w.v.Hrzn.v})}this.qp=Z;
this.aBz=this._V.slice(0)}M.en(document.body,this.qn);M.Bv(document.body,this.Gx);this.sA(l)};b4.prototype.sA=function(l){var o=256/this.Aw,D=M.Kx(l,this.Pf);
D.x*=o;D.y*=o;var H=D.x,_=256-D.y;if(this.eu){var u=H;H=256-_;_=u}if(this.mode==0){var S=this._V,h=this.qp,F=this.aBz,n=F.indexOf(h),R=S.indexOf(h)!=-1,s=F.length-1,Z=H;
if(n==0){Z=Math.max(0,Math.min(F[1].v.Hrzn.v-1,H))}else if(n==s){Z=Math.min(255,Math.max(F[s-1].v.Hrzn.v+1,H))}else{var O=H<0||H>255||_<0||_>255;
if(H<=F[n-1].v.Hrzn.v||H>=F[n+1].v.Hrzn.v)O=!0;if(!O&&!R)S.splice(n,0,h);if(O&&R)S.splice(n,1)}if(this.aAg&&(n==0||n==F.length-1)){}else h.v.Hrzn.v=Math.round(Z);
h.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(_)))}else{H=Math.round(H);_=Math.round(_);H=Math.max(0,Math.min(255,H));
_=Math.max(0,Math.min(255,_));var w=this.WE.x,m=H,V=this.WE.y,q=_;if(H<this.WE.x){m=w;w=H;q=V;V=_}this._V[H]=_;
if(w!=m)for(var i=w;i<=m;i++)this._V[i]=Math.round(V+(i-w)*(q-V)/(m-w))}this.WE.pN(H,_);this.G6();this.A(new jJ(k.E.B))};
b4.prototype.t7=function(l){M.ie(document.body,this.qn);M.OF(document.body,this.Gx);this.A(new jJ(k.E.B))};
b4.prototype.G6=function(){var l=this.Ig,o=this.Pf;l.fillStyle="#ffffff";l.fillRect(0,0,256,256);var D=256/o.width;
if(this.oZ){l.save();l.translate(0,256);l.scale(1,-1);ky.a39(l,this.oZ,5700/this.ane,this.FU);l.restore()}l.strokeStyle="#aaaaaa";
l.lineWidth=1*D;l.beginPath();for(var v=1;v<4;v++){var H=(Math.floor(64*v/D)+.5)*D;l.moveTo(0,H);l.lineTo(255,H);
l.moveTo(H,0);l.lineTo(H,255)}l.stroke();if(this.eu){l.save();l.transform(0,1,-1,0,256,0)}if(this.mode==0){var _=this._V,u=g.SA.d0(_,256);
l.strokeStyle="#000000";l.beginPath();l.moveTo(0,255.5-u[0]);for(var v=0;v<256;v++)l.lineTo(v,255.5-u[v]);
l.stroke();l.lineWidth=2*D;for(var v=0;v<_.length;v++){var S=_[v].v;l.fillStyle=this.qp==_[v]?"#333":"#fff";
l.beginPath();l.moveTo(S.Hrzn.v,255.5-S.Vrtc.v);l.arc(S.Hrzn.v,255.5-S.Vrtc.v,5*D,0,2*Math.PI);l.stroke();
l.fill()}}else{var u=this._V;l.strokeStyle="#000000";l.beginPath();l.moveTo(0,255.5-u[0]);for(var v=0;
v<256;v++)l.lineTo(v,255.5-u[v]);l.stroke()}if(this.eu)l.restore();var v=this.a6n();this.coords.className=v==-1?"disabled":"";
if(v==-1)return;var S=this._V[v].v,h=255/this.PP;this.$$.j(Math.round(S.Hrzn.v/h));this.Ri.j(Math.round(S.Vrtc.v/h));
if(S.Cnty)this.k5.j(S.Cnty.v)};function ky(l,o){f1.call(this);this.Z=M.a("span","");this.rA=new bU([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.rA.O(k.E.B,this.$u,this);this.Z.appendChild(this.rA.Z);M.wR(this.Z);var D=M.a("div");this.Z.appendChild(D);
D.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.Pf=M.a("canvas");var H=this.Pf;
D.appendChild(H);H.width=Math.round(l*M.Y());H.height=Math.round(100*M.Y());M.nY(H,H.width,H.height);
H.style.display="block";this.Ig=H.getContext("2d");this.oZ=null;this.Px=0;this.ao3=null;this.aov=[];
this.mO=[];var _=["Mean:","Pixels:"],u=this.Z;if(o)for(var v=0;v<_.length;v++){var S=new eW(_[v]);this.aov.push(S);
u.appendChild(S.Z);var h=new eW("hi");this.mO.push(h);u.appendChild(h.Z);M.wR(u)}}ky.prototype=new f1;
ky.prototype.k=function(){this.rA.k()};ky.prototype.IW=function(l){this.rA.j(l);this.$u()};ky.prototype.j=function(l,o){this.oZ=l;
this.ao3=o;this.$u()};ky.prototype.BM=function(l){if(l==this.Px)return;this.Px=l;this.$u()};ky.prototype.$u=function(){if(this.oZ==null)return;
var l=this.Pf,o=this.Ig,D=this.oZ,H=this.ao3,_=this.rA.l(),u=6e3/D[4],S="#"+g.Bi(this.Px),h=ky.a39;l.width=l.width;
o.setTransform(l.width/256,0,0,-l.height/100,0,l.height);o.globalCompositeOperation="lighter";if(_==0)h(o,D[0],u/3,S);
else if(_<4)h(o,D[_],u,S);else{h(o,D[1],u,"#ff0000");h(o,D[2],u,"#00ff00");h(o,D[3],u,"#0000ff")}o.setTransform(1,0,0,1,0,0);
if(H!=null){if(_==4)_=0;var F=0;for(var v=0;v<256;v++)F+=v*D[_][v];if(_==0)F/=3;this.mO[0].j((F/H).toFixed(1)+"");
this.mO[1].j(H+"")}};ky.a39=function(l,o,D,H){l.beginPath();l.moveTo(0,0);for(var _=0;_<256;_++)l.lineTo(_,o[_]*D);
l.lineTo(256,0);l.closePath();l.fillStyle=H;l.fill()};function fw(l,o){f1.call(this);this.iC={$:0,H:0,J:0};
if(Math.abs(l-256/M.Y())<10)l=256/M.Y();var D=this.Z=M.a("div","flexrow");D.style.position="relative";
var H=this.aqp=M.a("div");D.appendChild(H);this.qx=new he;this.D4=new he;this.bE=this.zB.bind(this);
this.j5=this.a04.bind(this);this.Pf=M.a("canvas","");this.Ig=this.Pf.getContext("2d");this.Pf.width=this.Pf.height=256;
this.ac2=this.Ig.getImageData(0,0,256,256);this.al3=-1;this.awX="";this.k4=null;M.zl(this.Pf);M.GY(this.Pf,this.aoy.bind(this));
H.appendChild(this.Pf);this.aD_=this.arp.bind(this);this.au9=this.ahp.bind(this);this.K0=M.a("canvas","");
this.A5=this.K0.getContext("2d");this.K0.width=20;this.K0.height=256;this.amH=this.A5.getImageData(0,0,20,256);
fw.amg(this.amH.data,20,256);M.zl(this.K0);M.GY(this.K0,this.ak4.bind(this));D.appendChild(this.K0);
this.Pf.setAttribute("style","width:"+l+"px; height:"+l+"px");this.K0.setAttribute("style","width:16px; height:"+l+"px");
this.Bw=new km("Web Colors\u2001");this.Bw.O(k.E.B,this.update,this);this.Lg=new km("CMYK gamut");this.Lg.O(k.E.B,this.update,this);
if(o){M.wR(H);H.appendChild(this.Bw.Z);H.appendChild(this.Lg.Z)}var _=this.Gp=document.createElementNS("http://www.w3.org/2000/svg","svg");
D.appendChild(_)}fw.prototype=new f1;fw.prototype.Av=function(l,o){this.Pf.style.width=this.aqp.style.width=l-16+"px"};
fw.prototype.j=function(l){if(this.Bw.l()){var o=JSON.parse(JSON.stringify(l));fw.KT(o);var D=this.l();
if(o.$==D.$&&o.H==D.H&&o.J==D.J)l=this.iC}this.iC=l;this.update()};fw.prototype.l=function(){var l=JSON.parse(JSON.stringify(this.iC));
if(this.Bw.l())fw.KT(l);return l};fw.prototype.update=function(){var l=this.iC,o=g.UM(l.$,l.H,l.J),h=18;
if(o.zh==0)o.lv=this.qx.x/255;if(o.lv==0||o.zh==0)o.B9=(255-this.nv(this.D4.y))/255;if(o.zh!=0)this.qx.x=o.lv*255;
this.qx.y=(1-o.zh)*255;this.D4.y=(1-o.B9)*255;var D=this.ac2,H=this.Bw.l(),_=this.Lg.l(),u=H+","+_;if(Math.abs(o.B9-this.al3)>.002||this.awX!=u){this.a4n(D.data,256,256,o.B9,H,_);
this.aw$();this.al3=o.B9;this.awX=u}var S=this.Ig;S.putImageData(D,0,0);D=this.amH;S=this.A5;S.putImageData(D,0,0);
S.strokeStyle="#ffffff";S.beginPath();S.moveTo(0,this.D4.y);S.lineTo(20,this.D4.y);S.lineWidth=2;S.stroke();
var F=this.qx.y/255,n=parseFloat(this.Pf.style.width),R=parseFloat(this.Pf.style.height),s=this.Gp;s.setAttribute("width",h);
s.setAttribute("height",h);var Z=Math.round(l.$*255)<<16|Math.round(l.H*255)<<8|Math.round(l.J*255),O="<circle cx=\""+h/2+"\" cy=\""+h/2+"\" r=\""+h/2+"\" fill=\"#"+g.Bi(Z)+"\"></circle>";
O+="<circle cx=\""+h/2+"\" cy=\""+h/2+"\" r=\""+(-.5+h/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*F)+")\" stroke-width=\"1\"></circle>";
O+="<circle cx=\""+h/2+"\" cy=\""+h/2+"\" r=\""+(-1.2+h/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
s.innerHTML=O;s.style.pointerEvents="none";s.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
s.style.position="absolute";s.style.left=n*(this.qx.x/255)-h/2+"px";s.style.top=R*(this.qx.y/255)-h/2+"px"};
fw.KT=function(l){l.$=~~(.5+l.$*5)*.2;l.H=~~(.5+l.H*5)*.2;l.J=~~(.5+l.J*5)*.2};fw.prototype.a4n=function(l,o,D,H,_,u){var S=1/o,h=1/D;
for(var F=0;F<D;F++)for(var n=0;n<o;n++){var R=g.cO(H,n*S,(D-F-1)*h);if(_)fw.KT(R);var v=F*o+n<<2;l[v+0]=~~(R.$*255);
l[v+1]=~~(R.H*255);l[v+2]=~~(R.J*255);l[v+3]=255}if(u){var s=l.slice(0),Z=g.jZ("rgbToRgbC"),O=Z[2],w=Z[3];
ICC.U.applyLUT(w,O,s,s);this.k4=g.o(o*D);for(var v=0;v<l.length;v+=4){var m=l[v]-s[v],V=l[v+1]-s[v+1],q=l[v+2]-s[v+2],i=m*m+V*V+q*q;
if(i>300){l[v]=l[v+1]=l[v+2]=200;this.k4[v>>>2]=255}}}};fw.amg=function(l,o,D,H,_){if(H==null)H=1;if(_==null)_=0;
var u=new Uint32Array(l.buffer);for(var S=0;S<D;S++){var h=g.cO((1+H*(1-S/D)+_)%1,1,1),F=255<<24|h.J*255<<16|h.H*255<<8|h.$*255;
for(var n=0;n<o;n++)u[S*o+n]=F}};fw.prototype.aoy=function(l){M.en(window,this.bE);M.Bv(window,this.j5);
this.zB(l);this.Gp.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.Gp.style.transform="scale(2.4)"};
fw.prototype.a04=function(l){M.ie(window,this.bE);M.OF(window,this.j5);this.Gp.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.Gp.style.transform="scale(1)"};fw.prototype.zB=function(l){var o=M.Kx(l,this.Pf);o.x=o.x*(256/parseFloat(this.Pf.style.width));
o.y=o.y*(256/parseFloat(this.Pf.style.height));this.qx.pN(this.nv(o.x),this.nv(o.y));this.aw$();this.FS()};
fw.prototype.aw$=function(){if(!this.Lg.l())return;var l=this.qx,o=0,D=0,H=1e9;for(var _=0;_<256;_++){for(var u=0;
u<256;u++){if(this.k4[_*256+u]==255)continue;var S=u-l.x,h=_-l.y,F=S*S+h*h;if(F<H){o=u;D=_;H=F}}}l.x=o;
l.y=D};fw.prototype.FS=function(){this.iC=this.adA();this.A(new jJ(k.E.B))};fw.prototype.adA=function(){var l=g.cO((255-this.nv(this.D4.y))/255,this.zs(this.qx.x/255),this.zs(1-this.qx.y/255));
return{$:l.$,H:l.H,J:l.J}};fw.prototype.ak4=function(l){M.en(window,this.aD_);M.Bv(window,this.au9);
this.arp(l)};fw.prototype.ahp=function(l){M.ie(window,this.aD_);M.OF(window,this.au9)};fw.prototype.arp=function(l){var o=M.Kx(l,this.K0);
o.y=o.y*(256/parseFloat(this.K0.style.height));this.D4.pN(this.nv(o.x),this.nv(o.y));this.FS()};fw.prototype.nv=function(l){return Math.max(0,Math.min(255,l))};
fw.prototype.zs=function(l){return Math.max(0,Math.min(1,l))};function iy(l,o,D,H){var _=ei.uo(o,H);
ei.call(this,l,_,D)}iy.prototype=new ei;function kN(){f1.call(this);this.Ay=null;this.Gc=new cO;this.Gc.O(k.E.B,this.adR,this);
this.Gc.parent=this;this.VH=new gs([12,14,0],1,150,"px",0,!0);this.VH.O(k.E.B,this.V4,this);this.VH.parent=this;
this._j=new gs([16,0],.01,100,"px",2,!0,null,5);this._j.O(k.E.B,this.V4,this);this._j.parent=this;this.$U=new km("Auto");
this.$U.O(k.E.B,this.V4,this);this.Hk=new gs([16,1],-500,5e3,"%",0,!0);this.Hk.O(k.E.B,this.V4,this);
this.Hk.parent=this;this.Y2=new gs("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.Y2.O(k.E.B,this.V4,this);
this.Y2.parent=this;this.tr=new gs("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.tr.O(k.E.B,this.V4,this);
this.tr.parent=this;this.iR=new gs([16,2],-10,10,"px");this.iR.O(k.E.B,this.V4,this);this.iR.parent=this;
this.bu=new jv(!0);this.bu.O(k.E.B,this.uZ,this);this.bu.parent=this;this.np=new jv(!0);this.np.O(k.E.B,this.uZ,this);
this.np.parent=this;this.H7=new jv(!0);this.H7.O(k.E.B,this.uZ,this);this.H7.parent=this;this.wT=new jv(!0);
this.wT.O(k.E.B,this.uZ,this);this.wT.parent=this;this.zZ=new km([2,3]);this.zZ.O(k.E.B,this.V4,this);
this.q5=new km([14,9]);this.q5.O(k.E.B,this.V4,this);this.Zj=new km([12,46]);this.Zj.O(k.E.B,this.V4,this);
this.rp=new cg("...",null,null,!0);this.rp.Z.style.marginLeft="-8px";M.GY(this.rp.Z,this.aAI.bind(this));
this.Bk=new f1;var l=this.Bk.Z=M.a("div","floatcont form"),_=100;this.Bk.parent=this;this.e1=new gs([12,41],1,20,"px",0,!0,!0);
this.e1.Z.style.marginLeft="16px";this.e1.O(k.E.B,this.V4,this);this.e1.parent=this.Bk;l.appendChild(this.np.Z);
l.appendChild(this.zZ.Z);M.wR(this.Bk.Z);l.appendChild(this.H7.Z);l.appendChild(this.q5.Z);l.appendChild(this.e1.Z);
M.wR(this.Bk.Z);l.appendChild(this.wT.Z);l.appendChild(this.Zj.Z);this.Jb=new cg("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.nK=new cg("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.bf=new cg("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.VS=new cg("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.s9=new cg("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.sP=new cg("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.Mr=new cg("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.uI=new cg("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var o=[this.Jb,this.nK,this.bf,this.VS,this.s9,this.sP,this.Mr,this.uI];
for(var v=0;v<o.length;v++)o[v].O("click",this.aky,this);this.Ni=new cg("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.f9=new cg("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.xa=new cg("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.akp=new cg("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.aa3=new cg("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.a2H=new cg("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.ax9=new cg("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.nQ=[this.Ni,this.f9,this.xa,this.akp,this.aa3,this.a2H,this.ax9];for(var v=0;v<this.nQ.length;v++)this.nQ[v].O("click",this.V4,this);
var D=["lind","rind","flind","bind","aind"],H=[];for(var v=0;v<5;v++)H.push("<img src=\""+PIMG["par/"+D[v]]+"\" class=\"autoscale gsicon\" /> ");
this.c2=new gs(H[0],-_,_,"px");this.oS=new gs(H[1],-_,_,"px");this.L9=new gs(H[2],-_,_,"px");this.Tq=new gs(H[3],-_,_,"px");
this.sH=new gs(H[4],-_,_,"px");this.Ds=new ei([12,33],["Abc ...","... Ø£ÙŠ Ø¨ÙŠ"]);this.Hp=new gs(["Auto VAR0",[16,0]],0,500,"%");
this.Sq=[this.c2,this.oS,this.L9,this.Tq,this.sH,this.Ds,this.Hp];for(var v=0;v<this.Sq.length;v++){var u=this.Sq[v];
u.O(k.E.B,this.V4,this);u.parent=this}}kN.prototype=new f1;kN.prototype.aAI=function(l){if(M.Ve(this.Bk.Z))return;
l.stopPropagation();var o=this.rp.Z.getBoundingClientRect(),D=new jJ(k.E.b,!0);D.data={q:k.L.jq,VG:this.Bk,x:o.left,y:o.top+o.height+4};
this.A(D)};kN.prototype.k=function(){this.Gc.k();this.VH.k();this._j.k();this.Hk.k();this.iR.k();this.Y2.k();
this.tr.k();this.zZ.k();this.q5.k();this.Zj.k();this.e1.k();for(var v=0;v<this.Sq.length;v++)this.Sq[v].k()};
kN.prototype.j=function(l,o,D){this.Hv=JSON.parse(JSON.stringify(l));var H=this.Hv,_=H.i7,u=H.z5;this.Jb.j(_.FauxBold!=null?_.FauxBold:!1);
this.nK.j(_.FauxItalic!=null?_.FauxItalic:!1);this.bf.j(_.FontCaps==2);this.VS.j(_.FontCaps==1);this.sP.j(_.FontBaseline==1);
this.s9.j(_.FontBaseline==2);this.Mr.j(_.Underline);this.uI.j(_.Strikethrough);this.Gc.j(_.Font==null?null:H.LJ[_.Font].Name,o,D);
var S=_.FontSize==null?20:_.FontSize;this.VH.j(S);var h=_.Tracking;this.Hk.j(h==null?0:h);this.e1.j(_._LineWidth!=null?_._LineWidth:1);
this._j.j(_.Leading!=null&&_.Leading!=0?_.Leading:S);this.$U.j(_.AutoLeading);this.Y2.j((_.VerticalScale!=null?_.VerticalScale:0)*100);
this.tr.j((_.HorizontalScale!=null?_.HorizontalScale:0)*100);this.iR.j(_.BaselineShift!=null?_.BaselineShift:0);
this.zZ.j(_.FillFlag!=null?_.FillFlag:!1);this.q5.j(_.StrokeFlag!=null?_.StrokeFlag:!1);this.Zj.j(_._FillBackgroundFlag!=null?_._FillBackgroundFlag:!1);
this.u2(_.FillColor,this.bu);this.u2(_.FillColor,this.np);this.u2(_.StrokeColor,this.H7);this.u2(_._FillBackgroundColor,this.wT);
var F=u._Direction!=null?u._Direction:0,n=fX.ql(u);for(var v=0;v<this.nQ.length;v++)this.nQ[v].j(n==v);
this.Ds.j(F);this.Hp.j((u.AutoLeading!=null?u.AutoLeading:1.2)*100);this.c2.j(u.StartIndent!=null?u.StartIndent:0);
this.oS.j(u.EndIndent!=null?u.EndIndent:0);this.L9.j(u.FirstLineIndent!=null?u.FirstLineIndent:0);this.Tq.j(u.SpaceBefore!=null?u.SpaceBefore:0);
this.sH.j(u.SpaceAfter!=null?u.SpaceAfter:0)};kN.prototype.u2=function(l,o){if(l){var D=fX.s3(l);o.BM(Math.round(D.$)<<16|Math.round(D.H)<<8|Math.round(D.J))}else o.BM(0)};
kN.prototype.YU=function(){var l=new jJ(k.E.b,!0);l.data={q:k.L.lN,au:is.MV,Hv:this.Hv};this.A(l);var l=new jJ(k.E.r,!0);
l.S=p.gg;l.data={q:"updateStyles"};this.A(l)};kN.prototype.aky=function(l){var o=this.Hv.i7,D=l.target,H=!D.hf();
if(D==this.Jb)o.FauxBold=H;if(D==this.nK)o.FauxItalic=H;if(D==this.bf)o.FontCaps=H?2:0;if(D==this.VS)o.FontCaps=H?1:0;
if(D==this.sP)o.FontBaseline=H?1:0;if(D==this.s9)o.FontBaseline=H?2:0;if(D==this.Mr)o.Underline=H;if(D==this.uI)o.Strikethrough=H;
this.YU()};kN.prototype.V4=function(l){var o=this.Hv.i7,D=this.Hv.z5,H=l.target;if(H==this.Hk){var _=this.Hk.l();
o.Tracking=_}if(H==this._j){o.AutoLeading=!1;o.Leading=this._j.l()}if(H==this.$U){o.AutoLeading=this.$U.l()}if(H==this.e1)o._LineWidth=H.l();
if(H==this.VH)o.FontSize=H.l();if(H==this.Y2)o.VerticalScale=H.l()/100;if(H==this.tr)o.HorizontalScale=H.l()/100;
if(H==this.iR)o.BaselineShift=H.l();if(H==this.zZ)o.FillFlag=H.l();if(H==this.q5)o.StrokeFlag=H.l();
if(H==this.Zj)o._FillBackgroundFlag=H.l();if(this.nQ.indexOf(H)!=-1){D.Justification=fX.ql(D,this.nQ.indexOf(H))}if(H==this.c2)D.StartIndent=H.l();
if(H==this.oS)D.EndIndent=H.l();if(H==this.L9)D.FirstLineIndent=H.l();if(H==this.Tq)D.SpaceBefore=H.l();
if(H==this.sH)D.SpaceAfter=H.l();if(H==this.Ds)D._Direction=H.l();if(H==this.Hp)D.AutoLeading=H.l()/100;
this.YU()};kN.prototype.adR=function(l){var o=this.Hv,D=this.Gc.l(),H=-1;for(var v=0;v<o.LJ.length;v++)if(o.LJ[v].Name==D)H=v;
if(H==-1){H=o.LJ.length;var _=JSON.parse(JSON.stringify(o.LJ[0]));_.Name=D;o.LJ.splice(H,0,_)}o.i7.Font=H;
this.YU()};kN.prototype.uZ=function(l){var o=l.target,D=o.rX(),H={Type:1,Values:[1,(D>>16&255)/255,(D>>8&255)/255,(D>>0&255)/255]};
for(var v=0;v<4;v++)H.Values[v]=Math.round(H.Values[v]*1e3)/1e3;var _=o==this.bu||o==this.np?0:o==this.H7?1:2;
this.Hv.i7[["FillColor","StrokeColor","_FillBackgroundColor"][_]]=H;this.YU()};function cO(){f1.call(this);
this.Z=M.a("span","fontinput");this.v2=null;this.zz=null;this.UE=null;this.bW="";this.xG={};this.xB=[];
this.Bz={};this.aqL={};this.sw=[];this.Yw=!1;this.qo=M.a("button","fitem");this.qo.setAttribute("style","width:9em;");
this.qo.textContent="Family Name \u25BC";this.Z.appendChild(this.qo);M.GY(this.qo,this.ati.bind(this));
this.TO=new f1;this.TO.parent=this;var l=this.TO.Z=M.a("div","floatcont");l.style.padding="7px 7px 3px 7px";
var o=new eW("Recent");l.appendChild(o.Z);var D=this.aCp=new cg([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
D.O("click",this.axH,this);D.Z.style.float="right";l.appendChild(D.Z);var H=this.M3=new km("Local Fonts");
H.O(k.E.B,this.a1y,this);H.Z.style.float="right";H.Z.style.marginRight="10px";H.Z.style.marginTop="3px";
l.appendChild(H.Z);M.wR(l);this.ad=M.a("span","fitem imageset scrollable");this.ad.style.maxHeight="8em";
l.appendChild(this.ad);var _=M.a("div","form");this.TO.Z.appendChild(_);this.t$=new cg(M.u_("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.t$.O("click",this.aml,this);_.appendChild(this.t$.Z);this.lW=new g7([12,86],null,7.5);this.lW.O("input",this.P6,this);
_.appendChild(this.lW.Z);this.CL=new dQ(10,"\u2630");_.appendChild(this.CL.Z);this.CL.parent=this.TO;
this.CL.O(k.E.B,this.um,this);this.CL.Z.style.float="right";this.CL.Z.style.marginRight="0";this.ev=M.a("span","fitem imageset scrollable");
this.ev.style.height="30em";this.TO.Z.appendChild(this.ev);this.ev.addEventListener("scroll",this.adb.bind(this),!1);
this.ct=M.a("button","fitem");this.ct.setAttribute("style","width:7em;");this.ct.textContent="SubFamily Name \u25BC";
this.Z.appendChild(this.ct);M.GY(this.ct,this.ati.bind(this));this.Su=new f1;this.Su.parent=this;this.Su.Z=M.a("div","floatcont");
this.HO=M.a("span","fitem imageset scrollable");this.Su.Z.appendChild(this.HO);this.aCB=this.ape.bind(this);
this.aEz=this.azv.bind(this)}cO.prototype=new f1;cO.prototype.a1y=function(l){ey.rz.td(l.target.l(),function(){this.j();
this.um()}.bind(this),function(){this.M3.j(!1)}.bind(this));this.um()};cO.prototype.adb=function(l){var o=this.ev.scrollTop,D=this.xB,H=Math.floor(o/27),_=Math.min(H+20,D.length);
for(var v=H;v<_;v++)this.aqy(D[v])};cO.prototype.axH=function(){var l=new jJ(k.E.b,!0);l.data={q:k.L.z4};
this.A(l)};cO.prototype.k=function(){this.CL.k();this.aCp.k();this.M3.j(ey.rz.hf());this.t$.Qx(M.u_("tools/cshape",null,"autoscale"))};
cO.prototype.aml=function(l){this.t$.j(!this.t$.hf());this.um()};cO.prototype.P6=function(l){this.bW=this.lW.l().toLowerCase();
this.um()};cO.prototype.ati=function(l){M.nw(l);var o=l.currentTarget,D=o.getBoundingClientRect(),H=o==this.qo,_=H?this.TO:this.Su;
if(M.Ve(_.Z)){this.aur(_);return}if(!H&&this.v2.yG()[this.UE]==null)return;var u=new jJ(k.E.b,!0);u.data={q:k.L.jq,VG:_,x:D.left,y:D.top+D.height};
this.A(u);if(H){this.um(null,!0)}};cO.prototype.ape=function(l){var o=l.currentTarget.firstChild.nextSibling.textContent;
if(l.target.tagName.toLowerCase()=="button"){var D=this.zz.slice(0),H=D.indexOf(o);if(H==-1){D=D.slice(Math.max(0,D.length-29));
D.push(o)}else D.splice(H,1);var _=new jJ(k.E.b,!0);_.data={q:k.L.lN,au:is.ml,zc:D};this.A(_);this.Yw=!0;
this.um()}else{this.ahd(o,null)}};cO.prototype.azv=function(l){this.ahd(null,l.currentTarget.firstChild.textContent)};
cO.prototype.ahd=function(l,o){var D=l==null?this.Su:this.TO,H=this.v2;if(l==null)l=H.yG()[this.UE][0];
else{var _=H.HU(l),u=H.yG()[this.UE];o=ey.NI(_,u?u[1]:"regular")}var S=H.vV(l,o)[2];this.j(S,H);this.A(new jJ(k.E.B,!1));
this.aur(D);this.um()};cO.prototype.aur=function(l){var o=new jJ(k.E.b,!0);o.data={q:k.L.H0,VG:l};this.A(o)};
cO.prototype.l=function(){return this.UE};cO.prototype.j=function(l,o,D){var H=this.v2;if(l!=null)this.UE=l;
else l=this.UE;if(o)this.v2=o;else o=this.v2;if(D)this.zz=D;else D=this.zz;if(l!=null){var _=o.yG()[l],u,S;
if(_==null){u="- "+l;S="-------"}else{u=_[0];S=_[1];var h=this.sw;for(var v=0;v<h.length;v++)if(h[v][0][0]==u)h.splice(v,1);
h.push([_,Date.now()]);h.sort(function(s,Z){return Z[1]-s[1]});h=h.slice(0,10);M.o7(this.ad);for(var v=1;
v<h.length;v++){var F=h[v][0],n=this.Zb(F,!0);this.Yc(n,F,!0);this.ad.appendChild(n)}var R=o.HU(u);R.sort(ey.auz);
this.HO.textContent="";for(var v=0;v<R.length;v++){var _=o.vV(u,R[v]);if(!this.CL.uY(_))continue;var n=this.Zb(_,!1);
this.HO.appendChild(n)}}this.qo.textContent=u.substring(0,15)+" \u25BC";this.qo.setAttribute("title",u+", \""+l+"\"");
this.ct.textContent=S.substring(0,10)+" \u25BC";this.ct.setAttribute("title",S)}};cO.prototype.um=function(l,o){var D=this.v2.yG()[this.UE],H=this.zz,_=this.v2.a1N();
this.xB=[];var u=this.M3.l();for(var S in _){var h=H.indexOf(S)!=-1,F=this.v2.HU(S),n=!1;for(var v=0;
v<F.length;v++){var R=this.v2.vV(S,F[v]),s=!0;if(this.bW.length>0&&R[0].toLowerCase().indexOf(this.bW)==-1)s=!1;
else if(!this.CL.uY(R))s=!1;else if(this.t$.hf()&&!h)s=!1;else if(R[5]=="--loc"&&!u)s=!1;if(s)n=!0}var Z=this.xG[S];
if(Z==null){var O=ey.NI(_[S],"regular"),w=this.v2.vV(S,O),Z=this.Zb(w,!0);this.xG[S]=Z;this.ev.appendChild(Z);
this.Bz[S]="[true,false,false]"}if(n)this.xB.push(S);var m=D!=null&&D[0]==S;this.aqL[S]="["+n+","+m+","+h+"]";
if(!o)this.aqy(S)}if(D&&!this.Yw){var V=this.xG[D[0]];this.ev.scrollTop=V.offsetTop-210}this.adb();this.Yw=!1};
cO.prototype.aqy=function(l){var o=this.xG[l];if(o.firstChild==null){var D=this.v2.a1N(),H=ey.NI(D[l],"regular"),_=this.v2.vV(l,H);
this.Yc(o,_,!0)}var u=this.Bz[l],S=this.aqL[l];if(u==S)return;var h=JSON.parse(u),F=JSON.parse(S);if(h[0]!=F[0]||h[1]!=F[1]){var n=F[0]?"":"display:none; ";
if(F[1])n+="background-color:rgba(0,0,0,0.13);";o.setAttribute("style",n)}if(h[2]!=F[2])o.firstChild.setAttribute("style","opacity: "+(F[2]?"1":"0.2"));
this.Bz[l]=S};cO.prototype.Zb=function(l,o){var D=M.a("div","fontitem");if(!o)this.Yc(D,l,o);return D};
cO.prototype.Yc=function(l,o,D){var H=o[D?0:1],_=D?this.aCB:this.aEz,F="";l.addEventListener("click",_,!1);
if(D)l.appendChild(M.a("button","star"));var u=M.a("span","label");u.setAttribute("title",H);u.textContent=H;
l.appendChild(u);var S=M.Y(),h=1/S,n=ey.py*h,R=ey.$0*h;if(1<S&&S<1.5)F="width:"+n+"px; height:"+R+"px;";
var s=M.a("span","thumb gsicon");if(o.Fa){F+="background: url("+o.Fa+");";if(1<S&&S<1.5)F+="background-size: "+n+"px "+R+"px;"}else{var Z=Math.ceil(FNTS.list.length/ey.cols),O=Math.floor(o.wN/ey.cols),w=o.wN-O*ey.cols,m=w*ey.py,V=O*ey.$0;
if(1<S&&S<1.5){F+="background-size: "+ey.cols*n+"px "+Z*R+"px;";m*=h;V*=h}F+="background-position:-"+m+"px -"+V+"px;"}s.setAttribute("style",F);
l.appendChild(s)};function dQ(l,o){f1.call(this);this.Z=M.a("button","fitem bbtn");this.Z.addEventListener("click",this.a9$.bind(this),!1);
this.Bk=new f1;this.Bk.Z=M.a("div","floatcont");this.Bk.parent=this;this.V5=M.a("div","flexrow");this.Bk.Z.appendChild(this.V5);
this.Uk=o;this.Vc=[];this.Mn=[];var D=this.V5,H=M.a("div",""),_=M.a("div","");D.appendChild(H);D.appendChild(_);
this.E$=[];for(var v=0;v<FNTS.cats.length;v++)this.E$.push({name:FNTS.cats[v],index:v,vC:0});this.Jw=new km([7,0]);
this.Jw.j(!0);this.Jw.O(k.E.B,this.axb,this);H.appendChild(this.Jw.Z);this.Wq=M.a("div","vlist marged scrollable");
this.Wq.setAttribute("style","width:10.3em; height:"+l+"em; ");H.appendChild(this.Wq);this.OG=[];for(var v=0;
v<this.E$.length;v++){var u=this.E$[v],S=new km(u.name);this.OG.push(S);S.O(k.E.B,this.an6,this);S.j(!0);
this.Wq.appendChild(S.Z);this.Vc.push(1)}this.asv=new km([7,0]);this.asv.O(k.E.B,this.aBC,this);this.TH=M.a("div","vlist marged scrollable");
this.TH.setAttribute("style","width:8.6em; height:"+(l+1.5)+"em; ");_.appendChild(this.TH);this.qk=[];
for(var v=0;v<FNTS.subsetNames.length;v++){var S=new km(FNTS.subsetNames[v]);this.qk.push(S);S.O(k.E.B,this.atW,this);
S.j(!1);this.TH.appendChild(S.Z);this.Mn.push(S.l()?1:0)}}dQ.prototype=new f1;dQ.prototype.ag4=function(l){var o=this.qk;
for(var v=0;v<o.length;v++){var D=(l>>>v&1)==1;this.Mn[v]=D;o[v].j(D)}};dQ.prototype.ap_=function(){return this.V5};
dQ.prototype.k=function(){this.Z.textContent=this.Uk?this.Uk:cU.get([25,1,0])+" \u25BC";this.Jw.k();
this.asv.k()};dQ.prototype.a9$=function(l){var o=this.Z.getBoundingClientRect(),D=new jJ(k.E.b,!0);D.data={q:k.L.jq,VG:this.Bk,x:o.left,y:o.top+o.height,Hi:!0};
this.A(D)};dQ.prototype.uY=function(l){if(this.Vc[l[4]]==0)return!1;else for(var o=0;o<this.Mn.length;
o++)if(this.Mn[o]==1&&(l[3]>>>o&1)==0)return!1;return!0};dQ.prototype.axb=function(l){var o=l.target.l(),D=this.OG,H=this.Vc;
for(var v=0;v<D.length;v++){D[v].j(o);H[v]=o?1:0}this.A(new jJ(k.E.B,!1))};dQ.prototype.aBC=function(l){var o=l.target.l(),D=this.qk,H=this.Mn;
for(var v=0;v<D.length;v++){D[v].j(o);H[v]=o?1:0}this.A(new jJ(k.E.B,!1))};dQ.prototype.an6=function(l){var v=this.OG.indexOf(l.target),o=this.E$[v].index;
this.Vc[o]=1-this.Vc[o];this.A(new jJ(k.E.B,!1));this.aB9(this.OG,this.Jw)};dQ.prototype.atW=function(l){var v=this.qk.indexOf(l.target);
this.Mn[v]=1-this.Mn[v];this.A(new jJ(k.E.B,!1))};dQ.prototype.aB9=function(l,o){var D=!0;for(var v=0;
v<l.length;v++)D=D&&l[v].l();o.j(D)};function bI(l,o,D){e6.call(this,o,!0,"gradientbutton",18*13,10*13,is.z1);
this.Os=-1;this.qg=-1;this.asw=null;this.aDP=l;this.od=D}bI.prototype=new e6;bI.prototype.c6=function(l){var o=this.Kz;
this.j(o[this.G_.l()]);this.A(new jJ(k.E.B))};bI.prototype.FL=function(l){var o=new jJ(k.E.b,!0);o.data={q:k.L.E1,mg:"gradienteditor",G:this.jz,k_:this.ag0.bind(this),z6:this.od};
this.A(o)};bI.prototype.ag0=function(l){this.j(l);this.A(new jJ(k.E.B))};bI.prototype.Lk=function(){if(!this.Ck)return;
var l=Math.floor(36*M.Y()),o=Math.floor(36*M.Y()),D=[],H=[],_=this.Kz,u=Date.now();for(var v=0;v<_.length;
v++){var S=_[v];H.push(S.Nm?S.Nm.v:"");var h=p.Sp.cK(S,l,o,Math.PI/4,this.Os,this.qg);D.push(h)}this.G_.f6(D,H,l,o);
this.Ck=!1};bI.prototype.WC=function(l,o){this.aCD(this.jz,l,o)};bI.prototype.j=function(l){this.aCD(l,this.Os,this.qg)};
bI.prototype.aCD=function(l,o,D){this.Os=o;this.qg=D;if(l==null)return;var H=JSON.stringify(l),_=H+o+","+D;
if(_==this.asw)return;this.asw=_;this.jz=JSON.parse(H);var u=Math.floor(80*M.Y()),S=Math.floor(16*M.Y()),h=p.Sp.cK(this.jz,u,S,0,this.Os,this.qg);
this.UU.setAttribute("src",h);M.nY(this.UU,u,S)};bI.prototype.l=function(){var l;if(this.aDP)l=p.Sp.amQ(this.jz,this.Os,this.qg);
else l=JSON.parse(JSON.stringify(this.jz));return l};function eD(l){e6.call(this,l,!1,"swatchbutton",16*13,8.75*13,is.UB)}eD.prototype=new e6;
eD.prototype.c6=function(l){this.j(this.Kz[l.target.l()]);this.A(new jJ(k.E.B))};eD.prototype.Lk=function(){if(!this.Ck)return;
var l=Date.now(),o=Math.floor(22*M.Y()),D=Math.floor(22*M.Y()),H=[],_=[],u=this.Kz;for(var v=0;v<u.length;
v++){_.push(u[v].$_?u[v].$_.split("=").pop():"");H.push(eD.cK(u[v],o,D))}this.G_.f6(H,_,o,D);this.Ck=!1};
eD.prototype.j=function(l){this.jz=JSON.parse(JSON.stringify(l));this.r9()};eD.prototype.r9=function(){var l=Math.floor(24*M.Y()),o=Math.floor(20*M.Y()),D=eD.cK(this.jz,l,o);
this.UU.setAttribute("src",D);M.nY(this.UU,l,o)};eD.prototype.l=function(){return JSON.parse(JSON.stringify(this.jz))};
eD.Ca={};eD.cK=function(l,o,D){var H=255<<24|l.J<<16|l.H<<8|l.$,_=":"+H,u=eD.Ca;if(u[_])return u[_];
var S=new Uint32Array(o*D);S.fill(H);var h=UPNG.encode([S.buffer],o,D),F=u[_]="data:image/png;base64,"+fj.Im(h);
return F};function bp(l){e6.call(this,null,!0,"swatchbutton",16*13,8.75*13,is.ON);this.xn=l}bp.prototype=new e6;
bp.prototype.c6=function(l){var o=this.Kz,D=l.target.l();this.j(D==0?[]:o.Wo[D-1][1],o);this.A(new jJ(k.E.B))};
bp.prototype.FL=function(l){if(this.jz.length!=0)g2.a2u(this.jz,this,this.FS.bind(this))};bp.prototype.FS=function(l){var o=l;
if(typeof l=="number"){o=g.kJ(l,1);o=[o.$,o.H,o.J]}this.j(o);this.A(new jJ(k.E.B))};bp.prototype.j=function(l,o){this.jz=l;
this.r9(o)};bp.prototype.r9=function(l){var o=Math.floor(20*M.Y()),D=Math.floor(20*M.Y()),H=M.a("canvas"),_=H.getContext("2d");
H.width=o;H.height=D;g2.fm(_,this.jz,l,o,D,0,0,this.xn==1);var u=_.canvas.toDataURL("png");this.UU.setAttribute("src",u);
M.nY(this.UU,o,D)};bp.prototype.Lk=function(){if(!this.Ck)return;var l=Math.floor(20*M.Y()),o=Math.floor(20*M.Y()),D=[],H=[],_=this.Kz,u=_.Wo,S=M.a("canvas"),h=S.getContext("2d");
S.width=l;S.height=o;u=[["None",[]]].concat(u);for(var v=0;v<u.length;v++){H.push(u[v][0]);g2.fm(h,u[v][1],_,l,o,0,0);
var F=h.canvas.toDataURL("png");D.push(F)}this.G_.f6(D,H,l,o);this.Ck=!1};bp.prototype.l=function(){return JSON.parse(JSON.stringify(this.jz))};
function c$(l,o,D){f1.call(this);this.Z=M.a(D?"div":"span");var H=this.NV=M.a("input");this.NV.setAttribute("type","file");
if(o)H.setAttribute("multiple","");this.NV.addEventListener("change",this.ayu.bind(this),!1);this.a7q=this.aus.bind(this);
this.G1={};this.gt=0;this.QX=l;var _=this.qr=new cg(cU.get(l)+" (0)",null,null,!0);this.Z.appendChild(_.Z);
_.addEventListener("click",function(u){H.click()});if(D){this.eb=M.a("div","scrollable");this.eb.setAttribute("style","height:120px; width:100%; line-height:1.5em;");
this.Z.appendChild(this.eb);this.$u()}}c$.prototype=new f1;c$.prototype.j=function(l){this.G1=l;this.$u()};
c$.prototype.l=function(l){return this.G1};c$.prototype.ayu=function(l){var o=l.target.files;this.gt=o.length;
this.G1={};for(var v=0;v<o.length;v++){var D=o[v],H=new FileReader;H.onload=this.a7q;H.Qn=D.name;H.readAsArrayBuffer(D)}};
c$.prototype.aus=function(l){var o=this.G1[l.target.Qn]=new Uint8Array(l.target.result);this.gt--;if(this.gt==0){this.$u();
this.A(new jJ(k.E.B));this.NV.value=null}};c$.prototype.$u=function(){var l=this.G1;this.qr.Qx(cU.get(this.QX)+" ("+Object.keys(l).length+")");
var o=this.eb;if(o==null)return;M.o7(o);var D=[];for(var H in l)D.push(H);D.sort();for(var v=0;v<D.length;
v++){var _=M.a("div");_.textContent=D[v];o.appendChild(_)}};function dd(l,o,D,H,_){if(l==null)l=!1;if(o==null)o=!1;
if(D==null)D=!1;f1.call(this);this.Yg=new he;this.BB=new he;this.wh=72;this.oX=72;this.S7=!0;this.FN=!1;
this.Z=M.a("span");this.As=new gs([12,41],0,0,null,0,!1,!0,4);this.Z.appendChild(this.As.Z);this.As.O(k.E.B,this.dy,this);
var u=["px","%"];if(l)u=u.concat(["cm","mm","in"]);if(_){u=[[12,76,2],[12,76,6]];if(l)u=u.concat([[12,76,4],[12,76,5],[12,76,3]])}this.b4=new bU(null,u);
this.Z.appendChild(this.b4.Z);M.wR(this.Z);this.b4.O(k.E.B,this.dy,this);this.zO=new gs([12,42],0,0,null,0,!1,!0,4);
this.Z.appendChild(this.zO.Z);this.zO.O(k.E.B,this.dy,this);var S=new cg("\u21F5",!1,null,!0);S.O("click",this.Lh,this);
this.HG=new cg("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.HG.O("click",this.dy,this);
this.ez=new eW("");this.ez.Z.style.margin="0";this.ez.Z.style.padding="0";if(o){this.Z.appendChild(this.HG.Z);
this.Z.appendChild(this.ez.Z);this.HG.PL()}else this.Z.appendChild(S.Z);this.fk=new gs("DPI",0,0,null,3,!1,!0,4);
this.WV=new bU(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(l&&!H){M.wR(this.Z);this.Z.appendChild(this.fk.Z);
this.Z.appendChild(this.WV.Z)}this.WV.O(k.E.B,this.dy,this);this.fk.O(k.E.B,this.dy,this);this.XM=new km([12,23,1]);
this.XM.O(k.E.B,this.dy,this);if(D){M.wR(this.Z);this.Z.appendChild(this.XM.Z)}M.wR(this.Z)}dd.prototype=new f1;
dd.prototype.Av=function(l,o){this.As.c1.style.width=this.zO.c1.style.width=(l-78-this.HG.qU())/2+"px"};
dd.prototype.pr=function(){this.As.pr();this.zO.pr();this.b4.pr();var l=this.Z;M.o7(l);this.b4.Z.style.marginRight="0";
l.appendChild(this.As.Z);l.appendChild(this.HG.Z);l.appendChild(this.zO.Z);l.appendChild(this.b4.Z)};
dd.prototype.c4=function(){this.As.c4()};dd.prototype.aCf=function(l,o){this.S7=l;if(o!=null)this.FN=o;
if(!this.S7&&!this.FN&&this.b4.l()==0){this.b4.j(4);this.kq()}};dd.prototype.a3X=function(l){this.HG.j(l)};
dd.prototype.k=function(){this.As.k();this.zO.k();this.fk.k();this.WV.k();this.HG.k();this.XM.k();this.b4.k()};
dd.prototype.Lh=function(l){var o=this.BB.x;this.BB.x=this.BB.y;this.BB.y=o;this.kq();this.A(new jJ(k.E.B,!1))};
dd.prototype.dy=function(l){if(l.target==this.b4&&!this.S7&&!this.FN&&this.b4.l()==0)this.b4.j(4);if(l.target==this.b4||l.target==this.XM){this.kq();
return}if(l.target==this.HG)l.target.j(!l.target.l());if(l.target==this.WV)window.locStor.setItem("dpiUnit",this.WV.l());
var o=this.Yg,D=parseFloat(this.As.l());if(isNaN(D))D=1;var H=parseFloat(this.zO.l());if(isNaN(H))H=1;
var _=this.fk.l()*[1,2.54][this.WV.l()],u=this.b4.l();if(this.S7){var S=this.oX;if(u==1){D=this.Yg.x*(D/100);
H=this.Yg.y*(H/100)}var h=[1,1,2.54/S,25.4/S,1/S][u];D/=h;H/=h;if(this.XM.l()){D+=this.Yg.x;H+=this.Yg.y}if(l.target==this.fk){var F=_;
if(!this.FN){var n=F/S;D*=n;H*=n}S=F}if(this.HG.l()){if(l.target==this.As)H=D*(o.y/o.x);else D=H*(o.x/o.y)}D=Math.max(Math.abs(D),1);
H=Math.max(Math.abs(H),1)}else{var S=this.wh;if(l.target==this.fk)S=_;else{if(this.HG.l()){if(l.target==this.As)H=D*(o.y/o.x);
else D=H*(o.x/o.y)}var h=[1,1,2.54/S,25.4/S,1/S][u],R=D/(u==1?100:o.x*h);S=S/R}D=o.x;H=o.y}this.BB=new he(Math.round(D),Math.round(H));
this.oX=S;this.kq();this.A(new jJ(k.E.B,!1))};dd.prototype.df=function(v){this.b4.j(v);this.kq()};dd.prototype.j=function(l,o,D){var H=window.locStor.getItem("dpiUnit");
if(H!=null)this.WV.j(H);if(D!=!0)this.Yg=l.clone();this.BB=l.clone();if(o!=null){this.wh=o;this.oX=o}this.kq()};
dd.prototype.kq=function(){var l=this.BB.x,o=this.BB.y,D=this.oX,H=(l/o).toFixed(3);while(H.charAt(H.length-1)=="0")H=H.substring(0,H.length-1);
if(H.charAt(H.length-1)==".")H=H.substring(0,H.length-1);var _="  "+H+" : 1",u=function(R,s){while(s!=0){var Z=s;
s=R%s;R=Z}return R},S=u(l,o);if(Math.min(l,o)/S<10)_="  "+Math.round(l/S)+" : "+Math.round(o/S);this.ez.j(_);
if(this.XM.l()){l-=this.Yg.x;o-=this.Yg.y}var h=this.b4.l();if(h==1){if(this.S7){l=100*l/this.Yg.x;o=100*o/this.Yg.y}else{l=o=100*this.wh/this.oX}}else{l=Math.round(l);
o=Math.round(o)}var F=[1,1,2.54/D,25.4/D,1/D][h];l*=F;o*=F;var n=h==1||h==2||h==4?2:0;this.As.uB(n);
this.zO.uB(n);this.As.j(l);this.zO.j(o);this.fk.j(D*[1,1/2.54][this.WV.l()])};dd.prototype.l=function(){return this.BB.clone()};
dd.prototype.Nc=function(){return this.oX};function ax(l,o,D){f1.call(this);var H=l==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.m0=l;this.ajg=o;this.dl=1;this.jm=[1,1,0];var _=this.Z=M.a("div","numlist"),u=this.$K=[];for(var v=0;
v<4;v++){var S=new gs(H[v],0,0,null,2,!1,!0,4,null,D&&(v==0||v==2));S.O(k.E.B,this.dy,this);_.appendChild(S.Z);
u[v]=S;if(v==1||v==3)M.wR(_)}u[4]=new km(l==0?[12,51]:[12,91,2]);u[4].j(!0);_.appendChild(u[4].Z)}ax.prototype=new f1;
ax.prototype.k=function(){var l=this.$K;for(var v=0;v<5;v++)l[v].k();if(this.m0==0)M.BU(l[0],l[2])};
ax.prototype.j=function(l,o,D){if(o)this.jm=o;o=this.jm;var H=D?l:this.m0==0?[l[2],l[0],l[3],l[1]]:[l[0],l[1],l[3],l[2]];
this.dl=H[0]/H[2];for(var v=0;v<4;v++){var _=this.$K[v];_.uB(o[2]==0&&this.ajg?0:2);_.j(g.vL.aun(H[v],o[0],o[1],o[2]))}};
ax.prototype.l=function(l){var o=[],D=this.jm;for(var v=0;v<4;v++){var H=g.vL.bQ(this.$K[v].l(),D[0],D[1],D[2]);
o[v]=this.ajg?Math.round(H):H}return l?o:this.m0==0?[o[1],o[3],o[0],o[2]]:[o[0],o[1],o[3],o[2]]};ax.prototype.dy=function(l){var o=this.m0,D=this.$K.indexOf(l.currentTarget),H=this.l(!0),_=this.$K[4].l();
if(o==0){H[0]=Math.max(1,H[0]);H[2]=Math.max(1,H[2]);if(_&&D==0)H[2]=H[0]/this.dl;if(_&&D==2)H[0]=H[2]*this.dl}if(o==1){H[D]=Math.max(0,H[D]);
if(_)for(var v=0;v<4;v++)H[v]=H[D]}this.j(H,null,!0);this.A(new jJ(k.E.B,!1))};function kA(){f1.call(this);
this.SG=0;this.mO=[0,0,1,1,100,100];this.Ra=[10,5,1,1,4,3,3,2,16,9];this.Z=M.a("span","fitem");this.mq=new bU(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this.Z.appendChild(this.mq.Z);this.mq.O(k.E.B,this.dy,this);this.As=new gs("W",0,0,null,0,!1,!0);this.Z.appendChild(this.As.Z);
this.As.O(k.E.B,this.dy,this);var l=this.KE=new cg("\u21C4",!1,null,!0);l.O("click",this.Lh,this);this.Z.appendChild(l.Z);
this.zO=new gs("H",0,0,null,0,!1,!0);this.Z.appendChild(this.zO.Z);this.zO.O(k.E.B,this.dy,this);this.j({vB:0,x:0,y:0})}kA.prototype=new f1;
kA.prototype.a5a=function(l,o){this.Ra[0]=l;this.Ra[1]=o};kA.prototype.k=function(){M.BU(this.As,this.zO);
this.mq.k()};kA.prototype.Lh=function(l){var o=this.zO.l();this.zO.j(this.As.l());this.As.j(o);this.dy(l)};
kA.prototype.dy=function(l){if(l.target==this.mq){var v=this.mq.l(),o=this.mO;if(v>2){v-=3;var D=this.Ra[2*v],H=this.Ra[2*v+1];
o[2]=D;o[3]=H;this.As.j(D);this.zO.j(H);this.mq.j(1)}var _=this.l();o[this.SG*2]=_.x;o[this.SG*2+1]=_.y;
this.SG=_.vB;this.j({vB:_.vB,x:o[_.vB*2],y:o[_.vB*2+1]})}if(this.As.l()<1)this.As.j(1);if(this.zO.l()<1)this.zO.j(1);
this.A(new jJ(k.E.B,!1))};kA.prototype.j=function(l){this.mq.j(l.vB);this.As.j(l.x);this.zO.j(l.y);if(l.vB==0){this.As.ua();
this.zO.ua();this.KE.ua()}else{this.As.TC();this.zO.TC();this.KE.TC()}};kA.prototype.l=function(){return{vB:this.mq.l(),x:this.As.l(),y:this.zO.l()}};
function ag(l){f1.call(this);this.Z=M.a("span","");this.akJ=l;var o=l?100:300;this.Ft=new b_("Off X",-o,o,l?"%":"px",0,!l);
this.Kh=new b_("Off Y",-o,o,l?"%":"px",0,!l);this.Ft.O(k.E.B,this.dy,this);this.Kh.O(k.E.B,this.dy,this);
this.Z.appendChild(this.Ft.Z);this.Z.appendChild(this.Kh.Z)}ag.prototype=new f1;ag.prototype.k=function(){this.Ft.k();
this.Kh.k()};ag.prototype.dy=function(l){this.A(new jJ(k.E.B,!1))};ag.prototype.air=function(l){this.Ft.j(l.x);
this.Kh.j(l.y)};ag.prototype.a05=function(){return new he(this.Ft.l(),this.Kh.l())};ag.prototype.j=function(l,o){var D=l.Hrzn.v,H=l.Vrtc.v;
if(this.akJ){D=D.val;H=H.val}this.Ft.j(D);this.Kh.j(H);if(o==!0)this.dy()};ag.prototype.l=function(){var l=this.Ft.l(),o=this.Kh.l();
if(this.akJ)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:l}},Vrtc:{t:"UntF",v:{type:"#Prc",val:o}}};
else return{classID:"Pnt",Hrzn:{v:l,t:"doub"},Vrtc:{v:o,t:"doub"}}};function ck(l){f1.call(this);this.Z=M.a("span","fitem strokebutton");
this.yX=[{W5:3,dE:[]},{W5:3,dE:[12,6],iw:0},{W5:3,dE:[0,6],iw:1,h_:1}];this.Nx=cq.o4.ts();this.avf=l;
this.jR=M.a("button");this.Z.appendChild(this.jR);M.GY(this.Z,this.J1.bind(this));var o=M.a("canvas","gsicon");
this.Ig=o.getContext("2d");this.jR.appendChild(o);var D=M.a("span");D.textContent=" \u25BC";this.jR.appendChild(D);
this.Bk=new f1;this.Bk.parent=this;this.Bk.Z=M.a("div","floatcont form label6");var H=this.Bk.Z;H.setAttribute("style","width: 15em;");
this.xG=[new bU([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new ei([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new ei([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new gs("Limit",0,50,null,null,null,!0,2.5),new g7([19,9,2])];
for(var v=0;v<this.xG.length;v++){var _=this.xG[v];if(a8==0||v!=0)H.appendChild(_.Z);_.O(k.E.B,this.dy,this)}M.wR(H);
this.Ho=[];var u=this.ZU.bind(this);for(var v=0;v<this.yX.length;v++){var S=M.a("button","fitem");this.Ho.push(S);
H.appendChild(S);S.addEventListener("click",u,!1);var o=M.a("canvas","gsicon"),h=o.getContext("2d");
S.appendChild(o);this.aj6(h,40,20,this.yX[v])}}ck.prototype=new f1;ck.prototype.J1=function(l){if(M.Ve(this.Bk.Z))return;
l.stopPropagation();var o=this.jR.getBoundingClientRect(),D=new jJ(k.E.b,!0);D.data={q:k.L.jq,VG:this.Bk,x:o.left,y:o.top+o.height+4};
this.A(D)};ck.prototype.dy=function(l){var o=this.xG,D=o.indexOf(l.target),H=o[D].l(),_=this.Nx;if(D==0)_.QH=H;
if(D==1)_.iw=H;if(D==2)_.h_=H;if(D==3)_.wk=H;if(D==4){var u=_.dE=H==""?[]:H.split(" ").map(parseFloat);
if(!this.avf)for(var v=0;v<u.length;v++)u[v]*=_.W5}this.A(new jJ(k.E.B,!1))};ck.prototype.ZU=function(l){var o=this.Ho.indexOf(l.currentTarget),D=this.yX[o],H=this.Nx;
if(D.iw!=null)H.iw=D.iw;if(D.h_!=null)H.h_=D.h_;H.dE=D.dE.slice(0);if(H.W5==null)H.W5=3;for(var v=0;
v<H.dE.length;v++)H.dE[v]*=H.W5/D.W5;this.A(new jJ(k.E.B,!1))};ck.prototype.k=function(){for(var v=0;
v<this.xG.length;v++)this.xG[v].k()};ck.prototype.j=function(l){this.Nx=JSON.parse(JSON.stringify(l));
var o=this.xG;if(l.QH!=null)o[0].j(l.QH);if(l.iw!=null)o[1].j(l.iw);if(l.h_!=null)o[2].j(l.h_);if(l.wk!=null)o[3].j(l.wk);
o[3].td(l.h_==0);if(l.dE!=null){var D=l.dE.slice(0);if(!this.avf)for(var v=0;v<D.length;v++)D[v]/=l.W5;
o[4].j(D.join(" "))}this.aj6(this.Ig,40,16,l)};ck.prototype.l=function(){return JSON.parse(JSON.stringify(this.Nx))};
ck.prototype.aj6=function(l,o,D,H){M.QT(l.canvas,o,D);var _=H.dE?H.dE:[],u=H.W5;if(u==null)u=3;else{u=Math.min(5,u);
_=_.slice(0);for(var v=0;v<_.length;v++)_[v]*=u/H.W5}l.clearRect(0,0,o,D);l.setLineDash(_);l.lineCap=["butt","round","square"][H.iw];
l.lineJoin=["miter","round","bevel"][H.h_];l.lineWidth=u;l.beginPath();l.moveTo(0,D/2);l.lineTo(o*2,D/2);
l.stroke()};function jE(l){e6.call(this,l,!1,"contourbutton",34*13,16*13,is.ke,!0);this.lW=new g7([12,86],null,16);
this.lW.O("input",this.P6,this);this.Bk.Z.appendChild(this.lW.Z);this.xP=null;this.bW="";this.o5=null;
this.j(dV.ts())}jE.prototype=new e6;jE.prototype.k=function(){e6.prototype.k.call(this);this.lW.k()};
jE.prototype.c6=function(l){this.j(this.xP[l.target.l()[0]]);this.A(new jJ(k.E.B))};jE.prototype.P6=function(l){this.bW=this.lW.l().toLowerCase();
this.a0w()};jE.avy=!1;jE.prototype.Lk=function(){if(!this.Ck)return;var l=this.Kz;if(l==null||!jE.avy){var o=new jJ(k.E.b,!0);
o.data={q:k.L.bD,au:{url:"rsrc/basic/fa.zip"}};this.A(o);jE.avy=!0}else{var D=Date.now(),H=Math.floor(38*M.Y()),u=Math.floor(38*M.Y());
this.o5=[];for(var v=0;v<l.length;v++){if(l[v].afh==null)l[v].afh=jE.aat(l[v],H,u);this.o5.push(l[v].afh)}this.a0w();
this.Ck=!1}};jE.prototype.a0w=function(){var l=Math.floor(38*M.Y()),o=Math.floor(38*M.Y());this.xP=[];
var D=[],H=[],_=this.Kz;for(var v=0;v<_.length;v++){if(_[v].Yd.toLowerCase().indexOf(this.bW)==-1)continue;
this.xP.push(_[v]);D.push(this.o5[v]);H.push(_[v].Yd)}this.G_.f6(D,H,l,o)};jE.prototype.j=function(l){this.jz=jE.clone(l);
this.r9()};jE.prototype.r9=function(){var l=Math.floor(23*M.Y()),o=Math.floor(23*M.Y()),D=jE.aat(this.jz,l,o);
this.UU.setAttribute("src",D);M.nY(this.UU,l,o)};jE.prototype.l=function(){return jE.clone(this.jz)};
jE.clone=function(l){return{Yd:l.Yd,KO:l.KO,d:d.dO.Wu(l.d),EZ:l.EZ.clone()}};jE.Pf=null;jE.Ig=null;jE.aat=function(l,o,D){var H=l.EZ,_=Math.min(o/H.Q,D/H._)*.9,u=new de;
u.translate(-.5,-.5);u.scale(.95,.95);u.translate(.5,.5);u.scale(_*H.Q,_*H._);u.translate((o-_*H.Q)/2,(D-_*H._)/2);
var S=g.WG(o,D);S.save();S.fillStyle="black";S.clearRect(0,0,o,D);S.setTransform(u.M,u.J,u.oe,u.me,u.ip,u.nl);
g.n.zn(l.d,S,0,0);S.restore();var h=UPNG.encode([S.getImageData(0,0,o,D).data.buffer],o,D,0);return"data:image/png;base64,"+fj.Im(h)};
function jx(l){e6.call(this,l,!1,"ICCButton",16*13,12*13,is.Ln,!0);this.G_.IW(1)}jx.prototype=new e6;
jx.prototype.W9=function(){var l="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var v=0;v<l.length;v++)l[v]="luts/"+l[v]+".CUBE";return l};jx.prototype.c6=function(l){this.j(this.Kz[l.target.l()]);
this.A(new jJ(k.E.B))};jx.prototype.Lk=function(){if(!this.Ck)return;var l=Math.floor(1*M.Y()),o=Math.floor(1*M.Y()),D=[],H=[],_=this.Kz;
for(var v=0;v<_.length;v++){var u=_[v].Nm.v.split("\\").pop().split("/").pop();H.push(u);D.push(jx.cK(_[v],l,o))}this.G_.f6(D,H,l,o);
this.Ck=!1};jx.prototype.j=function(l){this.jz=JSON.parse(JSON.stringify(l));this.r9()};jx.cK=function(l,o,D){var H=M.a("canvas"),S="ICC / 3DL / look / cube";
H.width=o;H.height=D;var _=H.getContext("2d"),u=Math.floor(14*M.Y());_.font=u+"px sans-serif";if(l.Nm)S=l.Nm.v.split("\\").pop().split("/").pop();
_.fillText(S,10,u);return H.toDataURL()};jx.prototype.r9=function(){var l=Math.floor(120*M.Y()),o=Math.floor(20*M.Y());
this.UU.setAttribute("src",jx.cK(this.jz,l,o));M.nY(this.UU,l,o)};jx.prototype.l=function(){return JSON.parse(JSON.stringify(this.jz))};
function f2(){f1.call(this);this.iC=null;this.Z=M.a("span","fitem");this.ix=new e5([14,9]);this.We=new gs(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.cP=new ck;this.TR=[this.ix,this.We,this.cP];for(var v=0;v<this.TR.length;v++){var l=this.TR[v];
this.Z.appendChild(l.Z);l.parent=this;l.O(k.E.B,this.dy,this)}}f2.prototype=new f1;f2.prototype.k=function(){for(var v=0;
v<this.TR.length;v++)this.TR[v].k()};f2.prototype.Ip=function(l,o){this.ix.Ip(l,o)};f2.prototype.dy=function(l){var o=this.iC,D=this.ix.l();
cq.lr(o,D);o.strokeStyleLineWidth.v.val=this.We.l();if(l.target==this.cP)cq.K$.write(o,this.cP.l());
this.iC=o;this.A(new jJ(k.E.B,!1))};f2.prototype.j=function(l,o,D){this.iC=JSON.parse(JSON.stringify(o));
var H=cq.TW(o);this.ix.j(l,H,D);this.We.j(o.strokeStyleLineWidth.v.val);this.cP.j(cq.K$.yz(o))};f2.prototype.l=function(){return JSON.parse(JSON.stringify(this.iC))};
function dE(l){var o=[[18,0],[18,1],[18,2],[18,3]],D=ei.uo(["set/front","set/union","set/difference","set/intersection"]);
ei.call(this,l?[12,36]:null,D,o)}dE.prototype=new ei;function jR(){f1.call(this);this.Z=M.a("button","fitem bbtn");
M.GY(this.Z,this.J1.bind(this));this.Bk=new f1;this.Bk.Z=M.a("div","floatcont form");this.Bk.Z.setAttribute("style","max-width: 200px;");
this.Bk.parent=this;var l=h_;this.H8=[new km("Start"),new km("End"),new l([12,41],0,100,"px",null,!0,null,!0),new l([12,80,0],0,100,"px",null,!0,null,!0),new l("Concavity",-50,50,"%",null,null,null,!0)];
for(var v=0;v<this.H8.length;v++){var o=this.H8[v];o.parent=this;o.O(k.E.B,this.FS,this);this.Bk.Z.appendChild(o.Z)}this.acz=M.a("div");
this.Bk.Z.appendChild(this.acz)}jR.prototype=new f1;jR.prototype.j=function(l){for(var v=0;v<5;v++)this.H8[v].j(l[v]);
this.$u()};jR.prototype.l=function(l){var o=[];for(var v=0;v<5;v++)o[v]=this.H8[v].l();return o};jR.prototype.k=function(){this.Z.textContent=cU.get([12,93,4]);
for(var v=0;v<this.H8.length;v++)this.H8[v].k()};jR.prototype.FS=function(l){this.A(new jJ(k.E.B,!1));
this.$u()};jR.prototype.$u=function(l){var o=this.l(),D=200,H=60;o[2]/=M.Y();o[3]/=M.Y();var _=g.n.Rd.i5(0,H/2,D,H/2,5,o),u=g.n.Sh(_);
this.acz.innerHTML="<svg width=\""+D+"\" height=\""+H+"\" class=\"gsicon\">\t\t\t<path d=\""+u.Xz+"\" />\t\t\t</svg>"};
jR.prototype.J1=function(l){if(M.Ve(this.Bk.Z))return;l.stopPropagation();var o=this.Z.getBoundingClientRect(),D=new jJ(k.E.b,!0);
D.data={q:k.L.jq,VG:this.Bk,x:o.left,y:o.top+o.height,Hi:!0};this.A(D)};function fq(){f1.call(this);
this.Z=M.a("div");this.$K=[];this.aD9=[];var l=this.cw=M.a("div"),o=M.a("h2");o.textContent="Create Teams";
l.appendChild(o);o.style.margin="26px 0 16px 0";var D=new cg("More about Teams",!1,null,!0);o.appendChild(D.Z);
D.Z.style.float="right";D.O("click",this.aAT,this);this.i3=M.a("div");l.appendChild(this.i3);this.ae8=new g7("Team Name",null,10);
l.appendChild(this.ae8.Z);var H=this.agW=new cg("Create Team",null,null,!0);l.appendChild(H.Z);H.O("click",this.amZ,this);
var o=M.a("h2");o.textContent="Join Teams";l.appendChild(o);o.style.margin="26px 0 16px 0";this.UX=M.a("div");
l.appendChild(this.UX);this.aeF=new g7("Team ID",null,10);l.appendChild(this.aeF.Z);var H=new cg("Join Team",null,null,!0);
l.appendChild(H.Z);H.O("click",this.amZ,this);this.agv;this.a2h=this.my.bind(this);this.ads=this.alQ.bind(this);
this.Q0=!1;this.tu();this.px=null;this.axi=""}fq.prototype=new f1;fq.prototype.aAT=function(l){var o=new jJ(k.E.b,!0);
o.data={q:k.L.Gv,link:"https://www.photopea.com/api/accounts#teams"};this.A(o)};fq.prototype.tu=function(){clearTimeout(this.at6);
this.at6=setTimeout(this.ads,this.px?10:3e3)};fq.prototype.alQ=function(){var l=eJ.g$();if(document.hidden||!M.Ve(this.Z)||l==null){this.tu();
return}var o=eJ.A2();if(this.px==null&&o==null)return;eJ.h0(this.px?this.px:o,this.a2h);this.Q0=!0;this.px=null};
fq.prototype.as7=function(l){l.acc.update=!0;this.Z.style.pointerEvents="none";this.Z.style.opacity="0.5";
if(this.Q0)this.px=l;else{clearTimeout(this.at6);eJ.h0(l,this.a2h)}};fq.prototype.jt=function(l){var o=typeof l=="string"?this.agv:this.$K.indexOf(l.target),D=this.aD9[o],H=D[0],u=eJ.A2();
if(u==null)u={};var S=u.acc,h=S.tjoin,F=S.tstart;if(H=="leave"){h.splice(h.indexOf(D[1]),1)}if(H=="add"||H=="remove"||H=="delTeam"||H=="showRename"||H=="rename"){var n=-1,R=0;
for(var v=0;v<F.length;v++){R+=F[v][1].length;if(F[v][2]==D[1])n=v}var s=F[n];if(H=="add"){var Z=eJ.lu();
if(Z&&Z[0]==0&&Z[1][2]<=R){alert("You can have at most "+Z[1][2]+" members in your Premium.");return}s[1].push(D[2])}if(H=="remove")s[1].splice(s[1].indexOf(D[2]),1);
if(H=="delTeam"){if(s[1].length!=0){alert("Remove members first.");return}F.splice(n,1)}if(H=="showRename"){var O=new jJ(k.E.b,!0);
O.data={q:k.L.E1,mg:"namewindow",aC:s[0],Gu:this.jt.bind(this)};this.A(O);this.agv=o;D[0]="rename";return}if(H=="rename")s[0]=l}this.as7(u)};
fq.prototype.amZ=function(l){var o=this.agW==l.target,D=(o?this.ae8:this.aeF).l().trim();if(D==""){alert("The Team "+(o?"Name":"ID")+" is empty.");
return}if(!o){D=parseInt(D);if(isNaN(D)){alert("The ID must be a number");return}}var H=eJ.A2();if(H==null)H={};
var _=H.acc;if(_==null)_=H.acc={};var u=_.tstart,S=_.tjoin;if(o){if(u==null)u=_.tstart=[];if(u.length>5){alert("You can have at most 5 teams");
return}u.push([D,[]])}else{if(u)for(var v=0;v<u.length;v++)if(u[v][2]==D){alert("You are the owner of this team");
return}if(S==null)S=_.tjoin=[];if(S.indexOf(D)!=-1){alert("You already asked to join this team.");return}_.tjoin.push(D)}_.update=!0;
this.as7(H)};fq.prototype.my=function(){this.Q0=!1;var l=eJ.g$(),o=l!=null,D=this.cw.parentNode!=null;
if(o!=D){M.o7(this.Z);if(o)this.Z.appendChild(this.cw);else this.Z.textContent="Log In to access Team Settings."}if(!o)return;
var H=eJ.A2();if(H==null)H={};var _=H.acc;if(_==null)_={};var u=JSON.stringify(_)+"===="+JSON.stringify(l);
if(u!=this.axi){this.axi=u;var S=this.i3,h=this.UX;M.o7(S);M.o7(h);var F=this.$K=[],n=this.aD9=[],R=this.jt.bind(this);
function s(W,C){W.addEventListener("click",R);F.push(W);n.push(C)}function Z(z,W){var a=M.a("div"),C="rgba(255,255,255,0.15)";
a.appendChild(w("ID: "+z[2],54,C));a.appendChild(w(z[0],160,null,!0));if(W){a.appendChild(w(z[1].length+" members",80,null,!0))}else{a.appendChild(w(z[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<z[1]*1e3)a.appendChild(w("Premium",80,"rgba(0,140,0,1)"))}var j=w("",120);a.appendChild(j);
j.setAttribute("style","float:right;text-align:right");if(W){var K=new cg("Rename",null,null,!0);s(K,["showRename",z[2]]);
j.appendChild(K.Z)}var K=new cg(W?"Delete":"Leave",null,null,!0);s(K,[W?"delTeam":"leave",z[2]]);j.appendChild(K.Z);
return a}function O(W,C,f){var a=M.a("div");a.style.paddingLeft="46px";a.appendChild(w(C?"\u2713":"...",8,C?"#229922":"#aa7700"));
a.appendChild(w(W[1],200));a.appendChild(w(W[2],240));var j=w("",120);a.appendChild(j);j.setAttribute("style","float:right;text-align:right");
var K=new cg(C?"Remove":"Add",null,null,!0);s(K,[C?"remove":"add",f,W[0]]);j.appendChild(K.Z);return a}function w(W,C,j,K){var $=M.a("span");
$.textContent=W;$.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+C+"px;  "+(j!=null?"background-color:"+j+";":"")+(K?"font-weight:bold;":""));
return $}var m=_.tstart,V=_.tjoin,q=l.wantToJoin,i=l.inTeams;if(m)for(var c=0;c<m.length;c++){var z=m[c],B=q["t"+z[2]];
if(B==null)B=[];var t={};for(var v=0;v<B.length;v++)t["u"+B[v][0]]=B[v];var a=Z(z,!0);S.appendChild(a);
a.style.marginTop="10px";for(var v=0;v<z[1].length;v++){var I=z[1][v],N=t["u"+I];if(N==null)N=[I,"========","... user has left your team"];
delete t["u"+I];var J=O(N,!0,z[2]);S.appendChild(J)}for(var Q in t){var N=t[Q],J=O(N,!1,z[2]);S.appendChild(J)}}if(V){var A={};
for(var v=0;v<i.length;v++)A["t"+i[v][2]]=i[v];for(var c=0;c<V.length;c++){var f=V[c],z=A["t"+f],a=Z(z?z:["==========",-1,f],!1);
h.appendChild(a)}}this.A(new jJ(k.E.B))}if(this.px==null){this.Z.style.pointerEvents="auto";this.Z.style.opacity="1"}this.tu()};
function fA(){f1.call(this);this.g2=[16,!0,!0];this.Z=M.a("span","");this.Ll=[new gs([12,24],0,255),new km([12,25,1]),new km([12,25,0])];
for(var v=0;v<3;v++){var l=this.Ll[v];l.parent=this;l.j(this.g2[v]);this.Z.appendChild(l.Z);l.O(k.E.B,this.dy,this)}}fA.prototype=new f1;
fA.prototype.dy=function(){for(var v=0;v<3;v++)this.g2[v]=this.Ll[v].l();this.A(new jJ(k.E.B,!1))};fA.prototype.j=function(l){this.g2=l.slice(0);
for(var v=0;v<3;v++)this.Ll[v].j(l[v])};fA.prototype.l=function(){return this.g2.slice(0)};fA.prototype.k=function(){for(var v=0;
v<3;v++)this.Ll[v].k()};function j5(l,o){f1.call(this);if(o==null)o=!1;this.o5=[];this.yF=Math.floor(120*M.Y());
this.aaF=Math.floor(23*M.Y());this.gq=0;this.t2=[];this.Rv=[];for(var D in g.Y9.type){if((D=="warpCustom"||D=="warpCylinder")&&!o)continue;
this.t2.push(D);this.Rv.push(g.Y9.type[D])}this.Z=M.a("span","fitem warpbutton");this.Bk=new f1;this.Bk.Z=M.a("div","floatcont");
if(l){this.QX=l;this.uC=M.a("label","flabel");this.Z.appendChild(this.uC)}this.q=M.a("button");this.Z.appendChild(this.q);
M.GY(this.q,this.J1.bind(this));this.k7=new k7(!0);this.Bk.Z.appendChild(this.k7.Z);this.k7.O(k.E.B,this.aBQ,this);
this.Bk.Z.setAttribute("style","width:"+Math.floor(8+this.yF/M.Y())+"px;");this.k()}j5.prototype=new f1;
j5.prototype.Qx=function(l){this.uC.textContent=l};j5.prototype.k=function(){if(this.QX)this.uC.innerHTML=cU.get(this.QX)+":";
this.r9()};j5.a19={};j5.a8C=function(l,o,D){var H=cU.get(g.Y9.type[l]),_=H+"-"+l+"-"+o+"-"+D,u=j5.a19[_];
if(u)return u;var S=j5.Ig;if(h==null){var h=M.a("canvas");S=j5.Ig=h.getContext("2d")}var h=S.canvas;
if(h.width!=o||h.height!=D){h.width=o;h.height=D}S.font=Math.floor(13*M.Y())+"px sans-serif";S.lineWidth=1;
S.strokeStyle="#000000";var F=Math.floor(16*M.Y()),n=new gt(0,0,F,F);S.clearRect(0,0,h.width,h.height);
var R=g.Y9.Y9(l,l=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);g.Y9.a9b(R[3],n);var s=g.X.YZ(n);
s.v.push("M","L","M","L");s.s.push(0,F/2,F,F/2);s.s.push(F/2,0,F/2,F);s=g.X.xN(s);s=g.X.Cg(s,F/5);g.cC.h(R,s.s,n);
g.X.h(s.s,new de(1,0,0,1,Math.floor(8*M.Y())+.5,Math.floor(3*M.Y())+.5),s.s);S.beginPath();Typr.U.pathToContext({cmds:s.v,crds:s.s},S);
S.stroke();S.fillText(H,Math.floor(40*M.Y()),Math.floor(16*M.Y()));u=j5.a19[_]=h.toDataURL();return u};
j5.prototype.J1=function(l){if(M.Ve(this.Bk.Z))return;l.stopPropagation();var o=this.yF,D=this.aaF;for(var v=0;
v<this.t2.length;v++)this.o5[v]=j5.a8C(this.t2[v],o,D);this.k7.f6(this.o5,null,o,D);var H=this.q.getBoundingClientRect(),_=new jJ(k.E.b,!0);
_.data={q:k.L.jq,VG:this.Bk,x:H.left,y:H.top+H.height+4};this.A(_)};j5.prototype.aBQ=function(l){var o=new jJ(k.E.b,!0);
o.data={q:k.L.H0,VG:this.Bk};this.A(o);this.gq=l.target.l()[0];this.r9();this.A(new jJ(k.E.B))};j5.prototype.r9=function(){var l=this.yF,o=this.aaF;
this.k7.j([this.gq]);this.q.innerHTML="<img src=\""+j5.a8C(this.t2[this.gq],l,o)+"\" class=\"gsicon\" />";
M.nY(this.q.firstChild,l,o)};j5.prototype.l=function(){return this.t2[this.gq]};j5.prototype.j=function(l){this.gq=this.t2.indexOf(l);
this.r9()};function gd(l,o,D){f1.call(this);if(l==null)l=!1;if(o==null)o=!1;if(D==null)D=!1;this.aEH=o;
this.Y9=null;this.$A=new j5([12,22],D);this.$A.parent=this;this.$A.O(k.E.B,this.YU,this);this.zx=new bU([22,0],[[22,4,0],[22,4,1]]);
this.zx.O(k.E.B,this.YU,this);var H=l?gs:h_;this.E5=new H([22,1],-100,100,"%");this.M0=new H("Horizontal Distortion:",-100,100,"%");
this._z=new H("Vertical Distortion:",-100,100,"%");this.E5.parent=this.M0.parent=this._z.parent=this;
this.E5.O(k.E.B,this.YU,this);this.M0.O(k.E.B,this.YU,this);this._z.O(k.E.B,this.YU,this)}gd.prototype=new f1;
gd.prototype.k=function(){this.$A.k();this.zx.k();this.E5.k();var l=this.aEH?1:100;this.M0.Qx(cU.get([22,2]).substring(0,l)+":");
this._z.Qx(cU.get([22,3]).substring(0,l)+":")};gd.prototype.YU=function(){var l=this.Y9,o=this.$A.l(),D=l.warpStyle.v.warpStyle;
if(o=="warpCustom")g.Y9.bk(l,g.Y9.N7(l));else delete l.customEnvelopeWarp;l.warpStyle.v.warpStyle=this.$A.l();
l.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.zx.l()];var H=this.E5.l();l.warpPerspective.v=this.M0.l();l.warpPerspectiveOther.v=this._z.l();
if(o=="warpNone"||o=="warpCustom"){H=0;l.warpPerspective.v=0;l.warpPerspectiveOther.v=0}else if(D=="warpNone"||D=="warpCustom"||D=="warpCylinder")H=50;
if(o!="warpCylinder"){l.warpValue={t:"doub",v:H};delete l.warpValues}else{l.warpValues=p.cA.y3([0,100,100,0,.15,.2,1]);
delete l.warpValue}this.A(new jJ(k.E.B,!1));this.j(l)};gd.prototype.l=function(l){return JSON.parse(JSON.stringify(this.Y9))};
gd.prototype.j=function(l){this.Y9=JSON.parse(JSON.stringify(l));var o=l.warpStyle.v.warpStyle,D=o=="warpNone"||o=="warpCustom"||o=="warpCylinder";
this.$A.j(o);if(!D){this.zx.j(l.warpRotate.v.Ornt=="Hrzn"?0:1);this.E5.j(l.warpValue.v);this.M0.j(l.warpPerspective.v);
this._z.j(l.warpPerspectiveOther.v)}var H=[this.zx,this.E5,this.M0,this._z];for(var v=0;v<H.length;v++)if(D)H[v].ua();
else H[v].TC()};function kP(l){f1.call(this);this.Au={};this.Z=M.a("div");this.D0=l;this.$j=null;this.vn=new he(0,0);
this.MN="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.Ty=null;this.I6=new M.g0(this.Z);
this.VC("grab");this.Pf=M.a("canvas","canv");this.Z.appendChild(this.Pf);this.Ig=this.Pf.getContext("2d",{willReadFrequently:!0});
this.af6=null;this.Tx=null;this.aI=null;this.ep=0;this.aqj=0;this.K2=0;this.I_=0;this.agz=this.aDo.bind(this);
this.and=null;this.w=new ds({Q:1,_:1});this.oP=null;this.SB=null;this.$g=[];this.axd=0;this.Ld=0;this.auV=this.GZ.bind(this);
this.azW=this.n$.bind(this);this.a5j=this.lK.bind(this);this.aeq=this.SF.bind(this);this.a3S=0;this.kX=null;
this.aq5(this.Pf);this.h9(this)}kP.prototype=new f1;kP.prototype.a9D=function(l){this.Au=l;this.G6()};
kP.at=function(l){var o=new e_(!0);if(l>=0)o.Ew("Space");if(l>=1){o.Ew("ControlLeft");if(l==2)o.Ew("AltLeft")}return o};
kP.prototype.WP=function(l){var o=this.Ty,D=null;if(l.W(e_.RP)){D="grab";if(l.W(e_.Cm)){D="zoom-in";
if(l.W(e_.zg))D="zoom-out"}}this.$j=D;if(D)o=D;this.I6.my(o,this.MN);if(l.W(e_.Cm)){var H=0;if(l.W(e_.CO))H=1;
if(l.W(e_.ef))H=-1;if(H!=0){this.o6(new he(this.Pf.width/2,this.Pf.height/2),H==1)}}};kP.prototype.VC=function(l){this.Ty=l;
if(this.$j)return;this.I6.my(l,this.MN)};kP.prototype.aq5=function(l){M.GY(l,this.auV);M.zl(l);l.addEventListener("wheel",this.aeq,!1)};
kP.prototype.h9=function(l){l.O("viewchange",this.a4f,this)};kP.prototype.a4f=function(l){var o=this.w.F,D=l.currentTarget.yP();
this.w.F=D.F;this.w.i=D.i.clone();if(o!=D.F)this.SJ();this.G6()};kP.prototype.yP=function(){return{F:this.w.F,i:this.w.i}};
kP.prototype.j=function(l,o,D,H){var _=l[0].jH;if(this.Tx!=null&&this.Tx[0].jH.kn(_)){}else{this.w.nL={Q:_.Q,_:_._};
this.w.F=1;this.w.i=new he(0,0)}this.Tx=l;this.SJ(H);this.OE();this.ep=0;this.aqj=Date.now();this.K2=0;
this.I_=o==null?0:o;if(D)this.Au=D;this.aDo()};kP.prototype.SF=function(l){l.preventDefault();if(l.deltaY==0||Date.now()-this.a3S<100)return;
var o=M.Kx(l);o.x=M.Y()*o.x;o.y=M.Y()*o.y;this.a3S=Date.now();this.o6(o,l.deltaY<0)};kP.prototype.o6=function(l,o){p._1.tN(this.w,l,o);
this.auG()};kP.prototype.iX=function(l){var o=this.w,D=o.nL;this.w.F=p._1.H4(D.Q,D._,o.T3.Q,o.T3._);
if(l)this.w.i=new he(0,0);this.auG()};kP.prototype.auG=function(){this.SJ();this.A(new jJ("viewchange"));
this.A(new jJ("zoom"))};kP.prototype.SJ=function(l){var o=this.aI;this.aI=[];var D=this.w.F;if(this.Tx==null)return;
if(l){var H=g.LU(D),_=1;for(var u=0;u<H.length;u++)_*=H[u];var S=l.x,h=l.y,F=S+l.Q,n=h+l._;S=Math.floor(S/_)*_;
F=Math.ceil(F/_)*_;h=Math.floor(h/_)*_;n=Math.ceil(n/_)*_;l=new gt(S,h,F-S,n-h)}for(var v=0;v<this.Tx.length;
v++){var R=this.Tx[v],s=new Uint8Array(R.data),Z;if(D>=1)Z={G5:s,rect:R.jH};else{if(o&&o[v]&&l){var O=g.o(l.c()*4);
g.Qo(s,R.jH,O,l);var w=g.RC(O,l,D),m=w.rect;m.x=Math.floor(m.x*D);m.y=Math.floor(m.y*D);Z=o[v];g.Qo(w.G5,w.rect,Z.G5,Z.rect)}else Z=g.RC(s,R.jH,D)}this.aI[v]=Z}};
kP.prototype.OE=function(){clearTimeout(this.and)};kP.prototype.G6=function(){if(this.Tx==null||!M.Ve(this.Pf))return;
var l=this.af6,o=this.Pf.width,D=this.Pf.height,w,m;if(l==null||l.width!=o||l.height!=D){l=this.af6=this.Ig.createImageData(o,D);
console.log("creating image data")}var H=this.Tx[this.ep],_=this.aI[this.ep],u=this.w,S=u.nL,h=u.T3,F=h.Q,n=h._,R=S.Q*u.F,s=S._*u.F,Z=Math.round((F-R)/2+u.i.x),O=Math.round((n-s)/2+u.i.y);
if(u.F<=1){m=_.rect.clone();m.x=Z;m.y=O;R=m.Q;s=m._;w=_.G5}else{var V=1/u.F,q=new gt(Math.floor((h.x-Z)*V),Math.floor((h.y-O)*V),Math.ceil(h.Q*V)+1,Math.ceil(h._*V)+1),i=new gt(0,0,q.Q*u.F,q._*u.F);
i.x=q.x*u.F+Z;i.y=q.y*u.F+O;if(u.vQ==null||u.vQ.length!=q.c()*4){u.vQ=g.o(q.c()*4)}if(u._e==null||u._e.length!=i.c()*4){u._e=g.o(i.c()*4)}g.M5(u.vQ,0);
g.Qo(_.G5,_.rect,u.vQ,q);g.scale.gp(u.vQ,q.Q,q._,u._e,i.Q,i._,u.F);w=u._e;m=i}var c=new Uint8Array(l.data.buffer);
g._x(c,F,n,8,-Z,-O);g.z.JM("norm",w,m,c,h,h,1);var z=this.Ig;z.setTransform(1,0,0,1,0,0);z.putImageData(l,0,0);
z.clearRect(Z-4e3,O,4e3,s);z.clearRect(Z+R,O,4e3,s);z.clearRect(Z-4e3,O-4e3,R+8e3,4e3);z.clearRect(Z-4e3,O+s,R+8e3,4e3);
var B=kP.aiO(u.F,"#ffffff");z.putImageData(B,0,u.T3._-B.height);var t=this.Au,u=this.w;if(t){var a=hf.Mu([.1,.5,1,1]),I=hf.Mu([1,0,0,1]),N=hf.Mu([1,1,1,1]),J=hf.Mu([0,0,0,1]),Q=u.hP(!1);
Q.L5();z.save();z.setTransform(Q.M,Q.J,Q.oe,Q.me,Q.ip,Q.nl);z.strokeStyle=I;if(t.a0N){hf.Jr(t.a0N,null,z);
z.lineWidth=1/u.F;z.stroke()}z.strokeStyle=N;if(t.ahT){hf.Jr(t.ahT,null,z);z.lineWidth=1/u.F;z.stroke();
z.strokeStyle=J;z.setLineDash([4/u.F,4/u.F]);z.stroke();z.setLineDash([])}z.strokeStyle=a;z.fillStyle=hf.Mu([1,1,1,1]);
if(t.T9){hf.Jr(t.T9,null,z);z.lineWidth=1/u.F;z.stroke()}if(t.XA){hf.Oi(t.XA,z,u,.5);z.lineWidth=2/u.F;
z.stroke();z.fill()}if(t.rO){z.font=16/u.F+"px sans-serif";var A=1/u.F;for(var v=0;v<t.rO.length;v++){var f=t.rO[v],W=f[0],C=f[1]+6/u.F,j=f[2];
z.fillStyle="black";z.fillText(j,W-A,C);z.fillText(j,W+A,C);z.fillStyle="white";z.fillText(j,W,C)}}z.restore()}z.getImageData(0,0,1,1)};
kP.ayk="";kP.a7L=null;kP.aiO=function(l,o,D,H){if(D==null){D=0;H=0}var _=D+" \xD7 "+H,u="z"+l+","+o+","+D+","+H;
if(u==kP.ayk)return kP.a7L;var S=Math.round(50*M.Y()),h=Math.round(18*M.Y()),F=D==0?0:Math.round((_.length+2)*h*.35),n=M.a("canvas"),R=n.getContext("2d");
n.width=S+F;n.height=h;R.fillStyle="rgba(1,1,1,1)";R.fillRect(0,0,S,h);if(D!=0)R.fillRect(S+2,0,F,h);
R.font=Math.round(11*M.Y())+"px monospace";R.fillStyle=o;var s=l*100;if(s<100)s=s.toFixed(2);else s=Math.round(s);
s=s+"%";var Z=R.measureText(s).width;R.fillText(s,(S-Z)/2,Math.round(h*.7));if(D!=0){var O=R.measureText(_).width;
R.fillText(_,S+(F-O)/2+1,Math.round(h*.7))}var w=R.getImageData(0,0,S+F,h);kP.ayk=u;kP.a7L=w;return w};
kP.prototype.aDo=function(){var l=this.Tx,o=l.length,D=this.ep,H=this.Tx[D],_=(D+1)%o;this.G6();var u=Date.now();
if(o!=1&&l[_].jH.kn(H.jH)){var S=H.dD?parseInt(H.dD.split(",").pop()):30;if(S==0)S=16;if(_==0)this.K2++;
if(this.I_==0||this.K2<this.I_)this.and=setTimeout(this.agz,S)}this.ep=_;this.aqj=u};kP.prototype.Av=function(l,o){if(l<=0||o<=0)return;
var D=Math.floor(l*M.Y()),H=Math.floor(o*M.Y());this.w.T3=new gt(0,0,D,H);this.Pf.width=D;this.Pf.height=H;
this.Pf.setAttribute("style","width:"+D/M.Y()+"px; height:"+H/M.Y()+"px; display:block;");this.G6()};
kP.prototype.UO=function(l){var o=-1,D=this.$g;for(var v=0;v<D.length;v++)if(D[v].pointerId==l.pointerId)o=v;
return o};kP.prototype.GZ=function(l){var o=this.UO(l),D=this.$g;if(o!=-1)D[o]=l;else D.push(l);if(D.length==1){this.kX=l.target;
M.en(window,this.azW);M.Bv(window,this.a5j);this.oP=M.Kx(l,this.Pf);this.oP.x*=M.Y();this.oP.y*=M.Y();
this.vn=this.oP;this.SB=this.w.i.clone();if(this.D0&&this.kX==this.Pf&&!this.$j)this.A(new jJ("mousedown"))}else this.axd=this.Ld=he.At(M.Kx(D[0],this.Pf),M.Kx(D[1],this.Pf))};
kP.prototype.n$=function(l){var o=this.UO(l),D=this.$g;if(o!=-1)D[o]=l;var H=this.w,_=this.$j,u=this.Tx[this.ep].jH.clone();
u.Q*=H.F;u._*=H.F;var S=M.Kx(l,this.Pf);S.x*=M.Y();S.y*=M.Y();this.vn=S;if(this.D0&&this.kX==this.Pf&&!_)this.A(new jJ("mousemove"));
else if(_=="grab"||_==null){if(D.length>1){var h=M.Kx(D[0],this.Pf),F=M.Kx(D[1],this.Pf),n=new he(M.Y()*(h.x+F.x)/2,M.Y()*(h.y+F.y)/2),R=he.At(h,F),s=null;
if(R>this.Ld+50){this.Ld+=50;s=!0}if(R<this.Ld-50){this.Ld-=50;s=!1}if(s!=null)this.o6(n,s);return}else{var Z=S.x-this.oP.x,O=S.y-this.oP.y;
H.i.x=this.SB.x+Math.round(Z);H.i.y=this.SB.y+Math.round(O)}this.A(new jJ("viewchange"))}};kP.prototype.lK=function(l){var o=this.UO(l),D=this.$g;
D.splice(o,1);if(D.length==0){M.ie(window,this.azW);M.OF(window,this.a5j);var H=this.$j;if(l.detail>1){this.w.F=1;
this.w.i.pN(0,0);this.G6()}if(this.D0&&this.kX==this.Pf&&!this.$j)this.A(new jJ("mouseup"));else{if(H=="zoom-in"||H=="zoom-out")this.o6(this.vn,H=="zoom-in")}}else{var _=this.oP=M.Kx(D[0],this.Pf);
_.x*=M.Y();_.y*=M.Y()}};kP.prototype.fB=function(l){var o=this.vn;if(l){o=M.Kx(l,this.Pf);o.x*=M.Y();
o.y*=M.Y()}return this.w.vp(o.x,o.y)};function ha(){f1.call(this);this.f7=null;this.D8=null;this.n6=null;
this.Fz=null;this.atJ="";this.Wz=[];this.fr=0;this.Oo=[];this.JD=0;this.Fy=null;var l=this.Z=M.a("div",""),o=this.a3g=M.a("div","form");
o.setAttribute("style","line-height:0; margin-bottom:0.5em;");l.appendChild(o);var D=this.QX=M.a("span");
o.appendChild(D);D.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var H=this.alo=new km([25,2,0]);
H.j(!0);o.appendChild(H.Z);H.O(k.E.B,this.HP,this);var _=this.lt=new km([25,2,1]);_.j(!0);o.appendChild(_.Z);
_.O(k.E.B,this.HP,this);var u=new eW(" ");o.appendChild(u.Z);var S=this.I7=new g7([25,1,1]);o.appendChild(S.Z);
S.O(k.E.B,this.HP,this);this.CL=new dQ(14);this.CL.ag4(3);o.appendChild(this.CL.Z);this.CL.parent=this;
this.CL.O(k.E.B,this.a8Z,this);var h=this.aAr=new cg([25,1,2],null,null,!0);o.appendChild(h.Z);h.O("click",this.EN,this);
var F=new cg("?",null,null,!0);o.appendChild(F.Z);F.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.akW=this.a6d.bind(this);this.nE=M.a("div","svggallery scrollable");l.appendChild(this.nE);this.nE.addEventListener("scroll",this.anQ.bind(this))}ha.prototype=new f1;
ha.prototype.Ip=function(l){this.axF=l};ha.prototype.k=function(){this.QX.textContent=cU.get([25,0]);
this.CL.k();this.alo.k();this.lt.k();this.I7.k();this.aAr.k()};ha.prototype.Av=function(l,o){this.f7=new he(l,o);
this.a3g.setAttribute("style","width:"+l+"px");var D=this.a3g.getBoundingClientRect();o-=D.height;this.nE.setAttribute("style","width:"+l+"px; height:"+o+"px");
if(M.Ve(this.Z))this.HP()};ha.prototype.j=function(l){this.D8=l;this.HP()};ha.prototype.anQ=function(l){var o=this.nE;
if(o.scrollTop+o.clientHeight+10>=o.scrollHeight){this.HP(!0)}};ha.prototype.a8Z=function(l){this.n6=null;
this.HP()};ha.prototype.a6d=function(l){if(Date.now()-this.JD<2e3)return;this.JD=Date.now();this.fr=this.Oo.indexOf(l.currentTarget);
var o=this.wj(this.D8.x,this.D8.y);if(o[1]){var D=o[1].largeImageURL,H=new XMLHttpRequest;H.responseType="arraybuffer";
H.open("GET",D,!0);H.onload=this.agV.bind(this);H.send();return}this.a3Z(o)};ha.prototype.agV=function(l){var o=l.target.response,D=fj.ZH(o),H=fj.rU(D),_=H.Zk(o),u=this.wj(this.D8.x,this.D8.y,[o,_[0].jH.Q,_[0].jH._]);
this.a3Z(u)};ha.prototype.a3Z=function(l){var o=l[0],D=fj.ZH(o),H=fj.rU(D),_=new f9("template.psd");
H.Zk(o,_);var u=new jJ("tempready",!0);u.data={nL:_};this.A(u)};ha.prototype.EN=function(l){var o=l.target;
this.Wz=[];this.n6=null;this.HP()};ha.prototype.a6F=function(l){var o=JSON.parse(l.target.response),D=this.Fz=o.hits;
for(var v=0;v<D.length;v++)if(D[v].user_id==6314823)D.splice(v,1);this.HP()};ha.prototype.HP=function(l){if(this.D8==null||this.f7==null||this.axF==null)return;
if(this.f7.x<=0)return;var o=this.D8.x,D=this.D8.y;if(Math.min(o,D)<50)return;if(l!=!0){this.Oo=[];M.o7(this.nE);
this.nE.scrollTop=0}if(this.Oo.length>300)return;var H=Math.min(1,300/Math.max(o,D)),_=this.f7.clone();
_.x-=20;var u=Math.max(1,Math.floor(_.x/(o*H))),S=Math.max(1,Math.ceil(_.y/(D*H)));H=_.x/u/o;var h=u*S;
if(this.n6==null){var F=this.axF.uh.yG(),n=[];for(var R in F){var s=F[R],Z=s[3];if(!this.CL.uY(s))continue;
if(s[5]==null||s[5].slice(0,2)=="gf")continue;n.push(s)}if(n.length==0)n.push(F.DejaVuSans);var O=n.length;
for(var v=0;v<O*10;v++){var w=Math.floor(Math.random()*O),m=Math.floor(Math.random()*O),V=n[w];n[w]=n[m];
n[m]=V}n=n.slice(0,10);this.n6=n}var q=this.lt.l(),i=this.I7.l().trim();this.I7.td(q);if(q&&(this.Fz==null||i!=this.atJ)){var c=new XMLHttpRequest,z="https://pixabay.com/api/?image_type=photo"+(i==""?"":"&q="+encodeURIComponent(i))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(i=="")z="//www.photopea.com/plugins/gallery.json";c.open("GET",z,!0);c.onload=this.a6F.bind(this);
c.onerror=function(J){console.log(J.target.response)};c.send();this.atJ=i;return}H*=(o*H-5)/(o*H);var B=this.Oo.length;
for(var v=0;v<h;v++){var t=this.fr=B+v;if(this.Wz[t]==null)this.Wz[t]=Math.floor(Math.random()*4294967295);
var a=this.wj(Math.round(o*H),Math.round(D*H)),I=a[0];I=x.Fs(new Uint8Array(I));var N=M.a("span");N.innerHTML=I;
this.Oo.push(N);this.nE.appendChild(N);N.addEventListener("click",this.akW,!1)}};ha.prototype.wj=function(l,o,D){var H=this.lt.l(),_=this.alo.l(),u=H&&this.Fz.length!=0?this.Fz:null;
if(_&&!H)u=null;if(_&&H&&(this.fr&1)==0)u=null;return d1.Rd(l,o,this.Wz[this.fr],this.n6,D?D:u)};function kM(){f1.call(this);
this.Z=M.a("div");this.cw=null;this.atp=null;this.Sy=-1;this.xu={JPG:[{Zi:new h_([12,52,0],0,100,"%",null,null,!0),Fw:70},{Zi:new km("attach metadata"),Fw:!1}],TIFF:[{Zi:new km("attach metadata"),Fw:!1}],WEBP:[{Zi:new h_([12,52,0],0,100,"%",null,null,!0),Fw:70},{Zi:new km("attach metadata"),Fw:!1}],GIF:[{Zi:new h_([12,52,0],0,100,"%",null,null,!0),Fw:100},{Zi:new km([12,23,3]),Fw:!1}],PNG:[{Zi:new h_([12,52,0],0,100,"%",null,null,!0),Fw:100},{Zi:new km("don't use palettes"),Fw:!1}],BMP:[{Zi:new km("don't use palettes"),Fw:!1}],PDF:[{Zi:new g7([12,52,1]),Fw:""},{Zi:new h_([12,52,0],0,100,"%",null,null,!0),Fw:100},{Zi:new km("reverse pages"),Fw:!1},{Zi:new km("rasterize all"),Fw:!1},{Zi:new km("vectorize text"),Fw:!1},{Zi:new h_("Add Margin",0,5,"in",2),Fw:0},{Zi:new km("add crop marks"),Fw:!1}],EMF:[{Zi:new g7([12,52,1]),Fw:""},{Zi:new h_([12,52,0],0,100,"%",null,null,!0),Fw:100},{Zi:new km("reverse pages"),Fw:!1},{Zi:new km("rasterize all"),Fw:!1},{Zi:new km("vectorize text"),Fw:!1},{Zi:new h_("Add Margin",0,5,"in",2),Fw:0}],SVG:[{Zi:new km("add raster graphics"),Fw:!0},{Zi:new km("add hidden layers"),Fw:!1},{Zi:new km("vectorize text"),Fw:!1},{Zi:new km("rasterize text"),Fw:!1},{Zi:new km("minify"),Fw:!1}],RAW:[{Zi:new ei([12,72],["1","3","4"]),Fw:2},{Zi:new ei([12,34],["8 Bits","16 Bits"]),Fw:0},{Zi:new ei("Byte Order",["12-34","34-12"]),Fw:0}],DDS:[{Zi:new bU("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),Fw:0},{Zi:new km("Add Mipmaps"),Fw:!0}],MP4:[{Zi:new h_([12,52,0],0,100,"%",null,null,!0),Fw:50}],anim:[{Zi:new h_("Speed",10,1e3,"%",null,!0,!0),Fw:100},{Zi:new gs("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),Fw:0},{Zi:new km("reverse frames"),Fw:!1},{Zi:new km("boomerang"),Fw:!1}],slcs:[{Zi:new km([8,11,0]),Fw:!0}],artb:[{Zi:new km([1,16,1]),Fw:!0}],hicc:[{Zi:new km("convert to sRGB"),Fw:!0}]};
for(var l in this.xu){var o=this.xu[l];for(var v=0;v<o.length;v++){o[v].Zi.j(o[v].Fw);o[v].Zi.O(k.E.B,this.Ku,this)}}}kM.prototype=new f1;
kM.prototype.ahu=function(){this.Sy=-1};kM.prototype.k=function(){for(var l in this.xu)for(var v=0;v<this.xu[l].length;
v++)this.xu[l][v].Zi.k()};kM.prototype.Ku=function(){this.HP();this.A(new jJ(k.E.B,!1))};kM.prototype.HP=function(){var l=this.cw,o=l[0],D=l[1],H=l[2],_=l[3],u=l[4],S=this.xu[o];
if(S==null)S=[];else S=S.slice(0);if(D)S=S.concat(this.xu.anim);if(["GIF","PNG","JPG","WEBP"].indexOf(o)!=-1&&H)S=S.concat(this.xu.slcs);
else if(["GIF","PNG","JPG","WEBP","SVG"].indexOf(o)!=-1&&_)S=S.concat(this.xu.artb);if(u)S=S.concat(this.xu.hicc);
var h=l.join(",");if(h!=this.Sy){this.Sy=h;M.o7(this.Z);for(var v=0;v<S.length;v++){if(o=="PDF"&&!_&&(v==0||v==2))continue;
this.Z.appendChild(S[v].Zi.Z);M.wR(this.Z)}}var F=this.atp=[];for(var v=0;v<S.length;v++)F.push(S[v].Zi.l())};
kM.prototype.HR=function(l,o,D,H,_){this.cw=[l,o,D,H,_];this.HP()};kM.prototype.l=function(){return this.atp.slice(0)};
kM.prototype.j=function(l,o){var D=this.cw,H=D[0],_=this.xu[H],u=Math.min(_.length,l.length);for(var v=0;
v<u;v++)_[v].Zi.j(l[v]);this.HP();if(o!=!0)this.Ku()};function fm(){f1.call(this);this.Z=M.a("span","fitem");
this.rb=!1;this.yr=new cg("No",!1,"Cancel");this.ur=new cg("Yes",!1,"Confirm");this.Z.appendChild(this.yr.Z);
this.Z.appendChild(this.ur.Z);this.yr.O("click",this.YK,this);this.ur.O("click",this.YK,this);this.k()}fm.prototype=new f1;
fm.prototype.k=function(){this.yr.Qx(M.u_("cross",null,"autoscale"));this.ur.Qx(M.u_("checkmark",null,"autoscale"))};
fm.prototype.YK=function(l){this.rb=l.target==this.ur;this.A(new UIEvent("click"))};fm.prototype.l=function(){return this.rb};
function bm(l){f1.call(this);this.Z=M.a("span","fitem");this.iN=new cg("\u25BC",null,"Auto Options",!0);
M.GY(this.iN.Z,this.afc.bind(this));this.Z.appendChild(this.iN.Z);this.MR=new cg("Auto",null,null,!0);
this.MR.O("click",this.FS,this);this.Z.appendChild(this.MR.Z);this.u8=new hi("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.u8.O(k.E.B,this.FS,this);this.u8.j([!1,!1,!1,!0]);this.Bk=new f1;var o=this.Bk.Z=M.a("div","floatcont form");
o.setAttribute("style","width: 250px;");this.Bk.parent=this;o.appendChild(this.u8.Z);this.p$=[];for(var v=0;
v<2;v++){var D=new gs((v==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);D.j(.1);D.O(k.E.B,this.FS,this);
this.p$.push(D);o.appendChild(D.Z)}}bm.prototype=new f1;bm.prototype.FS=function(l){this.A(new jJ(k.E.B,!1))};
bm.prototype.k=function(){};bm.prototype.l=function(){return[this.u8.l().indexOf(!0),this.p$[0].l(),this.p$[1].l()]};
bm.prototype.afc=function(l){if(M.Ve(this.Bk.Z))return;l.stopPropagation();var o=this.iN.Z.getBoundingClientRect(),D=new jJ(k.E.b,!0);
D.data={q:k.L.jq,VG:this.Bk,x:o.left,y:o.top+o.height+4};this.A(D)};function j_(){f1.call(this);var l=this.Z=M.a("div","fitem");
this.Fq=new bU([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.Fq.O(k.E.B,this.dy,this);l.appendChild(this.Fq.Z);
this.AO=new jv(!1);this.AO.parent=this;this.AO.BM(16777215);this.AO.O(k.E.B,this.dy,this);l.appendChild(this.AO.Z)}j_.prototype=new f1;
j_.prototype.k=function(){this.Fq.k();this.AO.k()};j_.prototype.aC8=function(l){var o=[l.artboardBackgroundType.v-1];
if(l.Clr)o.push(l.Clr.v);this.j(o)};j_.prototype.acf=function(){var l=this.l();return{classID:"artboard",Clr:{t:"Objc",v:l[1]},artboardBackgroundType:{t:"long",v:l[0]+1}}};
j_.prototype.j=function(l){this.Fq.j(l[0]);if(l[1])this.AO.j(l[1])};j_.prototype.l=function(){return[this.Fq.l(),this.AO.l()]};
j_.prototype.dy=function(l){if(l.target==this.AO)this.Fq.j(3);this.A(new jJ(k.E.B,!1))};function iP(l){f1.call(this);
this.yb=l;this.ad4=0;this.aEr=!1;this.gC=l?new iP.U7:null;this.Z=M.a("div","flexrow storageset");this.Z.style.background="var(--bg-panel)";
this.ae=M.a("div");this.Z.appendChild(this.ae);this.Oq=M.a("div");this.Z.appendChild(this.Oq);this.Ho=[];
var o=Storage.list.length;if(l)o=o+1+iP.Cs.length;var D=this.w9.bind(this);for(var v=0;v<o;v++){var H=M.a("div");
this.Ho.push(H);this.ae.appendChild(H);H.addEventListener("click",D,!1)}this.w9(null,0)}iP.prototype=new f1;
iP.eb=[];iP.IX=function(l){iP.eb.push(l);l.$u()};iP.ZN=function(){var l=iP.eb;l.pop();l[l.length-1].$u()};
iP.prototype.$u=function(){this.w9(null,this.ad4)};iP.prototype.Ip=function(l,o){if(!l.bO&&!this.aEr){var D=this.yb?2:1;
for(var v=D;v<this.Ho.length;v++)this.ae.removeChild(this.Ho[v]);this.aEr=!0;if(this.yb)this.gC.Ip(l,o)}if(this.hN)this.hN.Ip(l,o)};
iP.prototype.k=function(){if(this.yb)this.gC.k();if(this.hN)this.hN.k()};iP.prototype.w9=function(l,o){var D=this.Ho,H;
if(o==null)o=D.indexOf(l.currentTarget);this.ad4=o;for(var v=0;v<D.length;v++)M.vY(D[v],"active");M.EA(D[o],"active");
if(this.yb)o--;M.o7(this.Oq);var _=Storage.list.length;if(o==-1)H=this.gC;else if(o<_)H=Storage.cJ(o);
else{var u=iP.Cs[o-_];H=new iP.u$(u[1])}this.hN=H;H.parent=this;this.Oq.appendChild(H.Z);this.Av(this.pX,this.B9);
this.k()};iP.prototype.Av=function(l,o){this.pX=l;this.B9=o;var D=l<850,H=D?50:210,_=Storage.list;if(this.yb)_=[["Home",null,"strg/home"]].concat(_.concat(iP.Cs));
for(var v=0;v<_.length;v++){var u=this.Ho[v],S="padding: 8px "+(D?13:36)+"px; cursor:pointer;";u.setAttribute("style",S);
var h=_[v][2],F=h.indexOf(".")!=-1;h=F?h:PIMG[h];u.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\""+(F?"":"gsicon")+"\" src=\""+h+"\" /> "+(D?"":_[v][0])}this.Z.style.width=l+"px";
this.Z.style.height=o+"px";this.ae.style.width=H+"px";this.ae.style.paddingTop="32px";if(this.hN)this.hN.Av(l-H,o)};
iP.Cs=[["Design contest","code/storages/wows.html","img/wows_logo.png",!0,"Join the contenst!",1686144664]];
for(var v=0;v<iP.Cs.length;v++)if(iP.Cs[v][5]*1e3<Date.now()){iP.Cs.splice(v,1);v--}iP.U7=function(){this.JU=null;
var l=this.Z=M.a("div");l.style.background="var(--bg-canvas)";var o=this.hD=M.a("div");l.appendChild(o);
var D=M.a("style");l.appendChild(D);D.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var v=0;v<2;v++){var H=M.a("div"),D="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";o.appendChild(H);
if(v==0)D+="padding: 12px 0px";if(v==1)D+="position:absolute;  bottom:0;";H.setAttribute("style",D);
var _=M.a("img");H.appendChild(_);_.setAttribute("src",PIMG[v==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(v==0)this.or=_;else this.asQ=_;if(v==0)this.ams=H;else this.auK=H}this.Ho=[];D="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var u=this.vz.bind(this),S=M.a("div");o.appendChild(S);S.setAttribute("style","width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var v=0;v<4;v++){var h=M.a("span","bhover");this.Ho.push(h);h.setAttribute("style",D+"cursor:pointer; padding:12px;");
h.addEventListener("click",u,!1);S.appendChild(h)}M.wR(o);var H=M.a("div");H.setAttribute("style",D+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
H.textContent="Drop any files here";o.appendChild(H);this.Pf=M.a("canvas");this.Pf.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.Ig=this.Pf.getContext("2d");this.ayA=g.o(4);l.appendChild(this.Pf);var F=new Date().getDate(),n=new Date().getMonth();
if(n==11&&F>20||n==0&&F<10){var R=Math.random()<.5,s={$:255,H:255,J:255};if(!R){s=g.cO(Math.random(),Math.random()*.7,1);
s.$*=255;s.H*=255;s.J*=255}this.yd=[Math.round(1048575*Math.random()),R?.05:.02,Math.round(4+Math.random()*8),1,R?3:15,s,0,!0,R,R?1:.2,3];
this.axQ=R?.1:.2;this.NW=this.qR.bind(this);window.requestAnimationFrame(this.NW)}};iP.U7.prototype=new f1;
iP.U7.prototype.qR=function(){window.requestAnimationFrame(this.NW);if(!M.Ve(this.Z))return;var l=this.ayA,o=this.Pf,D=this.Ig,H=o.width,_=o.height;
this.yd[6]=Date.now()*.001*this.axQ;g.Ik.nW(l,H,_,this.yd,!0);D.putImageData(new ImageData(new Uint8ClampedArray(l.buffer),H,_),0,0)};
iP.U7.prototype.vz=function(l){var v=this.Ho.indexOf(l.currentTarget),o=new jJ(k.E.b,!0);if(v==0)o.data={q:k.L.E1,mg:"newproject"};
if(v==1)o.data={q:k.L.z4};if(v==2)o.data={q:k.L.E1,mg:"res0"};if(v==3)o.data={q:k.L.ZM};this.A(o)};iP.U7.prototype.k=function(){var l=this.Ho,o=[[11,7],[1,6],[25,0],[0,17,6]],D=["\u2605","\uD83E\uDC7F","\u25A3"],D=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var v=0;v<l.length;v++)l[v].innerHTML="<span style=\"vertical-align:middle\">"+M.u_(D[v],null,"autoscale")+"</span>\u2000"+cU.get(o[v]);
var H="l"+"o"+"g"+"o",_=H+"_"+["pp","vp"][a8],u=new Date;if(u.getMonth()==3&&u.getDate()==1)_="lo"+"go_cuc"+"umber";
if(PIMG[H])_=H;this.or.setAttribute("src",PIMG[_]);this.asQ.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
iP.U7.prototype.Av=function(l,o){var D=Math.min(o*1.5,Math.min(l,600));M.QT(this.Pf,l,D*.26);var H=this.Pf.width,_=this.Pf.height;
this.ayA=g.o(H*_*4);this.Z.style.width=l+"px";this.Z.style.height=o+"px";this.auK.style.width=l+"px";
this.hD.style.marginLeft=Math.max(0,Math.round((l+200-600)/2)-200)+"px";this.or.style.width=D+"px";this.asQ.style.width=D+"px"};
iP.U7.prototype.Ip=function(l,o){var D=l;if(l==null)l=this.Fy;this.Fy=l;if(!l.bO&&this.Ho[2].parent){this.hD.removeChild(this.Ho[2]);
this.hD.removeChild(this.Ho[3])}this.Ho[3].style.display=l.pP?"inline-block":"none";if(D)this.JU=setTimeout(this.Ip.bind(this),100)};
iP.u$=function(l){var o=this.Z=M.a("iframe");o.style.background="var(--bg-canvas)";o.setAttribute("src",l)};
iP.u$.prototype=new f1;iP.u$.prototype.Av=function(l,o){var D=this.Z;D.style.width=l+"px";D.style.height=o+"px"};
iP.u$.prototype.Ip=function(){};function Storage(l){f1.call(this);var o=this.Z=M.a("div","storage");
M.cp(o);o.addEventListener("drop",this.a5i.bind(this),!1);var D=this.aqs=M.a("style");o.appendChild(D);
o.setAttribute("tabindex","0");o.style.outline="none";o.addEventListener("keydown",this.alH.bind(this),!1);
this.Jo=this.agf.bind(this);this.V8=0;this.Iq=0;var H=M.a("div");o.appendChild(H);var _=this.apT.bind(this);
this.yf=M.a("div","bar");H.appendChild(this.yf);this.FE=M.a("div","fls scrollable");H.appendChild(this.FE);
this.dv=M.a("div");H.appendChild(this.dv);this.dv.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.zy=M.a("div","bar");this.zy.textContent="Name: ";var u=this.pJ=M.a("input");u.setAttribute("type","text");
this.zy.appendChild(u);var S=this.x7=M.a("div","btn");S.textContent="Save";this.zy.appendChild(S);M.Bv(S,_);
M.GY(this.FE,this.Jo);this.q1=0;this.nb=l;var h=this.a9r.bind(this),F=this.aC9=M.a("div");F.setAttribute("style","text-align:center; font-size:1.6em");
var n=M.a("img");F.appendChild(n);M.wR(F);n.setAttribute("src",PIMG[Storage.list[this.nb][2]]);n.setAttribute("style","opacity:0.5;  width:25%; cursor:pointer;");
M.Bv(n,h);this.OA=M.a("div","btn");F.appendChild(this.OA);M.Bv(this.OA,h);this.kz=new fg([{name:[6,20]},{name:[5,2],Ui:[e_.Cm,e_.$s],e:function(){return{e:Storage.sz!=null}}}]);
this.kz.parent=this;this.kz.O("select",this.yK,this);this.FE.addEventListener("contextmenu",this.Jo);
this.ao8=M.a("span");this.kP=M.a("span");this.kP.setAttribute("style","position:absolute; right:0; top:5px;");
this.cb=[];this.Uz=[];for(var v=0;v<3;v++){var R=M.a("div","btn");this.cb.push(R);this.ao8.appendChild(R);
M.Bv(R,_);R.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][v]}for(var v=0;v<5;v++){var R=M.a("div","btn");
this.Uz.push(R);this.kP.appendChild(R);M.Bv(R,_)}window.addEventListener("message",this.abw.bind(this),!1);
this.a4l=!1;this.Yl=0;setInterval(this.aro.bind(this),300);this.Zw();var s=this.abN=document.createElement("input");
s.setAttribute("type","file");s.addEventListener("change",this.a5i.bind(this),!1);document.body.appendChild(s);
s.setAttribute("style","display:none");s.setAttribute("multiple","")}Storage.prototype=new f1;Storage.es=!1;
Storage.prototype.a5i=function(l){l.stopPropagation();l.preventDefault();var o=l.dataTransfer?l.dataTransfer.files:l.target.files;
this.axC=o.length;Storage.sz={};for(var v=0;v<o.length;v++){var D=o[v],H=new FileReader;H.qF=D;H.onload=this.aDx.bind(this);
H.readAsArrayBuffer(D)}};Storage.prototype.aDx=function(l){var o=Storage.sz;o[l.target.qF.name]=l.target.result;
this.axC--;if(this.axC==0)this.iK()};Storage.prototype.Ip=function(l,o){var D=Storage.list[this.nb][3],H=eJ.g$();
if(D){if(this.Yl==1&&M.Ve(this.Z)&&H!=null){this.Zw()}if(this.Yl==2&&H==null){this.Ad("forget","")}}};
Storage.prototype.aro=function(){var l=M.Ve(this.Z),o=this.a4l;if(l&&!o){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!l&&o){window.onpopstate=function(){};history.go(-1)}this.a4l=l};
Storage.prototype.Zw=function(){if(this.Vn)document.body.removeChild(this.Vn);this.Pq=[[]];this.V2=0;
this.azl={"/":[]};this.aAU="";this.aP=null;this.Ll=[];this.P$=[];this.agg=[];this.a79=null;var l=Storage.list[this.nb][1],o=eJ.NO("code/storages/"+Storage.list[this.nb][1]);
if(a8==1&&this.nb==0)o=l;var D=this.Vn=M.a("iframe");D.setAttribute("src",o);D.setAttribute("style","display:none");
document.body.appendChild(D)};Storage.prototype.SI=function(){return this.azl[this.e0()]};Storage.prototype.Ks=function(l){this.azl[this.e0()]=l};
Storage.cJ=function(v){var l=Storage.ko[v];if(l==null)l=Storage.ko[v]=new Storage(v);return l};Storage.ko=[];
Storage.m0=0;Storage.an5="";Storage.IW=function(l,o){Storage.m0=l;Storage.an5=o;var D=Storage.ko;for(var v=0;
v<D.length;v++)if(D[v])D[v].$u()};Storage.a0r=[500*(1<<20),5e3*(1<<20)];Storage.QA=0;Storage.O5=2;Storage.j9=0;
Storage.list=[["This Device","deviceStorage.html","strg/tdevice",!1,"Give Photopea a direct access to a specific folder in your device."],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,"Give Photopea a direct access to your DropBox."],["OneDrive","onedriveStorage.html","strg/onedrive",!1,"Give Photopea a direct access to your OneDrive."],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,"Give Photopea a direct access to your Google Drive."],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Shared with me","googledriveStorage.html?mode=4","strg/gdrive",!1,"Give Photopea a direct access to \"Shared with me\" in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.amM=function(l){for(var v=0;v<Storage.ko.length;v++){if(Storage.ko[v]&&Storage.ko[v].Vn.contentWindow==l)return!0}return!1};
Storage.prototype.alH=function(l){if(l.target.tagName=="INPUT")return;var o=e_;if(o.MY(l.code,o.Ab)&&this.e0().length!=0)this.aaf();
else if(l.ctrlKey){if(o.MY(l.code,o.L)){var D=[];this.Ks(D);for(var v=0;v<this.aP.length;v++)D.push(v);
this.BR()}if(o.MY(l.code,o.AP))this.lS(2);if(o.MY(l.code,o.$s))this.iK()}else if(o.MY(l.code,o.PA)){var H=this.SI();
if(H.length!=0)this.a7X(H[0])}else if(o.MY(l.code,o.O1)){this.V2=Math.max(this.V2-1,0);this.dc()}else{var _=0;
for(var v=65;v<=90;v++)if(l.code=="Key"+String.fromCharCode(v))_=v;if(_!=0){var u=String.fromCharCode(_).toLowerCase(),S=[],h=this.aP,F;
for(var v=0;v<h.length;v++)if(h[v][0][0].toLowerCase()==u)S.push(v);if(S.length==0)return;var H=this.SI();
if(H.length==0)F=S[0];else{var n=S.indexOf(H[0]);if(n==-1){F=S[0];for(var v=0;v<S.length;v++)if(S[v]>H[0]){F=S[v];
break}}else F=S[(n+1)%S.length]}this.Ks([F]);this.BR(!0)}}};Storage.prototype.Av=function(l,o){this.pX=l;
this.B9=o;this.Z.style.width=l+"px";this.Z.style.height=o+"px";var D=l-30,H=Math.floor(D/230),D=Math.floor(D/H)-70;
this.aqs.textContent=".storage .tile .name {  width:"+D+"px;  }";this.pJ.style.width=l-140+"px";this.FE.style.width=this.yf.style.width=l-20+"px";
this.FE.style.height=o-70-(Storage.m0==0?0:45)+"px"};Storage.prototype.a9r=function(){this.dc()};Storage.prototype.dc=function(){var l=this.nb,o="____strg"+l;
if(window[o]==null){eJ.event("strg_"+Storage.list[l][0]);window[o]=!0}this.Iq=1;this.Ad("show",this.e0())};
Storage.prototype.e0=function(l){var o=this.Pq[this.V2],D="/"+o.join("/");if(l&&o.length!=0)D+="/";return D};
Storage.prototype.apT=function(l){var o=l.currentTarget,D=this.V2,H=this.cb.indexOf(o),_=this.Uz.indexOf(o);
if(H>=0&&!this.afk(H))return;if(H==0){this.V2=Math.max(D-1,0);this.dc()}if(H==1){this.V2=Math.min(D+1,this.Pq.length-1);
this.dc()}if(H==2){var u=this.Pq[D+1]=this.Pq[D].slice(0);u.pop();this.V2++;this.Pq=this.Pq.slice(0,this.V2+1);
this.dc()}if(_==0){var S=document.createEvent("MouseEvents");S.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.abN.dispatchEvent(S)}if(_==1){Storage.QA=(Storage.QA+1)%2;this.$u()}if(_==2){Storage.O5=(Storage.O5+1)%3;
this.$u()}if(_==3){Storage.j9=(Storage.j9+1)%3;this.$u()}if(_==4){this.Ad("forget","")}if(o==this.x7){var h=this.pJ.value.trim(),F=this.aP,n=-1;
if(!h.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");return}for(var v=0;
v<F.length;v++)if(F[v][0]==h)n=v;if(n!=-1){this.dk("Do you really want to replace \""+h+"\"?",this.asL.bind(this))}else this.asL()}};
Storage.prototype.asL=function(){var l=this.pJ.value.trim(),o=[this.nb,this.e0(!0)+l];this.Xs({q:k.L.arC,RB:o});
this.A(new jJ("canclose",!0))};Storage.prototype.iK=function(){if(Storage.sz==null)return;this.Xs({q:k.L.AV,JS:cU.get("Uploading ...")});
this.V8=4;fy.cJ(2,this.Vn,[this.e0(),Storage.sz,this.aP],null,this.abo.bind(this))};Storage.prototype.abo=function(l){this.V8=0;
this.Xs({q:k.L.lL,JS:cU.get("Uploading ...")});this.dc()};Storage.prototype.yK=function(l){var o=l.target.Z3();
if(l.target==this.kz){if(o[0]==0){var D=[cU.get([6,20]),-1,0];this.aP.push(D);this.$u();var v=this.aP.indexOf(D),H=this.Ll[v].querySelector(".name");
console.log(H);var _=new j4.yv(H,function(s){this.Xs({q:k.L.AV,JS:cU.get([1,2])+" ..."});var Z=this.e0(!0)+s+"/";
console.log(Z);this.Ad("save",Z)}.bind(this),!0)}else this.iK()}else{if(o[0]==0){this.lS(2)}else if(o[0]==1){var v=this.SI()[0],u=this.aP[v],H=this.Ll[v].querySelector(".name");
console.log(H);H.innerHTML=u[0];var _=new j4.yv(H,function(s){s=s.trim();var Z=this.aP;for(var v=0;v<Z.length;
v++)if(Z[v][0]==s){alert("Item with such name already exists.");this.$u();return}var O=this.e0(!0)+u[0]+":"+s;
console.log(O);this.Ad("rename",O)}.bind(this))}else if(o[0]==2){this.lS(3)}else if(o[0]==3)this.aaf();
else if(o[0]==4){this.lS(1)}else{var S=this.aP[this.SI()[0]],h=Storage.oU(S),F=h[o[1]],n=F[0],R=this.eU().pop()[1];
if(Storage.aa$(S,n)!=-1){this.Ad("share",R+":"+n+":-1");alert("Unshared.")}else{this.Ad("share",R+":"+n+":"+o[2]);
alert("Shared.")}}}};Storage.aa$=function(l,o){var D=l[4];if(D==null)return-1;if(D.indexOf(o+":0")!=-1)return 0;
if(D.indexOf(o+":1")!=-1)return 1;return-1};Storage.prototype.aaf=function(){var l=this.SI();this.dk("Do you really want to delete "+(l.length==1?"\""+this.aP[l[0]][0]+"\"":"these files")+"?",this._6.bind(this))};
Storage.prototype.dk=function(l,o){var D={q:k.L.E1,mg:"confirm",P:l,Gu:o};this.Xs(D)};Storage.prototype.lS=function(l){this.V8=l;
if(1<l)this.Xs({q:k.L.AV,JS:cU.get("Downloading ...")});else this.Xs({q:k.L.AV,JS:cU.get("Getting info ...")});
fy.cJ(0,this.Vn,this.e0(),this.eU(!0),this.ara.bind(this))};Storage.prototype.ara=function(l){if(this.V8==1){var o=0,D=0;
for(var H in l){var _=l[H];o+=_[1];D++}this.dk(D+" files, "+ke.g4(o)+" in total.",function(){});this.Xs({q:k.L.lL,JS:cU.get("Getting info ...")});
this.V8=0}if(1<this.V8)fy.cJ(1,this.Vn,l,null,this.an3.bind(this))};Storage.prototype.an3=function(l){if(1<this.V8){if(1<this.V8)this.Xs({q:k.L.lL,JS:cU.get("Downloading ...")});
var o={},D=this.e0(!0);for(var H in l)o[H.slice(D.length)]=l[H];if(this.V8==2){Storage.sz=o;alert("Copied to a clipboard")}if(this.V8==3){var _=Object.keys(l);
if(_.length==1)iT.save(l[_[0]].buffer,_[0].split("/").pop());else iT.save(UZIP.encode(o),D=="/"?"files.zip":this.e0().split("/").pop()+".zip")}}this.V8=0};
Storage.sz=null;Storage.prototype._6=function(){this.Xs({q:k.L.AV,JS:cU.get([5,4])+" ..."});this.P$=this.eU();
this.dj()};Storage.prototype.dj=function(){if(this.P$.length==0){this.Xs({q:k.L.lL,JS:cU.get([5,4])+" ..."});
this.Ks([]);this.dc()}else this.Ad("delete",this.P$.pop()[1])};Storage.prototype.eU=function(l){var o=[],D=this.e0(!0),H=this.SI();
for(var v=0;v<H.length;v++){var _=this.aP[H[v]];if(l)o.push(_[0]);else o.push([this.nb,D+_[0]])}return o};
Storage.prototype.Ad=function(l,o){M.EA(this.Z,"disabled");this.aAU=l;if(Storage.es)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+l+"\", \"prm\": "+JSON.stringify(o)+"  }");
this.Vn.contentWindow.postMessage("{\"code\": \""+l+"\", \"prm\": "+JSON.stringify(o)+"  }","*")};Storage.prototype.abw=function(l){if(l.source!=this.Vn.contentWindow||this.V8!=0)return;
M.vY(this.Z,"disabled");if(typeof l.data=="string"){if(Storage.es)console.log("==",Math.floor(Date.now()/1e3),l.data);
var o=JSON.parse(l.data),D=o.code,H=o.prm,_=this.aAU,u=Storage.list[this.nb][3];if(D=="ready"){if(u&&!H){var S=eJ.g$();
console.log(S);var h=eJ.A2(),F=h.acc;if(S==null){this.Yl=1;alert("Log in to use this storage (press Account at the top).");
this.zN();return}var n=[],R=S.wantToJoin;for(var s in R)n.push(parseInt(s.slice(1)));var Z=[],O=S.inTeams;
for(var v=0;v<O.length;v++)Z.push(O[v][2]);var w={uid:S.id,limit:Storage.a0r[eJ.lu()?1:0],inTeams:Z,myTeams:n};
w.secret=F&&F.pds?F.pds:"";this.Ad("login",w);return}if(u)this.Yl=2;if(u&&o.secret){var h=eJ.A2(),F=h.acc;
if(F==null)F=h.acc={};F.pds=o.secret;eJ.h0(h)}if(H)this.dc();else this.zN()}else if(D!="0"){if(_=="save")this.Xs({q:k.L.lL,JS:cU.get([1,2])+" ..."});
if(_=="delete")this.dj();alert(H);this.$u()}else if(_=="show"){this.Iq=0;this.aP=H;this.$u()}else if(_=="save"){this.Iq=0;
this.Xs({q:k.L.lL,JS:cU.get([1,2])+" ..."});this.dc()}else if(_=="delete"){this.dj()}else if(_=="forget"){if(u)this.zN();
else this.Zw()}else if(_=="rename"||_=="share"){this.dc()}else throw D}else{if(Storage.es)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.Xs({q:k.L.a7F,RB:this.eU()[0],L0:l.data});this.Xs({q:k.L.lL,JS:"Opening ..."})}};Storage.prototype.zN=function(){M.o7(this.yf);
M.o7(this.FE);M.o7(this.dv);this.FE.appendChild(this.aC9)};Storage.prototype.afk=function(v){if(v==0)return this.V2>0;
if(v==1)return this.V2<this.Pq.length-1;if(v==2)return this.e0()!="/"};Storage.prototype.$u=function(){var l=Storage.list[this.nb][3],o=this.aP,D=Storage.O5,H=Storage.QA,_=Storage.j9;
if(o==null)return;o.sort(function(f,W){var C=f[1]==-1?1:5,j=W[1]==-1?1:5,K=0;if(Math.min(C,j)==1&&C!=j)return C-j;
else if(C==1||D==0)K=f[0].toLowerCase()<W[0].toLowerCase()?-1:1;else if(D==1)K=f[1]-W[1];else if(D==2)K=f[2]-W[2];
if(H==1)K=-K;if(f[0]=="Shared")K=-1;if(W[0]=="Shared")K=1;return K});var u=this.FE,S=this.yf,h=this.Pq[this.V2];
M.o7(u);M.o7(S);this.Ll=[];for(var v=0;v<3;v++)if(this.afk(v))M.vY(this.cb[v],"disabled");else M.EA(this.cb[v],"disabled");
S.appendChild(this.ao8);S.appendChild(this.kP);var F=M.a("span");F.textContent="/";S.appendChild(F);
for(var v=0;v<h.length;v++){var F=M.a("span");F.textContent=h[v];S.appendChild(F);var F=M.a("span");
F.textContent="/";S.appendChild(F)}var n=["tile","icon","litm"][_];for(var v=0;v<o.length;v++){var R=o[v],s=R[1]==-1,Z=s?"":ke.g4(R[1]),O=M.a("div","cont "+n),a=!1;
u.appendChild(O);this.Ll.push(O);O.setAttribute("title",R[0]+(s?"":"\nSize: "+Z+"\nDate Modified: "+new Date(R[2]*1e3).toLocaleString().replaceAll(". ",".")));
var w=M.a("img");w.setAttribute("src",s?Storage.a26:R[3]?R[3]:Storage.qF);if(!s&&R[3])w.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var m=M.a("span","name"),V=R[0];if(n=="icon"&&V.length>30)V=V.slice(0,24)+".."+V.slice(V.length-5);if(l&&h.length==1&&h[0]=="Shared"){var q=Storage.oU(),i=parseInt(V.slice(5));
for(var c=0;c<q.length;c++)if(q[c][0]==i)V=q[c][1]}m.textContent=V;O.appendChild(w);O.appendChild(m);
if(n!="icon"&&!s){if(n=="tile")M.wR(m);var z=M.a("span");z.textContent=Z;z.style.opacity="0.8";(n=="tile"?m:O).appendChild(z)}var B=R[0].split("."),t=(B.length==1?"":B.pop()).toUpperCase();
if(l&&R[0]=="Shared"&&h.length==0){a=!0;t="\u21E7"}if(n!="litm"&&(!s&&R[3]==null||a)){var I=M.a("span","ext");
I.textContent=t;var N=Storage.I$[t];I.style.backgroundColor=N?N:Storage.a5t(t);O.appendChild(I)}M.GY(O,this.Jo);
O.addEventListener("contextmenu",this.Jo)}this.BR();var J=this.zy.parentNode!=null,Q=Storage.m0,A=this.Z;
if(J&&Q==0)A.removeChild(this.zy);if(!J&&Q==1)A.appendChild(this.zy);this.Av(this.pX,this.B9);this.k()};
Storage.prototype.BR=function(l){var o=this.Ll,D=this.aP,H=this.SI(),_=!1,u=0;for(var v=0;v<o.length;
v++){var S=D[v],h=S[1]==-1,F=o[v];if(Storage.m0==1&&!h&&!S[0].toLowerCase().endsWith(".psd"))F.style.display="none";
else F.style.display="auto";if(H.indexOf(v)==-1)M.vY(F,"active");else{if(h)_=!0;else u+=S[1];M.EA(F,"active");
if(l)F.scrollIntoView({block:"center",behavior:"smooth"})}}var n=_?"":ke.g4(u);this.dv.textContent=H.length==0?"":H.length+" item"+(H.length==1?"":"s")+" selected\u2001"+n;
this.pJ.value=H.length==1&&!_?D[H[0]][0]:Storage.an5};Storage.prototype.a7X=function(v){var l=this.aP[v];
if(l[1]==-1){var o=this.Pq[this.V2].slice(0);o.push(l[0]);this.V2++;this.Pq[this.V2]=o;this.Pq=this.Pq.slice(0,this.V2+1);
this.Ks([]);this.dc()}else if(Storage.m0==0){this.Xs({q:k.L.AV,JS:"Opening ..."});this.A(new jJ("canclose",!0));
var D=this.e0(!0)+l[0];this.Ad("load",D)}};Storage.prototype.k=function(){var l=Storage.O5,o=Storage.QA,D=Storage.j9;
this.Uz[0].textContent="Upload";this.Uz[1].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][o];this.Uz[2].textContent=cU.get([[12,48],[12,14,0],"Date"][l]);
this.Uz[3].textContent=cU.get(["Tiles","Icons",[25,3,1]][D]);this.Uz[4].textContent="\u2716";this.OA.innerHTML=cU.get([[23,6],Storage.list[this.nb][0]])+"<br/><small><small>"+Storage.list[this.nb][4]+"</small></small>";
this.Ip()};Storage.prototype.agf=function(l){this.Xs({q:k.L.RQ});if(M.Ve(this.aC9))return;if(l.button==3||l.button==4){if(Date.now()-this.apC>50){var o=this.V2;
if(l.button==3)this.V2=Math.max(o-1,0);else this.V2=Math.min(o+1,this.Pq.length-1);this.dc()}this.apC=Date.now();
return}l.stopPropagation();var v=this.Ll.indexOf(l.currentTarget);if(l.type=="contextmenu"){if(this.aP==null)return;
l.preventDefault();var D=this.kz;if(v!=-1){var H=[{name:[5,1],Ui:[e_.Cm,e_.AP]},{name:[6,37]},{name:"Download",ab:!0},{name:[5,4],Ui:[e_.Ab]},{name:[9,2]}];
if(Storage.list[this.nb][3]){var _=this.aP[v],u=Storage.oU(_);if(u.length!=0){var S=[];for(var h=0;h<u.length;
h++){var F=[],n=u[h],R=Storage.aa$(_,n[0]);if(R!=-1)F.push({name:"Unshare"});else F.push({name:"Allow Read"},{name:"Allow Read & Write"});
S.push({name:n[1]+[""," (R)"," (R,W)"][R+1],sub:F})}H.push({name:"Share With",sub:S})}}D=new fg(H);D.parent=this;
D.O("select",this.yK,this)}D.parent=this;D.k();D.update();this.Xs({q:k.L.jq,VG:D,x:l.clientX+4,y:l.clientY});
return}var s=this.SI(),Z=s.indexOf(v);if(l.button!=0&&Z!=-1)return;if(l.target==this.FE)this.Ks([]);
else{if(l.ctrlKey){if(Z==-1)s.push(v);else s.splice(Z,1)}else if(l.shiftKey&&s.length!=0){var h=s[0];
if(h<v){var O=v;v=h;h=O}s=[];this.Ks(s);for(var w=v;w<=h;w++)s.push(w)}else{this.Ks([v]);if(Date.now()-this.q1<300&&s.length!=0&&s[0]==v){this.a7X(v);
this.q1=0}}}this.q1=Date.now();this.BR()};Storage.prototype.Xs=function(l){var o=new jJ(k.E.b,!0);o.data=l;
this.A(o)};Storage.oU=function(l){var o=[],D=[],H=eJ.A2(),_=H.acc.tstart;if(_)for(var v=0;v<_.length;
v++){o.push([_[v][2],_[v][0]]);D.push(_[v][2])}var u=eJ.g$();_=u.inTeams;if(_)for(var v=0;v<_.length;
v++){o.push([_[v][2],_[v][0]]);D.push(_[v][2])}if(l&&l[4]){for(var v=0;v<l[4].length;v++){var S=parseInt(l[4][v].split(":")[0]);
if(D.indexOf(S)==-1)o.push([S,"Team "+S])}}return o};Storage.prototype.awr=function(l,o){if(this.Iq!=0)return 1;
this.Iq=2;this.Xs({q:k.L.AV,JS:cU.get([1,2])+" ..."});this.Ad("save",l);if(Storage.es)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.Vn.contentWindow.postMessage(o,"*")};Storage.I$={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.a5t=function(l){l=l.toLowerCase();
var o=0;for(var v=0;v<l.length;v++)o+=l.charCodeAt(v)*613<<8*v;return"#"+g.Bi(o&16777215)};Storage.a26="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.qF="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var fy=function(){var l,o,D,H,_,u,S,h;function F(O,w,m,V,q){o=w;H=V;S=q;l=O;u={};if(l==0){D=[m]}if(l==1){D=[];
for(var i in m)D.push(i)}if(l==2){var c=m[0],z=m[1],B=m[2],t={};for(var v=0;v<B.length;v++)t[B[v][0]]=!0;
var a={};for(var i in z){var I=i.split("/"),N=I[0],J=N.split("."),Q="";if(J.length!=1){Q="."+J.pop();
N=J.join(".")}while(t[N+Q])N+=" - Copy";I[0]=N+Q;a[I.join("/")]=z[i]}var A={};D=[];for(var i in a){var I=i.split("/");
for(var v=0;v<I.length-1;v++){var f=c+I.slice(0,v+1).join("/")+"/";if(A[f]==null){A[f]=!0;D.push([f])}}var W=c.endsWith("/")||i.startsWith("/")?"":"/";
D.push([c+W+i,a[i]])}}window.addEventListener("message",R,!1);h=Date.now();n()}function n(){if(D.length==0){Z();
return}_=D.shift();if(l==0)s("show",_);if(l==1)s("load",_);if(l==2){s("save",_[0]);if(_.length==2)o.contentWindow.postMessage(_[1],"*")}}function R(O){if(O.source!=o.contentWindow)return;
if(l==0){var w=JSON.parse(O.data),m=w.code,V=w.prm;for(var v=0;v<V.length;v++){var q=V[v];if(H&&H.indexOf(q[0])==-1)continue;
var i=_+(_=="/"?"":"/"),c=i+q[0];if(q[1]==-1)D.push(c);else u[c]=q}H=null}else if(l==1){u[_]=new Uint8Array(O.data)}n()}function s(O,w){var m=O=="show"?", \"nothumbs\": true":"",V="{\"code\": \""+O+"\", \"prm\": "+JSON.stringify(w)+m+"  }";
o.contentWindow.postMessage(V,"*")}function Z(){console.log(Date.now()-h);window.removeEventListener("message",R,!1);
S(u)}return{cJ:F}}();function a2(l){f1.call(this);var o=this.Z=M.a("div","form scrollable padded label12");
this.xn=l;this.BB=null;var D=[],H=a2.E$[l];this.pp=[];for(var _ in H){var u=parseInt(_.slice(1)),S=u%10==0?"":"\u2800\u2800- ";
D.push(S+H[_]);this.pp.push(u)}this.tW=[new g7("Name",null,30),new g7("Description",null,30,4),l==0?new g7("File"," www.Photopea.com#i...",17):new c$("File",!1,!1),new g7("Thumbnail URL","* Use Imgur.com etc.",17),new bU("Category",D),new km("Make Public"),new cg("<< Back",null,null,!0),new cg("Save",null,null,!0)];
if(l==0)this.tW.push(new eW("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new eW("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(l==1)this.tW.push(new eW("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(l!=0)this.tW.push(new eW("Do not load any file to preserve the old version."));for(var v=0;v<this.tW.length;
v++){var h=this.tW[v];o.appendChild(h.Z);h.parent=this;if(v!=4&&v!=6)M.wR(o);if(h instanceof cg)h.O("click",this.adB,this);
if(l!=0&&v==2)h.O(k.E.B,this.ayH,this)}}a2.prototype=new f1;a2.prototype.ayH=function(l){var o=this.tW[2],D=o.l(),H=Object.keys(D),_=D[H[0]].buffer,u=fj.ZH(_),S=" json atn abr grd asl pat csh icc".split(" ")[this.xn];
if(u!=S){alert("This is a wrong file"+(u?" ("+u.toUpperCase()+")":"")+". You need to upload the "+S.toUpperCase()+" file.");
o.j({})}};a2.prototype.adB=function(l){if(l.target==this.tW[6]){this.A(new jJ("back"));return}var o=this.tW[3].l().trim(),D=o.startsWith("http")&&(o.endsWith(".jpeg")||o.endsWith(".jpg")||o.endsWith(".png")||o.endsWith(".gif"));
if(!D){alert("Thumbnail URL is incorrect.");return}var H=new XMLHttpRequest,_="mirror.php?url="+encodeURIComponent(o);
H.open("GET",_);H.responseType="arraybuffer";H.onload=this.aCF.bind(this);H.send()};a2.prototype.aCF=function(l){var o=l.target.response,D=o.byteLength;
if(D>2e5&&fj.ZH(o)!="gif"){alert("Thumbnail is too large ("+ke.g4(D)+"). Make it under 200 kB.");return}var H=this.tW[2].l(),_=Object.keys(H);
if(this.xn!=0&&_.length==0&&(this.BB==null||this.BB.file==null||this.BB.file=="")){alert("You need to select a file.");
return}if(this.xn!=0&&_.length!=0){console.log(H);iT.cw.aaM(H[_[0]].buffer,_[0],this.axI.bind(this),"pp-resources");
return}this.axI()};a2.prototype.axI=function(l){var o=this.xn,D="name desc file thmb catg publ".split(" "),H=this.BB;
for(var v=0;v<6;v++){if(o!=0&&v==2)continue;var _=this.tW[v].l();if(v<=3){_=_.trim();if(_.length==0){alert("One of values is empty.");
return}}if(v==2){if(_.endsWith(".psd"))_=_.slice(0,_.length-4);var u=_.split("#i");if(u.length!=2||u[1].length!=8){alert("File ID is incorrect.");
return}_=u.pop()}if(v==4)_=this.pp[_];H[D[v]]=_}if(o!=0){if(l)H.file=l;else if(H.file==null){alert("Select a file from your computer.");
return}}if(H.utme.length==0)H.utme=""+Math.round(Date.now()/1e3);H.type=o;this.A(new jJ("save"))};a2.prototype.k=function(){};
a2.prototype.j=function(l){var o=this.BB=JSON.parse(JSON.stringify(l)),D=this.xn,H="name desc file thmb catg publ".split(" ");
for(var v=0;v<6;v++){if(D!=0&&v==2)continue;var _=o[H[v]];if(_!=""&&v==2)_="https://photopea.com#i"+_;
if(v==4)_=this.pp.indexOf(_);if(v==5&&_==null)_=!0;this.tW[v].j(_)}};a2.prototype.l=function(){return JSON.parse(JSON.stringify(this.BB))};
a2.E$=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function ai(){f1.call(this);var l=this.Z=M.a("div","form");this.BB=null;this.eM=null;this.Qv=null;this.$N=null;
var o=M.a("canvas");this.Ig=o.getContext("2d");M.zl(o);M.GY(o,this.kj.bind(this));this.$K=[new ei([12,44],[[19,0,0],[19,0,1]]),{Z:o},new gs([12,0],0,100,"%",null,null,null,4),new jv,new gs([12,40],0,100,"%",2,null,null,4),new cg([5,4],null,null,!0)];
for(var v=0;v<this.$K.length;v++){var D=this.$K[v];D.parent=this;l.appendChild(D.Z);if(v!=2&&v!=4)M.wR(l);
if(v!=1)D.O(v==5?"click":k.E.B,this.FS,this)}this.Er=this.ju.bind(this);this.qM=this.ER.bind(this)}ai.prototype=new f1;
ai.prototype.l=function(){return JSON.parse(JSON.stringify(this.BB))};ai.prototype.j=function(l){this.BB=JSON.parse(JSON.stringify(l));
this.HP()};ai.prototype.k=function(){var l=this.$K;for(var v=0;v<l.length;v++)if(l[v].k)l[v].k()};ai.prototype.kj=function(l){var o=M.Y(),D=M.Kx(l,this.Ig.canvas);
D.x*=o;D.y*=o;var H=this.Qv,_=this.$N,u=this.BB,S=u[1],h=7*M.Y(),F=-1;for(var v=0;v<H.length;v++){if(he.At(D,H[v][0])<h)F=v}if(F==-1){if(Math.abs(D.y-(_.y+_._))>10*o)return;
var n=[.5,[0,0,0],1,.5];S.push(n);S.sort(function(R,s){return R[0]-s[0]});this.Pp=[new he,S.indexOf(n),0]}else this.Pp=H[F];
this.eM=JSON.stringify(this.BB);M.en(window,this.Er);M.Bv(window,this.qM);if(F==-1)this.ju(l);this.HP()};
ai.prototype.ju=function(l){this.BB=JSON.parse(this.eM);var o=M.Y(),D=M.Kx(l,this.Ig.canvas);D.x*=o;
D.y*=o;var H=this.Pp,_=H[1],u=this.$N,S=this.BB[1],h=S[_],F=(D.x-u.x)/u.Q;if(H[2]==0){h[0]=Math.max(0,Math.min(1,F));
if(Math.abs(D.y-(u.y+u._))>30*o)S.splice(_,1)}else{var n=h[0],R=S[_+1][0],s=h[3];h[3]=Math.max(.13,Math.min(.87,(F-n)/(R-n)))}S.sort(function(Z,O){return Z[0]-O[0]});
this.HP()};ai.prototype.ER=function(l){M.ie(window,this.Er);M.OF(window,this.qM)};ai.prototype.FS=function(l){var o=this.$K,v=o.indexOf(l.target),D=this.BB,H=l.target.l(),_=this.Pp;
if(v==0)D[0]=H;if(_){var u=D[1][_[1]];if(v==2)u[2]=H/100;if(v==3){H=g.kJ(l.target.rX());u[1]=[H.$/255,H.H/255,H.J/255]}if(v==4)if(_[2]==0)u[0]=H/100;
else u[3]=Math.max(.13,Math.min(.87,H/100));if(v==5){D[1].splice(_[1],1);this.Pp=null}}this.HP()};ai.prototype.HP=function(){var l=this.$K,o=this.BB,D=o[1],H=this.Ig,_=H.canvas;
l[0].j(o[0]);var u=_.width=Math.floor(300*M.Y()),S=_.height=Math.floor(60*M.Y()),h=Math.floor(20*M.Y()),F=u-h-h;
this.$N=new gt(h,h,F,S-h-h);M.af(_);var n=H.fillStyle=H.createLinearGradient(h,h,u-h,h);g.G.wS(n,D);
H.fillRect(h,h,F,S-h-h);H.lineWidth=1;H.strokeRect(h-.5,h-.5,F+1,S-h-h+1);var R=this.Qv=[],s=this.Pp;
H.fillStyle="white";for(var v=0;v<D.length;v++){var Z=D[v],O=Z[0],w=S-h*.6;if(s&&s[1]==v&&s[2]==0){H.fillStyle="#00aaff";
H.beginPath();H.arc(h+O*F,w,S*.125,0,2*Math.PI);H.fill()}H.fillStyle="white";H.beginPath();H.arc(h+O*F,w,S*.1,0,2*Math.PI);
H.fill();H.beginPath();H.arc(h+O*F,w,S*.07,0,2*Math.PI);H.stroke();R.push([new he(h+O*F,w),v,0]);if(v!=D.length-1){var m=Z[3],V=D[v+1][0];
O=O+m*(V-O);w=h*.7;if(s&&s[1]==v&&s[2]==1){H.fillStyle="#00aaff";H.beginPath();H.arc(h+O*F,w,S*.075,0,2*Math.PI);
H.fill()}H.fillStyle="white";H.beginPath();H.arc(h+O*F,w,S*.05,0,2*Math.PI);H.fill();R.push([new he(h+O*F,w),v,1])}}l[2].td(s&&s[2]==0);
l[3].td(s&&s[2]==0);l[4].td(s!=null);l[5].td(s&&s[2]==0&&D.length>2);if(s){var Z=D[s[1]],q=Z[1];if(s[2]==0)l[2].j(Z[2]*100);
l[3].BM(g.V$({$:q[0]*255,H:q[1]*255,J:q[2]*255}));l[4].j(Z[s[2]==0?0:3]*100)}};function cB(l){f1.call(this);
this.pV=l;this.Z=M.a("div","");this.bg=[];this.Ic=null;this.ajf=[]}cB.prototype=new f1;cB.prototype.p_=function(l){};
cB.prototype.Dq=function(){return!1};cB.prototype.Av=function(l,o){};cB.prototype.Ip=function(l,o){};
cB.prototype.LC=function(l){};cB.prototype.j=function(l,o,D,H,_,u){var S=[],h=this.bg,F=0,n=at.T7["s"+this.pV];
if(this.pV=="Dspl")this.Ud(l,S,u);else n?n(l,S,u):this.Ud(l,S,u);for(var v=0;v<h.length;v++)if(!(h[v]instanceof eW))h[v].j(S[F++]);
if(l.RndS)this.Ic=l.RndS.v};cB.prototype.l=function(){var l=at.ts(this.pV),o=[],D=this.bg,H=0;for(var v=0;
v<D.length;v++)if(!(D[v]instanceof eW))o[H++]=D[v].l();var _=at.T7["g"+this.pV];if(this.pV=="Dspl")this.hv(l,o);
else _?_(l,o):this.hv(l,o);if(l.RndS)l.RndS.v=this.Ic;return l};cB.prototype.WP=function(l){};cB.prototype.YU=function(l){if(l&&l.target instanceof cg){this.Ic=Math.floor(Math.random()*4294967295)}var o=this.ajf;
for(var v=0;v<o.length;v+=2){var D=this.bg[o[v]],H=this.bg[o[v+1]],_=D.l(),u=H.l();if(l.target==D)H.j(Math.max(_,u));
else D.j(Math.min(_,u))}this.A(new jJ(k.E.B))};cB.prototype.k=function(){for(var v=0;v<this.bg.length;
v++)this.bg[v].k();var l=this.ap7;if(l)l.k()};cB.prototype.Vk=function(l){M.EA(this.Z,"form");var o=this.bg;
for(var v=0;v<o.length;v++){var D=o[v];D.parent=this;D.O(k.E.B,this.YU,this);this.Z.appendChild(D.Z);
if(D instanceof km&&o[v+1]instanceof jv)continue;if(l&&l.indexOf(v)!=-1)M.EK(this.Z);else M.wR(this.Z)}var H=at.ts(this.pV);
if(H.RndS){var _=this.ap7=new cg([25,1,2],null,null,!0);this.Z.appendChild(_.Z);_.O("click",this.YU,this)}};
cB.prototype.iL=function(l){return!1};cB.prototype.hS=function(){return!1};cB.prototype.GE=function(l,o,D,H,_){};
cB.prototype.XR=function(l,o,D,H,_){};cB.prototype.Jm=function(l,o,D,H,_){};cB.prototype.hv=function(l,o){};
cB.prototype.Ud=function(l,o){};cB.prototype.UG=function(l){var o=l.target.l().indexOf(!0)!=-1,D=new jJ(k.E.b,!0);
D.iy=!0;D.data={q:o?k.L.BC:k.L.Zp,S:p.C6};this.A(D);D=new jJ(k.E.r,!0);D.S=p.C6;D.iy=!0;D.data={q:"supertool",S:o?this:null};
this.A(D)};cB.agZ=function(l){l.hS=function(){return!0};l.GE=function(o,D,H,_,u){this.D6=!0;this.aiZ(o,u)};
l.XR=function(o,D,H,_,u){if(!this.D6)return;this.aiZ(o,u)};l.Jm=function(o,D,H,_,u){this.D6=!1};l.aiZ=function(o,D){var H=new gt(0,0,o.Q,o._);
if(o.f)H=o.f.rect;var _=o.w.vp(D.x,D.y);_.x-=H.x;_.y-=H.y;function u(S,h){return Math.round(Math.max(0,Math.min(100,100*S/h)))}this.bg[2].j(u(_.x,H.Q));
this.bg[3].j(u(_.y,H._));this.YU()}};cB.Bokh=function(){cB.call(this,"Bokh");this.bg=[new bU("Depth Map",["A","b"]),new h_("Focal Distance",0,255),new km([4,11]),new bU([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new h_([12,56],0,100),new h_([12,15],0,360),new h_([12,2],0,100),new h_([4,13],0,255),new h_([24,6],0,100),new ei([12,58],[[12,59,0],[12,59,1]]),new km([12,60])];
this.Vk([5,7])};cB.Bokh.prototype=new cB;cB.Bokh.prototype.Ud=function(l,o,D){var H=[[22,5,0],[6,5,3],[6,2]],_=l.BkDi.v.BtDi,u=l.BkDc,S=0;
if(_=="BeIn")S=0;else if(_=="BeIt"&&u.v.BtDc=="BeCt")S=1;else if(_=="BeIt"&&u.v.BtDc=="BeCm")S=2;else S=3+u.v;
for(var v=0;v<D[1].length;v++)H.push(D[1][v].name);this.bg[0].Ls(H,[3]);o[0]=S;o[1]=l.BkDp.v;o[2]=l.BkDs.v;
o[3]=parseInt(l.BkIs.v.BtIs.slice(3))-3;o[4]=l.BkIb.v;o[5]=l.BkIr.v;o[6]=l.BkSb.v;o[7]=l.BkSt.v;o[8]=l.BkNa.v;
o[9]=l.BkNt.v.BtNt=="BeNu"?0:1;o[10]=l.BkNm.v};cB.Bokh.prototype.hv=function(l,o){var D;if(o[0]==0){D="BeIn";
delete l.BkDc}else if(o[0]<3){D="BeIt";l.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][o[0]-1]}}}else{D="BeIa";
l.BkDc={t:"long",v:o[0]-3}}l.BkDi.v.BtDi=D;l.BkDp.v=o[1];l.BkDs.v=o[2];l.BkIs.v.BtIs="BeS"+(3+o[3]);
l.BkIb.v=o[4];l.BkIr.v=o[5];l.BkSb.v=o[6];l.BkSt.v=o[7];l.BkNa.v=o[8];l.BkNt.v.BtNt=["BeNu","BeNg"][o[9]];
l.BkNm.v=o[10]};cB.oilPaint=function(){cB.call(this,"oilPaint");this.bg=[new h_([12,56],.1,10,"px",!0),new h_("Cleanliness",0,10,"px",!0),new h_([12,38],.1,10,null,!0),new h_("Bristle Detail",0,10,null,!0),new km("Lighting"),new h_("Shine",0,10,null,!0),new gX([12,15])];
this.Vk()};cB.oilPaint.prototype=new cB;cB.oilPaint.prototype.Ud=function(l,o){var D="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var v=0;v<D.length;v++)o[v]=l[D[v]].v;o[6]=[l.LghD.v]};cB.oilPaint.prototype.hv=function(l,o){var D="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var v=0;v<D.length;v++)l[D[v]].v=o[v];l.LghD.v=o[6][0]};cB.TrcC=function(){cB.call(this,"TrcC");
this.bg=[new h_("Level",0,255),new ei([12,69],[[19,4,1],[19,4,0]])];this.Vk()};cB.TrcC.prototype=new cB;
cB.TrcC.prototype.Ud=function(l,o){o[0]=l.Lvl.v;o[1]=["Lwr","Upr"].indexOf(l.Edg.v.CntE)};cB.TrcC.prototype.hv=function(l,o){l.Lvl.v=o[0];
l.Edg.v.CntE=["Lwr","Upr"][o[1]]};cB["Dfs "]=function(){cB.call(this,"Dfs ");this.bg=[new ei([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.Vk()};cB["Dfs "].prototype=new cB;cB["Dfs "].prototype.Ud=function(l,o){o[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(l.Md.v.DfsM)};
cB["Dfs "].prototype.hv=function(l,o){l.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][o[0]]};cB.Embs=function(){cB.call(this,"Embs");
this.bg=[new gX([12,15]),new h_([12,42],1,100,"px"),new h_([12,57],1,500,"%")];this.Vk()};cB.Embs.prototype=new cB;
cB.Embs.prototype.Ud=function(l,o){o[0]=[l.Angl.v];o[1]=l.Hght.v;o[2]=l.Amnt.v};cB.Embs.prototype.hv=function(l,o){l.Angl.v=o[0][0];
l.Hght.v=o[1];l.Amnt.v=o[2]};cB["Wnd "]=function(){cB.call(this,"Wnd ");this.bg=[new ei([12,32],["Wind","Blast","Stagger"]),new ei([12,33],["From the Right","From the Left"])];
this.Vk()};cB["Wnd "].prototype=new cB;cB["Wnd "].prototype.Ud=function(l,o){o[0]=["Wnd","Blst","Stgr"].indexOf(l.WndM.v.WndM);
o[1]=["Left","Rght"].indexOf(l.Drct.v.Drct)};cB["Wnd "].prototype.hv=function(l,o){l.WndM.v.WndM=["Wnd","Blst","Stgr"][o[0]];
l.Drct.v.Drct=["Left","Rght"][o[1]]};cB.denoise=function(){cB.call(this,"denoise");this.bg=[new h_([12,64],0,10),new h_([12,65],0,100,"%")];
this.Vk()};cB.denoise.prototype=new cB;cB.denoise.prototype.Ud=function(l,o){var D=l.channelDenoise.v[0].v;
o[0]=D.Amnt.v;o[1]=D.EdgF.v};cB.denoise.prototype.hv=function(l,o){var D=l.channelDenoise.v[0].v;D.Amnt.v=o[0];
D.EdgF.v=o[1]};cB.lightFilterGradient=function(){cB.call(this,"lightFilterGradient");this.bg=[new h_([24,3,1],0,100,"px",1,!0),new h_([12,38],0,200,"%"),new km([4,11]),new h_("High",0,100,"%"),new h_("Medium",0,100,"%"),new h_("Low",0,100,"%")];
this.Vk()};cB.lightFilterGradient.prototype=new cB;cB.lightFilterGradient.prototype.Ud=function(l,o){o[0]=l.blur.v;
o[1]=l.textureScale.v*100;o[2]=l.Scl.v==-1;var D=l.Dtl.v;o[3]=D[0].v*100;o[4]=D[1].v*100;o[5]=D[2].v*100};
cB.lightFilterGradient.prototype.hv=function(l,o){l.blur.v=o[0];l.textureScale.v=o[1]/100;l.Scl.v=o[2]?-1:1;
var D=l.Dtl.v;D[0].v=o[3]/100;D[1].v=o[4]/100;D[2].v=o[5]/100};cB.Fbrs=function(){cB.call(this,"Fbrs");
this.bg=[new h_("Variance",1,64),new h_([12,64],1,64)];this.Vk()};cB.Fbrs.prototype=new cB;cB.Fbrs.prototype.Ud=function(l,o){o[0]=l.Vrnc.v;
o[1]=l.Strg.v};cB.Fbrs.prototype.hv=function(l,o){l.Vrnc.v=o[0];l.Strg.v=o[1]};cB.LnsF=function(){cB.call(this,"LnsF");
this.bg=[new h_([12,2],10,300,"%"),new ei([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new h_("Position X",0,100,"%"),new h_("Position Y",0,100,"%")];
this.Vk()};cB.LnsF.prototype=new cB;cB.LnsF.prototype.Ud=function(l,o){o[0]=l.Brgh.v;o[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(l.Lns.v.Lns);
var D=l.FlrC.v;o[2]=Math.round(D.Hrzn.v*100);o[3]=Math.round(D.Vrtc.v*100)};cB.LnsF.prototype.hv=function(l,o){l.Brgh.v=o[0];
l.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][o[1]];var D=l.FlrC.v;D.Hrzn.v=o[2]/100;D.Vrtc.v=o[3]/100};cB.agZ(cB.LnsF.prototype);
cB.blendOptions=function(){cB.call(this,"blendOptions");this.bg.push(new bU([12,19,0],b2.Rv,b2.Yi));
this.bg.push(new h_([12,0],0,100,"%"));this.Vk()};cB.blendOptions.prototype=new cB;cB.blendOptions.prototype.Ud=function(l,o){o[0]=b2.cu.indexOf(l.Md.v.BlnM);
o[1]=l.Opct.v.val};cB.blendOptions.prototype.hv=function(l,o){l.Md.v.BlnM=b2.cu[o[0]];l.Opct.v.val=o[1]};
cB.LnCr=function(){cB.call(this,"LnCr");this.bg=[new h_([12,57],-100,100),new h_([12,38],10,150,"%")];
this.Vk()};cB.LnCr.prototype=new cB;cB.LnCr.prototype.Ud=function(l,o){o[0]=l.LnIa.v;o[1]=l.LnSi.v};
cB.LnCr.prototype.hv=function(l,o){l.LnIa.v=o[0];l.LnSi.v=o[1]};cB.adaptCorrect=function(){cB.call(this,"adaptCorrect");
var l=b_;this.bg=[new eW([19,6,0]),new l([12,57],0,100,"%"),new l("Tone",0,100,"%"),new l([12,56],0,200,"px"),new eW([19,6,2]),new l([12,57],0,100,"%"),new l("Tone",0,100,"%"),new l([12,56],0,200,"px"),new eW([3]),new l([13,0],-100,100)];
this.Vk([3,7])};cB.adaptCorrect.prototype=new cB;cB.adaptCorrect.prototype.Ud=function(l,o){var D=l.sdwM.v;
o[0]=D.Amnt.v.val;o[1]=D.Wdth.v.val;o[2]=D.Rds.v;var D=l.hglM.v;o[3]=D.Amnt.v.val;o[4]=D.Wdth.v.val;
o[5]=D.Rds.v;o[6]=l.ClrC.v};cB.adaptCorrect.prototype.hv=function(l,o){var D=l.sdwM.v;D.Amnt.v.val=o[0];
D.Wdth.v.val=o[1];D.Rds.v=o[2];var D=l.hglM.v;D.Amnt.v.val=o[3];D.Wdth.v.val=o[4];D.Rds.v=o[5];l.ClrC.v=o[6]};
cB.Flam=function(){cB.call(this,"Flam");var l=this.bg=[new bU([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new h_([12,80,0],20,1e3,"px"),new km("Randomize Length"),new h_([12,41],5,600,"px"),new h_([12,15],0,360,"\xB0"),new h_("Interval",10,200,"px"),new km("Adapt Interval for Loops"),new jv(!1),new bU([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new h_("Turbulent",0,100),new h_("Jag",0,100),new h_([12,0],0,100),new h_("Lines",2,30),new h_("Bottom",0,100),new bU([12,22],["Normal","Violent","Flat"]),new bU([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new km("Randomize Shape"),new h_("Random Seed",0,100)];
this.Vk();var o=this.Z;M.o7(o);var D=new ei(null,["Basic","Advanced"]);D.O(k.E.B,this.aCM,this);o.appendChild(D.Z);
M.EK(o);var H=M.a("div"),_=M.a("div");this.agr=[H,_];o.appendChild(H);for(var v=0;v<l.length;v++){(v<9?H:_).appendChild(l[v].Z);
if(v==6)M.wR(H)}l[0].O(k.E.B,this.aE6,this);this.aE6()};cB.Flam.prototype=new cB;cB.Flam.prototype.aE6=function(l){var o=this.bg,v=o[0].l();
o[1].td(v!=0&&v!=5);o[2].td(v!=0&&v!=5);o[4].td(v!=0&&v!=5&&v!=1);o[5].td(v!=0&&v!=5);o[6].td(v!=0&&v!=5)};
cB.Flam.prototype.aCM=function(l){var v=l.target.l(),o=this.agr,D=this.Z;D.removeChild(o[1-v]);D.appendChild(o[v])};
cB.boxblur=function(){cB.call(this,"boxblur");this.bg=[new h_([12,56],1,200," px")];this.Vk()};cB.boxblur.prototype=new cB;
cB.boxblur.prototype.Ud=function(l,o){o[0]=l.Rds.v.val};cB.boxblur.prototype.hv=function(l,o){l.Rds.v.val=o[0]};
cB.GsnB=function(){cB.call(this,"GsnB");this.bg=[new h_([12,56],.1,400,"px",1,!0)];this.Vk()};cB.GsnB.prototype=new cB;
cB.Dila=function(){cB.call(this,"Dila");this.bg=[new h_([11,12,1],0,20,"px",0),new h_([12,56],0,400,"px",0,!0)];
this.Vk()};cB.Dila.prototype=new cB;cB.MtnB=function(){cB.call(this,"MtnB");this.bg=[new gX([12,15]),new h_([12,28],1,100," px")];
this.Vk()};cB.MtnB.prototype=new cB;cB.RdlB=function(){cB.call(this,"RdlB");this.bg=[new h_([12,57],1,100),new ei([12,36],["Spin","Zoom"]),new h_("Position X",0,100,"%"),new h_("Position Y",0,100,"%")];
this.Vk()};cB.RdlB.prototype=new cB;cB.RdlB.prototype.Ud=function(l,o){o[0]=l.Amnt.v;o[1]=["Spn","Zm"].indexOf(l.BlrM.v.BlrM);
o[2]=l.Cntr.v.Hrzn.v*100;o[3]=l.Cntr.v.Vrtc.v*100};cB.RdlB.prototype.hv=function(l,o){l.Amnt.v=o[0];
l.BlrM.v.BlrM=["Spn","Zm"][o[1]];l.Cntr.v.Hrzn.v=o[2]/100;l.Cntr.v.Vrtc.v=o[3]/100};cB.agZ(cB.RdlB.prototype);
cB.Dspl=function(){cB.call(this,"Dspl");this.bg=[new bU([6,36,3],["a","b"]),new h_([22,4,0],-100,100,"px"),new h_([22,4,1],-100,100,"px"),new bU([24,18,0],[[24,18,3],[24,18,2]])];
this.Vk()};cB.Dspl.prototype=new cB;cB.Dspl.prototype.Ud=function(l,o,D){this.aAK=[];this.r7=[];var H=-1,_=D?D[0]:null;
if(_==null)_=this.aud;else this.aud=_;if(_)for(var v=0;v<_.length;v++){var u=_[v];this.aAK.push(u._h.trim());
this.r7.push(u.Vj);if(u.Vj==l.DspF.v.pth)H=v}this.bg[0].Ls(this.aAK);o[0]=H==-1?0:H;o[1]=l.HrzS.v;o[2]=l.VrtS.v;
o[3]=["WrpA","RptE"].indexOf(l.UndA.v.UndA)};cB.Dspl.prototype.hv=function(l,o){var D=this.aud;if(this.r7.length==0)return;
l.DspF.v.pth=this.r7[o[0]];l.HrzS.v=o[1];l.VrtS.v=o[2];l.UndA.v.UndA=["WrpA","RptE"][o[3]];var H=D[o[0]];
H.zG();var _=H.f2[1],u=_.Q,S=_._,h=g.o(_.c());g.Hx(H.f2[0],h);var F=[u&255,u>>>8,0,0,S&255,S>>>8,0,0,3,0];
for(var n=0;n<2;n++)for(var v=0;v<h.length;v++)F.push(h[v]);for(var v=0;v<1e3;v++)F.push(0);l.DspD={t:"tdta",v:F};
l.EmbF={t:"bool",v:!0}};cB.Pnch=function(){cB.call(this,"Pnch");this.bg=[new h_([12,57],-100,100,"%")];
this.Vk()};cB.Pnch.prototype=new cB;cB["Plr "]=function(){cB.call(this,"Plr ");this.bg=[new ei(null,["Rect to Polar","Polar to Rect"])];
this.Vk()};cB["Plr "].prototype=new cB;cB.Rple=function(){cB.call(this,"Rple");this.bg=[new h_([12,57],-999,999),new bU([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.Vk()};cB.Rple.prototype=new cB;cB["Shr "]=function(){cB.call(this,"Shr ");this.bg=[new b4(!0,!0),new bU([24,18,0],[[24,18,3],[24,18,2]])];
this.Vk()};cB["Shr "].prototype=new cB;cB["Shr "].prototype.Ud=function(l,o){var D=new de(0,255/127,255/127,0,-2,128),H=JSON.parse(JSON.stringify(l.ShrP.v));
g.SA.h(H,D);o[0]=H;o[1]=["WrpA","RptE"].indexOf(l.UndA.v.UndA)};cB["Shr "].prototype.hv=function(l,o){var D=new de(0,255/127,255/127,0,-2,128);
D.L5();g.SA.h(o[0],D);l.ShrP.v=o[0];l.ShrE.v=o[0].length-1;l.UndA.v.UndA=["WrpA","RptE"][o[1]]};cB.Sphr=function(){cB.call(this,"Sphr");
this.bg=[new h_([12,57],-100,100),new bU([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.Vk()};cB.Sphr.prototype=new cB;
cB.Sphr.prototype.Ud=function(l,o){o[0]=l.Amnt.v;o[1]=["Nrml","HrzO","VrtO"].indexOf(l.SphM.v.SphM)};
cB.Sphr.prototype.hv=function(l,o){l.Amnt.v=o[0];l.SphM.v.SphM=["Nrml","HrzO","VrtO"][o[1]]};cB.Dthr=function(){cB.call(this,"Dthr");
this.bg=[new bU("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new ei("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.Vk()};cB.Dthr.prototype=new cB;cB.Dthr.prototype.Ud=function(l,o){o[0]=l.Plte.v;o[1]=l.Mthd?l.Mthd.v:1};
cB.Dthr.prototype.hv=function(l,o){l.Plte.v=o[0];l.Mthd.v=o[1]};cB.Part=function(){cB.call(this,"Part");
this.bg=[new h_([15,5,1],0,100,"%"),new h_([12,14,0],1,50,"px"),new h_([12,34],0,100,"%"),new h_([12,2],10,1e3,"%"),new jv(!0),new h_("Time",0,1,null,3),new h_("Turbulence",0,100,"%"),new km("Blink"),new km("Fall")];
this.Vk([4])};cB.Part.prototype=new cB;cB.Part.prototype.Ud=function(l,o){o[0]=l.Cont.v;o[1]=l.Size.v;
o[2]=l.Dpth.v;o[3]=l.Brgh.v;o[4]=l.Clr.v;o[5]=l.Time.v;o[6]=l.Turb.v;o[7]=l.Blnk.v;o[8]=l.Fall.v};cB.Part.prototype.hv=function(l,o){l.Cont.v=o[0];
l.Size.v=o[1];l.Dpth.v=o[2];l.Brgh.v=o[3];l.Clr.v=o[4];l.Time.v=o[5];l.Turb.v=o[6];l.Blnk.v=o[7];l.Fall.v=o[8]};
cB.Twrl=function(){cB.call(this,"Twrl");this.bg=[new h_([12,15],-999,999)];this.Vk()};cB.Twrl.prototype=new cB;
cB.Wave=function(){cB.call(this,"Wave");this.ajf=[1,2,3,4];this.bg=[new h_("Number of Generators",1,100),new b_("Min Length",1,999),new b_("Max Length",1,999),new b_("Min Ampl.",1,999),new b_("Max Ampl.",1,999),new b_("Scale X",1,100,"%"),new b_("Scale Y",1,100,"%"),new ei([12,44],["Sine","Triangle",[12,93,3]]),new bU([24,18,0],[[24,18,3],[24,18,2]])];
this.Vk()};cB.Wave.prototype=new cB;cB.ZgZg=function(){cB.call(this,"ZgZg");this.bg=[new h_([12,57],-100,100),new h_("Ridges",0,20),new bU([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.Vk()};cB.ZgZg.prototype=new cB;cB.surfaceBlur=function(){cB.call(this,"surfaceBlur");this.bg=[new h_([12,56],1,200," px"),new h_([4,13],1,255," px")];
this.Vk()};cB.surfaceBlur.prototype=new cB;cB.surfaceBlur.prototype.Ud=function(l,o){o[0]=l.Rds.v.val;
o[1]=l.Thsh.v};cB.surfaceBlur.prototype.hv=function(l,o){l.Rds.v.val=o[0];l.Thsh.v=o[1]};cB.AdNs=function(){cB.call(this,"AdNs");
this.bg=[new h_([12,57],0,200," %"),new bU([12,58],[[12,59,1],[12,59,0]]),new km([12,60])];this.Vk()};
cB.AdNs.prototype=new cB;cB.DstS=function(){cB.call(this,"DstS");this.bg=[new h_([12,56],1,200," px"),new h_([4,13],1,255," px")];
this.Vk()};cB.DstS.prototype=new cB;cB["Mdn "]=function(){cB.call(this,"Mdn ");this.bg=[new h_([12,56],1,200," px")];
this.Vk()};cB["Mdn "].prototype=new cB;cB["Mdn "].prototype.Ud=function(l,o){o[0]=l.Rds.v.val};cB["Mdn "].prototype.hv=function(l,o){l.Rds.v.val=o[0]};
cB.ClrH=function(){cB.call(this,"ClrH");this.bg=[new h_([12,56],4,100," px")];for(var v=1;v<4;v++)this.bg.push(new h_("Angle "+v,0,90," \xB0"));
this.Vk()};cB.ClrH.prototype=new cB;cB.ClrH.prototype.Ud=function(l,o){o[0]=l.Rds.v;for(var v=1;v<4;
v++)o[v]=l["Ang"+v].v};cB.ClrH.prototype.hv=function(l,o){l.Rds.v=o[0];for(var v=1;v<4;v++)l["Ang"+v].v=o[v]};
cB.ClrH.prototype.k=function(){var l=this.bg;l[0].k();for(var v=1;v<4;v++)l[v].Qx(cU.get([12,15])+" "+v)};
cB.Crst=function(){cB.call(this,"Crst");this.bg=[new h_([12,61],3,100," px")];this.Vk()};cB.Crst.prototype=new cB;
cB.Crst.prototype.Ud=function(l,o){o[0]=l.ClSz.v};cB.Crst.prototype.hv=function(l,o){l.ClSz.v=o[0]};
cB.Mztn=function(){cB.call(this,"Mztn");this.bg.push(new bU([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.r7="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.Vk()};cB.Mztn.prototype=new cB;
cB.Mztn.prototype.Ud=function(l,o){o[0]=this.r7.indexOf(l.MztT.v.MztT)};cB.Mztn.prototype.hv=function(l,o){l.MztT.v.MztT=this.r7[o[0]]};
cB["Msc "]=function(){cB.call(this,"Msc ");this.bg=[new h_([12,61],2,200," px")];this.Vk()};cB["Msc "].prototype=new cB;
cB["Msc "].prototype.Ud=function(l,o){o[0]=l.ClSz.v.val};cB["Msc "].prototype.hv=function(l,o){l.ClSz.v.val=o[0]};
cB.Pntl=function(){cB.call(this,"Pntl");this.bg=[new h_([12,61],3,100," px")];this.Vk()};cB.Pntl.prototype=new cB;
cB.Pntl.prototype.Ud=function(l,o){o[0]=l.ClSz.v};cB.Pntl.prototype.hv=function(l,o){l.ClSz.v=o[0]};
cB.smartSharpen=function(){cB.call(this,"smartSharpen");this.bg=[new h_([12,57],1,200,"%"),new h_([12,56],0,200,"px",1,!0)];
this.Vk()};cB.smartSharpen.prototype=new cB;cB.smartSharpen.prototype.Ud=function(l,o){o[0]=l.Amnt?l.Amnt.v.val:200;
o[1]=l.Rds?l.Rds.v.val:1};cB.smartSharpen.prototype.hv=function(l,o){l.Amnt.v.val=o[0];l.Rds.v.val=o[1]};
cB.UnsM=function(){cB.call(this,"UnsM");this.bg=[new h_([12,57],1,200," %"),new h_([12,56],.1,400,"px",1,!0),new h_([4,13],0,255," ")];
this.Vk()};cB.UnsM.prototype=new cB;cB.HghP=function(){cB.call(this,"HghP");this.bg=[new h_([12,56],.1,400,"px",1,!0)];
this.Vk()};cB.HghP.prototype=new cB;cB.HsbP=function(){cB.call(this,"HsbP");this.bg=[new ei("Input",["RGB","HSB","HSL"]),new ei("Output",["RGB","HSB","HSL"])];
this.Vk()};cB.HsbP.prototype=new cB;cB["Mxm "]=function(){cB.call(this,"Mxm ");this.bg=[new h_([12,56],.1,200," px",1,!0),new bU([12,76,1],[[12,93,3],"Circle"])];
this.Vk()};cB["Mxm "].prototype=new cB;cB["Mnm "]=function(){cB.call(this,"Mnm ");this.bg=[new h_([12,56],.1,200," px",1,!0),new bU([12,76,1],[[12,93,3],"Circle"])];
this.Vk()};cB["Mnm "].prototype=new cB;cB.Ofst=function(){cB.call(this,"Ofst");this.bg=[new h_([22,4,0],-1024,1024," px"),new h_([22,4,1],-1024,1024," px"),new bU([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.Vk()};cB.Ofst.prototype=new cB;cB.Kale=function(){cB.call(this,"Kale");this.bg=[new b_("Mirrors",2,20),new b_([12,15],0,360,"\xB0")];
this.Vk()};cB.Kale.prototype=new cB;cB.Kale.prototype.Ud=function(l,o){o[0]=l.Mirr.v;o[1]=l.MRot.v};
cB.Kale.prototype.hv=function(l,o){l.Mirr.v=o[0];l.MRot.v=o[1]};cB.Rept=function(){cB.call(this,"Rept");
this.bg=[new b_([12,38],1,300," %"),new b_("Row Shift",-50,50," %"),new b_("Space X",-99,200," %"),new b_("Space Y",-99,200," %"),new km([4,16,2]),new gX([12,15])];
this.Vk()};cB.Rept.prototype=new cB;cB.Rept.prototype.Ud=function(l,o){o[0]=l.Scl.v.val;o[1]=l.Rsft.v.val;
o[2]=l.SpcX.v.val;o[3]=l.SpcY.v.val;o[4]=l.SpcC.v;o[5]=[l.Angl.v]};cB.Rept.prototype.hv=function(l,o){l.Scl.v.val=o[0];
l.Rsft.v.val=o[1];l.SpcX.v.val=o[2];l.SpcY.v.val=o[3];l.SpcC.v=o[4];l.Angl.v=o[5][0];return l};cB.Ctoa=function(){cB.call(this,"Ctoa");
this.bg=[new eW([13,0]),new jv(!0),new h_(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new h_(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.Vk()};cB.Ctoa.prototype=new cB;cB.Ctoa.prototype.Ud=function(l,o){o[0]=l.Clr.v;o[1]=l.Trsp.v.val;
o[2]=l.Opct.v.val};cB.Ctoa.prototype.hv=function(l,o){l.Clr.v=o[0];l.Trsp.v.val=o[1];l.Opct.v.val=o[2]};
cB.LqFy=function(){cB.call(this,"LqFy");this.te=!1;this.ky=!1;this.e_=null;this.aBV=null;this.S=0;this.X3=-1;
this.p={xb:[[{S:{id:0,name:[24,1,0,1,0],M$:"liq/smudge"}}],[{S:{id:1,name:[24,1,0,1,1],M$:"liq/reconstruct"}}],[{S:{id:2,name:[24,1,0,1,2],M$:"liq/smooth"}}],[{S:{id:3,name:[24,1,0,1,3],M$:"liq/twirl"}}],[{S:{id:4,name:[24,1,0,1,4],M$:"liq/shrink"}}],[{S:{id:5,name:[24,1,0,1,5],M$:"liq/blow"}}],[{S:{id:6,name:[24,1,0,1,6],M$:"liq/pleft"}}],[{S:{id:7,name:"Hand",M$:"tools/hand"}}],[{S:{id:8,name:"Zoom In",M$:"zoomIn"}}],[{S:{id:9,name:"Zoom Out",M$:"zoomOut"}}]],keys:[]};
this.YA=new iY(this.p,!1);this.YA.Zy(0);this.YA.O(k.E.b,this.Jc,this);this.Qw=j6.iF();this.Ca=null;this.FO=[];
this.gI=-1;this.$N=null;this.az0=null;this.v6=null;this.iQ=null;this.Wm=null;var l=M.a("div","flexrow");
this.an=l;this.Z.appendChild(l);l.appendChild(this.YA.Z);this.view=new kP(!0);this.view.Av(100,100);
this.view.O("mousedown",this.GZ,this);this.view.O("mousemove",this.n$,this);this.view.O("mouseup",this.lK,this);
this.view.O("zoom",this.Rx,this);l.appendChild(this.view.Z);var o=M.a("div","form");l.appendChild(o);
this.uW=o;o.style.width="230px";this.aa=[new h_([12,14,0],0,1e3,null,!1,!0),new h_([12,74],0,100,null,!1,!1),new h_([12,84],0,100,null,!1,!1),new km([12,46]),new h_([12,0],0,100,null,!1,!1),new km([24,18,5])];
var D=this.Qw.Brsh.v;D.Dmtr.v.val=100;var H=[100,50,100,!1,100,!0];for(var v=0;v<this.aa.length;v++){var _=this.aa[v];
_.j(H[v]);if(v==4)_.ua();_.O(k.E.B,this.avm,this);o.appendChild(_.Z)}var u=this.aiX=new cg([1,12,2],!0,null,!0);
u.O("click",this.EN,this);o.appendChild(u.Z);this.a2v=this.Gy.bind(this);this.p4=new f1;this.p4.Z=M.a("div","floatcont");
this.Cj=new cg("Menu",!1,null,!0);var S=this.Cj.Z;S.setAttribute("style","position:absolute; right:13px; top:47px");
M.GY(S,this.aBH.bind(this))};cB.LqFy.prototype=new cB;cB.LqFy.prototype.Dq=function(){return!0};cB.LqFy.prototype.p_=function(l){this.uW.appendChild(l)};
cB.LqFy.prototype.aBH=function(l){if(M.Ve(this.p4.Z))return;l.stopPropagation();var o=this.Cj.Z.getBoundingClientRect();
this.p4.Z.appendChild(this.uW);var D=new jJ(k.E.b,!0);D.data={q:k.L.jq,VG:this.p4,x:o.right+o.width-290,y:o.top+o.height};
this.A(D)};cB.LqFy.prototype.WP=function(l){this.te=l.W(e_.zg);var o=p.hL.l8(this.Qw,l);if(o!=null){this.Qw=o;
this.Rx();this.aa[0].j(o.Brsh.v.Dmtr.v.val)}else if(l.W(e_.Cm)&&l.W(e_.rK)){var D=this.FO;if(l.W(e_.eo)){if(this.gI+1<D.length)this.gI++}else if(this.gI>0)this.gI--;
this.Ca.map=D[this.gI].slice(0);this.$u(null)}else if(this.S<=6)this.view.WP(l);var H=this.S,_=-1,u=l.W(e_.zg);
if(u&&this.X3==-1){if(H==0)_=1;if(H==4)_=5;if(H==5)_=4;if(_!=-1)this.X3=H}if(!u&&this.X3!=-1){_=this.X3;
this.X3=-1}if(_!=-1){this.S=_;this.YA.Zy(this.S)}};cB.LqFy.prototype.Jc=function(l){if(l.data.q==k.L.BC){var o=this.S=l.data.S;
this.YA.Zy(this.S);this.view.WP(o>6?kP.at(o-7):new e_)}};cB.LqFy.prototype.avm=function(l){var o=l.currentTarget,v=this.aa.indexOf(o),D=this.Qw.Brsh.v;
if(v==0){D.Dmtr.v.val=o.l();this.Rx()}this.aa[4].td(this.aa[3].l());if(v>2)this.$u(null)};cB.LqFy.prototype.ms=function(){var l=this.FO;
this.gI++;l[this.gI]=this.Ca.map.slice(0);while(l.length>this.gI+1)l.pop();while(l.length>50){l=l.slice(1);
this.gI--}};cB.LqFy.prototype.GZ=function(l){this.e_=this.view.fB();this.aBV=new he(0,0);this.ky=!0;
window.requestAnimationFrame(this.a2v)};cB.LqFy.prototype.n$=function(l){var o=this.view.fB(),D=new he(o.x-this.e_.x,o.y-this.e_.y);
if(this.S==0||this.S==6)this.ajd(D);this.e_=o};cB.LqFy.prototype.lK=function(l){this.ms();this.ky=!1};
cB.LqFy.prototype.Gy=function(l){if(this.S!=0&&this.S!=6)this.ajd(new he(0,0));if(this.ky)window.requestAnimationFrame(this.a2v)};
cB.LqFy.prototype.ajd=function(l){var o=this.Ca,D=o.pX/this.$N.Q,H=this.e_,_=this.Qw.Brsh.v,u=_.Dmtr.v.val,S=Date.now(),h=o.pX,F=o.B9,n=Math.sqrt(l.x*l.x+l.y*l.y),R=Math.max(1,Math.ceil(n/2)),s=l.x/R,Z=l.y/R,O=H.clone(),w=this.S,m=this.aa[1].l()/100,V=this.aa[2].l()/100,q=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],i=q[w*2],c=q[w*2+1],z=(1-m)*i+m*c,B=u*D/2;
for(var v=0;v<R;v++){var t=[];O.x+=s;O.y+=Z;g.rH.ai0(o.map,h,F,w,O.x*D,O.y*D,B,m,V,s*D,Z*D,t,this.te);
g.rH.ajx(h,F,o.map,t,2*z*V)}var a=new gt(0,0,h,F),I=new gt(H.x*D,H.y*D,0,0);I.ag(u*D*.5,u*D*.5);var N=I.clone();
N.offset(l.x*D,l.y*D);I=I.tB(N);var J=new gt(I.x/D,I.y/D,I.Q/D,I._/D);J=g.X.rP(J).$o(this.$N);this.aa[5].j(!0);
this.$u(J)};cB.LqFy.prototype.Rx=function(){var l=ie.lp(this.Qw,null,this.view.yP().F);this.view.VC(l)};
cB.LqFy.prototype.j=function(l,o,D,H,_){D=D.clone();if(o==null)return;if(!H.kn(D)){var u=D.tB(H),S=g.o(u.c()*4);
g.Qo(o,D,S,u);o=S;D=u;var h=g.o(u.c()*4);g.Qo(_,H,h,u);_=h}D.x=D.y=0;this.v6=o;this.az0=_;this.Wm=o.slice(0);
this.iQ=o.slice(0);this.$N=D;this.Ca=gZ.x2(new Uint8Array(l.LqMe.v).buffer);var F=D.Q,n=D._;if(this.Ca.pX/F<.22){this.Ca={pX:Math.floor(F/4),B9:Math.floor(n/4)};
this.Ca.map=new Float32Array(this.Ca.pX*this.Ca.B9*2)}this.FO=[];this.gI=-1;this.ms();this.$u(null);
this.view.iX(!0);this.Rx()};cB.LqFy.prototype.l=function(){var l=at.ts("LqFy"),o=new Uint8Array(gZ.Y8(this.Ca)),D=[];
for(var v=0;v<o.length;v++)D.push(o[v]);l.LqMe.v=D;return l};cB.LqFy.prototype.Av=function(l,o){this.YA.Av(l,o);
var D=this.Cj.Z,H=this.uW;this.an.appendChild(H);this.an.appendChild(D);if(l>450&&l-o>200){H.style.marginLeft="1em";
this.an.removeChild(D);this.view.Av(l-238-45,o)}else{H.style.marginLeft="";this.an.removeChild(H);this.view.Av(l-40,o)}};
cB.LqFy.prototype.k=function(){this.YA.k();this.aiX.k();for(var v=0;v<this.aa.length;v++)this.aa[v].k()};
cB.LqFy.prototype.EN=function(){this.Ca.map.fill(0);this.ms();this.$u(null)};cB.LqFy.prototype.$u=function(l){var o=this.$N,D=this.v6,H=this.Wm,_=this.Ca;
if(this.aa[5].l())g.rH.Y3(D,this.iQ,o.Q,o._,l,_.map,_.pX,_.B9,0);else this.iQ.set(D);if(this.aa[3].hf()){g.Qo(this.az0,o,H,o,l?l:o);
g.z.JM("norm",this.iQ,o,H,o,l?l:o,this.aa[4].l()/100)}else g.Tg(this.iQ,H);this.view.j([{jH:o,data:H.buffer}])};
cB.GEfc=function(){cB.call(this,"GEfc");this.o1=0;this.k6=0;this.v6=null;this.Wm=null;this.$N=null;this.Fy=null;
this.BB=null;this.U8=0;this.mc=null;this.qO=null;var l=M.a("div","flexrow");this.an=l;this.Z.appendChild(l);
this.view=new kP(null);this.view.Av(100,100);l.appendChild(this.view.Z);this.tj="";this.b5=270;var o=this.S_=M.a("div","form scrollable");
l.appendChild(o);o.setAttribute("style","width:"+this.b5+"px;");var D=this.kP=M.a("div","form");l.appendChild(D);
D.setAttribute("style","width:230px;  margin:0 10px");this.NU={};for(var H in kL.names){var _=new cB.GEfc.pI(H);
_.parent=this;this.NU[H]=_;_.O(k.E.B,this.anD,this)}this.bM=!0;this.Cj=new cg("Menu",null,null,!0);this.Cj.O("click",this.agd,this);
l.appendChild(this.Cj.Z);this.Lo=new cg(">>",null,null,!0);this.Lo.O("click",this.a8s,this);D.appendChild(this.Lo.Z);
this.b1=M.a("div");this.b1.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
D.appendChild(this.b1);this.$R=M.a("div");this.$R.style.minHeight="14em";this.$R.style.marginBottom="1em";
D.appendChild(this.$R);this.Qu=M.a("div","lpbody scrollable");this.Vq=M.a("div","lpfoot");D.appendChild(this.Qu);
D.appendChild(this.Vq);this.O("click",this.aD0,this);this.nG=[];c4.H_([[5,3],[5,4]],this.nG,this.Vq,this.UW.bind(this))};
cB.GEfc.prototype=new cB;cB.GEfc.prototype.Dq=function(){return!0};cB.GEfc.prototype.p_=function(l){this.b1.appendChild(l)};
cB.GEfc.prototype.Ip=function(l,o){this.Fy=l;if(l.Os==l.qg)alert("Your foreground and a background color are identical.",4e3)};
cB.GEfc.prototype.a8s=function(l){var o=this.S_.style.display!="none";this.S_.style.display=o?"none":"";
this.Lo.Qx(o?"<<":">>");this.Av()};cB.GEfc.prototype.agd=function(l){this.bM=!this.bM;this.Av()};cB.GEfc.prototype.Av=function(l,o){var D=this.S_.style.display!="none";
if(l!=null){this.o1=l;this.k6=o;if(l<1e3&&D||l>=1e3&&!D){this.a8s();D=!D}this.bM=l>600}else{l=this.o1;
o=this.k6}var H=this.bM?250+(D?this.b5:0):0;if(M.Ve(this.kP)&&!this.bM){this.an.removeChild(this.S_);
this.an.removeChild(this.kP)}if(!M.Ve(this.kP)&&this.bM){this.an.appendChild(this.S_);this.an.appendChild(this.kP)}this.S_.style.height=o+"px";
this.view.Av(l-H,o);this.Qu.style.height=o-Math.max(this.$R.getBoundingClientRect().height,186)-96+"px";
this.Cj.Z.setAttribute("style","position:absolute; top:46px;  right:"+(H+16)+"px")};cB.GEfc.prototype.a6w=function(){var l=fj.iS.get("img/beach",!0)[0],o=l.jH,D=this.S_,H=Math.floor(M.Y()*(this.b5-40)/3),_=~~(H*.7),u=new gt(0,0,H,_),S=g.o(H*_*4),h=S.slice(0),F=Math.round(10*M.Y()),n=new ImageData(new Uint8ClampedArray(h.buffer),H,_);
g.Qo(new Uint8Array(l.data),o,S,new gt(Math.round((o.Q-H)/2),Math.round((o._-_)/2),H,_));var R=M.a("canvas"),s=R.getContext("2d");
R.width=H;R.height=_+Math.round(F*1.5);s.font=F+"px sans-serif";this.mc={};M.o7(D);var Z=this.acw.bind(this);
for(var v=0;v<kL.E$.length;v++){var O=kL.E$[v],w=M.a("div");D.appendChild(w);w.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
w.textContent=cU.get(O);for(var m in kL.names){var V=kL.names[m];if(V[0]!=v)continue;kL.Ok(m,{rect:u,buffer:S},kL.ts(m),{$:0,H:0,J:0},{$:255,H:255,J:255},{rect:u,buffer:h},{});
s.fillStyle="black";s.fillRect(0,0,500,500);s.putImageData(n,0,0);var q=cU.get(V[1]);s.fillStyle="white";
s.fillText(q,(H-s.measureText(q).width)/2,_+Math.round(F*1.1));var i=M.a("div");D.appendChild(i);i.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
i.addEventListener("click",Z,!1);var w=M.a("img");i.appendChild(w);w.setAttribute("src",R.toDataURL());
w.setAttribute("style","width:"+H/M.Y()+"px; margin-bottom:0px;");this.mc[m]=i}}};cB.GEfc.prototype.acw=function(l){var o;
for(var D in this.mc)if(this.mc[D]==l.currentTarget)this.tj=D;this.anD()};cB.GEfc.prototype.UW=function(l){var o=c4.WJ(this.nG,l),D=this.BB.GEfs.v,H=D[this.U8].v;
if(o==0){D.push(JSON.parse(JSON.stringify(D[this.U8])));this.U8=D.length-1}else if(D.length>1){D.splice(this.U8,1);
if(this.U8==D.length)this.U8--}this.pK();this.$u()};cB.GEfc.prototype.anD=function(l){var o=this.tj,D;
if(l==null)D=kL.ts(o);else D=this.NU[o].l();this.BB.GEfs.v[this.U8].v=D;this.pK();this.$u()};cB.GEfc.prototype.j=function(l,o,D,H,_){var u=cU.get([24,0]);
if(this.mc==null||u!=this.qO)this.a6w();this.qO=u;l=this.BB=JSON.parse(JSON.stringify(l));if(l.GEfs==null)l=this.BB={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:l}]}};
var S=l.GEfs.v;for(var v=0;v<S.length;v++)if(S[v].v.GELv==null)S[v].v.GELv={t:"bool",v:!0};this.U8=S.length-1;
this.pK();D=D.clone();if(o==null)return;if(!H.kn(D)&&kL.jk(l).x!=0){var h=D.tB(H),F=g.o(h.c()*4);g.Qo(o,D,F,h);
o=F;D=h}D.x=D.y=0;this.v6=o;this.Wm=o.slice(0);this.$N=D;this.$u();this.view.iX()};cB.GEfc.prototype.aD0=function(l){var o=l.data,v=o.wN,D=this.BB.GEfs.v;
if(o.WD){D[v].v.GELv.v=!D[v].v.GELv.v;this.$u()}else this.U8=v;this.pK()};cB.GEfc.prototype.pK=function(){var l=this.BB.GEfs.v,o=l[this.U8].v,D=o.GEfk.v.GEft,H=this.$R;
if(kL.names[D]==null){alert("Unsupported gallery filter");M.o7(H)}else{this.tj=D;for(var _ in this.mc)M.vY(this.mc[_],"selected");
M.EA(this.mc[D],"selected");var u=this.NU[D];u.j(o);if(H.firstChild!=u.Z){M.o7(H);H.appendChild(u.Z)}}var S=[];
for(var v=0;v<l.length;v++){var h=l[v].v,F=kL.names[h.GEfk.v.GEft],n=new iB(v,!0,!0,null,F?F[1]:"Filter",v==this.U8,h.GELv.v);
n.parent=this;S.push(n.Z)}M.o7(this.Qu);S.reverse();for(var v=0;v<S.length;v++)this.Qu.appendChild(S[v]);
this.Av()};cB.GEfc.prototype.l=function(){return JSON.parse(JSON.stringify(this.BB))};cB.GEfc.prototype.$u=function(l){var o=this.$N,D=this.v6,H=this.Wm,_=this.tj,u=this.BB,S=this.Fy;
function h(F){return{$:F>>>16,H:F>>>8&255,J:F&255}}at.Ok("GEfc",{rect:this.$N,buffer:this.v6},u,h(S.Os),h(S.qg),{rect:this.$N,buffer:this.Wm},null);
this.view.j([{jH:o,data:H.buffer}])};cB.GEfc.prototype.k=function(){for(var l in this.NU)this.NU[l].k();
c4.pO(this.nG,["lrs/newlayer","lrs/bin"])};cB.GEfc.pI=function(l){f1.call(this);this.Gl=l;this.Z=M.a("div");
this.J9={};var o=kL.ts(l);for(var D in o){var H=null;if(D=="__name"||D=="classID"||D=="GEfk"||D=="GELv"||["FlRs"].indexOf(D)!=-1)continue;
else if(D=="EdgW")H=new h_("Edge Width",1,14);else if(D=="EdgB")H=new h_("Edge Brightness",0,l=="AccE"?50:20);
else if(D=="Smth")H=new h_([19,3,3],1,l=="Stmp"?50:15);else if(D=="ClSz")H=new h_([12,61],3,100);else if(D=="BrdT")H=new h_([7,9],1,20);
else if(D=="HghS")H=new h_([12,64],0,20);else if(D=="HlSz")H=new h_([12,14,0],1,15);else if(D=="Cntr")H=new h_([12,3,0],0,l=="WtrP"?100:50);
else if(D=="Shrp")H=new h_("Sharpness",0,40);else if(D=="SprR")H=new h_("Spray Radius",0,25);else if(D=="LgDr")H=new h_("Light/Dark Balance",0,l=="Stmp"?50:100);
else if(D=="Drkn")H=new h_("Darkness",1,50);else if(D=="Dstr")H=new h_("Distortion",0,20);else if(D=="Scln")H=new h_([12,38],50,200);
else if(D=="Rlf")H=new h_("Relief",0,l=="Ptch"||l=="NtPr"?25:50);else if(D=="ChAm")H=new h_("Thickness",1,7);
else if(D=="Pncl")H=new h_([19,2,5],1,30);else if(D=="StrP")H=new h_("Stroke Pressure",0,15);else if(D=="PprB")H=new h_("Paper Brightness",0,50);
else if(D=="BrsS")H=new h_("Brush Size",0,10);else if(D=="BrsD")H=new h_("Brush Detail",0,10);else if(D=="Txtr")H=new h_([12,67],1,3);
else if(D=="Grn")H=new h_("Grain",0,20);else if(D=="HghA")H=new h_("Highlight Area",0,20);else if(D=="Intn")H=new h_("Intensity",0,10);
else if(D=="Brgh")H=new h_("Glow Brightness",0,l=="WtrP"?100:50);else if(D=="StrS")H=new h_("Stroke Size",1,50);
else if(D=="StDt")H=new h_("Stroke Detail",1,3);else if(D=="Sftn")H=new h_("Softness",0,10);else if(D=="EdgT")H=new h_("Edge Thickness",0,10);
else if(D=="EdgI")H=new h_("Edge Intensity",0,10);else if(D=="Pstr")H=new h_("Posterization",0,6);else if(D=="Dfnt")H=new h_("Definition",0,25);
else if(D=="TxtC")H=new h_("Texture Coverage",0,50);else if(D=="ShdI")H=new h_("Shadow Intensity",0,10);
else if(D=="DrcB")H=new h_("Direction Balance",0,100);else if(D=="Strg")H=new h_([12,64],1,3);else if(D=="Blnc")H=new h_("Balance",0,10);
else if(D=="BlcI")H=new h_("Black Intensity",0,10);else if(D=="WhtI")H=new h_("White Intensity",0,10);
else if(D=="DrkI")H=new h_("Dark Intensity",0,50);else if(D=="LghI")H=new h_("Light Intensity",0,50);
else if(D=="StrW")H=new h_("Stroke Width",3,15);else if(D=="Grns")H=new h_("Graininess",0,l=="NtPr"?20:10);
else if(D=="GlwA")H=new h_("Glow Amount",0,20);else if(D=="ClrA")H=new h_("Clear Amount",0,20);else if(D=="ChrA")H=new h_("Charcoal Area",0,20);
else if(D=="ChlA")H=new h_("Chalk Area",0,20);else if(D=="FrgL")H=new h_("Foreground Level",1,15);else if(D=="BckL")H=new h_("Background Level",1,15);
else if(D=="WhtL")H=new h_("Background Level",0,50);else if(D=="BlcL")H=new h_("Foreground Level",0,50);
else if(D=="ImgB")H=new h_("Image Balance",0,50);else if(D=="Dnst")H=new h_([12,74],0,50);else if(D=="FbrL")H=new h_("Fiber Length",3,50);
else if(D=="CrcS")H=new h_("Crack Spacing",2,100);else if(D=="CrcD")H=new h_("Crack Depth",0,10);else if(D=="CrcB")H=new h_("Crack Brightness",0,10);
else if(D=="TlSz")H=new h_("Tile Size",2,100);else if(D=="GrtW")H=new h_("Grout Width",1,15);else if(D=="LghG")H=new h_("Lighten Grout",0,10);
else if(D=="SqrS")H=new h_("Square Size",0,10);else if(D=="RplS")H=new h_("Ripple Size",1,15);else if(D=="RplM")H=new h_("Ripple Magnitude",0,20);
else if(D=="NmbL")H=new h_("Number of Levels",2,8);else if(D=="EdgS")H=new h_("Edge Simplicity",0,10);
else if(D=="EdgF")H=new h_("Edge Fidelity",1,3);else if(D=="Sz")H=l=="NGlw"?new h_("Glow Size",-24,24):new h_("Brush Size",1,50);
else if(D=="Dtl")H=l=="Chrc"?new h_("Detail",0,5):new h_("Detail",1,15);else if(D=="StrL")H=l=="InkO"?new h_("Stroke Length",1,50):new h_("Stroke Length",0,20);
else if(D=="TxtT")H=new bU([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(D=="BrsT")H=new bU("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(D=="Grnt")H=new bU("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(D=="SDir")H=new bU([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(D=="ScrT")H=new bU([12,62],["Circle","Dot",[10,35]]);
else if(D=="LghD"||D=="LghP")H=new bU("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(D=="Clr")H=new jv("Glow Color");else if(D=="InvT")H=new km([4,11]);else console.log(D);H.O(k.E.B,this.FS,this);
H.parent=this;this.J9[D]=H;this.Z.appendChild(H.Z)}};cB.GEfc.pI.prototype=new f1;cB.GEfc.pI.prototype.FS=function(l){this.A(new jJ(k.E.B,!1))};
cB.GEfc.aEi="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
cB.GEfc.pI.prototype.j=function(l){for(var o in this.J9){var D;if(cB.GEfc.aEi.indexOf(o)!=-1)D=l[o].v;
else if(o=="TxtT")D=kL.wH.indexOf(l[o].v[o]);else if(o=="BrsT")D=kL.adi.indexOf(l[o].v[o]);else if(o=="LghD")D=kL.Ag.indexOf(l[o].v[o]);
else if(o=="LghP")D=kL.hG.indexOf(l[o].v[o]);else if(o=="Grnt")D=kL.m6.indexOf(l[o].v[o]);else if(o=="ScrT")D=kL.rF.indexOf(l[o].v[o]);
else if(o=="SDir")D=kL.hH.indexOf(l[o].v.StrD);this.J9[o].j(D)}};cB.GEfc.pI.prototype.l=function(){var l=kL.ts(this.Gl);
for(var o in this.J9){var D=this.J9[o].l();if(cB.GEfc.aEi.indexOf(o)!=-1)l[o].v=D;else if(o=="TxtT")l[o].v[o]=kL.wH[D];
else if(o=="BrsT")l[o].v[o]=kL.adi[D];else if(o=="LghD")l[o].v[o]=kL.Ag[D];else if(o=="LghP")l[o].v[o]=kL.hG[D];
else if(o=="Grnt")l[o].v[o]=kL.m6[D];else if(o=="ScrT")l[o].v[o]=kL.rF[D];else if(o=="SDir")l[o].v.StrD=kL.hH[D]}return l};
cB.GEfc.pI.prototype.k=function(){for(var l in this.J9)this.J9[l].k()};cB["Adobe Camera Raw Filter"]=function(l){cB.call(this,"Adobe Camera Raw Filter");
var o=this.Z;this.agQ=l;this._w=null;this.tZ=null;this.Bu=1e3;this.nh=null;this.or=null;M.EA(o,"flexrow");
var D=M.a("div"),H=M.a("div","padded");o.appendChild(D);o.appendChild(H);this.Bm=new kP;this.Bm.O("zoom",this.$u,this);
D.appendChild(this.Bm.Z);this.oZ=new ky(225);this.oZ.IW(4);H.appendChild(this.oZ.Z);this.ID=M.a("div");
this.ID.setAttribute("style","width:18em;");H.appendChild(this.ID);this.a6q=new eW("Hi",!0);this.ID.appendChild(this.a6q.Z);
this.Ul=M.a("div","scrollable");this.ID.appendChild(this.Ul);this.J9=[new h_("Temperature",-100,100),new h_("Tint",-100,100),new h_([4,3],-4,4,null,!0),new h_([12,3,0],-100,100),new h_([4,4],-100,100),new h_([12,9],-100,100)];
this.QS="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var v=0;v<this.J9.length;v++){var _=this.J9[v];
_.j(0);_.O(k.E.B,this.$u,this);this.Ul.appendChild(_.Z);if(v==1||v==3)this.Ul.appendChild(M.a("hr"))}};
cB["Adobe Camera Raw Filter"].prototype=new cB;cB["Adobe Camera Raw Filter"].prototype.Dq=function(){return!0};
cB["Adobe Camera Raw Filter"].prototype.p_=function(l){this.ID.appendChild(l)};cB["Adobe Camera Raw Filter"].prototype.Ip=function(l,o){this.oZ.BM(gp.PO[l.NP]["--text-color"])};
cB["Adobe Camera Raw Filter"].prototype.j=function(l,o,D,H,_){this.BB=l;var u=D.Q,S=D._,h=u*S;this.a6q.j(u+" x "+S+", "+(u*S/1e6).toFixed(1)+" MPx");
this.$N=D;this.nh=new Float32Array(u*S*3);this.or=new Uint8Array(u*S*4);this.or.fill(255);if(o instanceof Float32Array)this._w=o;
else{var F=this._w=new Float32Array(u*S*3);for(var v=0;v<h;v++){var n=v*3,R=v*4;F[n+0]=o[R+0]*(1/255);
F[n+1]=o[R+1]*(1/255);F[n+2]=o[R+2]*(1/255)}}this.tZ=[{G5:this._w,rect:D.clone()}];this.Bu=1e3;var s=this._w;
while(u>1&&S>1){var Z=u,O=Z*3;u=u>>>1;S=S>>>1;var w=s,s=new Float32Array(u*S*3);this.tZ.push({G5:s,rect:new gt(0,0,u,S)});
for(var m=0;m<S;m++)for(var V=0;V<u;V++){var n=(m*u+V)*3,q=(m*2*Z+V*2)*3,i=q+O;s[n]=.25*(w[q]+w[q+3]+w[q+O]+w[q+O+3]);
s[n+1]=.25*(w[q+1]+w[q+4]+w[q+O+1]+w[q+O+4]);s[n+2]=.25*(w[q+2]+w[q+5]+w[q+O+2]+w[q+O+5])}}var c=this.QS;
for(var v=0;v<c.length;v++){var z=c[v];this.J9[v].j(l[z]?l[z].v:0)}this.Bm.j([{jH:D,data:this.or.buffer}]);
this.Bm.iX();this.$u(null)};cB["Adobe Camera Raw Filter"].prototype.l=function(l){if(l){this.$u(null,!0);
return this.or}return JSON.parse(JSON.stringify(this.BB))};cB["Adobe Camera Raw Filter"].prototype.aeL=function(){this._w=null;
this.nh=null;this.tZ=null;this.or=null};cB["Adobe Camera Raw Filter"].prototype.$u=function(l,o){if(l&&this.J9.indexOf(l.target)!=-1){this.Bu=1e3;
var D=this.QS;for(var v=0;v<D.length;v++){var H=D[v];this.BB[H]={t:H=="Ex12"?"doub":"long",v:this.J9[v].l()}}}var _=this.Bm.yP().F,u=0;
while(_*2<=1&&!o){_*=2;u++}if(this.Bu<=u)return;this.Bu=u;var S=this.$N,h=this.afe(this._w,S,this.nh,this.BB,this.agQ,this.or,u);
this.oZ.j(h);this.Bm.j([{jH:S,data:this.or.buffer}])};cB["Adobe Camera Raw Filter"].prototype.afe=function(l,o,D,H,_,u,S){var h=l,F=D,n=u,R=o.Q,s=o._,Z=S!=0;
if(Z){var O=this.tZ[S];h=O.G5;R=O.rect.Q;s=O.rect._;F=new Float32Array(R*s*3);n=g.o(R*s*4)}gK(h,R,s,F,H,_);
var w=Date.now(),m=R*s;for(var v=0;v<m;v++){var V=v*3,q=v*4;n[q+0]=~~(.5+F[V+0]*255);n[q+1]=~~(.5+F[V+1]*255);
n[q+2]=~~(.5+F[V+2]*255);n[q+3]=255}console.log(Date.now()-w,"integer conversion");w=Date.now();var i=g.Pn(n,Math.max(1,Math.floor(m/2e5)));
console.log(Date.now()-w,"histogram done");w=Date.now();if(Z){var c=new Uint32Array(n.buffer),z=new Uint32Array(u.buffer),B=o.Q,t=o._;
for(var a=0;a<t;a+=2)for(var I=0;I<B;I+=2){var V=a*B+I,N=c[(a>>>S)*R+(I>>>S)];z[V]=N;z[V+1]=N;z[V+B]=N;
z[V+B+1]=N}console.log(Date.now()-w,"upscale");w=Date.now()}return i};cB["Adobe Camera Raw Filter"].prototype.Av=function(l,o){this.a7R=l-248;
this.atm=o;this.Bm.Av(this.a7R,this.atm);this.Ul.style.height=o-236+"px"};cB["Adobe Camera Raw Filter"].prototype.k=function(){for(var v=0;
v<this.J9.length;v++)this.J9[v].k()};cB.VaPo=function(){cB.call(this,"VaPo");this.S=-1;this.Pp=null;
this.D6=!1;this.aQ=null;this.yn=null;this.pH=null;this.bZ=null;this.cH=null;this.eZ=null;this.ex=null;
this.GK=null;this.cB=null;this.Zn=null;this.iA=null;this.FO=[];this.gI=-1;this.T=null;this.p={xb:[[{S:{id:0,name:"Move",M$:"tools/move"}}],[{S:{id:1,name:"Create Plane",M$:"tools/pcrop"}}],[{S:{id:2,name:"Marquee",M$:"tools/rselect"}}],[{S:{id:3,name:"Stamp",M$:"tools/clone"}}],[{S:{id:4,name:"Brush",M$:"tools/brush"}}],[{S:{id:5,name:"Transform",M$:"tools/transform"}}],[{S:{id:6,name:"Hand",M$:"tools/hand"}}],[{S:{id:7,name:"Zoom In",M$:"zoomIn"}}],[{S:{id:8,name:"Zoom Out",M$:"zoomOut"}}]],keys:[e_.$s,e_.AP,e_.mw,e_.KF,e_.ED,e_.rD,e_.N5,e_.rK]};
this.YA=new iY(this.p,!1);this.YA.O(k.E.b,this.Jc,this);this.Y5=null;this.$N=null;this.v6=null;this.aw6=null;
this.Wm=null;this.nJ=null;var l=M.a("div","flexrow"),H=0;this.an=l;this.Z.appendChild(l);l.appendChild(this.YA.Z);
var o=M.a("div");l.appendChild(o);var top=M.a("div","form");o.appendChild(top);top.setAttribute("style","padding-left:8px; height:30px;");
this.WH=M.a("span");top.appendChild(this.WH);this.BA=[[new gs([12,80,5],1,1e3)],[new gs([7,6],0,30)],[new gs([12,14],1,200),new gs([12,17],0,100),new gs([12,0],0,100),new km([12,75])],[new gs([12,14],1,200),new gs([12,17],0,100),new gs([12,0],0,100),new jv],[new km("Flip"),new km("Flop")],[]];
var D=[100,0,100,100,100,!1,100,100,100,JSON.parse(cq.TB.d3.slice(6)).v];this.Uc=[];for(var v=0;v<6;
v++){var _=M.a("span"),u=this.BA[v];this.Uc.push(_);for(var S=0;S<u.length;S++){var h=u[S];h.parent=this;
h.j(D[H++]);h.O(k.E.B,this.axS,this);_.appendChild(h.Z)}}this.m8=M.a("div");this.m8.setAttribute("style","display:inline-block;float:right; width:100px;");
top.appendChild(this.m8);this.view=new kP(!0);this.view.Av(100,100);this.view.VC("auto");this.view.O("mousedown",this.GZ,this);
this.view.O("mousemove",this.n$,this);this.view.O("mouseup",this.lK,this);M.en(this.view.Pf,this.zB.bind(this));
o.appendChild(this.view.Z)};cB.VaPo.prototype=new cB;cB.VaPo.prototype.Dq=function(){return!0};cB.VaPo.prototype.p_=function(l){this.m8.appendChild(l)};
cB.VaPo.prototype.axS=function(l){if(l.target==this.BA[0][0]){var o=this.hr(),D=l.target.l();for(var v=0;
v<this.T.length;v++)if(this.T[v].length!=0&&o[v])o[v][0]=D;this.R5(o)}if(this.S==5){this.Y5=this.y9();
this.$u(!0)}this.$u()};cB.VaPo.prototype.WP=function(l){var o=this.S,D=this.yn;if(o==3||o==4){var H=this.BA[o-1],_=j6.iF(),u=_.Brsh.v;
u.Dmtr.v.val=H[0].l();u.Hrdn.v.val=H[1].l();_=p.hL.l8(_,l);if(_){u=_.Brsh.v;H[0].j(u.Dmtr.v.val);H[1].j(u.Hrdn.v.val)}this.Rx()}if(o==1&&D&&(l.W(e_.Ab)||l.W(e_.O1))){D.pop();
D.pop();if(D.length==0)D=this.yn=null;this.$u()}function S(R,v,w){g.Qo(R[v],R[0],w.v6,w.$N);w.QO(R[0])}this.aQ=l;
if(o<6)this.view.WP(l);var h=l.W(e_.Cm);if(h){var F=this.gI,n=0;if(l.W(e_.rK)){if(l.W(e_.eo))n=1;else n=-1}else if(l.W(e_.gh))n=1;
if(n!=0&&o!=5){console.log(this.gI,n,this.FO);var R=this.FO[this.gI],s=!1;if(R.length==3&&n==-1){S(R,1,this);
s=!0}F+=n;this.gI=Math.max(0,Math.min(this.FO.length-1,F));R=this.FO[this.gI];if(R.length==3&&n==1){S(R,2,this);
s=!0}this.$u(s)}if(l.W(e_.$s)){if(M.gL())iT.ani(this.K3.bind(this))}if(l.W(e_.VM)){this.cH=null;this.$u()}}else{var Z=this.p.keys;
for(var v=0;v<Z.length;v++)if(l.W(Z[v]))this.Zy(v)}if(l.W(e_.O1)||l.W(e_.Ab)){var O=this.hr();O=g.gQ.aCu(O,this.T);
this.T=[];for(var v=0;v<O.length;v++)this.T[v]=[];this.R5(O);this.$u()}};cB.VaPo.prototype.K3=function(l){if(l=="granted")iT.Zd(this,this.pc.bind(this))};
cB.VaPo.prototype.pc=function(l,o){var D=this.hr();if(D.length==0){alert("Make a plane before pasting an image");
return}if(this.bZ==null)this.bZ=[0,0];if(this.S==5)this.Zy(0);this.Zy(5,{L0:l,hR:o})};cB.VaPo.prototype.Jc=function(l){if(l.data.q==k.L.BC){this.Zy(l.data.S)}};
cB.VaPo.prototype.aqt=function(l){var o=this.view.fB(l),D=g.gQ.Ha(this.hr(),this.T),H=1e9,_=0;for(var v=0;
v<D.length;v++){var u=D[v][0],S=o.x-u[0],h=o.y-u[1],F=Math.sqrt(S*S+h*h);if(F<H){H=F;_=v}}if(H>4*M.Y()/this.view.yP().F)return null;
return D[_]};cB.VaPo.prototype.zB=function(l){var o=this.S,D=this.yn;if(o<2&&!this.D6){var H=this.Pp=this.aqt(l),_=this.hr(),u="auto";
if(o==0&&g.gQ.tQ(_,H)){var S=_[H[1]][1][H[2]],h=S[5+{1:0,5:1,7:2,3:3}[H[3]]],F=h[0],n=h[1];u=gk.a9q(F[1]-n[1],-F[0]+n[0])}if(g.gQ.a0D(_,H))u="crosshair";
this.view.VC(u)}if(D){var R=this.view.fB(l),s=D.slice(0);D[D.length-2]=R.x;D[D.length-1]=R.y;this.$u()}this.Rx(l);
if(o==5&&!this.D6&&this.Fm){var R=this.view.fB(l),_=this.hr(),Z=g.gQ.wM(_,R.x,R.y,this.Ms());if(Z){var O=new he(Z[2][0],Z[2][1]),w=g.gQ.Me(_,_[Z[0]][1][Z[1]],this.Ms()),m=w[1],V=g.t.kb(w[0],m),q=[m.x+m.Q/2,m.y+m._/2];
g.t.h(V,q);var i=R.x-q[0],c=R.y-q[1],z=this.Fm.NK(O,this.view.yP().F,null,null,Math.atan2(-c,-i));this.view.VC(z?z:"default")}}};
cB.VaPo.prototype.Rx=function(l){var o=this.S,D=this.aQ;if((o==3||o==4)&&!this.D6){var H=l?this.view.fB(l):this._X,_=this.hr();
this._X=H;if(H==null)return;var u=g.gQ.wM(_,H.x,H.y,this.Ms());if(u){if(o==3&&this.iA&&this.BA[2][3].l()){var S=new he(u[2][0],u[2][1]);
this.Zn=S.c_(this.iA);this.$u()}if(o==3&&(this.Zn==null||D&&(D.W(e_.zg)||D.W(e_.a$)))){if(this.Y5){this.nJ=null;
this.QO(this.Y5);this.$u(!0,this.Y5)}return}this.a4c(u,this.Y5)}}};cB.VaPo.prototype.Ms=function(){return[this.$N.Q/2,this.$N._/2]};
cB.VaPo.prototype.GZ=function(l){this.D6=!0;var o=this.S,D=this.yn,H=this.hr(),_=this.aQ,u=this.Pp=this.aqt(null),S=this.view.fB(),h=g.gQ.wM(H,S.x,S.y,this.Ms()),F=h?new he(h[2][0],h[2][1]):null;
if(g.gQ.a0D(H,u)){var n=H[u[1]][1][u[2]];H.splice(u[1],1);this.T.splice(u[1],1);D=g.gQ.a4m(n);var R=-1,S=u[0];
for(var v=0;v<8;v+=2){var s=D[v]-S[0],Z=D[v+1]-S[1];if(s*s+Z*Z<1e-5)R=v}R=R+2&7;D=this.yn=D.slice(R).concat(D.slice(0,R));
this.R5(H)}else if(g.gQ.tQ(H,u)){if(o==1||_&&_.W(e_.Cm)){H=g.gQ.a12(H,u,this.Ms());this.R5(H);u[2]=H[u[1]][1].length-1;
u[3]=8+(u[3]+4&7);this.T[u[1]].push(u[2]);this.R5(H,!0);this.Zy(0)}else this.R5(this.hr(H))}else if(o==0){var O=[];
for(var v=0;v<H.length;v++)O.push([]);if(h){if(_&&_.W(e_.eo))O=this.T;var w=O[h[0]].indexOf(h[1]);if(w==-1)O[h[0]].push(h[1]);
else O[h[0]].splice(w,1)}this.T=O;this.R5(H,!0);this.$u()}else if(o==2){if(h){var m=this.cH;if(m&&m.j0(F)){if(_)if(_.W(e_.zg)||_.W(e_.Cm)){this.Zy(5);
this.GZ(l);return}this.eZ=new he(F.x-m.x,F.y-m.y)}else{this.pH=h[2].concat(h[2]);this.bZ=h}}}else if(o==3||o==4){if(o==3){if(_&&(_.W(e_.zg)||_.W(e_.a$))){if(h){this.Zn=F;
this.GK=F.clone();this.iA=null;this.cB=h;this.$u()}else alert("You must click into a plane");this.D6=!1;
return}else if(this.Zn==null){alert(cU.get([15,7,0]));this.D6=!1;return}else if(h){var V=this.iA=F.c_(this.Zn)}}if(h){this.a4c(h)}}else if(o==5){if(h){var q=new he(h[2][0],h[2][1]),i=this.Fm.GE({w:this.view.yP()},{},_,q)}}};
cB.VaPo.prototype.a4c=function(l,o){var D=this.nJ;if(D==null)this.nJ=D=g.o(this.$N.c()*4);else D.fill(0);
var H=this.S;this.bZ=l;var _=this.BA[H-1],u=g.arP.a5d(_[0].l(),_[1].l()/100,1),S=g.o(u[1].c()*4);g.Kl(u[0],S,3);
if(H==4){var h=g.G.s3(_[3].l());g.M5(S,Math.round(h.J)<<16|Math.round(h.H)<<8|Math.round(h.$)<<0,4278190080)}this.ex={adC:u[0],L0:S,hR:u[1]};
var F=this.Y5=this.Ys(l[2],l[2]),n=o?o.tB(F):F;this.QO(n);this.$u(!0,n)};cB.VaPo.prototype.n$=function(l){var o=this.Pp,D=this.S,H=this.hr();
if(D==0&&g.gQ.tQ(H,o)){H=g.gQ.aye(H,o,this.view.fB());this.R5(H,!0);this.$u()}var _=this.eZ;if(D==2&&this.D6&&(this.pH||_)){var u=this.view.fB(),S=g.gQ.wM(H,u.x,u.y,this.Ms());
if(S){this.bZ=S;if(_){this.cH.x=S[2][0]-_.x;this.cH.y=S[2][1]-_.y}else{this.pH=this.pH.slice(0,2).concat(S[2]);
this.cH=g.X.Mg(this.pH)}this.$u()}}if((D==3||D==4)&&this.D6){var u=this.view.fB(),S=g.gQ.wM(H,u.x,u.y,this.Ms());
if(S){if(D==3){var h=this.iA;this.Zn=new he(S[2][0]-h.x,S[2][1]-h.y)}var F=this.Ys(this.bZ[2],S[2]);
this.Y5=this.Y5.tB(F);this.bZ=S;this.QO(F);this.$u(!0,F)}}if(D==5&&this.D6){var u=this.view.fB(),S=g.gQ.wM(H,u.x,u.y,this.Ms(),this.bZ);
if(S){var n=new he(S[2][0],S[2][1]);this.Fm.XR({w:this.view.yP()},{},this.aQ,n);this.bZ=S;var F=this.Y5;
if(F)this.QO(F);else F=new gt;this.Y5=this.y9(null,null,!0);this.$u(!0,F.tB(this.Y5))}}};cB.VaPo.prototype.Ys=function(l,o){l=new he(l[0],l[1]);
o=new he(o[0],o[1]);var D=Math.max(1e-5,he.At(l,o)),H=this.ex.hR.Q*.2,_=new gt;for(var u=0;u<D;u+=H){var S=1-u/D,h=S*l.x+(1-S)*o.x,F=S*l.y+(1-S)*o.y,n=this.ex.hR.clone();
n.x=Math.round(h-n.Q/2);n.y=Math.round(F-n._/2);if(this.S==3){var R=this.iA;if(R==null)R=new he(h,F).c_(this.Zn);
var s=this.cH=n.clone();s.x=Math.round(s.x-R.x);s.y=Math.round(s.y-R.y);var Z=this.ex.adC;this.ex=this.a4K(this.cB);
this.cH=null;g.NY(Z,this.ex.L0);this.ex.adC=Z}var O=this.y9(this.nJ,n);_=_.tB(O)}return _};cB.VaPo.prototype.lK=function(l){var o=this.Pp;
if(o&&o[3]>=8){var D=g.gQ.ae3(this.hr(),o,this.Ms());this.R5(D,!0);this.$u();alert("new plane added")}var H=this.S,_=this.yn;
if(_||H==1){var u=this.view.fB();if(_==null)_=this.yn=[u.x,u.y];if(_.length==8&&gk.go(_)){var D=this.hr();
D.push([100,[g.gQ.a8l(_,this.Ms())]]);this.T.push([0]);this.R5(D,!0);_=this.yn=null;this.Zy(0);this.$u()}else if(_.length<8){_.push(u.x,u.y);
if(_.length==8&&!gk.go(_)){var S=_[0],h=_[1];_[0]=_[4];_[1]=_[5];_[4]=S;_[5]=h}}}var F=this.pH;if(H==2&&F&&F[0]==F[2]&&F[1]==F[3]){this.cH=null;
this.$u()}if((H==3||H==4)&&this.D6){if(H==3&&!this.BA[2][3].l()&&this.GK){this.Zn=this.GK.clone();this.$u()}this.R5();
this.nJ=null}if(!this.BA[2][3].l())this.iA=null;this.D6=!1;this.eZ=null;this.pH=null};cB.VaPo.prototype.Zy=function(l,o){if(l==this.S)return;
var D=this.Y5,_=6;if(this.S==5){this.R5();this.QO(D);this.Fm=null;this.$u()}if(this.S==3||this.S==4){this.nJ=null;
if(D)this.QO(D);this.$u(!0,D)}if(l==5){if(o==null&&this.cH==null){alert("Select the area to be transformed");
return}this.aj_(o)}if(l>1){var H=this.hr();this.yK();this.R5(H,!0);this.$u()}this.view.WP(l>=_?kP.at(l-_):new e_(!0));
if(l<_)this.view.VC("auto");this.S=l;this.YA.Zy(l);M.o7(this.WH);var u={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[l];
this.WH.appendChild(this.Uc[u])};cB.VaPo.prototype.hr=function(){var v=this.gI,l=this.FO;while(l[v].length==3)v--;
var o=l[v];this.T=JSON.parse(o[1]);return JSON.parse(o[0])};cB.VaPo.prototype.R5=function(l,o){if(l==null&&this.Y5==null)return;
var D=this.FO,H=this.gI,v=H;while(v>=0&&D[v].length==3)v--;if(o==null)this.gI=H=H+1;if(l!=null)D[o?v:H]=[JSON.stringify(l),JSON.stringify(this.T)];
else{var _=this.$N,u=this.Y5,S=g.o(u.c()*4),h=g.o(u.c()*4);D[H]=[u,S,h];g.Qo(this.v6,_,S,u);if(this.nJ)g.z.JM("norm",this.nJ,_,this.v6,_,_,this.ai7());
else this.y9(this.v6);g.Qo(this.v6,_,h,u);this.Y5=null}while(D.length!=H+1)D.pop()};cB.VaPo.prototype.ai7=function(){return this.BA[this.S-1][2].l()/100};
cB.VaPo.prototype.yK=function(l,o){if(l==null)l=this.hr();this.T=[];for(var v=0;v<l.length;v++){var D=[];
this.T.push(D);if(o)for(var H=0;H<l[v][1].length;H++)D.push(H)}};cB.VaPo.prototype.j=function(l,o,D,H,_,u){var S=JSON.parse(JSON.stringify(u[2].gQ));
this.gI=-1;this.yK(S);this.R5(S);var h=g.o(H.c()*4);g.Qo(o,D,h,H);this.ahF=new gt;this.$N=H;this.aw6=_;
this.v6=h;this.Wm=_.slice(0);this.QO(H);this.$u(!0);this.view.iX();this.Zy(0)};cB.VaPo.prototype.aj_=function(l){this.ex=l?l:this.a4K();
var o=g.X.YZ(this.ex.hR).s;if(l){var D=this.hr(),H=g.gQ.Me(D,D[0][1][0],this.Ms()),_=H[1],u=Math.min(_.Q/l.hR.Q,_._/l.hR._)*.9;
if(u<1)g.X.h(o,new de(u,0,0,u,0,0),o)}this.Fm=new gk(o,!0,!0);this.cH=null;this.Y5=this.y9();this.$u(!0)};
cB.VaPo.prototype.a4K=function(l){var o=this.$N,D=g.X.rP(this.cH),H=this.hr(),_=g.o(D.c()*4);if(l==null)l=this.bZ;
var u=H[l[0]][1],S=g.gQ.TM(H[l[0]][1],l[1],D,this.Ms());for(var h=0;h<S.length;h++){var F=u[S[h]],n=g.gQ.Me(H,F,this.Ms()),R=n[0],s=n[1],Z=s.$o(D);
if(Z.lh())continue;Z=g.X.rP(Z);var O=g.o(Z.c()*4),w=g.t.kb(R,s);w=g.t.GM([1/o.Q,0,0,0,1/o._,0,0,0],w);
w=g.t.L5(w);g.t.drawImage(w,this.Wm,o.Q,o._,O,Z);g.Qo(O,Z,_,D)}var m=this.BA[1][0].l(),V=Math.round(m*1.4),q=D.clone();
q.ag(-V,-V);var i=g.o(q.c());i.fill(255);var c=g.o(D.c());g.mB(i,q,c,D);var z=g.o(D.c());g.l5.Cc(c,z,D,m);
g.mA(_,c,3);g.Tc.$o(c,z,z);g.Kl(z,_,3);return{L0:_,hR:D}};cB.VaPo.prototype.QO=function(l,o){var D=this.$N;
g.Qo(this.aw6,D,this.Wm,D,l);g.z.JM("norm",this.v6,D,this.Wm,D,l,1);if(this.nJ)g.z.JM("norm",this.nJ,D,this.Wm,D,l,this.ai7())};
cB.VaPo.prototype.y9=function(l,o,D){var H=this.ex,_=H.hR,u=this.$N,S,h=o?g.X.YZ(o).s:this.Fm.Ha(),F=g.X.dm(h),S=g.t.kb(h,_),n=this.BA[4],R=new de;
if(n[0].l()){R.M=-1;R.ip=2*_.x+_.Q}if(n[1].l()){R.me=-1;R.nl=2*_.y+_._}S=g.t.GM(S,g.t.Lw(R));function s(C,j){C.beginPath();
C.moveTo(j[0],j[1]);for(var v=1;v<4;v++)C.lineTo(j[v*2],j[v*2+1]);C.closePath()}var Z=this.hr(),O=g.gQ.TM(Z[this.bZ[0]][1],this.bZ[1],F,this.Ms()),w=Z[this.bZ[0]][1],m=new gt;
for(var V=0;V<O.length;V++){var q=w[O[V]],i=g.gQ.Me(Z,q,this.Ms()),c=i[0],z=i[1],B=z.$o(F);if(this.cH)B=B.$o(this.cH);
if(B.lh())continue;var t=g.t.kb(c,z),a=g.X.YZ(B).s;g.t.h(t,a);var I=h.slice(0);g.t.h(t,I);var N=g.X.Mg(I).$o(g.X.Mg(a)),J=N.Q,Q=N._;
if(N.lh())continue;t=g.t.GM(g.t.GM(t,S),[_.Q,0,_.x,0,_._,_.y,0,0]);var A=g.o(N.c()*4);g.t.drawImage(t,H.L0,_.Q,_._,A,N,D);
if(B.c()!=F.c()){var f=g.WG(J,Q);f.save();f.clearRect(0,0,J,Q);f.translate(-N.x,-N.y);s(f,a);f.clip();
s(f,I);f.fill();f.restore();var W=new Uint8Array(f.getImageData(0,0,J,Q).data.buffer);for(var v=3;v<A.length;
v+=4)if(W[v]<A[v])A[v]=W[v]}g.z.JM("norm",A,N,l?l:this.Wm,u,N,1);m=m.tB(N)}return m};cB.VaPo.prototype.l=function(){return JSON.parse(JSON.stringify(this.hr()))};
cB.VaPo.prototype.a9g=function(){if(this.S==5)this.Zy(0);var l=new gt,o=this.FO;for(var v=0;v<=this.gI;
v++)if(o[v].length==3)l=l.tB(o[v][0]);var D=g.o(l.c()*4);g.Qo(this.v6,this.$N,D,l);return[D,l]};cB.VaPo.prototype.Av=function(l,o){this.YA.Av(l,o);
this.view.Av(l-40,o-30)};cB.VaPo.prototype.k=function(){this.YA.k();for(var v=0;v<this.BA.length;v++)for(var l=0;
l<this.BA[v].length;l++)this.BA[v][l].k()};cB.VaPo.prototype.$u=function(l,o){var D=this.$N,H=[],_=[],u=[],S=this.hr(),h=g.gQ.Ha(S,this.T),F=0,n=null,V=null,q=null,i=null;
for(var v=0;v<h.length;v++)u.push(h[v][0][0],h[v][0][1]);for(var v=0;v<S.length;v++){var R=this.T[v].length;
F+=R;if(R!=0)n=[v,this.T[v][0]]}var s=this.BA[0][0];s.td(F!=0);if(F!=0)s.j(Math.round(S[n[0]][0]));if(F==1){var Z=S[n[0]][1]}var O=[];
if(this.cH&&S[this.bZ[0]])O=g.gQ.TM(S[this.bZ[0]][1],this.bZ[1],this.cH,this.Ms());var w=[];if(this.Fm){w=this.Fm.akj();
w[4]=this.Fm.pE()}var m=[];if(this.Fm&&S[this.bZ[0]])m=g.gQ.TM(S[this.bZ[0]][1],this.bZ[1],g.X.Mg(this.Fm.Ha()),this.Ms());
for(var c=0;c<S.length;c++){var z=S[c][0],Z=S[c][1],B=this.T[c];for(var t=0;t<Z.length;t++){var n=Z[t],a=g.gQ.Me(S,n,this.Ms()),I=a[0],D=a[1],N=g.t.kb(I,D);
if(D.lh()){if(q==null)q={v:[],s:[]};g.X.concat(q,{v:["M","L","L","L","Z"],s:I});continue}var J=g.X.YZ(D),Q=J.s,A=J.v,f=this.Zn;
if(f&&D.j0(f)&&this.cB&&this.cB[0]==c){V=[f.x,f.y];g.t.h(N,V)}if(O.indexOf(t)!=-1){var W=this.cH.$o(D);
if(c==this.bZ[0]&&!W.lh()){if(i==null)i={s:[],v:[]};var C=g.X.YZ(W);g.t.h(N,C.s);g.X.concat(i,C)}}if(m.indexOf(t)!=-1&&c==this.bZ[0]){var j=[];
for(var v=0;v<w.length;v++)if(D.j0(w[v]))j.push(w[v].x,w[v].y);if(j.length!=0){g.t.h(N,j);u=u.concat(j)}}if(B&&B.indexOf(t)!=-1){var K=Math.ceil(D.x/z)*z,$=D.x+D.Q,r=Math.ceil(D.y/z)*z,U=D.y+D._;
for(var b=K;b<$;b+=z){Q.push(b,D.y,b,U);A.push("M","L")}for(var e=r;e<U;e+=z){Q.push(D.x,e,$,e);A.push("M","L")}}g.t.h(N,Q);
H=H.concat(A);_=_.concat(Q)}if(V&&this.S==3){var b=V[0],e=V[1],P=10/this.view.yP().F;_.push(b-P,e,b+P,e);
_.push(b,e-P,b,e+P);H.push("M","L","M","L")}}var I=this.yn,D=this.$N;if(I){var L=["M"];for(var v=0;v<I.length-2;
v+=2)L.push("L");L.push("Z");var Y=p.WS.wo(I,D.Q/2,D._/2);if(isNaN(Y)||Y==Infinity||Y==-Infinity||!gk.go(I)){if(q==null)q={v:[],s:[]};
g.X.concat(q,{v:L,s:I})}else{_=_.concat(I);H=H.concat(L)}}var X={T9:{v:H,s:_},a0N:q,ahT:i,XA:u,rO:null};
if(l){this.view.j([{jH:D,data:this.Wm.buffer}],null,X,o)}else this.view.a9D(X)};cB.blnc=function(){cB.call(this);
var l=this.Z;this.rb=null;this.cG=new bU([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.cG.O(k.E.B,this.$u,this);
l.appendChild(this.cG.Z);this.AZ=[];for(var v=0;v<3;v++){var o=new h_(["VAR0 - VAR1",jW.aB8[v],jW.oA[v]],-100,100);
o.O(k.E.B,this.YU,this);this.AZ.push(o);l.appendChild(o.Z)}this.NS=new km([13,4]);this.NS.O(k.E.B,this.YU,this);
l.appendChild(this.NS.Z)};cB.blnc.prototype=new cB;cB.blnc.prototype.k=function(){this.cG.k();for(var v=0;
v<3;v++)this.AZ[v].k();this.NS.k()};cB.blnc.prototype.j=function(l){this.rb=JSON.parse(JSON.stringify(l));
this.$u()};cB.blnc.prototype.l=function(l){var o=["ShdL","MdtL","HghL"],D=this.rb[o[this.cG.l()]].v;
for(var v=0;v<3;v++)D[v].v=this.AZ[v].l();this.rb.PrsL.v=this.NS.l();return JSON.parse(JSON.stringify(this.rb))};
cB.blnc.prototype.$u=function(l){var o=["ShdL","MdtL","HghL"],D=this.rb[o[this.cG.l()]].v;for(var v=0;
v<3;v++)this.AZ[v].j(D[v].v);this.NS.j(this.rb.PrsL.v)};cB.brit=function(){cB.call(this,"brit");this.bg.push(new h_([12,2],-150,150,""));
this.bg.push(new h_([12,3,0],-100,100,""));this.bg.push(new km([12,3,1]));this.Vk()};cB.brit.prototype=new cB;
cB.curv=function(){cB.call(this);this.value=null;this.vw=null;this.Fy=null;var l=this.Z;this.S1=new bU("Preset",["basic","advanced"]);
this.S1.O(k.E.B,this.alS,this);l.appendChild(this.S1.Z);M.wR(l);this.lf=new bU([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.lf.O(k.E.B,this.G6,this);l.appendChild(this.lf.Z);this.mq=new bU(null,["Spline","Sketch"]);this.mq.O(k.E.B,this.alS,this);
l.appendChild(this.mq.Z);this.MR=new bm;this.MR.parent=this;this.MR.O(k.E.B,this.mM,this);l.appendChild(this.MR.Z);
M.wR(l);this.zL=new b4;this.zL.O(k.E.B,this.Of,this);l.appendChild(this.zL.Z);this._Z=null;this.aEv=0;
this.dq=0;M.wR(l);this.jC=new hi("Sample from image",ei.uo(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.jC.O(k.E.B,this.UG,this);this.jC.Z.style.marginRight="0";l.appendChild(this.jC.Z)};cB.curv.prototype=new cB;
cB.curv.prototype.Ip=function(l,o){if(o==is.CV||o==is.ha){var D=l.h2,H=["Default"];for(var v=0;v<D.length;
v++)H.push(D[v].presetFileName.v);H.push("Custom");this.S1.Ls(H,[1,D.length,1]);this.Fy=l}};cB.curv.prototype.Av=function(l,o){this.zL.Av(l,o)};
cB.curv.prototype.k=function(){this.lf.k();this.zL.k()};cB.curv.prototype.ug=function(){this.S1.j(this.Fy.h2.length+1)};
cB.curv.prototype.alS=function(l){if(l.target==this.S1){var o=this.S1.l(),D=this.Fy.h2,H;if(o==0)H=at.ts("curv");
else if(o-1<D.length)H=JSON.parse(JSON.stringify(D[o-1]));else return;this.j(H);this.YU();return}this.ug();
var _=hR.$m(this.value,0),u=_.length==256?1:0,S=this.mq.l();if(u==S)return;var H=at.ts("curv");if(S==1){var h=[];
for(var v=0;v<256;v++)h.push(v);hR.sQ(H,0,h)}this.j(H);this.YU()};cB.curv.prototype.Of=function(){this.ug();
hR.sQ(this.value,this.lf.l(),this.zL.l());this.YU()};cB.curv.prototype.G6=function(){var l=this.lf.l(),o=hR.$m(this.value,l),D=o.length==256?1:0;
this.mq.j(D);if(this.vw)this.zL.LC(this.vw[l],this.vw[4]*[1,.33,.33,.33][l],["#ccc","#fcc","#cfc","#ccf"][l]);
this.zL.j(o)};cB.curv.prototype.hS=function(){return!0};cB.curv.prototype.GE=function(l,o,D,H,_){var u=this.value;
this.value=at.ts("curv");this.YU();var S=p.wg.pl(l,_,1,null,!0),h=this._Z=[S>>>16&255,S>>>8&255,S&255];
this.aEv=_.y;var F=this.jC.l().indexOf(!0);if(F==0){var n=(h[0]+h[1]+h[2])/3,R=this.lf.l(),s=hR.$m(u,R),Z=R==0?n:h[R-1],O=-1;
for(var v=0;v<s.length;v++)if(s[v].v.Hrzn.v==Z)O=v;if(O==-1){var w=JSON.parse(JSON.stringify(s[0]));
w.v.Hrzn.v=Z;w.v.Vrtc.v=Z;s.push(w);s.sort(function(m,V){return m.v.Hrzn.v-V.v.Hrzn.v});hR.sQ(u,R,s);
this.dq=s.indexOf(w)}else this.dq=O}this.j(u);this.YU()};cB.curv.prototype.XR=function(l,o,D,H,_){if(this._Z==null)return;
if(this.jC.l().indexOf(!0)==0){var u=this.value,S=this.lf.l(),h=hR.$m(u,S),F=h[this.dq];F.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(F.v.Hrzn.v+(this.aEv-_.y))));
hR.sQ(u,S,h);this.j(u);this.YU()}};cB.curv.prototype.Jm=function(l,o,D,H,_){var u=this.value,S=this._Z,h=(S[0]+S[1]+S[2])/3,F=this.jC.l().indexOf(!0)-1;
if(F<=-1){}else for(var v=0;v<3;v++){var n=hR.$m(u,1+v);if(F==0)n[0].v.Hrzn.v=S[v];if(F==1){var R=Math.log(S[v]/255)/Math.log(h/255),s=Math.min(999,Math.max(10,Math.round(100*R)));
if(n.length==2)n.splice(1,0,JSON.parse(JSON.stringify(n[0])));n[1].v.Hrzn.v=127-Math.log(s/100)*127;
n[1].v.Vrtc.v=127}if(F==2)n[n.length-1].v.Hrzn.v=S[v];hR.sQ(u,1+v,n)}this.j(u);this.YU();this.ug();this._Z=null};
cB.curv.prototype.j=function(l){this.value=l;this.G6()};cB.curv.prototype.LC=function(l){this.vw=l;this.G6()};
cB.curv.prototype.l=function(l){return JSON.parse(JSON.stringify(this.value))};cB.curv.prototype.mM=function(){var l=this.MR.l(),o=this.vw,D=this.value,H=g.a66(l,o);
for(var v=0;v<4;v++){var _=H[v][0],u=H[v][1],S=H[v][2],h=[g.SA.ll(_,0,!0),g.SA.ll(u,255,!0)];if(S!=null)h.splice(1,0,g.SA.ll(128,S,!0));
hR.sQ(D,v,h)}this.G6();this.YU()};cB.expA=function(){cB.call(this,"expA");this.bg.push(new h_([12,5],-20,20,null,2,!0));
this.bg.push(new h_([12,6],-.5,.5,null,2));this.bg.push(new h_([12,7],.01,9.99,null,2,!0));this.Vk()};
cB.expA.prototype=new cB;cB.expA.prototype.Ud=function(l,o){o[0]=l.Exps.v;o[1]=l.Ofst?l.Ofst.v:0;o[2]=l.gammaCorrection?l.gammaCorrection.v:1};
cB.expA.prototype.hv=function(l,o){l.Exps={t:"doub",v:o[0]};l.Ofst={t:"doub",v:o[1]};l.gammaCorrection={t:"doub",v:o[2]}};
cB.grdm=function(){cB.call(this,"grdm");this.bg.push(new bI(!0,null,!0));this.bg.push(new km([12,23,0]));
this.Vk()};cB.grdm.prototype=new cB;cB.grdm.prototype.Ud=function(l,o){o[0]=l.Grad.v;o[1]=l.Rvrs?l.Rvrs.v:!1};
cB.grdm.prototype.hv=function(l,o){l.Grad.v=o[0];l.Rvrs={t:"bool",v:o[1]}};cB.grdm.prototype.Ip=function(l,o){this.bg[0].WC(l.Os,l.qg);
if(o==is.CV||o==is.rY||o==is.z1)this.bg[0].jD(l.h5)};cB.selc=function(){cB.call(this);var l=this.Z;this.m1=[];
this.k8=null;this.cG=new bU([12,82],jW.jL.concat([[13,1,8],[13,1,13],[13,1,10]]));this.cG.O(k.E.B,this.FS,this);
l.appendChild(this.cG.Z);M.wR(l);for(var v=0;v<4;v++){var o=new h_(jW.aB8[v],-100,100,"%");o.O(k.E.B,this.FS,this);
this.m1.push(o);l.appendChild(o.Z)}this.lT=new km([13,3]);l.appendChild(this.lT.Z);this.lT.O(k.E.B,this.FS,this)};
cB.selc.prototype=new cB;cB.selc.prototype.k=function(){this.cG.k();this.lT.k();for(var v=0;v<4;v++)this.m1[v].k()};
cB.selc.prototype.j=function(l){this.k8=JSON.parse(JSON.stringify(l));this.$u()};cB.selc.prototype.l=function(l){return JSON.parse(JSON.stringify(this.k8))};
cB.selc.prototype.FS=function(l){if(l.target!=this.cG){var o=this.k8,D=[];for(var v=0;v<4;v++)D[v]=this.m1[v].l();
je.sQ(o,this.cG.l(),D);o.Mthd={t:"enum",v:{CrcM:this.lT.l()?"Absl":"Rltv"}}}this.$u();this.YU()};cB.selc.prototype.$u=function(){var l=this.k8,o=je.$m(l,this.cG.l());
for(var v=0;v<4;v++)this.m1[v].j(o[v]);this.lT.j(l.Mthd?l.Mthd.v.CrcM=="Absl":!1)};cB.blwh=function(){cB.call(this,"blwh");
this.bg.push(new km([12,11]));this.bg.push(new jv(!0));for(var v=0;v<6;v++)this.bg.push(new h_(jW.jL[v],-200,300));
this.Vk()};cB.blwh.prototype=new cB;cB.blwh.prototype.Ud=function(l,o){o[0]=l.useTint.v;o[1]=l.tintColor.v;
var D="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var v=0;v<6;v++)o[2+v]=l[D[v]].v};cB.blwh.prototype.hv=function(l,o){l.useTint.v=o[0];
l.tintColor.v=o[1];var D="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var v=0;v<6;v++)l[D[v]].v=o[2+v]};
cB.hue2=function(){cB.call(this);this.value=null;this.Ft=null;this.aAA=null;this.y8=[[0,0,0],[0,50,0]];
var l=this.Z;this.jC=new hi(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.jC.O(k.E.B,this.awn,this);this.jC.O(k.E.B,this.UG,this);l.appendChild(this.jC.Z);var o=this.bg=[new bU([12,12],["Master"].concat(jW.jL)),new h_([12,8],-180,180),new h_([12,9],-100,100),new h_([12,10],-100,100),new km([12,11])];
for(var v=0;v<o.length;v++){var D=o[v];D.O(k.E.B,v==0?this.G6:this.a4o,this);l.appendChild(D.Z)}this.cG=o[0];
this.DO=o[1];this.mJ=o[2];this.KM=o[3];this._f=o[4];this._K=new hi("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this._K.O(k.E.B,this.awn,this);this._K.O(k.E.B,this.UG,this);this._K.Z.style.marginLeft="20px";l.appendChild(this._K.Z);
this.kl=M.a("div");l.appendChild(this.kl);this.qn=this.sA.bind(this);this.Gx=this.t7.bind(this);this.Pf=M.a("canvas");
this.Ig=this.Pf.getContext("2d");this.Xe=null;M.zl(this.Pf);M.QT(this.Pf,282,18);l.appendChild(this.Pf);
M.GY(this.Pf,this.pm.bind(this))};cB.hue2.prototype=new cB;cB.hue2.prototype.Av=function(l,o){M.QT(this.Pf,Math.round(l),18);
if(this.value)this.G6()};cB.hue2.prototype.awn=function(l){var o=l.target.l().indexOf(!0);if(o==-1)return;
if(l.target==this.jC)this._K.j([!1,!1,!1]);else this.jC.j([!1,!1,!1])};cB.hue2.prototype.pm=function(l){if(this.cG.l()==0||this._f.l())return;
var o=M.Kx(l,this.Pf).x/(this.Pf.width/M.Y()),u=1e6;function D(s,Z,O){return s<Z&&Z<O||O<s&&(s<Z||Z<O)}var H=this.iv(),_=-1;
for(var v=0;v<4;v++){var S=Math.abs(o-(H[v]+v*1e-5));if(S<u){u=S;_=v}}if(u>.025){_=-1;var h=H[0],F=H[1],n=H[2],R=H[3];
if(D(h,o,F))_=4;if(D(F,o,n))_=5;if(D(n,o,R))_=6}if(_==-1)return;this.Xe=_;M.en(document.body,this.qn);
M.Bv(document.body,this.Gx)};cB.hue2.prototype.sA=function(l){var o=M.Kx(l,this.Pf).x/(this.Pf.width/M.Y()),D=this.iv(),H=this.Xe;
for(var v=1;v<4;v++)if(D[v]<D[v-1]){D[v]+=1}if(H<4){var _=1e6,u=0;for(var v=-20;v<20;v++){var S=Math.abs(D[H]-(o+v));
if(S<_){_=S;u=v}}o+=u;D[H]=o;for(var v=H+1;v<4;v++)if(D[v]<D[v-1]){D[v]=D[v-1]}for(var v=H-1;v>=0;v--)if(D[v]>D[v+1]){D[v]=D[v+1]}}else{var h=o-(D[H-4]+D[H-3])/2;
if(h<-.5)h+=1;if(H==4){D[0]+=h;D[1]+=h;D[2]=Math.max(D[1],D[2]);D[3]=Math.max(D[1],D[3])}if(H==5)for(var v=0;
v<4;v++)D[v]+=h;if(H==6){D[2]+=h;D[3]+=h;D[0]=Math.min(D[0],D[2]);D[1]=Math.min(D[1],D[2])}}for(var v=1;
v<4;v++)if(D[v]<D[v-1])throw"e";this.a2B(D);this.G6();this.YU()};cB.hue2.prototype.t7=function(l){M.ie(document.body,this.qn);
M.OF(document.body,this.Gx)};cB.hue2.prototype.k=function(){for(var v=0;v<this.bg.length;v++)this.bg[v].k()};
cB.hue2.prototype.a4o=function(l){var o=this.value.Clrz.v=this._f.l();if(o)this.cG.j(0);if(l&&l.target==this._f){var D=o?1:0;
this.y8[1-D]=gT.$m(this.value,0);var H=this.y8[D];gT.sQ(this.value,0,H);if(this.cG.l()==0){this.DO.j(H[0]);
this.mJ.j(H[1]);this.KM.j(H[2])}}var _=this.cG.l(),u=gT.$m(this.value,_),H=_==0?u:u.AZ;H[0]=this.DO.l();
var S=this.mJ.l();H[1]=o?Math.max(0,S):S;H[2]=this.KM.l();gT.sQ(this.value,_,u);this.G6();this.YU()};
cB.hue2.prototype.G6=function(){var l=this.cG.l(),o=this.value.Clrz?this.value.Clrz.v:!1;this._f.j(o);
this.cG.td(!o);this._K.td(!o&&l!=0);var D=gT.$m(this.value,l),H=l==0?D:D.AZ;this.DO.j(H[0]);this.mJ.j(H[1]);
this.KM.j(H[2]);var _=this.Pf.width,u=this.Pf.height,S=this.Ig;S.clearRect(0,0,_,u);if(o||l==0){this.kl.innerHTML="";
return}var h=D.Zz;this.kl.innerHTML=h[0]+"\xB0 / "+h[1]+"\xB0<span style=\"float:right\">"+h[2]+"\xB0 \\ "+h[3]+"\xB0</span>";
var F=g.o(_*4);fw.amg(F,1,_,-1,.5);var n=new ImageData(new Uint8ClampedArray(F.buffer),_,1),R=Math.round(u/4);
for(var v=0;v<R;v++)S.putImageData(n,0,v);function s(q,i,c){S.fillStyle=c;var z=R*2;if(q<=i)S.fillRect(q*_,z,(i-q)*_,R);
else{S.fillRect(0,z,i*_,R);S.fillRect(q*_,z,(1-q)*_,R)}}var Z=this.iv();s(Z[0],Z[1],"#888888");s(Z[1],Z[2],"#cccccc");
s(Z[2],Z[3],"#888888");S.fillStyle="#ffffff";S.lineWidth=1;S.beginPath();var O=R+.5,w=4*R+.5;for(var v=0;
v<4;v++){var m=Math.floor(_*Z[v])+.5,V=(v<2?-1:1)*R*(v==1||v==2?1:2);S.moveTo(m,O);S.lineTo(m,w);S.lineTo(m+V,w);
S.lineTo(m+V,R+R+.5);S.closePath()}S.fill();S.stroke()};cB.hue2.prototype.iv=function(){var l=this.cG.l(),o=gT.$m(this.value,l).Zz;
for(var v=0;v<4;v++)o[v]=(1000.5+o[v]/360)%1;return o};cB.hue2.prototype.a2B=function(l){var o=this.cG.l(),D=gT.$m(this.value,o);
for(var v=0;v<4;v++)D.Zz[v]=Math.round(36e3+(l[v]-.5)*360)%360;gT.sQ(this.value,o,D)};cB.hue2.prototype.hS=function(){return!0};
cB.hue2.prototype.aC0=function(){var l=this.jC.l().indexOf(!0),o=this._K.l().indexOf(!0);return l!=-1?l:o!=-1?o+1:-1};
cB.hue2.prototype.GE=function(l,o,D,H,_){var u=this.aC0();if(u==-1)return;var S=this.value;this.value=at.ts("hue2");
this.YU();var h=p.wg.pl(l,_,1,null,!0);this.j(S);var F=[h>>>16&255,h>>>8&255,h&255],n=g.UM(F[0]/255,F[1]/255,F[2]/255);
if(u==0){this.cG.j(1+Math.round(n.B9*6)%6)}else{var R=this.iv(),s=.5+n.B9,Z=1/12,O=R[1],w=R[2];if(w<O){w++;
if(s<O&&s+1-w<O-s)s++}var m=O<=s&&s<=w;if(u==1){O=s-Z/2;w=s+Z/2}else if(u==2&&!m){O=Math.min(s,O);w=Math.max(s,w)}else if(u==3&&m){if(s-O<w-s)O=s;
else w=s}R=[O-Z,O,w,w+Z];this.a2B(R)}this.YU();this.Ft=_.x;this.aAA=this.mJ.l()};cB.hue2.prototype.XR=function(l,o,D,H,_){var u=this.aC0();
if(u==-1)return;if(u==0){if(this.Ft!=null){var S=_.x-this.Ft;S=Math.max(-100,Math.min(100,this.aAA+.5*S));
this.mJ.j(S);this.a4o()}}};cB.hue2.prototype.Jm=function(l,o,D,H,_){this.Ft=null};cB.hue2.prototype.j=function(l){this.value=JSON.parse(JSON.stringify(l));
var o=this.value.Clrz?this.value.Clrz.v:!1;this.y8[o?1:0]=gT.$m(this.value,0);this.G6()};cB.hue2.prototype.l=function(l){return JSON.parse(JSON.stringify(this.value))};
cB.levl=function(){function l(){cB.call(this);this.value=null;this.vw=null;this.jc=[new he(0,0),new he(0,0),new he(0,0),new he(0,0),new he(0,0)];
this.mi=-1;this.qn=this.sA.bind(this);this.Gx=this.t7.bind(this);var o=this.Z;this.lf=new bU([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.lf.O(k.E.B,this.G6,this);o.appendChild(this.lf.Z);this.MR=new bm;this.MR.parent=this;this.MR.O(k.E.B,this.mM,this);
o.appendChild(this.MR.Z);var D=M.a("div","");o.appendChild(D);var H=M.a("div","");o.appendChild(H);this.Pf=M.a("canvas");
D.appendChild(this.Pf);this.Ig=this.Pf.getContext("2d");this.dL=new he(256,120);this.Pf.setAttribute("style","display:block");
M.zl(this.Pf);M.GY(this.Pf,this.pm.bind(this));this.K0=M.a("canvas","");H.appendChild(this.K0);this.A5=this.K0.getContext("2d");
this.z7=new he(this.dL.x,40);this.K0.setAttribute("style","display:block");M.zl(this.K0);M.GY(this.K0,this.a9l.bind(this));
var _=this.qI=[];for(var v=0;v<5;v++){var u=new g7(null,null,3);_.push(u);u.O(k.E.B,this.asF,this);(v<2||v==4?D:H).appendChild(u.Z)}D.appendChild(_[1].Z);
this.jC=new hi("Sample from image",ei.uo(["#000000","#888888","#ffffff"]),!0,null,!0);this.jC.O(k.E.B,this.UG,this);
o.appendChild(this.jC.Z);this.Av(250,100)}l.prototype=new cB;l.prototype.mM=function(){var o=this.MR.l(),D=this.vw,H=this.value,_=g.a66(o,D);
for(var v=0;v<4;v++){var u=_[v][0],S=_[v][1],h=_[v][2],F=[g.SA.ll(u,0,!0),g.SA.ll(S,255,!0)];if(h!=null)F.splice(1,0,g.SA.ll(128,h,!0));
var n=[~~u,~~S,0,255,h==null?100:~~(100+.75*100*(h-128)/128)];el.sQ(H,v,n)}this.G6();this.YU()};l.prototype.Av=function(o,D){o+=6;
this.dL.x=this.z7.x=o;M.QT(this.Pf,o,this.dL.y,this.Ig);M.QT(this.K0,o,this.z7.y,this.A5);var H=this.qI;
H[3].Z.setAttribute("style","margin-left: "+(o-104)+"px");H[4].Z.setAttribute("style","margin: 0 "+(o/2-74)+"px");
if(this.value)this.G6()};l.prototype.k=function(){this.lf.k()};l.prototype.asF=function(o){var D=[];
for(var v=0;v<5;v++){var H=255,_=1;if(v==4){H=999;_=100}var u=parseFloat(this.qI[v].l());D[v]=Math.max(0,Math.min(H,u*_))}el.sQ(this.value,this.lf.l(),D);
this.G6();this.YU()};l.prototype.G6=function(o){var D=this.dL.x,H=this.dL.y,_=this.lf.l(),u=this.Ig;
u.clearRect(0,0,D,H);u.fillStyle="#cccccc";u.fillRect(8,8,D-16,H-16-8);if(this.vw){var S=this.vw[0].slice(0),w=0;
if(_==0){S.fill(0);var h=JSON.parse(JSON.stringify(this.value));el.sQ(h,0,[0,255,0,255,100]);var F=jW.Vz("levl",h),n=[F.LG,F.tw,F.BI];
for(var R=0;R<3;R++){var s=this.vw[1+R],Z=n[R];for(var v=0;v<256;v++)S[Z[v]]+=s[v]}}var O=_==0?S:this.vw[_];
for(var v=0;v<O.length;v++)w+=O[v];u.fillStyle="#333333";u.beginPath();u.moveTo(8,H-16);for(var v=0;
v<256;v++){var m=55*O[v]/w;u.lineTo(8+v/256*(D-16),Math.max(8,H-16-H*m))}u.lineTo(D-8,H-16);u.closePath();
u.fill()}var V=el.$m(this.value,_);for(var v=0;v<5;v++)this.qI[v].j(V[v]/(v==4?100:1));this.jc[0].pN(8+V[0]/255*(D-16),H-14);
this.jc[1].pN(8+V[1]/255*(D-16),H-14);var q=Math.log(V[4]/100)/Math.log(9.99);q=.5-q/2;this.jc[4].pN(this.jc[0].x+q*(this.jc[1].x-this.jc[0].x),H-14);
this.Bs(u,this.jc[0],"#000000");this.Bs(u,this.jc[1],"#ffffff");this.Bs(u,this.jc[4],"#777777");var D=this.z7.x,H=this.z7.y;
u=this.A5;u.clearRect(0,0,D,H);var i=u.createLinearGradient(0,0,D-16,0);i.addColorStop(0,"black");i.addColorStop(1,"white");
u.fillStyle=i;u.fillRect(8,8,D-16,16);this.jc[2].pN(8+V[2]/255*(D-16),H-14);this.jc[3].pN(8+V[3]/255*(D-16),H-14);
this.Bs(u,this.jc[2],"#000000");this.Bs(u,this.jc[3],"#ffffff")};l.prototype.Bs=function(o,D,H){o.fillStyle=H;
o.fillRect(D.x-5,D.y,10,10)};l.prototype.pm=function(o){var D=M.Kx(o,this.Pf),H=this.amb([0,1,4],D);
if(H!=-1)this.mi=H;this.agn()};l.prototype.a9l=function(o){var D=M.Kx(o,this.K0),H=this.amb([2,3],D);
if(H!=-1)this.mi=H;this.agn()};l.prototype.amb=function(o,D){var H=-1,_=1e9;for(var v=0;v<o.length;v++){var u=Math.abs(this.jc[o[v]].x-D.x);
if(u<_){_=u;H=o[v]}}return _<16?H:-1};l.prototype.agn=function(o){if(this.mi==-1)return;M.en(document.body,this.qn);
M.Bv(document.body,this.Gx)};l.prototype.sA=function(o){var D=el.$m(this.value,this.lf.l()),H=M.Kx(o,this.mi==2&&this.mi==3?this.K0:this.Pf),_=255*(H.x-8)/(this.dL.x-16);
_=Math.max(0,Math.min(255,_));if(this.mi==0)_=Math.min(_,D[1]-2);if(this.mi==1)_=Math.max(_,D[0]+2);
if(this.mi!=4)D[this.mi]=Math.round(_);else{var u=(_-D[0])/(D[1]-D[0]);u=1-2*u;u=Math.pow(9.99,u);D[4]=Math.min(999,Math.max(10,Math.round(u*100)))}el.sQ(this.value,this.lf.l(),D);
this.G6();this.YU()};l.prototype.t7=function(o){M.ie(document.body,this.qn);M.OF(document.body,this.Gx);
this.mi=-1};l.prototype.hS=function(){return!0};l.prototype.Jm=function(o,D,H,_,u){var S=this.value,h=this.jC.l().indexOf(!0);
if(h==-1)return;this.value=at.ts("levl");this.YU();var F=p.wg.pl(o,u,1,null,!0),n=[F>>>16&255,F>>>8&255,F&255];
for(var v=0;v<3;v++){var R=el.$m(S,1+v);if(h==0)R[0]=n[v];if(h==1){var s=Math.log(n[v]/255)/Math.log((n[0]+n[1]+n[2])*.333/255);
R[4]=Math.min(999,Math.max(10,Math.round(100*s)))}if(h==2)R[1]=n[v];el.sQ(S,1+v,R)}this.j(S);this.YU()};
l.prototype.j=function(o){this.value=o;this.G6()};l.prototype.LC=function(o){this.vw=o;this.G6()};l.prototype.l=function(o){return JSON.parse(JSON.stringify(this.value))};
return l}();cB.phfl=function(){cB.call(this,"phfl");this.bg.push(new jv);this.bg.push(new h_([12,74],0,100,"%"));
this.bg.push(new km([13,4]));this.Vk()};cB.phfl.prototype=new cB;cB.phfl.prototype.Ud=function(l,o){o[0]=l.Clr.v;
o[1]=l.Dnst.v;o[2]=l.PrsL.v};cB.phfl.prototype.hv=function(l,o){var D=g.G.s3(o[0]),H=l.Clr.v,_=g.nU(D.$,D.H,D.J);
H.Lmnc.v=_.Ct;H.A.v=_.M;H.B.v=_.J;l.Dnst.v=o[1];l.PrsL.v=o[2]};cB.vibA=function(){cB.call(this,"vibA");
this.bg.push(new h_([12,13],-100,100,null));this.bg.push(new h_([12,9],-100,100,null));this.Vk()};cB.vibA.prototype=new cB;
cB.vibA.prototype.Ud=function(l,o){o[0]=l.vibrance?l.vibrance.v:0;o[1]=l.Strt?l.Strt.v:0};cB.vibA.prototype.hv=function(l,o){l.vibrance.v=o[0];
l.Strt.v=o[1]};cB.thrs=function(){cB.call(this,"thrs");this.bg.push(new h_([4,13],1,255,null));this.Vk()};
cB.thrs.prototype=new cB;cB.thrs.prototype.Ud=function(l,o){o[0]=l.Lvl.v};cB.thrs.prototype.hv=function(l,o){l.Lvl.v=o[0]};
cB.mixr=function(){cB.call(this);var l=this.Z;this.m1=[];this.k8=null;this.cG=new bU([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.am9=!1;this.cG.O(k.E.B,this.FS,this);l.appendChild(this.cG.Z);M.wR(l);this.nD=new km([12,60]);l.appendChild(this.nD.Z);
this.nD.O(k.E.B,this.FS,this);for(var v=0;v<4;v++){var o=new h_([[13,1,1],[13,1,4],[13,1,5],[13,2]][v],-200,200,"%");
o.O(k.E.B,this.FS,this);this.m1.push(o);l.appendChild(o.Z)}};cB.mixr.prototype=new cB;cB.mixr.prototype.k=function(){this.cG.k();
this.nD.k();for(var v=0;v<4;v++)this.m1[v].k()};cB.mixr.prototype.j=function(l){this.k8=JSON.parse(JSON.stringify(l));
this.$u()};cB.mixr.prototype.l=function(l){return JSON.parse(JSON.stringify(this.k8))};cB.mixr.prototype.FS=function(l){if(l.target!=this.cG){var o=jW.Db(this.k8);
if(l.target==this.nD){o.nD=this.nD.l();if(o.nD)o.P=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else o.P=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var D=(o.nD?0:this.cG.l())*5,v=this.m1.indexOf(l.target);
o.P[D+(v<3?v:4)]=l.target.l()}this.k8=jW.v$(o)}this.$u();this.YU()};cB.mixr.prototype.$u=function(){var l=jW.Db(this.k8);
if(l.nD!=this.am9)this.cG.Ls(l.nD?[[13,1,7]]:jW.oA);this.am9=l.nD;this.nD.j(l.nD);var o=(l.nD?0:this.cG.l())*5;
for(var v=0;v<4;v++)this.m1[v].j(l.P[o+(v<3?v:4)])};cB.post=function(){cB.call(this,"post");this.bg.push(new h_([4,1],2,255,null));
this.Vk()};cB.post.prototype=new cB;cB.post.prototype.Ud=function(l,o){o[0]=l.Lvls.v};cB.post.prototype.hv=function(l,o){l.Lvls.v=o[0]};
cB.clrL=function(){cB.call(this,"clrL");this.bg.push(new jx("LUTs"));this.Vk()};cB.clrL.prototype=new cB;
cB.clrL.prototype.Ud=function(l,o){o[0]=l};cB.clrL.prototype.hv=function(l,o){var D=o[0];for(var H in D)l[H]=D[H]};
cB.clrL.prototype.Ip=function(l,o){if(o==is.CV||o==is.Ln)this.bg[0].jD(l.aaT)};cB.rplc=function(){cB.call(this,"rplc");
this.bg.push(new h_([12,92],0,200));this.bg.push(new jv);this.bg.push(new h_([12,8],-180,180));this.bg.push(new h_([12,9],-100,100));
this.bg.push(new h_([12,10],-100,100));this.Vk()};cB.rplc.prototype=new cB;cB.rplc.prototype.Ud=function(l,o){o[0]=l.Fzns.v;
o[1]=l.Mxm.v;o[2]=l.H.v;o[3]=l.Strt.v;o[4]=l.Lght.v};cB.rplc.prototype.hv=function(l,o){function D(_,u){u.Lmnc.v=_.Ct;
u.A.v=_.M;u.B.v=_.J}l.Fzns.v=o[0];l.H.v=o[2];l.Strt.v=o[3];l.Lght.v=o[4];var H=g.G.s3(o[1]),_=g.nU(H.$,H.H,H.J);
D(_,l.Mnm.v);D(_,l.Mxm.v)};cB.fade=function(){cB.call(this,"fade");this.bg.push(new h_([12,0],0,100,"%"));
this.bg.push(new bU([12,19,0],b2.Rv,b2.Yi));this.Vk()};cB.fade.prototype=new cB;cB.fade.prototype.Ud=function(l,o){o[0]=l.Opct.v.val;
o[1]=b2.cu.indexOf(l.Md.v.BlnM)};cB.fade.prototype.hv=function(l,o){l.Opct.v.val=o[0];l.Md.v.BlnM=b2.cu[o[1]]};
cB.aply=function(){var l=b2.cu.concat(["Add","Sbtr"]);l.splice(21,1);var o=b2.Rv.concat([[15,10,28],[15,10,21]]);
o.splice(21,1);var D=b2.Yi.slice(0);D[4]--;function H(){cB.call(this,"aply");this.bg.push(new bU([0,3],[]));
this.bg.push(new bU([12,4],["RGB"].concat(jW.oA).concat(["Transparency"])));this.bg.push(new km([4,11]));
this.bg.push(new bU([12,19,0],o,D));this.bg.push(new h_([12,0],0,100,"%"));this.bg.push(new gs([12,38],1,2,null,2));
this.bg.push(new gs([12,6],-255,255));this.bg.push(new km([13,5]));this.Vk([2]);this.la=null}H.prototype=new cB;
H.prototype.Ud=function(_,u,S){if(S){var h=S[2].R,F=this.la=[];for(var v=0;v<h.length;v++){var n=h[v].getName();
F.push(n.length<30?n:n.slice(0,27)+"...")}F.reverse();this.bg[0].Ls([[5,7]].concat(F),[1,F.length])}else var F=this.la;
_=_.With.v;var R=_.T.v;u[0]=R[1].t=="name"?1+F.indexOf(R[1].v.val):0;u[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(R[0].v.enum);
u[2]=_.Invr.v;var s=_.Clcl.v.Clcn;u[3]=l.indexOf(s);u[4]=_.Opct.v.val;u[5]=_.Scl.v;u[6]=_.Ofst.v;u[7]=_.PrsT.v};
H.prototype.hv=function(_,u){_=_.With.v;var S=_.T.v;if(u[0]==0)S[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else S[1]={t:"name",v:{classID:"Lyr",val:this.la[u[0]-1]}};S[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][u[1]];
_.Invr.v=u[2];var h=_.Clcl.v.Clcn=l[u[3]];_.Opct.v.val=u[4];_.Scl.v=u[5];_.Ofst.v=u[6];_.PrsT.v=u[7];
var F=h=="Add"||h=="Sbtr";this.bg[5].td(F);this.bg[6].td(F)};return H}();cB.matc=function(){var l,o,D=0;
function H(){cB.call(this,"matc");this.bg.push(new h_("Luminance",1,200));this.bg.push(new h_("Color Intensity",1,200));
this.bg.push(new h_([2,11],0,100,"%"));this.bg.push(new km("Neutralize"));this.bg.push(new bU([12,70],[]));
this.bg.push(new bU([0,3],[]));this.Vk([2])}function _(u,S){u.bg[5].Ls([[5,7]].concat(S),[1,S.length])}H.prototype=new cB;
H.prototype.Ud=function(u,S,h){D=0;S[0]=u.Lght.v;S[1]=u.ClrR.v;S[2]=u.Fade.v;S[3]=u.neutralizeColor?u.neutralizeColor.v:!1;
S[4]=S[5]=0;var F=u.Srce;if(F)F=F.v;if(h){l=[];o=[];var n=h[2],R=h[3];for(var v=0;v<R.length;v++){var s=R[v];
l.push(s.name);var Z=s.R,O=[];o.push(O);for(var w=0;w<Z.length;w++)O.push(Z[w].getName());O.reverse()}this.bg[4].Ls([[13,1,0]].concat(l),[1,l.length]);
var m=R.indexOf(n);if(F)m=l.indexOf(F[1].v.val);_(this,o[m])}if(F){var V=l.indexOf(F[1].v.val);S[3]=D=1+V;
if(F[0].t=="name")S[4]=1+o[V].indexOf(F[0].v.val)}};H.prototype.hv=function(u,S){u.Lght.v=S[0];u.ClrR.v=S[1];
u.Fade.v=S[2];u.neutralizeColor.v=S[3];if(S[4]==0){u.noReference={t:"bool",v:!0};delete u.Srce}else{if(S[4]!=D){D=S[4];
_(this,o[S[4]-1])}delete u.noReference;var h={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},F=o[S[4]-1];
if(S[5]!=0)h={t:"name",v:{classID:"Lyr",val:F[S[5]-1]}};u.Srce={t:"obj ",v:[h,{t:"name",v:{classID:"Dcmn",val:l[S[4]-1]}}]}}};
return H}();function h8(l,o){f1.call(this);if(l==null)return;this.id=o;this.uX=l;this.KW=null;this.Z=M.a("div","window "+o);
this.a8F=null;this.ft=M.a("div","whead");this.a70=M.a("span","wname");this.ft.appendChild(this.a70);
this.a7O=!1;this.Z.appendChild(this.ft);this.kj=this.arq.bind(this);this.ju=this.a0u.bind(this);this.ER=this.aqb.bind(this);
M.zl(this.ft);M.GY(this.ft,this.kj);this.awx=M.a("span","cross gsicon");this.ft.appendChild(this.awx);
h8.prototype.k.call(this);M.Bv(this.awx,this.a5o.bind(this));this.body=M.a("div","body");this.Z.appendChild(this.body)}h8.prototype=new f1;
h8.prototype.Iu=function(){return!1};h8.prototype.hS=function(){return!1};h8.prototype.k=function(){if(this.uX==null)return;
this.a70.textContent=cU.get(this.uX)};h8.prototype.GE=function(l,o,D,H,_){};h8.prototype.Il=function(l,o,D,H,_){};
h8.prototype.XR=function(l,o,D,H,_){};h8.prototype.Jm=function(l,o,D,H,_){};h8.prototype.p0=function(l,o,D,H,_){};
h8.prototype.WP=function(l,o,D,H){if(H.W(e_.PA)&&this._v)this._v();if(H.W(e_.Cm)){var _=new jJ(k.E.r);
_.iy=!0;p._1.aym(H,_);if(_.data)o.A(_)}};h8.prototype.iL=function(l){return!1};h8.prototype.WU=function(l,o){return!0};
h8.prototype.my=function(l,o,D,H){};h8.prototype.Ip=function(l,o){};h8.prototype.b8=function(l,o){return null};
h8.prototype.aBv=function(l){return this.a8F};h8.prototype.Av=function(){};h8.prototype.close=function(){this.A(new jJ(k.E.Wg))};
h8.prototype.arq=function(l){this.KW=M.Kx(l,this.Z);M.en(window,this.ju);M.Bv(window,this.ER)};h8.prototype.a0u=function(l){var o=this.Z.parentNode,D=M.Kx(l,o),H=Math.round(D.x-this.KW.x),_=o.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(D.y-this.KW.y)));
this.a8F=new he(H,_);this.Z.style.left=H+"px";this.Z.style.top=_+"px"};h8.prototype.aqb=function(l){M.ie(window,this.ju);
M.OF(window,this.ER)};h8.prototype.a5o=function(l){if(this.a7O){this._v();return}this.A(new jJ("closebtn"));
this.close()};function f5(){h8.call(this,"About Photopea","aboutpp");var l=M.a("div","flexrow");this.body.appendChild(l);
var o=this.auQ=M.a("img");l.appendChild(o);this.body.setAttribute("style","margin:0; padding:0");var D=this.Uc=M.a("div");
D.innerHTML=f5.hD;l.appendChild(D);var H=this.Uk=M.a("span");H.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(H)}f5.prototype=new h8;f5.prototype.b8=function(l,o){return new he(0,0)};f5.prototype.Av=function(l,o){var D=this.auQ,H=this.Uc,_=this.Uk,u=(l+o-42-42)/110;
u=Math.sqrt((l-42)*(o-42))/50;D.setAttribute("style","width:"+l/2+"px; height:"+o+"px; display:block; object-fit:cover;");
H.setAttribute("style","width:"+(l/2-42)+"px; height:"+(o-42)+"px; padding:20px; font-size:"+u+"px;");
_.setAttribute("style","position:absolute;  bottom:10px; right:"+(l/2+10)+"px")};f5.prototype.k=function(){};
f5.prototype.my=function(l,o,D,H){this.auQ.setAttribute("src","promo/ivan_pp.webp")};f5.hD="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function f3(){h8.call(this,[0,13,0],"account");this.ID=M.a("div","form scrollable");this.body.appendChild(this.ID);
this.body.style.padding="0";this.iM=[new f3.sK,new f3.h3("::"+eJ.NO("privacy.html")),new f3.h3(f3.au7)];
for(var v=0;v<this.iM.length;v++)this.iM[v].parent=this;this.O("showpage",this.ak3,this)}f3.prototype=new h8;
f3.prototype.WU=function(l,o){var D=navigator.onLine;if(!D)alert("Go online first");return D};f3.prototype.Av=function(l,o){this.ID.setAttribute("style","width:"+Math.min(l-40,740)+"px;  height:"+(o-38)+"px;  padding:1.5em;");
this.iM[0].Av(l,o)};f3.prototype.b8=function(l,o){return new he(Math.max(0,Math.min(150,(l-740)/2)),Math.max(0,Math.min(100,(o-500)/2)))};
f3.prototype.ak3=function(l){M.o7(this.ID);this.ID.scrollTop=0;this.ID.appendChild(this.iM[l.data.wN].Z)};
f3.prototype.k=function(){h8.prototype.k.call(this);for(var v=0;v<this.iM.length;v++)this.iM[v].k()};
f3.prototype.my=function(l,o,D){if(!navigator.onLine)return;M.o7(this.ID);var H=this.iM[0];this.ID.appendChild(H.Z);
H.my();this.k()};f3.prototype.Ip=function(l,o){this.my(null,null,null)};f3.sK=function(){f1.call(this);
this.Z=M.a("div");var l=this.Z,h,F,R="font-size:1.25em;",s="text-align:center;",O="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",w="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",m="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",i=12;
this.LA=M.a("div");l.appendChild(this.LA);this.ZO=new cg([0,11],!1,null,!0);this.ZO.Z.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.ZO.O("click",this.qB,this);l.appendChild(this.ZO.Z);this.nB=new cg([0,13,1],!1,null,!0);this.nB.O("click",this.axx,this);
l.appendChild(this.nB.Z);this.GN=new cg("Business Terms",!1,null,!0);this.GN.O("click",this.azn,this);
l.appendChild(this.GN.Z);var o=M.a("div");o.style.margin="20px 0";l.appendChild(o);var D=["Account Types","Go Premium","Team Settings","Distributors"],H=this.SE=[],_=this.a6e=[],u=this.T3=M.a("div");
l.appendChild(u);for(var v=0;v<D.length;v++){var S=M.a("span");S.textContent=D[v];o.appendChild(S);H.push(S);
S.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
S.addEventListener("click",this.OV.bind(this));_.push(M.a("div"))}this.OV(0);var n=this.a3A="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
l=_[0];var F=M.a("table"),Z="style=\" "+s+R+" padding-bottom:20px;\"";F.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+m+">\t\t\t\t\t<div "+Z+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+w+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+w+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+m+">\t\t\t\t\t<div "+Z+" title=\"Order 90 days for $15, to get a cost of $5 per month.\">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+w+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+w+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+w+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+w+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+w+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
l.appendChild(F);var S=new cg("Go Premium");S.Z.setAttribute("style",n+"padding:10px 0;");S.O("click",function(B){this.OV(1)},this);
F.children[0].children[1].children[1].appendChild(S.Z);this.rt=M.a("div");l.appendChild(this.rt);l=_[1];
var V=this.ab4=[[8,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.cU=[];for(var v=0;v<V.length;v++)this.cU.push(new cg("Buy: $"+V[v][0],!1,null,!0));for(var v=0;
v<this.cU.length;v++){this.cU[v].O("click",this.ayU,this)}this.$E=new cg("...",!0);this.$E.Z.setAttribute("style",n);
l.appendChild(this.$E.Z);F=this.ayn(4,["Single user",this.cU[0],this.cU[1],this.cU[2],"Team of 5",this.cU[3],this.cU[4],this.cU[5],"Team of 20",this.cU[6],this.cU[7],this.cU[8],"Team of 50",this.cU[9],this.cU[10],this.cU[11]]);
l.appendChild(F);var q=M.a("div");l.appendChild(q);q.textContent="Premium lasts for X days: after X days, you are switched back to a free version (with ads).";
this.atn=new km("I accept",!0,"");l.appendChild(this.atn.Z);this.Oh=new cg([0,13,1],!1,null,!0);this.Oh.O("click",this.axx,this);
l.appendChild(this.Oh.Z);this.$C=new cg("I have a key",!1,null,!0);this.$C.Z.setAttribute("style",n+" float:right; width:inherit;");
this.$C.O("click",this.ayU,this);l.appendChild(this.$C.Z);l=_[2];this.JU=new fq;this.JU.parent=this;
this.JU.O(k.E.B,this.CI,this);l.appendChild(this.JU.Z);l=_[3];this.w1=new cg("...",!0);this.w1.Z.setAttribute("style",n);
l.appendChild(this.w1.Z);F=this.ayn(3,["1000 views/mo",this.cU[i++],this.cU[i++],this.cU[i++],"5000 views/mo",this.cU[i++],this.cU[i++],this.cU[i++],"20000 views/mo",this.cU[i++],this.cU[i++],this.cU[i++]]);
l.appendChild(F);var c=M.a("p");c.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
l.appendChild(c);this.MH=new g7("Domain name (e.g. domain.com)",null,14);l.appendChild(this.MH.Z);var z=new cg("Save Domain Settings",!1,null,!0);
z.PL();l.appendChild(z.Z);z.O("click",this.azB,this)};f3.sK.prototype=new f1;f3.sK.prototype.OV=function(l){var o=typeof l=="number"?l:this.SE.indexOf(l.target);
for(var v=0;v<4;v++)this.SE[v].style.opacity=.6;this.SE[o].style.opacity=1;M.o7(this.T3);this.T3.appendChild(this.a6e[o])};
f3.sK.prototype.Av=function(l,o){var D=l<600?"d":" days",H=["30 days","90 days","365 days"];if(l<600)H=["30d","90d","365d"];
var _=this.ab4;for(var v=0;v<_.length;v++){this.cU[v].Qx("<span>"+H[v%3]+": <sup>$</sup><big><b>"+_[v][0]+"</b></big>"+"</span>");
this.cU[v].Z.setAttribute("style",this.a3A)}};f3.sK.prototype.axx=function(l){var o=new jJ("showpage",!0);
o.data={wN:1};this.A(o)};f3.sK.prototype.azn=function(l){var o=new jJ("showpage",!0);o.data={wN:2};this.A(o)};
f3.sK.prototype.k=function(){this.ZO.Qx(eJ.EY()?cU.get([0,11]):cU.get([0,10]));this.Oh.k();this.nB.k();
this.GN.k()};f3.sK.prototype.aAT=function(l){var o=new jJ(k.E.b,!0);o.data={q:k.L.Gv,link:"https://www.photopea.com/api/accounts#"+(l.target==this.adm?"teams":"distributors")};
this.A(o)};f3.sK.prototype.az5=function(l){var o=l.currentTarget==this.a1H;this.a1H.j(o);this.a8y.j(!o)};
f3.sK.prototype.akK=function(l){var o=this.a1H.l(),D=this.aqH.l().trim().toLowerCase(),H=this.ax3.value.trim().toLowerCase();
if(D.length>60){alert("Too long email address");return}if(H.length>600){alert("Too many team members");
return}H=H.split(",").join(" ").trim();H=H.replace(/\s+/g," ");if(H=="")H=[];else H=H.split(" ");var _=eJ.A2();
if(_==null)_={};if(_.acc==null)_.acc={};_.acc.team={jin:o,ldr:D,mmb:H};eJ.h0(_,this.CI.bind(this));alert("Saved!");
this.my()};f3.sK.prototype.azB=function(l){var o=this.MH.l().trim();if(!eJ.EY()){alert("You have to log in first.");
return}if(eJ.mp()==0){alert("Order a distributor account first.");return}var D=eJ.A2();if(D==null)D={};
if(D.acc==null)D.acc={};if(o=="")delete D.acc.dname;else D.acc.dname=o;eJ.h0(D,this.CI.bind(this));alert("Saved!");
this.my()};f3.sK.prototype.aEf=function(l){var o=eJ.g$(),v=this.Fx,D=eJ.A2();if(D==null)D={};if(D.acc==null)D.acc={};
D.acc.bto=l;eJ.h0(D,function(){});var H=f3.a86(l.split("\n"),o.pmnts[v]);iT.save(H,"photopea_invoice.pdf")};
f3.sK.prototype.a9Q=function(l){var o=eJ.g$(),D=eJ.A2(),H=D.acc?D.acc.bto:null;if(H==null)H=o.name+"\n"+o.email;
var v=-1,_=l.target.Z.parentNode;while((_=_.previousSibling)!=null)v++;this.Fx=v;var u=new jJ(k.E.b,!0);
u.data={q:k.L.E1,mg:"billto",aC:H,Gu:this.aEf.bind(this)};this.A(u)};f3.sK.prototype.my=function(){this.LA.innerHTML="";
M.o7(this.rt);if(eJ.EY()){var l=eJ.g$(),o=l.pmnts;if(l==null)return;this.LA.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+l.name+"</span> "+l.email+" <br/>";
if(o){var D="<h2>Payments</h2>";for(var v=0;v<o.length;v++){var H=o[v],_=new Date(H[0]*1e3);D+="<div style=\"font-size:1.2em\">"+_.getDate()+". "+(_.getMonth()+1)+". "+_.getFullYear()+" - "+f3.a3p(H)+"</div>"}this.rt.innerHTML=D;
for(var v=0;v<o.length;v++){var u=new cg("Get Invoice",!1,null,!0);u.Z.setAttribute("style","float:right");
u.O("click",this.a9Q,this);this.rt.children[v+1].appendChild(u.Z)}}}else{}var S=eJ.EY()&&eJ.lu();this.$E.Z.style.display=S?"block":"none";
if(S){var h,F,n=S;if(n[0]==0){h=eJ.Uu(n[1])-Date.now()*(1/1e3);F=n[1][2]==1?"Single User":"Team Of "+n[1][2]}else{h=n[1][1]-Date.now()*(1/1e3);
F="Member of \""+n[1][0]+"\""}this.$E.Qx("Premium active for "+Math.round(h/(60*60*24))+" more days! ("+F+")")}var R=eJ.EY()&&eJ.mp()*1e3>Date.now();
this.w1.Z.style.display=R?"block":"none";if(R){var h=eJ.mp()-Date.now()/1e3;this.w1.Qx("Distributor active for "+Math.round(h/(60*60*24))+" more days!")}var s=eJ.A2();
this.JU.my();if(s&&s.acc&&s.acc.dname)this.MH.j(s.acc.dname);else this.MH.j("")};f3.sK.prototype.ayn=function(l,o){var D=M.a("table");
if(!0){var H="<table><tr>";for(var v=0;v<l;v++)H+="<th>"+o[v*4]+"</th>";H+="</tr></table>";D.innerHTML=H;
for(var v=0;v<3;v++){var _=M.a("tr"),u;D.appendChild(_);for(var S=0;S<l;S++){u=M.a("td");u.style.width=Math.round(100/l)+"%";
_.appendChild(u);u.appendChild(o[S*4+1+v].Z)}}}return D};f3.sK.prototype.ayU=function(l){var o=this.cU.indexOf(l.currentTarget),H=30,_=1;
if(!eJ.EY()){this.qB();return}if(this.atn.l()==!1&&o<12){alert("You must accept Terms of Service");return}var D=eJ.EY()&&eJ.lu();
if(o!=-1){var u=this.ab4[o];H=u[1];_=u[2]}if(D&&_<1e3){alert("You already have premium.");return}console.log(u,H,_);
if(o==-1){var S=prompt("Please enter your key");if(S!=null){eJ.ada(S,this.CI.bind(this));this.KV()}return}if(H==30&&_==1){var h=confirm("You can have 90 days for $15. Do you still want a 30 days version for $8?");
if(!h)return}eJ.order(H,_,this.CI.bind(this));this.KV()};f3.sK.prototype.CI=function(l){this.my();this.KV()};
f3.sK.prototype.qB=function(l){if(eJ.EY()){eJ.aa1();this.KV();this.my(null,null,null)}else eJ.qB(this.a8I.bind(this))};
f3.sK.prototype.a8I=function(){var l=new jJ(k.E.b,!0);l.data={q:k.L.a33};this.A(l)};f3.sK.prototype.KV=function(){var l=new jJ(k.E.b,!0);
l.data={q:k.L.akb};this.A(l)};f3.h3=function(l){f1.call(this);this.Z=M.a("div");var o=this.Z,D=this.apu=new cg([0,13,2],!1,null,!0),H;
D.O("click",this.adn,this);o.appendChild(D.Z);if(l.startsWith("::")){H=M.a("iframe");H.setAttribute("style","width:100%;height:1700px; background-color:white;");
H.setAttribute("src",l.slice(2))}else{H=M.a("div");H.innerHTML=l}o.appendChild(H)};f3.h3.prototype=new f1;
f3.h3.prototype.adn=function(l){var o=new jJ("showpage",!0);o.data={wN:0};this.A(o)};f3.h3.prototype.k=function(){this.apu.k()};
f3.au7="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IÄŒ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: HÃ¡lkova 483, 517 41 Kostelec nad OrlicÃ­, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>GoÄÃ¡rova tÅ™Ã­da 1754 / 48b, Hradec KrÃ¡lovÃ©</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
f3.a3p=function(l){var o=l[1]+" days, ";if(l[2]<1e3)return"Photopea Premium ("+o+l[2]+" user"+(l[2]==1?"":"s")+")";
else return"Photopea Distributor ("+o+l[2]+" views/month)"};f3.a86=function(l,o){l=["Bill To:"].concat(l);
var D=new ToPDF,H=595,_=842,u=40,S=18,h=12,F=500,n=100,R=400,m=0;function s(J,Q,A,f,W){O.font.Tf=W?"Helvetica-Bold":"Helvetica";
O.ctm=[1,0,0,1,Q,A];O.font.Tfs=f?f:h;D.PutText(O,J,0)}function Z(J,Q,A,f){for(var v=0;v<J.length;v++){s(J[v],Q,A-v*f,null,v==0)}}var O=UDOC.getState();
D.StartPage(0,0,H,_);s("INVOICE",H-u-140,_-u-30,30,!0);Z(["Bill From:","Ivan Kuckir","HÃ¡lkova 483, 517 41 Kostelec nad OrlicÃ­","Tax ID: CZ9011014309"],u,_-u-40,S);
var w=new Date(o[0]*1e3);Z(["Date: "+w.getDate()+". "+(w.getMonth()+1)+". "+w.getFullYear(),"Transaction ID: "+o[4]],H-u-140,_-u-40-S*2,S);
var V=l.join("");for(var v=0;v<V.length;v++)m=Math.max(m,V.charCodeAt(v));if(m>256){var q=4,i=M.a("canvas"),c=i.getContext("2d"),z=0;
c.font=h*q+"px sans-serif";for(var v=0;v<l.length;v++)z=Math.max(z,c.measureText(l[v]).width);var B=Math.round(z)+20,t=l.length*q*S+20;
i.width=B;i.height=t;c.font=h*q+"px sans-serif";for(var v=0;v<l.length;v++){c.font=(v==0?"bold ":"")+h*q+"px sans-serif";
c.fillText(l[v],10,(v+1)*q*S)}document.body.appendChild(i);var a=new Uint8Array(c.getImageData(0,0,B,t).data.buffer);
O.ctm=[B/q,0,0,t/q,u-10/q,_-u-40-100-t/q];D.PutImage(O,a,B,t);O.ctm=[1,0,0,1,0,0]}else Z(l,u,_-u-40-100,S);
O.colr=[.8,.8,.8];O.pth={cmds:["M","L","L","L","Z"],crds:[u,F,H-u,F,H-u,F-S,u,F-S]};D.Fill(O);O.colr=[0,0,0];
var I=[u,F,H-u,F,u,F-S,H-u,F-S,u,F-n,H-u,F-n,u,F,u,F-n,H-u,F,H-u,F-n,R,F,R,F-n],N=[];for(var v=0;v<I.length;
v+=4)N.push("M","L");O.pth={cmds:N,crds:I};D.Stroke(O);s("Order details",u+4,F-14);s(f3.a3p(o),u+4,F-S-14);
s("TOTAL:",u+4,F-n-14,null,!0);s("Price",H-u-50,F-14);s(o[3]+" USD",H-u-60,F-S-14);s(o[3]+" USD",H-u-60,F-n-14,null,!0);
s("www.Photopea.com",u,u);s("support@photopea.com",H-u-130,u);D.ShowPage();D.Done();return D.buffer};
function jr(){h8.call(this,[11,14],"addguides");this.Gj;this.Fy={og:{wc:0}};this.zt=null;var l=M.a("div","form");
this.body.appendChild(l);this.Sb=[];this.wC=new ei(null,["Hi"]);l.appendChild(this.wC.Z);M.wR(l);this.wC.O(k.E.B,this.HP,this);
this.zO=new g7([22,4,0],null,16);this.zO.O(k.E.B,this.Hm,this);this.gw=new g7([22,4,1],null,16);this.gw.O(k.E.B,this.Hm,this);
this.os=new bU(null,g.vL.Ez);this.os.O(k.E.B,this.Hm,this);l.appendChild(this.zO.Z);l.appendChild(this.os.Z);
M.wR(l);l.appendChild(this.gw.Z);this.ur=M.qh(this,l);this.O("closebtn",this.Qs,this)}jr.prototype=new h8;
jr.prototype.WU=function(l,o){return l!=null};jr.prototype.Iu=function(){return!0};jr.prototype.k=function(){h8.prototype.k.call(this);
this.zO.k();this.gw.k();this.os.k();this.ur.k()};jr.prototype.Ip=function(l,o){var D=l.og.wc;this.Fy.og.wc=D;
this.os.j(D)};jr.prototype.my=function(l,o){this.Gj=l;this.zt=JSON.stringify(l.we());this.Sb=[-1];var D=["Global"],H=l.root.children,_=l.NQ();
for(var v=0;v<H.length;v++){var u=H[v].U;if(u.add.artb){D.push(u.getName());this.Sb.push(H[v].index)}}this.wC.Ls(D);
this.wC.j(this.Sb.indexOf(_));this.HP()};jr.prototype.HP=function(){var l=this.Gj,o=l.we(),D=this.Sb[this.wC.l()],H=[0,0];
if(D!=-1){var _=l.R[D].IH();H=[_.x,_.y]}var u=function(S,h,l,F,n){var R=S[0],s=[];for(var v=0;v<R.length;
v++)if(S[1][v]==D&&R[v][0]==h)s.push(g.vL.oo(R[v][1]-H[h],l.on,F,n));s.sort(function(Z,O){return Z-O});
return s.join(", ")};this.zO.j(u(o,1,l,this.Fy,l._));this.gw.j(u(o,0,l,this.Fy,l.Q))};jr.prototype.Hm=function(l){if(l&&l.currentTarget==this.os)this.Fy.og.wc=this.os.l();
else{var o=this.afW(),D=this.Gj;D.l0(o);D.st=!0}this.HP()};jr.prototype.afW=function(){var l=this.Gj,o=l.we(),D=this.Sb[this.wC.l()],H=[0,0];
if(D!=-1){var _=l.R[D].IH();H=[_.x,_.y]}var u=[];for(var S=0;S<2;S++){var h=S==0?this.gw:this.zO,F=S==0?l.Q:l._,n=h.l().replace(/,/g," ").replace(/  +/g," ").trim(),R=n==""?[]:n.split(" ");
for(var v=0;v<R.length;v++)u.push([S,g.vL.azs(R[v],l.on,this.Fy,F)+H[S]])}for(var v=0;v<o[0].length;
v++)if(o[1][v]==D){o[0].splice(v,1);o[1].splice(v,1);v--}for(var v=0;v<u.length;v++){o[0].push(u[v]);
o[1].push(D)}return o};jr.prototype.Qs=function(l){var o=this.Gj;o.l0(JSON.parse(this.zt));o.st=!0;this.Gj=null};
jr.prototype._v=function(l){this.Hm(l);var o=new jJ(k.E.r,!0);o.S=p.e5;o.data={q:"gids",Ci:JSON.parse(this.zt),fY:this.Gj.we()};
this.Gj=null;this.close();this.A(o)};function fG(l){h8.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups"}[l],l);
this.Fy=null;this.Gj=null;var o=M.a("div","form");this.body.appendChild(o);o.setAttribute("style","width:300px");
this.NV=new c$("Source Images",!0,!0);o.appendChild(this.NV.Z);this.mN=new bU([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.sY=new km("Order images by name");this.sY.j(!0);var D=this.abm=fj.qG();for(var v=0;v<D.length;v++)if(fj.rU(D[v]).pa){D.splice(v,1);
v--}D.push("SVG","PDF");this.ES=new bU([12,50],D);this.TG=new kM;this.ES.O(k.E.B,this.R2,this);this.s_=new bU("Action Set",[]);
this.s_.O(k.E.B,this.Ip,this);this.nH=new bU("Action",[]);if(l=="pdfpres"){o.appendChild(this.mN.Z);
o.appendChild(this.sY.Z)}else{if(l=="batch"){o.appendChild(this.s_.Z);M.wR(o);o.appendChild(this.nH.Z);
M.EK(o)}o.appendChild(this.ES.Z);o.appendChild(this.TG.Z)}var H=["VAR0 PDF",[1,8]];if(l=="cformat")H="Convert Images";
if(l=="batch")H="Process Images";if(l=="mockups")H="Generate";var _=new cg(H,!0,null,!0);_.O("click",this.O3,this);
o.appendChild(_.Z);this.R2()}fG.prototype=new h8;fG.prototype.R2=function(l){var o=this.abm[this.ES.l()];
this.TG.HR(o)};fG.prototype.O3=function(l){var o=this.NV.l(),D=[],u=595,S=842,w;for(var H in o)D.push(H);
if(D.length==0){alert("No images selected");return}if(this.sY.l())D.sort();var _=this.mN.l(),h=new ToPDF,F=UDOC.getState(),n=this.abm[this.ES.l()],R=fj.rU(n),s=this.TG.l(),Z={},O=this.Gj;
if(this.id=="mockups"){if(O==null){alert("Open a document with smart objects");return}var m=O.R[O.T[0]];
if(m.add.SoLd==null){m=null;for(var v=0;v<O.R.length;v++)if(O.R[v].add.SoLd)m=O.R[v];if(m==null){alert("There are no smart objects in a current document.");
return}}O.T=[O.R.indexOf(m)];w=m.add.SoLd.Sz.v}for(var V=0;V<D.length;V++){var H=D[V],q=o[H],i=q[0]==255,c=fj.ZH(q.buffer),z=fj.rU(c),B=[{jH:new gt,data:new ArrayBuffer(0)}],t=null;
if(c=="psd"&&!R.pa)B=dx.anZ(q.buffer);else if(z.pa){t=new f9("file.psd");z.Zk(q.buffer,t);t.Vr();if(!R.pa){if(t.hU)dr.TJ(t,this.Fy.uh,this);
t.V();t.dh();B=[{jH:new gt(0,0,t.Q,t._),data:t.zG().buffer}]}}else B=z.Zk(q.buffer);if(this.id=="batch"){var a=new jJ(k.E.b,!0),I=this.Fy,N=I.Pg,J=N[this.s_.l()];
for(var v=0;v<B.length;v++){t=fj.Ns(H,[B[v]]);a.data={q:k.L.r8,nL:t};this.A(a);if(t.R.length==3)t.T=[1];
bt.awJ(t,N,J.T3[this.nH.l()].ND,J.ND,this);t.V();t.dh();B[v].jH=new gt(0,0,t.Q,t._);B[v].data=t.zG().buffer;
B[v].on=t.on;B[v].US=t.US;a.data={q:k.L.ZT,p7:t};this.A(a)}}if(this.id=="mockups"){var a=new jJ(k.E.yT,!0);
a.data={vS:"placedLayerEditContents",M1:{classID:"placedLayerEditContents"}};this.A(a);var Q=new jJ(k.E.r,!0);
Q.S=p.wU;Q.data={q:d.B4};this.A(Q);var A=new Uint8Array(B[0].data),f=B[0].jH,W=p.cA.in([A,f],new de(w.Wdth.v/f.Q,0,0,w.Hght.v/f._,0,0));
Q.S=p.wU;Q.data={q:d.sL,VY:{buffer:W.buffer,rect:W.rect}};this.A(Q);var a=new jJ(k.E.b,!0);a.data={q:k.L.D9};
this.A(a);a.data={q:k.L.ZT};this.A(a);B=[{data:O.zG().buffer,jH:new gt(0,0,O.Q,O._),on:O.on,US:O.US}];
Q.data={q:"h_stepbck"};Q.S=p.zo;this.A(Q)}var C=B[0].jH,j=new Uint8Array(B[0].data),K=C.Q,$=C._;if(this.id=="pdfpres"){var r=[[595,842],[842,595],[595,595],[595,0]][_];
if(_==3)r[1]=Math.round(r[0]*$/K);var u=r[0],S=r[1],U=Math.min(u/K,S/$);h.StartPage(0,0,u,S);F.ctm=[K*U,0,0,$*U,(u-K*U)/2,(S-$*U)/2];
h.PutImage(F,i?q:j,K,$);h.ShowPage()}else{var b=H.split("."),e;b.pop();b.push(n.toLowerCase());if(R.pa){if(t==null){t=fj.Ns(H,B);
t.Vr()}e=R.MJ(t,t.Q,t._,s,this.Fy)}else{var P=[];for(var v=0;v<B.length;v++){var L=B[v],Y=L.dD,X=0;if(Y){Y=Y.split(",");
if(Y[1])X=parseInt(Y[1])}P.push([L.data,X,L.on,L.ff,null,L.US])}e=R.MJ(P,K,$,s)}Z[b.join(".")]=new Uint8Array(e)}}if(this.id=="pdfpres"){h.Done();
iT.save(h.buffer,"file.pdf")}else{iT.save(UZIP.encode(Z),"images.zip")}};fG.prototype.my=function(l,o,D,H){this.Gj=l};
fG.prototype.Ip=function(l,o){if(o!=null){this.Fy=l;var D=l.Pg,H=[];for(var v=0;v<D.length;v++)H.push(D[v].ND);
this.s_.Ls(H)}else l=this.Fy;var D=l.Pg.length==0?[]:l.Pg[this.s_.l()].T3,H=[];for(var v=0;v<D.length;
v++)H.push(D[v].ND);this.nH.Ls(H)};fG.prototype.k=function(){h8.prototype.k.call(this);this.NV.k();this.mN.k();
this.sY.k()};function en(l){var o=at.names[l];if(o==null)o=jW.names[l];if(l=="aply")o=[2,12];if(l=="fade")o=[2,11];
if(l=="matc")o=[4,18];if(l=="blendOptions")o=[14,10];h8.call(this,o,"afw_"+l);this.xi=l;this.ol=null;
this.xF=null;this.zL=new cB[l];this.zL.O(k.E.B,this.YU,this);this.zL.parent=this;this.body.appendChild(this.zL.Z);
this.lP=new km([24,18,5]);this.lP.j(!0);this.lP.O(k.E.B,this.YU,this);this.o3=new cg([1,12,2],!0,null,!0);
this.o3.O("click",this.EN,this);this.ur=M.qh(this);if(this.i1())this.zL.p_(this.ur.Z);else{M.EA(this.zL.Z,"form");
M.EA(this.body,"flexrow");this.zL.Z.setAttribute("style","width:312px");var D=M.a("div");this.body.appendChild(D);
D.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");D.appendChild(this.ur.Z);D.appendChild(this.o3.Z);
D.appendChild(this.lP.Z)}this.O("closebtn",this.iD,this)}en.prototype=new h8;en.prototype.Iu=function(){return!0};
en.prototype.i1=function(){return this.zL!=null&&this.zL.Dq()};en.prototype.b8=function(){return this.i1()?new he(0,0):h8.prototype.b8()};
en.prototype.iL=function(l){return this.zL.iL(l)};en.prototype.hS=function(){return this.zL.hS()};en.prototype.GE=function(l,o,D,H,_){this.zL.GE(l,o,D,H,_)};
en.prototype.XR=function(l,o,D,H,_){this.zL.XR(l,o,D,H,_)};en.prototype.Jm=function(l,o,D,H,_){this.zL.Jm(l,o,D,H,_)};
en.prototype.WU=function(l,o){if(this.xi=="fade")return en.az7(l);return!0};en.prototype.EN=function(l){this.zL.j(at.ts(this.xi));
this.YU()};en.prototype.YU=function(l){this.t6({q:"edit",zh:this.zL.l(),gF:!this.lP.l()})};en.prototype.iD=function(l){this.t6({q:"cancel"})};
en.prototype._v=function(l){if(!this.lP.l()){this.lP.j(!0);this.YU()}this.xF=this.zL.l();if(this.i1())this.YU();
this.t6({q:"confirm"});this.close()};en.prototype.k=function(){h8.prototype.k.call(this);this.lP.k();
if(this.zL)this.zL.k();this.ur.k()};en.prototype.Ip=function(l,o){if(this.zL)this.zL.Ip(l,o)};en.prototype.WP=function(l,o,D,H){if(this.i1())this.zL.WP(H);
else h8.prototype.WP.call(this,l,o,D,H)};en.prototype.my=function(l,o,D,H){this.ol=o.ol;var _=l.add.lnk2?l.add.lnk2:[],u,S,h=new gt(0,0,l.Q,l._),F=l.R[l.T[0]],R=null;
u=F.buffer;S=F.rect;var n=l.f&&this.xi=="LqFy"&&o.ol==null;if(n){S=l.f.rect.clone();u=g.o(S.c()*4);g.Qo(F.buffer,F.rect,u,S)}if(this.i1()){R=l.zG(l.T[0]-1);
if(n){var s=g.o(S.c()*4);g.Qo(R,h,s,S);h=S.clone();R=s}}var Z=at.ts(this.xi),O=[_,l.Lx,l,D];if(o.ol==null){this.zL.j(Z,u,S,h,R,O);
if(jW.names[this.xi]){if(H.W(e_.zg)&&this.xF)this.zL.j(this.xF);var w=p.MW.getData(l),m=g.Pn(w[0].L0);
this.zL.LC(m)}}else{var V=!1,F=l.R[this.ol.U];if(F.pn()){var q=F.nN(l);u=q.buffer;S=q.rect;var i=F.add.SoLd.filterFX.v.filterFXList.v;
if(i[this.ol.index]){var c=i[this.ol.index].v;this.zL.j(this.xi=="blendOptions"?c.blendOptions.v:c.Fltr.v,u,S,h,R,O);
this.zL.LC(g.Pn(u));V=!0}}if(!V){this.zL.j(Z,u,S,h,R,O);this.zL.LC(g.Pn(u))}}if(!this.i1()){this.YU();
var z=this.zL;if(z&&z.bg&&z.bg[0]&&z.bg[0].c4&&Math.min(window.innerWidth,window.innerHeight)>500)z.bg[0].c4()}};
en.prototype.t6=function(l){var o=new jJ(k.E.r,!0);l.xi=this.xi;l.ol=this.ol;if(this.xi=="VaPo"){l.P=this.zL.l();
l.Ao=this.zL.a9g()}o.data=l;o.S=at.names[this.xi]||this.ol?p.tF:p.xw;o.iy=!0;this.A(o)};en.prototype.Av=function(l,o){if(!this.zL.Dq()){}else{this.body.style.padding="0";
this.zL.Av(l,o)}};en.az7=function(l){if(l==null)return!1;var o=l.I5();if(o==null||!(o.data instanceof Array)||o.data.length!=l.T.length)return!1;
for(var v=0;v<o.data.length;v++){var D=o.data[v];if(D.U<0&&l.Lx[-1-D.U])return!0;if(D.U==null||l.R[D.U]==null||l.R[D.U].Ih!=D.wE)return!1;
if(l.T.indexOf(D.U)==-1)return!1}return!0};function bH(){h8.call(this,[11,0],"camera");this.data=null;
this.XP=new he(1,1);this.a97=[];var l=M.a("div","form hbar");this.body.appendChild(l);this.aE1=new bU(null,[]);
this.kv=new bU([21,0],[[21,2],[21,1]]);l.appendChild(this.kv.Z);this.Mf=new bU(null,[]);this.Mf.O(k.E.B,this.aiz,this);
l.appendChild(this.Mf.Z);this.po=new cg([11,0],!1,null,!0);this.po.O("click",this.agI,this);l.appendChild(this.po.Z);
this.cz=new eW("");l.appendChild(this.cz.Z);this.stream=null;this.Pw=M.a("video","");this.Pw.setAttribute("autoplay","true");
this.body.appendChild(this.Pw);this.aew=this.aAf.bind(this);this.asn=this.ast.bind(this);this.anP=this.aj2.bind(this);
this.O("closebtn",this.ad2,this)}bH.prototype=new h8;bH.prototype.k=function(){h8.prototype.k.call(this);
this.kv.k();this.po.k();this.Av(this.pX,this.B9)};bH.prototype.zG=function(){var l=this.Pw.videoWidth,o=this.Pw.videoHeight,D=M.a("canvas","");
D.width=l;D.height=o;var H=D.getContext("2d");H.drawImage(this.Pw,0,0,l,o);var _=H.getImageData(0,0,l,o);
return{jH:new gt(0,0,l,o),data:_.data.buffer}};bH.prototype.agI=function(l){if(this.kv.l()==0)this.aCs();
else this.aoa()};bH.prototype.aoa=function(){var l=this.zG(),o={buffer:new Uint8Array(l.data),rect:l.jH},D=new jJ(k.E.r,!0);
D.iy=!0;D.S=p.wU;D.data={q:d.sL,VY:o};this.A(D);alert(cU.get([21,4]))};bH.prototype.aCs=function(){var l=this.zG(),o=fj.Ns("camera",[l]),D=new jJ(k.E.b,!0);
D.data={q:k.L.r8,nL:o};this.A(D);alert(cU.get([21,5]))};bH.prototype.my=function(l,o,D){navigator.mediaDevices.enumerateDevices().then(this.azx.bind(this))};
bH.prototype.azx=function(l){var o=this.a97=[],D=[];for(var v=0;v<l.length;v++)if(l[v].kind=="videoinput"){o.push(l[v]);
D.push("Camera "+o.length)}this.Mf.Ls(D);this.Mf.j(0);this.aiz()};bH.prototype.aiz=function(l){this.ad2();
var o={video:{deviceId:this.a97[this.Mf.l()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(o).then(this.aew).catch(this.asn);
else navigator.webkitGetUserMedia(o,this.aew,this.asn)};bH.prototype.aAf=function(l){this.stream=l;this.Pw.srcObject=l;
this.Pw.addEventListener("loadedmetadata",this.anP,!1)};bH.prototype.aj2=function(l){this.Pw.play();
this.Av(this.pX,this.B9)};bH.prototype.b8=function(l,o){return new he(0,0)};bH.prototype.Av=function(l,o){var D=this.Pw.videoWidth,H=this.Pw.videoHeight;
this.cz.j(D+" x "+H+" px");this.cz.Z.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.XP.pN(D,H);this.pX=l;this.B9=o;var _=l-28,u=o-28-30,S=this.XP.x/this.XP.y;if(_/u>S)_=u*S;else u=_/S;
this.Pw.setAttribute("style","display: block; width: "+Math.round(_)+"px; height:"+Math.round(u)+"px;")};
bH.prototype.ast=function(l){console.log("error",l);alert(cU.get([21,6]));this.close()};bH.prototype.ad2=function(l){if(this.stream!=null){var o=this.stream.getTracks();
for(var v=0;v<o.length;v++)o[v].stop();this.stream=null}};function cD(){h8.call(this,[7,8],"crange");
this.Gj=null;this.rQ={Ct:73,M:4.45,J:4};this.m7={Ct:73,M:4.45,J:4};this.body.style.width="20em";this.m0=new bU([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.m0.O(k.E.B,this.aBx,this);this.body.appendChild(this.m0.Z);this.hD=M.a("div","form");this.body.appendChild(this.hD);
var l=this.av4=2,o=this.Ll=[new h_([12,92],0,200),new ei([12,36],[[18,0],"\uFF0B","-"]),new h_([12,92],0,100,"%"),new gs("Min",0,255),new gs("Max",0,255)];
o[0].j(40);o[l].j(40);for(var v=0;v<o.length;v++){o[v].O(k.E.B,this.$u,this);o[v].parent=this}this.Pf=M.a("canvas");
this.body.appendChild(this.Pf);this.ur=M.qh(this,this.body)}cD.prototype=new h8;cD.prototype.WU=function(l,o){return l!=null};
cD.prototype.hS=function(){return!0};cD.prototype.Iu=function(){return!0};cD.prototype.aBx=function(l){var o=this.m0.l(),D=this.Ll,H=this.hD,_=0,u=D.length,S=this.av4;
if(o==0)u=S;else{_=S;D[_+1].j([0,100,190][o-1]);D[_+1].td(o!=1);D[_+2].j([60,150,255][o-1]);D[_+2].td(o!=3)}M.o7(H);
for(var v=_;v<u;v++){H.appendChild(D[v].Z)}this.$u()};cD.prototype.k=function(){h8.prototype.k.call(this);
this.ur.k();this.m0.k();for(var v=0;v<this.Ll.length;v++)this.Ll[v].k()};cD.prototype.GE=function(l,o,D,H,_){var u=l.w.vp(_.x,_.y);
this.amX(u.x,u.y)};cD.prototype.amX=function(l,o){var D=Math.min,H=Math.max,_=this.Gj,u=H(0,D(_.Q-1,Math.floor(l))),S=H(0,D(_._-1,Math.floor(o))),h=_.zG(),F=(S*_.Q+u)*4,n=h[F],R=h[F+1],s=h[F+2],Z=g.nU(n,R,s),O=this.Ll[1].l(),w=this.rQ,m=this.m7;
if(O==0){this.rQ=JSON.parse(JSON.stringify(Z));this.m7=Z}else if(O==1){w.Ct=D(w.Ct,Z.Ct);w.M=D(w.M,Z.M);
w.J=D(w.J,Z.J);m.Ct=H(m.Ct,Z.Ct);m.M=H(m.M,Z.M);m.J=H(m.J,Z.J)}else if(O==2){var V=(w.Ct+m.Ct)/2,q=(w.M+m.M)/2,i=(w.J+m.J)/2;
if(Z.Ct<V)w.Ct=H(w.Ct,Z.Ct+10);else m.Ct=D(m.Ct,Z.Ct-10);if(Z.M<q)w.M=H(w.M,Z.M+1);else m.M=D(m.M,Z.M-1);
if(Z.J<i)w.J=H(w.J,Z.J+1);else m.J=D(m.J,Z.J-1)}this.$u()};cD.prototype._v=function(l){var o=this.m0.l(),D=this.Ll,H={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(o==0){var _=this.rQ,u=this.m7;H.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:_.Ct},A:{t:"doub",v:_.M},B:{t:"doub",v:_.J}}};
H.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:u.Ct},A:{t:"doub",v:u.M},B:{t:"doub",v:u.J}}};H.Fzns={t:"long",v:D[0].l()}}else{o--;
var S=["shadows","midtones","highlights"][o];H.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][o]}};if(0<o)H[S+"LowerLimit"]={t:"long",v:D[3].l()};
if(o<2)H[S+"UpperLimit"]={t:"long",v:D[4].l()};H[S+"Fuzziness"]={t:"long",v:D[2].l()}}this.close();var h=new jJ(k.E.yT,!0);
h.data={vS:"colorRange",M1:H};this.A(h)};cD.prototype.my=function(l,o){this.Gj=l;this.amX(0,0);this.aBx()};
cD.prototype.$u=function(){var l=this.Gj,o=this.m0.l(),D=this.rQ,H=this.m7,_=this.Ll,u=_[0].l()/200,S=!1;
if(o>0){D=_[3].l();H=_[4].l();if(D>=H)D=H-1;S=!0;u=_[2].l()/100}var h=p.OK.Yo(l,D,H,u,S),F=h.rect,n=h.channel,R=this.Pf,s=R.getContext("2d"),Z=Math.floor(230*M.Y()),O=Math.floor(Z*(F._/F.Q));
R.width=Z;R.height=O;M.nY(R,Z,O);var w=g.o(n.length*4);g.M5(w,4294967295);for(var v=0;v<3;v++)g.Kl(n,w,v);
var m=p.cA.in([w,F],new de(Z/F.Q,0,0,O/F._,0,0)),V=m.rect,q=new ImageData(new Uint8ClampedArray(m.buffer.buffer),V.Q,V._);
s.putImageData(q,0,0)};function jO(){h8.call(this,[12,76,1],"createshape");this.g2=null;var l=M.a("div","form");
l.setAttribute("style","width:20em");this.body.appendChild(l);this._M=new dd(!0,!0,null,!0,!0);this._M.j(new he(100,100));
l.appendChild(this._M.Z);this.Pz=new km([19,5,3]);l.appendChild(this.Pz.Z);this.ur=M.qh(this,l)}jO.prototype=new h8;
jO.prototype._v=function(l){var o=this._M.l();this.g2.a28(this.g2.acl,o.x,o.y,this.Pz.l());this.close()};
jO.prototype.k=function(){if(this.g2)this.uX=cU.get([5,3])+": "+cU.get(this.g2.aiq);h8.prototype.k.call(this);
this.ur.k();this._M.k();this.Pz.k()};jO.prototype.my=function(l,o){this.g2=o;this.k();this._M.j(this._M.l(),l.on)};
function jm(){h8.call(this,[11,1],"colorpicker");this.Zq=null;this.iC=null;this.AS=null;this.CH=!1;this.od=!1;
this.aD5=[.9642,1,.8249];var l=M.a("div","flexrow"),S,h;this.body.appendChild(l);this.oh=new fw(256,!0);
this.oh.O(k.E.B,this.LW,this);l.appendChild(this.oh.Z);var o=M.a("div","form");o.setAttribute("style","width:14.5em; margin-left:1em;");
l.appendChild(o);var D=M.a("div","flexrow");o.appendChild(D);var H=M.a("div");D.appendChild(H);H.style="width:95px; margin-right:14px";
this.aiK=M.a("div","full");H.appendChild(this.aiK);this.akH=M.a("div","full");H.appendChild(this.akH);
var H=M.a("col");D.appendChild(H);H.style.width="80px";this.ur=M.qh(this,H);var D=M.a("div","flexrow");
o.appendChild(D);var _=M.a("div"),u=M.a("div");D.appendChild(_);D.appendChild(u);_.style=u.style="margin-left:14px; max-width:80px;";
S=["H","S","B"];h=_;this.iG=[];for(var v=0;v<3;v++){var F=0,n=360,R="\xB0";if(v!=0){n=100;R="%"}var s=new gs(S[v],F,n,R,0,!1,!0);
this.iG.push(s);s.O(k.E.B,this.agk,this);h.appendChild(s.Z);if(v==2)s.Z.style.marginBottom="8px"}S=["R","G","B"];
h=_;this.Cv=[];for(var v=0;v<3;v++){var s=new gs(S[v],0,255,null,0,!1,!0);this.Cv.push(s);s.O(k.E.B,this.aoH,this);
h.appendChild(s.Z)}S=["L","a","b"];h=u;this.Sg=[];for(var v=0;v<3;v++){var F=[0,-128,-128][v],n=[100,127,127][v],s=new gs(S[v],F,n,null,0,!1,!0);
s.j(0);this.Sg.push(s);s.O(k.E.B,this.aaH,this);h.appendChild(s.Z);if(v==2)s.Z.style.marginBottom="8px"}S=["C","M","Y","K"];
h=u;this.G2=[];for(var v=0;v<4;v++){var s=new gs(S[v],0,100,"%",0,!1,!0);s.j(0);this.G2.push(s);s.O(k.E.B,this.aAy,this);
h.appendChild(s.Z);if(v==3)s.Z.style.marginBottom="8px"}this.zO=new g7("#",null,4.5);this.zO.O(k.E.B,this.k9,this);
_.appendChild(this.zO.Z);this.zO.Z.style.marginRight="0";this.rw=M.a("input","fitem");this.rw.setAttribute("type","color");
this.rw.setAttribute("style","width:59px;  margin-left:19px;");this.rw.addEventListener("change",this.k9.bind(this),!1);
this.SH=new bl(9);this.SH.O(k.E.B,this.k9,this);o.appendChild(this.SH.Z);this.O("closebtn",this.iD,this);
this.Tk=!1}jm.prototype=new h8;jm.prototype.hS=function(){return!0};jm.prototype.b8=function(l,o){if(Math.min(l,o)>500)return null;
return new he(Math.max(0,Math.min(150,(l-484)/2)),Math.max(0,Math.min(150,(o-316)/2)))};jm.prototype.Av=function(l,o){this.oh.Av(Math.min(256,l-226),o)};
jm.prototype.k=function(l,o){h8.prototype.k.call(this);for(var v=0;v<3;v++){this.Cv[v].k();this.iG[v].k();
this.Sg[v].k()}for(var v=0;v<4;v++)this.G2[v].k();this.ur.k()};jm.prototype.LW=function(l){this.iC=this.oh.l();
this.update()};jm.prototype.GE=function(l,o,D,H,_){this.Tk=!0;this.acb(l,_)};jm.prototype.XR=function(l,o,D,H,_){if(!this.Tk)return;
this.acb(l,_)};jm.prototype.Jm=function(l,o,D,H,_){this.Tk=!1};jm.prototype.acb=function(l,o){this.iC=g.kJ(p.wg.pl(l,o,1),1);
this.update()};jm.prototype.aoH=function(l){var o=this.Cv,D=this.nv(parseInt(o[0].l())),H=this.nv(parseInt(o[1].l())),_=this.nv(parseInt(o[2].l()));
this.iC={$:D/255,H:H/255,J:_/255};this.update()};jm.prototype.agk=function(l){var o=this.iG,D=this.zs(parseInt(o[0].l())/360),H=this.zs(parseInt(o[1].l())/100),_=this.zs(parseInt(o[2].l())/100);
this.iC=g.cO(D,H,_);this.update()};jm.prototype.aAy=function(l){var o=this.G2,D=[];for(var v=0;v<4;v++){var H=this.agw(parseInt(o[v].l()));
o[v].j(H);D.push(H/100)}var _=g.IG(D);this.iC={$:_[0],H:_[1],J:_[2]};this.update(!0)};jm.prototype.aaH=function(l){var o=this.Sg,D=parseInt(o[0].l()),H=parseInt(o[1].l()),_=parseInt(o[2].l()),u=g.Wn(D,H,_);
this.iC={$:u.$/255,H:u.H/255,J:u.J/255};this.update()};jm.prototype.k9=function(l){var o;if(l.currentTarget==this.SH)o=this.SH.l();
else{o=l.currentTarget==this.zO?this.zO.l():this.rw.value;if(o.charAt(0)=="#")o=o.slice(1);if(o.length==3)o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2];
o=g.aBn(o)}this.iC=g.kJ(o,1);this.update()};jm.prototype._v=function(l){this.an8();var o=g.V$(this.iC,1);
this.AS(o);this.close();this.od=!1;this.iC=null};jm.prototype.iD=function(l){this.an8();if(this.CH)this.AS(g.V$(this.Zq,1));
this.od=!1;this.iC=null};jm.prototype.an8=function(l){var o=new jJ(k.E.b,!0);o.data={q:k.L.acn};this.A(o)};
jm.prototype.Ip=function(l,o){var D=jt.cq(l,o);if(D!=null)this.SH.j(D);if(o!=is.rY)return;if(this.iC!=null){this.iC=g.kJ(D,1);
this.update()}};jm.prototype.my=function(l,o){var D=g.kJ(o.cr,1);if(this.iC==null){var H=new jJ(k.E.b,!0);
H.data={q:k.L.yx,oD:"crosshair",push:!0};this.A(H);this.Tk=!1;this.AS=o.k_;this.CH=!1;this.od=o.z6;this.Zq=JSON.parse(JSON.stringify(D));
this.akH.setAttribute("style","height:2.3em;background-color:#"+g.Bi(o.cr)+";")}this.iC=D;this.update()};
jm.prototype.update=function(l){var o=this.iC,D=g.V$(o,1);this.zO.j(g.Bi(D));this.rw.value="#"+g.Bi(D);
this.aiK.setAttribute("style","height:2.3em;background-color:#"+g.Bi(D)+";");var H=this.Cv;H[0].j(Math.round(o.$*255));
H[1].j(Math.round(o.H*255));H[2].j(Math.round(o.J*255));var _=g.UM(o.$,o.H,o.J);H=this.iG;H[0].j(Math.round(_.B9*360));
H[1].j(Math.round(_.lv*100));H[2].j(Math.round(_.zh*100));var u=g.nU(o.$*255,o.H*255,o.J*255,this.aD5);
H=this.Sg;H[0].j(Math.round(u.Ct));H[1].j(Math.round(u.M));H[2].j(Math.round(u.J));if(l==null){var S=g.xY([o.$,o.H,o.J]);
H=this.G2;H[0].j(Math.round(S[0]*100));H[1].j(Math.round(S[1]*100));H[2].j(Math.round(S[2]*100));H[3].j(Math.round(S[3]*100))}this.oh.j(o);
if(this.od){this.AS(g.V$(this.iC,1));this.CH=!0}};jm.prototype.agw=function(l){return Math.max(0,Math.min(100,l))};
jm.prototype.nv=function(l){return Math.max(0,Math.min(255,l))};jm.prototype.zs=function(l){return Math.max(0,Math.min(1,l))};
function bk(){h8.call(this,[11,2],"contoureditor");this.a1w=null;this.Hz=null;this.response=null;this.Y_=M.a("div","cell");
this.body.appendChild(this.Y_);this.iu=M.a("div","cell padded");this.body.appendChild(this.iu);var l=M.a("div","bordered padded vmargin");
this.Y_.appendChild(l);this.zL=new b4(null,null,!0);this.zL.O(k.E.B,this.Of,this);l.appendChild(this.zL.Z);
this.ur=M.qh(this,this.iu);this.O("closebtn",this.nw,this)}bk.prototype=new h8;bk.prototype._v=function(){this.close()};
bk.prototype.k=function(){h8.prototype.k.call(this);this.ur.k();this.zL.k()};bk.prototype.Of=function(l){this.Hz.Crv.v=this.zL.l();
this.response(this.Hz)};bk.prototype.nw=function(l){this.response(this.a1w)};bk.prototype.my=function(l,o){this.a1w=JSON.parse(JSON.stringify(o.T3));
this.Hz=o.T3;this.response=o.response;this.zL.j(this.Hz.Crv.v)};function hK(){h8.call(this,[11,4],"duplinto");
this.p7=null;this.Rw=null;this.$X=null;var l=M.a("div","form");l.setAttribute("style","max-width:26em");
this.body.appendChild(l);this.xt=new bU([12,43],["abc","def"]);this.xt.O(k.E.B,this.FS,this);l.appendChild(this.xt.Z);
M.wR(l);this.tA=new bU([1,16,0],["abc","def"]);this.tA.O(k.E.B,this.FS,this);l.appendChild(this.tA.Z);
M.wR(l);this.t9=new g7([12,48],null,14);l.appendChild(this.t9.Z);this.ur=M.qh(this,l)}hK.prototype=new h8;
hK.prototype.Iu=function(){return!0};hK.prototype.k=function(){h8.prototype.k.call(this);this.ur.k();
this.xt.k();this.t9.k()};hK.prototype.FS=function(l){if(l&&l.target==this.tA)return;var o=this.xt.l(),D=this.Rw[o],H=this.p7,_=D!=null&&D.add.artd!=null;
for(var v=0;v<H.T.length;v++)if(H.R[H.T[v]].add.artb)_=!1;this.t9.td(o==this.Rw.length);this.tA.td(_);
if(_){var u=D.root.children,S=[],h=this.$X=[];for(var v=0;v<u.length;v++){var F=u[v].U;if(F.add.artb)S.push(F.getName());
h.push(u[v].index)}this.tA.Ls(S);this.tA.j(0)}else this.$X=null};hK.prototype.my=function(l,o,D){this.p7=l;
this.Rw=D;this.t9.j(l.T.length==0?"Layer":l.R[l.T[0]].getName());var H=[];for(var v=0;v<D.length;v++){var _=D[v].name;
H.push(_.length<30?_:_.slice(0,27)+"...")}H.push([11,7]);this.xt.Ls(H);this.xt.j(D.indexOf(l));this.FS(null)};
hK.prototype._v=function(l){var o=this.xt.l();if(o==this.Rw.length){var D=new f9(this.t9.l()+".psd"),H=this.p7.Q,_=this.p7._,u=this.p7.NQ();
if(u!=-1){var S=this.p7.R[u].IH();H=S.Q;_=S._}D.Q=H;D._=_;D.buffer=g.o(D.Q*D._*4);var h=D.O7();h.FH("Background");
D.MQ([h]);var F=new jJ(k.E.b,!0);F.iy=!0;F.data={q:k.L.r8,nL:D};this.A(F)}var n=this.p7.OS(null,this.p7!=this.Rw[o]),F=new jJ(k.E.r,!0);
F.data={q:d.Di,R:n,vr:this.p7,YH:this.Rw[o]};if(this.$X)F.data.pj=this.$X[this.tA.l()];F.S=p.wU;F.iy=!0;
this.A(F);this.close()};function fu(){h8.call(this,[1,9],"eassets");this.Fy=null;this.h7=null;var l=this.body;
M.EA(l,"form");l.style.width="32em";this.m0=new ei(null,["Layers","Combinations"]);this.m0.O(k.E.B,this.HP,this);
l.appendChild(this.m0.Z);M.EK(l);this.JS=M.a("span");l.appendChild(this.JS);this.Vh=M.a("div");l.appendChild(this.Vh);
var o=M.a("div"),D=M.a("div","flexrow");this.a5m=[o,D];this.ja=[new km("Only layers / folders, whose name starts with \"-e-\""),new km("Remove parts outside the canvas"),new km("Trim transparent parts")];
for(var v=0;v<3;v++){var H=this.ja[v];H.j(!0);H.O(k.E.B,this.HP,this);o.appendChild(H.Z);M.wR(o)}this.Uo=new hi([12,14,0],["1x","2x","3x","4x"]);
this.Uo.j([!0,!1,!1,!1]);o.appendChild(this.Uo.Z);var _=M.a("div");D.appendChild(_);var u=M.a("img");
u.setAttribute("src",eJ.NO("img/nft.png"));u.style.width="150px";D.appendChild(u);var S=M.a("span");
S.textContent="File Names:";_.appendChild(S);this.Qn=new hi(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
_.appendChild(this.Qn.Z);this.Qn.j([!0,!1,!1]);M.EK(l);this.kZ=["PNG","JPG","SVG","TIFF","TGA"];this.pB=new bU([12,50],this.kZ);
this.pB.O(k.E.B,this.R2,this);l.appendChild(this.pB.Z);this.TG=new kM;l.appendChild(this.TG.Z);this.ur=new cg([1,9],!0,null,!0);
this.ur.O("click",this._v,this);l.appendChild(this.ur.Z);this.O("closebtn",this.e3,this)}fu.prototype=new h8;
fu.prototype.R2=function(l){this.TG.HR(this.kZ[this.pB.l()],!1,!1,!1,this.h7.zf()!=null)};fu.prototype.e3=function(l){this.h7=null};
fu.prototype.k=function(){h8.prototype.k.call(this);this.pB.k();this.Uo.k();this.ur.k();this.TG.k()};
fu.prototype.my=function(l,o,D){this.h7=l;this.HP()};fu.prototype.HP=function(l){var o=this.m0.l(),D;
M.o7(this.Vh);this.Vh.appendChild(this.a5m[o]);if(o==0){var H=this.afg();D=H.length+" exportable layers"}else{var H=this.aps();
D=H[1]+" combinations ("+H[0].join(" \xD7 ")+")"}this.JS.textContent="- - - "+D;this.R2(null)};fu.prototype.afg=function(){var l=this.ja[0].l(),o=[],D=this.h7;
for(var v=0;v<D.R.length;v++){var H=D.R[v],_=H.getName();if(!l&&!H.Cl()&&!H.rect.lh()||_.startsWith("-e"))o.push(v)}return o};
fu.prototype.aps=function(){var l=this.h7,o=l.root.children,D=[],H=1,_=[];for(var v=0;v<o.length;v++){var u=o[v],S=u.U;
if(S.Cl()){var h=u.children.length;D.push(h);H*=h;_.push(u.index)}S}return[D,H,_]};fu.prototype.Ip=function(l,o){this.Fy=l};
fu.prototype._v=function(l){var o=this.h7,D=this.m0.l(),H=[this.kZ[this.pB.l()]],_=[this.TG.l()],u={};
if(D==0){var S=this.Uo.l(),h={},F=this.afg();if(F.length==0){alert("No layers to export.");return}var n=[this.ja[1].l(),this.ja[2].l()];
for(var v=0;v<F.length;v++){var R=F[v],s=o.R[R],Z=s.getName();if(h[Z]!=null){h[Z]++;Z+=" "+h[Z]}else h[Z]=1;
var O=s.zd();s.rm(!0);for(var w=0;w<S.length;w++){if(!S[w])continue;var m=w+1,V=p.JI.a2o(o,H,m,this.Fy,R,_,n);
for(var q=0;q<H.length;q++){var i=H[q],c=Z.slice(Z.startsWith("-e-")?3:0)+(m==1?"":"@"+m+"x")+"."+i.toLowerCase();
if(V[q])u[c]=new Uint8Array(V[q])}}s.rm(O)}}else{var O=[];for(var v=0;v<o.R.length;v++)O.push(o.R[v].zd());
var z=this.aps(),B=z[0],F=z[2],t=[];function a(Q,R,A,f){if(R==Q.length){f.push(A.slice(0));return}var W=Q[R];
for(var v=0;v<W;v++){A.push(v);a(Q,R+1,A,f);A.pop(v)}}a(B,0,[],t);var I=this.Qn.l().indexOf(!0);this.H8=[t,u,F,H,_,O,I,this.agx.bind(this),0,0];
this.agx();return}var N=UZIP.encode(u),J=new jJ(k.E.b,!0);J.data={q:k.L.r1,data:N,name:"assets.zip"};
this.A(J)};fu.prototype.agx=function(){var l=this.H8,o=l[0],D=l[1],H=this.h7,_=l[2],u=l[3],S=l[4],h=l[5],F=l[6],n=l[7],R=0;
while(o.length!=0&&R<1e3){var s=Date.now(),Z=o.shift(),O=[];for(var v=0;v<Z.length;v++){var w=H.root.sl(_[v]);
for(var m=0;m<w.children.length;m++)w.children[m].U.rm(!1);var V=w.children[Z[v]].U;O.push(F==2?V.getName():w.U.getName()+Z[v]);
V.rm(!0)}H.V();H.dh();var q=(F==0?Z:O).join("-")+"."+u[0].toLowerCase();D[q]=new Uint8Array(fj._Q(H,u[0],H.Q,H._,S[0],this.Fy));
l[8]++;l[9]+=D[q].length;R+=Date.now()-s}if(o.length!=0){alert(l[8]+" done, "+ke.g4(l[9])+".",800);setTimeout(n,35);
return}for(var v=0;v<H.R.length;v++)H.R[v].rm(h[v]);H.V();var i=UZIP.encode(D),c=new jJ(k.E.b,!0);c.data={q:k.L.r1,data:i,name:"assets.zip"};
this.A(c)};function h2(){h8.call(this,"Export Color Lookup Tables","exlut");this.Fy=null;this.h7=null;
var l=M.a("div","form");l.setAttribute("style","width:20em");this.body.appendChild(l);this.ja=[new gs("Grid Points",1,256),new ei([12,50],[".CUBE"])];
var o=[16,0];for(var v=0;v<this.ja.length;v++){var D=this.ja[v];D.j(o[v]);D.parent=this;D.O(k.E.B,this.HP,this);
l.appendChild(D.Z);M.wR(l)}this.ur=M.qh(this,l);this.O("closebtn",this.e3,this)}h2.prototype=new h8;
h2.prototype.WU=function(l,o){if(Math.min(l.Q,l._)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(l.R.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};h2.prototype.e3=function(l){this.h7=null};h2.prototype.Ip=function(l,o){this.Fy=l};
h2.prototype.my=function(l,o,D){this.h7=l};h2.prototype._v=function(){var l=this.h7,o=this.ja[0].l(),D=[],H=new gt(0,0,l.Q,l._),_=g.o(o*o*4),u=_.slice(0),S=new gt(l.Q-o>>>1,l._-o>>>1,o,o),h=l.R[0],F=h.buffer,n=h.rect;
h.rect=S;h.buffer=_;for(var R=0;R<o;R++){this.a4U(o,R,_);h.V(S);l.V(S);var s=l.zG();g.Qo(s,H,u,S);for(var Z=0;
Z<o;Z++)for(var O=0;O<o;O++){var w=Z*o+O<<2;D.push(u[w]/255,u[w+1]/255,u[w+2]/255)}}var m=ik.axa(D,o,l.name);
iT.save(m,l.name.split(".")[0]+".CUBE");h.buffer=F;h.rect=n;h.V();l.V()};h2.prototype.a4U=function(l,o,D){var H=255/(l-1),_=Math.round(o*H);
for(var u=0;u<l;u++)for(var S=0;S<l;S++){var h=u*l+S<<2;D[h]=Math.round(S*H);D[h+1]=Math.round(u*H);
D[h+2]=_;D[h+3]=255}};h2.prototype.k=function(){h8.prototype.k.call(this);for(var v=0;v<this.ja.length;
v++)this.ja[v].k();this.ur.k()};function jY(){h8.call(this,[1,14],"finfo");this.kV=null;this.Ca=null;
this.w8=null;this.ID=M.a("div","form scrollable label12");this.ID.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.ID);var l=M.a("div","form");this.body.appendChild(l);this.$O=new bU(null,["Hello"]);
l.appendChild(this.$O.Z);this.ala=new cg("Add Parameter",!1,null,!0);l.appendChild(this.ala.Z);this.ala.O("click",this.Fq,this);
this.x7=new cg("=== S A V E ===",!1,null,!0);l.appendChild(this.x7.Z);this.x7.O("click",this.Qb,this);
this.aoe=""}jY.prototype=new h8;jY.prototype.b8=function(l,o){return l<450||o<450?new he(0,0):new he(150,100)};
jY.prototype.Fq=function(l){if(this.w8.length==0)return;var o=this.w8[this.$O.l()],D=this.WQ();D[o]=j9.Tf[o][0];
this.ZQ(D);this.Ca[o].Z.scrollIntoView();this.Ca[o].c4()};jY.prototype.Kg=function(l){var o=this.WQ();
delete o[l.currentTarget.a3B];this.ZQ(o)};jY.prototype.Qb=function(l){var o=this.WQ(),D=this.kV,H=!0;
for(var _ in D)if(JSON.stringify(D[_])!=JSON.stringify(o[_]))H=!1;for(var _ in o)if(JSON.stringify(D[_])!=JSON.stringify(o[_]))H=!1;
if(H)return;var u=new jJ(k.E.r,!0);u.S=p.wU;u.data={q:d.w3,iT:o};this.A(u);this.kV=o;this.ZQ(o)};jY.aA_=function(l){function o(_){var u=_.toLowerCase();
return _==u}var D=l.split(":").pop();for(var H=1;H<D.length-1;H++){if(D[H]==D[H].toUpperCase()&&(o(D[H+1])||o(D[H-1]))){D=D.slice(0,H)+" "+D.slice(H);
H++}}return D};jY.prototype.my=function(l,o){this.kV=l.ff;this.ZQ(l.ff)};jY.prototype.ZQ=function(l){var o=this.ID,_=0;
M.o7(o);var D=this.Ca={},H=["tiff","exif","exif:GPS"],u=this.w8=[],S=[];for(var h in j9.Tf){var F=jY.aA_(h),n=0,R=15,s=null;
if(l[h]==null){if(j9.Tf[h].length!=1||h=="photoshop:Credit"||h=="photoshop:Source"){u.push(h);S.push(F)}continue}for(var v=0;
v<H.length;v++)if(h.startsWith(H[v]))n=v;if(n!=_){M.EK(o);_=n}if(h=="tiff:ImageDescription"||h=="dc:Keywords"){R=18.5;
s=3}var Z=new g7(F,null,R,s);D[h]=Z;var O=l[h];if(O instanceof Array)O=O[1]==0?"---":O[0]+"/"+O[1];var w=new cg("\u2716",null,cU.get([5,4]));
o.appendChild(w.Z);w.O("click",this.Kg,this);w.a3B=h;Z.j(O);o.appendChild(Z.Z);M.wR(o);if(h=="exif:GPSLongitude"&&l["exif:GPSLatitude"]){this.aoe=jY.ajL(l["exif:GPSLatitude"])+","+jY.ajL(l["exif:GPSLongitude"]);
var m=new cg("Show on map",!1,null,!0);o.appendChild(m.Z);M.wR(o);m.O("click",this.avY,this)}}this.$O.Ls(S);
this.$O.j(0)};jY.prototype.WQ=function(){var l=this.Ca,o=j9.Tf,D={};for(var H in o){var _=o[H][0],u=typeof _;
if(_==null||l[H]==null)continue;var S=l[H].l(),h="The value of \""+jY.aA_(H)+"\" must ";if(u=="number"){S=parseFloat(S);
if(isNaN(S)){alert(h+"be a number.");S=_}}else if(_ instanceof Array&&_.length==2){if(S.indexOf("/")==-1){alert(h+"be a fraction.");
S=_.slice(0)}else{S=S.split("/").map(parseFloat);if(isNaN(S[0])||isNaN(S[1])){S=_.slice(0)}}}D[H]=S}return D};
jY.ajL=function(l){var o=l.length,D=l.slice(0,o-1).split(",").map(parseFloat),H=l.slice(o-1),_=D[0]+D[1]/60+D[2]/3600;
if(H!="N"&&H!="E")_=-_;return _};jY.prototype.avY=function(l){window.open("https://maps.google.com?q="+this.aoe,"Map")};
function bq(){h8.call(this,[11,5],"gradienteditor");this.Zq=null;this.iC=null;this.uj=null;this.AS=null;
this.CH=!1;this.od=!1;this.Ex=null;this._s=null;this.aY=-1;this.Sd=-1;this.Xr=0;this.qn=this.sA.bind(this);
this.Gx=this.t7.bind(this);this.Pf=M.a("canvas");this.Ig=this.Pf.getContext("2d");this.Pf.setAttribute("style","display:block");
this.t0=null;M.zl(this.Pf);M.GY(this.Pf,this.pm.bind(this));this.gx=M.a("div","form");this.i3=M.a("div");
this.jT=M.a("div","form");this.UX=M.a("div");this.xn=new bU([12,44],[[15,10,0],[24,6]]);this.xn.O(k.E.B,this.EE,this);
this.body.appendChild(this.xn.Z);M.EK(this.body);var l=this.gx;this.Mq=new gs([19,3,3],0,100,"%");this.Mq.O(k.E.B,this.EE,this);
this.Mq.parent=this;l.appendChild(this.Mq.Z);M.wR(l);this.aqG=new eW([12,0]);l.appendChild(this.aqG.Z);
this.V7=M.a("div","bordered padded noalign");l.appendChild(this.V7);this.S$=new gs([12,0],0,100,"%");
this.S$.parent=this;this.S$.O(k.E.B,this.EE,this);this.V7.appendChild(this.S$.Z);this.uS=new gs([12,40],0,100,"%");
this.uS.parent=this;this.uS.O(k.E.B,this.EE,this);this.V7.appendChild(this.uS.Z);this.O9=new cg([5,4],!1,null,!0);
this.O9.O("click",this.agE,this);this.V7.appendChild(this.O9.Z);l.appendChild(this.i3);this.axT=new eW([13,0]);
l.appendChild(this.axT.Z);this.kH=M.a("div","bordered padded noalign");l.appendChild(this.kH);this.XE=new bU([12,44],[[12,45],[12,46],[12,47]]);
this.XE.O(k.E.B,this.EE,this);this.kH.appendChild(this.XE.Z);this.ak=new jv(!0);this.ak.parent=this;
this.ak.O(k.E.B,this.EE,this);this.kH.appendChild(this.ak.Z);this.bR=new gs([12,40],0,100,"%");this.bR.parent=this;
this.bR.O(k.E.B,this.EE,this);this.kH.appendChild(this.bR.Z);this.Hl=new cg([5,4],!1,null,!0);this.Hl.O("click",this.agH,this);
this.kH.appendChild(this.Hl.Z);var l=this.jT;this.qW=new gs("Roughness",0,100,"%");this.qW.O(k.E.B,this.EE,this);
this.qW.parent=this;l.appendChild(this.qW.Z);l.appendChild(this.UX);this.mz=new cg([25,1,2],!1,null,!0);
this.mz.O("click",this.EE,this);l.appendChild(this.mz.Z);this.ur=M.qh(this);this.O("closebtn",this.iD,this)}bq.prototype=new h8;
bq.prototype.iD=function(l){if(this.CH)this.AS(this.Zq)};bq.prototype.k=function(){h8.prototype.k.call(this);
this.ur.k();this.Mq.k();this.aqG.k();this.axT.k();this.O9.k();this.Hl.k();this.S$.k();this.uS.k();this.XE.k();
this.bR.k();this.mz.k()};bq.prototype.Ip=function(l,o){this.uj=l;if(o==is.rY)this.G6()};bq.prototype.my=function(l,o){this.iC=JSON.parse(JSON.stringify(o.G));
this.Zq=JSON.parse(JSON.stringify(o.G));this.Ex=this._s=null;this.AS=o.k_;this.CH=!1;this.od=o.z6;this.G6();
this.Xt()};bq.prototype._v=function(l){var o=this.iC;this.AS(o);this.close()};bq.prototype.iL=function(l){return l==e_.Ab||l==e_.O1};
bq.prototype.WP=function(l,o,D,H){if(H.W(e_.Ab)||H.W(e_.O1)){if(this._s)this.agE();if(this.Ex)this.agH()}};
bq.prototype.agE=function(l){var o=this.iC.Trns.v;if(this._s==null||o.length==1)return;o.splice(o.indexOf(this._s),1);
this._s=null;this.G6();this.Xt()};bq.prototype.agH=function(l){var o=this.iC.Clrs.v;if(this.Ex==null||o.length==1)return;
o.splice(o.indexOf(this.Ex),1);this.Ex=null;this.G6();this.Xt()};bq.prototype.G6=function(){var l=this.Pf,o=this.Ig;
if(this.iC==null)return;var D=M.Y();l.width=Math.floor(410*D);l.height=Math.floor(70*D);M.nY(l,l.width,l.height);
l.style.marginTop="8px";this.t0=new gt(0,0,Math.floor(380*D),Math.floor(32*D));this.t0.x=Math.floor((l.width-this.t0.Q)/2);
this.t0.y=Math.floor((l.height-this.t0._)/2);var H=this.t0,_=H.Q,u=H._,S=H.x,h=H.y,F=new gt(0,0,_,u),n=o.getImageData(0,0,_,u),R=new Uint8Array(n.data.buffer);
g._x(R,_,u,8);var s=g.o(_*u*4);g.G.Wl(this.iC,s,F,[1/_,0,0,1/u],_/2,u/2,!1,0,this.uj.Os,this.uj.qg);
g.z.JM("norm",s,H,R,H,H,1);o.clearRect(0,0,l.width,l.height);o.putImageData(n,S,h);var Z=this.iC;if(Z.Clrs){var O=Z.Trns.v,w=Z.Clrs.v,m=g.G.pD(Z,this.uj.Os,this.uj.qg),V=Math.round(6*M.Y()),q=Math.round(14*M.Y()),i=this._s?this._s.v:null,c=this.Ex?this.Ex.v:null;
for(var v=0;v<O.length;v++){var z=O[v].v,B=Math.round(255-255*z.Opct.v.val/100);if((z==i||O[v-1]&&O[v-1].v==i||v==this.Sd)&&v!=0){o.fillStyle="#000000";
o.fillRect(S-3+_*(O[v-1].v.Lctn.v+(z.Lctn.v-O[v-1].v.Lctn.v)*z.Mdpn.v/100)/4096,h-6-2,6,6)}if(z==i){o.fillStyle="#ffffff";
o.fillRect(S-V+_*(z.Lctn.v/4096)-2,h-2-q-2,2*V+4,q+4)}o.fillStyle="rgb("+B+","+B+","+B+")";o.fillRect(S-V+_*(z.Lctn.v/4096),h-2-q,2*V,q)}for(var v=0;
v<w.length;v++){var t=w[v].v,a=m[0][v][0];if((t==c||w[v-1]&&w[v-1].v==c||v==this.aY)&&v!=0){o.fillStyle="#000000";
o.fillRect(S-3+_*(w[v-1].v.Lctn.v+(t.Lctn.v-w[v-1].v.Lctn.v)*t.Mdpn.v/100)/4096,h+u+2,6,6)}if(t==c){o.fillStyle="#ffffff";
o.fillRect(S-V+_*(t.Lctn.v/4096)-2,h+u+2-2,2*V+4,q+4)}o.fillStyle="rgb("+Math.round(a.$)+", "+Math.round(a.H)+","+Math.round(a.J)+")";
o.fillRect(S-V+_*(t.Lctn.v/4096),h+u+2,2*V,q)}}if(this.od){this.AS(this.iC);this.CH=!0}};bq.prototype.Xt=function(){var l=this.iC,o=l.Clrs?0:1;
this.xn.j(o);if(M.Ve(this.gx))this.body.removeChild(this.gx);if(M.Ve(this.jT))this.body.removeChild(this.jT);
(o==0?this.i3:this.UX).appendChild(this.Pf);if(o==0){this.body.appendChild(this.gx);this.Mq.j(Math.round(100*l.Intr.v/4096));
var D=l.Trns.v,H=l.Clrs.v,_=this._s!=null,u=this.Sd!=-1;this.S$.td(_);this.uS.td(_||u);this.O9.td(_);
if(_){this.V7.setAttribute("style","");var S=this._s.v;this.uS.j(Math.round(100*S.Lctn.v/4096));this.S$.j(S.Opct.v.val)}if(u)this.uS.j(D[this.Sd].v.Mdpn.v);
var _=this.Ex!=null,u=this.aY!=-1;this.XE.td(_);this.ak.td(_);this.bR.td(_||u);this.Hl.td(_);if(_){this.kH.setAttribute("style","");
var h=this.Ex.v;this.bR.j(Math.round(100*h.Lctn.v/4096));var F=h.Type.v.Clry;this.XE.j(["FrgC","BckC","UsrS"].indexOf(F));
if(F=="FrgC")this.ak.BM(this.uj.Os);if(F=="BckC")this.ak.BM(this.uj.qg);if(F=="UsrS")this.ak.j(h.Clr.v)}if(u)this.bR.j(H[this.aY].v.Mdpn.v)}else{this.body.appendChild(this.jT);
this.qW.j(Math.round(100*l.Smth.v/4096))}this.body.appendChild(this.ur.Z)};bq.prototype.EE=function(l){var o=this.iC,D=o.Clrs?0:1;
if(l.target==this.xn){var H=D==0?JSON.parse(cq.TB.ail).v:at.ts("grdm").Grad.v;this.iC=H;this.Xt();this.G6();
return}if(D==0){o.Intr.v=Math.round(4096*this.Mq.l()/100);var _=o.Trns.v,u=o.Clrs.v;if(this._s!=null){var S=this._s.v;
S.Lctn.v=Math.round(4096*(this.uS.l()/100));S.Opct.v.val=this.S$.l()}if(this.Ex!=null){var h=this.Ex.v;
h.Lctn.v=Math.round(4096*(this.bR.l()/100));if(l.target==this.ak)this.XE.j(2);var F=this.XE.l();h.Type.v.Clry=["FrgC","BckC","UsrS"][F];
if(F==2)h.Clr={t:"Objc",v:this.ak.l()};else if(h.Clr)delete h.Clr}if(this.Sd!=-1)_[this.Sd].v.Mdpn.v=this.uS.l();
if(this.aY!=-1)u[this.aY].v.Mdpn.v=this.bR.l()}else{o.Smth.v=Math.round(4096*this.qW.l()/100);if(l.target==this.mz)o.RndS.v=Math.floor(Math.random()*4294967295)}this.G6()};
bq.prototype.pm=function(l){var o=M.Kx(l,this.Pf),D=this.t0,H=(o.x*M.Y()-D.x)/D.Q,_=(o.y*M.Y()-D.y)/D._,u=this.iC.Trns.v,S=this.iC.Clrs.v,h=null,F=null,n=-1,R=-1;
if(_<1)for(var v=0;v<u.length;v++){var s=u[v].v;if(Math.abs(s.Lctn.v/4096-H)<.02)h=u[v];if(v>0)if(Math.abs((u[v-1].v.Lctn.v+(s.Lctn.v-u[v-1].v.Lctn.v)*s.Mdpn.v/100)/4096-H)<.01)n=v}if(_>0)for(var v=0;
v<S.length;v++){var Z=S[v].v;if(Math.abs(Z.Lctn.v/4096-H)<.02)F=S[v];if(v>0)if(Math.abs((S[v-1].v.Lctn.v+(Z.Lctn.v-S[v-1].v.Lctn.v)*Z.Mdpn.v/100)/4096-H)<.01)R=v}if(F==null&&h==null&&n==-1&&R==-1){if(_<0){var s={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
s.v.Lctn.v=Math.round(H*4096);u.push(s);u.sort(this.K9);h=s}if(_>1){var S=this.iC.Clrs.v,O=g.G.pD(this.iC,this.uj.Os,this.uj.qg),w=g.G.Wb(this.iC,O,H),Z={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:g.G.XF({$:w&255,H:w>>8&255,J:w>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
Z.v.Lctn.v=Math.round(H*4096);S.push(Z);S.sort(this.K9);F=Z}}if(F!=null)R=-1;if(h!=null)n=-1;if(F!=null||h!=null||n>-1||R>-1){this._s=h;
this.Ex=F;this.Sd=n;this.aY=R;this.Xt();this.G6();M.en(window,this.qn);M.Bv(window,this.Gx)}};bq.prototype.sA=function(l){var o=M.Kx(l,this.Pf),D=this.t0,H=(o.x*M.Y()-D.x)/D.Q,_=(o.y*M.Y()-D.y)/D._;
H=Math.max(0,Math.min(1,H));var u=this.iC.Trns.v,S=this.iC.Clrs.v;if(this._s!=null){var h=this._s.v;
h.Lctn.v=Math.round(4096*H);var F=u.indexOf(this._s);if(F!=-1&&_<-1&&u.length>1)u.splice(F,1);if(F==-1&&_>-1)u.push(this._s);
u.sort(this.K9)}if(this.Ex!=null){var n=this.Ex.v;n.Lctn.v=Math.round(4096*H);var R=S.indexOf(this.Ex);
if(R!=-1&&_>2&&S.length>1)S.splice(R,1);if(R==-1&&_<2)S.push(this.Ex);S.sort(this.K9)}if(this.Sd>-1){var h=u[this.Sd].v;
h.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(H*4096-u[this.Sd-1].v.Lctn.v)/(h.Lctn.v-u[this.Sd-1].v.Lctn.v))))}if(this.aY>-1){var n=S[this.aY].v;
n.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(H*4096-S[this.aY-1].v.Lctn.v)/(n.Lctn.v-S[this.aY-1].v.Lctn.v))))}if(this._s!=null||this.Ex!=null||this.Sd>-1||this.aY>-1){this.Xt();
this.G6()}};bq.prototype.t7=function(l){M.ie(window,this.qn);M.OF(window,this.Gx);if(Date.now()-this.Xr<300){if(this.aY!=-1||this.Sd!=-1){var o=(this.aY!=-1?this.iC.Clrs.v[this.aY]:this.iC.Trns.v[this.Sd]).v;
o.Mdpn.v=50;this.Xt();this.G6()}else if(this.Ex!=null)this.ak.Jx()}this.Xr=Date.now()};bq.prototype.K9=function(l,o){return l.v.Lctn.v-o.v.Lctn.v};
function a1(){h8.call(this,[11,5],"vgradienteditor");this.AS=null;this.tE=new ai;this.tE.parent=this;
this.body.appendChild(this.tE.Z);this.ur=M.qh(this,this.body)}a1.prototype=new h8;a1.prototype.my=function(l,o){this.AS=o.k_;
this.tE.j(o.P)};a1.prototype.k=function(){h8.prototype.k.call(this);this.tE.k()};a1.prototype._v=function(l){this.AS(this.tE.l());
this.close()};function hE(l){h8.call(this,l=="isize"?[11,10]:[11,3],l);this.a9I=l;var o=M.a("div","form");
o.setAttribute("style","width:20em; margin-bottom:1em; margin-top:-1em;");this.body.appendChild(o);var D=l=="csize";
this.a9t=new eW("Hi");o.appendChild(this.a9t.Z);M.wR(o);this._M=new dd(!0,!0,D,D,!0);if(D)this._M.a3X(!1);
o.appendChild(this._M.Z);this.NC=new km([12,25,3]);this.NC.j(!0);this.NC.O(k.E.B,this.a1k,this);this.mq=new bU(null,[[12,14,2],[12,14,3],[12,14,4]]);
this.mq.j(1);this.s1=new dq([12,23,2],41);this.s1.j(4);if(l=="isize"){o.appendChild(this.NC.Z);o.appendChild(this.mq.Z)}else o.appendChild(this.s1.Z);
this.ur=M.qh(this,this.body)}hE.prototype=new h8;hE.prototype.WU=function(l,o){return l!=null};hE.prototype.Iu=function(){return!0};
hE.prototype.iL=function(l){return this.a9I=="isize"?!1:[e_.B1,e_.RO,e_.pR,e_.fW].indexOf(l)!=-1};hE.prototype.WP=function(l,o,D,H){if(H.W(e_.PA))this._v();
this.s1.auM(H.Dr())};hE.prototype.k=function(){h8.prototype.k.call(this);this._M.k();this.NC.k();this.mq.k();
this.s1.k();this.ur.k()};hE.prototype._v=function(l){var o=this._M.l(),D=o.x,H=o.y,_=new jJ(k.E.yT,!0),u=this._M.XM.l();
if(this.a9I=="csize"){if(u){var S=this._M.Yg,h=this._M.BB;D=h.x-S.x;H=h.y-S.y}_.data=p.WS.abL(D,H,this.s1.l(),u)}else{var F=this.mq.l();
if(!this.NC.l())F=null;_.data=p.WS.a7r(D,H,this._M.Nc(),F)}this.close();this.A(_)};hE.prototype.my=function(l,o){this._M.j(new he(l.Q,l._),l.on);
this._M.c4();this.a9t.j(cU.get(this.uX)+": "+(l.Q*l._/1e6).toFixed(2)+" MPx")};hE.prototype.a1k=function(l){var o=this.NC.l(),D=this._M,H=this.mq;
if(o)H.TC();else H.ua();D.aCf(o)};function jF(){h8.call(this,"Import RAW","importraw");var l=M.a("div","flexrow"),o=M.a("div");
o.setAttribute("style","margin-bottom: 1em");this.body.appendChild(l);this.body.appendChild(o);var D=M.a("div","form");
D.setAttribute("style","width:18em");l.appendChild(D);var H=M.a("div","form");H.setAttribute("style","width:15em");
l.appendChild(H);this.g2=null;this.pJ=null;this.UU=null;this.He=null;this.ai4=[];var _=[];for(var v=0;
v<jF.bc.length;v++)_.push(jF.bc[v]+" Bits");var u=this.H8=[new dd(!0,null,null,!0),new gs([12,72],1,8),new km("Last one is Transparency"),new ei([12,34],_),new ei("Byte Order",["12-34","34-12"]),new bU("Guesses",[])];
for(var v=0;v<u.length;v++){var S=u[v];S.parent=this;S.O(k.E.B,v==5?this.asR:this.FS,this);var h=v==0?D:v==5?o:H;
h.appendChild(S.Z)}this.Pf=M.a("canvas");this.Ig=this.Pf.getContext("2d");this.body.appendChild(this.Pf);
this.ur=M.qh(this,this.body)}jF.prototype=new h8;jF.prototype.k=function(){h8.prototype.k.call(this);
var l=this.H8;this.ur.k();for(var v=0;v<l.length;v++)l[v].k()};jF.prototype._v=function(l){this.close();
var o=this.H8[0].l(),D=fj.Ns(this.pJ,[{data:this.UU,jH:new gt(0,0,o.x,o.y)}]);if(this.He)D.Lx=this.He;
var H=new jJ(k.E.b,!0);H.data={q:!0?k.L.r8:k.L.VI,nL:D};this.A(H)};jF.bc=[8,16];jF.prototype.my=function(l,o){this.g2=new Uint8Array(o.Va);
this.pJ=o._h;var D=this.g2.length,H=[1,3,4],_=0,u=0,S=1,h=1,F=this.ai4=[],n=Math.round(Math.sqrt(D)*2);
n=Math.max(n,4e3);for(var R=0;R<3;R++){for(var s=0;s<2;s++){var Z=jF.bc[s],O=H[R],w=O*Z,m=Math.round(D*8/w);
if(m!=D*8/w)continue;for(var V=0;V<=n;V++)for(var q=0;q<=n;q++)if(V*q==m){var i=0;if(V==q)i+=64;if(Math.round(V/100)==V/100&&Math.round(q/100)==q/100)i+=32;
if(Math.round(V/10)==V/10&&Math.round(q/10)==q/10)i+=16;if(Math.round(V/2)==V/2&&Math.round(q/2)==q/2)i+=8;
F.push([V,q,O,Z,i])}}}var c=function(a,I){if(I[4]!=a[4])return I[4]-a[4];var N=Math.max(a[0],a[1])/Math.min(a[0],a[1]),J=Math.max(I[0],I[1])/Math.min(I[0],I[1]);
if(N!=J)return N-J;return I[0]-a[0]};F.sort(c);var z=this.H8,B=[];for(var v=0;v<F.length;v++){var t=F[v];
B.push(t[0]+" x "+t[1]+", "+t[2]+"ch, "+t[3]+"-bit")}z[5].Ls(B);z[5].j(0);this.asR(null)};jF.prototype.asR=function(l){var o=this.H8,D=this.ai4[this.H8[5].l()];
o[0].j(new he(D[0],D[1]),72);o[1].j(D[2]);o[3].j(jF.bc.indexOf(D[3]));this.FS()};jF.prototype.FS=function(l){var o=this.H8,D=o[0].l(),H=D.x,_=D.y,u=jF.bc[o[3].l()],S=this.g2;
if(u==16&&o[4].l()==1){S=S.slice(0);for(var v=0;v<S.length;v+=2){var h=S[v];S[v]=S[v+1];S[v+1]=h}}var F=this.UU=this.Zk(S,H,_,o[1].l(),u,o[2].l()),n=this.Pf,R=this.Ig,s=[F,new gt(0,0,H,_)];
g.Na(s);for(var v=0;v<s.length;v+=2)if(s[v+1]._<300){F=s[v];H=s[v+1].Q;_=s[v+1]._;break}n.width=H;n.height=_;
M.nY(n,H,_);var Z=new ImageData(new Uint8ClampedArray(F.buffer),H,_);R.putImageData(Z,0,0)};jF.prototype.Zk=function(l,o,D,H,_,u){this.He=null;
var S=[],h=o*D;for(var F=0;F<H;F++){var n=g.o(h);S.push(n);if(_==8)for(var v=0;v<h;v++)n[v]=l[v*H+F];
else if(_==16)for(var v=0;v<h;v++)n[v]=Math.round((l[(v*H+F)*2]<<8|l[(v*H+F)*2+1])*(255/65535))}var R=g.o(h*4);
new Uint32Array(R.buffer).fill(4278190080);if(u){g.Kl(S.pop(),R,3);H--}if(H==0){}else if(H==1)g.rT(S[0],R);
else{g.Kl(S[0],R,0);g.Kl(S[1],R,1);if(H>2){g.Kl(S[2],R,2);if(H>3){this.He=[];for(var v=3;v<H;v++){var s=new d.ow;
s.name="Alpha "+(v-2);s.rect=new gt(0,0,o,D);s.channel=S[v];this.He.push(s)}}}}return R};function aY(l,o,D){f1.call(this);
this.Z=M.a("div","");this.cu=l;this.sy=null;this.tE=o==null?!1:o;this.gY=null;this.dw=D;this.Xd=[];this.CD=[];
this.ne=[];this.xG=[];this.Ki=0;this.sy=this.acZ(aY.xG[l]);this.Vk();this.RV=null;this.avl;this.aaW}aY.prototype=new f1;
aY.prototype.GE=function(l,o,D,H,_){this.RV=_;this.avl=JSON.parse(JSON.stringify(this.gY));if(this.sy.lagl)this.aaW=this.sy.lagl.l()[0]};
aY.prototype.XR=function(l,o,D,H,_){var u=this.RV,S=this.cu,h=this.avl;if(u==null)return;var F=(_.x-u.x)/l.w.F,n=(_.y-u.y)/l.w.F;
if(S=="GrFl"){var R=JSON.parse(JSON.stringify(h.Ofst.v));R.Hrzn.v.val+=F*.5;R.Vrtc.v.val+=n*.5;this.sy.Ofst.j(R,!0)}if(S=="patternFill"){var R=JSON.parse(JSON.stringify(h.phase.v));
R.Hrzn.v+=F;R.Vrtc.v+=n;this.sy.phase.j(R,!0)}if(S=="DrSh"||S=="IrSh"||S=="ChFX"){var s=h.Dstn.v.val,Z=this.aaW*Math.PI/180,O=-Math.cos(Z)*s+F,w=Math.sin(Z)*s+n;
this.sy.Dstn.j(Math.sqrt(O*O+w*w),!0);this.sy.lagl.j([Math.atan2(w,-O)*180/Math.PI],!0)}};aY.prototype.Jm=function(l,o,D,H,_){this.RV=null};
aY.prototype.aqg=function(){for(var v=0;v<this.xG.length;v++){M.vY(this.xG[v],"selected");if(this.ne[v]instanceof km)this.ne[v].j(!1)}};
aY.prototype.alq=function(l){var o=this.azI.bind(this);for(var v=0;v<this.ne.length;v++){var D=M.a("div","listitem");
this.xG.push(D);if(v>0)D.textContent="\u2003";D.appendChild(this.ne[v].Z);if(cq.a8q.indexOf(this.cu)!=-1){var H=new cg("+");
H.PL();H.Z.style.float="right";D.appendChild(H.Z);var _=new cg("\u2B0D");_.PL();_.Z.style.float="right";
_.Z.style["margin-right"]="2px";D.appendChild(_.Z)}D.addEventListener("click",o,!1);l.appendChild(D)}};
aY.WZ=function(l,o){var D=o.getBoundingClientRect();return(l.clientY-D.top)/D.height};aY.prototype.azI=function(l){var o=l.target.tagName.toLowerCase();
if(o=="input"){return}if(o=="button"){var D=new jJ(k.E.r,!0),H=l.target.textContent=="+",u=H?0:aY.WZ(l,l.target)<.5?-1:1;
if(H)D.data={q:"st_dupsingle",U:this.parent.data.U,Pr:this.dw};else D.data={q:"st_movsingle",U:this.parent.data.U,Pr:this.dw,arR:u};
D.S=p.AM;D.iy=!0;this.A(D);D=new jJ("redrawall",!0);D.data={arR:u};this.A(D);return}M.nw(l);this.uf();
this.Ki=this.xG.indexOf(l.currentTarget);this.A(new jJ("showme"))};aY.prototype.uf=function(){if(this.sy.enab&&this.sy.enab.l()==!1)this.t6({Iw:"enab",P:!0})};
aY.prototype.axL=function(){var l=this.xG[this.Ki];if(l)M.EA(l,"selected");return this.CD[this.Ki]};
aY.prototype.acZ=function(l){var o={};for(var v=0;v<l.length;v++){var D=l[v],H=null;if(D=="----")H={Z:M.a("hr")};
if(D=="\n")H={Z:M.a("br")};if(D=="blOptions")H=new eW([14,10]);if(D=="brst")H=new hi([12,72],["R","G","B"]);
if(D=="knko")H=new bU("Knockout",[[13,1,0],"Shallow","Deep"]);if(D=="enab")H=new km(cq.names[cq.order.indexOf(this.cu)]);
if(D=="lrMd"||D=="Md")H=new bU([12,19,0],b2.Rv,b2.Yi);if(D=="Opct")H=this.tE?new gs([12,0],0,100,"%"):new b_([12,0],0,100,"%");
if(D=="iOpa")H=new b_([12,26],0,100,"%");if(D=="blIf")H=new aa;if(D=="ShdN")H=new b_([12,68],0,100,"%");
var _=this.cu=="St3D"&&D=="lagl";if(D=="lagl"||D=="Angl")H=new gX(_?"Light":[12,15],this.cu=="ebbl"||_);
if(D=="uglg")H=new km([12,27]);if(D=="Dstn")H=new b_([12,28],0,200,"px");if(D=="Ckmt")H=new b_([12,29],0,100,"%");
if(D=="Srnk")H=new b_("Shrink",0,100,"%");if(D=="Drkn")H=new b_("Darken",0,100,"%");if(D=="blur")H=new b_([12,14,0],0,200,"px");
if(D=="TrnS"||D=="MpgS")H=new dU([12,21]);if(D=="Nose")H=new b_([12,30],0,100,"%");if(D=="layerConceals")H=new km([12,31]);
if(D=="Cntn")H=new km([12,25,4]);if(D=="AntA"||D=="antialiasGloss")H=new km([12,25,1]);if(D=="GlwT")H=new bU([12,32],cq.qD.names);
if(D=="glwS")H=new bU([12,70],cq.qD.aso);if(D=="Inpr")H=new b_([12,12],1,100,"%");if(D=="bvlS")H=new bU([12,22],cq.u6.style);
if(D=="bvlT")H=new bU([12,32],cq.u6.a2$);if(D=="bvlD")H=new bU(null,cq.u6.dir);if(D=="srgR")H=new b_([12,34],0,1e3,"%");
if(D=="Sftn")H=new b_([12,35],0,20,"px");if(D=="Lald")H=o.lagl;if(D=="hglM"||D=="sdwM")H=new bU([12,36],b2.Rv,b2.Yi);
if(D=="hglC"||D=="sdwC")H=new jv;if(D=="hglO"||D=="sdwO")H=new b_([12,0],0,100,"%");if(D=="Invr"||D=="InvT")H=new km([4,11]);
if(D=="overprint")H=new km("Overprint");if(D=="Sz")H=new b_([12,14,0],1,200,"px");if(D=="Styl")H=new bU([12,40],cq.stroke.names);
if(D=="PntT")H=new bU([12,66],cq.stroke.axo);if(D=="Clr")H=new jv(!0);if(D=="Grad"){H=new bI(!0,this.tE?null:[12,37],!0);
H.j(JSON.parse(cq.TB.aDh).v)}if(D=="Rvrs")H=new km([12,23,0]);if(D=="Dthr")H=new km([12,23,3]);if(D=="Type")H=new bU(this.tE?null:[12,22],cq.G.names.slice(0,this.cu=="FrFX"?6:5));
if(D=="Ptrn")H=new gU([12,62]);if(D=="Scl")H=new b_([12,38],5,500,"%",0,!0);if(D=="Algn")H=new km([12,39]);
if(D=="Ofst")H=new ag(!0);if(D=="phase")H=new ag(!1);if(D=="useShape")H=new km([12,21]);if(D=="useTexture")H=new km([12,67]);
if(D=="textureDepth")H=new b_([12,34],-300,300,"%");var u=D=="----"||D=="\n"?D+v:D;if(H!=null)o[u]=H}return o};
aY.prototype.a85=function(l){var o=this.CD[this.Ki];for(var v=0;v<l.length;v++){var D=this.sy[l[v]];
if(D&&o.contains(D.Z))o.removeChild(D.Z)}};aY.prototype.aAS=function(l){var o=this.CD[this.Ki];for(var v=0;
v<l.length;v++){var D=this.sy[l[v]];if(D&&!o.contains(D.Z))o.appendChild(D.Z)}};aY.prototype.Ip=function(l,o){if(this.sy==null)return;
var D=o==is.CV;if(this.sy.Grad){this.sy.Grad.WC(l.Os,l.qg);if(D||o==is.rY||o==is.z1)this.sy.Grad.jD(l.h5)}if(this.sy.Ptrn){if(D||o==is.om)this.sy.Ptrn.jD(l.hj)}if(this.sy.TrnS){if(D||o==is.x8)this.sy.TrnS.jD(l.bw)}if(this.sy.MpgS){if(D||o==is.x8)this.sy.MpgS.jD(l.bw)}};
aY.prototype.k=function(){for(var v=0;v<this.Xd.length;v++)this.Xd[v].k();for(var l in this.sy)if(this.sy[l]instanceof f1)this.sy[l].k()};
aY.prototype.Vk=function(){for(var l in this.sy){var o=this.sy[l];o.parent=this;if(o instanceof f1)o.O(k.E.B,this.ai9,this);
if(this.CD.length==0||l=="useShape"||l=="useTexture"){var D=new eW(o.ajT()),H=M.a("div","bordered padded");
if(this.tE==!1){H.appendChild(D.Z);H.appendChild(M.a("hr",""))}this.Xd.push(D);this.CD.push(H);this.ne.push(o)}else this.CD[this.CD.length-1].appendChild(o.Z)}};
aY.prototype.update=function(l,o){if(this.sy==null)return;this.gY=JSON.parse(JSON.stringify(o));for(var D in o){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(D)!=-1)this.sy[D].j(o[D].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(D)!=-1){this.sy[D].j(o[D].v,l)}if(["Md","hglM","sdwM"].indexOf(D)!=-1)this.sy[D].j(b2.cu.indexOf(o[D].v.BlnM));
if(D=="lrMd"){var H=(o.Cl?[[15,10,27]]:[]).concat(b2.Rv),_=(o.Cl?[1]:[]).concat(b2.Yi);this.sy[D].Ls(H,_);
this.sy[D].j(o[D].v)}if(D=="Angl")this.sy[D].j([o[D].v.val]);if(D=="lagl"){var u=o.uglg&&o.uglg.v?l.Ry():o.lagl.v.val;
this.sy[D].j([u])}if(D=="Lald"){var u=o.uglg&&o.uglg.v?l.xH():o.Lald.v.val;this.sy[D].j([null,u])}if(D=="Type")this.sy[D].j(cq.G.types.indexOf(o.Type.v.GrdT));
if(D=="Styl")this.sy[D].j(cq.stroke.types.indexOf(o.Styl.v.FStl));if(D=="PntT"){var S=cq.stroke.kA.indexOf(o.PntT.v.FrFl);
this.sy[D].j(S);if(!this.tE){this.a85(cq.mh.concat(cq.Mp.concat(cq.Zm)));this.aAS([cq.mh,cq.Mp,cq.Zm][S])}}if(D=="GlwT")this.sy[D].j(cq.qD.types.indexOf(o.GlwT.v.BETE));
if(D=="glwS")this.sy[D].j(cq.qD.aq9.indexOf(o.glwS.v.IGSr));if(D=="bvlS")this.sy[D].j(cq.u6.types.indexOf(o.bvlS.v.BESl));
if(D=="bvlT")this.sy[D].j(cq.u6.ago.indexOf(o.bvlT.v.bvlT));if(D=="bvlD")this.sy[D].j(["In","Out"].indexOf(o.bvlD.v.BESs))}};
aY.prototype.ai9=function(l){for(var o in this.sy){if(this.sy[o]!=l.target)continue;var D=null,H=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(o)!=-1)D={type:"#Prc",val:l.target.l()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(o)!=-1)D={type:"#Pxl",val:l.target.l()};if(["Angl","lagl"].indexOf(o)!=-1)D={type:"#Ang",val:l.target.l()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(o)!=-1)D=l.target.l();
if(["Md","hglM","sdwM"].indexOf(o)!=-1)D={BlnM:b2.cu[l.target.l()]};if(o=="uglg"){D=l.target.l();H=!0}if(o=="PntT"){D={FrFl:cq.stroke.kA[l.target.l()]};
H=!0}if(o=="Lald")D={type:"#Ang",val:l.target.l()[1]};if(o=="Type")D={GrdT:cq.G.types[l.target.l()]};
if(o=="Styl")D={FStl:cq.stroke.types[l.target.l()]};if(o=="GlwT")D={BETE:cq.qD.types[l.target.l()]};
if(o=="glwS")D={IGSr:cq.qD.aq9[l.target.l()]};if(o=="bvlS")D={BESl:cq.u6.types[l.target.l()]};if(o=="bvlT")D={bvlT:cq.u6.ago[l.target.l()]};
if(o=="bvlD")D={BESs:["In","Out"][l.target.l()]};this.t6({Iw:o,P:D});if(H){if(this.tE)this.update(null,this.gY);
else{var _=this.parent,u=_.nL,S=this.dw,h=u.R[_.data.U].add.lmfx[cq.lZ[S[0]]].v[S[1]].v;this.update(u,h)}}}};
aY.prototype.t6=function(l){if(this.gY&&this.gY[l.Iw])this.gY[l.Iw].v=l.P;if(this.tE){this.A(new jJ(k.E.B))}else{l.q="changeprop";
l.U=this.parent.data.U;l.wN=this.dw;var o=new jJ(k.E.r,!0);o.data=l;o.S=p.AM;o.iy=!0;this.A(o);this.A(new jJ("afterchange",!0))}};
aY.prototype.l=function(){return JSON.parse(JSON.stringify(this.gY))};aY.xG={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(cq.mh),GrFl:["enab","Md","Opct"].concat(cq.Mp),patternFill:["enab","Md","Opct"].concat(cq.Zm),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(cq.mh.concat(cq.Mp.concat(cq.Zm)))};
function ga(){h8.call(this,[11,6],"layerstyle");this.at7=-1;this.data={};this.nL=null;this.Fy=null;this.Co=[];
this.kd=[];M.EA(this.body,"flexrow");this.Y_=M.a("div","bordered");this.Y_.setAttribute("style","min-width:13em;");
this.body.appendChild(this.Y_);this.xe=M.a("div","");this.xe.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.xe);this.iu=M.a("div","form");this.iu.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.iu);this.ur=M.qh(this,this.iu);this.AT=new cg([12,87],!0,null,!0);this.AT.O("click",this.aDr,this);
this.iu.appendChild(this.AT.Z);this.ir=new kv;this.ir.parent=this;this.ir.O(k.E.B,this.ayx,this);this.iu.appendChild(this.ir.Z);
this.O("closebtn",this.iD,this);this.O("redrawall",this.a5k,this)}ga.prototype=new h8;ga.prototype.Iu=function(){return!0};
ga.prototype.hS=function(){return!0};ga.prototype.GE=function(l,o,D,H,_){var u=this.Lr();if(u)u.GE(l,o,D,H,_)};
ga.prototype.XR=function(l,o,D,H,_){var u=this.Lr();if(u)u.XR(l,o,D,H,_)};ga.prototype.Jm=function(l,o,D,H,_){var u=this.Lr();
if(u)u.Jm(l,o,D,H,_)};ga.prototype.Lr=function(l){if(l==null)l=this.data.index;return l==null?null:l==0?this.Co[0]:this.kd[l[0]][l[1]]};
ga.prototype.ayx=function(l){var o=this.ir.l();this.t6({q:"setstl",P:o.yO});this.a5k(null)};ga.prototype.aDr=function(l){var o=this.nL,D=this.data.U;
if(D==null)D=o.T[0];var H=this.nL.R[D],_=cN.akP(H),u=new jJ(k.E.b,!0);u.data={q:k.L.lN,BL:"add",au:is.E9,Pv:[JSON.parse(JSON.stringify(_))]};
this.A(u)};ga.prototype.a4u=function(l){this.data.index=l.currentTarget.dw;this.Gg(l.currentTarget.dw)};
ga.prototype.a5k=function(l){this.my(this.nL,this.data)};ga.prototype.Gg=function(l,o){M.o7(this.xe);
for(var v=0;v<this.Co.length;v++)this.Co[v].aqg();var D=this.Lr(l);this.xe.appendChild(D.axL());if(o)D.uf();
var H=this.nL;if(H){var _=H.R[this.data.U];this.Co[0].update(H,p.Y1.w6(H,_));var u=_.add.lmfx;if(u==null)return;
for(var v=0;v<cq.order.length;v++){var S=u[cq.lZ[v]].v;for(var h=0;h<S.length;h++)this.kd[v][h].update(H,S[h].v)}}if(o)D.uf()};
ga.prototype.k=function(){h8.prototype.k.call(this);this.AT.k();this.ir.k();this.ur.k();for(var v=0;
v<this.Co.length;v++)this.Co[v].k()};ga.prototype.my=function(l,o){var D=o.U==null;this.data.U=o.U;this.data.index=o.index;
o=this.data;this.nL=l;if(D)o.U=l.T.length==0?l.R.length-1:l.T[0];M.o7(this.Y_);var H=l.R[o.U].add.lmfx;
this.eq();this.Co=[new aY("bops",!1,0)];this.kd=[];for(var v=0;v<cq.order.length;v++){this.kd.push([]);
var _=H==null?[]:H[cq.lZ[v]].v;for(var u=0;u<_.length;u++){var S=new aY(cq.order[v],!1,[v,u]);this.Co.push(S);
this.kd[v].push(S)}if(_.length==0){var S=new aY(cq.order[v],!1,[v,0]);this.Co.push(S);this.kd[v].push(S)}}this.k();
this.agP(this.Fy,is.CV);for(var v=0;v<this.Co.length;v++){this.Co[v].parent=this;this.Co[v].alq(this.Y_);
this.Co[v].O("showme",this.a4u,this)}if(o.index==null||o.index==0||!D&&H[cq.lZ[o.index[0]]].v.length==0){this.Gg(0)}else this.Gg(o.index,D);
this.O("afterchange",this.eq,this)};ga.prototype.eq=function(l){var o=this.nL,D=this.data.U;if(D==null)D=o.T[0];
var H=this.nL.R[D],_=cN.akP(H);this.ir.j(_,o.add.Patt?o.add.Patt:[],o.Ry(),o.xH())};ga.prototype.Ip=function(l,o){this.Fy=l;
this.agP(l,o);if(o==is.E9||o==is.CV){this.ir.jD([l.YT,l.hj])}if(o==is.ke){}};ga.prototype.agP=function(l,o){for(var v=0;
v<this.Co.length;v++)this.Co[v].Ip(l,o)};ga.prototype.iD=function(l){this.t6({q:"cancel"})};ga.prototype._v=function(l){this.t6({q:"confirm"});
this.close()};ga.prototype.t6=function(l){l.U=this.data.U;var o=new jJ(k.E.r,!0);o.data=l;o.S=p.AM;o.iy=!0;
this.A(o);this.eq()};ga.aE0=function(){var l=function(o){if(o==null||o.T.length==0)return{e:!1};var D=o.R[o.T[0]];
return{e:D.add.lmfx!=null}};return{name:[11,6],ab:!0,sub:[{name:[5,1],e:l},{name:[5,2]},{name:[2,2],e:l}]}};
ga.af9=function(){return{sub:[{K:k.E.r,S:p.AM,m:{q:"st_copy"}},{K:k.E.r,S:p.AM,m:{q:"st_paste"}},{K:k.E.r,S:p.AM,m:{q:"st_clear"}}]}};
ga.MF=function(l){var o=[{name:[14,10],ab:!0}];for(var v=0;v<cq.names.length;v++)o.push({name:cq.names[v]});
if(l){o[o.length-1].ab=!0;o.push(ga.aE0());o.push({name:[6,30,1],e:function(D){return{e:D!=null&&D.T.length!=0&&D.R[D.T[0]].Zh()}}});
o.push({name:["VAR0 VAR1",[12,49],[9,1]],e:function(D){return{e:D!=null&&D.T.length!=0&&D.R[D.T[0]].add.lmfx!=null}}})}return o};
ga.M8=function(l){var o=[{K:k.E.b,m:{q:k.L.E1,mg:"layerstyle"}}];for(var v=0;v<cq.names.length;v++)o.push({K:k.E.b,m:{q:k.L.E1,mg:"layerstyle",index:[v,0]}});
if(l){o.push(ga.af9());o.push({K:k.E.b,m:{q:k.L.E1,mg:"scaleeffects",aC:100,WF:{K:k.E.r,S:p.AM,m:{q:"scaleeffects"}}}});
var D={classID:"Mk",null:bt.NA("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
o.push({K:k.E.yT,m:{vS:"make",M1:D}})}return o};ga.adv=function(l){var o=[];if(l)o.push({name:[6,48,0,0],oj:!0},{name:[6,48,0,1],oj:!0},{name:[6,48,0,2],oj:!0,ab:!0});
for(var D in jW.names)o.push({name:jW.names[D],ab:jW.asJ.indexOf(D)!=-1,oj:cB[D]!=null});return o};ga.wn=function(l){var o=[];
if(l){o.push({K:k.E.r,S:p.Xg,m:{q:"newfill",no:0}});for(var v=1;v<3;v++)o.push({K:k.E.yT,m:p.F_.Vw(v)})}for(var D in jW.names){var H=at.ts(D);
if(H==null)H={};for(var _ in jW.fN)if(jW.fN[_]==D)H.classID=_;var u={vS:"make",M1:{classID:"Mk",null:bt.NA("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:H}}}}};
o.push({K:k.E.yT,m:u})}return o};function eM(){h8.call(this,"Merge Channels","mergechannels");this.e7=null;
var l=M.a("div","form");this.body.appendChild(l);this.H8=[];for(var v=0;v<3;v++){var o=new bU(jW.oA[v],[]);
this.H8.push(o);l.appendChild(o.Z);M.wR(l)}this.ur=M.qh(this,l)}eM.prototype=new h8;eM.prototype.k=function(){h8.prototype.k.call(this);
this.ur.k();for(var v=0;v<3;v++)this.H8[v].k()};eM.prototype.my=function(l,o,D,H){this.e7=D;var _=[];
for(var v=0;v<D.length;v++)_.push(D[v].name);for(var v=0;v<3;v++){var u=this.H8[v];u.Ls(_);u.j(Math.min(v,D.length-1))}};
eM.prototype._v=function(l){var o=this.e7,D=o[0],H=new jJ(k.E.yT,!0);H.data=f9.VO(D.Q,D._,D.on,"Merged Document","Wht",!1);
this.A(H);var u=[];for(var v=0;v<3;v++)u.push(o[this.H8[v].l()].zG());var D=o[o.length-1],S=D.R[0],h=S.buffer;
for(var v=0;v<h.length;v+=4){h[v]=u[0][v];h[v+1]=u[1][v];h[v+2]=u[2][v]}S.V();D.V();this.close()};function fR(){h8.call(this,[1,10],"script");
var l=M.a("div","form");l.setAttribute("style","width:44em");this.body.appendChild(l);this.Fy=null;this.Ho=[];
this.bL=[];this.apL;var o=this.x7=new cg([1,2],!1,null,!0);o.O("click",this.Qb,this);l.appendChild(o.Z);
var D=new cg("JS Reference",!1,null,!0);D.O("click",this.a0A,this);l.appendChild(D.Z);l.appendChild(new eW("Demos:").Z);
this.asI=[];var H=fR.Qd;for(var v=0;v<H.length;v++){var _=new cg(H[v].Hd,!1,null,!0);this.asI.push(_);
l.appendChild(_.Z);_.O("click",this.ayB,this)}this.gi=M.a("textarea");M.cp(this.gi);this.gi.setAttribute("rows",16);
this.gi.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");l.appendChild(this.gi);
var u=new cg("Run",!0,null,!0);u.O("click",this._v,this);l.appendChild(u.Z);this.tq=M.a("div");l.appendChild(this.tq)}fR.prototype=new h8;
fR.prototype.k=function(){this.x7.k()};fR.prototype.Qb=function(){var l=this.apL;if(l==null)l="script.jsx";
var o=new jJ(k.E.b,!0);o.data={q:k.L.E1,mg:"namewindow",aC:l.slice(0,l.length-4),Gu:this.aqk.bind(this)};
this.A(o)};fR.prototype.aqk=function(l){var o=this.gi.value,D=x.fe(o),H=new jJ(k.E.b,!0);H.data={q:k.L.SO,Va:D.buffer,Nt:l+".jsx",a60:!0};
this.A(H)};fR.prototype.avq=function(l){var v=this.Ho.indexOf(l.target),o=this.apL=this.bL[v],D=this.Fy.Yt.Hn[o],H=new Uint8Array(D),_=x.Fs(H,0,H.length);
this.gi.value=_};fR.prototype.my=function(l,o,D){this.gi.value=fR.Qd[0].wZ;this.a8e()};fR.prototype.a8e=function(){var l=this.Fy.Yt,o=this.tq;
M.o7(o);this.Ho=[];this.bL=[];o.textContent="Saved scripts: ";for(var D in l.Hn){if(D.endsWith(".jsx")){var H=new cg(D,!1,null,!0);
this.Ho.push(H);this.bL.push(D);H.O("click",this.avq,this);o.appendChild(H.Z)}}};fR.prototype.Ip=function(l,o){this.Fy=l;
if(o==is.pe)this.a8e()};fR.prototype.a0A=function(l){var o=new jJ(k.E.b,!0);o.data={q:k.L.Gv,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.A(o)};fR.prototype._v=function(l){var o=this.gi.value,D=this.Fy.Yt.Hn;o=fR.aeI(o,D);var H=new jJ(k.E.b,!0);
H.data={q:k.L.BS,v_:o};this.A(H)};fR.aeI=function(l,o){var D=l.split("\n");for(var v=0;v<D.length;v++){var H=D[v].trim();
if(H.startsWith("#include")){var _=H.slice(H.indexOf("\"")+1,H.lastIndexOf("\"")),u=o[_];if(u==null)alert("\""+_+"\" not found in the Local Storage");
D[v]=fR.aeI(x.Fs(new Uint8Array(u)),o)}}return D.join("\n")};fR.prototype.ayB=function(l){var o=this.asI.indexOf(l.currentTarget);
this.gi.value=fR.Qd[o].wZ};fR.Qd=[{Hd:"Hello",wZ:"\nalert(\"Hello Photopea!\");\n"},{Hd:"Process Layers",wZ:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{Hd:"Clone Layers",wZ:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function eU(){h8.call(this,[11,7],"newproject");this.data=null;this.e7=null;this.RF=0;var l=M.a("div","flexrow");
this.hD=l;this.body.appendChild(l);var o=M.a("div","form");this.ID=o;l.appendChild(o);this.t9=new g7([12,48],null,10);
o.appendChild(this.t9.Z);M.wR(o);this._M=new dd(!0,null,null,null,!0);this._M.j(new he(1280,720),72);
if(a8==1){this._M.j(new he(8.3*300,11.7*300),300);this._M.df(4)}this._M.aCf(!0,!0);this._M.O(k.E.B,this.J7,this);
o.appendChild(this._M.Z);this.UC=new j_;this.UC.parent=this;if(a8==0)o.appendChild(this.UC.Z);this.BK=new cg("\u02C5",null,[0,14],!0);
this.BK.O("click",this.MK,this);if(a8==0)o.appendChild(this.BK.Z);var D=this.lm=M.a("span");o.appendChild(D);
D.style.display="none";this.az_=new bU([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);D.appendChild(this.az_.Z);
this.x9=new km([1,16,1]);D.appendChild(this.x9.Z);this.ur=new cg([12,49],!0,null,!0);this.ur.O("click",this._v,this);
o.appendChild(this.ur.Z);var H=eU.g2,_=[];for(var v=0;v<H.length;v++)_.push(H[v].name);this.dU=new ei(null,_);
this.dU.O(k.E.B,this.a8v,this);o.appendChild(this.dU.Z);this.dU.Z.style["margin-top"]="1em";this.bv=new k7(!0);
this.bv.O(k.E.B,this.a9P,this);o.appendChild(this.bv.Z);this.a8v();this.f_=new ha;this.f_.parent=this;
this.f_.Z.setAttribute("style","margin-left:1em");this.f_.O("tempready",this.aAL,this)}eU.prototype=new h8;
eU.prototype.MK=function(l){var o=this.lm,D=o.style.display!="none";o.style.display=D?"none":"";this.BK.Qx(D?"\u02C5":"\u02C4");
this.Av(this.pX,this.B9)};eU.prototype.Ip=function(l,o){this.f_.Ip(l)};eU.prototype.b8=function(l,o){return new he(Math.max(0,Math.min(70,(l-690)/2)),l>o?Math.max(0,Math.min(50,(o-400)/2)):0)};
eU.prototype.Av=function(l,o){this.pX=l;this.B9=o;this.ID.setAttribute("style","width:"+Math.min(l-24,338)+"px");
this.bv.Z.style.height=o-248-(this.lm.style.display=="none"?0:28)+(a8==0?0:28)+"px";var D=this.f_.Z,H=D.parentNode;
if(l<500){if(H!=null)this.hD.removeChild(D)}else{if(H==null)this.hD.appendChild(D);this.f_.Av(l-378,o-28)}};
eU.prototype.J7=function(){this.f_.j(this._M.l())};eU.prototype.a9P=function(l){var o=this.bv.l()[0],D=eU.g2[this.dU.l()].AZ[o],H=D[4];
if(H==0)H=72;var _=D[1],u=D[2],S=["px","%","mm","in"].indexOf(D[3]),h=[1,1,25.4/H,1/H][S];_/=h;u/=h;
this._M.j(new he(Math.round(_),Math.round(u)),H);this._M.df(S);this.J7();if(Date.now()-this.RF<300)this._v();
this.RF=Date.now()};eU.prototype.a8v=function(l){var o=eU.g2[this.dU.l()].AZ,D=[],H=[],_=Math.round(106*M.Y()),u=Math.round(106*M.Y()),S=0;
for(var v=0;v<o.length;v++)S=Math.max(S,o[v][1],o[v][2]);for(var v=0;v<o.length;v++){var h=o[v],F=h[1]+" x "+h[2]+" "+h[3];
if(h[3]=="in")F=(h[1]*25.4).toFixed(0)+" x "+(h[2]*25.4).toFixed(0)+" mm";if(h[3]=="mm")F=(h[1]/25.4).toFixed(1)+" x "+(h[2]/25.4).toFixed(1)+" in";
if(h[4])F=F+" @ "+h[4]+" ppi";H.push(F);D.push(eU.cK(h,_,u,S))}this.bv.f6(D,H,_,u)};eU.cK=function(l,o,D,H){var _=M.a("canvas",""),u=_.getContext("2d");
_.width=o;_.height=D;var S=Math.round(o/8),h=Math.floor(11*M.Y()),F=l[1],n=l[2];u.fillStyle="#000000";
u.font=Math.round(h*.9)+"px \"Open Sans\", Sans-Serif";var R=F+" x "+n+" "+l[3],s=u.measureText(R);u.fillText(R,Math.round((o-s.width)/2),D-Math.round(S/2));
if(l[0]!=null){u.font="bold "+h+"px \"Open Sans\", Sans-Serif";var R=l[0],s=u.measureText(R);u.fillText(R,Math.round((o-s.width)/2),D-Math.round(S/2)-Math.round(h*1.3))}D-=Math.round(2.5*h);
var Z=Math.min((o-S)/F,(D-S)/n);Z*=.5+.5*(Math.max(F,n)/H);var O=(o-F*Z)/2,w=(D-n*Z)/2;u.strokeRect(Math.round(O)+.5,Math.round(w)+.5,Math.round(F*Z),Math.round(n*Z));
return _.toDataURL()};eU.prototype.k=function(){h8.prototype.k.call(this);this._M.k();this.t9.k();this.UC.k();
this.ur.k();this.t9.j(cU.get([11,7]));this.dU.k();this.x9.k();this.BK.k();this.f_.k()};eU.prototype._v=function(l){var o=this._M.l(),D=o.x,H=o.y;
this.close();var _=this.UC.l(),u=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.az_.l()],S=new jJ(k.E.yT,!0);
S.data=f9.VO(D,H,this._M.Nc(),this.t9.l(),["Wht","Blck","Trns","Clr"][_[0]],this.x9.l(),_[1],u);this.A(S);
this.aC7()};eU.prototype.aAL=function(l){var o=l.data.nL;o.on=this._M.Nc();var D=new jJ(k.E.b,!0);D.data={q:k.L.r8,nL:o};
this.A(D);this.close();this.aC7()};eU.prototype.aC7=function(){var l=this.e7[this.e7.length-1],o=this.data.ajq;
if(o)j1.P2(function(){var D=new XMLHttpRequest,H="https://www.googleapis.com/drive/v3/files?"+j1.a2T();
D.open("POST",H,!0);D.setRequestHeader("Content-Type","application/json");D.addEventListener("load",function(_){var u=JSON.parse(_.target.response);
l.Pl={file:u,Ne:"psd"};alert(l.name+" created in Google Drive")});D.send(JSON.stringify({name:l.name,agy:[o]}))})};
eU.prototype.my=function(l,o,D,H){this.e7=D;if(l!=null&&l.f!=null){var _=new gt(0,0,l.Q,l._).$o(l.f.rect);
this._M.j(new he(_.Q,_._))}this.data=o;this.J7();if(M.gL())iT.ani(this.K3.bind(this))};eU.prototype.K3=function(l){if(l=="granted")iT.Zd(this,this.pc.bind(this))};
eU.prototype.pc=function(l,o){this._M.j(new he(o.Q,o._))};eU.g2=[{name:"Social",AZ:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],AZ:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],AZ:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],AZ:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],AZ:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],AZ:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2á´º",AZ:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function bO(l,o,D){h8.call(this,o,"sel_"+l);this.q=l;var H=M.a("div","form");this.body.appendChild(H);
this.t9=new gs(o,0,255,null,0,!1,!0);H.appendChild(this.t9.Z);this.t9.j(1);var _=M.a("span");_.textContent=D;
H.appendChild(_);M.wR(H);this.abb=new km("Apply at canvas bounds");if(l!="border")H.appendChild(this.abb.Z);
this.ur=M.qh(this,H)}bO.prototype=new h8;bO.prototype.WU=function(l,o){if(l==null)return;if(l.f==null)alert("No selection!");
return l.f!=null};bO.prototype._v=function(l){var o=new jJ(k.E.yT,!0);o.data=p.OK.fO(this.q,this.t9.l(),this.abb.l());
o.iy=!0;this.A(o);this.close()};bO.prototype.k=function(){h8.prototype.k.call(this);this.ur.k();if(this.t9)this.t9.k()};
bO.prototype.my=function(l,o){this.t9.c4()};function hL(l,o,D,H,_,u){h8.call(this,D,o);this.a3k=u;this.od=_;
this.g2=null;this.ID=M.a("div","form");this.body.appendChild(this.ID);this.a0C=M.a("div");this.ID.appendChild(this.a0C);
var S=500;if(H){var h=H.split(",");H=h[0];if(h[1])S=parseFloat(h[1])}this.t9=l==0?new g7(D,null,10):l==1?new b_(D,0,S,H,1):new g7(D,null,24,5);
this.t9.O(k.E.B,this.Ku,this);this.ID.appendChild(this.t9.Z);this.ur=M.qh(this,this.ID);this.O("closebtn",this.iD,this)}hL.prototype=new h8;
hL.prototype.b8=function(l,o){return new he(Math.max(0,Math.min(150,(l-250)/2)),Math.max(0,Math.min(150,(o-120)/2)))};
hL.prototype.Iu=function(){return this.a3k};hL.prototype.Ku=function(l){var o=this.t9.l();if(this.od)this.Gf(o)};
hL.prototype.iD=function(l){if(this.od)this.Gf("cancel")};hL.prototype._v=function(l){if(this.od)this.Gf("confirm");
else this.Gf(this.t9.l());this.close()};hL.prototype.Gf=function(l){if(this.g2.Gu)this.g2.Gu(l);else if(this.g2.WF){var o=this.g2.WF,D=new jJ(o.K,!0);
D.S=o.S;D.data=o.m;D.data.P=l;D.iy=!0;this.A(D)}};hL.prototype.k=function(){h8.prototype.k.call(this);
this.ur.k();if(this.t9)this.t9.k()};hL.prototype.my=function(l,o){this.g2=o;this.t9.j(o.aC);this.t9.c4();
this.a0C.innerHTML=o.a3m?o.a3m:"";this.Ku(null)};function gW(){h8.call(this,[1,5],"open_from_url");this.Fx=null;
var l=M.a("div","form");this.body.appendChild(l);this.ey=new g7("URL",null,22);l.appendChild(this.ey.Z);
M.wR(l);this.VJ=new ei([21,0],[[21,2],[21,1]]);l.appendChild(this.VJ.Z);this.ur=M.qh(this,l)}gW.prototype=new h8;
gW.prototype.k=function(){h8.prototype.k.call(this);this.ur.k();this.VJ.k()};gW.prototype.my=function(l,o,D){this.ey.c4();
this.Fx=null;if(l&&D.indexOf(l)!=-1)this.Fx=D.indexOf(l)};gW.prototype._v=function(l){var o=new jJ(k.E.b,!0),D=this.ey.l();
o.data={q:k.L.bD,au:{url:D,yN:!0,Fx:this.VJ.l()==1?this.Fx:null}};this.A(o);this.close()};function bN(){h8.call(this,[12,79],"preferences");
this.Fy=null;var l=M.a("div","form");this.body.appendChild(l);this.xG=[new km([8,2]),new jv,new jv,new km([8,4]),new jv,new bU([12,80,3],[[12,93,3],[12,80,4]]),new b_([12,80,5],.02,100,null,2),new bU(null,g.vL.Ez),new bU([12,80,6],g.vL.Ez),new km("Remind me to save"),new km("Glass Menus"),new b_("Cursor Offset",0,200)];
for(var v=0;v<this.xG.length;v++){var o=this.xG[v];o.parent=this;o.O(k.E.B,this.Hm,this);if(v==9)continue;
if(v==2){var D=new eW("Local guides:");l.appendChild(D.Z)}l.appendChild(o.Z);if(v!=0&&v!=1&&v!=3&&v!=4&&v!=6)M.wR(l)}}bN.prototype=new h8;
bN.prototype.k=function(){h8.prototype.k.call(this);for(var v=0;v<this.xG.length;v++)this.xG[v].k()};
bN.prototype.my=function(l,o,D){};bN.prototype.Ip=function(l,o){this.Fy=l;var D=l.og;this.xG[0].j(D.oJ);
this.xG[1].BM(D.Pe);this.xG[2].BM(D.VF);this.xG[3].j(D.yc);this.xG[4].BM(D.xm);this.xG[5].j(D.ki);this.xG[6].j(D.Aq);
this.xG[7].j(D.EG);this.xG[8].j(D.wc);this.xG[9].j(l.gD==1);var H=window.locStor.getItem("__glm");this.xG[10].j(H=="1");
this.xG[11].j(l.wV)};bN.prototype.Hm=function(l){var o=this.xG;if(l.target==o[9])this.Fy.gD=1-this.Fy.gD;
var D=JSON.parse(JSON.stringify(this.Fy.og));D.oJ=o[0].l();D.Pe=o[1].rX();D.VF=o[2].rX();D.yc=o[3].l();
D.xm=o[4].rX();D.ki=o[5].l();D.Aq=o[6].l();D.EG=o[7].l();D.wc=o[8].l();window.locStor.setItem("__glm",o[10].l()?"1":"0");
this.Fy.wV=o[11].l();var H=new jJ(k.E.b,!0);H.data={q:k.L.lN,au:is.HK,zc:D};this.A(H)};function ke(){h8.call(this,[11,8],"saveforweb");
this.axA="";this.O("closebtn",function(){this.Q3.OE()},this);this.nL=null;this.yE=null;this.aix=null;
this.Fy=null;M.EA(this.body,"flexrow");this.body.style.padding="0";var l=M.a("div");l.setAttribute("style","position:relative;");
var o=M.a("div");this.body.appendChild(l);this.body.appendChild(o);this.kH=M.a("div","imgcont");l.appendChild(this.kH);
this.Q3=new kP;this.Q3.Av(512,512);var D=this.sb=M.a("video");D.setAttribute("controls","");D.setAttribute("preload","auto");
D.setAttribute("loop","");this.tM=M.a("div");this.tM.setAttribute("style","position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
l.appendChild(this.tM);var H=this.ID=M.a("div","form cell");H.setAttribute("style","width:195px; padding:9px 13px;");
o.appendChild(H);this.Qn=new g7([12,48],null,7.6);this.Qn.pr();H.appendChild(this.Qn.Z);var _=fj.qG();
_[_.indexOf("WEBP")]="webP";this.sx=new bU([12,50],_);this.sx.Z.style.marginRight="0";this.sx.pr();H.appendChild(this.sx.Z);
this.sx.O(k.E.B,this.HP,this);M.wR(H);this._M=new dd(!0,!0,!1,!0);this._M.pr();this._M.O(k.E.B,this.HP,this);
this._M.As.Z.style.paddingBottom="8px";H.appendChild(this._M.Z);this.TG=new kM;this.TG.O(k.E.B,this.HP,this);
H.appendChild(this.TG.Z);this.Yu=new cg([1,2],!0,null,!0);this.Yu.O("click",this._v,this);H.appendChild(this.Yu.Z)}ke.prototype=new h8;
ke.prototype.WU=function(l,o){return l!=null};ke.prototype.k=function(){h8.prototype.k.call(this);this._M.k();
this.Qn.k();this.sx.k();this.TG.k();this.Yu.k()};ke.prototype._v=function(l){var o=this.Qn.l().trim(),D=fj.qG()[this.sx.l()],H=D=="JPG"||D=="PNG"||D=="GIF"||D=="SVG"||D=="WEBP",_=fj.rU(D),u="."+D.toLowerCase(),S=this.yE,h=o+u,F=this.nL,n=F.n0,R=this.TG.l();
if(F.zf())R.pop();if(n.length!=0&&H&&R.pop()){var s="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",Z=[],O={},w=new gt(0,0,F.Q,F._),m=F.zG();
for(var v=0;v<n.length;v++)Z.push(p.d8.W6(n,v));Z.reverse();var V=g.rect.amm([0,0,F.Q,F._],Z);for(var v=0;
v<V.length;v++){var q=V[v],i=new gt(q[0],q[1],q[2]-q[0],q[3]-q[1]),c=q.length==5?n[q[4]].v:null,z=g.o(i.c()*4);
g.Qo(m,w,z,i);var B="img/img"+(v+1)+u;O[B]=new Uint8Array(_.MJ([[z.buffer,0,F.on,F.ff]],i.Q,i._,R));
s+="<div style=\"background-image:url('"+B+"'); left:"+i.x+"px; top:"+i.y+"px; width:"+i.Q+"px; height:"+i._+"px\">";
if(c&&c.url.v!="")s+="\n\t<a href=\""+c.url.v+"\" target=\""+c.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
s+="</div>\n"}s+="</body>\n</html>\n";var t=g.o(Math.round(s.length*1.5)),a=x.ma(s,t,0);O["index.html"]=t.slice(0,a);
S=UZIP.encode(O);h=o+".zip"}else if(F.aDE()&&H&&R.pop()){var I=[],w,m;if(a8==0){w=new gt(0,0,F.Q,F._);
m=F.zG();var N=F.root.children;for(var v=0;v<N.length;v++){var J=N[v].U;if(J.add.artb==null||!J.zd())continue;
I.push([J.getName(),J.IH()])}}else{w=F.n7();m=new Uint8Array(F.at8(this.Fy));var Q=F.add.arts;for(var v=0;
v<Q.length;v++){var A=Q[v];I.push([A.Nt,g.X.Mg(A.EZ)])}}var O={};for(var v=0;v<I.length;v++){var f,A=I[v][1];
if(D=="SVG")f=new Uint8Array(_.MJ(F,A.Q,A._,R,this.Fy,v));else{var W=g.o(A.c()*4);console.log(w,A);g.Qo(m,w,W,A);
f=new Uint8Array(_.MJ([[W.buffer,0,F.on,F.ff]],A.Q,A._,R))}O[I[v][0]+u]=f}S=UZIP.encode(O);h=o+".zip"}var C=function(){if(F.Br)iT.Dy("act=1&id="+F.Br);
this.Q3.OE();this.close();var u=fj.qG()[this.sx.l()];eJ.event("efmt_"+u.toLowerCase(),.1);var K=new jJ(k.E.b,!0);
K.data={q:k.L.r1,data:S,name:h};this.A(K)}.bind(this);if(!this.Fy.bO||eJ.lu()){C();return}if(hP.DQ==0){hP.XW(C);
return}var j=hP.rG()!=0;C();var K=new jJ(k.E.b,!0),$=e2.eI("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),r=e2.eI(";QJXQ_*II9"),U=function(){K.data={q:k.L.E1,mg:"account"};
this.A(K)}.bind(this);if(j){$=e2.eI("0^Ne\\ORYLG:<2G&0>\\|W~~otku?|J_ce][MFaVKNB7O;9;C&6$+)1wq(jxdnreaUlNPH`UC9IQH;>E'/J9f un}l0!u\\lXZn[^XbAAMd");
U=function(){};r=null}K.data={q:k.L.E1,mg:e2.Xh,P:$,Gu:U,aBW:r};if(Math.random()<.1||j)this.A(K)};ke.prototype.my=function(l,o){if(o.Fp!=null)this.sx.j(o.Fp);
this.nL=l;var D=this.nL.name,H=D.lastIndexOf("."),D=H==-1?D:D.slice(0,H);this.Qn.j(D);var _=l.Q,u=l._;
if(a8==1){var S=l.n7();_=S.Q;u=S._}var h=_+","+u;if(h!=this.axA){this.axA=h;this._M.j(new he(_,u),l.on)}this.TG.ahu();
if(o.aqO){this._M.df(3);this.TG.xu.PDF[2].Zi.j(!0)}this.HP(null,!0)};ke.prototype.aoE=function(l,o){return l<o&&l<660};
ke.prototype.b8=function(l,o){return this.aoE(l,o)?new he(0,0):new he(Math.max(0,Math.min(150,(l-770)/2)),Math.max(0,Math.min(150,(o-590)/2)))};
ke.prototype.Av=function(l,o,D){this.pX=l;this.B9=o;if(this.nL==null)return;var H=this.Yu.Z,_=this.aoE(l,o),u,S,Z="<span style=\"width:",O="display:inline-block; text-align:right;\">";
if(_){var h=this.ID.getBoundingClientRect().height;u=l;S=o-Math.max(h,252);M.vY(this.body,"flexrow")}else{u=Math.min(512,l-195-2*13);
S=Math.min(512,o-24);M.EA(this.body,"flexrow")}var F=_?l-2*13:195;this.ID.style.width=F+"px";this.Qn.c1.style.width=F-77+"px";
this._M.Av(F);var n=fj.qG()[this.sx.l()],R=fj.rU(n);if(R.pa||R.gF)this.kH.firstChild.setAttribute("style","display:block; width:"+u+"px; height:"+S+"px;");
else{this.Q3.Av(u,S);this.sb.width=u;this.sb.height=S}if(this.yE==null)return;var s=this.yE.byteLength,w=Z+64+"px;"+O+ke.g4(s)+"</span>";
if(u>400)w+=Z+90+"px; opacity:"+.5+";"+O+s.toLocaleString()+" B</span>";this.tM.innerHTML=w;if(D)setTimeout(function(){this.Av(this.pX,this.B9)}.bind(this),20)};
ke.g4=function(l){var o=l.toString(2),D=0;while(D+10<o.length)D+=10;var H=(l/Math.pow(2,D)).toFixed(1);
if(H.endsWith(".0"))H=H.slice(0,-2);var _="B KB MB GB TB PB".split(" ")[Math.floor(D/10)];return H+" "+_};
ke.prototype.Ip=function(l,o){this.Fy=l};ke.prototype.HP=async function(l,o){var D=this.nL,H=this._M.l(),_=H.x,u=H.y,S=this.sx.l(),h=fj.qG()[S],F=fj.a6_(D)[0].length,n=["GIF","PNG","WEBP","MP4"].indexOf(h)!=-1&&F>1,m="";
if(n&&h!="MP4"&&o&&(F>4&&_*u>1024*1024||_*u*F>800*800*50)){var R=1;while(Math.max(_>>>R,u>>>R)>800)R++;
var s=window.confirm("Your animation is large ("+_+" x "+u+" px). Press \"OK\" to scale it to "+(100>>>R)+"%. Press \"Cancel\" to keep the size.");
if(s){this._M.j(new he(_>>>R,u>>>R),null,!0);_=_>>>R;u=u>>>R}}var Z=D.zf();this.TG.HR(h,n,D.n0.length!=0,D.aDE(),Z!=null);
var O=window.locStor.getItem("sfwPrms");if(O==null)O={};else{O=JSON.parse(O);if(O.MP4&&O.MP4[0]==100)O.MP4[0]=50}var w=this.TG.l();
if(l&&l.target==this.TG){O[h]=w;window.locStor.setItem("sfwPrms",JSON.stringify(O))}else if(O[h]){this.TG.j(O[h],!0);
w=this.TG.l()}this.yE=await fj._Q(D,h,_,u,w,this.Fy);if(this.yE==null){this.nL=null;return}M.o7(this.kH);
this.Q3.OE();var V=fj.rU(h);if(V.gF){this.kH.innerHTML="<div></div>"}else if(V.pa){var q=_,i=u,c;if(h=="PDF"||h=="AI"){c=URL.createObjectURL(new Blob([this.yE],{type:"application/pdf"}))}else{c=URL.createObjectURL(new Blob([this.yE],{type:"image/svg+xml"}))}this.kH.innerHTML="<iframe src=\""+c+"\"></iframe>"}else if(h=="MP4"){var c=URL.createObjectURL(new Blob([this.yE]));
this.sb.setAttribute("src",c);this.kH.appendChild(this.sb)}else{var z=this.aix=V.Zk(this.yE),B=z[0],t=B.jH,q=t.Q,i=t._;
if(B.US){var a=ICC.R(B.US.buffer),I=17,N=ICC.U.sampleLUT(a,I);for(var v=0;v<z.length;v++){var J=new Uint8Array(z[v].data);
ICC.U.applyLUT(N,I,J,J)}}this.Q3.j(z,z.length>1?w[w.length-3]:0);this.kH.appendChild(this.Q3.Z);m="background: rgba(0,0,0,0);"}this.kH.setAttribute("style","display:block; "+(V.gF?"background:rgba(0,0,0,0);":"background-size:"+16/M.Y()+"px;")+m);
this.Av(this.pX,this.B9,o)};function eh(){h8.call(this,[11,13],"shortcuts");this.Fy=null;var l=this.hD=M.a("div","scrollable");
l.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(l);
this.Y$()}eh.prototype=new h8;eh.prototype.k=function(){h8.prototype.k.call(this);this.Y$()};eh.prototype.Ip=function(l,o){this.Fy=l};
eh.prototype.my=function(l,o,D,H){if(M.Ve(this.Z))this.Y$()};eh.prototype.Y$=function(){var l="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",o="",D=e_,H=D.Cm,_=D.eo,u=D.zg;
o+="<h2 style=\"margin-top:0;\">Main Menu</h2>";o+=l;o+=this.Lt([[0,0],"---",[1,0],[H,D.kB],[1,2],[H,D.KF],[1,3],[_,H,D.KF],[1,8],[u,_,H,D.KF],[0,1],"---",[2,0],[_,H,D.rK],[2,1],[H,D.rK],[5,0],[H,D.s8],[5,1],[H,D.AP],[5,2],[H,D.$s],[2,2],"Delete",[2,3],[u,D.O1],[10,16],[u,H,D.rD],[12,79],[H,D.a$],[3],"---",[4,1],[H,D.Ct],[4,2],[H,D.mw],[4,5],[H,D.fq],[4,11],[H,D.rv],[0,3],"---",[6,13],[_,H,D.mW],[6,49,0],[H,D.vf],[6,6,0],[u,H,D.Tu],[6,9],[H,D.Tu],[6,10],[H,D.E],[0,5],"---",[7,0],[H,D.L],[7,1],[H,D.VM],[7,2],[_,H,D.rv],[0,7],"---",[8,0],[H,D.CO],[8,1],[H,D.ef],[8,3],[H,D.nC],[8,2],[H,D.u5],[8,4],[H,D.JC],[11,13],"?"]);
o+="</div>";o+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";o+=l;o+=this.Lt(["Vertical scroll","Wheel","Horizontal scroll",[H,"Wheel"],"Zooming",[u,"Wheel"]]);
o+="</div>";o+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
o+=l;o+=this.Lt([[10,11],[H],[10,7],"Space",[10,17],[H,D.RP]]);o+="</div>";o+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
o+=l;var S=[],h=this.Fy;if(h==null)return;var F=h.p;for(var v=0;v<F.xb.length;v++){var n=F.xb[v],R=F.keys[v];
for(var s=0;s<n.length;s++)S.push(n[s].S.name,R?R.Hd:null)}S=S.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[H,D.lj]]);
o+=this.Lt(S);o+="</div>";this.hD.innerHTML=o};eh.prototype.Lt=function(l){var o="",D=!0;for(var v=0;
v<l.length;v+=2){var H=l[v],_=e_.Tt(l[v+1]);if(_==null){D=!1;continue}var u=M.Ec(cU.get(H));if(_=="---"){if(!D)o+="<br/>";
o+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+u+"</div>"}else o+="<div>"+u+" <span style=\"float:right; font-weight:bold;\">"+_+"</span> </div>";
D=!1}return o};function gF(){h8.call(this,[8,11,1],"soptions");this.BB=null;var l=M.a("div","form");
l.style.width="20em";this.body.appendChild(l);this.Hq={Nm:[12,48],url:"URL",null:[12,71]};this.xG={};
for(var o in this.Hq){var D=new g7(this.Hq[o],null,15);this.xG[o]=D;l.appendChild(D.Z)}this.aeC=new eW([12,14,0]);
l.appendChild(this.aeC.Z);this.wJ=new ax(0,!0);l.appendChild(this.wJ.Z);this.ur=M.qh(this,l)}gF.prototype=new h8;
gF.prototype.my=function(l,o,D){var H=o.P;this.BB=JSON.stringify(H);for(var _ in this.Hq){if(H[_])this.xG[_].j(H[_].v)}var u=H.bounds.v,S=u.Left.v,h=u.Top.v;
this.wJ.j([S,h,u.Rght.v-S,u.Btom.v-h])};gF.prototype._v=function(l){var o=JSON.parse(this.BB);for(var D in this.Hq){var H=this.xG[D].l();
o[D]={t:"TEXT",v:H}}var _=this.wJ.l();console.log(_);var u=o.bounds.v,S=_[0],h=_[1];u.Left.v=S;u.Top.v=h;
u.Rght.v=S+_[2];u.Btom.v=h+_[3];var F=new jJ(k.E.r,!0);F.S=p.LN;F.data=o;F.iy=!0;this.A(F);this.close()};
gF.prototype.k=function(){h8.prototype.k.call(this);this.ur.k();this.aeC.k();this.wJ.k()};function id(){h8.call(this,[2,3],"fill");
this.Fy=null;this.Gj=null;var l=M.a("div","form padded");l.style.width="22em";this.body.appendChild(l);
this.Rz="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.Lf=new bU([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.Lf.O(k.E.B,this.asG,this);l.appendChild(this.Lf.Z);this.kH=M.a("span");l.appendChild(this.kH);this.d3=new jv;
this.d3.parent=this;this.d3.BM(0);this.N8=new gU;this.N8.parent=this;this.gn=new bU([12,19,0],b2.Rv,b2.Yi);
l.appendChild(this.gn.Z);this.qZ=new b_([12,0],0,100,"%",0,!1);this.qZ.j(100);l.appendChild(this.qZ.Z);
this.sG=new km([13,5]);this.sG.j(!1);l.appendChild(this.sG.Z);this.ur=M.qh(this,this.body)}id.prototype=new h8;
id.prototype.WU=function(l,o){return l!=null};id.prototype.Iu=function(){return!0};id.prototype.asG=function(){var l=this.Lf.l(),o=this.d3.Z,D=this.N8.Z,H=this.kH;
if(l==2)H.appendChild(o);else if(H.contains(o))H.removeChild(o);if(l==7)H.appendChild(D);else if(H.contains(D))H.removeChild(D)};
id.prototype.k=function(){h8.prototype.k.call(this);this.Lf.k();this.gn.k();this.qZ.k();this.sG.k();
this.ur.k()};id.prototype._v=function(l){if(!this.Gj.o_())return;var o=new jJ(k.E.yT,!0),D=this.Lf.l();
o.data=p.hL.Vw(this.Rz[D],b2.Jv[this.gn.l()],this.qZ.l()/100,this.d3.l(),this.sG.l(),this.N8.l());this.close();
this.A(o)};id.prototype.my=function(l,o){this.Gj=l};id.prototype.Ip=function(l,o){this.Fy=l;if(o==is.CV||o==is.om){this.N8.jD(l.hj);
this.N8.j({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function au(){h8.call(this,[14,9],"stroke");this.Fy=null;this.ID=M.a("div","form");this.ID.setAttribute("style","width:24em");
this.body.appendChild(this.ID);this.cP=new aY("FrFX",!0);this.cP.parent=this;var l=["Sz","Styl","Md","Opct"].concat(cq.mh);
for(var v=0;v<l.length;v++){var o=this.cP.sy[l[v]].Z;this.ID.appendChild(o)}this.iZ=!1;this.ur=M.qh(this,this.body)}au.prototype=new h8;
au.prototype.WU=function(l,o){return l!=null};au.prototype.Iu=function(){return!0};au.prototype.k=function(){h8.prototype.k.call(this);
this.ur.k();this.cP.k()};au.prototype._v=function(l){var o=this.cP.l(),D={classID:"Strk"};D.Md=o.Md;
D.Opct=o.Opct;D.Clr=o.Clr;D.Wdth={t:"long",v:o.Sz.v.val};var H=cq.stroke.types.indexOf(o.Styl.v.FStl);
D.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][H]}};var _=new jJ(k.E.yT,!0);_.data={vS:"stroke",M1:D};
this.close();this.A(_)};au.prototype.my=function(l,o){if(!this.iZ){var D=cq.Rq[cq.order.indexOf("FrFX")];
D=JSON.parse(D);this.cP.update(l,D);this.iZ=!0}var D=this.cP.l(),H=this.Fy.Os;D.Clr.v=g.G.XF({$:H>>16&255,H:H>>8&255,J:H&255});
this.cP.update(l,D)};au.prototype.Ip=function(l,o){this.Fy=l};function e$(){h8.call(this,[11,9],"textwarp");
this.xG=new gd;this.xG.O(k.E.B,this.YU,this);this.xG.parent=this;this.ID=M.a("div","form");this.ID.setAttribute("style","width:20em");
this.body.appendChild(this.ID);this.ID.appendChild(this.xG.$A.Z);this.ID.appendChild(this.xG.zx.Z);this.ID.appendChild(this.xG.E5.Z);
this.ID.appendChild(this.xG.M0.Z);this.ID.appendChild(this.xG._z.Z);this.ur=M.qh(this,this.ID);this.O("closebtn",this.iD,this)}e$.prototype=new h8;
e$.prototype.Iu=function(){return!0};e$.prototype.k=function(){h8.prototype.k.call(this);this.ur.k();
this.xG.k()};e$.prototype.YU=function(l){var o=this.xG.l();this.Gf({q:"warp",Y9:o})};e$.prototype.Gf=function(l){var o=new jJ(k.E.r,!0);
o.S=p.gg;o.data=l;o.iy=!0;this.A(o)};e$.prototype.iD=function(l){this.Gf({q:"warpCancel"})};e$.prototype._v=function(l){this.Gf({q:"warpConfirm"});
this.close()};e$.prototype.my=function(l,o){var D=l.R[l.T[0]];this.xG.j(D.add.TySh.oG)};function fZ(){h8.call(this,[11,12,0],"trim");
var l=this.ID=M.a("div","form");this.ID.setAttribute("style","width:22em");this.body.appendChild(this.ID);
var o=new eW("Color To Trim:");l.appendChild(o.Z);this.m0=new hi(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.m0.j([!0]);this.ID.appendChild(this.m0.Z);var o=new eW("Sides:");l.appendChild(o.Z);this.NF=new hi(null,["Top","Left","Bottom","Right"]);
this.NF.j([!0,!0,!0,!0]);this.ID.appendChild(this.NF.Z);this.ur=M.qh(this,this.body)}fZ.prototype=new h8;
fZ.prototype.WU=function(l,o){return l!=null};fZ.prototype.Iu=function(){return!0};fZ.prototype.k=function(){h8.prototype.k.call(this);
this.m0.k();this.NF.k();this.ur.k()};fZ.prototype._v=function(l){var o=this.m0.l().indexOf(!0),D=this.NF.l(),H=new jJ(k.E.yT,!0);
H.data=p.WS.mE(o,D);this.close();this.A(H)};function cn(){h8.call(this,"Raw Photopea","rawpea");this.UU=null;
this.sW=null;this.body.style.padding="0";var l=this.Gs=new cB["Adobe Camera Raw Filter"](!0),o="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(l.Z);this.ur=new cg([1,0],!0,null,!0);this.ur.O("click",this._v,this);this.KE=new cg(o+" JPG",!0,null,!0);
this.KE.O("click",this.als,this);this.KE.Z.style.marginTop="6px";l.p_(this.ur.Z);l.p_(this.KE.Z)}cn.prototype=new h8;
cn.prototype.b8=function(){return new he(0,0)};cn.prototype.Av=function(l,o){this.Gs.Av(l,o)};cn.prototype.k=function(){h8.prototype.k.call(this);
this.Gs.k()};cn.prototype.als=function(l){var o=this.UU,D=this.sW,H=fj.rU("JPG").MJ([[this.Gs.l(!0).buffer]],D.cy,D.L8,[85]),_=new jJ(k.E.b,!0);
_.data={q:k.L.r1,data:H,name:"photo.jpg"};this.A(_)};cn.prototype._v=function(l){var o=this.UU,D=this.sW,H=j9.Sn(o),o={jH:new gt(0,0,D.cy,D.L8),data:this.Gs.l(!0).buffer,ff:H},_=fj.Ns("Raw Photo",[o]),u=new jJ(k.E.b,!0);
u.data={q:k.L.r8,nL:_};this.A(u);this.SD();this.close()};cn.prototype.SD=function(){this.UU=null;this.sW=null;
this.Gs.aeL()};cn.prototype.my=function(l,o,D,H){this.UU=o.Ao;var _=this.sW=g.raw.akE(this.UU),u=g.raw.adF(o.Ao),S=dM.aiR(u);
g.raw.VK(_.G5,_.G5,o.Ao,[S.M_,S.E8]);var h=at.ts("Adobe Camera Raw Filter");this.Gs.j(h,_.G5,new gt(0,0,_.cy,_.L8))};
function il(l){h8.call(this,l?[11,11,0]:[11,11,1],l?"vbitmap":"rcolors");this.g2=null;this.lq=null;this.YB=null;
this.EB=null;this.Yp=null;this.a0c=null;this.h7=null;this.Fy=null;this.H8="";this.NT=l;this.rS=this.G6.bind(this);
this.zm=!1;this.body.style.padding="0";this.ID=M.a("div","form hbar padded");this.body.appendChild(this.ID);
this.aF=new hi(null,["Fill","Stroke","Labels"]);this.aF.O(k.E.B,this.G6,this);var o=M.a("span","rangecontFloat form padded"),F=16;
o.appendChild(this.aF.Z);o.setAttribute("style","position:absolute; width:120px; z-index:2;  padding-right:0px; ");
var D=new f1;D.Z=o;var H=this.ci={cnum:new gs([12,82],2,50,null),nois:new km([12,81]),mode:new bU(null,["Cartoon","Photo"]),segm:new km("Segmentize"),cbok:new km("Coloring book"),poly:new km("Polygon"),merg:new km("Merge colors"),polE:new gs("Roughness",2,30,null),dthr:new km([12,23,3]),vprm:new cg("\u2026",!1,null,!0),ok:M.qh(this,null,!1)},_=this;
for(var u in H){var S=H[u];S.parent=this;if(u=="ok"){}else if(u=="vprm"){S.O("click",function(R){var s=H.vprm.Z.getBoundingClientRect(),Z=new jJ(k.E.b,!0);
Z.data={q:k.L.jq,VG:D,x:s.left,y:s.top+20};_.A(Z)})}else S.O(k.E.B,this.G6,this)}var h=this.C1=M.a("div","flexrow");
this.body.appendChild(h);h.setAttribute("style","background-color:var(--bg-canvas)");this.zS=new kP;
this.zS.O("viewchange",this.fC,this);this.bI=new kP;this.Pf=M.a("canvas");this.Pf.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.Ig=this.Pf.getContext("2d");var n=g.o(16*16*4);g._x(n,F,F,8);this.qt=g.scale.eT(n,F,F);this.zS.aq5(this.Pf);
this.zS.h9(this.bI);this.bI.h9(this.zS);h.appendChild(this.zS.Z);if(l)h.appendChild(this.Pf);else h.appendChild(this.bI.Z)}il.prototype=new h8;
il.prototype.b8=function(){return new he(0,0)};il.prototype.Iu=function(){return!0};il.prototype.Av=function(l,o){this.pX=l;
this.B9=o;o=o-44;if(l<600)o-=29;if(this.g2==null)return;var D=this.g2.jH,H=dA.a0_(l,o,D.Q,D._);if(H==1)o-=3;
if(H==0){l=Math.floor(l/2);M.EA(this.C1,"flexrow")}else{o=Math.floor(o/2);M.vY(this.C1,"flexrow")}M.QT(this.Pf,l,o);
this.zS.Av(l,o);if(this.NT)this.fC();else this.bI.Av(l,o)};il.prototype.WP=function(l,o,D,H){this.zS.WP(H)};
il.prototype.k=function(){h8.prototype.k.call(this);for(var l in this.ci)this.ci[l].k()};il.prototype.my=function(l,o){this.h7=l;
this.Yp=null;var D=l.R[l.T[0]],H=g.CR.aAo(D.buffer.buffer,D.rect.Q,D.rect._).acs,_=H/((D.rect.Q-2)*(D.rect._-2)),u=this.ci;
u.cnum.j(20);u.nois.j(_<.75);u.mode.j(_<.75?1:0);u.segm.j(!1);u.cbok.j(!1);u.poly.j(!1);u.merg.j(!0);
u.polE.j(1);u.dthr.j(!1);var S=D.rect.clone();S.x=S.y=0;this.g2={jH:S,data:D.buffer.buffer.slice(0)};
this.lq=null;this.Av(this.pX,this.B9);this.zS.j([this.g2]);this.zS.iX();this.zm=!0;this.aF.j([!0,!1,!1]);
setTimeout(this.rS,20)};il.prototype.G6=function(){var l=!0,o=Date.now(),D=this.g2,H=this.ci,_=H.cnum.l(),u=H.nois.l(),S=H.mode.l(),h=H.segm.l(),F=H.cbok.l(),n=H.poly.l(),R=H.merg.l(),s=H.polE.l(),J=null;
if(S==0)h=n=F=!1;var Z=H.dthr.l(),O=["cnum","nois","mode"];if(S==1){O.push("cbok");if(this.NT){O.push("poly");
if(n)O.push("polE");O.push("vprm")}}if(this.NT)O.push("merg");else O.push("dthr");O.push("ok");M.o7(this.ID);
for(var v=0;v<O.length;v++)this.ID.appendChild(H[O[v]].Z);if(l)console.log("---------------------------------------");
var w=u||h,m=u+","+h;if(w&&(this.lq==null||this.H8!=m)){this.H8=m;var V=new Uint8Array(D.data),q=D.jH.Q,i=D.jH._;
if(u){if(this.Yp==null){this.Yp=V.slice(0);g.cs.FJ=35;g.cs.Yk(this.Yp,this.Yp,q,i,15,1);if(l){console.log("denoise",Date.now()-o);
o=Date.now()}}V=this.Yp.slice(0)}else V=V.slice(0);if(h){var c=g.CR._Y(V,q,i,40,10),z=c.a$,B=new Uint8Array(z*4);
for(var v=0;v<z;v++){var t=v*4,a=v*6,I=1/c.Rn[a+5];B[t]=c.Rn[a]*I;B[t+1]=c.Rn[a+1]*I;B[t+2]=c.Rn[a+2]*I}for(var v=0;
v<V.length;v+=4){var N=c.QE[v>>>2]*4;V[v]=B[N];V[v+1]=B[N+1];V[v+2]=B[N+2]}if(l){console.log("segm",Date.now()-o);
o=Date.now()}}this.lq={jH:D.jH.clone(),data:V.buffer}}if(w)D=this.lq;var V=new Uint8Array(D.data),q=D.jH.Q,i=D.jH._;
for(var v=0;v<V.length;v+=4){if(V[v+3]<10)V[v]=V[v+1]=V[v+2]=V[v+3]=0}if(S==0){J=g.CR.aDu(V,q,i,_,w?.1:2e-4);
if(l){console.log("quantize",Date.now()-o);o=Date.now()}}if(S!=0||J&&J.Wo.length<2){J=kL.anV(V.buffer,_,q,i,null,F)}if(this.NT){var Q=J.QE.slice(0);
for(var v=0;v<Q.length;v++)Q[v]++;this.GP=g.CR.avQ(J.QE,q,i);var A=new Uint8Array((q+2)*(i+2));g.mB(Q,new gt(1,1,q,i),A,new gt(0,0,q+2,i+2));
if(!n){var f=Math.round((q+2)*(i+2)/1e4),W=iS.ss(A.slice(0),q+2,i+2,Math.min(12,f)),C=iS.CS(W);if(l){console.log("trace smooth",Date.now()-o);
o=Date.now()}}else{var C=g.X.awH(A,q+2,i+2,s,l)}var j=C.length,K=new de(1,0,0,1,-1,-1);for(var v=0;v<j;
v++)g.X.h(C[v].path.s,K,C[v].path.s);this.EB=C;this.YB=J;for(var v=0;v<j;v++){var $=C[v];if(J.Wo[$.color-1].est.q[3]>.05)continue;
var r=$.parent;while(r!=-1){var U=C[r];r=U.parent;if(J.Wo[U.color-1].est.q[3]<.05)break;g.X.concat(U.path,g.X.reverse($.path))}}if(l){console.log("finding holes",Date.now()-o);
o=Date.now()}for(var v=0;v<C.length;v++){var b=C[v];if(b.parent!=-1){var e=C[b.parent];b.parent=e;if(e.X5==null)e.X5=[];
e.X5.push(b)}b.depth=b.parent==-1?0:b.parent.depth+1}if(R){function P(bW,X){var hF={},aJ=0,iR=0;for(var v=0;
v<bW.length;v++){var E=bW[v].color,ex="c"+E;if(E==X)throw E;if(hF[ex]==null)hF[ex]=0;hF[ex]++;if(hF[ex]>aJ){aJ=hF[ex];
iR=E}}return iR}var L=[],Y=[],X=-1,G=!0;for(var v=0;v<C.length;v++)if(C[v].parent==-1)Y.push(C[v]);while(Y.length!=0){var E=P(Y,X);
X=E;for(var v=0;v<Y.length;v++)if(Y[v].color==E){var T=Y[v];L.push(T);Y.splice(v,1);v--;if(T.X5)for(var y=0;
y<T.X5.length;y++){Y.push(T.X5[y]);if(T.X5[y].color!=E)G=!1}}}if(G)C=L;else{var d4=[];for(var dH=0;dH<500;
dH++){var eV=[],W=d4[dH-1];d4.push(eV);for(var v=0;v<C.length;v++){var b=C[v],e=b.parent;if(dH==0&&e==-1||dH!=0&&W.indexOf(e)!=-1){eV.push(b);
C.splice(v,1);v--}}eV.sort(function(bW,hF){return bW.color-hF.color});if(C.length==0)break}for(var v=0;
v<d4.length;v++)C=C.concat(d4[v])}}else{var L=[],bf=[];while(C.length!=0){bf.push(C.shift());while(bf.length!=0){var jd=bf.pop();
L.push(jd);if(jd.X5)for(var v=0;v<jd.X5.length;v++){var b=jd.X5[v];C.splice(C.indexOf(b),1);bf.push(b)}}}C=L}this.EB=C;
for(var v=0;v<C.length;v++){var $=C[v],i5=J.Wo[$.color-1].est.q;if(i5[3]<=.05){C.splice(v,1);v--;continue}}for(var v=1;
v<C.length;v++){var fD=C[v-1],$=C[v];if(fD.color==$.color&&(R||fD.parent==$.parent&&fD.depth>=2)){g.X.concat(fD.path,$.path);
C.splice(v,1);v--;continue}}if(l){console.log("reordering layers",Date.now()-o,j,C.length);o=Date.now()}this.fC()}else{var eo=new Uint32Array(q*i),iX=q*i,cK=this.a0c=new Uint8Array(eo.buffer);
if(Z){var g0=[];for(var v=0;v<J.Wo.length;v++)g0.push(J.Wo[v].est.rgba);var N=g.o(q*i);UPNG.encode.dither(new Uint8Array(D.data),q,i,g0,cK,N)}else{for(var v=0;
v<iX;v++){var E=J.Wo[J.QE[v]];eo[v]=E.est.rgba}}this.bI.j([{jH:D.jH,data:eo.buffer}]);if(this.zm){this.bI.iX();
this.zm=!1}}};il.prototype.fC=function(l){if(this.EB==null)return;var o=this.aF.l(),D=this.g2.jH.Q,H=this.g2.jH._,_=this.EB,u=this.YB.Wo,S=this.Pf,h=this.Ig,F=this.zS.yP(),R="rgba(0,0,0,0.3)";
h.setTransform(1,0,0,1,0,0);h.clearRect(0,0,S.width,S.height);h.translate(S.width/2,S.height/2);h.scale(F.F,F.F);
h.translate(F.i.x/F.F-D/2,F.i.y/F.F-H/2);h.scale(1/F.F,1/F.F);h.fillStyle=this.qt;h.fillRect(0,0,D*F.F,H*F.F);
h.scale(F.F,F.F);h.lineWidth=(D+H)*5e-4;var n=this.CK();h.strokeStyle=R;for(var s=0;s<2;s++){if(!o[s])continue;
for(var v=0;v<_.length;v++){var Z=_[v],O=n[Z.color-1];if(O.M==0)continue;h.fillStyle=O.Mu;h.beginPath();
Typr.U.pathToContext({crds:Z.path.s,cmds:Z.path.v},h);if(s==0)h.fill();else h.stroke()}}if(o[2])this.acO(h,D,H)};
il.prototype.CK=function(){var l=this.YB.Wo,o=[];for(var v=0;v<l.length;v++){var D=l[v].est.q,H={$:Math.round(255*D[0]),H:Math.round(255*D[1]),J:Math.round(255*D[2]),M:Math.round(255*D[3])};
H.Mu="rgba("+H.$+","+H.H+","+H.J+","+H.M/255+")";o.push(H)}return o};il.prototype.acO=function(l,o,D){var H=this.CK(),_=this.a3H(o,D,H);
function u(n,R,s,Z){l.font=Z+"px sans-serif";n++;var O=l.measureText(n);l.fillText(n,R-O.width/2,s+Z*.25)}l.fillStyle="rgba(0,0,0,0.5)";
var S=this.GP;for(var v=0;v<S.length;v++){var h=S[v];if(h[3]<o*D*5e-4)continue;u(h[2],h[0],h[1],(o+D)*.008)}l.fillStyle="rgba(255,255,255,1)";
l.fillRect(0,0,_,_*H.length);for(var v=0;v<H.length;v++){var F=H[v];l.fillStyle=F.Mu;l.fillRect(_,_*v,_,_);
l.fillStyle="black";u(v,_*.5,_*(v+.5),_*.65)}};il.prototype.a3H=function(l,o,D){var H=D.length*(l+o)/70;
return Math.min(o,H)/D.length};il.prototype._v=function(l){var o=this.h7,D=o.T[0],H=o.R[D],_=new jJ(k.E.r,!0);
_.iy=!0;_.S=p.wU;var u=this.Fy.uh,S=this;if(this.NT){var h=this.CK(),R=0,Z=!1;function F(q,m){var V=o.O7();
V.opacity=m.M;V.XL|=16;V.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.G.XF(m)}};V.add.vmsk=new d.dO;V.add.vstk=cq.K$.ts(!0);
V.add.vmsk.d=q;V.Xv();V.C$(o);return V}var n=this.aF.l();for(var v=0;v<3;v++)if(n[v])R++;if(R==0){alert("Enable Fill, Stroke or Labels");
return}var s=this.EB;if(R==1&&n[0]&&s.length==1)Z=!0;var O=o.R.slice(0,D);if(!Z)O.push(o.k0());if(n[0])for(var v=0;
v<s.length;v++){var w=s[v],m=h[w.color-1];g.X.h(w.path.s,new de(1,0,0,1,H.rect.x,H.rect.y),w.path.s);
var V=F(g.X.Op(w.path,!1),m);V.FH("Path "+v);O.push(V)}if(n[1]){var V=o.O7();V.FH("Stroke");O.push(V);
V.opacity=128;V.XL|=16;V.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.G.XF({$:0,H:0,J:0})}};V.add.vmsk=new d.dO;
V.add.vstk=cq.K$.ts(!1,!0);var q=[];for(var v=0;v<s.length;v++){var w=s[v],i=g.X.Op(w.path,!1);if(v==0)q=i;
else q=q.concat(i.slice(2))}V.add.vmsk.d=q;V.Xv();V.C$(o)}if(n[2]){var c=this.g2.jH,z=c.Q,B=c._,t=this.a3H(z,B,h);
O.push(o.k0());function a(f,W,C,j){f=1+f+"";var V=o.O7();O.push(V);V.opacity=j;V.add.lnsr="rend";var K=V.add.TySh=fX.D2(W-t*.2,C+t*.25),$=V.add.TySh.PF,r=fX.eF($,0,0);
r.i7.FontSize=Math.round(t*.6);fX.fn($,0,0,r);fX.yQ($,0,f);V.Vo();if(dr.Yr(K,u,S)){dr.cV(V,u,o);o.V()}}var I=this.GP;
for(var v=0;v<I.length;v++){var N=I[v];if(N[3]<z*B*5e-4)continue;a(N[2],N[0],N[1],128)}var V=F(g.n.Rd.Rect(0,0,t,t*h.length),{$:255,H:255,J:255,M:255});
V.FH("white");O.push(V);for(var v=0;v<h.length;v++){var m=h[v],V=F(g.n.Rd.Rect(t,t*v,t,t),m);V.FH("color");
O.push(V);a(v,t/2,t*(v+.5),255)}var V=o.O7();V.FH("Labels");V.add.lsct=jl.qb;V.TY="pass";V.XL=24;O.push(V)}var J=O[O.length-1];
if(!Z){var V=o.O7();V.FH(H.getName());V.add.lsct=jl.VV;V.TY="pass";V.XL=24;O.push(V);J=V}var Q=H.add.lmfx;
if(Q)J.add.lmfx=JSON.parse(JSON.stringify(Q));var A=O.length;for(var v=D+1;v<o.R.length;v++)O.push(o.R[v]);
_.data={q:d.IB,Z8:O,pQ:[A-1],ND:[11,11,0]}}else{var O=o.R.slice(0),V=o.O7();V.FH(H.getName());O.splice(o.T[0]+1,0,V);
V.rect=H.rect.clone();V.buffer=this.a0c;V.V();_.data={q:d.IB,Z8:O,pQ:[o.T[0]+1],ND:[11,11,1]}}this.A(_);
this.close();o.hU=!0};il.prototype.Ip=function(l,o){this.Fy=l};function dA(l){h8.call(this,[[7,11],[7,13]][l],["redge","magiccut"][l]);
this.m0=l;this.g2={};this.nX=null;this.Ay=null;this.h7=null;this.aQ=null;this.IN=null;this.body.style.padding="0";
this.FO=[];this.gI=-1;this.ID=M.a("div","form hbar padded");this.body.appendChild(this.ID);this.wC=new eI;
this.wC.parent=this;this.wC.O(k.E.B,this.Rx,this);this.ID.appendChild(this.wC.Z);var o=l==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
o=o.concat("tools/hand","zoomIn","zoomOut");var D=l==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.Wv=new iy(null,o,D,28);this.Wv.O(k.E.B,this.WP,this);this.ID.appendChild(this.Wv.Z);this.I0=new gs([7,9],0,50,null);
this.I0.parent=this;this.I0.O(k.E.B,[this.alK,this.G6][l],this);this.ID.appendChild(this.I0.Z);var H=this.aBa=new cg([2,2],!1,null,!0);
H.O("click",this.SD,this);this.ID.appendChild(H.Z);var _=this.Oq=M.a("span","form");this.ID.appendChild(_);
var u=this.awB=new cg([12,90],!1,null,!0);u.O("click",function(F){alert(l==0?cU.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
_.appendChild(u.Z);var S=new cg("Tutorial",!1,null,!0);S.O("click",this.ak9,this);_.appendChild(S.Z);
this.Mw=new iy([12,46],["checker","#ffffff","#000000"]);this.Mw.O(k.E.B,this.an_,this);_.appendChild(this.Mw.Z);
this.U2=new bU(null,[[6,13],[6,2],[17,2]]);_.appendChild(this.U2.Z);this.ur=M.qh(this,_,!1);var h=this.C1=M.a("div","flexrow");
this.body.appendChild(h);this.$y=new kP(!0);this.KS=new kP;this.$y.h9(this.KS);this.KS.h9(this.$y);this.$y.O("mousedown",this.GZ,this);
this.$y.O("mousemove",this.n$,this);this.$y.O("mouseup",this.lK,this);this.$y.O("zoom",this.Rx,this);
this.KS.O("zoom",this.Rx,this);h.appendChild(this.$y.Z);h.appendChild(this.KS.Z)}dA.prototype=new h8;
dA.prototype.WU=function(l,o){var D=l!=null&&!l.R[l.T[0]].rect.lh();if(!D)alert("The layer is empty.");
return D};dA.prototype.b8=function(){return new he(0,0)};dA.prototype.Iu=function(){return!0};dA.prototype.Av=function(l,o){this.pX=l;
this.B9=o;o=o-12-33;if(l<900){this.Oq.setAttribute("style","display:block;  text-align:right;");o-=29}else{this.Oq.setAttribute("style","position:absolute;  right:0px")}this.Mw.Qx(l<440?null:[12,46]);
this.I0.Qx(l<470?null:[7,9]);var D=this.g2.rect;if(D){var H=dA.a0_(l,o,D.Q,D._);if(H==0){l=Math.floor(l/2);
M.EA(this.C1,"flexrow")}else{o=Math.floor(o/2);M.vY(this.C1,"flexrow")}this.$y.Av(l,o);this.KS.Av(l,o)}};
dA.a0_=function(l,o,D,H){var _=l/2,u=o/2,S=Math.min(_/D,o/H),h=Math.min(l/D,u/H);return S>h?0:1};dA.prototype.k=function(){h8.prototype.k.call(this);
this.wC.k();this.I0.k();this.ur.k();this.Mw.k();this.U2.k();this.aBa.k();this.awB.k()};dA.prototype.ak9=function(l){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.m0],"_blank")};
dA.prototype.Ip=function(l,o){this.Ay=l;if(o==is.ON||o==is.CV){this.wC.jD(l.YQ);this.wC.j(j6.iF(),l.YQ.b9,l.YQ.N8)}};
dA.prototype.WP=function(l,o,D,H){var _=this.Wv.l();if(H==null){this.$y.WP(kP.at(_-3));return}this.aQ=H;
var u=p.hL.l8(this.wC.l(),H);if(u!=null){this.wC.j(u);this.Rx()}else if(H.W(e_.Cm)&&H.W(e_.rK)){var S=this.FO,h=0;
if(H.W(e_.eo)){if(this.gI+1<S.length)h=1}else if(this.gI>0)h=-1;if(h!=0){this.gI+=h;var F=this.gI,n=this.g2;
if(h==1)g.Qo(S[F][2],S[F][0],n.dn,n.rect);else g.Qo(S[F+1][1],S[F+1][0],n.dn,n.rect);n.bH=n.rect;this.G6()}}else if(_<3)this.$y.WP(H)};
dA.prototype.ms=function(l){var o=this.g2,D=this.FO,H=g.o(l.c()*4);g.Qo(o.Qa,o.rect,H,l);o.Qa=null;var _=g.o(l.c()*4);
g.Qo(o.dn,o.rect,_,l);this.gI++;D[this.gI]=[l.clone(),H,_];while(D.length>this.gI+1)D.pop();while(D.length>50){D=D.slice(1);
this.gI--}};dA.prototype.Rx=function(){var l=this.Ay,o=ie.lp(this.wC.l(),l.YQ.b9,this.$y.yP().F);this.$y.VC(o)};
dA.prototype.GZ=function(l){var o=this.Ay,D=this.g2,H=this.aQ,_=this.wC.l(),u=this.$y.fB(),S=[16777215,8421504,0][this.Wv.l()];
this.nX=new ie(_,o.YQ.b9,o.YQ.N8,{S$:1,Dg:!0},S,o.qg,D.rect);D.Qa=D.dn.slice(0);if(H!=null&&H.W(e_.eo)&&this.IN){this.nX.moveTo(this.IN.x,this.IN.y);
this.nX.lineTo(u.x,u.y)}else this.nX.moveTo(u.x,u.y);this.afN()};dA.prototype.n$=function(l){var o=this.g2,D=this.$y.fB();
this.nX.lineTo(D.x,D.y);this.afN()};dA.prototype.lK=function(l){this.IN=this.$y.fB();this.ms(this.nX.LT());
this.G6()};dA.prototype.afN=function(){var l=this.g2,o=this.nX,D=o.qq();if(D.lh())return;l.bH=D;g.z.JM("norm",o.VA(),o.fZ(),l.dn,l.rect,D,1);
this.ao7()};dA.prototype.SD=function(l){var o=this.g2;o.Qa=o.dn.slice(0);o.bH=o.rect;g.M5(o.dn,[4278190080,4292730333][this.m0]);
this.ms(o.rect);this.G6()};dA.prototype.my=function(l,o){this.h7=l;var D=l.R[l.T[0]],H=D.rect.clone(),_=H.Q,u=H._,F;
this.I0.j(this.m0==0?3:_*u<3e6?3:0);this.Wv.j(l.f==null?0:1);this.I0.ua();if(this.m0==0&&l.f!=null||this.m0==1)this.I0.TC();
var S=this.m0,h=g.o(H.c());if(S==0&&l.f){g.mB(l.f.channel,l.f.rect,h,H);var n=g.o(H.c());for(var R=0;
R<u;R++)for(var s=0;s<_;s++){var v=R*_+s,Z=h[v];if(s>0&&h[v-1]!=Z||s<_-1&&h[v+1]!=Z||R>0&&h[v-_]!=Z||R<u-1&&h[v+_]!=Z)n[v]=255}F=g.style.QK(n,_,u)}else{F=new Float32Array(H.c());
F.fill(1e9)}H.x=H.y=0;this.g2={rect:H,G5:D.buffer,dP:h,hw:F,w_:g.o(H.c()*4),OD:g.o(H.c()*4),dn:g.o(H.c()*4),Qa:null,FQ:null,bH:H,atz:{}};
if(S==0)this.alK();else{this.g2.atz=p.QI.af5(l);var O=this.g2.dn;g.M5(O,4287137928);var w=g.L$.getSelection(D.buffer,_,u),m=Math.round(_/60),V=Math.round(.7*u);
for(var R=0;R<u;R++)for(var s=0;s<_;s++){var q=(R*_+s)*4,i=w[q>>>2];i=i>128?255:128;if(R<m||R<V&&(s<m||s>_-1-m))i=0;
O[q]=O[q+1]=O[q+2]=i}this.G6()}this.FO=[1];this.gI=0;var c=this.wC.l();c.Brsh.v.Dmtr.v.val=Math.round(H.Q/(S==0?10:20));
this.wC.j(c);this.Rx();this.Av(this.pX,this.B9);this.$y.iX()};dA.prototype.alK=function(){var l=this.g2,o=l.rect.c(),D=this.I0.l(),H=l.dP.slice(0);
for(var v=0;v<o;v++)if(l.hw[v]<D)H[v]=128;g.M5(l.dn,4294967295);g.Kl(H,l.dn,0);g.Kl(H,l.dn,1);g.Kl(H,l.dn,2);
l.bH=l.rect;this.G6()};dA.prototype.G6=function(){var l=this.g2,_,h,F=0,n=0,R=0;this.ao7();var o=l.rect,D=o.Q,H=o._,u=g.o(o.c()),S=l.G5;
g.mA(l.dn,u,0);for(var v=0;v<u.length;v++){if(S[(v<<2)+3]!=255)continue;var s=u[v];if(s==0)F++;else if(s==255)n++;
else R++}if(F*n*R!=0){if(this.m0==0)h=g.Jj.Jj(o,S,u);else{var Z=this.Wv.l();for(var O=1;O<H;O++)for(var w=1;
w<D;w++){var v=O*D+w,m=u[v],V=u[v-1];if(m==0&&V==255||m==255&&V==0){_="The Red and Green should never touch! Erase it with Grey.";
break}}var q=Date.now(),i=this.g2.atz;g.Tg(u,i.Ue);p.QI.x6(i,!0,this.h7);var c=Math.ceil(this.I0.l()/2);
if(c==0){h=S.slice(0);g.Kl(i.f,h,3)}else{var z=i.f.slice(0),B=i.f.slice(0);for(var t=0;t<c;t++){for(var O=1;
O<H-1;O++)for(var w=1;w<D-1;w++){var v=O*o.Q+w,a=z[v];if(z[v-D]!=a||z[v-1]!=a||z[v+1]!=a||z[v+D]!=a)B[v]=128;
else B[v]=a}var I=z;z=B;B=I}for(var O=0;O<H;O++)for(var w=0;w<D;w++){var v=O*D+w;if(u[v]==0||u[v]==255)z[v]=u[v]}h=g.Jj.Jj(o,S,z,20,!1)}}}else{h=S.slice(0);
g.Kl(u,h,3)}for(var v=3;v<h.length;v+=4)if(h[v]>S[v])h[v]=S[v];if(o.kn(l.rect))l.FQ=h;else g.Qo(h,o,l.FQ,l.rect);
this.an_();if(_)alert(_,4e3)};dA.prototype.ao7=function(l){var o=this.g2,D=o.bH;g.Qo(o.G5,o.rect,o.w_,o.rect,D,!0);
var H=o.dn,_=o.rect,u=Date.now();if(this.m0==1){var S=new Uint32Array(256);S[0]=4278190335;S[255]=4278255360;
var h=g.o(D.c()*4),F=D.c();g.Qo(H,_,h,D);H=h;_=D;var n=new Uint32Array(H.buffer);for(var v=0;v<F;v++)n[v]=S[n[v]&255]}console.log(Date.now()-u);
g.z.JM("norm",H,_,o.w_,o.rect,D,.3);this.$y.j([{jH:o.rect,data:o.w_.buffer}],null,null,D)};dA.prototype.an_=function(l){var o=this.g2;
g.M5(o.OD,[0,4294967295,4278190080][this.Mw.l()]);g.z.JM("norm",o.FQ,o.rect,o.OD,o.rect,o.rect,1);this.KS.j([{jH:o.rect,data:o.OD.buffer}])};
dA.prototype._v=function(l){var o=this.h7,D=this.g2,H=this.U2.l(),_=o.R[o.T[0]],u=new jJ(k.E.r,!0);u.iy=!0;
var S=_.rect.clone();if(H==0&&_.zd()||H!=0&&!_.zd()){u.S=p.wU;u.data={q:d.B4,U:o.T[0]};this.A(u)}if(o.f!=null){u.S=p.lO;
u.data={q:"fromAction",KL:p.OK.Hy()};this.A(u)}if(H==0){var h=o.R.slice(0),F=o.O7();F.FH(_.getName());
h.splice(o.T[0]+1,0,F);F.rect=S;F.buffer=D.FQ;F.V();u.S=p.wU;u.data={q:d.IB,Z8:h,pQ:[o.T[0]+1],ND:[7,11]};
this.A(u)}if(H==1){var n=_.KQ();u.S=p.wU;u.data={q:d.J3,ab1:!0};this.A(u);var R=_.KQ();R.channel=g.o(S.c());
R.rect=S;R.color=0;R.cF=!0;g.mA(D.FQ,R.channel,3);if(n){var s=R.GM(n);R.rect=s.rect;R.channel=s.channel;
R.color=s.color}R.Hf();_.C$()}if(H==2){var Z={rect:S,channel:g.o(S.c())};g.mA(D.FQ,Z.channel,3);u.S=p.lO;
u.data={q:"setsel",f:Z,ND:this.uX};this.A(u)}this.close()};function dp(){h8.call(this,[1,13],"locstor");
this.Fy=null;this.t2=[];var l=this.body,o=M.a("p");o.textContent="These files are loaded every time you start Photopea.";
l.appendChild(o);this.akm=0;this.gk=M.a("span");l.appendChild(this.gk);this.gk.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var D=M.a("span","form");l.appendChild(D);this.Kg=new cg([5,4],!1,null,!0);this.Kg.O("click",this._6,this);
D.appendChild(this.Kg.Z);this.ax=new cg("Get all as ZIP",!1,null,!0);this.ax.O("click",this.Qb,this);
D.appendChild(this.ax.Z);this.WO=new k7(!0);this.WO.parent=this;this.WO.IW(1);l.appendChild(this.WO.Z);
this.WO.Z.setAttribute("style","width: 40em; height: 25em")}dp.prototype=new h8;dp.prototype.k=function(){h8.prototype.k.call(this);
this.gk.textContent=cU.get([13,2])+": "+ke.g4(this.akm);this.Kg.k()};dp.prototype.Ip=function(l,o){this.Fy=l;
if(o==is.pe)this.my()};dp.prototype.my=function(l,o){var D=this.Fy.Yt.Hn,F=0;this.t2=[];for(var H in D)this.t2.push(H);
this.t2.sort(function(R,s){R=R.split(".");s=s.split(".");return R[1]==s[1]?R[0]<s[0]?-1:1:R[1]<s[1]?-1:1});
var _=Math.floor(100*M.Y()),u=Math.floor(16*M.Y()),S=[],h=[];for(var v=0;v<this.t2.length;v++){var H=this.t2[v],n=dp.cK(H,D[H],_,u);
S.push(n);h.push(H);F+=D[H].byteLength}this.WO.f6(S,h,_,u);this.akm=F;this.k()};dp.prototype._6=function(l){var o=this.WO.l();
if(o.length==0){alert("Select a file first.");return}this.WO.j([]);var D=this.Fy.Yt.Hn;for(var v=0;v<o.length;
v++)delete D[this.t2[o[v]]];var H=new jJ(k.E.b,!0);H.data={q:k.L.lN,au:is.pe};this.A(H)};dp.prototype.Qb=function(l){var o=this.Fy.Yt.Hn,D={};
for(var H in o)D[H]=new Uint8Array(o[H]);var _=UZIP.encode(D);iT.save(_,"resources.zip")};dp.cK=function(l,o,D,H){var _=M.a("canvas"),h=0;
_.width=D;_.height=H;var u=_.getContext("2d"),S=l.split(".").pop().toLowerCase();for(var v=0;v<S.length;
v++)h+=S.charCodeAt(v)*613<<8*v;u.fillStyle="#"+g.Bi(h&16777215);u.fillRect(0,0,20,H);var F=Math.floor(14*M.Y());
u.fillStyle="#000000";u.font="bold "+F+"px sans-serif";var n=(H-F)/2,R=ke.g4(o.byteLength),s=u.measureText(R);
u.fillText(R,D-12-s.width,H-n);return _.toDataURL()};function gS(){h8.call(this,[1,15],"pmanager");this.Fy=null;
this.rA=new bU([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.rA.O(k.E.B,this.my,this);
this.body.appendChild(this.rA.Z);var l=M.a("div","flexrow");this.body.appendChild(l);var o=this.abh=M.a("div");
l.appendChild(o);var D=M.a("div","form");l.appendChild(D);D.setAttribute("style","width:140px; margin-left:12px");
this.a2y=[is.ON,is.z1,is.om,is.E9,is.ke,is.x8];this.Ho=[new eI,new bI,new gU,new kv,new jE,new dU];for(var v=0;
v<this.Ho.length;v++)this.Ho[v].parent=this;this.ae=[];for(var v=0;v<4;v++){var H=new cg("Hello",!0,null,!0);
H.O("click",this.jt,this);this.ae.push(H);D.appendChild(H.Z)}this.my()}gS.prototype=new h8;gS.prototype.iL=function(l){return l==e_.Ab||l==e_.O1};
gS.prototype.jt=function(l){var v=this.ae.indexOf(l.target);this.Ho[this.rA.l()].Cf(v)};gS.prototype.k=function(){h8.prototype.k.call(this);
this.rA.k();for(var v=0;v<this.Ho.length;v++)this.Ho[v].k();var l=this.ae,o=this.rA.l(),D=is.wx[this.a2y[o]],H=D[0].toUpperCase();
l[0].Qx([[23,6],"."+H]);l[1].Qx(["VAR0 ."+H,[1,8]]);l[2].Qx([6,37]);l[3].Qx([5,4])};gS.prototype.Ip=function(l,o){this.Fy=l;
this.my()};gS.prototype.my=function(l,o){if(!M.Ve(this.Z))return;this.k();M.o7(this.abh);this.abh.appendChild(this.Ho[this.rA.l()].KI);
var D=this.Ho,H=this.Fy;if(H==null)return;D[0].jD(H.YQ);D[1].WC(H.Os,H.qg);D[1].jD(H.h5);D[2].jD(H.hj);
D[3].jD([H.YT,H.hj]);D[4].jD(H.To);D[5].jD(H.bw)};function kl(l,o,D){h8.call(this,o,"cwindow");this.aDD=new he(D[0],D[1]-33);
this.ID=M.a("div","form");this.ID.setAttribute("style","width:"+(D[2]-D[0])+"px; height:"+(D[3]-D[1])+"px");
this.body.appendChild(this.ID)}kl.prototype=new h8;kl.prototype.b8=function(l,o){return this.aDD.clone()};
function cL(l){var o=cL.aak(l);h8.call(this,o,"res"+l);var D=this.afn.bind(this);window.addEventListener("message",function(_){if(typeof _.data=="string"&&_.data.startsWith("--et ")){console.log(_.data);
var u=this.a9u=_.data.slice(5).split(",");u[0]=parseFloat(u[0]);eJ.ph(u[0],u[1],D)}}.bind(this));this.Qn=o;
this.xn=l;this.a8M=null;this.nE=null;this.ed=0;this.TV=null;this.mo=null;this.a9u=null;this.Fy=null;
this.body.setAttribute("style","padding:0");this.WX=new cg("",null,null,!0);this.body.appendChild(this.WX.Z);
this.WX.O("click",this.vg,this);this.WX.Z.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.D6=new cg("\u25BC",null,null,!0);this.D6.Z.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:270px");
this.D6.O("click",this.azp,this);this.body.appendChild(this.D6.Z);this.BY=M.a("span","form");this.body.appendChild(this.BY);
this.ae=[];for(var v=0;v<9;v++){var H=new cg(cL.aak(v));this.ae.push(H);if(v==l)H.j(!0);this.BY.appendChild(H.Z);
H.O("click",this.apM,this)}this._4=new cg([5,3],null,null,!0);this._4.O("click",this.axh,this);this.amS=new cg("Upload Current Document as a Template",null,null,!0);
this.amS.O("click",this.a42,this);this.CN=new g7("Creator / Brand name");this.Yu=new cg([1,2],null,null,!0);
this.Yu.O("click",this.Qb,this);this.Ib=M.a("iframe","scrollable");this.Ib.setAttribute("style","border:none; margin:0; padding:0;");
this.zk=M.a("div","form scrollable padded");this.zL=new a2(l);this.zL.O("back",this.SD,this);this.zL.O("save",this.alz,this);
this.body.appendChild(this.Ib)}cL.prototype=new h8;cL.aak=function(l){var o;if(l==0)o=[25,0];else if(l==1)o="Plugins";
else for(var D in is.wx)if(is.wx[D][4]==l)o=is.wx[D][3];return o};cL.prototype.azp=function(l){this.BY.style.display=this.BY.style.display=="none"?"":"none"};
cL.prototype.apM=function(l){var v=this.ae.indexOf(l.target);if(v==this.xn)return;this.close();var o=new jJ(k.E.b,!0);
o.data={q:k.L.E1,mg:"res"+v};this.A(o)};cL.prototype.afn=function(l){this.vg();this.mo=JSON.parse(l.target.response);
this.A3()};cL.prototype.b8=function(l,o){return new he(0,0)};cL.prototype.Av=function(l,o){this.pX=l;
this.B9=o;this.Gj=null;o=o-4;l=l;var D=l>820,H="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",_="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
this.BY.setAttribute("style",D?H:_);this.BY.style.marginTop=(D?-31:0)+"px";this.D6.Z.style.display=D?"none":"";
var u=this.zk;u.style.width=l-12+"px";u.style.height=o-12+"px";var u=this.zL.Z;u.style.width=l-12+"px";
u.style.height=o-12+"px";var u=this.Ib;u.style.width=l+"px";u.style.height=o+"px";this.zC()};cL.prototype.Ip=function(l,o){this.Fy=l};
cL.prototype.k=function(){h8.prototype.k.call(this);for(var v=0;v<this.ae.length;v++)this.ae[v].k();
this._4.k()};cL.prototype.my=function(l,o,D,H){this.Gj=l;this.vg(null,!1)};cL.prototype.vg=function(l,o){var D=o!=null?o:M.Ve(this.Ib);
if(D){if(!eJ.EY()){alert("You need to log in first!");return}var H=eJ.A2();this.nE=H.tpl?H.tpl.list:[];
this.CN.j(H.tpl&&H.tpl.brnd?H.tpl.brnd:"");this.zC()}else{this.Ib.setAttribute("src","");this.Ib.setAttribute("src",eJ.NO("templates/?type="+this.xn+"&rsrc="+this.Fy.Pv.join(",")))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(D?this.zk:this.Ib);var _=cU.get(this.Qn);this.WX.Qx(D?"All "+_:"Add "+_)};cL.prototype.zC=function(){var l=cU.get(this.Qn),o=this.nE,D=this.xn,h=450;
if(o==null)return;var H=this.zk;M.o7(H);var _=M.a("h1");H.appendChild(_);_.textContent="Share your "+l+" with the world!";
var u=M.a("ul");H.appendChild(u);var S=M.a("li");u.appendChild(S);S.textContent="By publishing your "+l+", you agree to let others use them for all kinds of purposes, even commercially.";
H.appendChild(this._4.Z);if(D==0)H.appendChild(this.amS.Z);M.wR(H);H.appendChild(this.CN.Z);H.appendChild(this.Yu.Z);
M.wR(H);h=(this.pX-20)/Math.max(1,Math.floor(this.pX/h))-42;var F="display:inline-block; width:"+h+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var v=o.length-1;v>=0;v--){var n=o[v];if(n.type==null)n.type=0;if(n.type!=D)continue;var R=M.a("div");
H.appendChild(R);R.setAttribute("style",F);var s=M.a("img");R.appendChild(s);s.setAttribute("src",n.thmb);
s.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var Z=M.a("h3");R.appendChild(Z);Z.textContent=n.name;Z.setAttribute("style","margin:0 0 10px 0");var O=M.a("p");
R.appendChild(O);O.textContent=n.desc;O.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var w=0;w<2;w++){var m=new cg(w==0?"Edit":"Delete",null,null,!0);m.a35=v;m.A3=w==0;m.O("click",this.ahh,this);
R.appendChild(m.Z)}}};cL.prototype.a42=function(l){if(this.Gj==null){alert("No document opened.");return}var o=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!o)return;var D=new jJ(k.E.b,!0);D.data={q:k.L.DG,Fp:"psd",fF:this.aAO.bind(this)};this.A(D)};cL.prototype.aAO=function(l){this.aCv=l;
var o=new jJ(k.E.b,!0);o.data={q:k.L.DG,Fp:"jpg",fF:this.aox.bind(this),apJ:1400};this.A(o)};cL.prototype.aox=function(l){this.TV={type:0,catg:0,desc:"",file:this.aCv,name:this.Gj.name.split(".")[0],thmb:l,publ:!0,utme:""};
this.A3()};cL.prototype.axh=function(l){this.TV={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.A3()};cL.prototype.ahh=function(l){this.ed=l.target.a35;if(!l.target.A3){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.nE.splice(this.ed,1);this.Qb();this.zC();return}this.A3()};cL.prototype.A3=function(){if(M.Ve(this.zk))this.body.removeChild(this.zk);
this.body.appendChild(this.zL.Z);var l=this.TV?this.TV:this.mo?this.mo:this.nE[this.ed];if(l.type==null)l.type=0;
this.zL.j(l)};cL.prototype.alz=function(l){var o=this.zL.l();if(this.TV)this.nE.push(o);else if(this.mo){var D=this.a9u;
eJ.ph(D[0],D[1],this.SD.bind(this),JSON.stringify(o));return}else this.nE[this.ed]=o;this.Qb();this.SD()};
cL.prototype.SD=function(){var l=this.mo;this.TV=null;this.mo=null;this.body.removeChild(this.zL.Z);
this.body.appendChild(this.zk);this.zC();if(l)this.vg()};cL.prototype.Qb=function(){var l=eJ.A2();if(this.nE.length==0)delete l.tpl;
else{l.tpl={list:JSON.parse(JSON.stringify(this.nE))};var o=this.CN.l().trim();if(o!="")l.tpl.brnd=o}eJ.h0(l,function(){alert("Saved.")})};
function hH(){h8.call(this,"Make Selection","makesel");this.Fy=null;var l=M.a("div","form");this.body.appendChild(l);
this.zb=new km([12,25,1]);this.zb.j(!0);l.appendChild(this.zb.Z);M.wR(l);this.mY=new dE(!0);l.appendChild(this.mY.Z);
this.ur=M.qh(this,this.body)}hH.prototype=new h8;hH.prototype.k=function(){h8.prototype.k.call(this);
this.mY.k();this.zb.k();this.ur.k()};hH.prototype._v=function(l){var o=new jJ(k.E.r,!0);o.S=p.lO;o.data={q:"frompath",Jl:[null,0,this.mY.l(),this.zb.l()]};
this.close();this.A(o)};function gQ(){h8.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.Gj=null;this.TB=null;
this.ge=null;var l=this.acX=M.a("div","form");l.setAttribute("style","width:20em");this.body.appendChild(l);
this.ES=new ei([12,50],["PSD","PSB"]);this.ES.O(k.E.B,this.HP,this);l.appendChild(this.ES.Z);M.EK(l);
var o=new eW("Minify the file");l.appendChild(o.Z);M.wR(l);var D=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.gO=[];for(var v=0;v<D.length;v++){var H=new km(D[v]);this.gO.push(H);l.appendChild(H.Z);H.O(k.E.B,this.HP,this)}M.EK(l);
this.VU=new eW("aa.psd");this.ZL=new eW("10 kB");l.appendChild(this.ZL.Z);this.adw=new eW("1000 B");
l.appendChild(this.adw.Z);this.ur=new cg([1,2],!0,null,!0);this.ur.O("click",this._v,this);l.appendChild(this.ur.Z);
this.q4=new cg(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.q4.O("click",this._v,this);l.appendChild(this.q4.Z);
this.O("closebtn",this.iD,this)}gQ.prototype=new h8;gQ.prototype.my=function(l,o,D,H){var _=M.Ve(this.q4.Z),u=l.Pl!=null&&l.Pl.Ne=="psd";
if(u&&!_)this.acX.appendChild(this.q4.Z);if(!u&&_)this.acX.removeChild(this.q4.Z);for(var v=0;v<this.gO.length;
v++)this.gO[v].j(!1);this.Gj=l;this.HP()};gQ.prototype._v=function(l){if(l.target==this.ur)iT.save(this.TB,this.ge);
else{if(this.gO[3].l()){alert("You should not save a ZIP as a PSD to Google Drive.");return}fh.a56(this.Gj,this.TB)}};
gQ.prototype.iD=function(){this.Gj=null;this.TB=null};gQ.prototype.HP=function(){var l=this.Gj,o=[!1,!1,!1,!1];
for(var v=0;v<3;v++)o[v]=this.gO[v].l();var D=this.gO[3].l(),H=o[3]=this.ES.l()==1,_=l.name.slice(0,l.name.length-3),u=this.TB=fj.rU("PSD").MJ(l,0,0,o),kC=this.ge=_+"ps"+(H?"b":"d");
if(D){var S={};S[kC]=new Uint8Array(u);u=this.TB=UZIP.encode(S);kC=this.ge=_+"zip"}this.VU.j(kC);this.ZL.j(ke.g4(u.byteLength));
this.ZL.Z.style["font-size"]="2em";this.adw.j(" \u2001 "+u.byteLength+" B");this.ur.Qx(cU.get([1,2])+" \""+kC+"\"")};
gQ.prototype.k=function(){h8.prototype.k.call(this);this.ES.k();this.ur.k();this.q4.k()};function ct(){h8.call(this,"Confirm","confirm");
this.Gu=null;var l=M.a("div");l.setAttribute("style","margin-bottom:1em");this.body.appendChild(l);this.t9=M.a("div");
this.t9.textContent="Hello";l.appendChild(this.t9);this.ur=M.qh(this,this.body)}ct.prototype=new h8;
ct.prototype._v=function(l){if(this.Gu==null)return;console.log("okconfirm");this.close();this.Gu();
this.Gu=null};ct.prototype.k=function(){h8.prototype.k.call(this);this.ur.k()};ct.prototype.my=function(l,o){if(o.a7o||o.a8w)this.t9.innerHTML=o.P;
else this.t9.textContent=o.P;if(o.aBW)this.ur.Qx(o.aBW);this.Gu=o.Gu;this.ur.Z.focus();if(o.a7o!=null)this.Z.style.top=Math.random()*(window.innerHeight-150)+"px";
this.a7O=o.a7o!=null};ct.prototype.b8=function(l,o){return new he(Math.max(0,(l-500)/2),Math.max(0,Math.min(60,(o-100)/2)))};
ct.prototype.Av=function(l,o){this.t9.style.width=l-30+"px"};function cG(){h8.call(this,[1,16,2],"newartb");
this.m0=0;this.XZ=null;var l=M.a("div","form");l.style.width="260px";this.body.appendChild(l);this.WO=new dd;
l.appendChild(this.WO.Z);this.ur=M.qh(this,l)}cG.prototype=new h8;cG.prototype.WU=function(l,o){return l!=null};
cG.prototype._v=function(l){var o=this.WO.l();this.XZ.Q=o.x;this.XZ._=o.y;var D=new jJ(k.E.r,!0);D.S=p.ck;
D.data={aDz:this.XZ,PT:this.m0};this.A(D);this.close()};cG.prototype.k=function(){h8.prototype.k.call(this);
this.WO.k();this.ur.k()};cG.prototype.my=function(l,o){this.m0=o.PT;var D=new gt(0,0,l.Q,l._);if(l.T.length!=0){var H=l.R[l.T[0]];
if(H.add.artb){D=H.IH();D.x+=D.Q+100}if(o.PT==1)D=p.cA.fZ(l)}this.XZ=D;this.WO.j(new he(D.Q,D._))};function eQ(){h8.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.Bu=null;this.O("closebtn",this.Qs,this);this.O("canclose",this.Qs,this)}eQ.prototype=new h8;
eQ.prototype.Ip=function(l,o){if(this.Bu)this.Bu.Ip(l,o)};eQ.prototype.b8=function(l,o){return new he(Math.max(0,Math.min(150,(l-980)/2)),Math.max(0,Math.min(150,(o-590)/2)))};
eQ.prototype.Av=function(l,o){this.pX=l;this.B9=o;l=Math.min(l,980);o=Math.min(o,590);if(this.Bu)this.Bu.Av(l,o)};
eQ.prototype.k=function(){h8.prototype.k.call(this);if(this.Bu)this.Bu.k()};eQ.prototype.my=function(l,o,D,H){this.uX=o.PT==0?"Open from Storage":"Save to Storage";
this.k();if(this.Bu==null){this.Bu=new iP;this.Bu.parent=this;this.body.appendChild(this.Bu.Z);this.k();
this.Av(this.pX,this.B9)}Storage.IW(o.PT,l?l.name:"");iP.IX(this.Bu)};eQ.prototype.Qs=function(l){Storage.IW(0);
iP.ZN();if(l.type=="canclose")this.close()};function kH(){h8.call(this,[2,14],"varsdats");var l=this.ID=M.a("div","form");
l.setAttribute("style","width:300px");this.body.appendChild(l);this.Gj=null;this.yo=0;this.Fy=null;this.Nw=new ei(null,[[2,14],"Data Sets",[1,8]]);
this.Nw.O(k.E.B,this.ai1,this);this.uG=new kH.pL;this.Wi=new kH.uP;this.bn=new kH.Si;this.Wi.O("activate",this.Gm,this);
this.bn.O("export",this.O3,this);this.ur=M.qh(this)}kH.prototype=new h8;kH.prototype.ai1=function(l){var o=this.Nw.l(),D=this.ID;
M.o7(D);D.appendChild(this.Nw.Z);M.EK(D);D.appendChild([this.uG,this.Wi,this.bn][o].Z);D.appendChild(this.ur.Z)};
kH.prototype._v=function(l){var o=new jJ(k.E.r,!0);o.S=p.wU;o.data={q:d.Rr,P:JSON.stringify([this.uG.l(),this.Wi.l()])};
this.A(o);this.close()};kH.prototype.k=function(){h8.prototype.k.call(this);this.ur.k();this.bn.k()};
kH.prototype.my=function(l,o){this.Gj=l;this.bn.Gj=l;if(l==null)return;this.uG.my(l,o);this.Wi.my(l,o);
this.Nw.j(0);this.ai1();this.yo=0;this.bn.aei()};kH.prototype.Ip=function(l,o){this.Fy=l};kH.prototype.O3=function(l){var o=this.uG.l(),D=this.Wi.l(),H=this.bn.l();
if(o.length==0){alert("There are no variables.");return}if(D.length==0){alert("There are no data sets.");
return}var _=fj.aC5(this.Gj,o,D,this.Wi.akr(),H[0],H[1],H[2],this.Fy,this);if(_!=null)iT.save(_,"images.zip")};
kH.prototype.Gm=function(l){var o=this.Wi.T,D=this.uG.l(),H=this.Wi.l();if(D.length==0){alert("There are no variables.");
return}if(H.length==0){alert("There are no data sets.");return}this.Zf();this.yo+=fj.aBu(this.Gj,this,D,H,this.Wi.akr(),o)};
kH.prototype.Zf=function(){var l=new jJ(k.E.r,!0);l.S=p.zo;l.data={q:"h_stepbck"};while(this.yo>0){this.A(l);
this.yo--}};kH.Si=function(){f1.call(this);var l=this.Z=M.a("div");this.Jy=new g7("Variable for file names");
l.appendChild(this.Jy.Z);M.EK(l);this.Gj=null;this.pB=["JPG","PNG","PDF"];this.ES=new ei([12,50],this.pB);
this.ES.O(k.E.B,this.aei,this);l.appendChild(this.ES.Z);this.TG=new kM;l.appendChild(this.TG.Z);this.ax=new cg("Export all items",!0,null,!0);
this.ax.O("click",this.O3,this);l.appendChild(this.ax.Z)};kH.Si.prototype=new f1;kH.Si.prototype.k=function(l){this.Jy.k();
this.ES.k();this.ax.k();this.TG.k()};kH.Si.prototype.aei=function(l){if(this.Gj==null)return;var o=this.pB[this.ES.l()],D=this.Gj,H=D.add.artd;
this.TG.HR(o,null,null,H!=null&&H.Cnt.v>1)};kH.Si.prototype.O3=function(l){this.A(new jJ("export"))};
kH.Si.prototype.l=function(){var l=this.pB[this.ES.l()];return[l,this.TG.l(),this.Jy.l().trim()]};kH.uP=function(){f1.call(this);
this.PG=null;this.bi=[];this.T=0;var l=this.Z=M.a("div","form");this.QQ=new c$("Import a CSV file");
l.appendChild(this.QQ.Z);this.QQ.O(k.E.B,this.a9H,this);this.tq=M.a("div","scrollable");this.tq.setAttribute("style","overflow:scroll;  height:234px;");
l.appendChild(this.tq);this.aaD=new c$("Source Images",!0);l.appendChild(this.aaD.Z)};kH.uP.prototype=new f1;
kH.uP.prototype.a9H=function(l){var o=this.QQ.l();for(var D in o){o=o[D];break}this.PG=iH.x2(x.Fs(o));
this.$u()};kH.uP.prototype.akr=function(){return this.aaD.l()};kH.uP.prototype.my=function(l,o){var D=this.PG=JSON.parse(JSON.stringify(l.pt));
this.$u()};kH.uP.prototype.l=function(){return this.PG};kH.uP.prototype.$u=function(){var l=this.ZU.bind(this),o=this.PG,H="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.bi=[];var D=M.a("table");D.setAttribute("style","border-collapse: collapse;");for(var v=0;v<o.length;
v++){var _=M.a("tr"),u=o[v],S=v==0?"th":"td";D.appendChild(_);var h=M.a(S);_.appendChild(h);h.setAttribute("style",H+"cursor:pointer;");
if(v!=0)h.textContent="\u2713";this.bi.push(h);h.addEventListener("click",l,!1);for(var F=0;F<u.length;
F++){var h=M.a(S);h.textContent=u[F];_.appendChild(h);h.setAttribute("style",H);h.setAttribute("title",u[F])}}M.o7(this.tq);
this.tq.appendChild(D)};kH.uP.prototype.ZU=function(l){this.T=this.bi.indexOf(l.currentTarget);this.A(new jJ("activate"))};
kH.pL=function(){f1.call(this);var l=this.Z=M.a("div","form marged");this.DE=null;this.pM=[];this.bL=[];
this.tR=null;this.QY=new bU([0,3],[]);this.QY.O(k.E.B,this.a63,this);l.appendChild(this.QY.Z);this.R9=[];
var o=["Visibility","Text Content","Pixel Content"];for(var v=0;v<o.length;v++){M.EK(l);var D=new km(o[v]);
D.O(k.E.B,this.FS,this);l.appendChild(D.Z);M.wR(l);var H=new g7("Variable Name");H.O(k.E.B,this.FS,this);
l.appendChild(H.Z);this.R9.push(D,H)}};kH.pL.prototype=new f1;kH.pL.prototype.FS=function(l){var o=this.QY.l(),D=this.tR[o],H=this.pM[o],_=this.DE["l"+D],u=this.R9;
if(_==null)this.DE["l"+D]=_=[];while(_.length!=0)_.pop();for(var v=0;v<3;v++){var S=u[2*v+1].l().trim();
if(!u[2*v].l())continue;if(S.indexOf(" ")!=-1){alert("Variable names can not contain spaces. But you can use \".\", \":\", \"-\" or \"_\".",4e3)}S=S.replaceAll(" ","");
var h={varName:S,trait:["visibility","textcontent","fileref"][v]};_.push(h);if(v==2){h.align="center";
h.clip="false";h.placementMethod="fit";h.valign="middle"}}if(_.length==0)delete this.DE["l"+D];this.my()};
kH.pL.prototype.a63=function(l){var o=this.QY.l(),D=this.tR[o],H=this.pM[o],_=this.DE["l"+D],u=this.R9;
if(_==null)_=[];for(var v=0;v<3;v++){var S=v==0||v==1&&H==0||v==2&&H==1;u[2*v].td(S);u[2*v].j(!1);u[2*v+1].td(S);
if(!S)u[2*v+1].j("")}for(var v=0;v<_.length;v++){var h=_[v],F=h.trait,n=["visibility","textcontent","fileref"].indexOf(F);
u[n*2].j(!0);u[n*2+1].j(h.varName)}};kH.pL.prototype.my=function(l,o){if(l){var D=JSON.parse(JSON.stringify(l.Qk)),H=this.DE={};
for(var v=0;v<D.length;v++){var _=D[v],u=_.docRef;u="l"+u.slice(4,u.length-2);if(H[u]==null)H[u]=[];
H[u].push(_)}this.tR=[];this.pM=[];this.bL=[];for(var v=l.R.length-1;v>=0;v--){var S=l.R[v],u=S.add.lyid;
if(S.add.lsct==jl.fa)continue;this.tR.push(u);this.pM.push(S.add.TySh?0:1);this.bL.push(S.getName())}}var h=[],F=this.bL;
for(var v=0;v<F.length;v++){h.push(F[v]+(this.DE["l"+this.tR[v]]?" *":""))}var n=this.QY.l();this.QY.Ls(h);
this.QY.j(n);this.a63()};kH.pL.prototype.l=function(){var l=this.DE,o=[];for(var D in l){var H=l[D];
for(var _=0;_<H.length;_++){H[_].docRef="id('"+D.slice(1)+"')";o.push(H[_])}}return o};function go(){h8.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.p5=!1;var l=this.V3=[],o=M.a("div","form");o.setAttribute("style","width:20em");this.body.appendChild(o);
for(var v=0;v<2;v++){var D=new km([22,4,2+v]);o.appendChild(D.Z);M.wR(o);var H=new ei(null,[["N equal parts"],["N pixels per part"]]);
o.appendChild(H.Z);M.wR(o);var _=new gs("N",0,1e3);_.j(4);_.parent=this;o.appendChild(_.Z);M.wR(o);if(v==0)M.EK(o);
l.push(D,H,_)}for(var v=0;v<l.length;v++)l[v].O(k.E.B,this.dy,this);l.push(M.qh(this,o));this.O("closebtn",this.Zf,this)}go.prototype=new h8;
go.prototype.Zf=function(){if(this.p5){var l=new jJ(k.E.r,!0);l.S=p.zo;l.data={q:"h_stepbck"};this.A(l)}};
go.prototype.dy=function(l){this.Zf();this.p5=!0;var o=[];for(var v=0;v<6;v++)o.push(this.V3[v].l());
var D={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var H=0;H<2;H++){if(!o[H*3])continue;var _=o[H*3+1],u=o[H*3+2];D[["slices","pixels"][_]+["Across","Down"][H]]={t:"long",v:u}}var S=new jJ(k.E.yT,!0);
S.data={vS:"divide",M1:D};this.A(S)};go.prototype._v=function(l){this.close()};go.prototype.k=function(){h8.prototype.k.call(this);
var l=this.V3;for(var v=0;v<l.length;v++)l[v].k()};go.prototype.my=function(l,o){this.p5=!1};function ju(){h8.call(this,"Stroke Path","strokepath");
this.Fy=null;this.yw=null;this.Ss=null;this.ur=null;this.ET=[p.eh,p.ON,p.Ix,p.Xy,p.oH,p.jA,p.oL,p.IO,p.zY,p.hF,p._L,p.Ng,p.HV,p.MD,p._0]}ju.prototype=new h8;
ju.prototype.k=function(){h8.prototype.k.call(this);if(this.ur){this.yw.k();this.ur.k()}};ju.prototype._v=function(l){var o=this.ET[this.yw.l()],D=null;
for(var H in p.AW)if(p.AW[H]==o)D=H;var _=new jJ(k.E.yT,!0);_.data=p.dG.mj(D,this.Ss.l());this.close();
this.A(_)};ju.prototype.Ip=function(l,o){if(this.Fy==null){var D=[];for(var v=0;v<this.ET.length;++v){D.push(l.p.map[this.ET[v]].S.name)}var H=M.a("div","form");
this.body.appendChild(H);this.yw=new bU("Tool",D);this.yw.j(1);H.appendChild(this.yw.Z);this.Ss=new km("Simulate Pressure");
M.wR(H);H.appendChild(this.Ss.Z);this.ur=M.qh(this,this.body)}this.Fy=l};function bh(){h8.call(this,[1,18],"linkview");
M.EA(this.body,"form");var l=this.ci=[new g7(null,null,17),new cg([5,1],!1,null,!0),new cg([1,0],!1,null,!0)];
for(var v=0;v<3;v++){var o=l[v];this.body.appendChild(o.Z);if(v!=0)o.O("click",this.a6P,this);if(v==0)M.wR(this.body)}}bh.prototype=new h8;
bh.prototype.my=function(l,o){var D=o.aDU;if(D.startsWith("https://"))D=D.slice(8);this.ci[0].j(D)};
bh.prototype.a6P=function(l){var o=this.ci,D=o[0].l(),H=l.target==this.ci[1];if(H){navigator.clipboard.writeText(D);
alert("Copied to a clipboard!")}else window.open("https://"+D,"Shared")};function k5(l){h8.call(this,l==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][l]);
this.p7=null;this.Rw=null;this.a09=l;var o=M.a("div","form label8");o.setAttribute("style","max-width:26em");
this.body.appendChild(o);this.xt=new bU("Document",["abc","def"]);this.xt.O(k.E.B,this.FS,this);o.appendChild(this.xt.Z);
M.wR(o);this.lf=new bU([12,4],["abc","def"]);this.lf.O(k.E.B,this.FS,this);o.appendChild(this.lf.Z);
this.afZ=new km([4,11]);this.t9=new g7([12,48]);this.t9.j("Alpha");if(l==0){}else{o.appendChild(this.t9.Z)}this.FV=new dE(!0);
o.appendChild(this.FV.Z);this.ur=M.qh(this,o)}k5.prototype=new h8;k5.prototype.Iu=function(){return!0};
k5.prototype.k=function(){h8.prototype.k.call(this);this.ur.k();this.xt.k();this.lf.k();this.t9.k();
this.afZ.k();this.FV.k()};k5.prototype.FS=function(l){var o=this.a09;if(l==null||l==this.xt){var D=this.xt.l(),H=this.Rw[D],_=[];
if(o==0)_.push(H.R[H.T[0]].getName()+" Transparency");else _.push([5,3]);for(var v=0;v<H.Lx.length;v++)_.push(H.Lx[v].name);
this.lf.Ls(_)}if(o==0)return;var u=this.lf.l();this.t9.td(u==0);this.FV.td(u!=0)};k5.prototype.my=function(l,o,D){this.p7=l;
this.Rw=D;var H=[];for(var v=0;v<D.length;v++){var _=D[v].name;H.push(_.length<30?_:_.slice(0,27)+"...")}this.xt.Ls(H);
this.xt.j(D.indexOf(l));this.FS(null)};k5.prototype._v=function(l){var o=this.a09,D=this.lf.l(),H=this.xt.l(),_=this.Rw[H],u=this.FV.l(),S;
if(D==0){S=new jJ(k.E.yT,!0);if(o==0)S.data=p.OK.gZ(u,"Trsp",_.R[_.T[0]].getName());else S.data={vS:"duplicate",M1:{classID:"null",Nm:{t:"TEXT",v:this.t9.l()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{S=new jJ(k.E.r,!0);
if(o==0){S.S=p.lO;S.data={q:"fromchannel",Jl:[-4-D,0,u]}}else{S.S=p.wU;S.data={q:d.O$,i6:"seltochannel",Jl:[D-1,u]}}}this.close();
this.A(S)};function j4(l,o,D,H){f1.call(this);this.name=l;this.a2l=D;this.o8=H;this.M2=M.a("div","");
this.M2.setAttribute("draggable","true");this.ns=M.a("div","pbody");this.Ar=new cg("",!1,"");this.Ar.parent=this;
this.avc=M.a("span","cross gsicon");this.Kq=M.a("span","label");var _=this.aeJ.bind(this);this.M2.addEventListener("mousedown",this.ag_.bind(this),!1);
this.M2.addEventListener("contextmenu",_,!1);this.Ar.Z.addEventListener("contextmenu",_,!1);this.avc.addEventListener("mousedown",this.e3.bind(this),!1);
this.M2.appendChild(this.Kq);if(o)this.M2.appendChild(this.avc);this.hO=!1;this.Kq.textContent=l}j4.prototype=new f1;
j4.prototype.Cz=function(){return null};j4.prototype.k=function(){var l=cU.get(this.name),o=!1,D=this.pX==0?22:Math.round(2+this.pX/50);
if(l.endsWith(" *")){o=!0;l=l.slice(0,l.length-2);D-=2}var H=l.length>D;this.Kq.textContent=H?l.slice(0,D-2):l;
if(H)for(var _=0;_<2;_++){var u=M.a("span");u.textContent=l.charAt(D-2+_);u.setAttribute("style","opacity:"+(.6-_*.4));
this.Kq.appendChild(u)}if(o){var u=M.a("span");u.textContent=" *";this.Kq.appendChild(u)}var S=l.split(" "),h=S.length==2?S[0].substring(0,2)+S[1][0]:l.substring(0,3);
if(h.charCodeAt(0)>=11776)h=h.substring(0,1);var F=this.a2l;if(F==null)this.Ar.Qx(h,l);else{var n;if(F.startsWith("---"))n="<img src=\""+PIMG[F.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(F.startsWith("==="))n="<img src=\""+F.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(F.indexOf("\"")==-1)n="<img src=\""+F+"\" alt=\""+M.Ec(l).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.Ar.Qx(n,l)}};j4.prototype.enable=function(){this.ns.className="pbody"};j4.prototype.disable=function(){this.ns.className="pbody disabled"};
j4.prototype.Ip=function(l,o){};j4.prototype.my=function(l,o,D){};j4.prototype.i2=function(l){};j4.prototype.Av=function(l,o){};
j4.prototype.nT=function(l){this.name=l;this.k()};j4.prototype.QB=function(){};j4.prototype.ag_=function(l){if(l.button==0)this.A(new jJ("select",!1));
if(l.button==1)this.H2()};j4.prototype.aeJ=function(l){M.nw(l);if(this.o8!=null&&isNaN(this.o8))return;
var o=M.Kx(l,document.body),D=this.My;if(D==null){D=this.My=new fg([{name:[1,12,0]}]);this.My.O("select",this.e3,this)}D.update(null);
D.k();D.parent=this;var H=new jJ(k.E.b,!0);H.data={q:k.L.jq,VG:D,x:o.x+1,y:o.y+1};this.A(H)};j4.prototype.H2=function(){this.e3({})};
j4.prototype.e3=function(l){if(l.stopPropagation)l.stopPropagation();if(this.o8!=null&&!isNaN(this.o8)){var o=new jJ(k.E.b,!0);
o.data={q:k.L.H0,VG:this.My};this.A(o);o.data={q:k.L.lN,au:is.YL,P:parseFloat(this.o8),BL:"del"};this.A(o)}else if(this.a95())this.A(new jJ(k.E.Wg,!1))};
j4.prototype.a95=function(l){return!0};j4.prototype.GE=function(l,o,D,H,_){};j4.prototype.XR=function(l,o,D,H,_){};
j4.prototype.Jm=function(l,o,D,H,_){};j4.yv=function(l,o,D){if(l.childElementCount!=0)return;var H=l.textContent;
this.Gb=this.auO.bind(this);this.anl=this.aC4.bind(this);this.GH=o;this.a77=D;this._W=l;this.a58=H;var _=M.a("input","");
_.setAttribute("type","text");_.setAttribute("size","10");_.setAttribute("value",H);M.o7(l);l.appendChild(_);
_.select();_.focus();M.cp(l);l.addEventListener("keyup",this.Gb,!1);document.body.addEventListener("mousedown",this.anl,!1)};
j4.yv.prototype.auO=function(l){var o=e_.MY,D=o(l.code,e_.PA);if(o(l.code,e_.aZ)||D)this.aBT(D)};j4.yv.prototype.aC4=function(l){var o=l.target;
if(o.tagName&&o.tagName.toLowerCase()=="input")return;this.aBT(!0)};j4.yv.prototype.aBT=function(l){var o=this._W,D=o.firstChild.value;
o.removeEventListener("keyup",this.Gb);document.body.removeEventListener("mousedown",this.anl);if(this.a77||l&&D!=""&&D!=this.a58){this.GH(D)}else{M.o7(o);
o.textContent=this.a58}};j4.nC={zo:"0",azL:"1",wU:"2",arw:"3",ahj:"4",Fj:"5",CSS:"6",ON:"7",a4P:"8",arH:"9",aBc:"10",a3W:"11",a8n:"12",rY:"13",p2:"14",anR:"15",ajy:"16",uw:"17",awC:"18",avS:"19",aiJ:"20",E9:"21",aAw:"22",a7f:"23",acK:"24",afO:"25"};
function iz(){j4.call(this,[9,9],!1,"---panels/actions",j4.nC.a3W);this.Fy=null;this.uc=[0,0]}iz.prototype=new j4("");
iz.prototype.Zw=function(){if(!M.Ve(this.ns)||this.cw)return;this.cw=M.a("div","padded scrollable");
this.cw.setAttribute("style","width:260px;  height:260px");this.ns.appendChild(this.cw);this.O(k.E.B,this.Ku,this);
this.Vq=M.a("div","lpfoot");this.ns.appendChild(this.Vq);this.Ho=[];var l="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",o="</svg>",D=l+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+o,H=l+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+o;
this.agN=l+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+o;this.ai2=l+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+o;
var _=[this.agN,H,"lrs/folder","lrs/newlayer","lrs/bin",D],u=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var v=0;v<_.length;v++){var S=_[v];if(1<v&&v!=_.length-1)S="<img src=\""+PIMG[_[v]]+"\" class=\"miniscale gsicon\" />";
var h=new cg(S,!1,u[v]);h.O("click",this.atb,this);this.Vq.appendChild(h.Z);this.Ho.push(h)}this.$u()};
iz.prototype.k=function(){j4.prototype.k.call(this);if(this.cw==null)return;for(var v=0;v<this.Ho.length;
v++)this.Ho[v].k()};iz.prototype.atb=function(l){var v=this.Ho.indexOf(l.currentTarget),o=this.uc,D=this.Fy,H=D.Pg;
if(v==0){var _,u=D.JP;if(H.length==0){alert("Create an Action Set first.");return}if(o.length<2){alert("Select a target action first.");
return}if(u==null){_=this.ai2;u=this.uc}else{_=this.agN;u=null}this.Ho[0].Qx(_);D.JP=u}else if(v==1)this.aq7();
else if(v==2||v==3){var S={ND:"Action Set "+H.length,T3:[],exp:!0};if(v==2||H.length==0){o=[H.length];
H.push(S)}if(v==3){var h=H[o[0]].T3;o=[o[0],h.length];h.push({ND:"Action "+h.length,color:0,T3:[],aaJ:!1,shift:!1,exp:!0,wN:h.length})}this.uc=o;
this.$u()}else if(v==4){var F;if(o.length==1)F=H;else if(o.length==2)F=H[o[0]].T3;else F=H[o[0]].T3[o[1]].T3;
var n=o.length-1;F.splice(o[n],1);if(F.length==0)o.pop();else while(o[n]>=F.length)o[n]--;if(o.length==0)o.push(0);
this.$u()}else if(v==5){if(H.length==0){alert("No Actions Present.");return}var R=new jJ(k.E.b,!0);R.data={q:k.L.NE,afs:is.r,Pr:o[0]};
this.A(R)}};iz.prototype.Ku=function(l){var o=this.Fy.Pg,D=l.data.q,H=l.data.FG;if(D=="sel")this.uc=H;
if(D=="fold"){if(H.length==1)o[H[0]].exp=!o[H[0]].exp;else o[H[0]].T3[H[1]].exp=!o[H[0]].T3[H[1]].exp}if(D=="enab"){var _=o[H[0]].T3[H[1]].T3[H[2]];
_.e=!_.e}if(D=="nchange"){if(H.length==1)o[H[0]].ND=l.data.U3;else o[H[0]].T3[H[1]].ND=l.data.U3}this.$u()};
iz.prototype.my=iz.prototype.QB=function(){this.Zw()};iz.prototype.Ip=function(l,o){this.Fy=l;if(this.cw==null)return;
if(o==is.r||o==is.CV)this.$u()};iz.prototype.$u=function(){if(this.Fy==null)return;M.o7(this.cw);var l=this.Fy.Pg;
if(l.length==0)return;var o=JSON.stringify(this.uc);for(var v=0;v<l.length;v++){var D=l[v],H=new iz.YJ([v],o,D.exp,D.ND.split("=").pop());
H.parent=this;this.cw.appendChild(H.Z);if(!D.exp)continue;for(var _=0;_<D.T3.length;_++){var u=D.T3[_],H=new iz.YJ([v,_],o,u.exp,u.ND.split("=").pop());
H.parent=this;this.cw.appendChild(H.Z);if(!u.exp)continue;for(var S=0;S<u.T3.length;S++){var h=u.T3[S],H=new iz.YJ([v,_,S],o,null,cU.get(bt.an7(h)),h.e);
H.parent=this;this.cw.appendChild(H.Z)}}}};iz.prototype.aq7=function(){var l=this.Fy.Pg,o=this.uc;if(l.length==0){alert("No Actions Present");
return}if(o.length==1){alert("Select an Action first");return}if(this.Fy.JP!=null){alert("You can not apply actions while recording actions");
return}if(o.length==1)o.push(0);var D=l[o[0]],H=D.T3[o[1]],_=new jJ(k.E.b,!0);_.data={q:k.L.yM,Jl:[H.ND,D.ND]};
this.A(_)};iz.YJ=function(l,o,D,H,_){f1.call(this);this.FG=l;var u=this.FG.length-1;this.Z=M.a("div","layeritem"+(JSON.stringify(l)==o?" selected":""));
this.ft=M.a("div","head");this.Z.appendChild(this.ft);this.ft.setAttribute("style","height:24px");this.bx=M.a("div","headL");
this.ft.appendChild(this.bx);if(u!=0){var S=M.a("div");S.style.width=u*20+"px";this.bx.appendChild(S)}if(D!=null){var h=this.a5J=M.a("div",D?"open":"closed");
this.bx.appendChild(h)}else{var F=this.ad5=M.a("div","cmark");F.setAttribute("style","background-size:12px 12px; opacity:"+(_?1:.3));
this.bx.appendChild(F)}if(u==0){var n=M.a("div","folder");this.bx.appendChild(n)}var R=this.Kq=M.a("div","label");
R.textContent=H;this.bx.appendChild(R);this.Z.addEventListener("mouseup",this.Gm.bind(this),!1)};iz.YJ.prototype=new f1;
iz.YJ.prototype.Gm=function(l){if(l.detail==1&&l.target.tagName.toLowerCase()!="input"){var o="sel";
if(l.target==this.a5J)o="fold";if(l.target==this.ad5)o="enab";var D=new jJ(k.E.B,!0);D.data={q:o,FG:this.FG};
this.A(D)}else if(this.FG.length<3)var H=new j4.yv(this.Kq,this.GH.bind(this))};iz.YJ.prototype.GH=function(l){var o=new jJ(k.E.B,!0);
o.data={q:"nchange",U3:l,FG:this.FG};this.A(o)};function hB(){j4.call(this,[3],!1,"---lrs/adj",j4.nC.awC)}hB.prototype=new j4("");
hB.prototype.Zw=function(){if(!M.Ve(this.ns)||this.Ho)return;this.ns.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.Ho=[];var v=0;for(var l in jW.names){var o=new cg("<img src=\""+PIMG["adj/"+l]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,jW.names[l]);
o.O("click",this.El,this);this.Ho.push(o);this.ns.appendChild(o.Z);if(v==4||v==10)M.wR(this.ns);v++}this.k()};
hB.prototype.my=function(){this.Zw()};hB.prototype.QB=function(){this.Zw()};hB.prototype.k=function(){j4.prototype.k.call(this);
if(this.Ho==null)return;for(var v=0;v<this.Ho.length;v++)this.Ho[v].k()};hB.prototype.El=function(l){var o=this.Ho.indexOf(l.target),D=ga.wn()[o],H=new jJ(D.K,!0);
H.data=D.m;this.A(H)};function dl(){j4.call(this,[12,22],!1,null,j4.nC.E9);this.cw=M.a("div","padded");
this.Fy=null;this.ns.appendChild(this.cw);this.ir=new kv(null,17.7,10);this.ir.parent=this;this.ir.O(k.E.B,this.dy,this);
this.cw.appendChild(this.ir.KI)}dl.prototype=new j4("");dl.prototype.dy=function(l){var o=this.ir.l(),D=new jJ(k.E.r,!0);
D.data={q:"setstl",P:o.yO};D.S=p.AM;this.A(D);D.data={q:"confirm"};this.A(D)};dl.prototype.Ip=function(l,o){this.Fy=l;
this.$u()};dl.prototype.$u=function(){var l=this.Fy;if(l==null)return;this.ir.jD([l.YT,l.hj]);this.ir.Av()};
dl.prototype.my=function(){this.$u()};dl.prototype.QB=function(){this.$u()};var hD=function(){function l(){j4.call(this,[9,3],!1,"---panels/brush",j4.nC.ON);
this.by=null;this.Fy=null}l.prototype=new j4("");l.prototype.Zw=function(){var _=M.a("div","");this.ns.appendChild(_);
this.Y_=M.a("div","bordered cell");this.Y_.setAttribute("style","width:10em; height:28.5em;");_.appendChild(this.Y_);
this.xG=[];this.Mc=null;this.J8=[];var u=this.asT.bind(this);this.Co=[new D("basic"),new D("useTipDynamics"),new D("useScatter"),new D("useColorDynamics"),new D("usePaintDynamics")];
for(var v=0;v<this.Co.length;v++){var S=M.a("div","listitem"),h=this.Co[v],n=null;h.parent=this;h.O("brushchange",this.aae,this);
var F=h.Uj;if(v==0){this.Mc=new eW(F);S.appendChild(this.Mc.Z)}else{n=new km(F,!1);n.O(k.E.B,this.ajO,this);
S.appendChild(n.Z)}this.J8.push(n);this.Y_.appendChild(S);this.xG.push(S);S.addEventListener("click",u,!1)}this.xe=M.a("div","cell padded");
_.appendChild(this.xe);this.setItem(0);this.Pf=M.a("canvas");this.Pf.height=10;_.appendChild(this.Pf);
this.Ig=this.Pf.getContext("2d");this.G6()};l.prototype.Av=function(_,u){if(this.pX==_)return;this.pX=_;
this.B9=u;this.G6()};l.prototype.QB=function(){if(!M.Ve(this.ns))return;if(this.Y_){this.G6();return}this.Zw();
this.k();this.Ip(this.Fy,is.CV)};l.prototype.k=function(){j4.prototype.k.call(this);if(this.Y_==null)return;
this.Mc.k();for(var v=1;v<this.J8.length;v++)this.J8[v].k();for(var v=0;v<this.Co.length;v++)this.Co[v].k()};
l.prototype.aae=function(_){var u=this.Co.indexOf(_.currentTarget),S=JSON.parse(JSON.stringify(this.Co[u].by)),h=new jJ(k.E.b,!0);
h.data={q:k.L.lN,au:is._b,by:S};this.A(h)};l.prototype.ajO=function(_){this.aCO(this.J8.indexOf(_.currentTarget),_.currentTarget.hf())};
l.prototype.asT=function(_){var v=this.xG.indexOf(_.currentTarget);if(_.target.tagName.toLowerCase()=="input")return;
if(this.J8[v]&&!this.J8[v].hf()){this.J8[v].PL();this.aCO(v,!0)}this.setItem(v)};l.prototype.aCO=function(_,u){this.Co[_].a47(u)};
l.prototype.setItem=function(_){for(var v=0;v<this.Co.length;v++)this.xG[v].className="listitem";if(this.xe.firstChild)this.xe.removeChild(this.xe.firstChild);
this.xG[_].className="listitem selected";this.xe.appendChild(this.Co[_].Z)};l.prototype.Ip=function(_,u){this.Fy=_;
if(this.Y_==null)return;for(var v=0;v<this.Co.length;v++)this.Co[v].Ip(_,u);if(u==is._b||u==is.CV){this.by=_.YQ.Wj;
this.G6()}if(u==is.rY)this.G6()};l.prototype.G6=function(){if(this.by)this.enable();else{this.disable();
return}if(!M.Ve(this.ns))return;var _=this.Fy;for(var v=0;v<this.Co.length;v++){this.Co[v].j(this.by);
if(this.J8[v])this.J8[v].j(this.Co[v].hf())}var u=JSON.parse(JSON.stringify(this.by));u.Brsh.v.Dmtr.v.val=Math.min(u.Brsh.v.Dmtr.v.val,50);
M.QT(this.Pf,this.pX,80);var S=new gt(0,0,this.Pf.width,this.Pf.height),h=this.Fy.YQ,F=new ie(u,h?h.b9:null,h?h.N8:null,{S$:1},_.Os,_.qg,S,null,0),n=S._/2,R=S.Q-n*2;
F.moveTo(n,n);for(var v=0;v<=R;v+=10)F.lineTo(n+v,n+20*Math.sin(2*Math.PI*v/R));F.finish();var s=this.Ig.createImageData(S.Q,S._);
g.Qo(F.VA(),F.fZ(),s.data,S);this.Ig.putImageData(s,0,0)};function o(_){f1.call(this);_=_.split(".")[0];
this.JN=_;var u=this.Z=M.a("span"),S=["Off","Fade"];S.push(_=="angleDynamics"?"Direction":"Pen Pressure");
var h=this.rA=new bU("Control",S);h.O(k.E.B,this.FS,this);u.appendChild(h.Z);var F=this.a0Z=new gs(null,0,100,null,null,null,!0);
F.j(50);F.O(k.E.B,this.FS,this)}o.prototype=new f1;o.prototype.j=function(_){_=_<2?_:2;this.rA.j(_);
this.$u()};o.prototype.l=function(){var _=this.rA.l(),u=this.JN;_=_<=1?_:u=="angleDynamics"?6:2;return _};
o.prototype.FS=function(_){this.$u();_.target=_.currentTarget=this;this.A(_)};o.prototype.$u=function(_){this.a0Z.td(this.rA.l()==1)};
function D(_){f1.call(this);this.Z=M.a("div");this.by=null;var u=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(_);
this.Uj=[[15,0],[15,1],[15,2],[15,3],"Transfer"][u];this.m0=_;this.sy={};this.aaq=null;var S=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][u];
for(var v=0;v<S.length;v++){var h=S[v],F;if(h=="--br"){F=new eI;this.Z.appendChild(F.KI.firstChild)}else if(h=="Brsh.Dmtr")F=new h_([12,14,0],1,1e3," px",0,!0);
else if(h=="Brsh.Angl")F=new h_([12,15],0,359," \xB0");else if(h=="Brsh.Rndn")F=new h_([12,16],0,100," %");
else if(h=="Brsh.Hrdn")F=new h_([12,17],0,100," %");else if(h=="Brsh.Spcn")F=new h_([12,18],1,300," %");
else if(h=="szVr.jitter")F=new h_([15,4,0],0,100,"%");else if(h=="minimumDiameter")F=new h_([15,4,1],0,100,"%");
else if(h=="angleDynamics.jitter")F=new h_([15,4,2],0,100,"%");else if(h.endsWith("bVTy"))F=new o(h);
else if(h.endsWith("fStp"))F=new gs(null,0,100,null,null,null,!0);else if(h=="roundnessDynamics.jitter")F=new h_([15,4,3],0,100,"%");
else if(h=="minimumRoundness")F=new h_([15,4,4],1,100,"%");else if(h=="scatterDynamics.jitter")F=new h_([15,5,0],0,1e3," %");
else if(h=="Cnt")F=new h_([15,5,1],1,20);else if(h=="countDynamics.jitter")F=new h_([15,5,2],0,100," %");
else if(h=="clVr.jitter")F=new h_([15,6,0],0,100," %");else if(h=="H")F=new h_([15,6,1],0,100," %");
else if(h=="Strt")F=new h_([15,6,2],0,100," %");else if(h=="Brgh")F=new h_([15,6,3],0,100," %");else if(h=="opVr.jitter")F=new h_("Opacity Jitter",0,100," %");
else if(h=="prVr.jitter")F=new h_("Flow Jitter",0,100," %");else throw h;this.sy[h]=F;F.parent=this;
F.O(k.E.B,this.FS,this)}}D.prototype=new f1;D.prototype.aDs=function(){this.A(new jJ("brushchange"))};
D.prototype.j=function(_){this.by=JSON.parse(JSON.stringify(_));this.Z.className=this.hf()?"":"disabled";
this.G6()};D.prototype.k=function(){for(var _ in this.sy)this.sy[_].k()};D.prototype.hf=function(){return!0};
D.prototype.Ip=function(_,u){if(u==is.ON||u==is.CV){var S=this.sy["--br"];if(S)S.jD(_.YQ)}};D.prototype.FS=function(_){var u=_.target,S=this.sy,h;
for(var F in S)if(S[F]==u)h=F;if(h=="--br"){var n=new jJ(k.E.b,!0);n.data={q:k.L.lN,au:is._b,by:u.l()};
this.A(n)}else{var R=H(this.by,h),s=u.l();if(R){if(h.endsWith("bVTy")||h.endsWith("fStp")||h=="Cnt")R.v=s;
else R.v.val=s;this.aDs()}}};D.prototype.G6=function(){var _=this.by,u=_.Brsh.v.classID,S=this.sy,h=u!=this.aaq;
this.aaq=u;if(h){M.o7(this.Z);for(var F in S){if(u!="computedBrush"&&u!="sampledBrush"&&F=="Brsh.Rndn")continue;
if(u!="computedBrush"&&F=="Brsh.Hrdn")continue;var n=S[F],R=n.Z;if(F=="--br"){R=n.G_.Z;R.style.width="auto"}this.Z.appendChild(R)}}for(var F in S){if(F=="--br")continue;
var s=H(_,F),Z;if(s){if(F.endsWith("bVTy")||F.endsWith("fStp")||F=="Cnt")Z=s.v;else Z=s.v.val;S[F].j(Z);
if(F.endsWith("fStp"))S[F].td(H(_,F.split(".")[0]+".bVTy").v==1)}}};D.prototype.hf=function(){var _=this.m0;
return _=="basic"?!0:this.by[_].v};D.prototype.a47=function(_){var u=this.m0;if(u=="basic")return;this.by[u].v=_;
j6.nv.aCc(this.by);this.aDs()};function H(_,u){var S=u.split(".");_=_[S[0]];for(var v=1;v<S.length;v++){if(_==null)return _;
_=_.v[S[v]]}return _}return l}();function ib(){j4.call(this,[9,0],!1,"---panels/history",j4.nC.zo);this.ns.setAttribute("style","min-width:200px;");
this.an=M.a("div","hpbody scrollable");this.an.style.height="160px";this.ns.appendChild(this.an);this.a9S=-1;
this.RH=[];this._5="";this.HC=new fg([{name:"Clear History"}],[{K:k.E.r,S:p.zo,m:{q:"h_clear"}}])}ib.prototype=new j4("");
ib.prototype.Cz=function(){return this.HC};ib.prototype.Av=function(l,o){this.QB()};ib.prototype.my=function(l){if(l==null){M.o7(this.an);
this._5="";return}M.o7(this.an);var o=0;for(var v=0;v<l.history.length;v++)if(v<=l.IL&&!l.history[v].OM)o=v;
for(var v=0;v<l.history.length;v++){var D=l.history[v];if(D.OM)continue;var H=new dL(D,v,o);H.parent=this;
this.an.appendChild(H.Z);this.RH.push(H)}if(l.IL==l.history.length-1)this.QB()};ib.prototype.QB=function(){this.an.scrollTop=this.an.scrollHeight};
ib.prototype.k=function(){j4.prototype.k.call(this);for(var v=0;v<this.RH.length;v++)this.RH[v].k()};
function dL(l,v,o){f1.call(this);this.index=v;this.Z=M.a("div",v==o?"listitem selected":"listitem");
this.Qn=l.name;this.k();if(v>o)this.Z.style.opacity=.4;this.Z.addEventListener("click",this.GE.bind(this),!1)}dL.prototype=new f1;
dL.prototype.k=function(){this.Z.textContent=cU.get(this.Qn)};dL.prototype.GE=function(l){if(this.index==this.parent.a9S)return;
this.t6({q:"h_itemchange",index:this.index})};dL.prototype.t6=function(l){var o=new jJ(k.E.r,!0);o.data=l;
o.S=p.zo;this.A(o)};function eP(){j4.call(this,[9,10],!1,"---panels/histogram",j4.nC.ahj);var l=M.a("div","padded");
this.ns.appendChild(l);this.oZ=new ky(256,!0);l.appendChild(this.oZ.Z);this.Gj=null}eP.prototype=new j4("");
eP.prototype.my=function(l){this.Gj=l;this.$u()};eP.prototype.$u=function(){var l=this.Gj;if(!M.Ve(this.ns))return;
if(l==null||l.T.length==0){this.oZ.j(g.Pn(g.o(4)));return}var o=l.zG(),D=new gt(0,0,l.Q,l._),H=D.c();
if(l.f){var _=l.f.rect,u=g.o(_.c()*4);g.Qo(o,D,u,_);g.NY(l.f.channel,u);o=u;D=_;var S=l.f.channel;H=0;
for(var v=0;v<S.length;v++)H+=S[v];H=Math.round(H/255)}var h=g.Pn(o);h[0][255]+=3*(H-h[5]);for(var v=1;
v<4;v++)h[v][255]+=H-h[5];this.oZ.j(h,H)};eP.prototype.Ip=function(l,o){this.oZ.BM(gp.PO[l.NP]["--text-color"])};
eP.prototype.k=function(){j4.prototype.k.call(this);this.oZ.k()};eP.prototype.QB=function(){this.$u()};
function jt(){j4.call(this,[9,8],!1,"---adj/clrL",j4.nC.azL);this.cw=M.a("div","padded");this.ns.appendChild(this.cw);
this.sw=new bl(10);this.cw.appendChild(this.sw.Z);this.pw=new eD;this.pw.parent=this;this.cw.appendChild(this.pw.KI);
this.pw.KI.style.marginTop="6px";this.sw.O(k.E.B,this.aqK,this);this.pw.O(k.E.B,this.aqK,this)}jt.prototype=new j4("");
jt.prototype.aqK=function(l){var o;if(l.target==this.sw)o=this.sw.l();else{var D=this.pw.l();o=g.V$(D)}var H=new jJ(k.E.b,!0);
H.data={q:k.L.lN,au:is.rY,i6:0,P:o};this.A(H)};jt.cq=function(l,o){var D=o==is.CV,H=l.tJ,_=l.K_,u=_.strokeStyleContent.v,S=null;
if((o==is.Eq||D)&&H.hM==1){S=g.G.s3(H.E6.Clr.v);S=S.$<<16|S.H<<8|S.J}if((o==is.J0||D)&&_.strokeEnabled.v&&u.classID=="solidColorLayer"){S=g.G.s3(u.Clr.v);
S=S.$<<16|S.H<<8|S.J}if(o==is.rY||D)S=l.Os;return S};jt.prototype.Ip=function(l,o){var D=l.Os,H=o==is.CV,_=jt.cq(l,o);
if(_!=null){this.sw.j(_);this.pw.j({$:_>>>16&255,H:_>>>8&255,J:_>>>0&255,$_:"Default/Color #"+g.Bi(_)})}if(o==is.UB||H){var u=l.a13;
this.pw.jD(u)}};jt.prototype.Av=function(l,o){this.pw.KI.children[0].style.width=l-32+"px"};function c4(){j4.call(this,[12,72],!1,"---adj/mixr",j4.nC.ajy);
this._P=null;this.ye=null;this.an=M.a("div","lpbody scrollable");this.an.style.marginTop="4px";this.Vq=M.a("div","lpfoot");
this.ns.appendChild(this.an);this.ns.appendChild(this.Vq);this.aw=[];this.O("click",this.Vd,this);this.nG=[];
c4.H_([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.nG,this.Vq,this.UW.bind(this),this.Jt.bind(this));
this.HC=new fg([{name:"Merge Channels",oj:!0}],[{K:k.E.b,m:{q:k.L.E1,mg:"mergechannels"}}])}c4.prototype=new j4("");
c4.prototype.Cz=function(){return this.HC};c4.H_=function(l,o,D,H,_){for(var v=0;v<l.length;v++){var u=new cg("W",!1,l[v]);
o.push(u);M.GY(u.Z,H);D.appendChild(u.Z);var S=u.Z;S.addEventListener("drop",_,!1);S.addEventListener("dragover",function(h){h.preventDefault()},!1);
S.addEventListener("dragenter",M.nw,!1)}};c4.WJ=function(l,o){for(var v=0;v<l.length;v++)if(l[v].Z==o.currentTarget)return v};
c4.prototype.UW=function(l){var o=c4.WJ(this.nG,l);if(o==0)this.A(iB.Yn(!0,null,l));else{o--;var D=new jJ(k.E.yT,!0),H={classID:"null"};
if(o==0)H.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(o==1)H.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else H.null=bt.NA("Chnl",!0);D.data={vS:["duplicate","make","delete"][o],M1:H};this.A(D)}};c4.prototype.Jt=function(l){var o=c4.WJ(this.nG,l);
if(o==2){var D=new jJ(k.E.yT,!0),H={classID:"null"};H.null=bt.NA("Chnl",!0);D.data={vS:"duplicate",M1:H};
this.A(D)}else this.UW(l)};c4.prototype.tc=function(v){var l=this.aw,o=l[v];if(o==null){var D=M.a("canvas");
o=D.getContext("2d");l.push(o)}return o};c4.prototype.Vd=function(l){var o=this._P.slice(0),D=l.data.wN,H=o[0]+o[1]+o[2],_=this.ye;
if(-5<D&&D<0){var u=-D-1;if(l.data.WD){if(u==0)o=H==3?[0,0,0]:[1,1,1];else{if(o[u-1]==0)o[u-1]=1;else if(!0)o[u-1]=0}}else{if(u==0)o=[1,1,1];
else{o=[0,0,0];o[u-1]=1}for(var v=0;v<_.Lx.length;v++)_.Lx[v].Pj=!1;_.q0=[]}var S=new jJ(k.E.r,!0);S.S=p.ap;
S.data={q:"setcls",N:o};this.A(S);return}if(-1<D){var h=_.R[D],F=h.Ih==1?h.KQ():h.nN(_).I;if(l.data.WD)F.Pj=!F.Pj;
else{for(var v=0;v<_.Lx.length;v++)_.Lx[v].Pj=!1;_.q0=[]}}else{var n=-D-5,F=_.Lx[n];if(l.data.WD)F.Pj=!F.Pj;
else{for(var v=0;v<_.Lx.length;v++)_.Lx[v].Pj=!1;F.Pj=!0;_.q0=[n];if(H!=0){var S=new jJ(k.E.r,!0);S.S=p.ap;
S.data={q:"setcls",N:[0,0,0]};this.A(S)}}}_.st=_.LD=!0};c4.prototype.QB=function(){this.HP()};c4.prototype.my=function(l){this.ye=l;
this.HP()};c4.prototype.HP=function(){var l=this.ye,o=this.an,O=4;M.o7(o);if(l==null||!M.Ve(o))return;
var D=l.Q,H=l._,_=new gt(0,0,D,H),u=this._P=l.w.N.slice(0),S=u[0]+u[1]+u[2],h=Math.round(34*M.Y()),F=h;
if(D>H)F=Math.round(F*H/D);else h=Math.round(h*D/H);var n=["RGB"].concat(jW.oA);for(var v=0;v<4;v++){var R=this.tc(v);
g._9.dF(R,h,F,_,l.zG(),_,!1,v==0?null:v-1);var s=v==0?S==3:u[v-1]==1,Z=new iB(-1-v,!0,!0,R,n[v],s,s);
Z.parent=this;o.appendChild(Z.Z);M.af(R.canvas)}for(var v=0;v<l.T.length;v++){var w=l.R[l.T[v]],m=w.Ih;
if(m!=1&&m!=3)continue;var V=m==1?w.KQ():w.nN(l).I,R=this.tc(O+v);O++;g._9.Jd(R,h,F,_,V);var Z=new iB(l.T[v],!0,!0,R,w.getName()+(m==1?"":" Filter")+" Mask",!0,V.Pj);
Z.parent=this;o.appendChild(Z.Z);M.af(R.canvas)}for(var v=0;v<l.Lx.length;v++){var V=l.Lx[v],R=this.tc(O+v);
g._9.Jd(R,h,F,_,V);var Z=new iB(-5-v,!0,V.name=="Quick Mask",R,V.name,l.q0.indexOf(v)!=-1,V.Pj,p.wU,{q:d.O$,i6:"rnm",wN:v});
Z.parent=this;o.appendChild(Z.Z);M.af(R.canvas)}};c4.prototype.Av=function(l,o){this.an.style.height=o-30-4+"px";
this.an.style.width=l+"px"};c4.prototype.k=function(){j4.prototype.k.call(this);this.HP();c4.pO(this.nG,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
c4.pO=function(l,o,D){var o=ei.uo(o,null,"miniscale");for(var v=0;v<l.length;v++)l[v].Qx(o[v],D?D[v]:null)};
function iB(l,o,D,H,_,u,S,h,F){f1.call(this);this.Z=M.a("div");this.a4A=l;this.ad0=o;this.Ig=H;this.akO=h;
this.ale=F;this.ft=M.a("div",u?"head selected":"head");this.ft.setAttribute("style","height: "+40+"px");
var n=M.a("div","headL"),R=M.a("div","headR"),s=15;this.Z.appendChild(this.ft);this.ft.appendChild(n);
this.ft.appendChild(R);this.KG=M.a("div","eye");if(1<M.Y()&&M.Y()<1.5)s=s/M.Y();this.KG.setAttribute("style","background-size: "+s+"px "+s+"px;");
this.KG.style.opacity=S?1:.2;if(o)n.appendChild(this.KG);this.Ql=M.a("div","thumb");if(H)this.Ql.appendChild(H.canvas);
n.appendChild(this.Ql);this.L3=M.a("div","label");if(D)this.L3.style.fontStyle="italic";this.L3.textContent=cU.get(_);
n.appendChild(this.L3);var Z=this.ft;Z.setAttribute("draggable","true");Z.addEventListener("dragstart",function(O){O.stopPropagation();
O.dataTransfer.setData("Text","hello")},!1);Z.addEventListener("drop",M.nw,!1);M.GY(this.ft,this.akV.bind(this));
if(!D)this.ft.addEventListener("mouseup",this.aeR.bind(this),!1)}iB.prototype=new f1;iB.prototype.GH=function(l){var o=new jJ(k.E.r,!0);
o.S=this.akO;o.data=this.ale;o.data.name=l;this.A(o)};iB.prototype.akV=function(l){var o=l.ctrlKey||l.metaKey,D=this.a4A;
if(o&&l.target==this.Ig.canvas){this.A(iB.Yn(this.ad0,D,l))}else{var H=new jJ("click",!0);H.data={wN:D,WD:l.target==this.KG,pb:o};
this.A(H)}};iB.prototype.aeR=function(l){if(l.detail==2&&l.target==this.L3){var o=new j4.yv(this.L3,this.GH.bind(this))}};
iB.Yn=function(l,o,D){var H=0;if(D.shiftKey)H++;if(D.altKey)H+=2;var _=new jJ(k.E.r,!0);_.S=p.lO;if(l){if(-5<o&&o<0){_=new jJ(k.E.yT,!0);
_.data=p.OK.gZ(H,["RGB","Rd","Grn","Bl"][-1-o])}else _.data={q:"fromchannel",Jl:[o,0,H]}}else _.data={q:"frompath",Jl:[o,0,H]};
return _};function cY(){j4.call(this,[8,9],!1,"---panels/paths",j4.nC.uw);this._P=null;this.ye=null;
this.an=M.a("div","lpbody scrollable");this.an.style.marginTop="4px";this.Vq=M.a("div","lpfoot");this.ns.appendChild(this.an);
this.ns.appendChild(this.Vq);this.ns.addEventListener("click",this.aqI.bind(this),!1);this.aw=[];this.O("click",this.Vd,this);
this.nG=[];c4.H_(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.nG,this.Vq,this.UW.bind(this),this.Jt.bind(this))}cY.prototype=new j4("");
cY.prototype.UW=function(l,o){var D=c4.WJ(this.nG,l),H;if(D<2){if(D==1&&l.altKey){H=new jJ(k.E.b,!0);
H.data={q:k.L.E1,mg:"strokepath"}}else{H=new jJ(k.E.yT,!0);H.data=p.dG.mj(D==0?null:"PbTl")}}else if(D==2)H=iB.Yn(!1,null,l);
else if(D==3){H=new jJ(k.E.yT,!0);H.data={vS:"make",M1:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(D>3){var H=new jJ(k.E.r,!0);
H.S=p.md;H.data={q:"pathedit",i6:["new","del"][D-4],a2L:o}}this.A(H)};cY.prototype.Jt=function(l){this.UW(l,!0)};
cY.prototype.tc=function(v){var l=this.aw,o=l[v];if(o==null){var D=M.a("canvas");o=D.getContext("2d");
l.push(o)}return o};cY.prototype.aqI=function(l){if(l.target==this.an){var o=this.ye;o.dZ=[];o.Vl=[];
o.LD=!0;o.st=!0}};cY.prototype.Vd=function(l){var o=l.data.wN,D=this.ye,H=l.data.pb,_=o,u=D.Vl,S=D.dZ;
if(o<0){_=-1-o;u=D.dZ;S=D.Vl}if(H){var h=u.indexOf(_);if(h==-1)u.push(_);else u.splice(h,1)}else{while(u.length!=0)u.pop();
while(S.length!=0)S.pop();u.push(_)}D.LD=!0;D.st=!0};cY.prototype.QB=function(){this.HP()};cY.prototype.my=function(l){this.ye=l;
this.HP()};cY.prototype.HP=function(){var l=this.ye,o=this.an;M.o7(o);if(l==null||!M.Ve(o))return;var D=l.Q,H=l._,_=new gt(0,0,D,H),u=this._P=l.w.N.slice(0),S=u[0]+u[1]+u[2],h=Math.round(34*M.Y()),F=h;
if(D>H)F=Math.round(F*H/D);else h=Math.round(h*D/H);var n=l.CS(),R=n[0];for(var v=0;v<R.length;v++){var s=R[v],Z=this.tc(v);
g._9.aAD(Z,h,F,_,s.add.vmsk);var O=new iB(s.wN,!1,s.wN>=0,Z,s.name,n[1].indexOf(v)!=-1,!1,p.md,{q:"pathedit",i6:"rnm",wN:s.wN});
O.parent=this;o.appendChild(O.Z);M.af(Z.canvas)}};cY.prototype.Av=function(l,o){this.an.style.height=o-30-4+"px";
this.an.style.width=l+"px"};cY.prototype.k=function(){j4.prototype.k.call(this);this.HP();c4.pO(this.nG,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function hp(l){j4.call(this,[9,l?4:5],!1,"---panels/"+(l?"character":"paragraph"),l?j4.nC.arH:j4.nC.aBc);
this.ns.setAttribute("style","min-width:240px;");this.H6=l;this.fh=null;this.Fy=null}hp.prototype=new j4("");
hp.prototype.Zw=function(){this.fh=new kN;var l=this.fh,o=this.ns;l.parent=this;if(this.H6){var D=M.a("div","marged");
o.appendChild(D);D.appendChild(l.Gc.Z);o.appendChild(M.a("hr"));var H=M.a("div","marged");o.appendChild(H);
H.appendChild(l.VH.Z);H.appendChild(l.Hk.Z);var _=M.a("div","marged");o.appendChild(_);_.appendChild(l._j.Z);
_.appendChild(l.$U.Z);o.appendChild(M.a("hr"));var u=M.a("div","marged");o.appendChild(u);u.appendChild(l.Y2.Z);
u.appendChild(l.tr.Z);var S=M.a("div","marged");o.appendChild(S);S.appendChild(l.iR.Z);S.appendChild(l.bu.Z);
S.appendChild(l.rp.Z);o.appendChild(M.a("hr"));var h=M.a("div","marged");o.appendChild(h);h.appendChild(l.Jb.Z);
h.appendChild(l.nK.Z);h.appendChild(l.bf.Z);h.appendChild(l.VS.Z);h.appendChild(l.sP.Z);h.appendChild(l.s9.Z);
h.appendChild(l.Mr.Z);h.appendChild(l.uI.Z)}else{var D=M.a("div","marged");o.appendChild(D);D.appendChild(l.Ni.Z);
D.appendChild(l.xa.Z);D.appendChild(l.f9.Z);D.appendChild(l.akp.Z);D.appendChild(l.a2H.Z);D.appendChild(l.aa3.Z);
D.appendChild(l.ax9.Z);o.appendChild(M.a("hr"));var H=M.a("div","marged");o.appendChild(H);H.appendChild(l.c2.Z);
H.appendChild(l.oS.Z);H.appendChild(l.L9.Z);o.appendChild(M.a("hr"));var _=M.a("div","marged");o.appendChild(_);
_.appendChild(l.Tq.Z);_.appendChild(l.sH.Z);_.appendChild(l.Hp.Z);_.appendChild(l.Ds.Z)}};hp.prototype.QB=function(){if(!M.Ve(this.ns))return;
if(this.fh==null){this.Zw();var l=this.Fy;if(l)this.fh.j(l.Hv,l.uh,l.U5);this.fh.k()}};hp.prototype.k=function(){j4.prototype.k.call(this);
if(this.fh)this.fh.k()};hp.prototype.Ip=function(l,o){this.Fy=l;if(o!=is.CV&&o!=is.MV&&o!=is.Oe&&o!=is.ml)return;
if(this.fh)this.fh.j(l.Hv,l.uh,l.U5)};function fi(l){j4.call(this,l?"Character Styles":"Paragraph Styles",!1,null,l?j4.nC.acK:j4.nC.afO);
this.ns.setAttribute("style","min-width:240px;");var o=this.eb=M.a("div","scrollable");this.ns.appendChild(o);
o.setAttribute("style","max-height:400px;");this.yX=null;this.ajB=null;this.V3=null;this.H6=l?0:1;this.Gj=null;
this.Fy=null;this.acR=fi.prototype.vz.bind(this)}fi.prototype=new j4("");fi.prototype.my=function(l,o,D){this.Gj=l;
this.Fy=D;this.HP()};fi.prototype.HP=function(){var l=this.eb;M.o7(l);if(!M.Ve(this.ns))return;var o=this.Gj,D=this.Fy;
if(o==null||D==null)return;var H=D.Hv,_=this.yX=[],u={},S=this.ajB=[],h=this.V3=[],F={},n=this.H6,R=n==0?"Style":"Paragraph";
for(var v=0;v<o.R.length;v++){var s=o.R[v].add.TySh;if(s==null)continue;var Z=s.PF,O=s.h.jX(),w=Z.ResourceDict.FontSet,m=Z.EngineDict[R+"Run"],V=m.RunArray;
for(var q=0;q<V.length;q++){var i=fi.aca(V[q][R+"Sheet"][n==0?"StyleSheetData":"Properties"],n,w,S,F,O);
if(i.FillColor==null)i.FillColor={Type:1,Values:[1,0,0,0]};var c=JSON.stringify(i);if(u[c]==null){u[c]=!0;
_.push(i)}}}var z=n==0?function(G,E){return E.FontSize-G.FontSize}:function(G,E){return G.Justify-E.Justify};
_.sort(z);var B=[];if(n==0){var t=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],a=t.length,I=new Array(a),N=1e9,J=0;
I.fill(1e9);for(var v=0;v<_.length;v++){var Q=_[v],w=Q.FontSize;N=Math.min(N,w);J=Math.max(J,w);var A=Q.FillColor.Values,f=(A[1]+A[2]+A[3])/3;
B[v]=f>.5?[1,.15,.15,.15]:[1,.85,.85,.85]}}var W=fi.aca(n==0?H.i7:H.z5,n,H.LJ,S,F,1),C=JSON.stringify(W);
for(var v=0;v<_.length;v++){var j=M.a("div");l.appendChild(j);h.push(j);j.addEventListener("click",this.acR,!1);
var Q=_[v],K=JSON.stringify(Q)==C;if(n==0){var $=S[Q.Font].Name,r=$.toLowerCase(),U=r.indexOf("bold")!=-1||r.indexOf("-black")!=-1,b=r.indexOf("italic")!=-1||r.indexOf("oblique")!=-1||r.endsWith("-it"),e=r.indexOf("light")!=-1,w=Q.FontSize,A=Q.FillColor.Values,P=B[v];
if(K){P=P.slice(0);P[1]=Math.min(1,P[1]+.2)}var L=J==N?.5:(w-N)/(J-N),H=10+16*L,Y="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+H+"px; color:"+CSS.Ir({$:A[1]*255,H:A[2]*255,J:A[3]*255})+"; line-height:"+38+"px; background-color:"+CSS.Ir({$:P[1]*255,H:P[2]*255,J:P[3]*255})+";";
if(U)Y+=" font-weight:bold;";if(b)Y+=" font-style:italic;";if(e)Y+=" font-weight:lighter;";j.setAttribute("style",Y);
var X=M.a("span");j.appendChild(X);X.setAttribute("style","display:inline-block;  width:"+(J>99?50:40)+"px;  text-align:right;  margin-right:5px;");
X.textContent=Math.round(w);X=M.a("span");j.appendChild(X);X.setAttribute("style","display:inline-block;  width:130px; ");
X.textContent=$}}};fi.prototype.vz=function(l){var o=JSON.parse(JSON.stringify(this.Fy.Hv)),v=this.V3.indexOf(l.currentTarget),D=this.yX[v];
for(var H in D)if(H!="Font")o.i7[H]=D[H];fX.LQ(o,this.ajB[D.Font].Name);console.log(o);var _=new jJ(k.E.b,!0);
_.data={q:k.L.lN,au:is.MV,Hv:o};this.A(_);var _=new jJ(k.E.r,!0);_.S=p.gg;_.data={q:"updateStyles"};
this.A(_)};fi.aca=function(l,o,D,H,_,u){var S=o==0?["Font","FontSize","FillColor"]:[],h={};for(var F=0;
F<S.length;F++)h[S[F]]=l[S[F]];if(o==0){if(h.Font!=null){var n=D[h.Font].Name;if(_[n]==null){_[n]=H.length;
H.push(D[h.Font])}h.Font=_[n]}h.FontSize=h.FontSize*u}return h};fi.prototype.QB=function(){if(!M.Ve(this.ns))return};
fi.prototype.k=function(){j4.prototype.k.call(this)};fi.prototype.Ip=function(l,o){this.Fy=l;this.HP()};
function dJ(){j4.call(this,[9,13],!1,"---panels/glyphs",j4.nC.avS);this.Fy=null}dJ.prototype=new j4("");
dJ.prototype.Zw=function(){this.fh=new kN;this.fh.parent=this;this.aDq=null;this.ayh=null;this.wP=null;
this.aiw=null;this.Wr=Math.round(290*M.Y());this.XB=45;this.aEd=4;this.ayr=this.$u.bind(this);this.a3_=0;
this.uK=new bU(null,["Hi","Hello"]);this.uK.O(k.E.B,this.$u,this);var l=this.OY=new cg("-",null,null,!0);
l.O("click",this.aeA,this);var o=this.aDL=new cg("+",null,null,!0);o.O("click",this.aeA,this);this.G_=new k7(!1);
this.G_.O(k.E.B,this.Bx,this);this.G_.Z.style.height=250+"px";var D=this.$w=M.a("div","form padded");
this.ns.appendChild(D);D.appendChild(this.fh.Gc.Z);M.wR(D);D.appendChild(this.uK.Z);D.appendChild(l.Z);
D.appendChild(o.Z);this.ns.appendChild(this.G_.Z)};dJ.prototype.Av=function(l,o){if(this.pX==l||this.fh==null)return;
this.pX=l;this.Wr=Math.floor((l-13)*M.Y());this.$w.setAttribute("style","width:"+this.Wr/M.Y()+"px;");
this.G_.Z.style.height=o-73+"px";this.$u()};dJ.prototype.Bx=function(l){var o=this.alc(),D=Math.round(this.Wr/o);
o/=M.Y();var H=this.G_.l()[0]*D*this.aEd,_=this.G_.a6K();H+=Math.floor(_.y/o)*D;H+=Math.floor(_.x/o);
var u=this.wP[this.uK.l()];if(H>=u.length)return;var S=u[H],h=this.aiw[S],F=new jJ(k.E.r,!0);F.S=p.gg;
if(h.JE.length==0)F.data={q:"insertGlyph",P:H+1};else F.data={q:"insertText",P:String.fromCodePoint(h.JE[0])};
this.A(F)};dJ.prototype.aeA=function(l){var o=1.2;if(l.target==this.OY){if(this.XB>20)this.XB/=o}else{if(this.XB<100)this.XB*=o}this.$u()};
dJ.prototype.QB=function(){this.Ip(this.Fy)};dJ.prototype.Ip=function(l,o){this.Fy=l;if(!M.Ve(this.ns))return;
if(this.fh==null)this.Zw();this.fh.j(l.Hv,l.uh,l.U5);var D=l.Hv,H=D.i7.Font,F=0;if(H==null)return;var _=D.LJ[H].Name;
if(this.aDq==_)return;var H=l.uh.DD(_);if(H==null)return;var u=H.maxp.numGlyphs,S=this.aiw=new Array(u);
for(var v=0;v<u;v++)S[v]={JE:[]};var h=Date.now(),n=new Uint8Array(1048575);for(var v=0;v<1048575;v++){var R=Typr.U.codeToGlyph(H,v);
if(R!=0&&R<u){n[v]=1;if(S[R].JE.length==0)F++;S[R].JE.push(v)}}var s=dJ.E$,Z=[];for(var v=0;v<s.length;
v++)Z.push([]);for(var R=1;R<u;R++){Z[0].push(R);var O=S[R].JE[0];if(O==null){continue}for(var w=1;w<s.length;
w++){var m=s[w].l9;for(var v=0;v<m.length;v+=2)if(m[v]<=O&&O<=m[v+1]){Z[w].push(R);break}}}this.wP=Z;
var V=[];for(var v=0;v<s.length;v++)V.push(s[v].Hd+" ("+Z[v].length+")");var q=this.uK.l();this.uK.Ls(V);
this.uK.j(q);this.aDq=_;this.ayh=H;this.$u()};dJ.prototype.alc=function(l){var o=Math.floor(this.Wr/this.XB);
return Math.floor(this.Wr/o)};dJ.prototype.$u=function(l){if(!M.Ve(this.ns)||this.wP==null)return;var o=this.wP[this.uK.l()],D=o.length,H=this.ayh,_=Typr.U,u=this.alc(),S=u,h=S*.8,F=S*.8/H.head.unitsPerEm,n=[],R=Math.floor(this.Wr/u),s=Math.ceil(D/R),Z=this.aEd,O=Date.now();
for(var w=0;w<s;w+=Z){var m=M.a("canvas"),V=m.getContext("2d");m.width=u*R;m.height=S*Z;V.fillStyle="white";
V.fillRect(0,0,R*u,S*Z);for(var q=0;q<Z;q++){for(var i=0;i<R;i++){var v=o[(w+q)*R+i];if(v==null)break;
var c=_.glyphToPath(H,v),z=g.X.dm(c.crds);V.fillStyle="#252525";if(z.lh()){var B=H.hmtx,t=[],Q=170;for(var a in B)t.push(a);
var I=B[t[0]][v],N=B[t[1]][v],J=Math.max(I,N);c={cmds:"M L M L M L".split(" "),crds:[0,0,J,0,0,-Q,0,Q,J,-Q,J,Q]};
z.Q=J;z.x=0;V.strokeStyle="rgba(0,255,0,1)"}V.beginPath();var A=i*u+(u-z.Q*F)*.5-z.x*F,f=q*S+h;V.translate(A,f);
V.scale(F,-F);_.pathToContext(c,V);V.scale(1/F,-1/F);V.translate(-A,-f);z.lh()?V.stroke():V.fill()}}V.beginPath();
for(var i=0;i<R;i++){var W=i*u+u+.5;V.moveTo(W,0);V.lineTo(W,S*Z)}for(var q=0;q<Z;q++){var C=q*S+S+.5;
V.moveTo(0,C);V.lineTo(R*u,C)}V.strokeStyle="rgba(0,0,0,0.3)";V.stroke();n.push(m)}this.G_.f6(n,null,u*R,S*Z)};
dJ.E$=[{Hd:"All Glyphs"},{Hd:"Basic Latin, Latin 1",l9:[0,127,128,143]},{Hd:"Latin Extended-A",l9:[256,383]},{Hd:"Latin Extended-B",l9:[384,591]},{Hd:"Punctuations",l9:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{Hd:"Greek",l9:[880,1023]},{Hd:"Cyrillic",l9:[1024,1279]},{Hd:"Hebrew",l9:[1424,1535]},{Hd:"Arabic",l9:[1536,1791]},{Hd:"Emoji",l9:[9728,10095,127744,129535]}];
function fE(){j4.call(this,[13,0],!1,null,j4.nC.rY);this.ao=0;this.ayw=0;this.Fy=null}fE.prototype=new j4("");
fE.prototype.Zw=function(){if(!M.Ve(this.ns)||this.nx)return;var l=M.a("div","flexrow padded");this.ns.appendChild(l);
var o=M.a("div");l.appendChild(o);this.nx=[];for(var v=0;v<2;v++){var D=new jv;this.nx.push(D);D.O("click",this.abu,this);
o.appendChild(D.Z)}this.oh=new fw(192);console.log("hsb picker");this.oh.O(k.E.B,this.LW,this);this._n=new g2;
this._n.parent=this;l.appendChild(this.oh.Z);this.Ip(this.Fy,is.CV)};fE.prototype.abu=function(l){var o=l.currentTarget,D=this.nx.indexOf(o);
if(D==this.ao){this._n.Jx(D)}else{this.ao=D;this.$u()}};fE.prototype.LW=function(l){var o=this.oh.l();
this.oh.j(o);var D=Math.round(o.$*255)<<16|Math.round(o.H*255)<<8|Math.round(o.J*255),H=new jJ(k.E.b,!0);
H.data={q:k.L.lN,au:is.rY,i6:this.ao,P:D};this.A(H);this.ayw=Date.now()};fE.prototype.$u=function(){if(this._n==null)return;
var l=this.Fy,o=this.ao,D=[l.Os,l.qg];for(var v=0;v<2;v++){var H=this.nx[v],_=H.Z.style;H.BM(D[v]);if(v==o)_.filter="drop-shadow(0 0 1px #000000)"}var u=D[o];
if(Date.now()-this.ayw>100)this.oh.j({$:(u>>>16)/255,H:(u>>>8&255)/255,J:(u&255)/255})};fE.prototype.Ip=function(l,o){this.Fy=l;
if(this._n==null)return;if(o==is.CV||o==is.rY){this._n.anX(l.Os,l.qg);this.$u()}};fE.prototype.my=function(){this.Zw()};
fE.prototype.QB=function(){this.Zw();this.$u()};function aL(){j4.call(this,"CSS",!1,"---panels/css",j4.nC.CSS);
this.Gj=null;var l=M.a("div","padded");this.ns.appendChild(l);this.gi=M.a("textarea");M.cp(this.gi);
l.appendChild(this.gi)}aL.prototype=new j4("");aL.prototype.Av=function(l,o){if(this.pX==l)return;this.pX=l;
this.gi.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(l-10)+"px; height:"+(o-10)+"px")};
aL.prototype.my=function(l){this.Gj=l;this.$u()};aL.prototype.Ip=function(l,o){if(o==is.Oe)this.$u()};
aL.prototype.$u=function(){var l=this.Gj;if(l==null||l.T.length==0)return;if(!M.Ve(this.ns))return;var o=l.R[l.T[0]],D=CSS.aBN(o,l);
if(D.length!=0)this.gi.value=D.join(";\n")+";";else this.gi.value=""};aL.prototype.QB=function(){this.$u()};
function dG(){j4.call(this,"Text to Image",!1,null,j4.nC.a7f);this.Gj=null;this.abx=["512x512","1024x1024"];
this.Fx=0;this.XS={};this.Mx=null;var l=["API Key","Generate"],o=this.V3=[new g7("Prompt",null,null,4),new km("Inpaint the selection"),new cg([12,49],!0,null,!0)];
o[0].j("goat riding a bike");var D=M.a("div","form padded labfxd");this.ns.appendChild(D);for(var H=0;
H<o.length;H++){o[H].parent=this;D.appendChild(o[H].Z);if(H==2)o[H].O("click",this.acp,this)}this.oZ=M.a("div","scrollable");
D.appendChild(this.oZ);dG.a8A=dG.prototype.anM.bind(this)}dG.prototype=new j4("");dG.prototype.acp=function(){var l=this.V3,o=l[0].l().trim(),D=l[1].l(),H=D?this.Gj:null;
if(!dG.w5(H))return;var _=function(){var u=dG.aEg(!0,null,o,H);if(u==1)M.EA(this.ns,"disabled")}.bind(this);
dG.XW(_)};dG.a8A=null;dG.sw=0;dG.ahl=null;dG.XW=function(l){if(!eJ.lu()&&M.CB()){var o="Go Premium for the unlimited access ($5 a month, press \"Account\" at the top). Or would you like to watch a short ad to do it for free?";
hP.XW(l,o,"inpa")}else l()};dG.w5=function(l){if(l&&dG.gR(l)==null){alert("Your area is too big, we support only smaller areas.");
return!1}return!0};dG.gR=function(l){function o(F,n){if((F&n)==0)return F;return F+n+1-(F&n)}var D=l.R[l.T[0]].rect,H=l.f.rect.$o(D),S=7;
if(H.c()>1e3*1e3)return null;var _=o(H.Q,7)*o(H._,7)*1.2>512*512||Math.max(o(H.Q,7),o(H._,7))>1024;if(Math.max(H.Q,H._)>1024*(_?2:1))return null;
var u=512*512;if(_){u=1024*1024;S=15}while(!0){var h=H.clone();h.ag(1,1);h=h.$o(D);if(h.c()>H.c()&&o(h.Q,S)*o(h._,S)<=u)H=h;
else break}H.Q=o(H.Q,S);H._=o(H._,S);return H};dG.aEg=function(l,o,D,H,_,u){if(!navigator.onLine){alert("Get online to use this feature.");
return}var S=H?dG.gR(H).c()>512*512:!0,h,F,n="l6(--.4;KXQHFL?@NJivodh\\jp\"/(v{sw\":G@#';::FH<9OEDRR`hQ&W3]2cpx}q|%.>KD9=-1>:<DDGYZS\\^R(X-^76:{'3@9#254:c[^4FBiCG_OZ{Tcd)~,%zn%$D~&|&'FSL7?D8CKTLTPmzs^fdr`mtktu5B;*!61(5<3<=\\ib<s.RjZe&Gd{'4-\"r\"('#3ERK1@@FI;pODSL`cUj{Z";
n=JSON.parse(e2.nt(n));var R=e2.nt("UYqalMih`cpkf~knry{,$2(:3.A48@BEXG^QPdeicnahzzqu'(\" %5&(.5G4KP>GV[[MOUkm]acll|"),s={};
s[n[11]]=l?R:o;var Z={};Z[n[0]]=D;Z[n[1]]=S?2:1;Z[n[2]]=30;Z[n[3]]=H?n[4]:n[5];Z[n[12]]=n[13];if(u)for(var O in u)Z[O]=u[O];
console.log(Z);var w=n[6]+(H==null?n[7]:n[8]),m=new XMLHttpRequest;m.open("POST",w,!0);for(var V in s)m.setRequestHeader(V,s[V]);
if(_==null)_=dG.a8A;m.onload=_;m.responseType="arraybuffer";if(H==null){m.setRequestHeader("content-type","application/x-www-form-urlencoded");
var q=[];for(var O in Z)q.push(encodeURIComponent(O)+"="+encodeURIComponent(Z[O]));m.send(q.join("&"));
h=F=512}else{var i=dG.gR(H),c=H.R[H.T[0]],z=H.f,B=g.o(i.c()*4);g.Qo(c.buffer,c.rect,B,i);var t=g.o(i.c());
g.mB(z.channel,z.rect,t,i);g.round(t);for(var v=0;v<t.length;v++)if(B[v*4+3]<128)t[v]=255;if(S){console.log("downscaling");
var a=g.hl(B,i);B=a.G5;var I=g.xR(t,i);t=I.G5;i=I.rect}var N=fj.rU("jpg"),J=N.MJ([[B.buffer]],i.Q,i._,[90]),Q=g.o(i.c()*4);
Q.fill(255);g.rT(t,Q);var A=UPNG.encode([Q.buffer],i.Q,i._,null,null,null,!0),f=new FormData;f.append(n[9],new Blob([J],{type:"image/jpeg"}));
f.append(n[10],new Blob([A],{type:"image/png"}));for(var O in Z)f.append(O,Z[O]);m.send(f);h=i.Q;F=i._}dG.ahl=[h,F,S,l];
return 1};dG.Hj=function(l){dG.sw=Date.now();var o=this.ahl,D=o[0],H=o[1],_=o[2],u=o[3],h=30;if(!u)return;
var S=eJ.lu()?"Premium":"Free",F=Math.max(D*H,512*512),n=(F*6849e-9-1.133)*Math.max(h,10);if(_==2)n+=F*49278e-9;
for(var v=0;v<n;v++)eJ.event("dez"+"go_De"+"zgo "+S+(l?" "+l:""))};dG.prototype.anM=function(l){var o=this.V3;
M.vY(this.ns,"disabled");var D={created:Math.round(Date.now()/1e3),data:[{b64_json:fj.Im(l.target.response)}]},H=this.XS,_=o[0].l().trim();
if(H[_]==null)H[_]=[];H[_].push(D);dG.Hj();this.$u()};dG.prototype.Av=function(l,o){if(this.pX==l)return;
this.pX=l;this.ns.style.width=l-16+"px";this.oZ.style.height=o-190+"px"};dG.prototype.my=function(l,o){this.Gj=l;
if(l)this.Fx=o.indexOf(l);this.$u()};dG.prototype.Ip=function(l,o){};dG.prototype.k=function(l,o){j4.prototype.k.call(this);
var D=this.V3,_=" target=\"_blank\" style=\"color:inherit;\">";for(var H=0;H<D.length;H++)this.V3[H].k()};
dG.prototype.$u=function(){var l=this.oZ,o=this.XS;M.o7(l);var D=[];for(var H in o){o[H].sort(function(O,w){return w.created-O.created});
D.push([H,o[H]])}D.sort(function(O,w){return w[1][0].created-O[1][0].created});var _=this.a7s.bind(this),u=this.Mx=[[],[]];
for(var v=0;v<D.length;v++){var H=D[v][0],S=D[v][1],h=M.a("div");h.textContent=H;l.appendChild(h);for(var F=0;
F<S.length;F++){var n=S[F].data;for(var R=0;R<n.length;R++){var s=n[R].b64_json,Z=M.a("img");Z.setAttribute("src","data:image/png;base64,"+s);
Z.onclick=_;Z.style.width=128/M.Y()+"px";Z.style.marginRight="4px";Z.style.cursor="pointer";l.appendChild(Z);
u[0].push(Z);u[1].push(n[R])}}}};dG.prototype.a7s=function(l){var v=this.Mx[0].indexOf(l.target),o=this.Mx[1][v].b64_json,D=fj.FI(o);
iT.MA({url:"file",Fx:this.Fx},D,this)};dG.prototype.QB=function(){this.$u()};function cf(){j4.call(this,[9,6],!1,"---panels/info",j4.nC.arw);
this.ns.setAttribute("style","min-width:240px;");this.Gj=null;this.Fy=null;this.kF=null;var l=this.aa=[];
for(var o=0;o<3;o++){var D=M.a("div","marged row");this.ns.appendChild(D);var H=M.a("div","cell");H.setAttribute("style","width:10em");
D.appendChild(H);var _=M.a("div","cell");_.setAttribute("style","width:10em");D.appendChild(_);var u=[8,4,3][o];
for(var v=0;v<u;v++){var S=new eW("");l.push(S);S.j(0);S.Z.style.padding="0";var h=v<(o==1?2:4)?H:_;
h.appendChild(S.Z);M.wR(h)}if(o<2)M.EK(this.ns)}this.$$=l[8];this.Ri=l[9];this.As=l[10];this.zO=l[11];
M.EK(this.ns);this.kF=M.a("div");this.kF.setAttribute("style","min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");
this.ns.appendChild(this.kF)}cf.prototype=new j4("");cf.prototype.XR=function(l,o,D,H,_){if(!M.Ve(this.ns)||l==null)return;
var u=l.w.vp(_.x,_.y),S=new he(Math.floor(u.x),Math.floor(u.y));if(!_.gz){var h=0,F=0,n=0,R=0,s=this.aa;
if(!_.gz&&!l.azX()&&new gt(0,0,l.Q-1,l._-1).j0(S)){var Z=l.zG(),v=l.Q*S.y+S.x<<2;h=Z[v+0];F=Z[v+1];n=Z[v+2];
R=Z[v+3]}var O=g.xY([h/255,F/255,n/255]);s[0].j("R: "+h);s[1].j("G: "+F);s[2].j("B: "+n);s[3].j("A: "+R);
s[4].j("C: "+Math.round(O[0]*100)+"%");s[5].j("M: "+Math.round(O[1]*100)+"%");s[6].j("Y: "+Math.round(O[2]*100)+"%");
s[7].j("K: "+Math.round(O[3]*100)+"%");var w=g.a4L(h,F,n);s[12].j("H: "+Math.round(w.B9*360)+"\xB0");
s[13].j("S: "+Math.round(w.lv*100)+"%");s[14].j("B: "+Math.round(w.J*100/255)+"%")}var m=l.w.F>1?new he(u.x,u.y):S;
this.$$.j("X: "+g.vL.oo(m.x,l.on,D,l.Q));this.Ri.j("Y: "+g.vL.oo(m.y,l.on,D,l._));this.DB()};cf.prototype.DB=function(){var l=this.Gj,o=this.Fy,D=0,H=0;
if(l&&o){if(l.w._$){D=l.w._$.Q;H=l.w._$._}else if(l.f){D=l.f.rect.Q;H=l.f.rect._}D=g.vL.oo(Math.abs(D),l.on,o,l.Q);
H=g.vL.oo(Math.abs(H),l.on,o,l._)}this.As.j(cU.get([12,41]).charAt(0)+": "+D);this.zO.j(cU.get([12,42]).charAt(0)+": "+H)};
cf.prototype.k=function(){j4.prototype.k.call(this);this.DB()};cf.prototype.QB=function(){this.my(this.Gj,null,this.Fy)};
cf.prototype.my=function(l,o,D){this.Gj=l;this.Fy=D;if(!M.Ve(this.ns))return;console.log("update");this.DB();
if(l&&l.T.length!=0){var H=l.T[0],_=l.R[H],u=jW.get(_.add)!=null,S=u&&l.T[0]>0;this.kF.innerHTML="";
for(var v=0;v<l.RX.length;v++){var h=l.RX[v],_=l.w.zp(h.x,h.y),F=p.wg.pl(l,_,1,S?1:2),n={$:F>>>16&255,H:F>>>8&255,J:F&255},m="<span style=\"display:inline-block; width:25px; text-align:right\">",V="</span>";
if(S){var R=l.T[0];l.T[0]=H-1;var s=p.wg.pl(l,_,1,1),Z={$:s>>>16&255,H:s>>>8&255,J:s&255};l.T[0]=R}var O=M.a("div");
O.setAttribute("style","padding: 0.5em 0.5em; width: 40%");var w="<b>#"+(v+1)+"</b>",q=[n.$,n.H,n.J],i=S?[Z.$,Z.H,Z.J]:null,c=["R","G","B"];
for(var z=0;z<3;z++)w+="<br/>"+m+c[z]+V+": "+(S?m+i[z]+V+" /":"")+m+q[z]+V;O.innerHTML=w;this.kF.appendChild(O)}}};
function ig(){j4.call(this,[9,1],!1,"---panels/layers",j4.nC.wU);this.vZ=null;this.SU=[];this.nL=null;
this.Rw=null;this.ft=M.a("div","lphead");this.an=M.a("div","lpbody scrollable");this.an.addEventListener("scroll",this.a83.bind(this),!1);
this.Vq=M.a("div","lpfoot");var l=this.aBS=M.a("span");l.setAttribute("style","display:inline-block; height:26px");
this.ft.appendChild(l);this.Qp=new bU(null,b2.Rv,b2.Yi);this.Qp.O(k.E.B,this.a8b,this);this.ft.appendChild(this.Qp.Z);
this.e8=new gs([12,0],0,100,"%",0);this.e8.O(k.E.B,this.apF,this);this.e8.parent=this;this.ft.appendChild(this.e8.Z);
this.l7=new hi([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.l7.O(k.E.B,this.arZ,this);this.ft.appendChild(this.l7.Z);this.xK=new gs([12,26],0,100,"%",0);this.xK.O(k.E.B,this.a1m,this);
this.xK.parent=this;this.ft.appendChild(this.xK.Z);this.nG=[];this.H_();if(a8==0)this.ns.appendChild(this.ft);
this.ns.appendChild(this.an);this.an.addEventListener("dragover",function(_){_.preventDefault()},!1);
this.an.addEventListener("dragenter",M.nw,!1);this.an.addEventListener("drop",this.aCm.bind(this),!1);
this.ns.appendChild(this.Vq);this.ns.addEventListener("contextmenu",M.nw,!1);if(a8==0)this.O("rclick",this.auC,this);
var o=function(_,u,v){return{tY:this.qA[v]==1}}.bind(this);if(a8==0){this.ajY=new fg([{name:[0,6],e:o},{name:[14,10],e:o},{name:[6,57,2],e:o,ab:!0},{name:"Long-tap as a right click",e:o,ab:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",e:function(){return{tY:fO.kD==0,e:!0}}},{name:"Thumbnails by Document",e:function(){return{tY:fO.kD==1,e:!0}}}]);
this.ajY.O("select",this.abZ,this)}this.qA=[0,1,1,0];var D=window.locStor;if(D){var H=D.getItem("lpOpt");
if(H){H=JSON.parse(H);this.qA=H[0];fO.Aa=H[1];fO.kD=H[2]}}this.abZ()}ig.prototype=new j4("");ig.Jg=function(l){var o=l==null?0:l.T.length;
return{e:o!=0&&(o!=1||l.T[0]!=0)&&(o!=1||!l.R[l.T[0]].Cl()||l.R[l.T[0]].zd()),C9:cU.get(o>1||o==1&&l.R[l.T[0]].Cl()?[6,12,0]:[6,10])}};
ig.prototype.ZA=function(){if(this.alI)return;var l=ga.MF(!0),o=ga.M8(!0);this.alI=new fg(l,o);var l=[{name:[14,10]},{name:[14,11],ab:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],ab:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",e:function(D){return{e:D.R[D.T[0]].add.SoLd!=null}},ab:!0},{name:[6,8],e:ig.ajG},{name:[6,34],e:function(D){var H=D.R[D.T[0]];
return{e:H.add.lmfx!=null&&!H.Cl()}}},{name:[6,40],ab:!0,e:function(D){var H=D.R[D.T[0]];return{e:H.add.TySh!=null}}},{name:"",ab:!0,e:function(D){var H=D.R[D.T[0]],_=H.add.TySh,u=_?_.PF:null;
return{e:_!=null&&u.Curve==null,C9:cU.get(_&&fX.I8(u)==0?[16,3,1]:[16,3,0])}}},ig.anL(!1),ga.aE0(),{name:[6,12,0],e:ig.Jg},{name:[6,12,1],ab:!0},{name:[13,0],sub:function(){var D=[];
for(var v=0;v<b5.OX.length;v++)D.push({name:[13,1,v],_9:"#"+g.Bi(b5.OX[v])});return D}()}],o=[{K:k.E.b,m:{q:k.L.E1,mg:"layerstyle"}},{K:k.E.r,S:p.lO,m:{q:"fromlayer",Jl:[null,0,0]}},{K:k.E.r,S:p.wU,m:{q:d.r$}},{K:k.E.b,m:{q:k.L.E1,mg:"duplinto"}},{K:k.E.r,S:p.wU,m:{q:d.C_}},{K:k.E.yT,m:{vS:"newPlacedLayer"}},{K:k.E.r,S:p.wU,m:{q:d.s5}},{K:k.E.yT,m:{vS:"rasterizeLayer",M1:{classID:"rasterizeLayer",null:bt.NA("Lyr",!0)}}},{K:k.E.yT,m:{vS:"rasterizeLayer",M1:{classID:"rasterizeLayer",null:bt.NA("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{K:k.E.r,S:p.wU,m:{q:d.aja}},{K:k.E.r,S:p.gg,m:{q:"switchPntPrgr"}},{K:k.E.r,S:p.wU,m:{q:d.JK}},ga.af9(),{K:k.E.yT,m:{vS:"mergeLayersNew",M1:{__name:"Merge Layers",classID:"Mrg2"}}},{K:k.E.yT,m:{vS:"flattenImage"}},{sub:function(){var D=[];
for(var v=0;v<8;v++)D.push({K:k.E.r,S:p.wU,m:{q:d.V0,aBk:v}});return D}()}];this.xe=new fg(l,o);var l=[{name:[6,45],e:function(D){var H=D.R[D.T[0]];
return{e:H.nN(D).I==null}}},{name:[6,47]}],o=[{K:k.E.r,S:p.wU,m:{q:d.gj}},{K:k.E.r,S:p.wU,m:{q:d.io}}];
this.azY=new fg(l,o);var l=[{name:"enab/disab",e:function(D){return{C9:cU.get(D.R[D.T[0]].KQ().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],e:function(D){return{e:D.o_(!1,!0)}}}],o=[{K:k.E.r,S:p.wU,m:{q:d.dA}},{K:k.E.r,S:p.wU,m:{q:d.cR}},{K:k.E.r,S:p.wU,m:{q:d._i}}];
this.ael=new fg(l,o);var l=[{name:"enab/disab",e:function(D){return{C9:cU.get(D.R[D.T[0]].nN(D).I.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],o=[{K:k.E.r,S:p.wU,m:{q:d.v1}},{K:k.E.r,S:p.wU,m:{q:d.N3}}];
this.abM=new fg(l,o);var l=[{name:"enab/disab",e:function(D){return{C9:cU.get(D.R[D.T[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],o=[{K:k.E.r,S:p.wU,m:{q:d.zj}},{K:k.E.r,S:p.wU,m:{q:d.x0}},{K:k.E.r,S:p.wU,m:{q:d.K5}}];
this.avB=new fg(l,o);this.adD=new fg(ga.adv(!0),ga.wn(!0));this.abH=new fg(ga.MF(),ga.M8())};ig.prototype.a83=function(l){var o=this.an.scrollTop-600;
for(var v=0;v<this.SU.length;v++){var D=this.SU[v],H=D.Kh;if(o<D.Kh)D.aiI();if(D.Kh>o+this.B9+600)break}};
ig.prototype.Cz=function(){return this.ajY};ig.prototype.abZ=function(l){var o=this.qA;if(l){var D=l.target.Z3(),v=D[0];
if(v<4)o[v]=1-o[v];else if(v<6){if(v==4&&fO.Aa-10>=10)fO.Aa-=10;if(v==5&&fO.Aa+10<=200)fO.Aa+=10;if(this.nL)this.nL.aH=!0}else{if(v==6)fO.kD=0;
if(v==7)fO.kD=1;if(this.nL)this.nL.aH=!0}var H=window.locStor;if(H)H.setItem("lpOpt",JSON.stringify([o,fO.Aa,fO.kD]))}if(o[0]==1)this.a4T();
var _=[[{Z:this.aBS}],[this.Qp,this.e8],[this.l7,this.xK]];for(var v=0;v<3;v++)for(var u=0;u<_[v].length;
u++)_[v][u].Z.style.display=o[v]==1?"inline-block":"none";this.Av(this.pX,this.B9)};ig.prototype.a43=function(){var l=this.RJ;
if(l==null)return!1;if(l.l()){var o=this.ta.l(),D=this.Sc[o].l();if(o==0)return D.indexOf(!0)!=-1;if(o==1)return D!=""}return!1};
ig.anL=function(l){var o=function(H){var _=H!=null&&H.T.length!=0&&H.R[H.T[0]].vN;return{tY:_,e:H!=null&&H.br(H.T[0]),m:{K:k.E.yT,m:{vS:_?"ungroup":"groupEvent",M1:{classID:_?"Ungr":"GrpL",null:bt.NA("Lyr",!0)}}}}},D={name:[6,6,0],ab:!0,e:o};
if(l)D.Ui=[e_.zg,e_.Cm,e_.Tu];return D};ig.ajG=function(l,o){if(l)for(var v=0;v<l.T.length;v++){var D=l.R[l.T[v]];
if(D.add.TySh||D.add.SoLd||D.add.SoCo||D.add.GdFl||D.add.PtFl)return{e:!0}}return{e:!1}};ig.prototype.aCm=function(l){M.nw(l);
var o=l.dataTransfer.getData("Text"),D=1,H=0;if(o==""){M.iY(l,this,this.Rw.indexOf(this.nL),H+(D>.5?0:1))}else if(o!="--panel"){var o=JSON.parse(o),_=o.no;
if(_=="l")this.t6({q:d.Sz,source:o.Pr,target:H,lz:D})}};ig.prototype.auC=function(l){var o=this.nL,D=l.data,_;
if(o.T.indexOf(D.U)==-1){var H={q:d.eH,U:l.target._W.index,G$:D.Ih};this.t6(H)}if(o.T.indexOf(D.U)==-1)return;
this.ZA();if(D.Ih==1){_=this.ael}else if(D.Ih==2){_=this.avB}else if(D.Ih==3){_=this.abM}else if(D.Ih==4){_=this.azY}else if(D.Ih==5){_=this.alI}else{_=this.xe}_.k();
_.update(o);_.parent=this;var u=new jJ(k.E.b,!0);u.data={q:k.L.jq,VG:_,x:D.Ug.x+1,y:D.Ug.y+1};this.A(u)};
ig.prototype.k=function(){j4.prototype.k.call(this);this.Qp.k();this.e8.k();this.l7.k();this.xK.k();
if(this.RJ){this.RJ.k();this.Sc[0].k()}if(this.nL)this.my(this.nL);var l="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var v=0;v<this.nG.length;v++){var o=this.nG[v];o.Qx(M.u_(l[v],null,"miniscale"));if(v==1||v==3){o.Z.style.position="relative";
var D=M.a("img","gsicon");D.setAttribute("src",PIMG["tools/corner"]);D.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
o.Z.appendChild(D)}}};ig.prototype.my=function(l,o){if(l&&!l.aH)return;if(l==null)M.EA(this.ns,"disabled");
else M.vY(this.ns,"disabled");this.nL=l;this.Rw=o;if(this.vZ!=null){M.o7(this.an);this.vZ=null;this.SU=[]}if(l==null)return;
var D=!1;for(var v=0;v<l.Lx.length;v++)if(l.Lx[v].Pj)D=!0;this.vZ=new b5(l.root,this,l,{cr:0,$H:!1},{az2:D,aqA:this.a43()},this.SU,0,new gt(0,0,l.Q,l._));
if(l.T.length==0||l.R[l.T[0]]==null)M.EA(this.ft,"disabled");else{M.vY(this.ft,"disabled");if(l.T.length==1&&l.$r){var H=l.T[0];
for(var v=0;v<this.SU.length;v++){var _=this.SU[v];if(_._W.index==H&&_.ft.scrollIntoView)_.ft.scrollIntoView({block:"nearest"})}}var u=l.R[l.T[0]];
if(u.Cl()){this.Qp.Ls([[15,10,27]].concat(b2.Rv),[1].concat(b2.Yi));var S=b2.Jv.indexOf(u.TY);this.Qp.j(S+1)}else{this.Qp.Ls(b2.Rv,b2.Yi);
var S=b2.Jv.indexOf(u.TY);this.Qp.j(S)}this.e8.j(Math.round(100*u.opacity/255));this.l7.j([u.Ji(0),u.Ji(1),u.Ji(2),u.Ji(31)]);
var h=l.FY();this.Qp.td(!h);this.xK.td(!h);this.e8.td(!h);this.l7.td(!(h&&!u.Ji(31)));this.xK.j(Math.round(100*(u.add.iOpa!=null?u.add.iOpa/255:1)));
this.nG[2].acI(cU.get(u.KQ()?[6,23]:[6,21]))}this.a83(null)};ig.prototype.Av=function(l,o){this.pX=l;
this.B9=o;var D=this.ft.getBoundingClientRect().height;if(55<D&&D<56)D=60.2;var H=this.Vq.getBoundingClientRect().height,_=o-(D+H+3);
this.an.style.height=_+"px";this.an.style.width=l+"px"};ig.prototype.a8b=function(l){this.t6({q:d.N9,zc:this.Qp.l()})};
ig.prototype.apF=function(l){this.t6({q:d.xI,zc:Math.round(255*this.e8.l()/100)})};ig.prototype.arZ=function(l){this.t6({q:d.aA,zc:[this.l7.l(),[0,1,2,31]]})};
ig.prototype.a1m=function(l){this.t6({q:d.th,zc:Math.round(255*this.xK.l()/100)})};ig.prototype.bJ=function(l){if(l.target==this.ta)this.a4T();
var o=this.RJ.l();if(o)M.vY(this.d7,"disabled");else M.EA(this.d7,"disabled");this.k();this.nL.aH=!0;
this.my(this.nL);this.nL.aH=!1};ig.prototype.a4T=function(){var l=this.d7;if(l==null){var o=this.aBS,D=this.RJ=new km([0,6]);
D.O(k.E.B,this.bJ,this);o.appendChild(D.Z);l=this.d7=M.a("span","disabled");o.appendChild(l);this.ta=new bU(null,["Kind",[12,48]],[]);
this.ta.O(k.E.B,this.bJ,this);var H=this.Sc=[new hi(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new g7(null,null,8)];
H[0].O(k.E.B,this.bJ,this);H[1].O("input",this.bJ,this)}M.o7(l);l.appendChild(this.ta.Z);l.appendChild(this.Sc[this.ta.l()].Z)};
ig.prototype.ajj=function(l){this.ZA();this.aBm(l,this.adD)};ig.prototype.ak2=function(l){this.ZA();
this.aBm(l,this.abH)};ig.prototype.aBm=function(l,o){var D=l.currentTarget;if(M.Ve(o.Z))return;l.stopPropagation();
var H=D.getBoundingClientRect();o.k();o.update(this.nL);o.parent=this;var _=new jJ(k.E.b,!0);_.data={q:k.L.jq,VG:o,x:H.left,y:H.top,aaL:!0};
this.A(_)};ig.prototype.a6r=function(l){this.t6({q:d.aAj})};ig.prototype.aBF=function(l){this.t6({q:this.nL.T.length>1?d.up:d.MO})};
ig.prototype.atU=function(l){this.t6({q:d.On})};ig.prototype.at1=function(l){var o=this.nL;if(o.T.length==0)return;
var D=o.R[o.T[0]],H=D.Ih;this.t6({q:H<=0?D.BF?d.x0:d.C_:H==3?d.N3:d.cR})};ig.prototype.aCd=function(l){this.t6({q:d.P1})};
ig.prototype.t6=function(l){var o=new jJ(k.E.r,!0);o.data=l;o.S=p.wU;this.A(o)};ig.prototype.H_=function(){var l=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],o=[this.aCd,this.ak2,this.a6r,this.ajj,this.aBF,this.atU,this.at1],D=this.a8N.bind(this);
for(var v=0;v<l.length;v++){var H=new cg("W",!1,l[v]);this.nG.push(H);M.GY(H.Z,o[v].bind(this));if(a8==0||v>3&&v!=5)this.Vq.appendChild(H.Z);
if(v>=l.length-3){var _=H.Z;_.addEventListener("drop",D,!1);_.addEventListener("dragover",function(u){u.preventDefault()},!1);
_.addEventListener("dragenter",M.nw,!1)}}};ig.prototype.a8N=function(l){M.nw(l);var o=0,D=this.nG;while(D[o].Z!=l.currentTarget)o++;
D[o].UQ();var H=l.dataTransfer.getData("Text");if(H=="")return;var H=JSON.parse(H);if(H.no=="l"){var _={q:[d.up,d.r$,d.C_][o-4]};
if(this.nL.T.indexOf(H.Pr)==-1)_.U=H.Pr;this.t6(_)}if(o!=6)return;if(H.no=="sm"||H.no=="s"){var u=new jJ(k.E.r,!0);
u.S=p.AM;u.data={q:H.no=="sm"?"st_clear":"st_delsingle",U:H.Pr,Pr:H.V9};this.A(u)}if(H.no=="fm"||H.no=="f"){this.t6({q:H.no=="fm"?d.io:d.ou,src:H.Pr,V9:H.V9})}if(H.no=="m"||H.no=="vm"){this.t6({q:H.no=="m"?d.cR:d.x0,U:H.Pr})}};
function b5(l,o,D,H,_,u,S,h){f1.call(this);this.parent=o;this.Kh=S;this._W=l;u.push(this);this.h7=D;
this.XQ=H;var F=o.an,n=l.U,R=D.T.indexOf(l.index)!=-1,w=null;this.ft=M.a("div",R?"head selected":"head");
if(n.add.artb!=null){M.EA(this.ft,"artb");h=n.IH()}var s=this.aey=Math.floor(10+n.axB/M.Y()),Z="height: "+s+"px;";
if(R&&_.az2)Z+="background-color:rgba(255,50,50,0.4);";this.ft.setAttribute("style",Z);this.Bm=h;var O=this.a2P=this.atE.bind(this),m=_.aqA&&!this.aDT();
if(!m){if(l.depth!=0){F.appendChild(this.ft);S+=s-.3}if(n.Zh()||n.pn())if(n.fI()){w=this.au2=M.a("div","lpineck");
F.appendChild(w);if(n.Zh()){w.addEventListener("contextmenu",O,!1);var V=new ig.O0(cU.get([12,1]),"sm","layerstyle",l.depth,0,null);
S+=21;V.parent=this;w.appendChild(V.Z);var q=n.add.lmfx,i=q.masterFXSwitch.v;V.rm(i);for(var v=0;v<cq.order.length;
v++){var c=q[cq.lZ[v]].v;if(c.length==0)continue;for(var z=0;z<c.length;z++){var V=new ig.O0(cU.get(cq.names[v]),"s","layerstyle",l.depth,1,[v,z]);
S+=21;V.rm(i&&c[z].v.enab.v);V.parent=this;w.appendChild(V.Z)}}}if(n.pn()){var B=n.nN(D).I;if(B)this.cX=M.a("div","thumb");
var V=new ig.O0(cU.get([12,55]),"fm",null,l.depth,0,-1,B?this.cX:null,s);S+=B?s:21;V.parent=this;w.appendChild(V.Z);
this.amp=V.Z;this.amp.addEventListener("contextmenu",O,!1);var q=n.add.SoLd.filterFX.v,t=q.filterFXList.v,i=q.enab.v;
V.rm(i);for(var v=t.length-1;v>=0;v--){var a=t[v].v,I=at.Vs(a);if(jW.m_[I])I=jW.m_[I];var N=a.Nm.v;if(at.names[I])N=cU.get(at.names[I]);
if(jW.names[I])N=cU.get(jW.names[I]);var J="afw_"+I,V=new ig.O0(N,"f",J,l.depth,1,v);S+=21;V.rm(i&&a.enab.v);
V.parent=this;w.appendChild(V.Z)}}}}var Q=n.add.lclr;if(Q==null)Q=0;Q=Q==0?H.cr:b5.OX[Q];this.a6G=Q;
if(n.Cl()&&(n.add.lsct==jl.VV||_.aqA)){var A={cr:Q,$H:H.$H||n.Ji(31)};for(var v=l.children.length-1;
v>=0;v--){var f=new b5(l.children[v],o,D,A,_,u,S,h);S=f.ayS}}this.ayS=S}b5.prototype=new f1;b5.OX=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
b5.prototype.aiI=function(){if(this.hm)return;var l=this._W,o=l.U,D=this.h7,H=this.XQ,s=!0,A=!1;l.cK(D,this.Bm,!0);
var _=M.a("div","headL"),u=M.a("div","headR");this.ft.appendChild(_);this.ft.appendChild(u);var S=this.ft;
S.setAttribute("draggable","true");S.addEventListener("dragstart",this.JR.bind(this),!1);S.addEventListener("drop",this.T8.bind(this),!1);
S.addEventListener("dragover",this.R4.bind(this),!1);S.addEventListener("dragenter",M.nw,!1);S.addEventListener("dragleave",this.TP.bind(this),!1);
var h=[],F=[null,null,null,null],n=o.zd(),R=l;while(R.parent){R=R.parent;n=n&&R.U.zd()}if(o.vN){for(var v=l.index-1;
v>=0;v--){var Z=D.R[v];if(!Z.vN){s=Z.zd();break}}}var O=o.zd()?n&&s?2:1:0;this.hm=M.a("div");var w=M.a("div",O==0?"sqr":"eye");
this.hm.appendChild(w);w.style.opacity=[.12,.33,1][O];var m=M.a("div","space");this.L3=M.a("div","label");
this.L3.setAttribute("style","max-width:calc(100% - "+(96+l.depth*20)+"px); margin-top:"+(this.aey-19)/2+"px;"+(o.aU?"text-decoration:underline;":""));
this.L3.textContent=o.getName();this.lU=M.a("div","lock");this.adE=M.a("div","lrfx");this.Cr=M.a("div","arfx");
var V=this.a2P,q=this.ate.bind(this);this.ft.addEventListener("click",q,!1);this.ft.addEventListener("contextmenu",V,!1);
var i=this.a6G;if(i!=0){var c=[i>>16,i>>8&255,i&255];for(var v=0;v<3;v++){c[v]="calc("+c[v]+"*0.7 + (var(--absc)) * 255 * 0.3)"}this.hm.setAttribute("style","background-color:rgba("+c.join(",")+",1);")}var z=this.as5.bind(this);
this.hm.addEventListener("mousedown",z,!1);this.hm.addEventListener("mouseover",z,!1);this.Cr.addEventListener("click",this.afz.bind(this),!1);
h[0]=this.hm;h[1]=m;h[10]=this.L3;if(o.Cl()){var B=M.a("div","arrow"),t=M.a("div","folder");this.ze(t);
B.addEventListener("click",this.aE9.bind(this),!1);h[2]=B;h[3]=t;B.className=o.add.lsct==jl.VV?"open":"closed"}else{this.Ql=M.a("div","thumb");
h[5]=this.Ql;b5.jo(this.Ql,o.Jh);this.ze(this.Ql);if(jW.get(o.add))M.EA(o.Jh.canvas,"gsicon")}var a=o.KQ();
if(a){this.P3=M.a("div","chain");this.kg=M.a("div","thumb");b5.jo(this.kg,o.PS,!0);this.P3.style.opacity=a.uD?1:0;
this.P3.addEventListener("click",this.a7C.bind(this),!1)}var I=o.RR()&&o.add.vmsk;if(o.add.vmsk&&!I){this.G3=M.a("div","chain");
this.qT=M.a("div","thumb");b5.jo(this.qT,o.sf,!0);this.G3.style.opacity=o.add.vmsk.uD?1:0;this.G3.addEventListener("click",this.aEK.bind(this),!1)}if(o.pn()&&o.fI()&&o.nN(D).I){b5.jo(this.cX,o.Nz,!1);
this.ze(this.cX);this.cX.addEventListener("click",q,!1);this.cX.addEventListener("contextmenu",V,!1)}if(l.index==D.T[0]){var N=o.Ih,J;
if(N<=0)J=this.Ql;else if(N==1)J=this.kg;else if(N==3)J=this.cX;if(J)J.className="thumb active";if(o.BF&&this.qT)this.qT.className="thumb active"}m.setAttribute("style","width:"+Math.max(0,l.depth-1)*18+"px");
var Q=o.add.lspf!=null&&o.add.lspf!=0||H.$H;this.lU.style.opacity=o.Ji(31)?1:.5;h[4]=o.vN?M.a("div","clipp"):null;
h[6]=a?this.P3:null;h[7]=a?this.kg:null;h[8]=o.add.vmsk&&!I?this.G3:null;h[9]=o.add.vmsk&&!I?this.qT:null;
var f=o.zE,W=D.T;if(f!=0)for(var v=0;v<W.length;v++)if(D.R[W[v]].zE==f){A=!0;break}if(A){F[0]=M.a("div",o.Sx?"link":"linkX");
F[0].addEventListener("click",this.as6.bind(this),!1)}F[1]=Q?this.lU:null;F[2]=o.Zh()?this.adE:null;
F[3]=o.Zh()||o.pn()?this.Cr:null;this.Cr.className=o.fI()?"arfx open  gsicon":"arfx closed  gsicon";
var C=h;for(var v=0;v<C.length;v++)if(C[v])_.appendChild(C[v]);C=F;for(var v=0;v<C.length;v++)if(C[v])u.appendChild(C[v])};
b5.jo=function(l,o,D){var H=o.canvas;M.af(H);if(D)l.setAttribute("draggable","true");l.appendChild(H);
H.setAttribute("style",H.getAttribute("style")+"; pointer-events:none")};b5.prototype.ze=function(l){M.GY(l,function(o){if(this.parent.qA[3]==0)return;
M.tv(o);M.Bv(document.body,function(){clearTimeout(this.a68)}.bind(this));this.a68=setTimeout(function(){var D=new jJ("rclick",!0);
D.data={U:this._W.index,Ih:this.Ih(o),Ug:M.Kx(o,document.body)};this.A(D)}.bind(this),600)}.bind(this))};
b5.WZ=function(l,o){var D=o.getBoundingClientRect();return(l.clientY-D.top)/D.height};b5.prototype.JR=function(l){l.stopPropagation();
var o=l.target==this.kg?"m":l.target==this.qT?"vm":"l";l.dataTransfer.setData("Text",JSON.stringify({no:o,Pr:this._W.index}))};
b5.prototype.TP=function(l){M.nw(l);this.EO()};b5.prototype.T8=function(l){M.nw(l);this.EO();var o=l.dataTransfer.getData("Text"),D=this.parent.nL,H=b5.WZ(l,this.ft),_=this._W.index;
if(H>.8){var u=!0,S=D.root.sl(_);while(S.parent!=null){var h=S.parent,F=h.children;if(F.indexOf(S)!=0)u=!1;
S=S.parent}if(u){_=0;H=1}}if(o==""){M.iY(l,this,this.parent.Rw.indexOf(D),_+(H>.5?0:1))}else if(o!="--panel"){var o=JSON.parse(o),n=o.no;
if(n=="l")this.t6({q:d.Sz,source:o.Pr,target:_,lz:H});else if(n=="m"||n=="vm")this.t6({q:n=="m"?d.aku:d.IC,src:o.Pr,fw:_});
else b5.aA6(l,o,this)}};b5.aA6=function(l,o,D,H){var _=o.no,u=D._W.index,S=o.Pr;if(_=="s"||_=="sm")D.t6({q:d.Rj,src:S,fw:u,V9:o.V9});
if(_=="f"||_=="fm")D.t6({q:d.ai8,src:S,fw:u,V9:o.V9,LI:H==null?0:H})};b5.prototype.R4=function(l){M.nw(l);
var o=b5.WZ(l,this.ft),D=this._W.U.Cl()&&.5<o&&o<.8;this.EO();var H="inset 0 "+(D?0:o>.5?-3:3)+"px "+(D?"5px black":"0 rgba(0,0,0,0.5)");
this.ft.style.boxShadow=H};b5.prototype.EO=function(l){this.ft.style.boxShadow=""};b5.avI=-1;b5.AG=!1;
b5.aj1=function(l){b5.AG=!1;document.body.removeEventListener("mouseup",b5.aj1)};b5.prototype.as5=function(l){if(l.button!=0)return;
if(l.type=="mousedown"){b5.AG=!0;document.body.addEventListener("mouseup",b5.aj1,!1)}if(l.type=="mouseover"&&(!b5.AG||b5.avI==this._W.index))return;
M.nw(l);this.t6({q:d.B4,U:this._W.index});b5.avI=this._W.index};b5.prototype.aE9=function(l){M.nw(l);
this.t6({q:d.af3,U:this._W.index})};b5.prototype.a7C=function(l){this.t6({q:d.al,U:this._W.index})};
b5.prototype.aEK=function(l){this.t6({q:d.ij,U:this._W.index})};b5.JD=0;b5.prototype.GH=function(l){this.t6({q:d.Fh,U:this._W.index,name:l})};
b5.prototype.afz=function(l){this.t6({q:d.a3e,U:this._W.index})};b5.prototype.as6=function(l){this.t6({q:d.b$,U:this._W.index})};
b5.prototype.atE=function(l){if(l.button!=2&&!M.aeB(l)&&!(l.ctrlKey&&e_.Xn()))return;var o=this.Ih(l);
if(o!=3&&l.currentTarget==this.amp)o=4;if(l.target==this.adE||l.currentTarget==this.au2)o=5;var D=new jJ("rclick",!0);
D.data={U:this._W.index,Ih:o,Ug:M.Kx(l,document.body)};this.A(D)};b5.prototype.Ih=function(l){var o=l.target,D=o;
return D==this.qT?2:D==this.kg?1:D==this.Ql?0:D==this.cX?3:-1};b5.prototype.ate=function(l){var o=l.target,O;
if(o==this.hm.firstChild||o==this.Cr||o==this.P3||o==this.G3||o.tagName&&o.tagName.toLowerCase()=="input")return;
var D=this.Ih(l),H=this.parent.nL,_=this._W.index,u=H.R[_];if(o==this.lU){this.t6({q:d.aA,U:_,zc:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var S=b5.JD,h=Date.now()-S<300;b5.JD=Date.now();if(o==this.L3){if(h){this.ft.setAttribute("draggable","false");
var F=new j4.yv(this.L3,this.GH.bind(this))}else this.t6({q:d.eH,U:_,G$:D,wb:!0});return}if(a8==0&&l.button==0&&h){if(o==this.L3)return;
var n=new jJ(k.E.r,!0),R=new jJ(k.E.b,!0),s=new jJ(k.E.yT,!0);if(D==0&&u.add.SoCo){var Z=g.G.s3(u.add.SoCo.Clr.v);
R.data={q:k.L.E1,mg:"colorpicker",cr:Z.$<<16|Z.H<<8|Z.J,k_:function(V){var q=g.G.XF({J:V&255,H:V>>>8&255,$:V>>16&255});
q={classID:"null",Clr:{t:"Objc",v:q}};var i=new jJ(k.E.r,!0);i.S=p.wU;i.data={q:d.k1,Zl:[_],Dc:!0,P:{hM:1,E6:q}};
this.A(i)}.bind(this),z6:!0}}else if(D==0&&(jW.get(u.add)||u.add.SoCo||u.add.GdFl||u.add.PtFl))R.data={q:k.L.Ak,mg:j4.nC.Fj};
else if(D!=0&&D!=-1)R.data={q:k.L.Ak,mg:j4.nC.Fj};else if(D==0&&u.add.SoLd)s.data={vS:"placedLayerEditContents",M1:{classID:"placedLayerEditContents"}};
else if(D==0&&u.add.TySh){n.S=p.gg;n.data={q:"editCurr",LX:_}}else R.data={q:k.L.E1,mg:"layerstyle",U:_};
this.A(s.data?s:R.data?R:n);return}if(l.button!=0)return;if(D==1||D==3){var w=D==3?u.nN(H).I:u.KQ();
O=w.Pj?H.w.N.join("")=="111"?1:2:0}var m={q:d.eH,U:_,G$:D,a3K:O,wb:!0};this.t6(m)};b5.prototype.t6=function(l){var o=new jJ(k.E.r,!0);
o.data=l;o.S=p.wU;this.A(o)};b5.prototype.aDT=function(){var l=this._W.U,o=l.add,D=this.parent.ta.l(),H=this.parent.Sc[D].l();
if(D==0){if(H[0]&&o.SoLd==null&&o.TySh==null&&l.mF())return!0;if(H[1]&&jW.get(o)!=null)return!0;if(H[2]&&o.TySh!=null)return!0;
if(H[3]&&o.vstk!=null)return!0;if(H[4]&&o.SoLd!=null)return!0;return!1}if(D==1)return l.getName().toLowerCase().indexOf(H.toLowerCase())!=-1};
ig.O0=function(l,o,D,H,_,u,S,h){f1.call(this);this.ahL=o;this.qO=D;this.index=u;this.Z=M.a("div","styleitem");
this.ft=M.a("div","head");this.alB=null;if(o=="f"){var F=this.alB=M.a("div","headR");F.textContent="\u2699";
this.ft.appendChild(F)}this.hm=M.a("div","eye gsicon");this.L3=M.a("div","label");this.Z.appendChild(this.ft);
this.ft.appendChild(this.hm);if(S){this.kg=S;this.ft.appendChild(S);this.ft.setAttribute("style","height: "+h+"px")}this.L3.innerHTML=l;
this.Z.setAttribute("style","margin-left: "+(24+H*16+_*22)+"px");this.ft.appendChild(this.L3);this.hm.addEventListener("click",this.aqi.bind(this),!1);
var n=this.Z;n.setAttribute("draggable","true");n.addEventListener("dragstart",this.JR.bind(this),!1);
if(!0){n.addEventListener("drop",this.T8.bind(this),!1);n.addEventListener("dragover",this.R4.bind(this),!1);
n.addEventListener("dragenter",M.nw,!1);n.addEventListener("dragleave",this.TP.bind(this),!1)}this.Z.addEventListener("click",this.Jm.bind(this),!1)};
ig.O0.prototype=new f1;ig.O0.prototype.JR=function(l){l.stopPropagation();l.dataTransfer.setData("Text",JSON.stringify({no:this.ahL,Pr:this.parent._W.index,V9:this.index}))};
ig.O0.prototype.TP=function(l){M.nw(l);this.EO()};ig.O0.prototype.T8=function(l){M.nw(l);this.EO();var o=l.dataTransfer.getData("Text");
if(o=="")return;var o=JSON.parse(o);b5.aA6(l,o,this.parent,this.index+(b5.WZ(l,this.ft)>.5?0:1))};ig.O0.prototype.R4=function(l){M.nw(l);
var o=b5.WZ(l,this.ft)>.5;this.EO();var D="border-"+(o?"bottom":"top");this.ft.style[D]="0.2em solid rgba(0,0,0,0.5)"};
ig.O0.prototype.EO=function(l){this.ft.style.border="none"};ig.O0.prototype.rm=function(l){this.hm.style.opacity=l?1:.2};
ig.O0.prototype.Jm=function(l){var o=b5.JD,D=Date.now()-o<300;b5.JD=Date.now();if(l.target==this.hm)return;
var H=this.parent._W.index;if(D&&this.qO!=null){var H=this.parent._W.index,_=new jJ(k.E.b,!0);if(this.qO.indexOf("afw_")==0){var u=this.qO.slice(4),S=cB[u]||at.p[u],h=l.target==this.alB;
if(!h&&!S)return;_.data=p.Xq.acu(h?"blendOptions":u,{U:H,index:this.index})}else _.data={q:k.L.E1,mg:this.qO,U:H,index:this.index};
this.A(_)}else{if(l.target.className!="thumb")this.parent.t6({q:d.eH,U:H,G$:0})}};ig.O0.prototype.aqi=function(l){var o={fm:d.ws,f:d.uL,sm:d.a2,s:d.nF}[this.ahL];
this.parent.t6({q:o,U:this.parent._W.index,index:this.index})};function gG(){j4.call(this,"Guide Guy",!1,"---panels/guideguy",j4.nC.anR);
this.Gj=null;this.rA=new bU(null,g.vL.Ez)}gG.prototype=new j4("");gG.prototype.Zw=function(){this.aa=[];
var l=M.a("div","form padded");this.ns.appendChild(l);l.setAttribute("style","width:200px");this.ns.appendChild(l);
var o=M.a("canvas"),D=o.getContext("2d");o.width=o.height=160;var H=[32,0,16,160,0,32,160,16,0,112,160,16],_="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),u=[0,0,0,0,0,0,0,0,0,0];
l.appendChild(this.rA.Z);for(var v=0;v<10;v++){D.clearRect(0,0,160,160);D.setTransform(1,0,0,1,80,80);
D.rotate((v&3)*Math.PI/2);D.translate(-80,-80);D.fillStyle="rgba(0,0,0,0.3)";if(v<4){for(var S=0;S<12;
S+=4){D.fillStyle=S==0?"#000000":"rgba(0,0,0,0.3)";D.fillRect(H[S],H[S+1],H[S+2],H[S+3])}}else if(v<6){var h=8*6;
D.fillRect(0,0,h,160);D.fillRect(8*7,0,h,160);D.fillStyle="#000000";D.fillRect(8*14,0,h,160)}else if(v<8){D.fillRect(0,0,16,160);
D.fillRect(160-16,0,16,160);D.fillRect(32,0,160-64,160);D.fillStyle="#000000";D.fillRect(32,80-8,160-64,8*1)}else{D.fillRect(0,0,8*7,160);
D.fillRect(8*13,0,160,160);D.fillStyle="#000000";D.fillRect(8*7,80-8,8*6,8*1)}var F="<img src=\""+o.toDataURL()+"\" class=\"autoscale gsicon\" /> ",n=new gs(F,0,200,null,v==4||v==5?0:2,null,null,4,_[v]);
n.parent=this;n.O(k.E.B,this.apB,this);n.j(u[v]);n.k();this.aa.push(n);l.appendChild(n.Z)}var R=[[11,14],[11,15,0]];
this.Ho=[];for(var v=0;v<R.length;v++){var s=new cg(R[v],!0,null,!0);this.Ho.push(s);s.O("click",this.jt,this);
l.appendChild(s.Z)}for(var v=0;v<6;v++){D.setTransform(1,0,0,1,80,80);D.rotate(Math.floor(v/3)*Math.PI/2);
D.translate(-80,-80);D.clearRect(0,0,160,160);D.fillStyle="rgba(0,0,0,0.3)";D.fillRect(0,0,160,160);
D.clearRect(16,16,128,128);D.fillStyle="#000000";var Z=v%3;D.fillRect([0,9,18][Z]*8,0,16,160);var F="<img src=\""+o.toDataURL()+"\" class=\"autoscale gsicon\" /> ",s=new cg(F,!1,null,!1);
this.Ho.push(s);s.O("click",this.jt,this);l.appendChild(s.Z)}};gG.prototype.k=function(){j4.prototype.k.call(this);
this.rA.k();if(this.aa==null)return;for(var v=0;v<this.Ho.length;v++)this.Ho[v].k()};gG.prototype.apB=function(l){var o=this.aa,D=o.indexOf(l.target),H=Math.floor(D/2),_=D&1,u=[];
for(var v=0;v<4;v++)u.push(o[2*v+_].l());var h=-1;if(H==2&&u[2]!=0&&u[3]!=0&&u[4]!=0)h=4;if(H==3&&u[3]!=0&&u[2]!=0&&u[4]!=0)h=4;
if(H==4&&u[4]!=0&&u[2]!=0&&u[3]!=0)h=3;if(h!=-1)o[2*h+_].j(0)};gG.prototype.jt=function(l){var o=this.Gj,D=this.Ho.indexOf(l.target),H=[[],[]];
if(o==null)return;var _=o.f?o.f.rect:new gt(0,0,o.Q,o._),u=_.Q,S=_._;if(D==0){var h=[[],[]],F=this.rA.l();
for(var v=0;v<this.aa.length;v++){var n=this.aa[v].l();n=g.vL.bQ(n,o.on,o.Q,F);h[v&1].push(n)}var R=[gG.aAV(h[0],_.x,_.x+u),gG.aAV(h[1],_.y,_.y+S)];
H=gG.yB(R);p.JI.aN(H,o.we())}else if(D==1){}else{D-=2;var s=Math.floor(D/3),R=[[],[]];R[s].push([_.x,_.x+u/2,_.x+u,_.y,_.y+S/2,_.y+S][D]);
H=gG.yB(R);p.JI.aN(H,o.we())}this.anj(H)};gG.yB=function(l){var o=[],D=[];for(var H=0;H<2;H++)for(var v=0;
v<l[H].length;v++){o.push([H,l[H][v]]);D.push(-1)}return[o,D]};gG.prototype.alR=function(l){var o=this.axJ.indexOf(l.target)};
gG.prototype.anj=function(l){var o=new jJ(k.E.r,!0);o.S=p.e5;o.data={q:"gids",fY:l};this.A(o)};gG.aAV=function(l,o,D){var H=[],_=l[2],u=l[3],S=l[4],h=0;
if(_==0)h++;if(u==0)h++;if(S==0)h++;if(h>1&&_==0&&u==0){if(l[0]!=0)H.push(o+l[0]);if(l[1]!=0)H.push(D-l[1]);
return H}var F=D-o-l[0]-l[1];if(_==0){if(S==0){_=Math.floor(F/u);S=(F-_*u)/(_-1)}else{_=1;while(u*_+S*(_-1)+u+S<=F)_++}}else if(_!=0&&u!=0){if(_*u>F)_=Math.floor(F/u);
S=(F-_*u)/(_-1)}H.push(o+l[0],D-l[1]);var u=(F-S*(_-1))/_;for(var v=1;v<_;v++){if(S==0)H.push(o+l[0]+v*u);
else H.push(o+l[0]+v*u+(v-1)*S,o+l[0]+v*u+v*S)}return H};gG.prototype.my=function(l,o,D){this.Gj=l};
gG.prototype.QB=function(){if(M.Ve(this.ns)&&this.aa==null)this.Zw();this.k()};gG.prototype.Ip=function(l){this.rA.j(l.og.wc)};
function ca(){j4.call(this,[9,2],!1,"---panels/properties",j4.nC.Fj);this.abz=null;this.h7=null;this.Fy=null;
this.aaY=-1;this.cw=null}ca.prototype=new j4("");ca.prototype.Av=function(l,o){this.pX=l;this.B9=o;l=l-16;
o=o-30;var D=this.cw;if(D){D.style.width=l+"px";D.style.height=o+"px";for(var v=0;v<3;v++)this.A0[v].Av(l-12,o)}};
ca.prototype.Zw=function(){this.cw=M.a("div","padded scrollable");this.ns.appendChild(this.cw);var l=M.a("span");
this.cw.appendChild(l);this.Te=[new cg([0,3]),new cg([12,73]),new cg([12,91,0])];for(var v=0;v<this.Te.length;
v++){var o=this.Te[v];o.O("click",this.adT,this);l.appendChild(o.Z);if(v==2)o.Z.style.marginRight="0"}this.cw.appendChild(M.a("hr"));
this.l$=new ca.x_;this.l$.parent=this;this.b6=new ca.UP;this.b6.parent=this;this.ZX=new ca.LM;this.ZX.parent=this;
this.A0=[this.l$,this.b6,this.ZX];this.cw.appendChild(this.l$.Z);this.Vq=M.a("div","lpfoot");this.ns.appendChild(this.Vq);
this.nG=[];for(var v=0;v<3;v++){var o=new cg("W");o.O("click",this.UW,this);this.nG.push(o);this.Vq.appendChild(o.Z)}this.Av(this.pX,this.B9)};
ca.prototype.UW=function(l){var v=this.nG.indexOf(l.target),o=new jJ(k.E.r,!0);o.S=p.wU;if(v==0)o.data={q:d.JK};
if(v==1)o.data={q:d.B4};if(v==2)o.data={q:d.C_};this.A(o)};ca.prototype.adT=function(l){var v=this.Te.indexOf(l.currentTarget);
this.r5(v);this.arf(v==1?this.b6._I:-1)};ca.prototype.r5=function(l){for(var v=0;v<3;v++){this.Te[v].UQ();
var o=this.A0[v].Z;if(o.parentNode==this.cw&&v!=l)this.cw.removeChild(o);if(o.parentNode!=this.cw&&v==l)this.cw.appendChild(o)}this.Te[l].PL()};
ca.prototype.arf=function(l){var o=this.h7.T[0],D=this.h7.R[o],H=l+1;if(l==1&&D.BF)return;var _=new jJ(k.E.r,!0);
_.S=p.wU;if(l!=1&&D.BF){_.data={q:d.eH,U:o,G$:2};this.A(_)}_.data={q:d.eH,U:o,G$:H};this.A(_)};ca.prototype.k=function(){j4.prototype.k.call(this);
if(this.cw==null)return;this.my(this.h7);for(var v=0;v<3;v++){this.Te[v].k();this.A0[v].k()}c4.pO(this.nG,["lrs/clipping","lrs/eye","lrs/bin"],[[6,6,0],[5,5],[6,31]])};
ca.prototype.QB=function(){if(!M.Ve(this.ns))return;if(this.cw==null){this.Zw();this.Ip(this.Fy,is.CV);
this.my(this.abz);this.k()}};ca.prototype.my=function(l){this.abz=l;if(this.cw==null)return;this.l$.my(l);
this.b6.my(l);this.ZX.my(l);if(l==null||l.T.length==0||l.R[l.T[0]]==null){M.EA(this.ns,"disabled");this.h7=null;
return}else M.vY(this.ns,"disabled");var o=l.T[0],D=l.R[o];this.nG[0].j(D.vN);this.nG[1].j(D.zd());var H=l.CS(),_=H[0],u=H[1];
if(u.length!=0){var S=_[u[0]],h=S.add.vogk,F=!1;if(h)for(var v=0;v<h.length;v++){var n=h[v].v;if(!g.uQ.Rh(n))continue;
F=!0;o=S.wN}}o+=","+F;if(l!=this.h7||this.aaY!=o){this.h7=l;this.aaY=o;if(F)this.r5(2);else if(D.Ih<1&&!D.BF||jW.get(D.add))this.r5(0);
else this.r5(1)}this.Te[1].td(this.b6._I!=-1);this.Te[2].td(F)};ca.prototype.Ip=function(l,o){this.Fy=l;
if(this.l$)this.l$.Ip(l,o);if(this.ZX)this.ZX.Ip(l,o)};ca.x_=function(){f1.call(this);this.Z=M.a("div","form");
this.azz=new eW("Hello");this.o3=new cg([1,12,2],null,null,!0);this.o3.Z.style.a6y="right";this.o3.O("click",this.EN,this);
this.Z.appendChild(this.azz.Z);this.Z.appendChild(this.o3.Z);this.tI=null;this.P5=null;this.h7=null;
this.Fy=null;this.amE=-1;this.ac7=null;this.E2=null;this.wC=new ax(0,!0,!0);this.wC.parent=this;this.wC.O(k.E.B,this.aa0,this);
this.Z.appendChild(this.wC.Z);this.dx=new jv(!0);this.dx.parent=this;this.dx.O(k.E.B,this.acE,this);
this.jg=M.a("div","marged hiline");this.jg.appendChild(this.dx.Z);this.un=new aY("GrFl",!0);this.un.parent=this;
this.un.O(k.E.B,this.ac6,this);this.vl=M.a("div","marged hiline");var l="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var v=0;v<l.length;v++){var o=this.un.sy[l[v]].Z;this.vl.appendChild(o)}this.EV=new aY("patternFill",!0);
this.EV.parent=this;this.EV.O(k.E.B,this.auE,this);this.mK=M.a("div","marged hiline");var l=["Ptrn","Angl","Scl","Algn","phase"];
for(var v=0;v<l.length;v++){var o=this.EV.sy[l[v]].Z;this.mK.appendChild(o)}this.wX={};for(var D in jW.names){if(cB[D]==null)continue;
this.wX[D]=new cB[D];this.wX[D].O(k.E.B,this.agh,this);this.wX[D].parent=this}var H=this.ac0=M.a("div","marged hiline");
this.kT=new ax(0,!0);H.appendChild(this.kT.Z);this.kT.O(k.E.B,this.S8,this);this.arQ=null;this.AO=new j_;
this.AO.parent=this;this.AO.O(k.E.B,this.S8,this);H.appendChild(this.AO.Z)};ca.x_.prototype=new f1;ca.x_.prototype.aa0=function(l){var o=this.wC.l(),D=this.E2,H=new gt(o[0],o[1],o[2],o[3]);
if(H.kn(D))return;this.E2=H;var _=new jJ(k.E.r,!0);if(D.Q==H.Q&&D._==H._){_.S=p.e5;_.data={q:"trsl",iq:H.x-D.x,QF:H.y-D.y}}else{_.S=p.rk;
_.data={q:"scl",ND:[2,4],P:new he(H.Q/D.Q,H._/D._),_E:0}}this.A(_)};ca.x_.prototype.Av=function(l,o){var D=this.wX;
for(var H in D)D[H].Av(l,o)};ca.x_.prototype.EN=function(l){var o=this.h7,D=o.R[o.T[0]],H=jW.get(D.add);
this.P5.j(at.ts(H));this.agh()};ca.x_.prototype.k=function(){for(var l in this.wX)this.wX[l].k();this.un.k();
this.EV.k();this.AO.k();this.kT.k();this.o3.k();this.wC.k()};ca.x_.prototype.S8=function(l){var o=new jJ(k.E.r,!0),D=this.kT.l(),H=this.arQ;
if(l.target==this.kT&&D[2]==H[2]&&D[3]==H[3]){o.S=p.e5;o.data={q:"trsl",iq:D[0]-H[0],QF:D[1]-H[1]}}else{var u=d.dt(new gt(D[0],D[1],D[2],D[3])),S=this.AO.acf();
S.artboardRect={t:"Objc",v:u};var h=this.h7,F=h.R[h.T[0]],n=F.add.artb.guideIndeces;if(n)S.guideIndeces=JSON.parse(JSON.stringify(n));
o.S=p.wU;o.data={q:d.n5,jw:S}}this.A(o)};ca.x_.prototype.acE=function(l){var o=this.h7,D=o.T[0];if(o.R[D].add.SoCo==null)return;
var H=JSON.parse(JSON.stringify(o.R[D].add.SoCo));H.Clr.v=this.dx.l();this.AU({hM:1,E6:H})};ca.x_.prototype.ac6=function(l){var o=this.h7,D=o.T[0];
if(o.R[D].add.GdFl==null)return;this.AU({hM:2,E6:this.un.l()})};ca.x_.prototype.auE=function(l){this.AU({hM:3,E6:this.EV.l()})};
ca.x_.prototype.AU=function(l){this.am2(p.wU,{q:d.k1,Zl:[this.h7.T[0]],Dc:!0,P:l})};ca.x_.prototype.agh=function(l){this.am2(p.xw,{q:"edit_layer",P:this.P5.l()})};
ca.x_.prototype.am2=function(l,o){var D=new jJ(k.E.r,!0);D.S=l;D.data=o;this.A(D)};ca.x_.prototype.my=function(l,o){var D=cU.get([0,3]),H=!1,_=!1,u=null;
this.h7=l;if(l&&l.R.length>0&&l.T.length!=0&&l.R[l.T[0]]){var S=l.R[l.T[0]],h=jW.get(S.add);if(h!=null&&this.wX[h]!=null){u=this.wX[h].Z;
this.P5=this.wX[h];this.wX[h].j(JSON.parse(JSON.stringify(S.add[h])));if(l.T[0]!=this.amE){var F=l.zG(l.T[0]-1);
this.ac7=g.Pn(F)}this.wX[h].LC(this.ac7);D=cU.get(jW.names[h]);H=!0}if(h==null&&S.add.artb==null){var n=this.E2=g.X.rP(p.cA.fZ(l));
_=!n.lh();var R=l.xC();n.x-=R.x;n.y-=R.y;this.wC.j([n.x,n.y,n.Q,n._],[l.on,l.Q,this.Fy.og.wc])}if(S.add.SoCo){u=this.jg;
this.dx.j(S.add.SoCo.Clr.v);D=cU.get([6,48,0,0])}if(S.add.GdFl){u=this.vl;this.un.update(l,S.add.GdFl);
D=cU.get([6,48,0,1])}if(S.add.PtFl){u=this.mK;this.EV.update(l,S.add.PtFl);D=cU.get([6,48,0,2])}if(S.add.artb){var s=S.add.artb,Z=S.IH();
u=this.ac0;this.AO.aC8(s);var O=this.arQ=[Z.x,Z.y,Z.Q,Z._];this.kT.j(O,[l.on,l.Q,this.Fy.og.wc]);D=cU.get([1,16,0])}this.amE=l.T[0]}if(u!=this.tI){if(this.tI)this.Z.removeChild(this.tI);
if(u!=null)this.Z.appendChild(u);this.tI=u}this.azz.j(D);this.o3.Z.style.display=H?"":"none";this.wC.Z.style.display=_?"":"none"};
ca.x_.prototype.Ip=function(l,o){this.Fy=l;this.un.Ip(l,o);this.EV.Ip(l,o);if(o==is.HK)this.my(this.h7,l);
for(var D in this.wX)this.wX[D].Ip(l,o)};ca.UP=function(){f1.call(this);this.Z=M.a("div","form");this.h7=null;
this._I=0;var l=M.a("span","fitem");this.Z.appendChild(l);this.Te=[new cg([6,2]),new cg([6,3]),new cg([6,50])];
for(var v=0;v<this.Te.length;v++){var o=this.Te[v];o.O("click",this.aBP,this);l.appendChild(o.Z)}this.mb=new h_([12,74],0,255);
this.mb.O(k.E.B,this.FS,this);this.Z.appendChild(this.mb.Z);this.$Y=new h_([7,6],0,500,"px",2,!0);this.$Y.O(k.E.B,this.FS,this);
this.Z.appendChild(this.$Y.Z);this.sJ=new cg([4,11],null,null,!0);this.sJ.O("click",this.a0W,this)};
ca.UP.prototype=new f1;ca.UP.prototype.a0W=function(){var l=new jJ(k.E.r,!0);l.S=p.xw;l.data={q:"start",PN:"nvrt"};
this.A(l)};ca.UP.prototype.FS=function(l){var o=this.mb.l(),D=this.$Y.l(),H=new jJ(k.E.r,!0);H.S=p.wU;
H.data={q:d.MT,nr:this.h7.T[0],BB:{k4:this._I,mb:o,$Y:D}};this.A(H)};ca.UP.prototype.k=function(){for(var v=0;
v<this.Te.length;v++)this.Te[v].k();this.mb.k();this.$Y.k();this.sJ.k()};ca.UP.prototype.my=function(l){this.h7=l;
this.HP()};ca.UP.prototype.aBP=function(l){this.HP(this.Te.indexOf(l.currentTarget));this.parent.arf(this._I)};
ca.UP.prototype.HP=function(l){var o=this.h7,D=this.Te;for(var v=0;v<3;v++){var H=D[v];H.UQ();H.ua()}if(o==null||o.R.length==0||o.T.length==0||o.R[o.T[0]]==null)return;
var _=-1,u=o.R[o.T[0]];if(u.pn()&&u.nN(o).I!=null){D[2].TC();_=2}if(u.add.vmsk){D[1].TC();_=1}if(u.KQ()){D[0].TC();
_=0}if(l!=null)_=l;else if(u.BF)_=1;else if(u.Ih==3)_=2;else if(u.Ih==1)_=0;this._I=_;if(_==-1){this.mb.ua();
this.$Y.ua();return}var S=u.p1(_);this.mb.TC();this.$Y.TC();this.mb.j(S.mb);this.$Y.j(S.$Y);D[_].PL();
var h=this.sJ.Z;if(_==0)this.Z.appendChild(h);else if(h.parentNode==this.Z)this.Z.removeChild(h)};ca.LM=function(){f1.call(this);
this.Z=M.a("div","form");this.Gj=null;this.Fy=null;this.sw=-1;this.wC=new ax(0,!1);this.do=new h_([12,15],-180,180,"\xB0",2);
this.fb=new ax(1,!0);this.KP=new h_([12,94,0],0,100,null,2);this.r_=new h_([12,78],3,30);this.pd=new cg(["\u279C  ",[12,76,0]],null,null,!0);
this.wC.O(k.E.B,this.LR,this);this.do.O(k.E.B,this.LR,this);this.fb.O(k.E.B,this.LR,this);this.KP.O(k.E.B,this.LR,this);
this.r_.O(k.E.B,this.LR,this);this.pd.O("click",this.LR,this)};ca.LM.prototype=new f1;ca.LM.prototype.k=function(){this.wC.k();
this.do.k();this.fb.k();this.KP.k();this.r_.k()};ca.LM.prototype.LR=function(l){var o=this.Gj,D=g.uQ.kb(o),H=l.target.l(),_=[this.wC,this.do,this.fb,this.KP,this.r_,this.pd].indexOf(l.target);
if(_==0){var u=o.xC(),S=[],h=S[0]=H[0]+u.x,F=S[1]=H[1]+u.y;S[2]=h+H[2];S[3]=F+H[3];H=S}if(_==1)H=H*Math.PI/180;
var n={0:1,1:2,2:3,3:3,4:4}[_];D[n]=H;var R=new jJ(k.E.r,!0);R.S=p.wU;R.data={q:d.Bl,P:D,a1a:_==5};this.A(R)};
ca.LM.prototype.my=function(l){var o=this.Z;this.Gj=l;if(l==null)return;var D=this.Fy,H=[l.on,l.Q,D.og.wc],_=g.uQ.kb(l),u=_[0],S=_[1];
if(S==null)return;var h=u!=this.sw;this.sw=u;if(h)M.o7(o);if(h)o.appendChild(this.wC.Z);if(h)o.appendChild(this.do.Z);
var F=l.xC();this.wC.j([S[0]-F.x,S[1]-F.y,S[2]-S[0],S[3]-S[1]],H);this.do.j(_[2]*180/Math.PI);if(u==2){if(h)o.appendChild(this.fb.Z);
var n=_[3];this.fb.j(n,H)}if(u==7||u==8){if(h)o.appendChild(this.KP.Z);this.KP.j(_[3])}if(u==8){if(h)o.appendChild(this.r_.Z);
this.r_.j(_[4])}o.appendChild(this.pd.Z)};ca.LM.prototype.Ip=function(l,o){this.Fy=l;this.my(this.Gj)};
function hf(l){j4.call(this,l.name,!0);this.nL=l;this.Ay=null;this.JT=new ea(this.ns);this.JT.parent=this}hf.prototype=new j4;
hf.g8=function(){var l=document.createElement("canvas"),o=document.createElement("canvas"),D=16,H=g.o(16*16*4);
g._x(H,D,D,8);var _=g.scale.eT(H,D,D);return{eX:l,Hs:o,T3:l.getContext("2d",{willReadFrequently:!0}),AA:o.getContext("2d"),qt:_}}();
hf.prototype.a95=function(){if(this.nL.dI())return window.confirm(cU.get([22,6,3])+" "+this.nL.name+". "+cU.get([22,6,4]));
return!0};hf.prototype.Ip=function(l,o){this.Ay=l};hf.prototype.my=function(l){this.QB();this.$u()};
hf.prototype.Av=function(l,o){if(l<=0||o<=0)return;this.pX=l;this.B9=o;var D=this.nL,H=hf.g8,_=M.Y();
D.w.T3.Q=Math.floor(l*_);D.w.T3._=Math.floor(o*_);M.QT(H.eX,l,o);M.QT(H.Hs,l,o);M.QT(kx.WG(),l,o);if(D.w.F==0)D.w.F=p._1.H4(D.Q,D._,l*_,o*_);
this.$u()};hf.prototype.QB=function(){var l=this.ns.firstChild,o=hf.g8,D=kx.X7&&a8==0;if(!D&&l==kx.WG()||D&&l==o.eX)this.ns.removeChild(l);
var H=D?kx.WG():o.eX;if(!M.Ve(H))this.ns.appendChild(H)};hf.prototype.$u=function(){if(this.Ay==null)return;
var l=this.nL,o=kx.X7&&a8==0;if(o)this.aAJ();else this.rS()};hf.prototype.aAJ=function(){if(kx.X7&&hf.oQ==null){var l=hf.oQ=[],o=[0,2,8,32,128];
for(var v=0;v<5;v++)l[v]=[new hf.zu(!1,o[v],!1),new hf.zu(!0,o[v],!1)];l.push([new hf.zu(!1,0,!0),new hf.zu(!0,0,!0)])}var D=this.nL,H=hf.g8,w,q=0,I,N;
if(D.DL==null)return;var _=D.w,u=_.T3.Q,S=_.T3._,h=kx.Ig;H.T3.clearRect(0,0,u,S);var F=this.aeE(D);if(_.Uv==null||_.Uv.Q!=u||_.Uv._!=S)_.Uv=new kx.Q9(u,S);
if(F){var n=Date.now(),R=S,s=new Uint8Array(H.T3.getImageData(0,0,u,R).data.buffer);_.Uv.set(s,new gt(0,0,u,R));
this.OO=!0}else if(this.Ay.QC){if(this.OO){kx._J(_.Uv);kx.NX(1);this.OO=!1}var Z=g.vL.wv,s=new Uint8Array(D.w.aB.data.buffer);
_.Uv.set(s,new gt(0,0,Z,S));var s=new Uint8Array(D.w.Sj.data.buffer);_.Uv.set(s,new gt(0,0,u,Z));var s=new Uint8Array(H.T3.getImageData(0,S-Z,u,Z).data.buffer);
_.Uv.set(s,new gt(0,S-Z,u,Z));this.OO=!0}else if(this.OO){kx._J(_.Uv);kx.NX(1);this.OO=!1}var O=_.zp(0,0);
if(hf.ach==null)hf.ach=new Float32Array(4*1024);var m=[0,0,0,0],V=hf.ach;if(D.add.artd){V.fill(0);m=hf.EF(D);
var i=D.Q,c=D._,a=0;for(var v=0;v<D.R.length;v++){var z=D.R[v],B=z.add.artb;if(B==null||!z.zd())continue;
var t=z.IH();V[q]=t.x/i;V[q+1]=t.y/c;V[q+2]=t.Q/i;V[q+3]=t._/c;q+=4;if(q==V.length)break}if(q>2*4)a++;
if(q>8*4)a++;if(q>32*4)a++;w=hf.oQ[a+1];V=new Float32Array(V.buffer,0,[2,8,32,128][a]*4)}else w=hf.oQ[D.j$?5:0];
var J=D.UZ();if(J==null)w=w[0];else{w=w[1];N=J[D.add.fcmy==1?6:4];I=J[2]}kx.a6l(u,S);kx.NX(0);kx.a6l(u,S);
w.Vi();var Q=new de;Q.scale(u,S);Q.concat(_.hP(!0));Q.scale(1/D.Q,1/D._);var A=[Q.M,Q.J,0,Q.oe,Q.me,0,Q.ip,Q.nl,1];
w.o0(_.Uv.mn,D.DL.mn,new Float32Array(A),new Float32Array([u/8,S/8,O.x/u,O.y/S]),D.Q,D._,1/D.w.F,u,S,new Float32Array(m),V,new Float32Array(g.JX.ji(g.JX.ap0(_.N))),N,I);
h.drawArrays(h.TRIANGLES,0,6)};hf.EF=function(l){return[0,0,0,0]};hf.a4s=function(l){var o=g.G.s3(l.v),D=[o.$/255,o.H/255,o.J/255,1];
for(var v=0;v<4;v++)D[v]=Math.min(1,D[v]);return D};hf.Mu=function(l,o){var D=l[2]*255;if(kx.X7)D=o?0:Math.max(2,D);
return"rgba("+l[0]*255+","+l[1]*255+","+D+","+l[3]+")"};hf.sB=function(l){var o=l.length;if(kx.X7)for(var v=0;
v<o;v+=4){if(l[v+2]==0)l[v+2]=3}};hf.prototype.rS=function(){var l=this.nL,o=hf.g8;if(a8==0&&l.buffer==null)return;
var D=l.w,H=D.T3,_=H.Q,u=H._,S=new gt(0,0,l.Q,l._);o.AA.clearRect(0,0,_,u);o.T3.clearRect(0,0,_,u);var h=D.hP(!0),F=h.clone();
F.L5();if(l.add.artd==null){o.T3.save();var n=F.wq(new he(0,0));F.translate(-n.x,-n.y);o.T3.translate(Math.round(n.x),Math.round(n.y));
o.T3.fillStyle=a8==0?o.qt:"#ffffff";if(l.j$)o.T3.fillRect(-5e3,-5e3,2e4,2e4);else{var R=l.add.arts;if(a8==1)for(var v=0;
v<R.length;v++){var s=g.X.dm(R[v].EZ);this.k2(g.X.YZ(s),F,o.T3);o.T3.fill()}else{this.k2(g.X.YZ(S),F,o.T3);
o.T3.fill()}}o.T3.restore()}else{o.T3.fillStyle=hf.Mu(hf.EF(l));o.T3.fillRect(0,0,_,u);o.T3.save();o.T3.setTransform(F.M,F.J,F.oe,F.me,F.ip,F.nl);
var Z=l.root.children;for(var v=0;v<Z.length;v++){var O=Z[v].U;if(O.add.artb==null||!O.zd())continue;
var w=O.IH(),m=O.y7();if(m!=0)continue;o.T3.fillStyle=o.qt;o.T3.save();o.T3.scale(1/D.F,1/D.F);o.T3.fillRect(D.F*w.x,D.F*w.y,w.Q*D.F,w._*D.F);
o.T3.restore()}o.T3.restore()}if(D.a0.length!=H.c()){D.a0=g.o(H.c());D.TU=g.o(H.c()*4)}D.TU.fill(0);
if(a8==1){var F=D.hP(!0);F.L5();o.T3.save();var V=g.X.YZ(D.T3);g.X.h(V.s,D.hP(!0),V.s);var s=g.X.Mg(V.s);
o.T3.setTransform(F.M,F.J,F.oe,F.me,F.ip,F.nl);l.root.Wh(l,o.T3,this.Ay,s);o.T3.restore()}else{g.scale.aou(l.buffer,S,h,D.TU,H,l.j$);
var q=l.UZ();if(q)ICC.U.applyLUT(q[l.add.fcmy==1?5:3],q[2],D.TU,D.TU);if(D.N[0]+D.N[1]+D.N[2]!=3)g.JX.anx(D.TU,D.TU,g.JX.ap0(D.N));
o.AA.putImageData(new ImageData(new Uint8ClampedArray(D.TU.buffer),H.Q,H._),0,0);o.T3.drawImage(o.Hs,0,0);
o.T3.getImageData(0,0,1,1)}this.aeE(l)};hf.prototype.aeE=function(l){var o=l.w,D=o.N[0]+o.N[1]+o.N[2],H=hf.g8,_=!1,u=[];
for(var v=0;v<l.T.length;v++){var S=l.R[l.T[v]];if(S==null)continue;var h=S.Ih;if(h!=1&&h!=3)continue;
var F=h==1?S.KQ():S.nN(l).I;if(F.Pj)u.push(F)}for(var v=0;v<l.Lx.length;v++)if(l.Lx[v].Pj)u.push(l.Lx[v]);
for(var v=0;v<u.length;v++){var F=u[v];this.ajE(F,o,u.length==1&&D==0?2:1,F.color,F.cr);_=!0}var n=this.Ay;
_=this.atV(l,H.T3,o,u.length!=0)||_;if(l.f&&n.bX&&n.og.oF){this.ajE(l.f,o,0,0,null);_=!0}return _};hf.prototype.ajE=function(l,o,D,H,_){var u=0;
if(_)u=Math.round(_.J)<<16|Math.round(_.H)<<8|Math.round(_.$);var S=o.hP(!0),h=o.T3,F=new gt(0,0,o.nL.Q,o.nL._),n=hf.g8;
if(o.TU==null||o.TU.length!=h.c()*4){o.a0=g.o(h.c());o.TU=g.o(h.c()*4)}o.a0.fill(H);o.TU.fill(0);var R=l.channel,s=l.rect;
g.scale.h(R,s,S,o.a0,h);if(D==0){var Z=new Uint32Array([4278190080,4294967295]);hf.sB(new Uint8Array(Z.buffer));
g.f.aw0(o.a0,o.TU,h,Z,M.Y()>1.9)}else{var O=Date.now();g.f.a6j(o.a0,o.TU,h,D,u);hf.sB(o.TU)}var w=new ImageData(new Uint8ClampedArray(o.TU.buffer),h.Q,h._);
n.AA.putImageData(w,0,0);n.T3.save();if(D!=0){var m=new gt(0,0,F.Q,F._),V=S.clone();V.L5();this.k2(g.X.YZ(m),V,n.T3);
n.T3.clip()}n.T3.drawImage(n.Hs,0,0);n.T3.restore()};hf.prototype.atV=function(l,o,D,H){var _=l.D.A_!=null||l.D.T9!=null||l.D.Xi!=null||l.D.b3!=null||l.D.gr.length!=0||l.D.UD.length!=0,u=this.Ay,S=u.og,h=gp.PO[u.NP],F=Math.round(12*M.Y()),n=F/l.w.F,R=D.hP(!0);
R.L5();o.save();o.setTransform(R.M,R.J,R.oe,R.me,R.ip,R.nl);var s=hf.EF(l)[0];s=s<.5?s+.5:s-.5;s=""+Math.round(s*255).toString(16);
while(s.length<2)s="0"+s;o.font=n+"px sans-serif";if(l.add.artd){o.fillStyle="#"+s+s+s;for(var v=0;v<l.R.length;
v++){var Z=l.R[v];if(Z.add.artb==null||!Z.zd())continue;var O=Z.IH();o.save();o.beginPath();o.rect(O.x,O.y-2*n,O.Q,2*n);
o.clip();o.fillText(Z.getName(),O.x+2,O.y-n*.7);o.beginPath();o.restore();_=!0}}if(l.add.arts&&u.Bq==p.a8Y){var w=l.add.arts;
for(var v=0;v<w.length;v++){var O=w[v],m=g.X.dm(O.EZ),V=(v+1+"").padStart(2,"0");V+=" - "+O.Nt;o.save();
o.beginPath();o.fillStyle=O.T?"#cce6ff":"#dddddd";o.rect(m.x,m.y,o.measureText(V).width+n,n*1.5);o.fill();
o.fillStyle="black";o.fillText(V,m.x+n/2,m.y+n*1.1);o.restore()}_=!0}function q(j0){return j0==1||j0==2||j0==4||j0==5}var i=hf.Mu([.3,.5,1,1]),c=hf.Mu([1,1,1,1]);
if(u.bX&&S.sS){o.fillStyle=o.strokeStyle=i;o.lineWidth=1.5/D.F;var z=l.CS(),B=z[0],t=z[1];for(var a=0;
a<t.length;a++){var Z=B[t[a]],I=Z.add.vmsk,N=I.d,J=g.X.Ja(N);this.k2(J,null,o);o.stroke();_=!0;var Q=3*M.Y()/D.F;
for(var v=0;v<I.Qz.length;v++){var A=g.n.ah9(N,I.Qz[v]);if(A==null)continue;var f=A.x,W=A.y;o.beginPath();
var C=v==0;if(I.xD)C=!C;if(C){o.moveTo(f-Q,W-Q);o.lineTo(f+Q,W+Q);o.moveTo(f-Q,W+Q);o.lineTo(f+Q,W-Q);
o.stroke()}else{o.arc(f,W,Q*1,0,2*Math.PI);o.fill()}_=!0}if(l.T.length!=1)continue;var j=-1,K=-1,$=-1;
for(var v=0;v<N.length;v++){if(N[v].type>5)continue;if(N[v].type==0||N[v].type==3){K=v+1;$=N[v].length;
if(N[v].HN!=-1)j++;continue}if(I.T.indexOf(j)!=-1){var f=N[v].u.x,W=N[v].u.y;o.fillRect(f-Q*.8,W-Q*.8,2*Q*.8,2*Q*.8)}if(I.Qt.indexOf(v)!=-1){var r=N[v],U=[r.u];
o.beginPath();o.moveTo(r.e6.x,r.e6.y);o.lineTo(r.u.x,r.u.y);o.lineTo(r.BN.x,r.BN.y);var b=K+(v+$-K-1)%$,e=K+(v+$-K+1)%$,P=N[b],L=N[e];
if(P&&q(P.type)&&I.Qt.indexOf(b)==-1){o.moveTo(P.u.x,P.u.y);o.lineTo(P.BN.x,P.BN.y);U.push(P.BN)}if(L&&q(L.type)&&I.Qt.indexOf(e)==-1){o.moveTo(L.u.x,L.u.y);
o.lineTo(L.e6.x,L.e6.y);U.push(L.e6)}o.stroke();if(!r.u.kn(r.e6))U.push(r.e6);if(!r.u.kn(r.BN))U.push(r.BN);
for(var Y=0;Y<U.length;Y++){var A=U[Y],f=A.x,W=A.y;if(Y==0&&(r.type==2||r.type==5))o.fillRect(f-1.2*Q,W-1.2*Q,2.4*Q,2.4*Q);
else{o.beginPath();o.arc(f,W,Q*1.2,0,2*Math.PI);o.fill();if(Y!=0)o.fillStyle=c;o.beginPath();o.arc(f,W,Q*.8,0,2*Math.PI);
o.fill();o.fillStyle=i}}}_=!0}}}o.lineWidth=1/D.F;if(l.D.ZB){o.fillStyle=o.strokeStyle=i;var L={s:[],v:[]},X=hf.ap3;
if(X==null){X=hf.ap3={s:[1,0],v:["M"]};for(var v=1;v<30;v++){var G=Math.PI*2*v/30;X.s.push(Math.cos(G),Math.sin(G));
X.v.push("L")}X.v.push("Z","M","L","M","L");X.s.push(-.5,0,.5,0,0,-.5,0,.5)}for(var v=0;v<l.D.ZB.length;
v++){var P=p.St.ajC(l.D.ZB[v],D),E=new de(P[0],0,0,P[0],P[1],P[2]);g.X.concat(L,X,E)}this.k2(L,null,o);
o.stroke();_=!0}var T=new de(1,0,0,1,.5/D.F,.5/D.F);if(l.j$){o.fillStyle=o.strokeStyle=i;var L={s:[0,0,l.Q,0,l.Q,l._,0,l._],v:["M","L","L","L","Z"]};
this.k2(L,T,o);o.stroke();_=!0}if(l.D.UI){o.fillStyle=o.strokeStyle=hf.Mu([0,0,0,.5]);this.k2(l.D.UI,null,o,!0);
o.fill("evenodd")}o.strokeStyle=i;o.fillStyle=c;if(l.D.Xi){this.k2(l.D.Xi,T,o);o.stroke()}var y=hf.Oi(l.D.Iz,o,D);
o.fill();o.stroke();_=_||y;o.fillStyle=o.strokeStyle=hf.Mu([0,0,0,kx.X7&&a8==0?1:.5],!0);if(l.D.A_){this.k2(l.D.A_,null,o);
o.fill()}if(l.D.T9){this.k2(l.D.T9,T,o);o.stroke()}for(var d4 in l.D.Lu)if(l.D.Lu[d4].T9){this.k2(l.D.Lu[d4].T9,null,o);
o.stroke();_=!0}var y=hf.Oi(l.D.XA,o,D);o.stroke();_=_||y;if(l.D.vG){this.k2(l.D.vG,T,o);o.strokeStyle="rgba(0,0,0,0.5)";
o.lineWidth=M.Y()*2.5/D.F;o.stroke();o.strokeStyle="white";o.lineWidth=M.Y()*2/D.F;o.stroke()}if(l.D.ny.length+l.D.TQ.length+l.D.Ey.length!=0){_=!0;
o.fillStyle=c;hf.LV(l.D.ny,o,D,6);o.fill();hf.LV(l.D.TQ,o,D,6);o.fill();o.fillStyle=i;hf.LV(l.D.ny,o,D,4);
o.fill();hf.LV(l.D.Ey,o,D,4);o.fill();o.fillStyle=hf.Mu([.7,.7,.7,1]);hf.LV(l.D.TQ,o,D,4);o.fill()}if(l.D.gr.length!=0){for(var v=0;
v<l.D.gr.length;v++){var dH=l.D.gr[v],eV=dH[1],bf;if(H){bf=o.getImageData(eV.x,eV.y,eV.Q,eV._);g.z.JM("norm",dH[0],eV,new Uint8Array(bf.data.buffer),eV,eV,1)}else bf=new ImageData(new Uint8ClampedArray(dH[0].buffer),eV.Q,eV._);
o.putImageData(bf,eV.x,eV.y)}}var jd=.5/D.F;o.lineWidth=1/D.F;if(l.D.hw){_=!0;var i5=l.D.hw,fD=i5.Ut,J={v:[],s:[]};
for(var v=0;v<i5.xg.length;v++)g.X.concat(J,g.X.YZ(i5.xg[v]));J.s=J.s.concat(fD);for(var v=0;v<fD.length;
v+=4){J.v.push("M","L")}for(var v=0;v<J.s.length;v++){J.s[v]+=jd}o.strokeStyle=hf.Mu([.9,.2,.2,1]);this.k2(J,null,o);
o.stroke();var eo=M.Y(),iX=2/D.F;o.font=n*.9+"px sans-serif";for(var v=0;v<fD.length;v+=4){var f=fD[v],W=fD[v+1],cK=fD[v+2],g0=fD[v+3],bW=Math.sqrt((g0-W)*(g0-W)+(cK-f)*(cK-f));
bW=g.vL.oo(bW,l.on,u,W==g0?l.Q:l._);var hF=new he((f+cK)/2,(W+g0)/2);o.fillStyle=hf.Mu([.9,.2,.2,1]);
var aJ=o.measureText(bW).width;o.fillRect(hF.x-aJ/2-iX*eo,hF.y-3.5*iX*eo,aJ+2*iX*eo,7*iX*eo);o.fillStyle=hf.Mu([1,1,1,1]);
o.save();o.translate(hF.x-aJ/2,hF.y+2*iX*eo);o.scale(.1,.1);o.font=n*9+"px sans-serif";o.fillText(bW,0,0);
o.restore()}}if(u.bX){if(S.cD&&l.w.F>10&&a8==0){this._x(l,o,1,1,.25,S.ki,16777215);_=!0}if(S.yc){var iR=g.vL.bQ(S.Aq,l.on,l.Q,S.EG),ex=iR;
if(S.EG==4)ex*=l._/l.Q;this._x(l,o,iR,ex,1,S.ki,S.xm);_=!0}if(S.oJ){var dX=l.we(),iZ=l.NQ(),j3=Math.max(l.w.T3.Q,l.w.T3._)/l.w.F;
j3=Math.max(Math.max(l.Q,l._)*2,j3);for(var v=0;v<dX[0].length;v++){var by=dX[0][v],i9=dX[1][v];if(i9!=-1&&i9!=iZ)continue;
var dm=D.zp(by[1],by[1]),kh=D.vp(Math.floor(dm.x)+.5,Math.floor(dm.y)+.5),jK=g.kJ(i9==-1?S.Pe:S.VF);
jK=[jK.$/255,jK.H/255,jK.J/255,1];o.beginPath();o.strokeStyle=hf.Mu(jK);if(by[0]==0){var bd=kh.x;o.moveTo(bd,-j3);
o.lineTo(bd,j3)}else{var dz=kh.x;o.moveTo(-j3,dz);o.lineTo(j3,dz)}o.stroke();_=!0}}var dw=l.RX;if(dw.length>0&&u.Bq==p.ax_){var eV=7/l.w.F,ev=eV/3,aq=eV*4;
o.strokeStyle=o.fillStyle="black";for(var v=0;v<dw.length;v++){var e3=dw[v];o.fillRect(e3.x-.5*ev,e3.y-.5*aq,ev,aq);
o.fillRect(e3.x-.5*aq,e3.y-.5*ev,aq,ev);o.lineWidth=2.5/l.w.F;o.beginPath();o.arc(e3.x,e3.y,eV,0,2*Math.PI);
o.stroke();o.font=1.9*eV+"px serif";o.lineWidth=1.25/l.w.F;o.strokeText(""+(v+1),e3.x+.75*eV,e3.y+2.5*eV)}_=!0}var a9=l.n0;
if(S.n0&&a9.length!=0){o.font=n*.8+"px sans-serif";var e0=[],as=[];for(var v=0;v<a9.length;v++){var eK=p.d8.W6(a9,v);
e0.push(eK);if(l.$h.indexOf(v)!=-1)as.push(eK)}e0.reverse();var gh=Date.now();e0=g.rect.amm([0,0,l.Q,l._],e0);
for(var Y=0;Y<2;Y++)for(var v=0;v<e0.length;v++){var gx=e0[v],j=gx[4],$=j!=null?a9[j]:null;if($&&Y==0||$==null&&Y==1)continue;
var f=Math.round(gx[0]),W=Math.round(gx[1]),cK=Math.round(gx[2]),g0=Math.round(gx[3]);o.strokeStyle=o.fillStyle=hf.Mu($?[0,.7,.7,1]:[.8,.8,.8,1]);
o.strokeRect(f+jd,W+jd,cK-f,g0-W);var gc=v+1,kQ=o.measureText(gc),aJ=kQ.width;o.fillRect(f,W,aJ+n/2,n);
o.fillStyle=hf.Mu([1,1,1,1]);o.fillText(gc,f+n/4,W+n*.8)}var iX=2/l.w.F,dn=2*iX;for(var v=0;v<as.length;
v++){var gx=as[v],f=Math.round(gx[0]),W=Math.round(gx[1]),cK=Math.round(gx[2]),g0=Math.round(gx[3]);
o.strokeStyle=o.fillStyle=hf.Mu([1,.6,0,1]);o.strokeRect(f+jd,W+jd,cK-f,g0-W);var bQ=[f,W,cK,W,cK,g0,f,g0];
for(var iK=0;iK<bQ.length;iK+=2){var bd=bQ[iK],dz=bQ[iK+1],cJ=bQ[iK+2&7],i1=bQ[iK+3&7];o.fillRect(bd-iX,dz-iX,dn,dn);
o.fillRect(Math.round((bd+cJ)/2)-iX,Math.round((dz+i1)/2)-iX,dn,dn)}}_=!0}var bu=l.add.Anno;if(bu&&bu.length!=0)for(var v=0;
v<bu.length;v++){var gi=bu[v],jK=gi[2],bd=gi[0]-jd,dz=gi[1]-jd,dn=30/D.gS,iv=.4*dn,d0=.6*dn;o.beginPath();
o.moveTo(bd,dz+d0);o.lineTo(bd,dz);o.lineTo(bd+dn,dz);o.lineTo(bd+dn,dz+dn);o.lineTo(bd+iv,dz+dn);o.closePath();
o.lineTo(bd+iv,dz+d0);o.lineTo(bd+iv,dz+dn);if(v==l.w.zq){o.lineWidth*=5;o.strokeStyle=hf.Mu([0,0,0,.5]);
o.stroke();o.lineWidth/=5}o.fillStyle=hf.Mu([jK.$/255,jK.H/255,jK.J/255,1]);o.fill();o.strokeStyle=hf.Mu([0,0,0,1]);
o.stroke()}}o.strokeStyle=hf.Mu([1,0,0,1]);if(l.D.b3){this.k2(l.D.b3,T,o);o.stroke()}o.restore();if(u.QC){if(l.w.Sj==null||l.w.Sj.width!=l.w.T3.Q||l.w.aB.height!=l.w.T3._){l.w.Sj=o.createImageData(l.w.T3.Q,g.vL.wv);
l.w.aB=o.createImageData(g.vL.wv,l.w.T3._)}var h=gp.PO[u.NP],af=0,eY=0,hV=l.Q,i$=l._;if(l.NQ()!=-1){var O=l.R[l.NQ()].IH();
af=O.x;eY=O.y;hV=O.Q;i$=O._}af*=D.F;eY*=D.F;var D=l.w,cz=[1,l.on,l.on/2.54,l.on/25.4,hV/100][S.wc],fk=D.F*l.Q/2,ee=D.F*l._/2,aC=[D.F*cz,new he(D.i.x+(af+fk*cz-fk),D.i.y+(eY+ee*cz-ee))];
if(S.wc==4)cz*=i$/hV;var cI=[D.F*cz,new he(D.i.x+(af+fk*cz-fk),D.i.y+(eY+ee*cz-ee))],cZ=this.JT.e_;g.vL.akn(D,h["--text-color"],h["--bg-input"],Math.floor(cZ.x),Math.floor(cZ.y),aC,cI);
var ad=kP.aiO(D.F,hf.Mu([1,1,1,1]),l.Q,l._);hf.sB(l.w.aB.data);hf.sB(l.w.Sj.data);o.putImageData(l.w.aB,0,0);
o.putImageData(l.w.Sj,0,0);o.putImageData(ad,0,l.w.T3._-ad.height)}if(l.D.UD.length!=0){for(var v=0;
v<l.D.UD.length;v++){var dH=l.D.UD[v],eV=dH[1];o.putImageData(new ImageData(new Uint8ClampedArray(dH[0].buffer),eV.Q,eV._),eV.x,eV.y)}}return _};
hf.prototype._x=function(l,o,D,H,_,u,S){while(D*l.w.F<4){D*=2;H*=2}var h=l.Q,F=l._,n=.5/l.w.F;S=g.kJ(S);
o.strokeStyle=hf.Mu([S.$/255,S.H/255,S.J/255,_],!1);o.save();o.rect(0,0,h,F);o.clip();o.beginPath();
for(var R=0;R<=h;R+=D){o.moveTo(R+n,0);o.lineTo(R+n,F)}if(u==0){for(var s=0;s<=F;s+=H){o.moveTo(0,s+n);
o.lineTo(h,s+n)}}else{H*=Math.sqrt(4/3);var Z=H*Math.floor(h/H),O=h*(H/(2*D));for(var s=-Z;s<=F+Z;s+=H){o.moveTo(0,s);
o.lineTo(h,s-O);o.moveTo(0,s);o.lineTo(h,s+O)}}o.stroke();o.restore()};hf.LV=function(l,o,D,H){o.beginPath();
var _=H*M.Y()/D.F,u=!1;for(var v=0;v<l.length;v+=2){u=!0;var S=l[v],h=l[v+1];o.moveTo(S+_,h);o.arc(S,h,_,0,2*Math.PI)}return u};
hf.Oi=function(l,o,D,H){o.beginPath();var _=(H?H:1)*(4*M.Y()+.5)/D.F,u=!1;for(var v=0;v<l.length;v+=2){u=!0;
var S=l[v],h=l[v+1];o.rect(S-_,h-_,2*_,2*_)}return u};hf.Jr=function(l,o,D,H){D.beginPath();if(H)D.rect(-1e5,-1e5,1e6,1e6);
var _=l;if(o){_=g.X.clone(l);g.X.h(_.s,o,_.s)}Typr.U.pathToContext({cmds:_.v,crds:_.s},D)};hf.prototype.k2=hf.Jr;
hf.zu=function(l,o,D){kx.xL.call(this);var H=this.aga=o!=0,_=D?"true":"in01(sCoord)",u="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(l?"uniform sampler2D lut;  uniform float N;  "+kx.Pd.aoU:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(H?"uniform vec4 bgClr;  uniform vec4 ars["+o+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+kx.Pd.a3L+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(D?"-floor(sCoord)":"")+"); \t\t\t\t"+(l?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(H?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+o+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+_+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+_+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",S="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.Vk(u,S)};hf.zu.prototype=new kx.xL;hf.zu.prototype.o0=function(l,o,D,H,_,u,S,h,F,n,R,s,Z,O){this.ra("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var w=kx.Ig,m=this.fq;w.uniformMatrix3fv(m.tmat,!1,D);w.uniform4fv(m.gsize,H);w.uniform3f(m.contSizeZoom,_,u,S);
w.uniform2f(m.cnvSize,h,F);w.uniformMatrix4fv(m.ctrn,!1,s);if(this.aga){w.uniform4fv(m.ars,R);w.uniform4fv(m.bgClr,n)}w.uniform1i(m.source,0);
w.uniform1i(m.target,1);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,l);w.activeTexture(w.TEXTURE1);
w.bindTexture(w.TEXTURE_2D,o);if(Z){w.uniform1f(m.N,O);w.uniform1i(m.lut,2);w.activeTexture(w.TEXTURE2);
w.bindTexture(w.TEXTURE_2D,Z.mn);var V=w.LINEAR;w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,V);
w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,V)}w.activeTexture(w.TEXTURE0)};function aW(){j4.call(this,[9,7],!1,"---panels/layercomps",j4.nC.a4P);
this.ns.setAttribute("style","min-width:240px;");this.h7=null;this.eJ=-1;this.SU=[];this.an=M.a("div","scrollable");
this.an.style.height="160px";this.ns.appendChild(this.an);this.Vq=M.a("div","lpfoot");this.ns.appendChild(this.Vq);
this.Ho=[];var l=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],o=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var v=0;v<l.length;v++){var D=l[v];if(v>0)D="<img src=\""+PIMG[l[v]]+"\" class=\"miniscale gsicon\" />";
var H=new cg(D,!1,o[v]);H.O("click",this.auy,this);this.Vq.appendChild(H.Z);this.Ho.push(H)}}aW.prototype=new j4("");
aW.prototype.Av=function(l,o){this.ns.setAttribute("style","width:"+(l-2)+"px;");this.an.style.height=o-28+"px"};
aW.prototype.t6=function(l){var o=new jJ(k.E.r,!0);o.data=l;o.S=p.sT;this.A(o)};aW.amn="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
aW.prototype.auy=function(l){var v=this.Ho.indexOf(l.currentTarget)-1;if(v==-1){var o=new jJ(k.E.b,!0);
o.data={q:k.L.BS,v_:aW.amn};this.A(o);return}if(v!=1)if(this.eJ==-1)return;this.t6({q:["updLC","addLC","delLC"][v],wN:this.eJ});
if(v==2)this.eJ=-1};aW.prototype.k=function(){j4.prototype.k.call(this);for(var v=0;v<this.Ho.length;
v++)this.Ho[v].k()};aW.prototype.my=function(l){if(l==null)M.EA(this.ns,"disabled");else M.vY(this.ns,"disabled");
this.h7=l;M.o7(this.an);if(l==null)return;var o=l.xr.lastAppliedComp?l.xr.lastAppliedComp.v:0,D=l.xr.list.v.slice(0);
D.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var v=0;v<D.length;
v++){var H=D[v].v,_=new cu(H.Nm.v,H.compID.v,H.capturedInfo.v,o,this.eJ);_.O("activate",this.Gm,this);
_.parent=this;this.an.appendChild(_.Z);this.SU.push(_)}};aW.prototype.Gm=function(l){this.eJ=l.currentTarget.wN;
this.my(this.h7)};function cu(l,v,o,D,H){f1.call(this);this.wN=v;this.Z=M.a("div","head listitem"+(v==H?" selected":""));
var _=v==D,u=new cg(_?"\u2713":"\u2014");if(_)u.PL();this.Z.appendChild(u.Z);u.O("click",this.pC,this);
var S=this.Kq=M.a("span");S.textContent=l;this.Z.appendChild(S);this.Ho=[];if(v!=0){this.Z.addEventListener("mouseup",this.Gm.bind(this),!1);
this.a5K=M.a("span","headR");this.Z.appendChild(this.a5K);var h=["lrs/eye","pos","lrs/fx"],F=["Visibility","Position","Appearance"];
for(var n=0;n<h.length;n++){var R=new cg("<img src=\""+PIMG[h[n]]+"\" class=\"autoscale gsicon\" />",!1,F[n]);
if((o>>n&1)==0)R.Z.setAttribute("style","opacity:0.3");R.O("click",this.aeW,this);this.a5K.appendChild(R.Z);
this.Ho.push(R)}}}cu.prototype=new f1;cu.prototype.Gm=function(l){if(l.target!=this.Kq&&l.target!=this.Z)return;
if(l.detail==1)this.A(new jJ("activate",!1));else{var o=new j4.yv(this.Kq,this.GH.bind(this))}};cu.prototype.aeW=function(l){var v=this.Ho.indexOf(l.currentTarget);
this.t6({q:"editLC",aaQ:v,wN:this.wN})};cu.prototype.GH=function(l){this.t6({q:"editLC",U3:l,wN:this.wN})};
cu.prototype.pC=function(l){this.t6({q:"setLC",wN:this.wN})};cu.prototype.t6=function(l){var o=new jJ(k.E.r,!0);
o.data=l;o.S=p.sT;this.A(o)};function fo(){j4.call(this,[9,11],!1,"---panels/navigator",j4.nC.a8n);var l=this.ns;
M.EA(l,"padded");l.setAttribute("style","cursor:grab;");this.Pf=M.a("canvas");l.appendChild(this.Pf);
M.wR(l);M.zl(this.Pf);M.GY(this.Pf,this.kj.bind(this));this.EJ=new b_(null,2,6400,"%",null,!0);this.EJ.O(k.E.B,this.a2m,this);
l.appendChild(this.EJ.Z);this.a5E=this.ju.bind(this);this.a23=this.ER.bind(this);this.Gj=null;this.tZ=null;
this.D6=!1}fo.prototype=new j4("");fo.prototype.Av=function(l,o){this.pX=l*1.2;this.B9=o*1.2;this.$u()};
fo.prototype.a2m=function(l){var o=this.EJ.l(),D=this.Gj,H=o/100;if(.8<H&&H<1.2)H=1;else if(1.8<H)H=Math.round(H);
var _=new jJ(k.E.r,!0);_.S=p.Nk;_.data={q:"zoom",F:H};this.A(_)};fo.prototype.kj=function(l){var o=this.Gj;
if(o==null)return;this.D6=!0;M.en(window,this.a5E);M.Bv(window,this.a23)};fo.prototype.ju=function(l){var o=M.Kx(l,this.Pf),D=this.Gj,H=this.Pf.width,_=this.Pf.height,u=(o.x*M.Y()-H/2)/H,S=(o.y*M.Y()-_/2)/_,h=M.Y()*D.w.F,F=Math.round(-D.w.F*D.Q*u),n=Math.round(-D.w.F*D._*S);
p.QD.Ta(D,F,n)};fo.prototype.ER=function(l){M.ie(window,this.a5E);M.OF(window,this.a23);this.D6=!1};
fo.prototype.my=function(l){if(l==null&&this.Gj!=null)this.Pf.width=100;this.Gj=l;this.$u()};fo.prototype.abk=function(){var l=this.Gj,o=M.Y(),D=p._1.H4(l.Q,l._,o*(this.pX-10),o*(this.B9-36)),H=g.RC(l.zG(),new gt(0,0,l.Q,l._),D);
this.tZ=[H.G5,H.rect]};fo.prototype.$u=function(){var l=this.Gj;if(l==null||l.w.F==0)return;var o=l.w;
if(!M.Ve(this.ns))return;this.EJ.j(o.F*100);if(!this.D6)this.abk();var D=this.tZ[0],H=this.tZ[1],_=H.Q,u=H._,S=this.Pf;
S.width=_;S.height=u;M.nY(S,_,u);var h=this.ns;h.style.width=this.Pf.style.width+12+"px";var F=S.getContext("2d"),n=F.createImageData(_,u);
g.Tg(D,n.data);F.putImageData(n,0,0);F.getImageData(0,0,1,1);var R=o.T3,s=o.vp(R.x,R.y),Z=o.vp(R.x+R.Q,R.y+R._),O=_/l.Q;
F.scale(O,O);F.lineWidth=4/O;F.strokeStyle="#ff0000";F.strokeRect(s.x,s.y,Z.x-s.x,Z.y-s.y)};fo.prototype.Ip=function(l,o){};
fo.prototype.QB=function(){this.$u()};function cT(l,o){j4.call(this,l.name,!1,l.icon,o);this.acY=l}cT.prototype=new j4("");
cT.prototype.Zw=function(){var l=this.ns,o=this.acY;if(!M.Ve(l)||this.Ap)return;var D=this.Ap=M.a("iframe");
D.setAttribute("src",o.url);this.ns.appendChild(D)};cT.prototype.QB=cT.prototype.my=function(){this.Zw()};
cT.prototype.i2=function(l){if(M.Ve(this.Ap))this.Ap.contentWindow.postMessage(l,"*")};cT.prototype.Av=function(l,o){if(this.Ap==null)return;
this.Ap.setAttribute("style","width:"+l+"px; height:"+o+"px")};function bi(){j4.call(this,[9,12],!1,"---panels/tpreset",j4.nC.p2);
this.Fy=null;this.v0=new cl(p.ON);this.v0.parent=this;var l=M.a("div","padded");l.setAttribute("style","width:20em");
this.ns.appendChild(l);l.appendChild(this.v0.KI)}bi.prototype=new j4("");bi.prototype.QB=function(){this.v0.jD(this.Fy.xE)};
bi.prototype.Ip=function(l,o){this.Fy=l;if(o==is.CV||o==is.p2)this.v0.jD(l.xE)};bi.prototype.Av=function(l,o){this.v0.af2(this.Fy.Bq)};
bi.prototype.k=function(){j4.prototype.k.call(this);this.v0.k()};var g$=function(){var l=[],o=null,D=null,H=null,_=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function u(){j4.call(this,"Memory",!1,null,j4.nC.aiJ);var Z=M.a("div","padded");this.ns.appendChild(Z);
D=new cg(["<< VAR0",[0,13,2]],!1,null,!0);D.addEventListener("click",function(O){l.pop();h()});Z.appendChild(D.Z);
o=M.a("div","scrollable");o.setAttribute("style","width:20em;  height:26em; margin-top:8px;");Z.appendChild(o)}u.prototype=new j4("");
u.prototype.my=function(Z,O,w){H=O;this.QB()};u.prototype.QB=function(){D.td(!1);if(!M.Ve(o))return;
var Z={Nt:"Total:",_C:[]};for(var v=0;v<H.length;v++)Z._C.push(n(H[v]));s(Z);l=[Z];h()};u.prototype.k=function(){j4.prototype.k.call(this);
D.k()};function S(Z){var O=Z.currentTarget,v=0;while((O=O.previousSibling)!=null)v++;l.push(l[l.length-1]._C[v-1]);
h()}function h(){D.td(l.length>1);var Z=l[l.length-1];M.o7(o);F(Z,o,0);Z._C.sort(function(O,w){return w.B2[0]-O.B2[0]});
for(var v=0;v<Z._C.length;v++)F(Z._C[v],o,1)}function F(Z,O,w){var m=ke.g4,V=w!=0&&Z._C,q="margin-left:"+w*10+"px; margin-bottom:8px; padding:3px 5px;";
if(V)q+="cursor:pointer;";if(Z.no!=null)q+="background-color:rgba("+_[Z.no].join(",")+",0.2);";var i=M.a("div");
O.appendChild(i);i.setAttribute("style",q);i.innerHTML=M.Ec(Z.Nt)+"<br />"+"RAM: <b>"+m(Z.B2[0])+"</b>\u2001GPU: <b>"+m(Z.B2[1])+"</b>";
if(V)i.addEventListener("click",S,!1)}function n(Z){var O={Nt:Z.name,_C:[],no:0},w=kx.X7?1:0,m=1-w,V={Nt:"History",_C:[],no:5};
O._C.push(V);for(var v=1;v<Z.history.length;v++){var q=Z.history[v];V._C.push({Nt:cU.get(q.name),no:5,B2:[q.P7(),0]})}s(V);
var V={Nt:"Final Image",B2:[Z.Q*Z._*4,w*Z.Q*Z._*4],no:2};O._C.push(V);for(var v=0;v<Z.R.length;v++){var i=R(Z.R[v]);
if(i._C.length!=0)O._C.push(i)}var c=Z.add.lnk2;if(c)for(var v=0;v<c.length;v++){var i=c[v],z={Nt:i._h,_C:[],no:4},B=0;
z._C.push({Nt:"Raw file",B2:[i.raw.length,0]});if(i.f2)for(var t=0;t<i.f2.length;t+=2)B+=i.f2[t].length;
if(B!=0)z._C.push({Nt:"Decoded pixels",B2:[B,0]});s(z);O._C.push(z)}s(O);return O}function R(Z){var O={Nt:Z.getName(),_C:[],no:1},w=kx.X7?1:0,m=1-w,V=Z.rect.c();
if(V!=0)O._C.push({Nt:"Layer pixels",B2:[V*4,w*V*4]});if(Z.add.lmfx&&Z.rD.YT.type){var q=Z.rD.YT.type,B=0;
for(var i in q){var c=0;for(var z=0;z<q[i].length;z++)if(i=="ebbl"){if(q[i][z].gc)c+=q[i][z].gc.nR.c();
if(q[i][z].pA)c+=q[i][z].pA.nR.c();if(q[i][z].Bg)c+=q[i][z].Bg.nR.c();if(q[i][z].eS)c+=q[i][z].eS.nR.c()}else c+=q[i][z].nR.c();
if(c!=0)O._C.push({Nt:cU.get(cq.names[cq.order.indexOf(i)]),B2:[m*c*4,w*c*4],no:3})}if(Z.rD.w_)B+=V;
if(Z.rD.OD)B+=V;if(Z.rD.Ie)B+=V;if(Z.rD.Ie)B+=V;if(Z.rD.Yh)B+=V;if(Z.rD.OT)B+=V;var t=Z.rD.ai?Z.rD.ai.length:0;
if(B+t!=0)O._C.push({Nt:"Additional Blending Data",B2:[m*B*4+t,w*B*4]})}var a=Z.KQ(),I=a?a.rect.c():0;
if(I!=0){O._C.push({Nt:"Raster Mask",B2:[I,0]})}var a=Z.add.vmsk,I=a&&a.LL?a.LL.rect.c():0;if(I!=0){O._C.push({Nt:"Vector Mask",B2:[I,0]})}s(O);
return O}function s(Z){Z.B2=[0,0];for(var v=0;v<Z._C.length;v++){Z.B2[0]+=Z._C[v].B2[0];Z.B2[1]+=Z._C[v].B2[1]}}return u}();
function di(){j4.call(this,[9,14],!1,"---panels/notes",j4.nC.aAw);this.ns.setAttribute("style","min-width:240px;");
var l=M.a("div","padded");this.ns.appendChild(l);this.Km=new g7("Author");l.appendChild(this.Km.Z);this.gi=M.a("textarea");
M.cp(this.gi);l.appendChild(this.gi);var o=new cg("<<",null,null,!0);l.appendChild(o.Z);this.ajz=o;var D=new cg(">>",null,null,!0);
l.appendChild(D.Z);o.O("click",this.xp,this);D.O("click",this.xp,this);var H=this.aEb=new eW("");l.appendChild(H.Z)}di.prototype=new j4("");
di.prototype.xp=function(l){var o=l.target==this.ajz?-1:1,D=this.Gj,H=D.add.Anno;if(H==null)return;var _=H.length,u=D.w.zq;
D.w.zq=(u+o+_)%_;D.LD=!0;this.$u()};di.prototype.$u=function(){var l=this.Gj;if(l==null)return;var o=l.add.Anno;
if(o==null||o.length==0)return;var D=l.w.zq,H=o[D];this.gi.value=H[4];this.aEb.j(D+1+" / "+o.length);
this.Km.j(H[3])};di.prototype.Av=function(l,o){if(this.pX==l)return;this.pX=l;o=Math.min(o,200);this.gi.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(l-10)+"px; height:"+(o-66)+"px")};
di.prototype.my=function(l,o,D){this.Gj=l;this.$u()};function d7(){f1.call(this);this.S=0;this.M$=null;
this.Z=M.a("div","toolconf");this.v0=null;this.OU=null;this.body=new M.a("div","body")}d7.prototype=new f1;
d7.prototype.a2I=function(l,o){this.S=l;this.M$=o;if(p.Nb[l]){var D=this.v0=new cl(l);this.Z.appendChild(D.Z);
D.parent=this}else{this.OU=M.a("div");this.Z.appendChild(this.OU)}this.Z.appendChild(this.body);this.k()};
d7.prototype.ahU=function(l,o){};d7.prototype.a9L=function(l){};d7.prototype.Ip=function(l,o){if(o==is.CV||o==is.p2)if(this.v0)this.v0.jD(l.xE)};
d7.prototype.xM=function(l){};d7.prototype.k=function(){if(this.v0)this.v0.k();else this.OU.innerHTML=M.u_(this.M$,null,"toolicon");
this.Ah()};d7.prototype.Ah=function(){};function fU(){d7.call(this);this.AO=new j_;this.AO.O(k.E.B,this.S8,this);
this.body.appendChild(this.AO.Z)}fU.prototype=new d7;fU.prototype.Ah=function(){this.AO.k()};fU.prototype.S8=function(l){var o=new jJ(k.E.b,!0);
o.data={q:k.L.vI,S:this.S,au:this.AO.acf()};this.A(o)};fU.prototype.xM=function(l){this.AO.aC8(l.Bt)};
function jj(l){d7.call(this);if(l==null)return;this.Fy=null;this.aa={};if(l.indexOf("brush")!=-1&&l.indexOf("prsr")==-1)l.push("prsr");
for(var v=0;v<l.length;v++){var o=l[v],D=null;if(o=="brush"){D=new eI}if(o=="bmode"){D=new bU([12,19,0],b2.Rv,b2.Yi)}if(o=="bmode0"){D=new bU([12,19,0],b2.Rv.slice(23))}if(o=="emode"){D=new bU([12,36],[[9,3],[10,38]])}if(o=="opacity"){D=new gs([12,0],0,100,"%");
D.j(100)}if(o=="flow"){D=new gs([12,63],0,100,"%");D.j(100)}if(o=="smth"){D=new gs([19,3,0],0,100,"%");
D.j(0)}if(o=="samp"){D=new bU([12,36],[[12,25,4],[12,25,5],[12,46]])}if(o=="wconf"){D=new fA;D.j([40,!0,!0])}if(o=="sall"){D=new km([12,25,2])}if(o=="smode"){D=new bU([12,36],[[19,7,0],[19,7,1]]);
D.j(1)}if(o=="pdetail"){D=new km([12,65]);D.PL()}if(o=="rng"){D=new bU([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
D.j(1)}if(o=="expo"){D=new gs([12,5],0,100,"%");D.j(50)}if(o=="algnd"){D=new km([12,75]);D.j(!1)}if(o=="sfrom"){D=new bU([12,70],[[17,1],[17,3],[17,0]])}if(o=="alt"){D=new hi(null,["Alt"],!0,["Select Source"])}if(o=="qsmode"){D=new ei([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(o=="redge"){D=new cg([7,11],!1,null,!0)}if(o=="sesu"){D=new cg("Select Subject",!1,null,!0)}if(o=="setop"){D=new dE}if(o=="patch"){D=new ei(null,[[12,70],[12,71]])}if(o=="strn"){D=new gs([12,64],1,100,"%");
D.j(50)}if(o=="prsr"){D=this.aa.brush.EC}this.body.appendChild(D.Z);if(o=="prsr")continue;D.parent=this;
this.aa[o]=D;if(o=="brush")D.O(k.E.B,this.avx,this);else if(o=="redge"||o=="sesu")D.O("click",e9.au8,this);
else D.O(k.E.B,this.vi,this)}}jj.prototype=new d7;jj.prototype.ahU=function(l,o){l=l[1];var D=this.aa;
if(l.Md)D.bmode.j(b2.cu.indexOf(l.Md.v.BlnM));if(l.Opct)D.opacity.j(l.Opct.v);if(l.flow)D.flow.j(l.flow.v);
if(l.Brsh)D.brush.j(l,o.YQ.b9,o.YQ.N8);if(l.FrgC){var H=g.G.s3(l.FrgC.v),_=new jJ(k.E.b,!0);_.data={q:k.L.lN,au:is.rY,i6:0,P:H.$<<16|H.H<<8|H.J};
this.A(_)}this.avx();this.vi()};jj.prototype.a9L=function(){if(p.Nb[this.S]==null)return null;var l=this.aa,o;
for(var D in p.AW)if(p.AW[D]==this.S)o=D;var H=JSON.parse(JSON.stringify(l.brush.l()));H.classID=o;if(l.bmode)H.Md={t:"enum",v:{BlnM:b2.cu[l.bmode.l()]}};
if(l.opacity)H.Opct={t:"long",v:l.opacity.l()};if(l.flow)H.flow={t:"long",v:l.flow.l()};var _=this.Fy.Os;
_={$:_>>>16,H:_>>>8&255,J:_&255};H.FrgC={t:"Objc",v:g.G.XF(_)};return["Brush Preset "+H.Brsh.v.Dmtr.v.val,H]};
jj.prototype.Ah=function(){for(var l in this.aa)this.aa[l].k()};jj.prototype.xM=function(l){if(l.abv=="showBrushOpts"){this.aa.brush.aup(l.Ug.x,l.Ug.y)}for(var o in l.C4){var D=l.C4[o];
if(o!="qsmode")D*=100;if(this.aa[o])this.aa[o].j(D)}};jj.prototype.Ip=function(l,o){d7.prototype.Ip.call(this,l,o);
this.Fy=l;var D=this.aa.brush;if(D==null)return;if(o==is.CV||o==is.ON)D.jD(l.YQ);if(o==is._b){D.j(l.YQ.Wj,l.YQ.b9,l.YQ.N8)}};
jj.prototype.avx=function(){var l=new jJ(k.E.b,!0);l.data={q:k.L.lN,au:is._b,by:this.aa.brush.l()};this.A(l)};
jj.prototype.vi=function(){var l=new jJ(k.E.b,!0);l.data={q:k.L.vI,S:this.S};for(var o in this.aa){if(o=="brush"||o=="redge")continue;
var D=this.aa[o].l();if(["opacity","flow","smth","expo","strn"].indexOf(o)!=-1)l.data[o]=D/100;else if(o=="bmode")l.data.bmode=b2.Jv[D];
else if(o=="bmode0")l.data.bmode=b2.Jv[23+D];else l.data[o]=D}this.A(l)};function e9(l,o){d7.call(this);
if(l)return;this.aa={};for(var v=0;v<o.length;v++){var D=o[v],H=null;if(D=="sesu"&&!M.CB(0))continue;
if(D=="binop")H=new dE;if(D=="feat"){H=new gs([7,6],0,100,"px");H.j(0)}if(D=="redge")H=new cg([7,11],!1,null,!0);
if(D=="sesu")H=new cg("Select Subject",!1,null,!0);if(D=="wconf")H=new fA;if(D=="cstr")H=new kA;if(D=="anta"){H=new km([12,25,1]);
H.j(!0)}if(D=="sall")H=new km([12,25,2]);if(D=="redge"||D=="sesu")H.O("click",e9.au8,this);else H.O(k.E.B,this.vi,this);
H.parent=this;this.body.appendChild(H.Z);this.aa[D]=H}}e9.prototype=new d7;e9.prototype.xM=function(l){if(l.aX!=null)this.aa.binop.j(l.aX);
else if(l.MI){for(var o in l.MI)if(this.aa[o])this.aa[o].j(l.MI[o])}else{var D=e9.rN;if(D==null){var H=gH.a71(!0);
D=e9.rN=new fg(H.items,H.G4)}D.k();D.parent=this;D.update(l.YI,l.Ay);var _=new jJ(k.E.b,!0);_.data={q:k.L.jq,VG:D,x:l.Og.pF+2,y:l.Og.g7+1};
this.A(_)}};e9.prototype.Ah=function(){for(var l in this.aa)this.aa[l].k()};e9.au8=function(l){var o=l.target==this.aa.sesu,D=new jJ(o?k.E.r:k.E.b,!0);
if(o){D.S=p.lO;D.data={q:"bgrm",P:2}}else D.data={q:k.L.E1,mg:"redge"};this.A(D)};e9.prototype.vi=function(){var l=new jJ(k.E.b,!0);
l.data={q:k.L.vI,S:this.S,MI:{}};for(var o in this.aa)l.data.MI[o]=this.aa[o].l();this.A(l)};function kt(){jj.call(this,["brush","strn"])}kt.prototype=new jj;
function aA(){jj.call(this,"brush bmode opacity flow smth prsr".split(" "))}aA.prototype=new jj;function kd(){jj.call(this,["brush","bmode0","samp","wconf"])}kd.prototype=new jj;
function dB(){jj.call(this,["brush"])}dB.prototype=new jj;function aR(){jj.call(this,["brush","bmode","opacity","smth","prsr"])}aR.prototype=new jj;
function hg(){jj.call(this,["brush","rng","expo"])}hg.prototype=new jj;function hn(){jj.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}hn.prototype=new jj;
function d6(l){d7.call(this);if(l==null)return;this.Te=[];this.jR=new cg("\u2026",!1,null,!0);if(!l)this.body.appendChild(this.jR.Z);
this.jR.O("click",this.J1,this);this.Bk=new f1;this.Bk.parent=this;var o=this.Bk.Z=M.a("div","floatcont form"),D=[[17,0],[17,1],[11,12,0],[17,2]];
for(var v=0;v<D.length;v++){var H=new cg(D[v],!1,null,!0);this.Te.push(H);H.O("click",this.a93,this);
if(!l||v==1)o.appendChild(H.Z)}this.Qy=new kA;this.Qy.O(k.E.B,this.Wd,this);if(!l)this.body.appendChild(this.Qy.Z);
this.da=new cg([15,7,6],!1,null,!0);this.da.O("click",this.a93,this);if(!l)this.body.appendChild(this.da.Z);
this.Mt=new km([15,7,10]);this.Mt.O(k.E.B,this.Wd,this);if(!l)this.body.appendChild(this.Mt.Z);this.hQ=new km("Content-Aware");
this.hQ.O(k.E.B,this.Wd,this);if(!l)this.body.appendChild(this.hQ.Z);this.jp=new fm;this.jp.O("click",this.YK,this)}d6.prototype=new d7;
d6.prototype.J1=function(l){if(M.Ve(this.Bk.Z))return;var o=this.jR.Z.getBoundingClientRect(),D=new jJ(k.E.b,!0);
D.data={q:k.L.jq,VG:this.Bk,x:o.left,y:o.top+o.height+4};this.A(D)};d6.prototype.Ah=function(){this.jp.k();
for(var v=0;v<this.Te.length;v++)this.Te[v].k();this.Qy.k();this.Mt.k();this.da.k()};d6.prototype.xM=function(l){if(l.Yb){this.Qy.a5a(l.Yb[0],l.Yb[1]);
return}var o=this.jp.Z;if(l._r)this.body.appendChild(o);else if(this.body.contains(o))this.body.removeChild(o);
if(l.Qy)this.Qy.j(l.Qy)};d6.prototype.YK=function(l){var o={q:k.L.vI,S:this.S,iO:this.jp.l()?"commit":"cancel"},D=new jJ(k.E.b,!0);
D.data=o;this.A(D)};d6.prototype.a93=function(l){l.target.Z.blur();var o={q:k.L.vI,S:this.S,iO:"cropby",a2w:this.Te.indexOf(l.target)};
if(l.target==this.da)o.iO="straighten";var D=new jJ(k.E.b,!0);D.data={q:k.L.H0,VG:this.Bk};this.A(D);
D.data=o;this.A(D)};d6.prototype.Wd=function(l){var o={q:k.L.vI,S:this.S,iO:"config",Xj:{c5:this.Qy.l(),Du:this.Mt.l(),Ux:this.hQ.l()},atK:l.target==this.Qy},D=new jJ(k.E.b,!0);
D.data=o;this.A(D)};function k6(){d6.call(this,!1)}k6.prototype=new d6;function ff(){d6.call(this,!0)}ff.prototype=new d6;
function jZ(){jj.call(this,["brush","rng","expo"])}jZ.prototype=new jj;function eR(){jj.call(this,"brush emode opacity flow smth prsr".split(" "))}eR.prototype=new jj;
function gm(){jj.call(this,["brush","samp","wconf"])}gm.prototype=new jj;function ku(){e9.call(this,!1,["binop","feat","anta","redge","cstr"])}ku.prototype=new e9(!0);
function gV(){d7.call(this);var l=this.aa=[new bU([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new bU([12,70],[[17,1],[17,3],[17,0]]),new km([12,20,1]),new km([8,0])];
l[1].j(2);l[2].j(!0);for(var v=0;v<l.length;v++){var o=l[v];o.O(k.E.B,this.vi,this);this.body.appendChild(o.Z)}}gV.prototype=new d7;
gV.prototype.vi=function(l){var o=this.aa,D=[];for(var v=0;v<o.length;v++)D[v]=o[v].l();var H=new jJ(k.E.b,!0);
H.data={q:k.L.vI,S:this.S,MI:D};this.A(H)};gV.prototype.Ah=function(){for(var v=0;v<this.aa.length;v++)this.aa[v].k()};
function ef(){d7.call(this);this.BT=!1;this.un=new aY("GrFl",!0);this.un.parent=this;this.un.update(null,JSON.parse(cq.Rq[6]));
this.un.O(k.E.B,this.FS,this);var l="Grad Type Md Opct Rvrs Dthr".split(" ");for(var v=0;v<l.length;
v++)this.body.appendChild(this.un.sy[l[v]].Z);this.qr=new cg([6,48,1],!1,null,!0);this.qr.O("click",this.FS,this);
this.body.appendChild(this.qr.Z)}ef.prototype=new d7;ef.prototype.Ah=function(l){var l=this.BT;this.body.children[2].style.display=l?"none":"";
this.body.children[3].style.display=l?"none":"";this.un.k();this.qr.k()};ef.prototype.Ip=function(l,o){d7.prototype.Ip.call(this,l,o);
var D=o==is.rY,H=this.un.sy.Grad;H.WC(l.Os,l.qg);if(D||o==is.z1||o==is.CV)H.jD(l.h5)};ef.prototype.FS=function(l){if(l.target==this.qr){var o=new jJ(k.E.yT,!0);
o.data=p.F_.Vw(1);this.A(o);return}this.k();var o=new jJ(k.E.b,!0);o.data={q:k.L.vI,S:this.S,au:this.un.l()};
this.A(o)};ef.prototype.xM=function(l){this.BT=l.n;this.k();this.un.update(null,l.au);this.k()};function aS(){d7.call(this);
this.be=new km([8,7,1]);this.body.appendChild(this.be.Z);this.be.O(k.E.B,this.vi,this)}aS.prototype=new d7;
aS.prototype.vi=function(){var l={q:k.L.vI,S:this.S,NN:this.be.l()},o=new jJ(k.E.b,!0);o.data=l;this.A(o)};
function jq(){d7.call(this);var l=M.a("span","fitem");this.body.appendChild(l);this.jU=[new gs([12,15],-180,180,"\xB0"),new cg([1,12,2],null,null,!0)];
for(var v=0;v<this.jU.length;v++){var o=this.jU[v];o.parent=this;l.appendChild(o.Z);o.O(v==1?"click":k.E.B,this.Ku,this)}}jq.prototype=new d7;
jq.prototype.Ah=function(){for(var v=0;v<this.jU.length;v++)this.jU[v].k()};jq.prototype.xM=function(l){this.jU[0].j(l.$M*180/Math.PI)};
jq.prototype.Ku=function(l){var o=this.jU.indexOf(l.target),D=new jJ(k.E.b,!0);D.data={q:k.L.vI,S:this.S,$M:o==1?0:l.target.l()*Math.PI/180};
this.A(D)};function gg(){jj.call(this,["brush","algnd","sfrom","alt"])}gg.prototype=new jj;function gj(){d7.call(this);
this.QG=new kN;this.QG.parent=this;this.body.appendChild(this.QG.Gc.Z);this.body.appendChild(this.QG.VH.Z);
this.body.appendChild(this.QG.bu.Z);this.body.appendChild(this.QG.rp.Z);var l=M.a("span","fitem");this.body.appendChild(l);
l.appendChild(this.QG.Ni.Z);l.appendChild(this.QG.xa.Z);l.appendChild(this.QG.f9.Z);this.e9=new bU("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.e9.O(k.E.B,this.YK,this);this.body.appendChild(this.e9.Z);this.fE=new bU(null,["\u2191","-","\u2193"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.fE.O(k.E.B,this.YK,this);this.body.appendChild(this.fE.Z);this.so=new cg([11,9],!1,null,!0);this.so.O("click",this.a3d,this);
this.body.appendChild(this.so.Z);this.jp=new fm;this.jp.O("click",this.YK,this)}gj.prototype=new d7;
gj.prototype.Ah=function(){this.jp.k();this.QG.k();this.so.k()};gj.prototype.a3d=function(l){var o={q:k.L.vI,S:this.S,iO:"showwarp"},D=new jJ(k.E.b,!0);
D.data=o;this.A(D)};gj.prototype.xM=function(l){if(l.iO=="showactive")this.body.appendChild(this.jp.Z);
if(l.iO=="hideactive")this.body.removeChild(this.jp.Z);if(l.iO=="changeOther"){this.e9.j(l.zb);this.fE.j([0,2,1][l.DM])}if(l.iO=="showpan"){var o=[{name:[0,1],ab:!0}],D=[{K:k.E.r,S:p.gg,m:{q:"editCurr",LX:l.LX}}],H=l.Og;
if(l.aD8){o=[{name:["VAR0: VAR1",[0,5],[7,0]],ab:!0}];D=[{K:k.E.yT,m:p.OK.Hy(!0)}];var _=gH.aoS();o=o.concat(_[0]);
D=D.concat(_[1])}o.push({name:[11,9]});D.push({K:k.E.b,m:{q:k.L.vI,S:this.S,iO:"showwarp"}});var u=new fg(o,D);
u.parent=this;u.k();u.update(l.YI,l.Ay);var S=new jJ(k.E.b,!0);S.data={q:k.L.jq,VG:u,x:H.pF+2,y:H.g7+1};
this.A(S)}};gj.prototype.Ip=function(l,o){d7.prototype.Ip.call(this,l,o);if(o!=is.CV&&o!=is.MV&&o!=is.Oe&&o!=is.ml)return;
this.QG.j(l.Hv,l.uh,l.U5)};gj.prototype.YK=function(l){var o={q:k.L.vI,S:this.S,iO:this.jp.l()?"commit":"cancel"};
if(l.target==this.e9||l.target==this.fE){o.iO="changeOther";o.zb=this.e9.l();o.DM=[0,2,1][this.fE.l()]}var D=new jJ(k.E.b,!0);
D.data=o;this.A(D)};function bL(){e9.call(this,!1,["binop","feat","anta","redge"])}bL.prototype=new e9(!0);
function j7(){d7.call(this);var l=[],D="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.Ia=new km([12,85]);this.Ia.j(!0);this.Ia.O(k.E.B,this.vi,this);l.push(this.Ia.Z);this.$I=new bU(null,[[0,4],[0,3]]);
this.$I.O(k.E.B,this.vi,this);this.$I.j(1);l.push(this.$I.Z);this.il=new km([20,1]);this.il.O(k.E.B,this.vi,this);
l.push(this.il.Z);this.$J=new km([12,83]);this.$J.O(k.E.B,this.vi,this);l.push(this.$J.Z);this.Bk=new f1;
this.Bk.Z=M.a("div","floatcont form");this.Bk.Z.setAttribute("style","max-width: 200px;");this.Bk.parent=this;
var o=this.Bk.Z;this.aw8=new bU("Scale for exported files",["1x","2x","3x","4x"]);o.appendChild(this.aw8.Z);
this.a4=new cg(D+" PNG",!1,"Save selected layers as PNG",!0);o.appendChild(this.a4.Z);this.a4.O("click",this.RZ,this);
this.aiv=new cg(D+" SVG",!1,"Save selected layers as SVG",!0);o.appendChild(this.aiv.Z);this.aiv.O("click",this.RZ,this);
var H=new cg(D,!1,"Save selected layers",!0);l.push(H.Z);H.O("click",function(F){if(M.Ve(this.Bk.Z))return;
var n=H.Z.getBoundingClientRect(),R=new jJ(k.E.b,!0);R.data={q:k.L.jq,VG:this.Bk,x:n.left,y:n.top+n.height,Hi:!0};
this.A(R)},this);var _=M.a("span","fitem");l.push(_);var u=M.a("span","fitem");l.push(u);this.Ho=[];
for(var v=0;v<8;v++){var S=v==3||v==7?[20,4,6]:[20,4,v<3?v:v-1],h=new cg("Hi",!1,S);(v<4?_:u).appendChild(h.Z);
h.O("click",this.RZ,this);this.Ho.push(h)}for(var v=0;v<l.length;v++)this.body.appendChild(l[v]);this.ahZ=l}j7.prototype=new d7;
j7.prototype.xM=function(l){var o=l.Bt,D=l.abW;this.Ia.j(o.li);this.il.j(o.wG);this.$J.j(o.hw);if(D){M.o7(this.body);
for(var v=0;v<D.length;v++)if(D[v]==1&&this.ahZ[v])this.body.appendChild(this.ahZ[v])}};j7.prototype.RZ=function(l){var o=this.Ho.indexOf(l.target),D;
if(o==-1){D=new jJ(k.E.b,!0);D.data={q:k.L.vI,S:this.S,i6:l.target==this.a4?"getPNG":"getSVG",zK:this.aw8.l()+1}}else{D=new jJ(k.E.r,!0);
D.S=p.e5;D.data={q:"algn",P:o}}this.A(D)};j7.prototype.vi=function(l){var o=new jJ(k.E.b,!0);o.data={q:k.L.vI,S:this.S,i6:"prms",li:this.Ia.hf(),a1B:this.$I.l(),wG:this.il.hf(),hw:this.$J.hf()};
this.A(o)};j7.prototype.Ah=function(){this.Ia.k();this.$I.k();this.il.k();this.$J.k();var l="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var v=0;v<8;v++){this.Ho[v].Qx(M.u_("align/"+l[v],null,"autoscale"))}};function dt(){e9.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}dt.prototype=new e9(!0);
function i3(){jj.call(this,["setop","patch"])}i3.prototype=new jj;function iE(){jj.call(this,["setop"])}iE.prototype=new jj;
function cM(l){var o=l==p.akt?[]:["bmode"];jj.call(this,o.concat(["opacity","wconf","sall"]))}cM.prototype=new jj;
function hb(){e9.call(this,!1,["binop","feat","anta","redge"])}hb.prototype=new e9(!0);function h6(){e9.call(this,!1,["binop","feat","anta","redge"])}h6.prototype=new e9(!0);
function gB(){e9.call(this,!1,["binop","feat","redge","cstr"])}gB.prototype=new e9(!0);function c0(){d7.call(this);
this.Fy=null;this.XQ=null;this.GP=[new g7("X",null,3.2,null,!0),new g7("Y",null,3.2,null,!0),new g7("W",null,3.2,null,!0),new g7("H",null,3.2,null,!0),new g7([12,15],"\xB0",3.7,null,!0),new g7(["VAR0 1",[12,80,0]],null,3.5,null,!0),new g7(["VAR0 2",[12,80,0]],null,3.5,null,!0),new cg([15,7,6],!1,null,!0),new cg([2,2],!1,null,!0)];
for(var v=0;v<this.GP.length;v++){var l=this.GP[v];this.body.appendChild(l.Z);if(v>6)l.O("click",this.Mi,this)}this.le=0}c0.prototype=new d7;
c0.prototype.Mi=function(l){var o=this.GP.indexOf(l.target)==7,D=new jJ(k.E.r,!0);if(o){if(this.le==0)return;
D.S=p.rk;D.data={q:"rot",ND:[2,5],P:-this.le}}else{D.S=p.wD;for(var v=0;v<6;v++)this.GP[v].j(null)}this.A(D)};
c0.prototype.xM=function(l){function o(h,F,n){var R=Math.sqrt(Math.pow(F.x-h.x,2)+Math.pow(F.y-h.y,2)),s=Math.sqrt(Math.pow(F.x-n.x,2)+Math.pow(F.y-n.y,2)),Z=Math.sqrt(Math.pow(n.x-h.x,2)+Math.pow(n.y-h.y,2));
return Math.acos((s*s+R*R-Z*Z)/(2*s*R))}if(l==null)return;this.XQ=l;var D=l.ao_,H=l.TE,_=H.x-D.x,u=H.y-D.y;
this.le=-Math.atan2(u,_);if(l.tV)this.le=o(H,D,l.tV);var S=this.GP;S[0].j(this.Rm(l,D.x));S[1].j(this.Rm(l,D.y));
S[2].j(this.Rm(l,_));S[3].j(this.Rm(l,u));S[4].j((this.le*180/Math.PI).toFixed(2));S[5].j(this.Rm(l,he.At(D,H)));
if(l.tV){S[6].j(this.Rm(l,he.At(D,l.tV)))}else S[6].j("")};c0.prototype.Rm=function(l,o){var D=g.vL.oo(o,l.on,this.Fy,l.a49,!1);
return parseFloat(D).toFixed(2)};c0.prototype.Ip=function(l,o){this.Fy=l;this.xM(this.XQ)};c0.prototype.Ah=function(){var l=this.GP;
for(var v=0;v<l.length;v++)l[v].k();M.BU(l[2],l[3])};function a5(){jj.call(this,["brush","strn","pdetail"])}a5.prototype=new jj;
function bD(){jj.call(this,["brush","sfrom"]);this.aqM=[];var l=[[7,12]];for(var v=0;v<l.length;v++){var o=new cg(l[v],!1,null,!0);
this.aqM.push(o);o.parent=this;this.body.appendChild(o.Z);o.O("click",this.ar0,this)}}bD.prototype=new jj;
bD.prototype.ar0=function(l){var o=this.aqM.indexOf(l.currentTarget),D=new jJ(k.E.yT,!0);D.data=p.hL.Vw(o==0?"contentAware":"aiHeal");
this.A(D)};function hm(){jj.call(this,["brush","strn"])}hm.prototype=new jj;function cp(){jj.call(this,["brush","flow","smode"])}cp.prototype=new jj;
function ch(){d7.call(this);this.L5=!1;var l=M.a("span","fitem");this.body.appendChild(l);this.AY=new ei(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
l.appendChild(this.AY.Z);this.AY.O(k.E.B,this.vi,this);this.ic=new cg([20,2]);this.body.appendChild(this.ic.Z);
this.ic.O("click",this.aeQ,this);this.Sw=new cg([20,3]);this.body.appendChild(this.Sw.Z);this.Sw.O("click",this.aeQ,this);
this.be=new km([8,7,1]);this.body.appendChild(this.be.Z);this.be.O(k.E.B,this.vi,this)}ch.prototype=new d7;
ch.prototype.Ah=function(){this.ic.k();this.Sw.k()};ch.prototype.vi=function(){var l={q:k.L.vI,S:this.S,j8:this.AY.l()==0,NN:this.be.l()},o=new jJ(k.E.b,!0);
o.data=l;this.A(o)};ch.prototype.xM=function(l){if(this.L5!=l.L5)this.AY.j(1-this.AY.l());this.L5=l.L5};
ch.prototype.aeQ=function(l){var o=new jJ(k.E.r,!0);o.S=p.Nk;o.data={q:"adapt",P:l.target==this.ic?"pixel":"fitscr"};
this.A(o)};function b$(l,o){d7.call(this);if(l==null)return;this.H8=l;this.ci={};this.abO=o;for(var v=0;
v<l.length;v++){var D=l[v],H=null;if(D=="tmode"){H=new bU(null,[[12,76,1],[12,76,0],[12,76,2]]);H.j(0);
if(o)H.aad(2)}if(D=="make"){H=new ei("Make",[[17,2],[12,76,1]],null,!0)}if(D=="anta"){H=new km([12,25,1]);
H.j(!0)}if(D=="binop"){H=new bU(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(D=="pshape")H=new bU(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(D=="shape")H=new jE([12,76,1]);if(D=="crad"){H=new gs([12,94,0],0,50,"px");H.j(0)}if(D=="cstr"){H=new kA}if(D=="irad"){H=new gs([12,94,1],0,100,"%");
H.j(40)}if(D=="length"){H=new gs([12,80,0],4,40);H.j(4)}if(D=="sides"){H=new gs([12,78],3,30);H.j(5)}if(D=="width"){H=new gs([12,41],0,100,"px");
H.j(5)}if(D=="tolr"){H=new gs([12,24],0,100);H.j(5)}if(D=="fstyle"){H=new e5([12,26])}if(D=="sstyle"){H=new f2}if(D=="psnap"){H=new km([8,10])}if(D=="crnr"){H=new cg("\u2312",!1,[12,94,0],!0)}if(D=="aopts"){H=new jR;
H.j([!1,!1,50,60,0])}if(D=="smplp"){H=new cg([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}H.parent=this;
this.body.appendChild(H.Z);this.ci[D]=H;H.O(D=="crnr"||D=="smplp"?"click":k.E.B,this.vi,this)}}b$.prototype=new d7;
b$.prototype.xM=function(l){if(l.aX!=null)this.ci.binop.j(l.aX);else if(l.i6=="vals")for(var o in l.abK)this.ci[o].j(l.abK[o]);
else{var D=b$.rN,H=function(u){return{e:u!=null&&u.o_(!1)}};if(D==null)D=b$.rN=new fg([{name:"Remove Anchor Point",e:function(u){var S=u?u.CS():null;
return{e:u&&S[1].length!=0&&S[0][S[1][0]].add.vmsk.Qt.length!=0}}},{name:"Remove Path",e:function(u){var S=u?u.CS():null;
return{e:u&&S[1].length!=0&&S[0][S[1][0]].add.vmsk.T.length!=0}},ab:!0},{name:"Make Selection"},{name:[2,3],e:H},{name:[14,9],e:H}],[{K:k.E.r,S:p.IE,m:{q:"remove",$L:!0}},{K:k.E.r,S:p.md,m:{q:"remove"}},{K:k.E.b,m:{q:k.L.E1,mg:"makesel"}},{K:k.E.yT,m:p.dG.mj(null)},{K:k.E.b,m:{q:k.L.E1,mg:"strokepath"}}]);
D.parent=this;D.update(l.YI,l.Ay);var _=new jJ(k.E.b,!0);_.data={q:k.L.jq,VG:D,x:l.Og.pF+2,y:l.Og.g7+1};
this.A(_)}};b$.prototype.ahx=function(v){return null};b$.prototype.Ah=function(){for(var l in this.ci){this.ci[l].k()}};
b$.prototype.vi=function(l){var o=new jJ(k.E.b,!0),D=this.ci;if(l.target==D.crnr){o=new jJ(k.E.r,!0);
o.S=p.IE;o.data={q:"crnr"}}else if(l.target==D.smplp){o=new jJ(k.E.r,!0);o.S=p.md;o.data={q:"smplp"}}else if(l.target==D.make){var v=l.target.l();
console.log(v);if(v==0)o.data={q:k.L.E1,mg:"makesel"};else{o=new jJ(k.E.r,!0);o.S=p.Xg;o.data={q:"newfill",no:0}}}else if(l.target==D.fstyle){o.data={q:k.L.lN,au:is.Eq,P:D.fstyle.l()}}else if(l.target==D.sstyle){o.data={q:k.L.lN,au:is.J0,P:D.sstyle.l()}}else if(l.target==D.tmode){o.data={q:k.L.lN,au:is.Ep,P:D.tmode.l()}}else{if(D.pshape)this.Lc();
o.data={q:k.L.vI,S:this.S};for(var H in D)o.data[H]=D[H].l()}this.A(o)};b$.prototype.Lc=function(){var l=this.ci,o=l.tmode.l(),D=l.pshape?this.ahx(l.pshape.l()):this.H8,H;
if(o==0)H=["anta","make"];if(o==1)H=["anta","fstyle","sstyle"];if(o==2)H=["make","binop","fstyle","sstyle"];
var _=l.binop;if(_){var u=_.l();if(o==0){_.auD(0)}else{_.aad(0);if(u==0){_.j(1);this.vi({target:_})}}}M.o7(this.body);
for(var v=0;v<D.length;v++){var S=D[v];if(H.indexOf(S)!=-1)continue;this.body.appendChild(l[S].Z)}};
b$.prototype.Ip=function(l,o){d7.prototype.Ip.call(this,l,o);var D=this.ci.fstyle,H=this.ci.sstyle,_=this.ci.tmode;
if(D)D.Ip(l,o);if(H)H.Ip(l,o);if(o==is.CV||o==is.ke)if(l.To.length!=0&&this.ci.shape){this.ci.shape.jD(l.To)}if(o==is.CV||o==is.Eq)if(D)D.j(null,l.tJ,l.aBD);
if(o==is.CV||o==is.J0)if(H)H.j(null,l.K_,l.a9w);if(o==is.CV||o==is.Ep){var u=l.Vt;if(this.abO&&u==2)u=0;
if(_){_.j(u);this.Lc()}}};function dD(){b$.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}dD.prototype=new b$;
function jM(){b$.call(this,"tmode make anta fstyle sstyle binop".split(" "))}jM.prototype=new b$;function ec(){b$.call(this,["fstyle","sstyle","smplp"]);
this.axM=null;this.ad1=null;this.a7I=null;this.em=new bU([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.D6=new cg("\u25BC");this.D6.PL();this.NZ=new cg("\u25B2");this.NZ.PL();this.g3=[this.em,this.D6,this.NZ];
for(var v=0;v<this.g3.length;v++){var l=this.g3[v];this.body.appendChild(l.Z);l.parent=this;l.O(v==0?k.E.B:"click",this.dy,this)}}ec.prototype=new b$;
ec.prototype.xM=function(l){if(l.iO=="main"){var o=this.g3,D=l.ro;if(D){this.ad1=D.clone();this.a7I=JSON.stringify(l.uQ);
var H=D.T.slice(0),_=H.length;for(var v=0;v<H.length;v++)H[v]++;H.sort(function(F,n){return F-n});o[0].TC();
o[1].td(_!=0);o[2].td(_!=0);o[0].Qx(_==0?"No Paths":_==1?"Path "+H[0]:"Paths "+H.slice(0,3).join(",")+(_>3?"..":""));
if(_!=0){var u=D.T[0],S=g.n.An(D.d,u),h=D.d[S];this.em.j([3,0,1,2][h.HN])}}else for(var v=0;v<o.length;
v++)o[v].ua()}else b$.prototype.xM.call(this,l)};ec.prototype.Ah=function(){b$.prototype.Ah.call(this);
this.em.k()};ec.prototype.dy=function(l){if(l.target==this.em||l.target==this.D6||l.target==this.NZ){var o={},D=this.ad1,H=D.d,_=D.T,u=g.n.Ly(H),S=JSON.parse(this.a7I);
_.sort(function(i,c){return i-c});if(l.target==this.em){var h=this.em.l();if(h<4)for(var v=0;v<_.length;
v++)H[g.n.An(H,_[v])].HN=[1,2,3,0][h];else{if(u<=1)return;D.d=g.n.z3(H);D.T=D.d.length==2?[]:[0];D.Qt=[];
S=[g.uQ.c9()]}}else{var F=l.target==this.D6?-1:1,n=[];for(var v=0;v<u;v++){var R=g.n.An(H,v),s=R+1+H[R].length;
n.push(H.slice(R,s))}var Z=_.slice(0);for(var v=0;v<_.length;v++)Z[v]=Math.max(v,Math.min(u-1-(_.length-1-v),Z[v]+F));
if(_.join(",")==Z.join(","))return;var O=JSON.parse(JSON.stringify(S));for(var v=0;v<_.length;v++){var w=F==-1?v:_.length-1-v,R=_[w],s=Z[w];
if(R!=s){var m=n[R];n[R]=n[s];n[s]=m;m=O[R];O[R]=O[s];O[s]=m}}var V=H.slice(0,2);for(var v=0;v<n.length;
v++)V=V.concat(n[v]);D.d=V;D.T=Z;S=O}o.ro=D;o.uQ=S;var q=new jJ(k.E.b,!0);q.data={q:k.L.vI,S:this.S,Jl:o};
this.A(q)}};function bc(){b$.call(this,["fstyle","sstyle","crnr","psnap"])}bc.prototype=new b$;function c3(){b$.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}c3.prototype=new b$;
function gJ(){b$.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}gJ.prototype=new b$;
function hq(){b$.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.ci.aopts.j([!1,!0,50,60,0])}hq.prototype=new b$;hq.prototype.ahx=function(v){var l=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(l[v])};function jw(){b$.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}jw.prototype=new b$;
function b6(){b$.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}b6.prototype=new b$;
function dF(){e9.call(this,!1,["binop","feat","redge","sesu"])}dF.prototype=new e9(!0);function gf(){jj.call(this,["brush","qsmode","redge","sesu"])}gf.prototype=new jj;
function jz(){d7.call(this);this.Ll=[];for(var v=0;v<2;v++){var l=new cg(v==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.Ll.push(l);l.O("click",this.dy,this);this.body.appendChild(l.Z)}}jz.prototype=new d7;jz.prototype.dy=function(l){var o;
if(this.Ll.indexOf(l.target)==0){o=new jJ(k.E.yT,!0);o.data={vS:"make",M1:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{o=new jJ(k.E.b,!0);
o.data={q:k.L.E1,mg:"divslice"}}this.A(o)};jz.prototype.Ah=function(l){for(var v=0;v<this.Ll.length;
v++)this.Ll[v].k()};function g9(){d7.call(this);var l=this.V3=[new cg("\u25BC",null,null,!0),new cg("\u25B2",null,null,!0),new cg([5,4],null,null,!0),new cg(["VAR0...",[15,10,22]],null,null,!0)];
for(var v=0;v<4;v++){var o=l[v];this.body.appendChild(o.Z);o.O("click",this.dy,this)}}g9.prototype=new d7;
g9.prototype.dy=function(l){var o=this.V3.indexOf(l.target),D;if(o==3){D=new jJ(k.E.b,!0);D.data={q:k.L.E1,mg:"divslice"}}else{D=new jJ(k.E.r,!0);
D.S=p.LN;D.data={q:o==2?"delete":"reorder",dir:o==0?-1:1}}this.A(D)};g9.prototype.k=function(){d7.prototype.k.call(this);
for(var v=0;v<4;v++)this.V3[v].k()};function hy(l,o){d7.call(this);if(window.Typr==null||l)return;this.asd=o;
this.ZP=null;this.aeD=M.a("span","");this.ajl=M.a("span","");var D=1,H=this.sd={_E:new dq(null,24),$$:new gs("X",0,0,"px",0,!1,!0,4),Ri:new gs("Y",0,0,"px",0,!1,!0,4),As:new gs("W",0,0,["%","px"],2,!1,!0,5),X1:new cg("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),zO:new gs("H",0,0,["%","px"],2,!1,!0,5),awl:new gs("\u2221",0,0,"\xB0",D,!1,!0),ao6:new gs("\u25B1 H",-85,85,"\xB0",D,!1,!0),arl:new gs("\u25B1 V",-85,85,"\xB0",D,!1,!0),mq:new bU(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),hp:new bU("Protect",[])};
H.mq.j(1);H.X1.j(!0);for(var _ in H){var u=H[_],S=!0;if(o&&(u==H.awl||u==H.ao6||u==H.arl||u==H.mq))S=!1;
if(!o&&u==H.hp)S=!1;if(S)this.aeD.appendChild(u.Z);var h=u==H.X1?"click":k.E.B;u.O(h,this.aCn,this)}this.rs=new ei("Split",ei.uo(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.rs.j(-1);this.rs.O(k.E.B,this.aqP,this);this.D$=new gd(!0,!0,!0);this.D$.O(k.E.B,this.aqP,this);
this.D$.parent=this;var F=this.ajl,n=this.D$;F.appendChild(this.rs.Z);F.appendChild(n.$A.Z);F.appendChild(n.zx.Z);
F.appendChild(n.E5.Z);F.appendChild(n.M0.Z);F.appendChild(n._z.Z);this.so=new cg([11,9]);this.so.O("click",this.apZ,this);
this.jp=new fm;this.jp.O("click",this.YK,this)}hy.prototype=new d7;hy.prototype.xM=function(l){if(l.Og){var o=hy,D=this.rN;
if(D==null)D=this.rN=new fg(o.awA(),o.aa2(this.S));D.k();D.parent=this;D.update(l.YI,l.Ay);var H=new jJ(k.E.b,!0);
H.data={q:k.L.jq,VG:D,x:l.Og.pF+2,y:l.Og.g7+1};this.A(H);return}M.o7(this.body);this.ZP=l;if(l.sd){var u=l.sd.hR,S=l.sd.YF.clone(),h=Math.atan2(-S.J,S.M),F=new de;
F.rotate(-h);S.concat(F);var n=this.sd;n._E.j(l.sd.gM);n.$$.j(l.sd.nu.x);n.Ri.j(l.sd.nu.y);n.As.j(S.M*(n.As.vD()=="%"?100:u.Q));
n.zO.j(S.me*(n.zO.vD()=="%"?100:u._));n.awl.j(-h*180/Math.PI);n.ao6.j(Math.atan(S.oe/S.me)*180/Math.PI);
n.arl.j(0*180/Math.PI);this.body.appendChild(this.aeD);this.so.UQ();if(l.sd.Rk!=null)n.X1.j(l.sd.Rk)}if(l.oE){if(l.ayR)this.rs.j(-1);
this.D$.j(l.oE);this.body.appendChild(this.ajl);this.so.PL()}if(l.Lx)n.hp.Ls(l.Lx);this.body.appendChild(this.jp.Z);
if(l.a9O&&!this.asd)this.body.appendChild(this.so.Z)};hy.prototype.aCn=function(l){var o=this.sd,D=this.ZP.sd.hR;
if(l.target==o.X1)o.X1.j(!o.X1.l());else if(o.X1.hf()){var H=o.zO,_=o.As,u=D._,S=D.Q;if(l.target==o.As){H=o.As;
_=o.zO;u=D.Q;S=D._}var h=H.l()/(H.vD()=="%"?100:u);h*=_.vD()=="%"?100:S;_.j(h)}var F=[];for(var n in o)if(o[n]!=o.X1&&o[n]!=o._E){var h=o[n].l();
if((o[n]==o.As||o[n]==o.zO)&&h==0){h=.1;o[n].j(h)}if(o[n]==o.As&&o[n].vD()=="px")h/=D.Q/100;if(o[n]==o.zO&&o[n].vD()=="px")h/=D._/100;
F.push(h)}var R=new he(F[0],F[1]);if(l.target==o._E){this.us({iO:"ctyp",gM:o._E.l()})}else if(l.target==o.$$||l.target==o.Ri){this.us({iO:"cen",nu:R})}else{var s=this.ZP.sd.YF.clone(),Z=s.clone(),O=Math.atan2(-s.J,s.M);
Z.translate(-R.x,-R.y);Z.rotate(-O);var w=new de(Z.M,Z.J,Z.oe,Z.me,0,0);w.L5();Z.concat(w);var m=F[2]/100,V=F[3]/100;
Z.concat(new de(m,m*Math.tan(F[6]*Math.PI/180),V*Math.tan(F[5]*Math.PI/180),V,0,0));Z.rotate(-F[4]*Math.PI/180);
Z.translate(R.x,R.y);this.ZP.sd.YF=Z;this.us({iO:"trn",sd:Z,X0:o.mq.l(),sV:o.hp.l(),Rk:o.X1.l()})}};
hy.prototype.aqP=function(l){var o=this.rs;this.us(l.target==o?{iO:"splt",P:o.l()}:{iO:"wrp",oE:this.D$.l()})};
hy.prototype.apZ=function(l){this.us({iO:"switchWarp"})};hy.prototype.YK=function(l){this.us({iO:this.jp.l()?"commit":"cancel"})};
hy.prototype.us=function(l){l.q=k.L.vI;l.S=this.S;var o=new jJ(k.E.b,!0);o.data=l;this.A(o)};hy.prototype.Ah=function(){var l=this.sd;
for(var o in l)l[o].k();M.BU(l.As,l.zO);this.jp.k();this.rs.k();this.D$.k();this.so.k()};hy.awA=function(){var l=function(o){var D=!0;
if(o==null||o.T.length==0)D=!1;else{var H=o.T;for(var v=0;v<H.length;v++){if(o.R[H[v]].add.TySh)D=!1}}return{e:D}};
return[{name:[5,9],Ui:"Shift+Alt+Ctrl + T",ab:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],e:l},{name:[2,9],e:l,ab:!0},{name:[11,9],e:function(o){if(o==null||o.T.length!=1)return{e:!1};
var D=o.R[o.T[0]];return{e:D.add.TySh==null&&!D.Cl()}},ab:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
hy.aa2=function(l){if(l==null)l=p.rk;return[{K:k.E.r,S:l,m:{q:"again"}},{K:k.E.b,m:{q:k.L.BC,S:l,Bt:{PT:3}}},{K:k.E.b,m:{q:k.L.BC,S:l,Bt:{PT:4}}},{K:k.E.b,m:{q:k.L.BC,S:l,Bt:{PT:5}}},{K:k.E.b,m:{q:k.L.BC,S:l,Bt:{PT:2}}},{K:k.E.b,m:{q:k.L.BC,S:l,Bt:{PT:1}}},{K:k.E.b,m:{q:k.L.BC,S:l,Bt:{PT:-1}}},{K:k.E.yT,m:p.cA.mH(!0,90,!0)},{K:k.E.yT,m:p.cA.mH(!0,-90,!0)},{K:k.E.yT,m:p.cA.mH(!0,-180,!0)},{K:k.E.yT,m:p.cA.mH(!1,"Hrzn",!0)},{K:k.E.yT,m:p.cA.mH(!1,"Vrtc",!0)}]};
function hQ(){hy.call(this)}hQ.prototype=new hy(!0);function js(){hy.call(this)}js.prototype=new hy(!0);
function b3(){hy.call(this,!1,!0)}b3.prototype=new hy(!0);function df(){d7.call(this);var l=this.H8=[new bU([12,36],["Rigid",[15,10,0],[24,4]]),new bU([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new gs([7,4],0,100,"px"),new km("Show Mesh"),new cg("\u25BC",null,null,!0),new cg("\u25B2",null,null,!0)];
for(var v=0;v<l.length;v++){var o=l[v];o.parent=this;this.body.appendChild(o.Z);o.O(v<4?k.E.B:"click",this.a5u,this)}this.jp=new fm;
this.jp.O("click",this.YK,this);this.body.appendChild(this.jp.Z)}df.prototype=new d7;df.prototype.Ah=function(){var l=this.H8;
for(var v=0;v<4;v++)l[v].k();this.jp.k()};df.prototype.xM=function(l){var l=l.au;for(var v=0;v<4;v++)this.H8[v].j(l[v])};
df.prototype.a5u=function(l){var o=[];for(var v=0;v<4;v++)o[v]=this.H8[v].l();var D=this.H8.indexOf(l.target);
if(D<4)this.us({iO:"prm",au:o});else this.us({iO:"moveDepth",am6:D==5})};df.prototype.YK=function(l){this.us({iO:this.jp.l()?"commit":"cancel"})};
df.prototype.us=function(l){l.q=k.L.vI;l.S=this.S;var o=new jJ(k.E.b,!0);o.data=l;this.A(o)};function gq(){d7.call(this);
var l=this.aa=[new bU([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var v=0;v<l.length;v++){var o=l[v];
o.O(k.E.B,this.vi,this);this.body.appendChild(o.Z)}}gq.prototype=new d7;gq.prototype.vi=function(l){var o=this.aa,D=[];
for(var v=0;v<o.length;v++)D[v]=o[v].l();var H=new jJ(k.E.b,!0);H.data={q:k.L.vI,S:this.S,MI:D};this.A(H)};
gq.prototype.Ah=function(){for(var v=0;v<this.aa.length;v++)this.aa[v].k()};function jb(){e9.call(this,!1,["binop"]);
this.rZ=new cg("Remove",!1,null,!0);this.rZ.O("click",this.El,this);this.rZ.Z.style.marginRight="2em";
this.a0P=new g7("New content");this.lm=new cg("\u2026",!1,null,!0);this.lm.O("click",this.J1,this);this.Tp=new cg([18,0],!1,null,!0);
this.Tp.O("click",this.El,this);this.Mk=new cg("Undo",!1,null,!0);this.Mk.O("click",this.El,this);this.body.appendChild(this.rZ.Z);
this.body.appendChild(this.a0P.Z);this.body.appendChild(this.lm.Z);this.body.appendChild(this.Tp.Z);
this.body.appendChild(this.Mk.Z);this.Bk=new f1;this.Bk.parent=this;var l=this.Bk.Z=M.a("div","floatcont form label6");
l.style.width="270px";var o=this.Bu="dpmpp_2m_karras euler euler_a ddim dpm k_lms pndm".split(" ");this.apS=["stablediffusion_inpaint_2","absolute_reality_1_8_1_inpaint","dreamshaper_8_inpaint"];
var D=this.$K=[new km("Use default settings"),new bU("Model",["Stable Diffusion 2.0","Absolute Reality 1.8.1","Dreamshaper 8"]),new g7("Neg. prompt",null,13.25),new b_("Guidance",-20,20),new b_("Steps",10,50),new bU("Sampler",o)];
D[0].O(k.E.B,this.k,this);D[0].j(!0);D[1].j(1);D[3].j(6);D[4].j(20);for(var v=0;v<D.length;v++){l.appendChild(D[v].Z);
M.wR(l)}}jb.prototype=new e9(!0);jb.prototype.k=function(){d7.prototype.k.call(this);this.Tp.k();var l=this.$K;
for(var v=0;v<l.length;v++){l[v].k();if(v>0)l[v].td(!l[0].l())}};jb.prototype.El=function(l){if(l.target==this.Mk){var o=new jJ(k.E.r,!0);
o.S=p.zo;o.data={q:"h_stepbck"};this.A(o);return}var D=this.$K,H={},u=["model","negative_prompt","guidance","steps","sampler"],S=!D[0].l();
if(S){for(var v=1;v<D.length;v++)H[u[v-1]]=D[v].l();H.model=this.apS[H.model];H.sampler=this.Bu[H.sampler];
H.steps=Math.min(H.steps,50)}var o=new jJ(k.E.yT,!0);o.data=p.hL.Vw("aiHeal");if(l.target==this.Tp){o.data.M1.prmt={t:"TEXT",v:this.a0P.l()};
if(S)o.data.M1.au=H}this.A(o)};jb.prototype.J1=function(l){if(M.Ve(this.Bk.Z))return;var o=this.lm.Z.getBoundingClientRect(),D=new jJ(k.E.b,!0);
D.data={q:k.L.jq,VG:this.Bk,x:o.left,y:o.top+o.height+4,Hi:!0};this.A(D)};function hc(){f1.call(this);
this.Z=M.a("div","cmanager");window.alert=function(H,_){this.awY(H,_);console.log("Alert: "+H)}.bind(this);
window.onblur=function(H){var _=this;_.iB()}.bind(this);this.pX=0;this.B9=0;this.cv=[];this.HF={};this.pT=M.a("div","alertcont");
this.Z.appendChild(this.pT);this.am7=M.a("div","alertcont");this.Z.appendChild(this.am7);this.ru=M.a("div","alertcont");
this.a5G=0;this.Hu=-1;this.asr=null;this.Ll=null;var l=this.ar6=M.a("div","alertpanel");l.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.ru.appendChild(l);var o=this.c1=M.a("input");o.setAttribute("type","text");M.cp(o);o.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
o.addEventListener("input",this.aBg.bind(this),!1);o.addEventListener("keydown",this.agD.bind(this),!1);
l.appendChild(o);var D=this.aAX=M.a("div","contextpanel scrollable");D.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
D.addEventListener("click",this.aAz.bind(this),!1);l.appendChild(D);M.GY(document.body,this.av3.bind(this))}hc.prototype=new f1;
hc.prototype.SP=function(){if(M.Ve(this.ru))this.Z.removeChild(this.ru)};hc.prototype.auo=function(l,o){var D=this.asr=[],H=o.aob;
for(var v=0;v<gH.data.length;v++){var _=gH.data[v],u=[cU.get(_.name)],S=[v];hc.DF(_.items,u,S,D,l,o,H==null?null:H[v]==null?0:H[v])}var h=o.p;
for(var v=0;v<h.xb.length;v++){var F=h.xb[v],n=h.keys[v];for(var R=0;R<F.length;R++)D.push([["Tools",cU.get(F[R].S.name)],[-1,F[R].S.id],n?n.Hd:null])}this.Z.appendChild(this.ru);
var s=this.c1;s.focus();s.select();this.$u()};hc.prototype.aBg=function(l){this.Hu=-1;this.$u()};hc.prototype.$u=function(){var l=this.c1.value.toLowerCase().trim().replace(/  +/g," "),o=this.asr,D=[],H=[],_=l.split(" ");
if(l!="")for(var v=0;v<o.length;v++){var u=o[v][0],S=[],h=0;for(var F=0;F<u.length;F++)S[F]=-1;for(var n=0;
n<_.length;n++)for(var F=0;F<u.length;F++){var R=u[F].toLowerCase().indexOf(_[n]);if(R!=-1){S[F]=[R,R+_[n].length];
h++;break}}if(h==_.length){D.push(o[v]);H.push(S)}}var s=[],Z=this.aAX;M.o7(Z);for(var v=0;v<D.length;
v++){var O=D[v],w=O[0],R=H[v],m="enab",q="";if(v==this.Hu)m+=" active";var V=M.a("div",m);s.push(V);
Z.appendChild(V);for(var F=0;F<w.length;F++){var i=R[F],c=_[F],z=w[F];if(i!=-1)z=z.slice(0,i[0])+"<span style=\"color:black\">"+z.slice(i[0],i[1])+"</span>"+z.slice(i[1]);
q+=z;if(F<w.length-1)q+=" \uFE65 "}if(O[2]&&(typeof O[2]!="string"||O[2].length==1))q+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+e_.Tt(O[2])+"</span>";
V.innerHTML=q}this.Ll=[D,s]};hc.prototype.agD=function(l){var o=e_.MY,D=l.code;if(o(D,e_.aZ))this.SP();
var H=o(D,e_.pR),_=o(D,e_.fW),u=o(D,e_.PA);if(H||_){this.Hu=Math.max(0,Math.min(this.Ll[0].length-1,this.Hu+(H?-1:1)));
this.$u()}if(u&&this.Hu!=-1)this.ayL(this.Hu)};hc.DF=function(l,o,D,H,_,u,S){if(typeof S=="number"){if(S==0)return;
if(S==1)S=null}for(var v=0;v<l.length;v++){if(S!=null&&(S[v]==0||S[v]==null))continue;var h=l[v],F=o.slice(0),n=D.slice(0),R=cU.get(h.name);
if(h.e){var s=h.e(_,u,v);if(s.C9)R=s.C9;if(s.e==!1)continue}F.push(R);n.push(v);if(h.sub)hc.DF(h.sub,F,n,H,_,u,S?S[v]:null);
else H.push([F,n,h.Ui])}};hc.prototype.aAz=function(l){var o=l.target;if(o.tagName.toLowerCase()=="span")o=o.parentNode;
var D=this.Ll[1].indexOf(o);if(D!=-1)this.ayL(D)};hc.prototype.ayL=function(l){var o=this.Ll[0][l][1];
if(o[0]==-1){var D=new jJ(k.E.b,!0);D.data={q:k.L.BC,S:o[1]};this.A(D)}else{var H=gH.data[o[0]].G4[o[1]];
for(var v=2;v<o.length;v++)H=H.sub[o[v]];var _=new jJ(H.K,!0);_.S=H.S;_.data=H.m;this.A(_)}this.SP()};
hc.prototype.Av=function(l,o){this.pX=l;this.B9=o;this.aAX.style["max-height"]=o-120+"px"};hc.prototype.abI=function(l){var o=M.a("div","alertpanel");
o.textContent=cU.get(l);this.pT.appendChild(o);this.HF[JSON.stringify(l)]=o};hc.prototype.att=function(l){var o=this.HF[JSON.stringify(l)];
this.pT.removeChild(o);delete this.HF[JSON.stringify(l)]};hc.prototype.awY=function(l,o){var D=this.am7;
for(var v=0;v<D.children.length;v++)if(D.children[v].textContent==l)return;var H=M.a("div","alertpanel tpanel");
H.textContent=l;H.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");D.appendChild(H);if(o==null)o=1500;
var _=o,u=Math.max(Date.now()+_,this.a5G+_);setTimeout(function(){H.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){D.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},u-Date.now()-30);
setTimeout(function(){D.removeChild(D.firstChild);D.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},u-Date.now());
this.a5G=u};hc.prototype.av3=function(l){var o=this.cv;for(var v=o.length-1;v>=0;v--){var D=o[v],H=l.target;
while(H!=null){if(H==D.Z){this.iB(D);return}H=H.parentNode}}this.iB();var _=l.target;while(_!=this.ru&&_!=document.body)_=_.parentNode;
if(_!=this.ru)this.SP()};hc.prototype.iB=function(l){var o=this.cv;for(var v=0;v<o.length;v++){if(l&&l.aq1(o[v]))continue;
var D=o[v].Z;if(!(o[v]instanceof fg))M.S2(o[v],this.Z);else this.Z.removeChild(D);D.style.height="auto";
M.vY(D,"scrollable");o.splice(v,1);v--}};hc.prototype.aiY=function(l){this.iB(l.VG);var o=l.VG,D=o.Z;
if(this.cv.indexOf(o)!=-1)return;this.cv.push(o);this.Z.appendChild(D);var H=this.pX,_=this.B9,u=l.x,S=l.y,h=this.Z.getBoundingClientRect(),F=o instanceof fg,n=-1,R=_-2;
if(F||l.Hi){var s=o.qU(),Z=o.aEs();if(F)s=Math.min(s,200);var O=H-s-2,w=_-Z-2;if(S<w)n=2;else if(u<O)n=1;
else if(0<S-Z-2)n=0;else n=3;if(l.aaL)n=0;if(l.asz)n=2;if(n==2){u=Math.min(u,O)}else if(n==1){S=Math.min(S,w)}else if(n==0){S=S-Z-2;
u=Math.min(u,O);R=l.y}else if(n==3){u=u-s-2;S=Math.min(S,w)}}S=Math.max(2,S);var top=Math.round(S-h.y+this.Z.offsetTop);
D.style.position="absolute";D.style["z-index"]=10;if(S+o.aEs()>R){D.style.height=R-S+"px";M.EA(D,"scrollable");
if(n==3)u-=10}D.style.left=Math.round(u)+"px";D.style.top=top+"px";if(!(o instanceof fg))M.g5(o)};hc.prototype.aib=function(l){var o=l.VG,D=this.cv.indexOf(o);
if(D==-1)return;this.cv.splice(D,1);var H=o.Z;if(!(o instanceof fg))M.S2(o,this.Z);else this.Z.removeChild(o.Z)};
hc.prototype.Fr=function(){var l=this.cv;return l.length==0?null:l[l.length-1]};hc.prototype.avW=function(){this.aib({VG:this.Fr()})};
function cm(){f1.call(this);this.Z=M.a("div","confbar")}cm.prototype=new f1;cm.prototype.axe=function(l){l.parent=this;
M.o7(this.Z);this.Z.appendChild(l.Z)};function fJ(){f1.call(this);var l=this.Z=M.a("div","toolconf");
l.style.marginLeft="40px";this.anz=null;this.Gj=null;this.d4=[new bp(0),new bp(1),new gs([14,9],0,100,"px"),new ck(!0),new gs([12,0],0,100,"%",0)];
for(var v=0;v<this.d4.length;v++){var o=this.d4[v];o.parent=this;o.O(k.E.B,this.aEG,this);l.appendChild(o.Z)}var D=this.fh=new kN;
this.fh.parent=this;this.al$=new eW("Tt:");var H=this.gt=M.a("span");l.appendChild(H);H.appendChild(this.al$.Z);
H.appendChild(D.Gc.Z);H.appendChild(D.VH.Z);H.appendChild(D.bu.Z)}fJ.prototype=new f1;fJ.prototype.aEG=function(l){var o=this.d4.indexOf(l.target),D=l.target.l();
if(o==4){var H=new jJ(k.E.r,!0);H.S=p.wU;H.data={q:d.xI,zc:Math.round(255*D/100)};this.A(H);return}var u=JSON.parse(JSON.stringify(this.anz.o4));
if(o<2){var S,h=D;if(o==0){S=u.h6;u.h6=h}else{S=u.IS;u.IS=h}if(S.length!=h.length){var F=[1,0,0,1,0,0];
if(S.length==4){F=S[3].slice(0);F[1]*=-1;F[2]*=-1}if(S.length==2){F=S[1][1].slice(0)}if(h.length==4){h[2]=[0,0,0,1,1,0,0];
h[3]=F;F[1]*=-1;F[2]*=-1}if(h.length==2){h[1]=[[0,0,1,1,0,0,0,0,0],F]}}}if(o==2)u.W5=D;if(o==3)u=D;var H=new jJ(k.E.b,!0);
H.data={q:k.L.lN,au:is.ni,P:u};this.A(H)};fJ.prototype.k=function(){for(var v=0;v<this.d4.length;v++)this.d4[v].k();
this.fh.k()};fJ.prototype.gf=function(l,o){this.Gj=l;this.d4[0].jD(l);this.d4[1].jD(l)};fJ.prototype.my=function(l){if(l.T.length==0)return;
var o=l.R[l.T[0]];this.d4[4].j(Math.round(o.opacity*100/255));this.gt.setAttribute("style","line-height:1.5em; display:"+(o.add.TySh?"":"none"))};
fJ.prototype.Ip=function(l,o){this.anz=l;var D=l.o4,H=this.Gj;this.d4[0].j(D.h6,H);this.d4[1].j(D.IS,H);
if(D.W5!=null)this.d4[2].j(D.W5);this.d4[3].j(D);this.fh.j(l.Hv,l.uh,l.U5)};function iT(l){f1.call(this);
iT.cw=this;iT.MA=l;this.Fy=null;this.GG=M.a("input","");this.GG.setAttribute("type","file");this.GG.setAttribute("multiple","");
this.GG.addEventListener("change",function(o){this.zT(o.target.files,null,this.Ba,null);this.Ba=null}.bind(this),!1);
document.body.appendChild(this.GG);this.GG.setAttribute("style","display:none");this.abD=[];this.t3=!1;
this.akU=[];this.fQ=!1;this.ayl={};this.Ba=null}iT.prototype=new f1;iT.MA=null;iT.ah=function(l){try{var o={};
o[l.type]=l;navigator.clipboard.write([new ClipboardItem(o)])}catch(ey){console.error(ey,ey.message)}};
iT.Zd=function(l,o){navigator.clipboard.read().then(function(D){for(var v=0;v<D.length;v++){try{var H=D[v],_={},u=0,S=0;
for(var h=0;h<H.types.length;h++){var F=H.types[h];u++;H.getType(F).then(function(n){var R=F;new Response(n).arrayBuffer().then(function(s){_[this.no]=s;
S++;if(S==u)iT.aq2(_,l,o)}.bind({no:this.no}))}.bind({no:F}))}}catch(ey){console.error(ey,ey.message)}}}).catch(function(D){})};
iT.ani=function(l){navigator.permissions.query({name:"clipboard-read"}).then(function(o){l(o.state)})};
iT.aq2=function(l,o,D){var H=["text/plain","image/png","text/html","text/plain"];for(var _ in l)console.log(_,_.startsWith("text")?x.Fs(new Uint8Array(l[_])).slice(0,100)+"...":l[_]);
for(var u=0;u<H.length;u++){var S=H[u],h=l[S];if(h==null)continue;if(S=="image/png"){iT.MA({name:"image.png"},h,o,D);
return}if(S=="text/plain"){var F=x.Fs(new Uint8Array(h));if(u==0)if(!F.startsWith("<!--")&&!F.startsWith("<svg"))continue;
if(D&&F.startsWith("<svg"))continue;var n=new jJ(k.E.b,!0);n.data={q:k.L.ath,P:F};o.A(n);return}if(S=="text/html"){var F=x.Fs(new Uint8Array(h)),R=F.indexOf("src=\"");
if(R!=-1&&F.slice(R+5,R+9)!="http"){var s=R+10;while(F[s]!="\"")s++;var Z=F.slice(R+5,s);iT.MA({name:"chart.png"},fj.co(Z).buffer,o,D);
return}}}};iT.prototype.bd=function(l){if(l==null)l=[23,5];var o=JSON.stringify(l),D=this.ayl;if(D[o]==null)D[o]=0;
if(D[o]==0){var H=new jJ(k.E.b,!0);H.data={q:k.L.AV,JS:l};this.A(H)}D[o]++};iT.prototype.tl=function(l){if(l==null)l=[23,5];
var o=JSON.stringify(l),D=this.ayl;if(D[o]==null)D[o]=0;D[o]--;if(D[o]==0){var H=new jJ(k.E.b,!0);H.data={q:k.L.lL,JS:l};
this.A(H)}};iT.prototype.avp=function(l,o){this.Ba=l;var D=window.showOpenFilePicker;if(D&&window.self==window.top){var H=this;
D({multiple:!0}).then(function(S){var h=[];function F(n){h.push(n);if(h.length==S.length){H.zT(h,null,H.Ba,null,S);
H.Ba=null}else S[h.length].getFile().then(F)}S[h.length].getFile().then(F)});return}var _=this.GG;if(o)_.setAttribute("accept",o);
else _.removeAttribute("accept");var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
_.dispatchEvent(u)};iT.prototype.o2=function(l){if(l.url.indexOf("photopea.com#i")!=-1||l.url.indexOf("photopea.com/#i")!=-1){this.Wa(l.url.split("#i").pop());
return}this.abD.push(l);this.aaa()};iT.prototype.aaa=function(){var l=this.abD;if(l.length==0||this.t3)return;
this.t3=!0;var o=l.shift();this.bd();if(o.BL==null)o.BL={};var D=new XMLHttpRequest;D.qF=o;var H=o.url;
if(o.yN&&!H.startsWith("data:image"))H="mirror.php?url="+encodeURIComponent(H);D.open("GET",H);if(o.Dl)for(var _ in o.Dl)D.setRequestHeader(_,o.Dl[_]);
D.responseType="arraybuffer";D.onload=this.akF.bind(this);D.send()};iT.prototype.zT=function(l,o,D,H,_){for(var v=0;
v<l.length;v++){this.bd();var u=l[v],S=new FileReader;S.qF=u;S.qF.Fx=D;S.qF.CJ=H;S.atf=o;if(_)S.qF.lM=_[v];
S.onload=this.akF.bind(this);S.onerror=function(h){this.tl()}.bind(this);this.akU.push([S,u])}this.GG.value=null;
this.acV()};iT.prototype.acV=function(){var l=this.akU;if(l.length==0||this.fQ)return;this.fQ=!0;var o=l.shift();
o[0].readAsArrayBuffer(o[1])};iT.prototype.am1=function(l,o,D){this.bd("Saving ...");this.Fy=o;setTimeout(D.bind({p7:l,caller:this}),50)};
iT.Wp=function(l){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=new Uint8Array(l),H=D.length,_=H%3,u=H-_,S=[],h=0,F=0,n=0;
for(var v=0;v<u;v+=3){h=D[v];F=D[v+1];n=D[v+2];S.push(o[h>>2]+o[(h&3)<<4|F>>4]+o[(F&15)<<2|n>>6]+o[n&63])}if(_==1){h=D[u];
S.push(o[h>>2]+o[(h&3)<<4]+"==")}if(_==2){h=D[u];F=D[u+1];S.push(o[h>>2]+o[(h&3)<<4|F>>4]+o[(F&15)<<2]+"=")}var R=S.join("");
return R};iT.arI=function(l,o){var D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H=new Uint8Array(64),h=0,F=0,n=0,s=0;
for(var v=0;v<64;v++)H[v]=D.charCodeAt(v);var _=new Uint8Array(l),u=o%3,S=o-u,R=new Uint8Array(Math.floor(o/3)*4+(u==0?0:4));
for(var v=0;v<S;v+=3){h=_[v];F=_[v+1];n=_[v+2];R[s]=H[h>>>2];R[s+1]=H[(h&3)<<4|F>>>4];R[s+2]=H[(F&15)<<2|n>>>6];
R[s+3]=H[n&63];s+=4}if(u==1){h=_[S];R[s]=H[h>>2];R[s+1]=H[(h&3)<<4];R[s+2]=61;R[s+3]=61}if(u==2){h=_[S];
F=_[S+1];R[s]=H[h>>2];R[s+1]=H[(h&3)<<4|F>>4];R[s+2]=H[(F&15)<<2];R[s+3]=61}return R};iT.prototype.akF=function(l){var o,D=l.target.qF;
if(l.target instanceof XMLHttpRequest)o=l.target.response;else o=l.target.result;iT.MA(D,o,this,l.target.atf);
this.tl();if(l.target instanceof XMLHttpRequest){this.t3=!1;this.aaa()}else{this.fQ=!1;this.acV()}};
iT.a2V=function(l,o){var D=new XMLHttpRequest;D.open("POST","https://api.imgur.com/3/image",!0);D.fF=o;
D.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");D.setRequestHeader("Content-type","application/x-www-form-urlencoded");
D.setRequestHeader("Accept","application/json");D.addEventListener("load",iT.afT);D.send("type=base64&image="+encodeURIComponent(iT.Wp(l)));
alert("Saving to Imgur ...",4e3)};iT.afT=function(l){var o=JSON.parse(l.target.response);if(o.success){if(l.target.fF)l.target.fF(o.data.link);
else window.open(o.data.link,"Imgur")}};iT.prototype.Wa=function(l,o,D){this.bd();var H=new XMLHttpRequest;
H.responseType="arraybuffer";H.open("GET","https://f000.backblazeb2.com/file/"+(D?"pp-resources":"psdshared")+"/"+l);
H.onload=this.arV.bind(this);H.send();H.XQ=[Date.now(),l,o?l:null,D]};iT.prototype.arV=function(l){var o=l.target.XQ,D=new Uint8Array(l.target.response);
console.log(D.length+" B,",Date.now()-o[0]+" ms");for(var v=0;v<D.length;v++)D[v]=255-D[v];D=pako.inflateRaw(D);
var H=JSON.parse(x.Fs(D,0,2e3));iT.MA({name:H.name,Br:o[2]},D.slice(2e3).buffer,this);this.tl();if(!o[3])iT.Dy("act=0&id="+o[1])};
iT.prototype.aaM=function(l,o,D,H){if(!(l instanceof ArrayBuffer))throw"e";l=new Uint8Array(l);var _=new Uint8Array(l.length+2e3),Z="";
for(var v=0;v<2e3;v++)_[v]=32;x.ma(JSON.stringify({name:o}),_,0);_.set(l,2e3);l=_;l=pako.deflateRaw(l);
for(var v=0;v<l.length;v++)l[v]=255-l[v];l=l.buffer;var u=l.byteLength,S=ke.g4(u),h=~~(609e5/2),F=~~(209e5/2);
if(u>h){confirm("Your file is "+S+". Our limit is "+ke.g4(h)+". Delete some layers and try again.");
return}if(u>F){var n=confirm("Your file is quite large ("+S+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!n)return}var R=sha1(l),s=[];for(var v=0;v<20;v++){var O=parseInt(R.slice(v*2,v*2+2),16);s.push(O);
Z+=String.fromCharCode(O)}var w=btoa(Z).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(iT.a3q(w,H)){console.log("file already exists");
if(D)D(w);else window.open("https://www.photopea.com#i"+w+".psd");return}this.bd("Publishing ...");var m=new XMLHttpRequest;
m.XQ=[l,R,w,D,H];m.open("GET",eJ.NO("papi/img/publish.php?rnd="+Math.random()+"&id="+w+"&size="+u+"&bname="+H));
m.onload=this.agK.bind(this);m.send()};iT.a3q=function(l,o){try{var D=new XMLHttpRequest;D.open("HEAD","https://f000.backblazeb2.com/file/"+o+"/"+l,!1);
D.send();if(D.status==200)return!0}catch(ey){return!1}return!1};iT.prototype.agK=function(l){console.log(l.target.response);
var o=JSON.parse(l.target.response),D=l.target.XQ,H=new XMLHttpRequest;H.open("POST",o.uploadUrl);H.setRequestHeader("Authorization",o.authorizationToken);
H.setRequestHeader("X-Bz-File-Name",D[2]);H.setRequestHeader("Content-Type","b2/x-auto");H.setRequestHeader("X-Bz-Content-Sha1",D[1]);
H.send(new Blob([D[0]]));H.onload=this.a8m.bind({LO:this,XQ:D})};iT.prototype.a8m=function(l){this.LO.tl("Publishing ...");
if(this.XQ[3])this.XQ[3](this.XQ[2]);else window.open("https://www.photopea.com#i"+this.XQ[2]+".psd");
if(this.XQ[4]=="psdshared")iT.Dy("act=2&id="+this.XQ[2]+"&fileId="+JSON.parse(l.target.response).fileId)};
iT.Dy=function(l){var o=new XMLHttpRequest;o.open("GET","/papi/img/update.php?"+l+"&rnd="+Math.random());
o.send()};iT.save=function(l,o){var D=new Uint8Array(l),H=document.createElement("a");if(typeof H.download=="string"){var _=new Blob([D]),u=window.URL.createObjectURL(_);
H.href=u;H.download=o;document.body.appendChild(H);H.click();document.body.removeChild(H)}else{var S="data:application/octet-stream;base64,"+iT.Wp(l);
window.open(S)}};function dk(){this.size=16;this.data=g.o(16)}dk.prototype.tP=function(l,o){if(l+o<=this.size)return;
var D=this.size;while(l+o>this.size)this.size*=2;var H=g.o(this.size);for(var v=0;v<D;v++)H[v]=this.data[v];
this.data=H};var fh={};fh.MX=function(l,o,D,H){var _=o.split(":"),u=_[0];if(_.length==2){if(u=="jpg")H=[Math.round(100*parseFloat(_[1]))];
if(u=="webp")H=[Math.round(100*parseFloat(_[1]))];if(u=="psd")H=[!0,!0,!1,!1,!1];if(u=="svg")H=_[1].split(",").map(function(h){return h=="true"})}var S=fj._Q(l,u.toUpperCase(),null,null,H,D);
return S};fh.ag7=function(l,o,D){var H=l.zG(),_=o[0];return fh.MX(l,_,D)};fh.asE=function(){var l=this.p7,o=this.caller,D=l.BL.wQ,H=D.formats,_,u;
l.zG();var S=Date.now();if(D.version==1){var h=[],F=0,R=0;for(var v=0;v<H.length;v++){var n=fh.MX(l,H[v],o.Fy);
h.push(n);F+=n.byteLength}_=new Uint8Array(2e3+F);var s="{ \"source\": "+JSON.stringify(l.ti)+", \"versions\": [\n";
for(var v=0;v<H.length;v++){var Z=new Uint8Array(h[v]);s+="\t{\"format\": \""+H[v].split(":")[0]+"\", \"start\": "+R+", \"size\": "+Z.length+" }"+(v+1<H.length?", ":"")+"\n";
_.set(Z,2e3+R);R+=h[v].byteLength}s+="] }";var O=x.ma(s,_,0);for(var v=O;v<2e3;v++)_[v]=32;u="application/octet-stream"}else{var w=new dk,m=0,V="",q=encodeURIComponent;
V="p="+q("{ \"source\": "+JSON.stringify(l.ti)+", \"versions\": [");x.hZ(w,m,V);m+=V.length;for(var v=0;
v<H.length;v++){V=q(" {\"format\": \""+H[v].split(":")[0]+"\", \"data\": \"");x.hZ(w,m,V);m+=V.length;
var n=fh.MX(l,H[v],o.Fy),i=iT.arI(n,n.byteLength),O=i.length;w.tP(m,O);for(var c=0;c<O;c++){w.tP(m,3);
var z=i[c];if(z==43){w.data[m]=37;w.data[m+1]=50;w.data[m+2]=66;m+=3}else if(z==47){w.data[m]=37;w.data[m+1]=50;
w.data[m+2]=70;m+=3}else if(z==61){w.data[m]=37;w.data[m+1]=51;w.data[m+2]=68;m+=3}else{w.data[m]=z;
m++}}V=q("\" }"+(v+1<H.length?", ":""));x.hZ(w,m,V);m+=V.length}V=q("] }");x.hZ(w,m,V);m+=V.length;_=w.data.slice(0,m);
u="application/x-www-form-urlencoded"}var B=new XMLHttpRequest;B.open("POST",D.url,!0);if(u)B.setRequestHeader("Content-Type",u);
B.addEventListener("load",fh.amA.bind(this));B.send(new Blob([_.buffer]))};fh.amA=function(l){this.caller.tl("Saving ...");
var o=l.target.response;if(o.charAt(0)=="{"){o=JSON.parse(o);if(o.newSource)this.p7.ti=o.newSource;if(o.message)alert(o.message,2e3);
if(o.script){var D=new jJ(k.E.b,!0);D.data={q:k.L.BS,v_:o.script};this.caller.A(D)}}else alert("Saved. Response: "+o,1500)};
fh.a9z=function(l){var o=l.RB,D=o[1].split(".").pop(),H=fh.MX(l,D,null,D=="psd"&&o[0]==1?[!0,!1,!0,!1]:null),_=Storage.cJ(o[0]);
return _.awr(o[1],H)};fh.a56=function(l,o){var D=l.Pl.Ne;if(o==null)o=fh.MX(l,D);j1.P2(function(){var H=new XMLHttpRequest,_="https://www.googleapis.com/upload/drive/v3/files/"+l.Pl.file.id+"?uploadType=media"+"&"+j1.a2T();
H.open("PATCH",_,!0);H.addEventListener("load",function(u){var S=JSON.parse(u.target.response);alert(S.name+" updated")});
H.send(o);alert("Saving \""+l.Pl.file.name+"\" to Google Drive ...")})};fh.MA=function(l,o,D,H){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)fh.a7h(l,o,D,H);
else{try{fh.a7h(l,o,D,H)}catch(ey){if(ey=="low_ram"){}else{var _="Error. Please, send your file to support@photopea.com and we will solve it.";
if(fj.ZH(o)=="eps")_="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(_,1e4)}}}};fh.a7h=function(l,o,D,H){var _;if(l.name){var u=l.name.lastIndexOf(".");_=u==-1?l.name:l.name.slice(0,u)}else{if(l.url.substring(0,5)=="data:"||l.url.indexOf("googleapis")!=-1)_="image";
else _=l.url.substring(l.url.lastIndexOf("/")+1).split(".")[0];_=_.slice(0,50)}var S=l.name?l.name:l.url,h=new Uint8Array(o),F=fj.ZH(o);
if(F!=null&&fj.rU(F))eJ.event("fmt_"+F,.1);if(F==null)F=x.Gk(h,0,4);if(S&&S.toLowerCase().endsWith(".raw")&&F!="tiff"){var n=new jJ(k.E.b,!0);
n.data={q:k.L.E1,mg:"importraw",Va:o,_h:S.split("/").pop()};D.A(n);return}else if(F=="json"){var R="";
for(var v=0;v<h.length;v++)R+=String.fromCharCode(h[v]);R=decodeURIComponent(escape(R));var s=JSON.parse(R);
if(s.name&&s.url){var n=new jJ(k.E.b,!0);n.data={q:k.L.aaR,P:s};D.A(n)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(s)}return}if(F=="html"){var R=x.Fs(h,0,h.length),Z=new DOMParser,O=Z.parseFromString(R,"text/html"),w=O.getElementsByTagName("meta");
for(var v=0;v<w.length;v++){var m=w[v],V=m.getAttribute("property"),q=m.getAttribute("content"),i=null;
if(V=="og:image")i=q;if(V==null&&q&&q.startsWith("0;url=/imgres?")){var c=q.slice(14).split("&");for(var z=0;
z<c.length;z++)if(c[z].startsWith("imgurl"))i=decodeURIComponent(c[z].slice(7))}if(i==null)continue;
var n=new jJ(k.E.b,!0);n.data={q:k.L.bD,au:{url:i,yN:!0,Fx:l.Fx}};D.A(n)}return}if(fj.rU(F)){var B,t,a=fj.rU(F);
if(l.Fx!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(F)!=-1){var n=new jJ(k.E.b,!0);if(0<=l.Fx)n.data={q:k.L.VI,target:l.Fx,LX:l.CJ,nL:o,Uj:_};
else{n=new jJ(k.E.r,!0);n.data={q:d.lH,data:new Uint8Array(o),_h:_+"."+F};n.S=p.wU}D.A(n);return}var I=[_,a,F,l,D,H,o];
if(a.pa){var N=a8==0?"psd":"ai";B=new f9(_+(F==N?"":"-"+F)+"."+N);a.Zk(o,B,fh.cm,I)}else{t=a.Zk(o,null,fh.cm,I,D)}if(a.H1!=!0)fh.cm(B,t,I);
else D.bd();return}var J=new jJ(k.E.b,!0);J.data={q:k.L.SO,Va:o,Nt:l.name};var Q=l instanceof File&&l.Po!=!0,n=new jJ(k.E.b,!0);
n.data={q:k.L.lN,BL:"add",au:null,Pv:null,akx:l.Po};if(F=="zip"){var A=Date.now(),f=UZIP.parse(o),W="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var C in f){var j=!1;for(var v=0;v<W.length;v++)if(C.toLowerCase().endsWith("."+W[v]))j=!0;if(C.startsWith("__MACOSX/")||f[C].length==0)j=!0;
if(j)continue;var K=C.split("/").pop();fh.MA({name:K},f[C].buffer,D,H)}}else if(F=="jsx"||S&&S.toLowerCase().endsWith(".jsx")){if(Q)D.A(J);
var R=x.Fs(new Uint8Array(o));n.data={q:k.L.BS,v_:R};D.A(n)}else if(F=="otf"){if(Q)D.A(J);var $=Typr.parse(o);
n.data.au=is.Oe;for(var v=0;v<$.length;v++){n.data.Pv=$[v];D.A(n)}}else if(F=="asl"){if(Q)D.A(J);var $=eF.x2(o,S);
n.data.au=is.om;n.data.Pv=$.JV;D.A(n);n.data.au=is.E9;n.data.Pv=$.f5;D.A(n)}else if(F=="tpl"){if(Q)D.A(J);
var $=b7.x2(o);n.data.au=is.ON;n.data.Pv={b9:$.b9,N8:$.N8,list:[]};D.A(n);if($.a4b.length!=0){n.data.au=is.ke;
n.data.Pv=$.a4b;D.A(n)}if($.f5.length!=0){n.data.au=is.E9;n.data.Pv=$.f5;D.A(n)}n.data.au=is.p2;n.data.Pv=$.list;
D.A(n)}else{var r="";for(var U in is.wx)if(is.wx[U][0]==F)r=U;if(r!=""){if(Q)D.A(J);n.data.Pv=is.wx[r][2].x2(o,S);
n.data.au=r;D.A(n)}else if(o.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(F))}};
fh.cm=function(l,o,D){var H=D[0],_=D[1],u=D[2],S=D[3],h=D[4],F=D[5],n=D[6];if(_.H1)h.tl();if(!_.pa){if(o.length==0)return;
if(o[0].t33421||o[0].t50706){g.raw.normalize(o[0],n);console.log(o[0]);var R=new jJ(k.E.b,!0);R.data={q:k.L.E1,mg:"rawpea",Ao:o[0]};
h.A(R);return}if(F){F(new Uint8Array(o[0].data),o[0].jH);return}l=fj.Ns(H,o)}l.Br=S.Br;l.WW=u;l.BL=S.BL;
l.ti=S.url;l.jn=S.jn;l.Pl=S.Pl;l.lM=S.lM;l.RB=S.RB;if(l.Pl)l.Pl.Ne=u;if(l.R.length!=0){var R=new jJ(k.E.b,!0);
R.data={q:S.Fx==null?k.L.r8:k.L.VI,target:S.Fx,LX:S.CJ,nL:l};h.A(R)}};function ft(l){f1.call(this);this.HB=ft.HB++;
this.hc=l;this.a7u=this.axu.bind(this);this.aqu=this.alW.bind(this);this.a8i=this.p4.bind(this);this.a0Q=this.a3V.bind(this);
this.aqm=this.ag8.bind(this);this.asa=this.a0G.bind(this);this.hb=0;this.ajK=0;this.a2J=0;this.Z=M.a("div","panelblock");
this.i_=M.a("div","block");this.fi=M.a("div","collapsed");this.Z.appendChild(this.i_);this.hO=-1;this.hY=!0;
this.BO=M.a("div","panelhead");this.i_.appendChild(this.BO);this.Ot(this.BO);this.pW=new cg("\u2261");
this.pW.Z.setAttribute("style","position:absolute; right:4px;");this.pW.O("click",this.avo,this);this.an=M.a("div","body");
this.i_.appendChild(this.an);this.xG=[];this.oy=null;this.bq=null}ft.HB=0;ft.prototype=new f1;ft.vK=26.1;
ft.prototype.avo=function(l){var o=this.xG[this.hO].Cz(),D=l.currentTarget.Z.getBoundingClientRect();
o.k();o.update();o.parent=this;var H=new jJ(k.E.b,!0);H.data={q:k.L.jq,VG:o,x:D.left,y:D.top+D.height+2};
this.A(H)};ft.prototype.ZF=function(l){var o=this.i_,D=this.BO,H=this.an;if(M.Ve(D))o.removeChild(D);
if(M.Ve(H))o.removeChild(H);if(l==0)o.appendChild(D);o.appendChild(H);this.a2J=l};ft.nw=function(l){l.stopPropagation();
l.preventDefault()};ft.prototype.axu=function(l){var o=l.dataTransfer.types;if(o[1]!=null&&o[1]!=this.HB+"")return;
ft.nw(l);var kC=l.currentTarget;if(l.target==kC)M.EA(kC,"highlight")};ft.prototype.alW=function(l){ft.nw(l);
var kC=l.currentTarget;if(l.target==kC)M.vY(kC,"highlight")};ft.prototype.Ot=function(l){l.addEventListener("dragenter",this.a7u,!1);
l.addEventListener("dragleave",this.aqu,!1);l.addEventListener("dragover",ft.nw,!1);l.addEventListener("drop",this.a8i,!1);
l.addEventListener("dragstart",function(o){o.dataTransfer.setData("Text","--panel");o.dataTransfer.setData(this.HB+"","")}.bind(this),!1)};
ft.prototype.p4=function(l){this.aqu(l);var o=null,kC=l.currentTarget,D=this.ap$(kC);if(kC==this.an&&this.hO!=-1)o=this.hO;
else if(kC==this.BO)o=null;else if(D!=-1)o=D;var H=l.dataTransfer.getData("Text");if(H==""||H.startsWith("http")||H.startsWith("data:image/"))M.iY(l,this,o);
else if(H=="--panel"){var _=M.Kx(l,kC),u=this.xG,S=u.slice(0),v=this.hO,h=D==-1?u.length:_.x<kC.getBoundingClientRect().width/2?D:D+1;
if(v==h||v+1==h||kC==this.an)return;var F=v<h?h-1:h,n=u[v];u.splice(v,1);u.splice(F,0,n);M.o7(this.BO);
for(var R=0;R<u.length;R++)this.BO.appendChild(u[R].M2);this.eV(F);var s=[];for(var v=0;v<u.length;v++)s[v]=S.indexOf(u[v]);
var Z=new jJ("shuffleItems",!1);Z.data={a0$:s};this.A(Z)}else if(o!=null&&this instanceof fb){var Z=new jJ(k.E.b,!0);
Z.data={q:k.L.aA1,ab$:o};this.A(Z)}};ft.prototype.fR=function(){return null};ft.prototype.aq8=function(){if(this.fR()){this.BO.style.padding="0px";
this.bq=this.fR();this.an.appendChild(this.bq);this.I6.td(!1);var l=new jJ(k.E.b,!0);l.data={q:k.L.uR,P:1};
this.A(l)}};ft.prototype.a6k=function(){if(this.bq){this.BO.style.padding="";this.an.removeChild(this.bq);
this.bq=null;this.I6.td(!0);var l=new jJ(k.E.b,!0);l.data={q:k.L.uR,P:0};this.A(l)}};ft.prototype.ap$=function(l){var o=this.xG;
for(var v=0;v<o.length;v++)if(o[v].M2==l)return v;return-1};ft.prototype.ps=function(){for(var v=0;v<this.xG.length;
v++)this.xG[v].Ar.UQ()};ft.prototype.S4=function(){return this.hO};ft.prototype.Az=function(){if(this.hY)return;
this.hY=!0;this.Z.removeChild(this.fi);this.Z.appendChild(this.i_)};ft.prototype.collapse=function(){if(!this.hY)return;
this.hY=!1;this.Z.appendChild(this.fi);this.Z.removeChild(this.i_)};ft.prototype.vK=function(){var l=0;
if(this.a2J==0){l=this.BO.getBoundingClientRect().height+1;l=Math.max(l,ft.vK)}return l};ft.prototype.auR=function(){return this.vK()+this.an.getBoundingClientRect().height};
ft.prototype.Av=function(l,o){this.BO.style.maxWidth=l+"px";var D=this.vK();if(this.hO!=-1)this.xG[this.hO].Av(l,o-D);
return o-D};ft.prototype.Ip=function(l,o){if(this.hO!=-1)this.xG[this.hO].Ip(l,o)};ft.prototype.my=function(l,o,D){this.xG[this.hO].my(l,o,D)};
ft.prototype._t=function(l){this.a6k();if(this.xG.indexOf(l)!=-1){this.eV(this.xG.indexOf(l));return}l.parent=this;
this.xG.push(l);this.BO.appendChild(l.M2);l.M2.addEventListener("mouseover",this.a0Q,!1);this.Ot(l.M2);
this.fi.appendChild(l.Ar.Z);l.Ar.O("click",this.ax$,this);l.O("select",this.aDX,this);l.O(k.E.Wg,this.alE,this);
this.eV(this.xG.length-1)};ft.prototype.a3V=function(l){if(l.buttons==0)return;var o=l.currentTarget,D=o,v=0;
while((D=D.previousSibling)!=null)v++;this.ajK=v;o.addEventListener("mouseout",this.aqm,!1);this.hb=setTimeout(this.asa,700)};
ft.prototype.ag8=function(l){var o=l.currentTarget,D=o,v=0;while((D=D.previousSibling)!=null)v++;o.removeEventListener("mouseout",this.aqm);
clearTimeout(this.hb)};ft.prototype.a0G=function(l){this.A(new jJ(k.E.awm,!1))};ft.prototype.adJ=function(l){return this.ajK};
ft.prototype.Fl=function(v){var l=new jJ(k.E.Wg,!1);l.data={QW:v};this.A(l);var o=this.xG[v];this.xG.splice(v,1);
this.BO.removeChild(o.M2);this.fi.removeChild(o.Ar.Z);o.M2.className="";o.Ar.removeEventListener("click",this.ax$,this);
o.Ar.UQ();o.removeEventListener("activate",this.aDX);o.removeEventListener(k.E.Wg,this.alE);var D=this.hO;
if(v<D)D--;else if(v==D&&v==this.xG.length)D--;this.eV(D);if(this.xG.length==0)this.aq8()};ft.prototype.aCh=function(){return this.xG.length};
ft.prototype.H2=function(){if(this.xG.length!=0)this.xG[this.hO].H2()};ft.prototype.eV=function(l,o){if(o==null)o=!0;
for(var v=0;v<this.xG.length;v++)this.xG[v].M2.className="";if(this.oy)this.an.removeChild(this.oy);
this.oy=null;this.hO=l;if(l==-1)return;var D=this.xG[this.hO];this.oy=D.ns;this.an.appendChild(D.ns);
D.M2.className="active";if(!this.hY){this.A(new jJ("showFloat"));this.xG[l].Ar.PL()}if(o)this.A(new jJ(k.E.B,!1));
D.QB();var H=this.pW.Z;if(H.parentNode)this.BO.removeChild(H);if(D.Cz())this.BO.appendChild(H);var _=new jJ(k.E.b,!0);
_.data={q:k.L.qa};this.A(_)};ft.prototype.aDX=function(l){if(this.hc&&!this.hc.ajk())return;var v=this.xG.indexOf(l.currentTarget);
this.eV(v)};ft.prototype.alE=function(l){if(this.hc&&!this.hc.ajk())return;var v=this.xG.indexOf(l.currentTarget);
this.Fl(v)};ft.prototype.ax$=function(l){var o=this.xG.indexOf(l.currentTarget.parent);if(this.xG[o].Ar.hf())this.A(new jJ("hideFloat"));
else this.eV(o)};ft.prototype.a7A=function(l){this.A(l)};function fb(l){ft.call(this,l);this.pX=0;this.B9=0;
M.Bv(this.BO,this.azC.bind(this));this.Th=0;this.aBi=this.agu.bind(this);this.Ot(this.an);this.YR=["default;"];
this.I6=new M.g0(this.an);this.Kd=new iP(!0);this.Kd.parent=this;this.Kf=this.Kd.Z;iP.IX(this.Kd)}fb.prototype=new ft;
fb.prototype.azC=function(l){if(l.target!=this.BO)return;var o=this.Th;this.Th=Date.now();if(Date.now()-o>300)return;
var D=new jJ(k.E.b,!0);D.data={q:k.L.E1,mg:"newproject"};this.A(D)};fb.prototype.VC=function(l,o){if(o)this.YR.push(l);
else{var D=this.YR.length-1;if(this.YR[D]==l)return;this.YR[D]=l}this.Xx()};fb.prototype.aC3=function(){this.YR.pop();
this.Xx()};fb.prototype.Xx=function(){var l=this.YR[this.YR.length-1];this.I6.my(l,this.MN)};fb.prototype.Ip=function(l,o){ft.prototype.Ip.call(this,l,o);
this.Kd.Ip(l,o);if(!l.bO){}};fb.prototype.k=function(){ft.prototype.k.call(this);this.Kd.k()};fb.prototype.my=function(l,o){for(var v=0;
v<o.length;v++){var D=o[v];this.xG[v].nT(D.name+(D.dI()?" *":""))}ft.prototype.my.call(this,l,o)};fb.prototype.fR=function(){return this.Kf};
fb.prototype.Av=function(l,o){if(this.xG.length==0)o+=ft.vK-1;this.pX=l;this.B9=o;o=ft.prototype.Av.call(this,l,o);
this.MN="height:"+o+"px; width:"+l+"px; overflow:hidden; position:relative;";this.Xx();this.Kd.Av(l,o)};
fb.prototype._t=function(l){ft.prototype._t.call(this,l);l.M2.addEventListener("click",this.aBi,!1)};
fb.prototype.Fl=function(v){var l=this.xG[v];M.OF(l.M2,this.aBi);ft.prototype.Fl.call(this,v)};fb.prototype.agu=function(l){var o=this.Th;
this.Th=Date.now();if(Date.now()-o>300)return;var D=this.ap$(l.currentTarget),H=this.xG[D].nL.name,_=new jJ(k.E.b,!0),u={K:k.E.r,S:p.wU,m:{q:d.GV}};
_.data={q:k.L.E1,mg:"namewindow",aC:H.slice(0,H.length-4),WF:u};this.A(_)};function aT(l){f1.call(this);
if(l)return;gp.arm(1);this.Z=M.a("div","flexrow app");this.n_=M.a("div");this.Z.appendChild(this.n_);
setTimeout(function(){var D=window.hideCap;if(D)D()},25e3);this.iU=new e_;window.addEventListener("blur",function(D){this.iU.reset()}.bind(this),!1);
window.addEventListener("resize",this.ZJ.bind(this),!1);var o=this.n_;this.UJ=new jB;this.UJ.parent=this;
o.appendChild(this.UJ.Z);this.XX=new hc;this.XX.parent=this;o.appendChild(this.XX.Z);this.JQ=new iO(!0);
this.JQ.parent=this;o.appendChild(this.JQ.Z);this.O(k.E.b,this.Yx,this);this.NW=this.qR.bind(this);window.requestAnimationFrame(this.NW)}aT.prototype=new f1;
aT.prototype.qR=function(l){this.Gy();window.requestAnimationFrame(this.NW)};aT.prototype.k=function(){};
aT.prototype.ZJ=function(l){var o=window.innerWidth,D=window.innerHeight;this.Av(o,D)};aT.prototype.Av=function(l,o){this.XX.Av(l,o);
this.UJ.Av(l,o)};aT.prototype.Yx=function(l){var o=l.data.q;if(o==k.L.jq)this.XX.aiY(l.data);if(o==k.L.H0)this.XX.aib(l.data);
if(o==k.L.AV)this.XX.abI(l.data.JS);if(o==k.L.lL)this.XX.att(l.data.JS);if(o==k.L.RQ)this.XX.iB()};function a4(){aT.call(this);
this.e_={x:0,y:0,gz:!1};this.Rg=!1;this.oa=!1;this.W$=null;this.aqc=0;this.a3Q=!1;this.RF=0;window.onmessage=function(R){if(Storage.amM(R.source))return;
if(R.data instanceof ArrayBuffer){var s=fj.ZH(R.data),Z=fj.rU(s);iT.MA({url:"file"},R.data,this);if(Z==null)this.v3()}else if(R.data instanceof Object||R.data.startsWith("{")||R.data.startsWith("amp-")||R.data.startsWith("0=goog")||R.data.startsWith("3PCoo")||R.data.startsWith("ima://")){}else if(R.data.startsWith("--ur ")){var O=R.data.split(" ").pop(),c=null;
O=O.length==0?[]:O.split(",");console.log(O);var w=this.Pk.Pv,m=new jJ(k.E.b,!0);m.data={q:k.L.lN,au:is.mG,zc:O};
this.A(m);var V=O,q=w;if(q.length>V.length){var i=q;q=V;V=i}for(var v=0;v<V.length;v++)if(q.indexOf(V[v])==-1)c=V[v];
iT.Dy("act=3&id="+c+"&dif="+(V==O?1:-1));alert((V==O?"Resource added.":"Resource removed.")+" "+c)}else if(R.data.startsWith("--ot ")){if(this.UJ.Fr())this.UJ.Fr().close();
this.jK.Wa(R.data.split(" ").pop(),!0)}else if(R.data.startsWith("--et ")){}else{var m=new jJ(k.E.b,!0);
m.data={q:k.L.BS,v_:R.data};this.A(m);this.v3()}}.bind(this);window.onbeforeunload=function(R){this.ay$();
for(var v=0;v<this.GX.length;v++)if(this.GX[v].dI())return this.GX[v].name}.bind(this);window.setInterval(this.adp.bind(this),5*60*1e3);
var l=this;if(window.indexedDB&&(!hP.LF()||document.hasStorageAccess==null)){var o={tP:window.indexedDB.open("pp",1)};
o.tP.onupgradeneeded=function(R){var s=R.target.result,Z=s.createObjectStore("rsrc",{keyPath:"k"})};
o.tP.onsuccess=function(R){var s=l.Pk.Yt.tf=R.target.result,Z=s.transaction(["rsrc"],"readwrite").objectStore("rsrc"),O=Z.get("fs0");
O.onsuccess=function(R){if(R.target.result){var V=l.Pk.Yt.Hn=R.target.result.fset;for(var q in V){if(!q.endsWith(".jsx")&&!q.endsWith(".psd"))iT.MA({url:q,Po:!0},V[q],l)}}};
var w=new BroadcastChannel("pp-tabs"),m=[];w.onmessage=function(R){if(R.data=="id")w.postMessage(l.Pk.Yt.id);
else m.push(R.data)};w.postMessage("id");setTimeout(function(){var Z=s.transaction(["rsrc"],"readwrite").objectStore("rsrc"),V=Z.getAllKeys();
V.onsuccess=function(){var q=V.result,i=[],c=0;for(var v=0;v<q.length;v++){if(q[v]=="fs0")continue;if(m.indexOf(q[v])!=-1)continue;
i.push(q[v])}for(var v=0;v<i.length;v++){var O=Z.get(i[v]);O.onsuccess=function(R){if(R.target.result){var z=R.target.result.fset;
for(var B in z){try{iT.MA({url:B,Po:!0},z[B],l);var t=l.W1();t.$i=t.t4=-1}catch(R){console.log(R)}}c++;
if(c==i.length)for(var v=0;v<i.length;v++){var O=Z.delete(i[v])}}}}}},200)}}var D=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO","\"|'/-&(0><BBDEEMGrVPb"],H=M.T1[e2.kY][e2.i4];
for(var v=0;v<D.length;v++){var _=M.nt(D[v]);if(H.indexOf(_)!=-1){var u=M.T1[e2.kY][e2.an],S=M.nt("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
M.o7(u);u[e2.abd]=S;return}}this.p=a4.ajH();this.Pk={p:this.p,a4I:!1,Bq:null,Cn:0,YQ:{N8:[],b9:[],list:[],Wj:null},xE:[],aaT:[],h5:[],bw:[],h2:[],hj:[],a13:[],aAM:[],h2:[],To:[dV.ts()],YT:[],Pg:[],JP:null,Vt:0,o4:cq.o4.ts(),tJ:{hM:1,E6:JSON.parse(JSON.stringify(cq.lJ[0]))},K_:cq.K$.ts(),aBD:[null].concat(cq.lJ),a9w:[null].concat(cq.lJ),uh:new ey(function(R){var s=new jJ(k.E.b,!0);
s.data={q:k.L.bD,au:{url:eJ.NO("rsrc/fonts/"+R)}};this.A(s)}.bind(this)),Hv:{LJ:[],i7:null,z5:null},font:null,U5:[],Pv:[],a01:{},Os:0,qg:16777215,QC:!1,bX:!0,og:{oJ:!0,yc:!1,oF:!0,sS:!0,cD:!0,n0:!0,Aq:20,EG:0,ki:0,wc:0,xm:8421504,Pe:65535,VF:33023},Je:!0,mf:[!0,!0,!1,!0,!0],Co:[0,1,2,3,5,6,7,9,10,16,17,100],NP:1,a3:!0,ZR:{},bO:!0,akl:!1,compact:!1,gD:1,wV:0,Kf:!0,PK:{},pP:null,Yt:{id:"ts"+Math.round(Math.random()*16777215),aB$:!1,amr:!1,Hn:{},x5:{},tf:null},a6g:0,auW:null,VY:null,ayC:null,bG:null};
ey.rz.Vk(this);this.aiP={hR:new gt,uz:new he};this.Pk.Hv=fX.abt();this.mD=new gH;this.Jf=new cm;this.Gz=new fJ;
this.YA=new iY(this.p,!0);this.Iv=new j8;this.XC=new fb(this);this.T$=M.a("div");this.Q7=!1;this.Nr=this.aCq.bind(this);
M.EA(this.XC.Z,"mainblock");this.JQ.parent=this.mD.parent=this.Jf.parent=this.YA.parent=this.Iv.parent=this.XC.parent=this;
this.XC.O(k.E.B,this.V6,this);this.XC.O(k.E.Wg,this.alV,this);this.XC.O("shuffleItems",this.a2K,this);
this.XC.O(k.E.awm,this.akf,this);this.O("mouse",this.az9,this);this.O(k.E.r,this.Cf,this);this.O(k.E.yT,this.adG,this);
document.body.addEventListener("keydown",this.op.bind(this),!1);window.addEventListener("keyup",this.Gb.bind(this),!1);
window.addEventListener("paste",this.a7J.bind(this),!1);window.addEventListener("copy",this.afi.bind(this),!1);
window.addEventListener("wheel",function(R){if(R.ctrlKey)R.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(R){if(window.innerWidth>400)R.preventDefault();
this.Pk.pP=R}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(R){if(R.ar4){console.log("Service worker installing")}else if(R.ayN){console.log("Service worker installed")}else if(R.active){console.log("Service worker active")}}).catch(function(R){console.log("Registration failed with "+R)})}this.vy=0;
this.GX=[];this.jK=new iT(fh.MA);this.jK.parent=this;var h=this.n_,F=this.LA=M.a("div");F.appendChild(this.mD.Z);
F.appendChild(this.Jf.Z);this.JQ.a5p(F);var n=this.alN=M.a("div","flexrow");h.appendChild(n);n.appendChild(this.YA.Z);
n.appendChild(this.XC.Z);n.appendChild(this.Iv.Z);this.jK.o2({url:eJ.NO("rsrc/basic/basic.zip")});this.Zy(p.e5);
eJ.Vk(this.awg.bind(this));if(this.tz())return;if(a8==0)eJ.event("web_PPea",.002);if(a8==1)fetch("//www.photopea.com/papi/event.php?id=web_VPea")}a4.prototype=new aT(!0);
a4.prototype.v3=function(l){var o=new jJ(k.E.b);o.data={q:k.L.U_,au:l?l:"done"};this.A(o)};a4.prototype.adp=function(){var l=this.Pk.Yt,D=!1;
if(l.tf==null)return;var o=this.GX;for(var v=0;v<o.length;v++){var H=o[v];if(H.t4!=H.IL){var _=Date.now(),u=fj._Q(H,"psd",0,0,[!0,!1,!0,!1,!0]);
H.t4=H.IL;l.x5[H.name]=u;D=!0;console.log(Date.now()-_,"saving "+H.name,u.byteLength)}}if(D){var S=new jJ(k.E.b);
S.data={q:k.L.lN,au:is.pe,ajI:!0};this.A(S)}};a4.prototype.awg=function(){M.T1[e2.A7](this.a0s.bind(this),Math.pow(Math.PI,8)+M.T1[e2.asi][e2.ajJ]()*1e4);
var l=eJ.A2();if(l!=null&&l.globals!=null)this.D5(l.globals);else{this.a3Q=!0;var o=cU.a6T();if(o&&o.length!=0){var D=o[0];
cU.ajw(D,this.Nr)}}if(!this.tz()){var H=M.apD();if(H==0)this.akl=!0;if(H==2)this.Pk.bO=!1;if(H!=1&&Math.random()<.002)M.azP()}if(!hP.LF()||!this.Pk.bO){this.aj3();
this.Q8()}else{var _=M.iH(M.T1[e2.ub]);_[e2.UF](e2.UA,this.aal.bind(this));_[e2.T_](M.eI("61="),M.eI("_MYOqDLGJa;A:6"));
_[e2.Ad]()}this.Rg=!0;this.v3()};a4.prototype.aal=function(l){var o=JSON.parse(l.target[e2.AS]),D=M.T1[e2.UR][e2.at$]()/1e3,H=M.T1[e2.kY][e2.i4],_=!1;
for(var u in o)if(u.indexOf(".")!=-1&&H.indexOf(u)!=-1&&parseInt(o[u])>D)_=!0;if(_)this.Pk.bO=!1;this.aj3();
this.Q8()};a4.prototype.Q8=function(l){this.oa=!0;if(!this.Pk.Kf)this.XC.Kf=null;else if(this.GX.length==0)this.XC.aq8();
this.ek(is.CV);this.k();this.ZJ();this.Iv.my(this.W1(),this.GX,this.Pk)};a4.prototype.D5=function(l){var o=this.Pk;
if(l.fcolor!=null){o.Os=l.fcolor;var D=o.Hv.i7.FillColor;if(D){var H=g.kJ(o.Os);D.Values=[1,H.$/255,H.H/255,H.J/255]}}if(l.bcolor!=null)o.qg=l.bcolor;
if(l.rulers!=null)o.QC=l.rulers;if(l.extras!=null)o.bX=l.extras;if(l.favFam!=null)o.U5=l.favFam;if(l.rsrc!=null)o.Pv=l.rsrc;
if(l.font!=null)o.Hv.LJ[0].Name=l.font;if(l.panels!=null)o.Co=l.panels;if(l.as!=null)o.gD=l.as;if(l.co!=null)o.wV=l.co;
if(l.eparams){var _=l.eparams,u=o.og;if(_.guides!=null)u.oJ=_.guides;if(_.grid!=null)u.yc=_.grid;if(_.gsize!=null)u.Aq=_.gsize;
if(_.gunits!=null)u.EG=_.gunits;if(_.gtype!=null)u.ki=_.gtype;if(_.runits!=null)u.wc=_.runits;if(_.gcol!=null)u.xm=_.gcol;
if(_.gucol!=null)u.Pe=_.gucol;if(_.glcol!=null)u.VF=_.glcol;if(_.sels!=null)u.oF=_.sels;if(_.paths!=null)u.sS=_.paths;
if(_.pgrid!=null)u.cD=_.pgrid;if(_.slices!=null)u.n0=_.slices}if(l.lang!=null)cU.ajw(l.lang,this.Nr);
if(l.theme!=null)o.NP=l.theme;if(l.topt||o.Iy){var S=l.topt?l.topt:{},h=o.Iy?o.Iy:{};for(var F in this.p.map){if(F>=103)continue;
var n="t"+F;if(S[n]||h[n])this.p.map[F].S.hn(S[n],h[n],this)}}};a4.prototype.aj3=function(){if(this.Pk.a4I)return;
this.Pk.a4I=!0;var l=null,o=window.location.href,D=o.indexOf("="),H=o.indexOf("#");if(D!=-1)l=o.substring(o.indexOf("?")+1,D);
if(H!=-1&&H!=o.length-1){l="p";D=H}if(H!=-1&&o[H+1]=="i"){this.jK.Wa(o.slice(H+2,H+10))}else if(o.slice(H+1).startsWith("goog_rewarded")){}else if(H!=-1&&o[H+1]=="t"){this.jK.Wa(o.slice(H+2,H+10).split("").reverse().join(""),!0)}else if(l=="p"||l=="state"){var _=o.substring(D+1,o.length);
_=JSON.parse(decodeURIComponent(_));if(l=="p"){var u=_.apis,S=this.Pk;if(u){if(u.rmbg)S.PK.jf=u.rmbg;
if(u.dezgo)S.PK.ayQ=u.dezgo}if(_.script=="alert(73)")this.Pk.bO=!1;if(_.script)f8.anG(this);if(_.server)this.W$=_.server;
if(_.resources)for(var v=0;v<_.resources.length;v++)this.jK.o2({url:_.resources[v]});if(_.files)for(var v=0;
v<_.files.length;v++)this.jK.o2({url:_.files[v],BL:{wQ:_.server,aiL:_.script}});var h=_.environment;
if(h==null)h={};if(h.plugins!=null)this.Iv.a25(h.plugins);if(h.localsave!=null)this.Pk.a3=h.localsave;
if(h.customIO!=null)this.Pk.ZR=h.customIO;if(h.vmode!=null){var F=h.vmode;if(F==1)this.Pk.compact=!0;
if(F==2)this.ZF(1)}if(h.intro!=null)this.Pk.Kf=h.intro;if(h.menus!=null)this.Pk.aob=h.menus;if(h.tmnu!=null)this.Pk.Iy=h.tmnu;
if(h.panels!=null)this.Pk.Co=h.panels;if(h.showtools!=null){var n=h.showtools,R=n.indexOf(this.Pk.Bq);
this.Pk.I3=n;if(R==-1)this.Zy(n[0])}if(h.phrases!=null)cU.azQ(h.phrases);if(h.autosave!=null){this.Pk.gD=0;
window.setInterval(function(){var O=new jJ(k.E.b);O.data={q:k.L.D9};this.A(O)}.bind(this),h.autosave*1e3)}if(h.icons!=null){for(var s in h.icons)if(h.icons[s].indexOf("\"")==-1){if((s==e2.a1X||s==e2.anp)&&this.Pk.bO)continue;
PIMG[s]=h.icons[s];PIMG["__"+s]=!0}}this.D5(h);if(_.files==null&&_.script){kI.aq(_.script,this);this.v3()}}else if(l=="state"){var Z=this.jK;
if(_.action=="create"){var O=new jJ(k.E.b);O.data={q:k.L.E1,mg:"newproject",ajq:_.folderId};this.A(O)}if(_.action=="open"){for(var v=0;
v<_.ids.length;v++)j1.P2(function(){var m="https://www.googleapis.com/drive/v3/files/"+this.aCw,V=new XMLHttpRequest;
V.open("GET",m);V.setRequestHeader("Authorization",j1.aB2());V.send();V.onload=function(q){var i=JSON.parse(q.target.response);
Z.o2({url:m+"?alt=media",name:i.name,Pl:{file:i,Ne:""},Dl:{Authorization:j1.aB2()}})}}.bind({aCw:_.ids[v]}));
alert("Loading files from Google Drive ...")}}}else{var w=window.launchQueue;if(w){var Z=this.jK;w.setConsumer(function(m){var V=m.files;
console.log(V);for(var v=0;v<V.length;v++){var q=V[v];q.getFile().then(function(i){Z.zT([i],null,null,null,[q])})}})}}};
a4.prototype.k=function(){var l=document.getElementById("cap");if(l){var o=!1,D=l.getElementsByTagName("h1")[0],u=0,h=0,F=0;
D.textContent=o?"Photopea":cU.get([0,17,0]);var H=l.getElementsByTagName("p"),_=M.Ec(cU.get([0,17,1])),S=["PSD","XCF","Sketch","XD","CDR"];
for(var v=0;v<S.length;v++)_=_.replace(S[v],"<b>"+S[v]+"</b>");if(!o)_+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
H[0].innerHTML=_;_=cU.get([0,17,2])+" "+cU.get([0,17,3]);for(var v=0;v<_.length;v++){var n=_[v];if(n=="<")h++;
if(n==">")F++}if(!o&&h*F==9){var R=["//github.com/photopea/"+["photo","vector"][a8]+"pea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var v=0;v<3;v++){var s=_.indexOf("<",u),Z=_.indexOf(">",u),O=_.slice(0,s)+"<a href=\""+R[v]+"\" target=\"_blank\">"+_.slice(s+1,Z)+"</a>";
u=O.length;_=O+_.slice(Z+1)}H[1].innerHTML=_}else H[1].innerHTML=cU.get([0,17,2])}var w=document.getElementById("sponsors");
if(w)w.textContent=cU.get([0,17,4]);this.JQ.k();this.mD.k();this.Gz.k();this.Iv.k();this.YA.k();this.UJ.k();
this.XC.k();for(var m in this.p.map)if(this.p.map[m].uj)this.p.map[m].uj.k()};a4.prototype.tz=function(){var l=M.T1[e2.cx][e2.acB];
if(l&&l[1]){if(l[1].endsWith(e2.eI("UUPSDm@ID")))return!0}return 4<M.T1[e2.cx][e2.aO][e2.au4](e2.eI("'$!|"))};
a4.prototype.Av=function(l,o){l=Math.floor(l);o=Math.floor(o);var D=M.eI("WUMK&AM"),H=e2.cu,_=M.T1[e2.kY],u=Math.max(l,window.screen.width),S=Math.max(o,window.screen.height),s=0;
if(hP.DQ==null)hP.DQ=Math.min(u,S)<500||u<750?0:u<1500?1:2;var h=hP.DQ,F=!this.oa||this.tz()||!this.Pk.bO||eJ.lu()||M.r6()==e2.eI("eQLZRRM?8a4=8");
if(!F&&hP.LF()){if(this.aiD==null)this.aiD=Math.random()<.5;F=this.aiD}if(F){if(h!=0&&M.T1[D]&&this.oa)M.T1[D]()}else{if(h==0)o-=84;
else l-=h==1?180:320}aT.prototype.Av.call(this,l,o);if(F&&this.Q7){this.Z[e2.Cd](this.T$);M.o7(this.T$);
this.Q7=!1}if(!F&&!this.Q7){var n=function(w){if(Math.random()<.002){if(a8==0&&hP.rG())eJ.event("gota_0")}if(a8==0&&w)M.T1.___a=!0;
this.apU(l,o);var m=h==0?_[e2.an]:this.Z;m.appendChild(this.T$);this.T$[e2.iP](H,M.eI("_MMJLNDfKCAg")+(h==0?10:10)+M.eI("_d$ebOS?I:==Ba-+# }$M"));
this.T$[H][M.eI("_MMJLND&<:E")]=(h==0?0:19)+M.eI("_d");this.T$[H][M.eI("i5WJHX")]=h==0?0:1}.bind(this);
function R(){hP.alM(n)}setTimeout(R,2300);this.Q7=!0}if(M.Ve(this.mD.Z))s+=31;if(M.Ve(this.Jf.Z))s+=32;
this.JQ.a1A=this.Pk.bO&&this.oa;this.JQ.Av(l,s);var Z=o-s,O=M.eI("_d");this.T$[H][e2.afj]=(h==0?100>>>1:o-11)+O;
this.T$[H][e2.MP]=(h==0?l:6*Math.pow(10,2))+O;if(M.Ve(this.YA.Z))this.YA.Av(l,Z);this.Iv.Av(l,Z);this.XC.Av(l-this.YA.qU()-this.Iv.qU(),Z)};
a4.prototype.apU=function(l,o){var D=function(){var H=new jJ(k.E.b);H.data={q:k.L.E1,mg:"account"};this.A(H)}.bind(this);
hP.amd(l,o,this.T$,D)};a4.prototype.afi=function(l){console.log("systemCopy")};a4.prototype.a7J=function(l){if(M.gL())return;
console.log("systemPaste");if(!l.clipboardData)return;var o=l.target.tagName.toLowerCase(),D=l.clipboardData.items;
if(D==null)return;var H=this.aAc.bind(this);for(var v=0;v<D.length;v++){var _=D[v],u=_.getAsFile();if(_.type.indexOf("image")!=-1){if(u.size==this.Pk.a6g)return;
this.Pk.a6g=u.size;if(u){u.name="image.png";this.jK.zT([u],H)}}}};a4.prototype.aAc=function(l,o){var D={buffer:l,rect:o},H=this.Pk;
if(M.gL()){var _=this.aiP,u=_.hR;if(u.Q==o.Q&&u._==o._){D.rect=u;D.uz=_.uz}}else{if(H.VY){var S=new jJ(k.E.r,!0);
S.S=p.zo;S.data={q:"h_stepbck"};this.A(S)}}H.VY=D;var S=new jJ(k.E.b,!0);S.data={q:k.L.ZZ,aBr:!0};this.A(S)};
a4.prototype.a2x=function(){if(this.UJ.Fr()!=null)alert(cU.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
a4.prototype.Cf=function(l){var o=this.W1();if(o==null){alert(cU.get([15,7,7]));return}var D=l.S==p.ap||l.S==p.Nk;
if(this.UJ.Iu()&&l.iy!=!0&&!D){this.a2x();return}var H=this.p,_=this.Pk.Bq,u=l.S;if(u==p.gg&&_==p.By)u=p.By;
if(_!=u&&H.map[_].S.Iu()&&!D&&!(_==p.eK&&u==p.tF)){console.log("disabling",_);H.map[_].S.disable(o,this,this.Pk,this.iU)}var S=this.p.map[u].S;
S.Cf(l.data,this,o,this.iU,this.Pk)};a4.prototype.adG=function(l){var o=this.Pk;if(l.data.FB!=!0)bt.adV({vS:l.data.vS,M1:l.data.M1},this,o,this.W1());
var D=o.JP,H=o.Pg;if(D==null)return;var _={aDQ:!1,RT:"Step",aCG:0,e:!0,exp:!1,vS:l.data.vS};if(D[2]==null)D[2]=H[D[0]].T3[D[1]].T3.length-1;
if(l.data.M1)_.M1=l.data.M1;H[D[0]].T3[D[1]].T3.splice(D[2]+1,0,_);D[2]++;this.ek(is.r)};a4.prototype.Yx=function(l){if(this.akl){l.data=0;
return l.type}if(M.T1.__csrf&&!eJ.lu()){var o=e2.eI("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1!tomv((xeeoTO[cB]+J:?8A6E$# ),\"%-2)EdajmcfpkJZbTE?VH@>SG&0#;+z~~mm&ShlnfdVOx");
alert(o,5e3);return}aT.prototype.Yx.call(this,l);var D=l.data.q;if(D==k.L.yM)bt.awJ(this.W1(),this.Pk.Pg,l.data.Jl[0],l.data.Jl[1],this);
if(D==k.L.aA1){this.amq(l.data.ab$)}if(D==k.L.akb){this.k();this.ZJ()}if(D==k.L.qa)this.ZJ();if(D==k.L.ZM)if(this.Pk.pP){this.Pk.pP.prompt();
this.Pk.pP=null}if(D==k.L.yx)this.XC.VC(l.data.oD,l.data.push);if(D==k.L.acn)this.XC.aC3();if(D==k.L.a1j)this.V6(null,l.data.dir);
if(D==k.L.ZT)this.XC.Fl(this.GX.indexOf(l.data.p7?l.data.p7:this.W1()));if(D==k.L.uR){var H=navigator.keyboard;
if(l.data.GT&&H)H.lock(["Escape"]);if(l.data.GT&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(l.data.GT)document.body.webkitRequestFullScreen();if(l.data.P!=null)this.ZF(l.data.P)}if(D==k.L.a7N){if(l.data.gz)this.iU.Ew(l.data.arj);
else this.iU.tp(l.data.arj);this.WP(l.data.gz?"down":"up")}if(D==k.L.aaR){var _=l.data.P;this.Iv.a25([_]);
this.k()}if(D==k.L.W2){var u=this.W1(),S=u.zG().slice(0),h=u.R[u.T[0]],F=new gt(0,0,u.Q,u._),n=f9.T5()+"-d71c-11e5-b1ae-a548a96e5f9f",R=new jJ(k.E.b,!0);
if(l.data.au==0){var s={name:"Default/"+u.name.split(".")[0],id:n,dT:[S,F]};R.data={q:k.L.lN,BL:"add",au:is.om,Pv:[s]};
this.A(R)}if(l.data.au==1){var Z=g.o(F.c()*4);g.M5(Z,4294967295);g.z.JM("norm",S,F,Z,F,F,1);var O=g.o(F.c());
g.Hx(Z,O);g.L5(O);var w=g.uA(O,F);if(w.lh())w=F;var m=g.o(w.c());g.mB(O,F,m,w);w.x=w.y=0;var V={hR:w,id:n,dT:[m,w]},q=j6.iF(n),i=q.Brsh.v;
i.Dmtr.v.val=Math.max(w.Q,w._);i.Spcn.v.val=10;R.data={q:k.L.lN,BL:"add",au:is.ON,Pv:{list:[{t:"Objc",v:q}],b9:[V],N8:[]}};
this.A(R);R.data={q:k.L.lN,au:is._b,by:q};this.A(R)}if(l.data.au==2){var c=u.CS(),z=c[0][c[1][0]],B={Yd:"Default/"+h.getName(),KO:n,d:z.add.vmsk.clone().d},t=g.n.kU(B.d),a=new de(t.Q,0,0,t._,t.x,t.y);
a.L5();g.n.Am(B.d,a);t.x=t.y=0;B.EZ=t.clone();R.data={q:k.L.lN,BL:"add",au:is.ke,Pv:[B]};this.A(R)}}if(D==k.L.bD)this.jK.o2(l.data.au);
if(D==k.L.z4){var I=l.data.ado,N=l.data.BE;if(I!=!0&&N!=!0&&this.Re("open"))return;var J=this.XC.S4();
if(N)J=-1-J;this.jK.avp(I||N?J:null,l.data.acM)}if(D==k.L.NE){var Q=l.data.afs,A=l.data.QE,f=this.sC(Q);
if(A){var W=Q==is.ON,C=[];for(var v=0;v<A.length;v++)C.push((W?f.list:f)[A[v]]);f=W?{N8:f.N8,b9:f.b9,list:C}:C}if(Q==is.E9){var F=new f9;
for(var v=0;v<f.length;v++){var j=f[v].yO.Lefx;if(j)cN.a6i(j,F,this.Pk.hj)}f={JV:F.add.Patt?F.add.Patt:[],f5:f}}if(Q==is.p2){var K=this.Pk.YQ;
f={b9:[],N8:[],list:f};console.log(f)}if(Q==is.r)f=f[l.data.Pr];var $=is.wx[Q],S=$[2].wd(f);iT.save(S,$[1]+"."+$[0])}if(D==k.L.SO){var r=this.Pk.Yt,U=l.data.a60;
if(r.tf&&!r.aB$&&!U){r.amr=window.confirm("Load \""+l.data.Nt+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
r.aB$=!0}if((r.amr||U)&&r.tf){r.Hn[l.data.Nt]=l.data.Va;var R=new jJ(k.E.b);R.data={q:k.L.lN,au:is.pe};
this.A(R)}}if(D==k.L.afo){var u=this.W1(),P="<!DOCTYPE HTML>";if(u==null)return;var b=fj.f1(u.zG().buffer,u.Q,u._),e=window.open();
P+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";P+="<body><img src=\""+b+"\" /></body>";
P+="</html>";e.document.write(P)}if(D==k.L.DG){if(this.Re("publishOnline"))return;var L=l.data.Fp=="jpg"||l.data.Fp=="png",u=this.W1();
if(u==null)return;if(!L&&u.Br)return;var o="Your "+(L?"picture":"document")+" will be published at "+(L?"Imgur":["Photo","Vector"][a8]+"pea")+".com under a public URL (known only to you). Proceed?";
if(!L)o+=" We guarantee 6+ months of storage.";var Y=l.data.fF?!0:confirm(o);if(Y){if(l.data.Fp=="psd"){var R=new jJ(k.E.r,!0);
R.S=p.wU;R.data={q:d._R};this.A(R);var X=new gt(0,0,u.Q,u._);for(var v=0;v<u.R.length;v++){var h=u.R[v];
if(h.rect.lh()||h.Cl()||h.KQ()||h.AN()||h.RR()||h.add.TySh||h.add.vmsk||h.add.SoLd)continue;var G=X.$o(h.rect);
if(!G.kn(h.rect)&&!G.lh()){var E=g.o(G.c()*4);g.Qo(h.buffer,h.rect,E,G);h.buffer=E;h.rect=G}if(!g.q$(h.buffer,h.rect.Q,h.rect._))continue;
var T=h.zd(),y=h.opacity,d4=h.TY,dH=h.vN;h.rm(!0);h.opacity=255;h.TY="norm";u.T=[v];R.data={q:d.DC,Fp:"jpg"};
this.A(R);var eV=u.R[v];h.rm(T);eV.rm(T);h.opacity=eV.opacity=y;h.TY=eV.TY=d4,h.vN=eV.vN=dH}}if(u.aR){u.dh()}var bf=u.Q,jd=u._,i5=l.data.apJ,fD;
if(i5)while(Math.max(bf,jd)>i5){bf=bf>>>1;jd=jd>>>1}console.log(bf,jd);if(l.data.Fp=="psd")fD=fj._Q(u,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(l.data.Fp=="ai")fD=fj._Q(u,"ai");else if(l.data.Fp=="png")fD=fj._Q(u,"png",bf,jd);else{var eo=fj._Q(u,"png",bf,jd),iX=fj._Q(u,"jpg",bf,jd);
fD=eo.byteLength<iX.byteLength?eo:iX}if(l.data.fF==null)l.data.fF=function(jo){var co=L?jo:"https://www."+["photo","vector"][a8]+"pea.com/#i"+jo,R=new jJ(k.E.b);
R.data={q:k.L.E1,mg:"linkview",aDU:co};this.A(R)}.bind(this);if(L)iT.a2V(fD,l.data.fF);else this.jK.aaM(fD,u.name,l.data.fF,"psdshared")}}if(D==k.L.D9){var u=this.W1(),cK=!1;
if(u==null)return;if(u.aR){u.dh()}if(l.data.zI){if(!this.p3(u,l.data.zI))return;var S=fh.ag7(u,l.data.zI,this.Pk);
this.v3(S);cK=!0}else if(u.jn){if(this.GX.indexOf(u.jn.vr)!=-1){var S=new Uint8Array(fj.rU("PSD").MJ(u,null,null,[!0,!1])),R=new jJ(k.E.r,!0);
R.data={q:d.lH,nL:u.jn.vr,data:S,id:u.jn.ah5,_h:u.name};R.S=p.wU;this.A(R);alert("Smart Object updated")}cK=!0}else if(this.Re("save")){cK=!0}else if(u.Pl){fh.a56(u);
cK=!0}else if(u.RB){var g0=fh.a9z(u);if(g0==1){alert("Already saving another file. Try again later.");
return}cK=!0}else if(u.BL&&u.BL.wQ){if(!this.p3(u,u.BL.wQ.formats))return;this.jK.am1(u,this.Pk,fh.asE);
cK=!0}else if(u.lM&&(a8==0&&"psd jpg png gif webp svg bmp".split(" ").indexOf(u.WW)!=-1||a8==1&&u.WW=="ai")){this.a5s();
return}if(cK){u.$i=u.IL;u.Z6=Date.now();u.st=!0}else{var R=new jJ(k.E.b,!0);R.data={q:k.L.KC};this.A(R)}}if(D==k.L.KC){if(!this.Pk.a3){alert("function is disabled");
return}if(this.Re("saveAsPSD"))return;var u=this.W1();if(u==null)return;if(!this.p3(u))return;var R=new jJ(k.E.r,!0);
R.data={q:d._R};R.S=p.wU;this.A(R);var bW=u.R.length,hF="Your document has "+u.R.length+" layers.";if(bW>1<<15){alert(hF+" PSD files can have up to "+(1<<15)+" layers.",5e3);
return}if(bW>8e3&&!confirm(hF+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var aJ={zh:[]};u.root.a2M([],aJ);var iR=aJ.zh;if(iR.length>11&&!confirm("One layer is nested "+(iR.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+iR.join(" \uD83E\uDC1A ")+"."))return;
var ex=window.showSaveFilePicker;if(window.parent!=window)ex=null;if(ex&&!l.data.akv){var dX={suggestedName:u.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
ex(dX).then(function(l){u.lM=l;u.name=l.name;u.LD=!0;u.WW="psd";this.a5s()}.bind(this));return}var iZ=window.gtag;
if(u.Vg()&&iZ)iZ("event",u.WW+":"+M.nt(eJ.lu()?"\"'|('61":"w'| "),{event_category:"Formats"});if(u.aR){u.dh()}var j3=a8==0?"PSD":"AI",by=fj.rU(j3);
eJ.event("efmt_"+j3.toLowerCase(),.1);if(l.data.akv){var S=u.WW=="psd"?by.MJ(u):fh.MX(u,u.WW,this.Pk);
this.a5q(S,u,this)}else{var S=by.MJ(u);iT.save(S,u.name);u.$i=u.IL;u.Z6=Date.now();u.st=!0}}if(D==k.L.Gv)window.open(l.data.link,"_blank");
if(D==k.L.am4){if(this.UJ.Iu()){this.a2x();return}var u=this.W1(),h=u.R[u.T[0]],_=u.qH(h.add.SoLd.Idnt.v);
for(var v=0;v<this.GX.length;v++){var i9=this.GX[v].jn;if(i9!=null&&i9.ah5==_.Vj&&i9.vr==u){this.XC.eV(v);
return}}iT.MA({name:_._h,jn:{ah5:h.add.SoLd.Idnt.v,vr:u}},_.raw.buffer,this)}if(D==k.L.a4x){var u=this.W1(),h=u.R[u.T[0]],_=u.qH(h.add.SoLd.Idnt.v);
iT.save(_.raw.buffer,_._h)}if(D==k.L.a7F){console.log(l.data);iT.MA({name:l.data.RB[1].split("/").pop(),RB:l.data.RB},l.data.L0,this)}if(D==k.L.arC){var u=this.W1();
u.RB=l.data.RB;u.name=u.RB[1].split("/").pop();var R=new jJ(k.E.b);R.data={q:k.L.D9};this.A(R)}if(D==k.L.js){this.ajA()}if(D==k.L.T0){this.aAW(l.data.jM,l.data.It,l.data.u1)}if(D==k.L.ZZ){this.aBl(l.data.aBr,l.data.aco,l.data.u1)}if(D==k.L.ath){var dm=l.data.P;
if(this.Pk.Bq==p.gg&&this.fX().Iu()){var R=new jJ(k.E.r,!0);R.S=p.gg;R.data={q:"insertText",P:dm};this.A(R);
return}if(dm.startsWith("vcb;")){var kh=JSON.parse(dm.slice(4));kh[0]=dV.adu(kh[0]);var R=new jJ(k.E.r,!0);
R.S=p.md;R.data={q:"append",ND:"Paste Paths",aCg:kh};this.A(R)}else if(dm.startsWith("lrs;")){var bd=dm.split(";"),dz=this.GX[parseInt(bd[1])];
if(dz==null)return;var dw=this.W1(),ev=dz.T;dz.T=JSON.parse(bd[2]);var aq=dz.OS(null,dz!=dw);dz.T=ev;
var R=new jJ(k.E.r,!0);R.data={q:d.Di,R:aq,vr:dz,YH:dw};R.S=p.wU;this.A(R)}else if(dm.startsWith("<!--")||dm.startsWith("<svg")){var e3=x.fe(dm),a9=fj.rU("svg"),F=new f9("image.psd");
a9.Zk(e3.buffer,F);if(this.GX.length!=0){var e0=F.R;if(e0.length==3&&e0[0].getName()=="</Layer group>"&&e0[2].Cl())e0=[e0[1]];
var R=new jJ(k.E.r,!0);R.S=p.wU;R.data={q:d.Di,R:e0,vr:F,YH:this.W1()};this.A(R)}else this.aoJ(F)}}if(D==k.L.BS){kI.aq(l.data.v_,this)}if(D==k.L.U_){if(window.parent!=window)window.parent.postMessage(l.data.au,"*");
this.Iv.i2(l.data.au)}if(D==k.L.Ak){var as=parseFloat(l.data.mg);if(this.Pk.Co.indexOf(as)==-1){var R=new jJ(k.E.b,!0);
R.data={q:k.L.lN,au:is.YL,P:as,BL:"add"};this.A(R)}this.Iv.ag3(l.data.mg)}if(D==k.L.qu){this.XX.auo(this.W1(),this.Pk)}if(D==k.L.E1){var eK="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var v=0;v<eK.length;v+=2)if(l.data.mg==eK[v]&&this.Re(eK[v+1]))return;if(!this.Pk.a3&&l.data.window=="saveforweb"){alert("function is disabled");
return}this.UJ.aEw(l.data.mg,this.W1(),l.data,this.GX,this.iU)}if(D==k.L.r1)iT.save(l.data.data,l.data.name);
if(D==k.L.r8){if(!this.UJ.Iu()||l.iy)this.aoJ(l.data.nL)}if(D==k.L.VI){this.XC.eV(l.data.target);var R=new jJ(k.E.r,!0);
R.data={q:d.a1R,nL:l.data.nL,Uj:l.data.Uj,LX:l.data.LX};R.S=p.wU;this.A(R);this.Zy(p.rk)}if(D==k.L.aCK){kx.X7=!kx.X7;
if(this.GX.length>0)this.W1().V()}if(D==k.L.a33){var gh=eJ.A2();if(gh!=null&&gh.globals!=null)this.D5(gh.globals);
this.Q8()}if(D==k.L.dd){this.jK.zT(l.data.data,null,l.data.Fx,l.data.CJ,l.data.aw7)}if(D==k.L.BC){var gx=this.fX();
if(!this.UJ.Fr()!=null)this.Zy(l.data.S,l.data.Bt);var gc=this.fX();if(gc!=gx&&l.data.aag)gc.GE(this.W1(),this,this.Pk,this.iU,this.e_)}if(D==k.L.Zp){if(this.p.Lm)this.Zy(this.p.Lm)}if(D==k.L.vI){var kQ=this.p.map[l.data.S].S,u=this.W1();
kQ.hy(l.data,this,u,this.iU,this.Pk);if(u)u.aH=!0;this.azF()}if(D==k.L.BQ){var dn=this.p.map[l.data.S];
this.aCT(dn);dn.uj.xM(l.data)}if(D==k.L.lN){var u=this.W1(),bQ,iK=!(u&&u.T.length!=0&&u.R[u.T[0]].add.TySh),cJ=l.data.au,i1=l.data.Pv,bu=this.Pk;
if(l.data.BL=="set"){var gc=p.AW[i1[1].classID];if(bu.Bq!=gc)this.Zy(gc);this.p.map[gc].uj.ahU(i1,bu)}if(l.data.BL=="add"){var $=is.wx[cJ];
if(cJ==is.YL){bu.Co.push(l.data.P);bu.Co.sort(function(jo,co){return jo-co})}else if($==null){if(i1)bu.uh.akM(i1,l.data.akx);
if(u)u.st=!0}else{var gi=this.sC(cJ);if(cJ==is.ON){gi.b9=gi.b9.concat(i1.b9);gi.N8=gi.N8.concat(i1.N8);
gi=gi.list;i1=i1.list}if(cJ==is.E9&&u){for(var v=0;v<i1.length;v++){var j=i1[v].yO.Lefx;if(j)cN.amB(j,u,bu.hj)}}if(cJ==is.p2&&i1==null){var F=this.p.map[bu.Bq].uj.a9L();
if(F==null)return;i1=[F]}for(var v=0;v<i1.length;v++)gi.push(i1[v]);if(cJ==is.ke){var iv={};for(var v=0;
v<gi.length;v++){var d0=gi[v].Yd;while(iv[d0]!=null)d0=gi[v].Yd=d0+"X";iv[d0]=!0}}if(l.data.akx!=!0)if(gi.length!=i1.length||cJ==is.UB||cJ==is.E9||cJ==is.ha||cJ==is.r)alert(cU.get($[3])+" "+cU.get([23,1])+".")}}if(l.data.BL=="del"){if(cJ==is.YL){bu.Co.splice(bu.Co.indexOf(l.data.P),1)}else{var $=is.wx[cJ],A=l.data.QE,gi=this.sC(cJ);
if(cJ==is.ON)gi=gi.list;for(var v=0;v<A.length;v++)gi[A[v]]=null;for(var v=0;v<gi.length;v++)if(gi[v]==null){gi.splice(v,1);
v--}alert(cU.get($[3])+" deleted.")}}if(l.data.BL=="rnm"){var $=is.wx[cJ],gi=this.sC(cJ);if(cJ==is.ON)gi=gi.list;
if(gi[l.data.QE[0]]==null)return;$[2].nT(gi[l.data.QE[0]],(l.data.er?l.data.er:"")+l.data.P)}if(cJ==is.Eq){var af=l.data.P;
bu.tJ=af;bu.aBD[af.hM]=af.E6}if(cJ==is.J0){var af=l.data.P;bu.K_=JSON.parse(JSON.stringify(af));var eY=cq.TW(af);
bu.a9w[eY.hM]=eY.E6}if(cJ==is.ni){bu.o4=l.data.P}if(cJ==is.Ep){bu.Vt=l.data.P}if(cJ==is.MV){bu.Hv=l.data.Hv;
var hV=bu.Hv.i7.FillColor;if(iK&&hV){var i$=hV.Values,cz={$:i$[1]*255,H:i$[2]*255,J:i$[3]*255},fk=g.V$(cz);
if(bu.Os!=fk){bu.Os=fk;bQ=is.rY}}}if(cJ==is._b){var E=JSON.parse(JSON.stringify(l.data.by)),ee=E.useBrushSize;
if(ee&&ee.v){E.Brsh.v.Dmtr.v.val=bu.YQ.Wj.Brsh.v.Dmtr.v.val;ee.v=!1}bu.YQ.Wj=E;var aC={vS:"select",M1:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:E.Nm.v.split("/").pop()}}]}}},dn=this.fX();
dn.LO=this;dn.track(aC)}if(cJ==is.ml){bu.U5=l.data.zc}if(cJ==is.mG){bu.Pv=l.data.zc}if(cJ==is.rY){var aC,cI="Clrs";
if(l.data.i6<2){var cZ=l.data.P,ad=l.data.i6==0,j0=g.G.XF(g.kJ(cZ));if(ad)bu.Os=cZ;else bu.qg=cZ;cI=ad?"FrgC":"BckC";
aC={vS:"set",M1:{__name:"Set",classID:"setd",T:{t:"Objc",v:j0}}}}if(l.data.i6==2){var cX=bu.Os;bu.Os=bu.qg;
bu.qg=cX;aC={vS:"exchange",M1:{__name:"Exchange",classID:"Exch"}}}if(l.data.i6==3){bu.Os=0;bu.qg=16777215;
if(u!=null&&u.T.length!=0&&u.R[u.T[0]].Ih==1){var cX=bu.Os;bu.Os=bu.qg;bu.qg=cX}aC={vS:"reset",M1:{__name:"Reset",classID:"Rset"}}}if(aC){aC.M1.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:cI}}]};
var dn=this.fX();dn.LO=this;dn.track(aC)}var hV=bu.Hv.i7.FillColor;if(iK&&hV){var bY=g.kJ(bu.Os),io=[1,bY.$/255,bY.H/255,bY.J/255];
if(io.join(",")!=hV.Values.join(",")){hV.Values=io;bQ=is.MV}}}if(cJ==is.nq){bu.QC=!bu.QC;this.ZJ()}if(cJ==is.a7){bu.bX=!bu.bX;
this.ZJ()}var et=bu.og;if(cJ==is.YY){et.oF=!et.oF;this.ZJ()}if(cJ==is.uw){et.sS=!et.sS;this.ZJ()}if(cJ==is.L_){et.oJ=!et.oJ;
this.ZJ()}if(cJ==is.Go){et.yc=!et.yc;this.ZJ()}if(cJ==is.MU){et.cD=!et.cD;this.ZJ()}if(cJ==is.s2){et.n0=!et.n0;
this.ZJ()}if(cJ==is.HK){bu.og=l.data.zc;this.ZJ()}if(cJ==is.a7E){bu.Je=!bu.Je;this.ZJ()}if(cJ==is.VL){bu.mf[l.data.ZG]=!bu.mf[l.data.ZG];
this.ZJ()}if(cJ==is.Tj){cU.aCi(l.data.lang,this.Nr)}if(cJ==is.TF){bu.NP=l.data.NP;this.k()}if(cJ==is.pe&&bu.Yt.tf){var dR=bu.Yt.tf.transaction(["rsrc"],"readwrite").objectStore("rsrc"),dZ={k:"fs0",fset:bu.Yt.Hn};
if(l.data.ajI)dZ={k:bu.Yt.id,fset:bu.Yt.x5};var jh=Object.keys(dZ.fset).length==0?dR.delete(dZ.k):dR.put(dZ);
jh.onerror=function(l){console.log(l);alert("Storing failed. Browser says: "+l.target.error.message,7e3)}}this.ek(cJ);
if(bQ)this.ek(bQ)}};a4.prototype.a5s=function(){var l=new jJ(k.E.b,!0);l.data={q:k.L.AV,JS:"Saving ..."};
this.A(l);setTimeout(function(){var l=new jJ(k.E.b,!0);l.data={q:k.L.KC,akv:!0};this.A(l)}.bind(this),20)};
a4.prototype.a5q=function(l,o){o.lM.createWritable().then(function(D){D.write(l);return D}).then(function(D){return D.close()}).then(function(D){o.$i=o.IL;
o.Z6=Date.now();o.st=!0;var H=new jJ(k.E.b,!0);H.data={q:k.L.lL,JS:"Saving ..."};this.A(H)}.bind(this)).catch(function(D){var H=new jJ(k.E.b,!0);
H.data={q:k.L.lL,JS:"Saving ..."};this.A(H)}.bind(this))};a4.prototype.avM=function(){var l=this.Pk,o=l.Pv,D=l.a01;
for(var v=0;v<o.length;v++){var H=o[v];if(D[H])continue;D[H]=!0;this.jK.Wa(H,!1,!0)}};a4.prototype.aCq=function(){this.k();
this.ZJ()};a4.prototype.Re=function(l){var o=this.Pk.ZR[l];if(o){var D=new jJ(k.E.b,!0);D.data={q:k.L.BS,v_:o};
this.A(D)}return o!=null};a4.prototype.p3=function(l,o){var D=!0,S=15;if(o){D=!1;for(var v=0;v<o.length;
v++)if(o[v].startsWith(M.eI("__M")))D=!0}var H=l.Vg()||l.jn&&l.jn.vr.Vg();if(this.tz())H=!1;var _=new M.T1[e2.UR],u=(_[M.nt("xy,b-66:")]()&1)*60+_[M.eI("VQ]3LNRN<G")]();
if(H&&!eJ.lu()&&u>S&&D){var h=M.T1[M.nt("}$z{2*35")][M.nt("y'|!")],F=M.eI("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
F+="\n\n"+M.eI("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-u+120)+M.eI("nYRTXTBMd");
if(h.indexOf(M.nt("\"|'/-1)(W0?@"))==-1)F=cU.get([0,11+6,3+2]);M.T1._cwY(F);return!1}return!0};a4.prototype.sC=function(l){var o=this.Pk,D=[is.ON,is.z1,is.x8,is.ha,is.om,is.ke,is.E9,is.UB,is.r,is.p2,is.Ln],H=[o.YQ,o.h5,o.bw,o.h2,o.hj,o.To,o.YT,o.a13,o.Pg,o.xE,o.aaT];
return H[D.indexOf(l)]};a4.prototype.ajA=function(){var l=this.aAW(),o=this.W1();if(o==null||o.T.length==0)return;
var D=o.R[o.T[0]],H=new jJ(k.E.r);if(l==1){H.S=p.md;H.data={q:"remove",ND:"Cut Paths"}}else{H=new jJ(k.E.yT);
H.data={vS:"delete"}}this.A(H)};a4.prototype.aAW=function(l,o,D){if(l==null)l=!1;var H=this.Pk;console.log("doCopy",l,o);
var _=this.W1();if(H.Bq==p.gg&&this.fX().Iu()){var u=new jJ(k.E.r,!0);u.S=p.gg;u.data={q:"copyText"};
this.A(u);return}if(_==null||_.T.length==0&&!l)return;var S=_.R[o==null?_.T[0]:o],h=_.CS(),F=h[0],n=h[1],R=F[n[0]];
if(!l&&R!=null&&R.add.vmsk.T.length!=0){var s=p.dG.uU(R.add.vmsk,R.add.vogk);if(M.gL()){s[0]=dV.ayK(s[0]);
var Z="vcb;"+JSON.stringify(s);iT.ah(new Blob([Z],{type:"text/plain"}))}else H.bG=s;return 1}else if(_.f==null){if(M.gL()){var Z="lrs;"+this.GX.indexOf(_)+";"+JSON.stringify(_.T);
iT.ah(new Blob([Z],{type:"text/plain"}))}}else{var O,w;if(l){var m=new gt(0,0,_.Q,_._);w=m.$o(_.f.rect);
O=g.o(w.c()*4);g.Qo(_.zG(),m,O,w);g._c(_.f.channel,_.f.rect,O,w)}else if(_.q0.length!=0){w=_.f.rect.clone();
O=g.o(w.c()*4);var V=_.Lx[_.q0[0]],q=V.C7(w);g.rT(q,O);g.Kl(_.f.channel,O,3)}else{var i=S.Gw(_,_.f);
if(i==null){alert("Copied area is empty");return}O=i.L0;w=i.rect}var c=_.w.N,z=c[0]+c[1]+c[2];if(z==1){var B=c.indexOf(1);
for(var v=0;v<O.length;v+=4)O[v]=O[v+1]=O[v+2]=O[v+B]}var t=new he(_.Q,_._);if(M.gL()&&D!=!0){var a=fj.rU("PNG").az3(O.buffer,w.Q,w._);
iT.ah(new Blob([new Uint8Array(a)],{type:"image/png"}));this.aiP={hR:w,uz:t}}else H.VY={buffer:O,rect:w,uz:t};
H.auW=w.clone();H.bG=null}};a4.prototype.aBl=function(l,o,D){if(o)this.auf=!0;console.log("doPaste");
var H=this.Pk,_=H.VY,F;if(this.GX.length==0){if(!l&&M.gL()){iT.Zd(this,null);return}if(_){var u=fj.Ns("image.psd",[{data:_.buffer.buffer,jH:_.rect}]),S=new jJ(k.E.b);
S.data={q:k.L.r8,nL:u};this.A(S)}return}var u=this.W1();if(H.Bq==p.gg&&this.fX().Iu()){iT.Zd(this,null);
return}var h=u.R[u.T.length==0?u.R.length-1:u.T[0]];if(H.bG){var n=u.CS(!0),R=n[0],s=n[1];F=R[s[0]]}var S=new jJ(k.E.r,!0);
if(H.bG!=null&&F!=null){S.S=p.md;S.data={q:"append",ND:"Paste Paths",aCg:H.bG}}else if(!l&&M.gL()&&D!=!0){iT.Zd(this,this.aAc.bind(this));
return}else{if(_==null)return;if(u.o_(!1)&&(u.w.N.join("")!="111"||u.q0.length!=0||h.Ih>0||h.rect.lh())){S.S=p.ON;
S.data={q:"draw",ak0:!0,ND:[5,2]}}else{S.S=p.wU;S.data={q:d.sL,a3i:this.auf};this.auf=!1}S.data.VY=_}this.A(S)};
a4.prototype.aCa=function(){var l=this.Pk.uh;if(l.ake())return;for(var v=0;v<this.GX.length;v++){var o=this.GX[v];
if(!dr.XV(o,l,this))continue;if(o.hU)dr.TJ(o,l,this);var D=o.add.lnk2;if(D)for(var H=0;H<D.length;H++){var _=D[H];
if(_.hU)p.yZ.HS(o,_.Vj,_.f2[1],_.f2[1],l)}if(o.a9c)continue;o.a9c=!0;if(o.BL&&o.BL.aiL)kI.aq(o.BL.aiL,this);
this.v3();var u=new jJ(k.E.r);u.S=p.wU;u.data={q:d.ui};var S=new jJ(k.E.b);S.data={q:k.L.Ak,mg:j4.nC.a7f};
S.data={q:k.L.E1,mg:"saveforweb",Fp:0,index:[10,0]}}};a4.prototype.ek=function(l){this.avM();var o=this.Pk,D=o.Bq,h=!1;
if(l==is._b){if(this.p.map[D].uj)this.p.map[D].uj.Ip(o,l)}else for(var H in this.p.map)if(this.p.map[H].uj)this.p.map[H].uj.Ip(o,l);
if(l==is.Oe){if(D!=p.gg)this.p.map[p.gg].S.Ip(o,l);this.aCa()}this.XC.Ip(o,l);this.YA.Ip(o,l);this.UJ.Ip(o,l);
if(a8==1&&l==is.ni){var _=new jJ(k.E.r,!0);_.S=p.wU;_.data={q:d.S6};this.A(_)}else this.fX().Ip(o,l);
this.Iv.Ip(o,l);this.mD.Ip(o,l);if(a8==1)this.Gz.Ip(o,l);if(l==is.TF||l==is.CV){gp.arm(o.NP);this.update(!0)}var u=o.Hv,S=u.i7.Font;
if(l==is.MV&&S!=null&&u.LJ[S].Name!=o.font){o.font=u.LJ[S].Name;h=!0}if([is.YL,is.ml,is.mG,is.rY,is.nq,is.a7,is.HK,is.L_,is.Go,is.YY,is.uw,is.MU,is.s2,is.Tj,is.TF].indexOf(l)!=-1||h)this.azF()};
a4.prototype.azF=function(){if(!this.Rg)return;var l={},o=this.p.map;for(var D in o){var H=o[D].S;if(H.DJ&&H.DJ()!=null)l["t"+D]=H.DJ()}var _=this.Pk,u=_.og,S={guides:u.oJ,grid:u.yc,sels:u.oF,paths:u.sS,pgrid:u.cD,slices:u.n0,gsize:parseFloat(u.Aq.toFixed(2)),gunits:u.EG,gtype:u.ki,runits:u.wc};
if(u.xm!=8421504)S.gcol=u.xm;if(u.Pe!=65535)S.gucol=u.Pe;if(u.VF!=33023)S.glcol=u.VF;var h={fcolor:_.Os,bcolor:_.qg,rulers:_.QC,extras:_.bX,favFam:_.U5,rsrc:_.Pv,panels:_.Co,eparams:S,lang:cU.a8j(),theme:_.NP,as:_.gD,co:_.wV,topt:l};
if(_.font!=null)h.font=_.font;var F=eJ.A2();if(F==null)F={};F.globals=h;eJ.h0(F)};a4.prototype.rB=function(l){var o=this.iU,D=this.e_,H=this.Pk.Bq,_=this.p.map[H].S,u=null,S=!1;
for(var v=0;v<this.p.asB.length;v++){var h=this.p.asB[v],F=!0;for(var n=0;n<h.Ui.length;n++){var R=h.Ui[n];
if(!o.W(R))F=!1}if(F&&(!h.x$||!_.Iu())&&(h.bS==null||h.bS.indexOf(H)!=-1)){u=h.S;S=h.x$;break}}if((!D.gz||H==p.Ii||l)&&this.p.wz!=u&&(u!=H||!S)){var s=this.W1();
if(this.p.wz!=null&&u==null)this.fX().disable(s,this,this.Pk,o,!0);this.p.wz=u;this.fX().enable(s,this,this.Pk,o,u!=null&&u!=H)}};
a4.prototype.Io=function(l){var o=this.Pk.Bq,D=this.W1();if(o!=null){this.p.map[o].S.disable(D,this,this.Pk,this.iU)}};
a4.prototype.aCT=function(l){if(l.uj==null){l.uj=new l.hV(l.S.id);l.uj.a2I(l.S.id,l.S.M$);l.uj.Ip(this.Pk,is.CV);
l.uj.k()}};a4.prototype.Zy=function(l,o){if(l==p.rk&&this.UJ.Fr())return;var D=this.W1(),H=this.Pk;if(this.p.map[l].S.Pc(D,H,o)){this.Io();
if(l!=H.Bq)this.p.Lm=H.Bq?H.Bq:p.e5;H.Bq=l;this.YA.Zy(H.Bq);var _=this.p.map[l];this.p.fj[_.ln]=_.abe;
this.aCT(_);this.Jf.axe(a8==0?_.uj:this.Gz);var u=_.S;u.enable(D,this,this.Pk,this.iU,!1,o);if(D)D.aH=!0;
this.ZJ();this.JQ.au$()}};a4.prototype.fX=function(l){var o=this.p,D=o.AX,H=o.wz,_=this.Pk.Bq;if(D)_=D;
else if(H&&l==null)_=H;return o.map[_].S};a4.prototype.aoJ=function(l){var o=this.Pk,D=this.GX.indexOf(l);
if(D!=-1){this.XC.eV(D);return}if(this.W$&&(l.BL==null||l.BL.wQ==null)){l.BL={wQ:this.W$}}if(l.ti==null){l.ti="local,"+this.aqc+","+l.name;
this.aqc++}l.Z6=Date.now();if(a8==1&&l.add.arts==null)l.azh();if(hP.rG()!=0&&!this.a3Q&&M.T1[M.nt("t$&!'31")].toString().indexOf(M.nt(" u,$4&"))==-1){alert(M.nt("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var v=0;v<l.R.length;v++){var H=l.R[v];if(H.add.SoLd!=null){var _=Date.now()}}var u=l.R.length,S=e2.J$(),h=Math.PI*(6550<<14)+(M.Nf(31)?20:10)*7e7;
if(S>h){var u=l.R.length;l.R=[];return u}if(kx.X7){kx.DP(Math.max(l.Q,l._));for(var v=0;v<l.R.length;
v++){var H=l.R[v];if(H.mF())kx.DP(Math.max(H.rect.Q,H.rect._))}}l.Vr();l.Ou();if(l.af$)l.axm();else l.V();
l.af$=!1;this.GX.push(l);this.XC._t(new hf(l));l.aH=!0;l.st=!0;this.aCa();var F=new jJ(k.E.r);F.S=p.xw;
F.data={q:"auto",AQ:2}};a4.prototype.W1=function(){return this.GX[this.vy]};a4.prototype.ajk=function(){return this.UJ.Fr()==null};
a4.prototype.V6=function(l,o){this.Io();var D=this.GX.length;if(o!=null)this.XC.eV((this.XC.S4()+o+D)%D);
this.vy=this.XC.S4();var H=this.W1();this.mD.gf(H,this.Pk);if(a8==1)this.Gz.gf(H,this.Pk);this.Iv.my(H,this.GX,this.Pk);
this.ZJ();if(H)H.aH=!0};a4.prototype.alV=function(l){this.Io();var o=this.GX,D=o[l.data.QW];o.splice(l.data.QW,1);
if(o.length==0){this.V6(l);var H=kx.WG(),_=hf.g8.eX;if(H.parentNode)H.parentNode.removeChild(H);if(_.parentNode)_.parentNode.removeChild(_)}this.ay$(D.name)};
a4.prototype.ay$=function(l){var o=this.Pk.Yt,D=!1;if(o.tf==null)return;for(var H in o.x5){if(l==null||H==l){delete o.x5[H];
D=!0}}if(D){var _=new jJ(k.E.b);_.data={q:k.L.lN,au:is.pe,ajI:!0};this.A(_)}};a4.prototype.a2K=function(l){var o=[],D=l.data.a0$;
for(var v=0;v<D.length;v++)o[v]=this.GX[D[v]];this.GX=o;this.vy=this.XC.S4()};a4.prototype.akf=function(l){var o=this.XC,D=o.adJ(),H=this.fX(),_=this.W1();
if(D==o.S4()||!H.atk())return;this.amq(D,H)};a4.prototype.amq=function(l,o){console.log("dup2doc");var D=this.Pk,H=this.XC,_=this.W1(),u=this.GX[l],S,h=new jJ(k.E.r,!0);
h.S=p.wU;if(_.f==null){h.data={q:d.Di,R:_.OS(null,!0),vr:_,YH:u,a4a:o==null};this.A(h)}else S=_.R[_.T[0]].Gw(_,_.f);
var F=this.e_,n=D.QC;D.QC=!1;F=_.w.vp(F.x,F.y);if(o)o.$t(_,this,D,this.iU);H.eV(l);if(_.f){h.data={q:d.sL,VY:{buffer:S.L0,rect:S.rect}};
this.A(h)}F=u.w.zp(F.x,F.y);if(o)o.GE(u,this,D,this.iU,F);D.QC=n};a4.prototype.az9=function(l){var o=this.W1(),D=this.iU,H=this.Pk,_=l.cW;
if(_)this.e_=_;if(_)_.y-=H.wV;if(this.yy==null)this.yy=0;if(l.action=="multidown"){this.Vh=l.sh.length;
this.yy=Date.now()}if(l.action=="up"&&Date.now()-this.yy<100){var u=new jJ(k.E.r);u.S=p.zo;u.data={q:this.Vh==2?"h_stepbck":"h_stepfwd"};
this.A(u)}if(l.action.startsWith("multi")){var S=new jJ(k.E.r,!0);S.data={q:l.action,sh:l.sh};S.S=p.Nk;
this.A(S);return}var h=this.p.map[p.e5].S;if((l.action=="down"||l.action=="rdown")&&H.Bq!=p.e5&&this.p.wz!=p.e5&&h.avk(o,this,H,D,_)){this.p.AX=p.e5;
h.enable(o,this,H,D,!0)}if(l.action=="idown"){D.Ew("Space");this.rB(!0);l.action="down"}var F=this.UJ.Fr(),n=F!=null&&F.hS()&&this.p.wz==null?F:this.fX();
if(l.action=="scroll"){var R=!D.W(e_.Cm)&&l.pb,S=new jJ(k.E.r,!0);S.data={q:"scroll",Ek:l.Ek.clone(),cW:_,ahn:R};
S.S=D.W(e_.zg)||R?p.Nk:p.ap;this.A(S)}if(F!=null&&n!=F&&this.UJ.Iu()&&n.id!=p.ap&&n.id!=p.Nk)return;
if(l.action=="down")n.GE(o,this,H,D,_);if(l.action=="rdown")n.Il(o,this,H,D,_);if(l.action=="move")n.XR(o,this,H,D,_);
if(l.action=="up"||l.action=="iup"||l.action=="cancellast")n.Jm(o,this,H,D,_,l.action=="cancellast");
if(l.action=="rup")n.p0(o,this,H,D,_);if(l.action=="iup"){D.tp("Space");this.rB(!0)}if(l.action=="cancellast"){if(o&&o.history.length!=0&&Date.now()-o.history[o.history.length-1].amJ<200){var u=new jJ(k.E.r);
u.S=p.zo;u.data={q:"h_stepbck"};this.A(u)}}var s=this.Iv;if(l.action=="down")s.GE(o,this,H,D,_);if(l.action=="move")s.XR(o,this,H,D,_);
if(l.action=="up")s.Jm(o,this,H,D,_);if(l.action=="down"||l.action=="up"){this.rB()}if(l.action=="down"||l.action=="up"||l.action=="ctx"){o.aH=!0}if((l.action=="up"||l.action=="rup")&&this.p.AX){this.p.AX=null;
h.disable(o,this,H,D)}};a4.prototype.Gy=function(l){var o=this.W1(),D=this.e_;if(o&&this.fX().tT(D,this.iU)){var H=o.w,_=H.T3.Q,u=H.T3._,S=0,h=0,F=16;
if(D.x<F)S=F-D.x;if(D.x>_-F)S=D.x-(_-F);if(D.y<F)h=F-D.y;if(D.y>u-F)h=D.y-(u-F);var n=this.iU.W(e_.eo)?8:1;
if((S!=0||h!=0)&&(o.Q*H.F>_||o._*H.F>u)){S=Math.min(5,S*.5)*n;h=Math.min(5,h*.5)*n;if(D.x>F)S=-S;if(D.y>F)h=-h;
H.i.x+=S;H.i.y+=h;this.az9({cW:this.e_,action:"move"});o.LD=!0}}this.update()};a4.prototype.update=function(l){var o=this.W1();
if(o==null)return;if(a8!=0){if(o.buffer)throw"e"}if(o.aH){var D=this.p.map;for(var H in D){if(D[H].S.lx)D[H].S.lx(o,this,this.Pk,this.iU)}if(a8==1){D[p.OR].S.lx(o,this,this.Pk,this.iU,!0)}}if(o.aR&&a8==0)if(kx.X7)kx.DP(Math.max(o.Q,o._));
if(o.aR&&a8==0){o.dh()}var _=o.w,u=this.RF,S=this.RF=Date.now();if(o.aR||o.RW||o.st||o.LD||l||_.gS!=_.F||!_.dK.kn(_.i)){var h=_.gS;
if(_.gS!=_.F){var F=p._1.a10(_.F,_.gS>_.F),n=.12;if(_.gS<_.F&&_.gS<F)_.gS=F;if(_.gS>_.F&&_.gS>F)_.gS=F;
var R=Math.abs(_.F-F)*(S-u)*.001/n;if(_.gS<_.F)_.gS=Math.min(_.F,_.gS+R);else _.gS=Math.max(_.F,_.gS-R)}var s=h==_.F?0:(_.gS-_.F)/(h-_.F);
_.dK.x=_.i.x+s*(_.dK.x-_.i.x);_.dK.y=_.i.y+s*(_.dK.y-_.i.y);this.XC.Ip(this.Pk,null);this.XC.my(o,this.GX)}if((o.aR||o.LD||o.aH)&&(!this.e_.gz||o.m$)){if(o.aH)o.Ou();
this.Iv.my(o,this.GX,this.Pk);this.YA.aax(o,this.iU);if(a8==1)this.Gz.my(o);o.$r=!1}o.m$=!1;o.aH=!1;
o.aR=null;o.RW=o.st=o.LD=!1};a4.prototype.op=function(l){var o=l.target.tagName.toLowerCase(),D=l.target.getAttribute("type"),H=e_,_=H.MY(l.code,H.PA);
if(!((o=="input"||o=="select"||o=="button")&&H.MY(l.code,H.CZ))){if(H.y0(l)&&o!="select"){l.preventDefault()}this.iU.Ew(H.Tz(l));
this.WP("down")}};a4.prototype.Gb=function(l){if(l.key==" ")this.iU.uk();if(e_.MY(l.code,e_.rW))this.iU.reset();
this.iU.tp(e_.Tz(l));var o=l.target.tagName.toLowerCase();if(e_.y0(l)&&o!="select"){l.preventDefault()}this.WP("up")};
a4.prototype.WP=function(l){var o=this.iU,D=this.W1(),H=D!=null&&D.T.length!=0;if(this.XX.Fr()!=null){if(o.W(e_.aZ)||o.W(e_.PA)){this.XX.avW()}return}this.rB();
var _=this.qJ(e_.Cm),u=o.W(e_.zg),S=o.W(e_.eo);if(_&&o.W(e_.rK)&&l=="down"){var h=new jJ(k.E.r),F=new jJ(k.E.b);
h.S=p.zo;if(S){h.data={q:"h_stepfwd"}}else{h.data={q:"h_stepbck"}}if(this.UJ.Fr()!=null&&this.UJ.Fr().Iu()){}else this.A(h)}if(_){var h=new jJ(k.E.r),n=new jJ(k.E.yT),F=new jJ(k.E.b);
if(o.W(e_.rv)&&o.W(e_.fq)){F.data={q:k.L.E1,mg:"storwindow"};this.A(F)}if(!u&&l=="down")for(var R in jW.keys){var s=jW.keys[R],Z=!0;
for(var v=0;v<s.length;v++)if(!o.W(s[v]))Z=!1;if(Z){h.S=p.xw;if(R=="hue2"&&S&&D.R[D.T[0]].add.SoLd==null)h.data={q:"auto",AQ:3};
else h.data={q:"start",PN:R}}}if(o.W(e_.L)){if(u){n.data={vS:"selectAllLayers",M1:{classID:"null",null:bt.NA("Lyr",!0)}}}else n.data=p.OK.Hy(!0)}if(o.W(e_.AP)){if(u)F.data={q:k.L.E1,mg:"csize"};
else if(D)F.data={q:k.L.T0,jM:S}}if(o.W(e_.VM)&&D.f){n.data=p.OK.Hy()}if(o.W(e_.E)&&l=="down"){if(S)n.data={vS:"mergeVisible"};
else if(ig.Jg(D).e)n.data={vS:"mergeLayersNew",M1:{__name:"Merge Layers",classID:"Mrg2"}}}if(o.W(e_.lj)){if(S&&this.Pk.Bq!=p.rk)F.data={q:k.L.E1,mg:"afw_fade"};
else if(u){h.S=p.tF;h.data={q:"applylast"}}else F.data={q:k.L.qu}}if(o.W(e_.Tu)){if(u&&D&&D.br(D.T[0])){h.S=p.wU;
h.data={q:d.JK}}else{h.S=p.wU;h.data={q:d.up,rR:S}}}if(a8==1&&o.W(e_.ho)){h.S=p.wU;h.data={q:d.up,aU:!0,rR:u}}if(o.W(e_.N5)){F.data={q:k.L.lN,au:is.a7}}if(o.W(e_.rv)){if(S){h.data=null;
if(u)F.data={q:k.L.E1,mg:"finfo"};else n.data={vS:"inverse"}}else if(u)F.data={q:k.L.E1,mg:"isize"}}if(o.W(e_.vf)){n.data={vS:(S?"cut":"copy")+"ToLayer"}}if(o.W(e_.a$)){F.data={q:k.L.E1,mg:"preferences"}}if(o.W(e_.mW)){if(S){h.S=p.wU;
h.data={q:d.On}}else if(l=="down")F.data={q:k.L.E1,mg:"newproject"}}if(o.W(e_.kB)){if(u)F.data={q:k.L.E1,mg:"storwindow",PT:0};
else{F.data={q:k.L.z4};o.reset()}}if(o.W(e_.Aj)){F.data={q:k.L.afo};o.reset()}if(o.W(e_.nC)){F.data={q:k.L.lN,au:is.nq}}if(o.W(e_.KF)&&l=="down"){if(S){if(u)F.data={q:k.L.E1,mg:"saveforweb"};
else F.data={q:k.L.KC}}else F.data={q:k.L.D9}}if(o.W(e_.rD)){if(S){h.S=p.wU;h.data={q:d.r$};this.A(h);
h.S=p.rk;h.data={q:"again"}}else F.data={q:k.L.BC,S:p.rk}}if(o.W(e_.$s)){F.data={q:k.L.ZZ}}if(o.W(e_.C5)){this.XC.H2()}if(o.W(e_.s8)&&D&&D.au3()){F.data={q:k.L.js}}if(o.W(e_.GW)||o.W(e_.wp)){h.S=p.wU;
h.data={q:d.sj,i6:0};if(o.W(e_.GW))h.data.i6=S?3:2;else h.data.i6=S?0:1}if(o.W(e_.v8)&&D){h.S=p.wU;h.data={q:d.B4}}if(o.W(e_.PA)&&D){var O=0;
if(S)O++;if(u)O+=2;h.S=p.lO;h.data={q:"frompath",Jl:[null,0,O]}}if(o.W(e_.oi)){n.data=p.WS.mE(0)}if(o.W(e_.CZ)){var w=this.GX.length,m=o.W(e_.eo)?-1:1;
if(w>1)this.XC.eV((this.XC.S4()+w+m)%w)}if(o.W(e_.u5)){F.data={q:k.L.lN,au:is.L_}}if(o.W(e_.JC)){F.data={q:k.L.lN,au:is.Go}}p._1.aym(o,h);
if(this.UJ.Fr()!=null&&this.UJ.Fr().Iu()){}else{if(h.data)this.A(h);if(n.data)this.A(n);if(F.data)this.A(F)}}if(!_&&u){var V;
if(o.W(e_.GW))V="Bckw";if(o.W(e_.wp))V="Frwr";if(o.W(e_.v8))V="Back";if(o.W(e_.oi))V="Frnt";if(V){var n=new jJ(k.E.yT);
n.data={vS:"select",M1:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:V}}]},MkVs:{t:"bool",v:!1}}};
this.A(n)}}if(D&&D.T.length!=0){var q=D.R[D.T[0]],i=q.Ih;if(i==1||i==3||_){var h=new jJ(k.E.r),c=i==3?q.nN(D).I:q.KQ();
if(c){var z=c.Pj?D.w.N.join("")=="111"?1:2:0;h.S=p.Nk;if(c&&o.W(e_.aZ)&&z!=0){h.data={q:"mskView",P:0}}if(c&&o.W(e_.vE)){h.data={q:"mskView",P:z==1?0:1}}if(c&&o.W(e_.aos)){h.data={q:"mskView",P:z==2?0:2}}if(h.data)this.A(h)}}}var B=o.R0();
if(D&&_&&2<=B&&B<=5){var t=[1,1,1];if(B>2){t=[0,0,0];t[B-3]=1}var a=new jJ(k.E.r,!0);a.S=p.ap;a.data={q:"setcls",N:t};
this.A(a)}if(!o.W(e_.Cm)&&!u&&l=="down"){var h=new jJ(k.E.r),F=new jJ(k.E.b),I=this.p.map[this.Pk.Bq],N=-1;
for(var v=0;v<this.p.keys.length;v++)if(this.p.keys[v]&&this.qJ(this.p.keys[v]))N=v;if(N!=-1){var J=null;
if(I.ln!=N)J=this.p.fj[N];if(I.ln==N&&S)J=(I.abe+1)%this.p.xb[N].length;if(J!=null){var Q=this.p.xb[N][J].S.id,A=this.Pk.I3;
if((A==null||A.indexOf(parseInt(Q))!=-1)&&!this.e_.gz)F.data={q:k.L.BC,S:Q}}}if(o.W(e_.N5))F.data={q:k.L.BC,S:p.ap};
if(o.W(e_.nC))F.data={q:k.L.BC,S:p.kN};if(o.W(e_.s8))F.data={q:k.L.lN,au:is.rY,i6:2};if(o.W(e_.VM))F.data={q:k.L.lN,au:is.rY,i6:3};
if(F.data)this.A(F);if(o.W(e_.ahJ)&&D&&D.T.length==1){var q=D.R[D.T[0]];h.S=p.wU;var f=q.Ji(0)||q.Ji(1)||q.Ji(2)||q.Ji(31);
h.data={q:d.aA,zc:f?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.A(h)}var B=o.R0();if(H&&B!=-1&&this.qJ(e_.tS[B])){var W=D.T[0],q=D.R[W],C=e_.mv(Math.round(100*q.opacity/255),B);
h.S=p.wU;h.data={q:d.xI,zc:Math.round(255*C/100)};this.A(h)}var j=this.Pk.Cn;if(o.W(e_.CZ)){F.data={q:k.L.uR,P:j==0?1:0};
this.A(F)}if(o.W(e_.lj)||o.W(e_.aZ)&&j==2){var K=document.fullscreenElement!=null==(j==2);F.data={q:k.L.uR,P:j==0?2:0,GT:K};
this.A(F)}if(o.W(e_.J6)&&!this.e_.gz){h.S=p.lO;h.data={q:"qmask"};this.A(h)}}if(!o.W(e_.Cm)&&!u&&S){var h=new jJ(k.E.r),F=new jJ(k.E.b);
if(o.W(e_.v8))F.data={q:k.L.E1,mg:"shortcuts"};if(o.W(e_.p6))F.data={q:k.L.E1,mg:"fill"};if(o.W(e_.a7U))F.data={q:k.L.E1,mg:"sel_feather"};
if(H&&(o.W(e_.CO)||o.W(e_.ef))){var W=D.T[0],q=D.R[W],$=b2.Jv,r=$.length,U=$.indexOf(q.TY);h.S=p.wU;
h.data={q:d.N9,zc:(U+r+(o.W(e_.CO)?1:-1))%r};this.A(h)}if(F.data)this.A(F)}var h=new jJ(k.E.r),b=l=="down"&&(this.qJ(e_.Ab)||this.qJ(e_.O1));
if((_||u)&&b){h=new jJ(k.E.yT);h.data=p.hL.Vw(_?"BckC":"FrgC");this.A(h)}else if(this.UJ.Fr()==null&&D&&b&&!this.e_.gz){if(D.f!=null){h=new jJ(k.E.yT);
h.data={vS:"delete"}}else if(D.T.length!=0){var q=D.R[D.T[0]];if(q.Ih==1)h.data={q:d.cR};else if(q.Ih==3)h.data={q:d.N3};
else h.data={q:d.C_};h.S=p.wU}this.A(h)}if(this.UJ.Fr()!=null){if(o.W(e_.aZ)){this.UJ.Fr().a5o()}else{this.UJ.Fr().WP(D,this,this.Pk,o)}}if(this.Pk.Bq==null)return;
var I=this.fX();if(this.UJ.Fr()==null||this.p.wz)I.WP(D,this,this.Pk,o)};a4.prototype.qJ=function(l){var o=this.iU,D=this.p.map[this.Pk.Bq].S,top=this.UJ.Fr(),H=this.W1();
return o.W(l)&&!D.iL(l,H)&&(top==null||!top.iL(l,H))};a4.prototype.ZF=function(l){var o=this.alN,D=this.n_;
this.Pk.Cn=l;var H=M.Ve,_=this.mD.Z;if(H(_))this.LA.removeChild(_);var u=this.Jf.Z;if(H(u))this.LA.removeChild(u);
var S=this.YA.Z;if(H(S))o.removeChild(S);var h=this.XC.Z;if(H(h))o.removeChild(h);var F=this.Iv.Z;if(H(F))o.removeChild(F);
if(l==0){this.LA.appendChild(_);this.LA.appendChild(u);D.appendChild(o);o.appendChild(S);o.appendChild(h);
o.appendChild(F)}if(l==1){this.LA.appendChild(_);o.appendChild(h)}if(l==2){o.appendChild(h)}this.XC.ZF(l==2?1:0);
this.ZJ()};a4.prototype.a0s=function(l){if(this.tz())return 1;if(M.apD()==0){this.Pk={};this.Av=function(o,D){return Math.sqrt(o*D)}}return-1};
a4.ajH=function(){var l=a8==0?[[{S:new p.JI,hV:j7},{S:new p.St,hV:fU}],[{S:new p.y2,hV:gB,ew:0},{S:new p.bh,hV:ku,ew:0}],[{S:new p.Gn,hV:bL,ew:0},{S:new p.dz,hV:hb,ew:0},{S:new p.g9,hV:h6,ew:0}],[{S:new p.ea,hV:dt,ew:0},{S:new p.QI,hV:gf,ew:0},{S:new p.Ht,hV:dF,ew:0}],[{S:new p.ajr,hV:k6},{S:new p.awO,hV:ff},{S:new p.d8,hV:jz,ew:0},{S:new p.B$,hV:g9,ew:0}],[{S:new p.wg,hV:gV},{S:new p.q7,hV:gq,ew:0},{S:new p.JF,hV:c0}],[{S:new p.av,hV:bD,ew:0},{S:new p.wF,hV:gg,ew:0},{S:new p.Gn(!0),hV:jb,ew:0},{S:new p.zA,hV:i3,ew:0},{S:new p.adP,hV:iE,ew:0},{S:new p.ig,hV:dB,ew:0}],[{S:new p.Ml,hV:aA,ew:0},{S:new p.Fc,hV:aR,ew:0},{S:new p.jO,hV:kd,ew:0}],[{S:new p.$a,hV:hn,ew:0}],[{S:new p.b0,hV:eR,ew:0},{S:new p.P8,hV:gm,ew:0},{S:new p.wy(!0),hV:cM,ew:0}],[{S:new p.Sp,hV:ef,ew:0},{S:new p.wy,hV:cM,ew:0}],[{S:new p.oR,hV:kt,ew:0},{S:new p.ZC,hV:a5,ew:0},{S:new p.a5,hV:hm,ew:0}],[{S:new p.yq,hV:jZ,ew:0},{S:new p.pq,hV:hg,ew:0},{S:new p.bt,hV:cp,ew:0}],[{S:new p.lX,hV:gj},{S:new p.ST,hV:gj}],[{S:new p.XH(0),hV:dD},{S:new p.KA,hV:jM},{S:new p.XH(1),hV:dD},{S:new p.XH(2),hV:dD},{S:new p.XH(3),hV:dD},{S:new p.XH(4),hV:dD}],[{S:new p.d2,hV:ec},{S:new p.CP,hV:bc}],[{S:new p.Rect,hV:c3},{S:new p.lY,hV:gJ},{S:new p.Lb,hV:jw},{S:new p.Xb,hV:hq},{S:new p.Gi,hV:b6}],[{S:new p.QD,hV:aS},{S:new p.m4,hV:jq}],[{S:new p._1,hV:ch}]]:[[{S:new p.JI,hV:j7}],[{S:new p.CP,hV:bc}],[{S:new p.XH(0),hV:dD}],[{S:new p.KA,hV:jM}],[{S:new p.lX,hV:gj},{S:new p.ST,hV:gj}],[{S:new p.Lb,hV:jw}],[{S:new p.Rect,hV:c3},{S:new p.lY,hV:gJ}],[{S:new p.JB,hV:aS}],[{S:new p.db,hV:ef}],[{S:new p.QD,hV:aS},{S:new p.m4,hV:jq}],[{S:new p._1,hV:ch}]],h="",F="";
if(a8==0&&!M.CB(1))l[6].splice(2,1);var o=a8==0?[e_.$s,e_.mw,e_.Ct,e_.C5,e_.AP,e_.rv,e_.vf,e_.ED,e_.KF,e_.E,e_.Tu,null,e_.kB,e_.rD,e_.Aj,e_.L,e_.fq,e_.N5,e_.rK]:[e_.$s,e_.L,e_.Aj,null,e_.rD,e_.vE,e_.mw,null,e_.Tu,e_.N5,e_.rK],D=[{S:p.Nk,x$:!1,Ui:[e_.a7_,e_.RP]},{S:p.ap,x$:!1,Ui:[e_.RP]},{S:p.LN,x$:!0,Ui:[e_.Cm],bS:[p.Ze]},{S:p.Ze,x$:!0,Ui:[e_.Cm],bS:[p.LN]},{S:p.IE,x$:!0,Ui:[e_.Cm],bS:[p.md,p.OR,p.fd]},{S:p.e5,x$:!0,Ui:[e_.Cm]}];
if(a8==0)D.push({S:p.md,x$:!0,Ui:[e_.Cm],bS:[p.IE,p.Xg,p.$F,p.YX,p.jJ,p.aJ]});var H={asB:D,xb:l,fj:[],keys:o,qf:[{S:new p.az6,hV:hQ},{S:new p.a7S,hV:js},{S:new p.a1z,hV:b3},{S:new p.wg(!0),hV:gV},{S:new p.Md,hV:df}],aL:[{S:new p.yZ},{S:new p.History},{S:new p.ce},{S:new p.Y1},{S:new p.MW},{S:new p.Xq}],map:{},Lm:null,wz:null,AX:null},_=H.xb;
for(var v=0;v<_.length;v++){var u=_[v];if(hP=="---")continue;for(var S=0;S<u.length;S++)if(u[S].ew!=null&&u[S].ew!=a8){u.splice(S,1);
S--}if(u.length==0){_.splice(v,1);H.keys.splice(v,1);v--}}for(var v=0;v<H.xb.length;v++){var n=H.xb[v];
if(n=="---")continue;var R=H.keys[v];for(var S=0;S<n.length;S++){H.map[n[S].S.id]=n[S];n[S].ln=v;n[S].abe=S;
var s=cU.get(n[S].S.name);F+="<li>"+n[S].S.id+": "+s+"</li>";h+="\t"+JSON.stringify(n[S].S.name)+", "+(R?"\""+R.Hd+"\"":"null")+", "+n[S].S.id+", // "+s+"\n"}H.fj[v]=0}for(var v=0;
v<H.qf.length;v++)H.map[H.qf[v].S.id]=H.qf[v];for(var v=0;v<H.aL.length;v++)H.map[H.aL[v].S.id]=H.aL[v];
return H};function d_(l){f1.call(this);if(l==null)return;this.pX=null;this.B9=null;this.Z=M.a("div","sbar"+" "+l);
this.WH=new M.a("div","top");this.WH.innerHTML="> <";this.Z.appendChild(this.WH);this.DS=1;this.WH.addEventListener("click",this.akC.bind(this),!1)}d_.prototype=new f1;
d_.prototype.akC=function(l){if(this.pX!=null&&this.pX<500&&this.DS==0)return;if(this.DS==0)this.Az(!0);
else this.collapse(!0)};d_.prototype.a0x=function(l){this.DS=l;this.WH.innerHTML=this.DS==0?"< >":"> <"};
d_.prototype.ahW=function(){var l=new jJ(k.E.b,!0);l.data={q:k.L.qa};this.A(l)};d_.prototype.Az=function(l){this.a0x(1);
if(l)this.ahW()};d_.prototype.collapse=function(l){this.a0x(0);if(l)this.ahW()};d_.prototype.DY=function(){return this.DS==1};
function a6(l,o){d_.call(this,"vcolumn");this.cQ=l;this.abR=o;this.Oc();this.hD=M.a("div");this.hD.setAttribute("style","cursor:default;");
this.aqQ=this.ayv.bind(this);this.aEB=this.awI.bind(this);this.akR=this.aEt.bind(this);M.GY(this.Z,this.aqQ);
this.Z.appendChild(this.hD);this.vq=M.a("div");this.hD.appendChild(this.vq);this.zD=-1;this.a8R=M.a("div","float");
var D=this.iz=M.a("canvas","gsicon"),H=Math.round(12*M.Y());D.width=D.height=H;var _=D.getContext("2d");
_.moveTo(2,2);_.lineTo(H-2,H-2);_.moveTo(2,7);_.lineTo(H-7,H-2);_.stroke();this.iz.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
M.zl(this.iz);M.GY(this.iz,this.aqQ);M.af(D);this.D7=[];this.xS=[];this.a7b=null;this.Ai=null;this.a80=0}a6.prototype=new d_;
a6.prototype.ayv=function(l){var o=l.target==this.iz;if(!o){if(l.target!=this.Z)return;if(!this.DY())return}else{var D=this.D7[this.zD].i_;
D.style.pointerEvents="none";var H=D.getBoundingClientRect();this.a7b=[H.width,H.height];this.xS[this.zD]=[H.width,H.height]}l.stopPropagation();
this.Ai=M.Kx(l,document.body);this.a80=this.cQ;M.en(document,this.aEB);M.Bv(document,this.akR)};a6.prototype.awI=function(l){var o=M.Kx(l,document.body);
if(this.DY()){this.cQ=this.a80+this.Ai.x-o.x;this.Oc()}else{var D=this.xS[this.zD],H=this.a7b;D[0]=H[0]+this.Ai.x-o.x;
D[1]=H[1]+o.y-this.Ai.y}var _=new jJ(k.E.b,!0);_.data={q:k.L.qa};this.A(_)};a6.prototype.aEt=function(l){if(!this.DY()){var o=this.D7[this.zD].i_;
o.style.pointerEvents="auto"}M.ie(document,this.aEB);M.OF(document,this.akR)};a6.prototype.azE=function(l){l.O("showFloat",this.axW,this);
l.O("hideFloat",this.XU,this);this.D7.push(l);l.parent=this;this.hD.appendChild(l.Z)};a6.prototype.a4Y=function(v){var l=this.D7[v];
l.removeEventListener("showFloat",this.axW,this);l.removeEventListener("hideFloat",this.XU,this);this.D7.splice(v,1);
l.parent=null;this.hD.removeChild(l.Z)};a6.prototype.a90=function(){return this.D7.length};a6.prototype.ps=function(){for(var v=0;
v<this.D7.length;v++)this.D7[v].ps()};a6.prototype.axW=function(l){this.ps();var o=this.a8R;this.vq.appendChild(o);
this.zD=this.D7.indexOf(l.currentTarget);var D=this.D7[this.zD].i_;M.o7(o);o.appendChild(D);o.appendChild(this.iz);
this.Av(this.pX,this.B9)};a6.prototype.XU=function(l){this.ps();if(this.zD!=-1){this.vq.removeChild(this.a8R);
this.zD=-1}};a6.prototype.Oc=function(){function l(o){return Math.round(o*M.Y())/M.Y()}this.Z.setAttribute("style","width: "+this.cQ+"px; border-left-width:"+l(4)+"px; cursor:ew-resize;")};
a6.prototype.Az=function(l){this.Oc();this.XU();for(var v=0;v<this.D7.length;v++)this.D7[v].Az();d_.prototype.Az.call(this,l)};
a6.prototype.collapse=function(l){this.Z.removeAttribute("style");for(var v=0;v<this.D7.length;v++)this.D7[v].collapse();
d_.prototype.collapse.call(this,l)};a6.asS=11;a6.prototype.Av=function(l,o){this.pX=l;this.B9=o;o-=a6.asS;
var D=this.D7.length;if(D==0)return;if(!this.DY()){var H=o<400?o:400+(o-400)*.5;for(var v=0;v<D;v++){var _=this.D7[v],u=this.xS[v];
_.Av(u?u[0]:this.cQ,u?u[1]:H)}}else{var S=o;for(var v=0;v<D;v++){var _=this.D7[v],h=_.auR();if(v==D-1){h=S;
_.Z.style.borderBottom="none"}_.Av(this.cQ,h);S-=h+4}}};function iO(l){f1.call(this);this.Z=M.a("div");
this.hD=null;this.o1=0;this.k6=0;this.al1=l;this.aue=this.GZ.bind(this);this.asO=this.n$.bind(this);
this.amU=this.lK.bind(this);this.GC=null;this.O4=null;this.GJ=null;M.GY(this.Z,this.aue);var o=this.Z,H="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
o.addEventListener("touchmove",M.tv,!1);this.a1A=!0;this.Ho=[];var D=this.a5X=M.a("div");D.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.Z.appendChild(D);var _=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",H+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",H+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",H+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var v=0;v<_.length;v++){var u=new cg(_[v]);this.Ho.push(u);u.Z.setAttribute("style","margin-left:"+(v<7?4:0)+"px;cursor:pointer;");
u.O("click",this.jt,this)}}iO.prototype=new f1;iO.prototype.k=function(){var l=this.a5X;M.o7(l);for(var v=0;
v<this.Ho.length;v++){var o=this.Ho[v];if(v<5)o.k();l.appendChild(o.Z)}};iO.prototype.jt=function(l){var v=this.Ho.indexOf(l.currentTarget);
if(v==0){if(window.showCap)window.showCap();return}var o=" issues learn blog api twitter facebook".split(" "),D=["","//github.com/photopea/"+["photo","vector"][a8]+"pea/issues","//www.photopea.com/learn","//blog.photopea.com","//www.photopea.com/api","//www.reddit.com/r/photopea","//www.twitter.com/photopeacom","//www.facebook.com/photopea"],H=window.ga;
if(H)H("send","event","Links",o[v]);var _=new jJ(k.E.b,!0);_.data={q:k.L.Gv,link:D[v]};this.A(_)};iO.prototype.GZ=function(l){if(l.am5){l.preventDefault();
l.stopPropagation()}var o=window;M.en(o,this.asO);M.Bv(o,this.amU);o=this.hD;this.GC=new he(parseInt(o.style.left),parseInt(o.style.top));
this.O4=M.Kx(l,this.Z);this.GJ=o.getBoundingClientRect()};iO.prototype.n$=function(l){var o=M.Kx(l,this.Z),D=this.GC.x+o.x-this.O4.x,H=this.GC.y+o.y-this.O4.y,_=this.o1-this.GJ.width,u=this.k6-this.GJ.height;
if(this.al1)this.hD.style.left=Math.min(0,Math.max(_,D))+"px";else this.hD.style.top=Math.min(0,Math.max(u,H))+"px";
if(D-10>0){this.O4.x=o.x-10;this.GC.x=0}if(D+10<_){this.O4.x=o.x+10;this.GC.x=_}};iO.prototype.lK=function(l){var o=window;
M.ie(o,this.asO);M.OF(o,this.amU)};iO.prototype.a5p=function(l){if(this.hD){this.Z.removeChild(this.hD)}this.hD=l;
this.Z.appendChild(l);l.style.position="absolute";if(this.al1)l.style.left=0;else l.style.top=0};iO.prototype.Av=function(l,o){this.o1=l;
this.k6=o;this.Z.setAttribute("style","position:relative; width: "+l+"px; height: "+o+"px; overflow:hidden; white-space: nowrap; ");
var D=this.hD.firstChild,H=this.a5X,_=D?D.firstChild.getBoundingClientRect().width+80:1e9,u=170,S=this.a1A&&l>_+u;
H[e2.cu][e2.atw]=S?"":e2.Rb;var h=this.Ho;for(var v=0;v<h.length;v++){var F=v>4||l-_>500?"":e2.Rb,n=h[v];
n.Z.style.display=F}};iO.prototype.au$=function(){this.hD.style.left="0";this.hD.style.top="0"};function j8(){f1.call(this);
this.Fy=null;this.c0=j8.Aj;this.arB="";this.Z=M.a("div","rightbar");this.nz=[new a6(300),new a6(268,!0)];
this.D7=[new ft,new ft,new ft,new ft,new ft,new ft,new ft];this.a0L=[]}j8.prototype=new f1;j8.prototype.k=function(){var l=this.c0;
for(var v=0;v<l.length;v++)l[v].VG.k()};j8.Aj=a8==0?[{VG:new iz,No:3},{VG:new hB,No:1},{VG:new hD,No:4},{VG:new c4,No:2},{VG:new hp(!0),No:5},{VG:new fi(!0),No:5},{VG:new fE,No:0},{VG:new dJ,No:5},{VG:new eP,No:3},{VG:new ib,No:0},{VG:new cf,No:3},{VG:new ig,No:2},{VG:new aW,No:4},{VG:new fo,No:3},{VG:new di,No:5},{VG:new hp(!1),No:5},{VG:new cY,No:2},{VG:new ca,No:3},{VG:new dl,No:1},{VG:new jt,No:0},{VG:new bi,No:5},{VG:new aL,No:6,jE:!0}]:[{VG:new hp(!0),No:5},{VG:new hp(!1),No:5},{VG:new dJ,No:5},{VG:new ib,No:0},{VG:new ig,No:2},{VG:new aL,No:6,jE:!0}];
if(M.CB())j8.Aj.push({VG:new dG,No:6,jE:!0});j8.Aj.push({VG:new gG,No:6,jE:!0},{VG:new g$,No:6,jE:!0});
(function(){var l=[{id:j4.nC.aw2,name:"Gallery",url:"//www.photopea.com/plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var v=0;v<l.length;v++)j8.Aj.push({VG:new cT(l[v],100+v),No:6,jE:!0})}());j8.prototype.a25=function(l){for(var v=0;
v<l.length;v++){var o=l[v],D=new cT(o,"plg_"+o.name);this.c0.push({VG:D,No:6});this.a0L.push(D.o8)}this.$u()};
j8.prototype.Ip=function(l,o){this.Fy=l;var D=this.c0;for(var v=0;v<D.length;v++)D[v].VG.Ip(l,o);if(o==is.YL||o==is.CV)this.$u()};
j8.prototype.i2=function(l){var o=this.c0;for(var v=0;v<o.length;v++)o[v].VG.i2(l)};j8.prototype.Av=function(l,o){this.pX=l;
this.B9=o;this.$u();this.nz[0].Av(l,o);this.nz[1].Av(l,o)};j8.prototype.$u=function(){var l=this.Fy,o=this.pX,D=this.B9;
if(l==null||o==0)return;var H=l.Co.concat(this.a0L),_=o<500||o<700&&o<D,u=JSON.stringify(H)+","+_;if(u!=this.arB){this.arB=u;
M.o7(this.Z);var S=[];for(var v=0;v<this.nz.length;v++){var h=this.nz[v];S[v]=h.DY();while(h.a90()!=0)h.a4Y(0);
h.Az()}var F=[];for(var v=0;v<this.D7.length;v++){var n=this.D7[v];n.Az();while(n.aCh()!=0)n.Fl(0);F.push(0)}for(var v=0;
v<H.length;v++){var R=this.ajZ(H[v].toString());if(R==null)continue;this.D7[R.No]._t(R.VG);this.D7[R.No].eV(0);
F[R.No]++}var s=[];for(var v=0;v<F.length;v++){if(F[v]==0)continue;var Z=v<3||_?1:0,h=this.nz[Z];h.parent=this;
h.azE(this.D7[v]);s[Z]=!0}for(var v=0;v<this.nz.length;v++)if(s[v])this.Z.appendChild(this.nz[v].Z);
this.nz[0].collapse();if(o<700||this.Fy.compact||!S[1]){this.nz[1].collapse()}var O=new jJ(k.E.b,!0);
O.data={q:k.L.qa};this.A(O)}};j8.prototype.ajZ=function(l){for(var v=0;v<this.c0.length;v++)if(this.c0[v].VG.o8==l)return this.c0[v]};
j8.prototype.ag3=function(l){var o=this.ajZ(l);this.D7[o.No]._t(o.VG)};j8.prototype.my=function(l,o,D){var H=this.c0;
for(var v=0;v<H.length;v++)H[v].VG.my(l,o,D)};j8.prototype.GE=function(l,o,D,H,_){var u=this.c0;for(var v=0;
v<u.length;v++)u[v].VG.GE(l,o,D,H,_)};j8.prototype.XR=function(l,o,D,H,_){var u=this.c0;for(var v=0;
v<u.length;v++)u[v].VG.XR(l,o,D,H,_)};j8.prototype.Jm=function(l,o,D,H,_){var u=this.c0;for(var v=0;
v<u.length;v++)u[v].VG.Jm(l,o,D,H,_)};function iY(l,o){d_.call(this,"toolbar");this.Z.removeChild(this.WH);
this.ud=M.a("div","tools");this.Z.appendChild(this.ud);this.I3=null;this.Bq=null;this.a6J=o;this.aQ=null;
this.Gj=null;this.auv=-1;this.aiF={};this.aAx=l;this.p=null;this.xG=null;this.Nj=null;this.gB=null;this.HC=new g2;
this.HC.Z.style.marginTop="5px";this.HC.Z.style.marginBottom="3px";this.HC.parent=this;this.Ff=new cg(M.u_("lrs/mask"),!1,[6,6,1]);
this.Ff.O("click",function(u){var S=new jJ(k.E.r,!0);S.S=p.lO;S.data={q:"qmask"};this.A(S)},this);var D=new hi(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
D.O(k.E.B,this.afF,this);var H=M.a("span","rangecontFloat form padded");H.appendChild(D.Z);H.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var _=this.Z;this.a9V=[!1,!1,!1,!1];this.CT=new cg(M.u_("kb"),!1,"Virtual Keys");this.CT.O("click",function(u){var S=this.CT.Z.getBoundingClientRect();
H.style.top=S.top-110+"px";H.style.left=S.left+S.width+8+"px";if(M.Ve(H)){M.S2({Z:H},_)}else{_.appendChild(H);
M.g5({Z:H})}},this)}iY.prototype=new d_;iY.prototype.afF=function(l){var o=l.target.l();this.CT.j(o[0]||o[1]||o[2]||o[3]);
var D=new jJ(k.E.b,!0);for(var v=0;v<4;v++){if(o[v]!=this.a9V[v]){D.data={q:k.L.a7N,gz:o[v],arj:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][v]};
this.A(D)}}this.a9V=o.slice(0)};iY.prototype.aax=function(l,o){this.aQ=o;this.Gj=l;if(l==null||l.T.length==0||l.R[l.T[0]]==null)return;
var D=l.Ff()!=null,H=l.w.N,_=l.R[l.T[0]].Ih,u=_==1||_==3||D||H[0]+H[1]+H[2]==1;this.HC.an1(u);this.Ff.j(D)};
iY.prototype.a1G=function(l,o){var D=l.length,H=[];for(var v=0;v<D;v++)H[v]=l[v].slice(0);l=H;var _=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],u=Math.min(_.length/2,D-o);
for(var v=0;v<u;v++){var S=_[2*v],h=_[2*v+1];l[S]=l[S].concat(l[h]);l[h]=null}for(var v=0;v<l.length;
v++)if(l[v]==null){l.splice(v,1);v--}return l};iY.prototype.aEy=function(l,o){for(var v=0;v<o.length;
v++)for(var D=0;D<o[v].length;D++)if(o[v][D].S.id==l)return v};iY.prototype.a5g=function(l){var o=this.aAx;
this.xG=[];this.Nj=[];this.gB=[];this.p=[];var D=o.xb;if(l!=null&&this.a6J)D=this.a1G(D,l);var H=this.I3;
if(H){var _=[];for(var v=0;v<D.length;v++){var u=[];for(var S=0;S<D[v].length;S++){var h=D[v][S];if(H==null||H.indexOf(parseInt(h.S.id))!=-1)u.push(h)}if(u.length>0)_.push(u)}D=_}for(var v=0;
v<D.length;v++){var F=[],n=this.xG.length,R=null,s=-1;for(var S=0;S<D[v].length;S++){var h=D[v][S].S,Z=this.aEy(h.id,o.xb),O=o.keys[Z];
if(O==e_.N5&&S==1)O=e_.nC;this.p.push(h);var w=new c5(h.name,O,h.M$,this.xG.length,v,D[v].length>1);
this.xG.push(w);var m=this.aiF[h.id];if(m==null)m=0;if(m>s){s=m;R=w}w.O(k.E.B,this.AE,this);w.O("mover",this.ca,this);
F.push({name:h.name,_9:h.M$,Ui:O?O.Hd:""})}this.Nj.push(R);this.gB.push(F.length==1?null:[F,n])}};iY.prototype.Av=function(l,o){var D=this.B9=o,H=32;
if(1<M.Y()&&M.Y()<1.5)H=18+14*(1/M.Y());var _=39+23,u=Math.floor((D-_)/H);if(u!=this.auv){this.auv=u;
this.a5g(u);this.Zy()}var S=this.Nj.length*H+_,h=Math.min(1,D/S);if(.75<=h){this.ud.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+h+","+h+");");
this.Z.setAttribute("style","height:"+(o-2)+"px;")}else{D-=4;this.ud.setAttribute("style","height: "+D+"px;  width:"+Math.ceil(S/D)*34+"px");
this.Z.setAttribute("style","")}};iY.prototype.k=function(){if(this.p==null)return;for(var v=0;v<this.xG.length;
v++)this.xG[v].k()};iY.prototype.AE=function(l){var o=new jJ(k.E.b,!0);o.data={q:k.L.BC,S:this.p[l.id].id};
this.A(o)};iY.prototype.a9W=function(l){var o=l.target.adk+l.target.Z3()[0];this.xG[o].lK(null,!0)};
iY.prototype.ca=function(l){var o=this.aQ,D=new jJ(k.E.b,!0);D.data={q:k.L.RQ};this.A(D);var H=l.target,u=this.gB[H.ln];
if(u==null)return;var S=new fg(u[0],null,!0);S.adk=u[1];S.ln=H.ln;S.O("select",this.a9W,this);S.parent=this;
S.k();var h=H.Z.getBoundingClientRect(),D=new jJ(k.E.b,!0);D.data={q:k.L.jq,VG:S,x:h.left+h.width+8,y:h.top};
if(o==null||!(o.W(e_.RP)||o.W(e_.Cm)))this.A(D)};iY.prototype.Zy=function(l){if(l==null)l=this.Bq;this.Bq=l;
if(this.p==null)return;this.aiF[l]=Date.now();var o=-1;for(var v=0;v<this.p.length;v++)if(this.p[v].id==l)o=v;
for(var v=0;v<this.xG.length;v++){var D=this.xG[v];D.aao(o==v)}if(o==-1)return;this.Nj[this.xG[o].ln]=this.xG[o];
M.o7(this.ud);var H=this.Nj;for(var v=0;v<H.length;v++){this.ud.appendChild(H[v].Z)}if(!this.a6J)return;
this.ud.appendChild(this.HC.Z);if(this.B9>640&&a8==0)this.ud.appendChild(this.Ff.Z);this.ud.appendChild(this.CT.Z)};
iY.prototype.Ip=function(l,o){if(o==is.CV&&l.I3){this.I3=l.I3;this.a5g();this.Zy()}this.HC.anX(l.Os,l.qg);
if(a8==1&&(o==is.ni||o==is.CV)){this.HC.apQ(l,this.Gj)}};function c5(l,o,D,H,_,u){f1.call(this);this.hb=0;
this.JT=this.aeo.bind(this);this.ln=_;this.FG=H;this.Qn=l;this.JN=o;this.aBI=u;this.M$=D;this.Z=M.a("button","");
this.Z.innerHTML=M.u_(this.M$);if(this.aBI){var S=M.a("img","gsicon");S.setAttribute("src",PIMG["tools/corner"]);
S.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.Z.appendChild(S)}this.Z.addEventListener("touchstart",M.tv,!1);
this.k();M.GY(this.Z,this.GZ.bind(this));M.Bv(this.Z,this.lK.bind(this));this.Z.addEventListener("contextmenu",this.JT,!1);
this.Z.addEventListener("contextmenu",c5.nw,!1)}c5.prototype=new f1;c5.nw=function(l){l.stopPropagation();
l.preventDefault();return!1};c5.prototype.k=function(){var l=this.JN?" ("+this.JN.Hd+")":"";this.Z.setAttribute("title",cU.get(this.Qn)+l)};
c5.prototype.GZ=function(l){c5.sw=this.FG;this.hb=setTimeout(this.JT,160)};c5.prototype.lK=function(l,o){if(o==null&&c5.sw!=this.FG)return;
clearTimeout(this.hb);var D=new jJ(k.E.B,!1);D.target=this;D.id=this.FG;this.A(D)};c5.prototype.aeo=function(l){var o=new jJ("mover",!1);
o.target=this;o.id=this.FG;this.A(o)};c5.prototype.aao=function(l){this.Z.className=l?"toolbtn active":"toolbtn"};
function gH(){f1.call(this);this.Z=M.a("div","topbar");this.K8=M.a("span");this.aq3=M.a("span");this.aip=0;
this.Z.appendChild(this.K8);this.Z.appendChild(this.aq3);this.ye=null;this.cS=null;this.SE=[];this.Co=[];
var l=this.GZ.bind(this);for(var v=0;v<gH.data.length;v++){var o=M.a("button");this.SE.push(o);var D=gH.data[v];
o.addEventListener("mouseover",l,!1);M.GY(o,l)}this.J_=new cg([0,13,0],!1,null,!0);this.J_.O("click",this.xZ,this);
this.T6=new cg("Donate",!1,null,!0);this.T6.O("click",this.xZ,this);this.Ya=new cg(M.u_("tools/zoom",null,"autoscale"),!1,[12,86]);
this.Ya.O("click",this.xZ,this);this.Pb=new cg("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.Pb.O("click",this.xZ,this)}gH.prototype=new f1;gH.prototype.axr=function(){if(this.Co.length!=0)return;
for(var v=0;v<gH.data.length;v++){var l=gH.data[v],o=new fg(l.items,l.G4);o.parent=this;this.Co.push(o)}this.k()};
gH.prototype.k=function(){this.J_.k();this.Ya.k();this.Pb.k();for(var v=0;v<this.SE.length;v++)this.SE[v].textContent=cU.get(gH.data[v].name);
this.a0a();for(var v=0;v<this.Co.length;v++)this.Co[v].k()};gH.prototype.xZ=function(l){var o=new jJ(k.E.b,!0);
if(l.target==this.J_)o.data={q:k.L.E1,mg:"account"};else if(l.target==this.T6)o.data={q:k.L.E1,mg:"confirm",Gu:function(){},a8w:!0,P:"<h2 style=\"margin-top:0;\">Donate $8 and remove ads for 30 days!</h2><p>Press \"Account\" at the top and get a 30-day Premium!</p></p>All our payments are one-time payments (there is no subscription).</p>"};
else if(l.target==this.Ya)o.data={q:k.L.qu};else o.data={q:k.L.uR,GT:!0};this.A(o)};gH.prototype.gf=function(l,o){this.ye=l;
this.cS=o};gH.prototype.Ip=function(l,o){this.cS=l;if(o==is.CV){var D=l.aob;M.o7(this.K8);for(var v=0;
v<this.SE.length;v++){var H=gH.data[v];if(D==null||D[v]==1||D[v]instanceof Array)this.K8.appendChild(this.SE[v]);
if(D!=null&&D[v]instanceof Array){this.axr();this.Co[v].aeN(D[v])}}var _=this.aq3;M.o7(_);if(l.bO){_.appendChild(this.J_.Z);
_.appendChild(this.T6.Z)}_.appendChild(this.Ya.Z);_.appendChild(this.Pb.Z)}this.a0a()};gH.prototype.a0a=function(l,o){var D=this.J_,H=12255232;
if(eJ.g$())H=eJ.lu()?43520:16755200;D.Z.setAttribute("style","color:#ffffff; background-color:#"+g.Bi(H));
this.T6.Z.style.display=eJ.lu()?"none":""};gH.prototype.GZ=function(l){this.axr();var v=this.SE.indexOf(l.currentTarget),o=this.Co[v];
if(l.type=="mouseover"&&!M.Ve(this.Co[this.aip].Z))return;if(M.Ve(o.Z))return;l.am5=!0;this.aip=v;for(var v=0;
v<gH.data.length;v++)this.Co[v].update(this.ye,this.cS);var D=l.target.getBoundingClientRect(),H=new jJ(k.E.b,!0);
H.data={q:k.L.jq,VG:o,x:D.left,y:D.top+D.height+2,asz:!0};this.A(H)};gH.a71=function(l){var o=e_,D=o.Cm,H=o.eo,_=o.zg,u=function(n){return{e:n!=null}},S=function(n){return{e:n!=null&&n.f!=null}},h={name:[0,5],items:[{name:[7,0],e:u,Ui:[D,o.L]},{name:[7,1],Ui:[D,o.VM],e:S},{name:[7,2],Ui:[H,D,o.rv],e:S,ab:!0},{name:"Remove BG",e:function(n){return{e:M.CB(0)&&n!=null&&n.T.length!=0&&!n.R[n.T[0]].rect.lh()}}},{name:[7,8],e:u,oj:!0},{name:[7,13],oj:!0,e:function(n){return{e:n!=null&&n.T.length!=0&&!n.R[n.T[0]].rect.lh()}}},{name:"Subject",e:function(n){return{e:n!=null&&n.T.length!=0&&!n.R[n.T[0]].rect.lh()}},ab:!0},{name:[7,11],oj:!0,e:function(n){return{e:n!=null&&n.T.length!=0&&!n.R[n.T[0]].rect.lh()}}},{name:[7,3],e:u,ab:!0,sub:[{name:[7,9],oj:!0,e:S},{name:[19,3,0],oj:!0,e:S},{name:[7,4],oj:!0,e:S},{name:[7,5],oj:!0,e:S},{name:[7,6],oj:!0,e:S,Ui:"Shift+F6"}]},{name:"Grow",e:S},{name:"Similar",e:S,ab:!0},{name:[7,10],e:S,ab:!0},{name:[6,6,1],e:function(n){return{e:n!=null,tY:n!=null&&n.Ff()!=null}},Ui:[o.J6],ab:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],e:S}],G4:[{K:k.E.yT,m:p.OK.Hy(!0)},{K:k.E.yT,m:p.OK.Hy()},{K:k.E.yT,m:{vS:"inverse"}},{K:k.E.r,S:p.lO,m:{q:"bgrm",P:1}},{K:k.E.b,m:{q:k.L.E1,mg:"crange"}},{K:k.E.b,m:{q:k.L.E1,mg:"magiccut"}},{K:k.E.r,S:p.lO,m:{q:"bgrm",P:2}},{K:k.E.b,m:{q:k.L.E1,mg:"redge"}},{sub:[{K:k.E.b,m:{q:k.L.E1,mg:"sel_border"}},{K:k.E.b,m:{q:k.L.E1,mg:"sel_smoothness"}},{K:k.E.b,m:{q:k.L.E1,mg:"sel_expand"}},{K:k.E.b,m:{q:k.L.E1,mg:"sel_contract"}},{K:k.E.b,m:{q:k.L.E1,mg:"sel_feather"}}]},{K:k.E.yT,m:{vS:"grow",M1:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:k.E.yT,m:{vS:"similar",M1:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:k.E.b,m:{q:k.L.BC,S:p.Cu}},{K:k.E.r,S:p.lO,m:{q:"qmask"}},{K:k.E.b,m:{q:k.L.E1,mg:"loadsel"}},{K:k.E.b,m:{q:k.L.E1,mg:"savesel"}}]};
if(l){var F=h.items.length-1;h.items.splice(F-2,0,{name:[6,49],Ui:[D,o.vf],ab:!0});h.G4.splice(F-2,0,{K:k.E.yT,m:{vS:"copyToLayer"}});
h.items.splice(F-1,0,{name:[10,16],Ui:[_,D,o.rD]});h.G4.splice(F-1,0,{K:k.E.b,m:{q:k.L.BC,S:p.rk}})}return h};
gH.eG=function(l,o){if(l==null||l.T.length==0)return!1;var D=l.R[l.T[0]];return D.add.TySh!=null&&o.Bq==p.gg};
gH.aoS=function(){var l=e_,o=l.Cm,D=l.eo,H=l.zg,_=function(u){return{e:u!=null}};return[[{name:[5,0],Ui:[o,l.s8],e:function(u,S){return{e:u!=null&&(u.au3()||gH.eG(u,S))}}},{name:[5,1],Ui:[o,l.AP],e:_},{name:[5,2],Ui:[o,l.$s],e:function(u,S){return{e:gH.eG()||M.gL()||S.VY!=null||S.bG!=null||S.a5A!=null}}},{name:[2,2],e:function(u,S){return{e:u!=null&&(u.f!=null||gH.eG(u,S))}},Ui:"Delete",ab:!0}],[{K:k.E.b,m:{q:k.L.js}},{K:k.E.b,m:{q:k.L.T0}},{K:k.E.b,m:{q:k.L.ZZ}},{K:k.E.yT,m:{vS:"delete"}}]]};
gH.data=function(){var l=e_,o=l.Cm,D=l.eo,H=l.zg,_=function(m){return{e:m!=null&&m.T.length!=0}},u=function(m){return{e:m!=null&&m.T.length!=0&&m.R[m.T[0]].add.SoLd!=null}},S=function(m){return{e:m!=null}},h=function(m){return{e:m!=null&&m.o_(!1)}},F=[],n=[],R="none maxx avrg medn minn rang stdv summ vari".split(" "),s=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var v=0;v<R.length;v++){F.push({name:s[v],e:function(m,V){if(m==null||m.T.length!=1)return{e:!1};
var q=m.R[m.T[0]].add.SoLd;if(q==null)return{e:!1};return{e:!0,tY:q.Impr.v.classID==this.an4}}.bind({an4:R[v]})});
n.push({K:k.E.r,S:p.wU,m:{q:d.Nm,zc:R[v]}})}var Z=gH.aoS(!0),O=[{name:[0,0],items:[{name:[5,3],Ui:[H,o,l.mW],title:[11,7],oj:!0},{name:[1,0],Ui:[o,l.kB],oj:!0},{name:[1,11],oj:!0,e:S},{name:["VAR0 VAR1",[1,0],[0,14]],ab:!0,sub:[{name:"Storage",oj:!0,Ui:[H,o,l.kB]},{name:[1,5],oj:!0},{name:[11,0],oj:!0},{name:["PSD VAR0",[25,0]],oj:!0}]},{name:[1,18],ab:!0,e:S,sub:[{name:"PNG",Ui:"Imgur.com",e:function(m,V){return{e:m!=null&&V.a3}}},{name:"JPG",Ui:"Imgur.com",e:function(m,V){return{e:m!=null&&V.a3}}},{name:a8==0?"PSD":"AI",Ui:["Photo","Vector"][a8]+"pea.com",e:function(m,V){return{e:m!=null&&V.a3&&!m.Br}}}]},{name:"Save ...",Ui:[o,l.KF],e:function(m,V){var q=cU.get([1,2]),i=!0;
if(m){if(m.jn)q+=" ("+cU.get([6,7,1])+")";if(m.Pl)q+=" (Google Drive)";if(m.RB)q+=" ("+Storage.list[m.RB[0]][0]+")";
i="psd jpg png gif webp svg bmp".split(" ").indexOf(m.WW)!=-1;if(a8==1)i=m.WW=="ai"}return{e:m!=null&&(m.RB!=null||m.lM!=null&&i||m.jn!=null||m.BL!=null&&m.BL.wQ!=null||m.Pl!=null||V.ZR.save!=null),C9:q}}},{name:a8==0?[1,3]:"Save as AI",e:function(m,V){return{e:m!=null&&V.a3}}},{name:["VAR0 VAR1",[1,2],[0,14]],e:S,sub:[{name:(a8==0?"PSD":"AI")+" to Storage",e:function(m,V){return{e:m!=null&&V.a3}}},{name:["VAR0 PSD/PSB",[1,2]],oj:!0,e:function(m,V){return{e:m!=null&&V.a3}}}]},{name:[1,8],e:S,sub:function(){var m=fj.qG(0),V=[];
for(var v=0;v<m.length;v++)V.push({name:m[v],Ui:"."+m[v].toLowerCase()});V.push({name:[0,14],sub:function(){var m=fj.qG(1),V=[];
for(var v=0;v<m.length;v++)V.push({name:m[v],Ui:"."+m[v].toLowerCase()});return V}()});return V}()},{name:[1,4],oj:!0,e:S,ab:!0},{name:[1,9],oj:!0,e:S},{name:"Export Color Lookup",oj:!0,e:S,ab:!0},{name:[1,14],oj:!0,e:S,ab:!0},{name:[1,17],sub:[{name:"Batch",oj:!0},{name:"PDF Presentation",oj:!0},{name:"Convert Formats",oj:!0},{name:"Generate Mockups",oj:!0,e:S}]},{name:[1,10],oj:!0}],G4:[{K:k.E.b,m:{q:k.L.E1,mg:"newproject"}},{K:k.E.b,m:{q:k.L.z4}},{K:k.E.b,m:{q:k.L.z4,ado:!0}},{sub:[{K:k.E.b,m:{q:k.L.E1,mg:"storwindow",PT:0}},{K:k.E.b,m:{q:k.L.E1,mg:"open_from_url"}},{K:k.E.b,m:{q:k.L.E1,mg:"camera"}},{K:k.E.b,m:{q:k.L.E1,mg:"res0"}}]},{sub:[{K:k.E.b,m:{q:k.L.DG,Fp:"png"}},{K:k.E.b,m:{q:k.L.DG,Fp:"jpg"}},{K:k.E.b,m:{q:k.L.DG,Fp:a8==0?"psd":"ai"}}]},{K:k.E.b,m:{q:k.L.D9}},{K:k.E.b,m:{q:k.L.KC}},{sub:[{K:k.E.b,m:{q:k.L.E1,mg:"storwindow",PT:1}},{K:k.E.b,m:{q:k.L.E1,mg:"savepsb"}}]},{sub:function(){var m=fj.qG(0),V=[];
for(var v=0;v<m.length;v++)V.push({K:k.E.b,m:{q:k.L.E1,mg:"saveforweb",Fp:v}});V.push({sub:function(){var q=fj.qG(0).length,m=fj.qG(1),V=[];
for(var v=0;v<m.length;v++)V.push({K:k.E.b,m:{q:k.L.E1,mg:"saveforweb",Fp:q+v}});return V}()});return V}()},{K:k.E.b,m:{q:k.L.E1,mg:"saveforweb",Fp:3,aqO:!0}},{K:k.E.b,m:{q:k.L.E1,mg:"eassets"}},{K:k.E.b,m:{q:k.L.E1,mg:"exlut"}},{K:k.E.b,m:{q:k.L.E1,mg:"finfo"}},{sub:[{K:k.E.b,m:{q:k.L.E1,mg:"batch"}},{K:k.E.b,m:{q:k.L.E1,mg:"pdfpres"}},{K:k.E.b,m:{q:k.L.E1,mg:"cformat"}},{K:k.E.b,m:{q:k.L.E1,mg:"mockups"}}]},{K:k.E.b,m:{q:k.L.E1,mg:"script"}}]},{name:[0,1],items:[{name:[2,8],e:S},{name:[2,0],e:S,Ui:[D,o,l.rK]},{name:[2,1],e:S,Ui:[o,l.rK],ab:!0},{name:[2,11],Ui:[D,o,l.lj],ab:!0,oj:!0,e:function(m,V){return{e:en.az7(m)&&V.Bq!=p.rk}}},Z[0][0],Z[0][1],{name:[5,7],Ui:[D,o,l.AP],e:function(m){return{e:m!=null&&m.f!=null}}},Z[0][2],Z[0][3],{name:[2,3],e:h,oj:!0,Ui:[D,l.p6]},{name:[14,9],e:h,oj:!0,ab:!0},{name:[10,48],e:h},{name:[10,46],e:function(m){return{e:p.Md.w5(m)}}},{name:[10,16],e:S,Ui:[H,o,l.rD]},{name:[2,4],e:S,sub:hy.awA()},{name:[2,10,1],e:S},{name:[2,10,0],e:S,ab:!0},{name:[12,87],e:S,sub:[{name:[12,62],e:S},{name:[9,3],e:S},{name:[10,31],e:function(m){return{e:m!=null&&m.CS()[1].length!=0}}}]},{name:[1,15],oj:!0},{name:[12,79],oj:!0,Ui:[o,l.a$]},{name:[1,13],oj:!0}],G4:[{K:k.E.r,S:p.zo,m:{q:"h_undoredo"}},{K:k.E.r,S:p.zo,m:{q:"h_stepfwd"}},{K:k.E.r,S:p.zo,m:{q:"h_stepbck"}},{K:k.E.b,m:{q:k.L.E1,mg:"afw_fade"}},Z[1][0],Z[1][1],{K:k.E.b,m:{q:k.L.T0,jM:!0}},Z[1][2],Z[1][3],{K:k.E.b,m:{q:k.L.E1,mg:"fill"}},{K:k.E.b,m:{q:k.L.E1,mg:"stroke"}},{K:k.E.b,m:{q:k.L.BC,S:p.D1}},{K:k.E.r,S:p.tF,m:{q:"start",xi:"rigidTransform"}},{K:k.E.b,m:{q:k.L.BC,S:p.rk}},{sub:hy.aa2()},{K:k.E.yT,m:{vS:"align",M1:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{K:k.E.r,S:p.wU,m:{q:d.aD3}},{sub:[{K:k.E.b,m:{q:k.L.W2,au:0}},{K:k.E.b,m:{q:k.L.W2,au:1}},{K:k.E.b,m:{q:k.L.W2,au:2}}]},{K:k.E.b,m:{q:k.L.E1,mg:"pmanager"}},{K:k.E.b,m:{q:k.L.E1,mg:"preferences"}},{K:k.E.b,m:{q:k.L.E1,mg:"locstor"}}]},{name:[0,2],items:[{name:[12,36],e:S,ab:!0,sub:[{name:"RGB",e:function(m){if(m==null)return{e:!1};
return{tY:m.add.fcmy==null,e:!0}}},{name:"CMYK",e:function(m){if(m==null)return{e:!1};return{tY:m.add.fcmy!=null,e:!0}}}]},{name:[3],e:S,ab:!0,sub:function(){var m=[];
for(var V in jW.names){m.push({name:jW.names[V],oj:cB[V]!=null,Ui:jW.keys[V],ab:jW.asJ.indexOf(V)!=-1});
if(V=="selc"){m.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],oj:!0,ab:!0});m.push({name:[19,7,0],Ui:[o,D,l.fq],e:h});
m.push({name:[4,18],oj:!0,e:h})}}return m}()},{name:[4,16,0],e:h},{name:[4,16,1],e:h},{name:[4,16,2],e:h,ab:!0},{name:[11,11,1],e:h,oj:!0},{name:[11,11,0],e:h,oj:!0},{name:"Wavelet Decompose",e:h,ab:!0},{name:[11,3],e:S,oj:!0,Ui:[H,o,l.AP]},{name:[11,10],e:S,oj:!0,Ui:[H,o,l.rv]},{name:[2,4],e:S,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],e:function(m){return{e:m!=null&&m.f!=null}}},{name:[11,12,0],e:S,Ui:[o,l.oi],oj:!0},{name:[11,12,2],e:S,ab:!0},{name:[12,53],e:S},{name:[2,12],e:h,oj:!0,ab:!0},{name:[2,14],e:S,oj:!0}],G4:[{sub:[{K:k.E.r,S:p.e5,m:{q:"fcmy",P:0}},{K:k.E.r,S:p.e5,m:{q:"fcmy",P:1}}]},{sub:function(){var m=[];
for(var V in jW.names){m.push({K:k.E.r,S:p.xw,m:{q:"start",PN:V}});if(V=="selc"){m.push({K:k.E.r,S:p.tF,m:{q:"start",xi:"adaptCorrect"}});
m.push({K:k.E.yT,m:{vS:"desaturate"}});m.push({K:k.E.r,S:p.xw,m:{q:"start",PN:"matc"}})}}return m}()},{K:k.E.yT,m:{vS:"levels",M1:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{K:k.E.yT,m:{vS:"levels",M1:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{K:k.E.yT,m:{vS:"levels",M1:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{K:k.E.b,m:{q:k.L.E1,mg:"rcolors"}},{K:k.E.b,m:{q:k.L.E1,mg:"vbitmap"}},{K:k.E.r,S:p.wU,m:{q:d.ui}},{K:k.E.b,m:{q:k.L.E1,mg:"csize"}},{K:k.E.b,m:{q:k.L.E1,mg:"isize"}},{sub:[{K:k.E.yT,m:p.cA.mH(!0,90)},{K:k.E.yT,m:p.cA.mH(!0,-90)},{K:k.E.yT,m:p.cA.mH(!0,-180)},{K:k.E.yT,m:p.cA.mH(!1,"Hrzn")},{K:k.E.yT,m:p.cA.mH(!1,"Vrtc")}]},{K:k.E.yT,m:{vS:"crop",M1:{__name:"Crop",classID:"Crop"}}},{K:k.E.b,m:{q:k.L.E1,mg:"trim"}},{K:k.E.yT,m:{vS:"revealAll",M1:{classID:"RvlA"}}},{K:k.E.yT,m:{vS:"duplicate",M1:{classID:"Dplc",null:bt.NA("Dcmn",!0)}}},{K:k.E.r,S:p.xw,m:{q:"start",PN:"aply"}},{K:k.E.b,m:{q:k.L.E1,mg:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],e:S,sub:[{name:[0,3],Ui:[D,o,l.mW]},{name:[0,4]},{name:[1,16,0],oj:!0},{name:[1,16,3],oj:!0,ab:!0},{name:[6,49,0],Ui:[o,l.vf]},{name:[6,49,1],Ui:[D,o,l.vf],e:function(m){return{e:m!=null&&m.f!=null&&m.o_(!1)}}}]},{name:[6,0],e:_,Ui:[o,l.vf]},{name:[11,4],e:_},{name:[5,4],e:_,ab:!0},{name:[11,6],e:_,ab:!0,sub:ga.MF(!0)},{name:[6,48,1],e:S,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],e:S,ab:!0,sub:ga.adv()},{name:[6,2],e:S,sub:[{name:[6,4],e:function(m){return{e:m!=null&&m.T.length!=0&&m.R[m.T[0]].KQ()==null}}},{name:[6,5,0],e:function(m){return{e:m!=null&&m.T.length!=0&&m.R[m.T[0]].KQ()==null}}},{name:[6,5,1],e:function(m){return{e:m!=null&&m.T.length!=0&&m.R[m.T[0]].KQ()==null&&m.f!=null}}},{name:[6,5,2],e:function(m){return{e:m!=null&&m.T.length!=0&&m.R[m.T[0]].KQ()==null&&m.f!=null}}},{name:[6,5,3],e:function(m){return{e:m!=null&&m.T.length!=0&&m.R[m.T[0]].KQ()==null}},ab:!0},{name:[5,4],e:function(m){return{e:m!=null&&m.T.length!=0&&m.R[m.T[0]].KQ()!=null}}},{name:[5,8],e:function(m){return{e:m!=null&&m.T.length!=0&&m.R[m.T[0]].KQ()!=null&&m.o_(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],e:function(m){return{e:m!=null&&m.T.length!=0&&m.R[m.T[0]].KQ()!=null}}}]},{name:[6,3],e:S,sub:[{name:[6,4],e:function(m){return{e:m!=null&&m.T.length!=0&&m.R[m.T[0]].add.vmsk==null}}},{name:[6,5,0],e:function(m){return{e:m!=null&&m.T.length!=0&&m.R[m.T[0]].add.vmsk==null}}},{name:[12,76,7],e:function(m){return{e:m!=null&&m.T.length!=0&&m.R[m.T[0]].add.vmsk==null}},ab:!0},{name:[5,4],e:function(m){return{e:m!=null&&m.T.length!=0&&m.R[m.T[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],e:function(m){return{e:m!=null&&m.T.length!=0&&m.R[m.T[0]].add.vmsk!=null}}}]},ig.anL(!0),{name:[6,7,1],e:S,ab:!0,sub:[{name:[6,7,0],ab:!0},{name:"Open (Edit Contents)",e:u,oj:!0},{name:"Replace Contents",e:u,oj:!0},{name:"Export Contents",e:u,oj:!0,ab:!0},{name:[6,36,4],e:u,sub:F},{name:"Turn into JPG",e:u}]},{name:[6,8],e:ig.ajG},{name:[6,34],ab:!0,e:function(m){if(m==null||m.T.length==0)return{e:!1};
var V=m.R[m.T[0]];return{e:V.add.lmfx!=null&&!V.Cl()}}},{name:[6,9],e:S,ab:!0,Ui:[o,l.Tu]},{name:[6,55],e:S,sub:[{name:[6,56,0],Ui:[D,o,l.wp]},{name:[6,56,1],Ui:[o,l.wp]},{name:[6,56,2],Ui:[o,l.GW]},{name:[6,56,3],Ui:[D,o,l.GW]}]},{name:"Combine Shapes",e:S,ab:!0,sub:[{name:[18,1],_9:"set/union"},{name:[18,2],_9:"set/difference"},{name:[18,3],_9:"set/intersection"},{name:[18,4],_9:"set/xor"}]},{name:[6,58],e:S,ab:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],Ui:[o,l.E],e:ig.Jg},{name:[6,12,1],e:S},{name:[2,13],e:S}],G4:[{sub:[{K:k.E.r,S:p.wU,m:{q:d.On}},{K:k.E.r,S:p.wU,m:{q:d.MO}},{K:k.E.b,m:{q:k.L.E1,mg:"newartb",PT:0}},{K:k.E.b,m:{q:k.L.E1,mg:"newartb",PT:1}},{K:k.E.yT,m:{vS:"copyToLayer"}},{K:k.E.yT,m:{vS:"cutToLayer"}}]},{K:k.E.r,S:p.wU,m:{q:d.r$}},{K:k.E.b,m:{q:k.L.E1,mg:"duplinto"}},{K:k.E.r,S:p.wU,m:{q:d.C_}},{sub:ga.M8(!0)},{sub:[{K:k.E.r,S:p.Xg,m:{q:"newfill",no:0}},{K:k.E.yT,m:p.F_.Vw(1)},{K:k.E.yT,m:p.F_.Vw(2)}]},{sub:ga.wn()},{sub:[{K:k.E.r,S:p.wU,m:{q:d.J3,PT:"RvlA"}},{K:k.E.r,S:p.wU,m:{q:d.J3,PT:"HdAl"}},{K:k.E.r,S:p.wU,m:{q:d.J3,PT:"RvlS"}},{K:k.E.r,S:p.wU,m:{q:d.J3,PT:"HdSl"}},{K:k.E.r,S:p.wU,m:{q:d.J3,PT:"Trns"}},{K:k.E.r,S:p.wU,m:{q:d.cR}},{K:k.E.r,S:p.wU,m:{q:d._i}},{K:k.E.r,S:p.wU,m:{q:d.dA}}]},{sub:[{K:k.E.r,S:p.wU,m:{q:d.su,a1:!1}},{K:k.E.r,S:p.wU,m:{q:d.su,a1:!0}},{K:k.E.r,S:p.wU,m:{q:d.su,a9Z:!0}},{K:k.E.r,S:p.wU,m:{q:d.x0}},{K:k.E.r,S:p.wU,m:{q:d.zj}}]},{K:k.E.r,S:p.wU,m:{q:d.JK}},{sub:[{K:k.E.yT,m:{vS:"newPlacedLayer"}},{K:k.E.yT,m:{vS:"placedLayerEditContents",M1:{classID:"placedLayerEditContents"}}},{K:k.E.yT,m:{vS:"placedLayerReplaceContents",M1:{classID:"placedLayerReplaceContents"}}},{K:k.E.yT,m:{vS:"placedLayerExportContents",M1:{classID:"placedLayerExportContents"}}},{sub:n},{K:k.E.r,S:p.wU,m:{q:d.aDY}}]},{K:k.E.yT,m:{vS:"rasterizeLayer",M1:{classID:"rasterizeLayer",null:bt.NA("Lyr",!0)}}},{K:k.E.yT,m:{vS:"rasterizeLayer",M1:{classID:"rasterizeLayer",null:bt.NA("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{K:k.E.r,S:p.wU,m:{q:d.up}},{sub:[{K:k.E.r,S:p.wU,m:{q:d.sj,i6:0}},{K:k.E.r,S:p.wU,m:{q:d.sj,i6:1}},{K:k.E.r,S:p.wU,m:{q:d.sj,i6:2}},{K:k.E.r,S:p.wU,m:{q:d.sj,i6:3}}]},{sub:[{K:k.E.r,S:p.wU,m:{q:d.$v,Tc:0}},{K:k.E.r,S:p.wU,m:{q:d.$v,Tc:1}},{K:k.E.r,S:p.wU,m:{q:d.$v,Tc:2}},{K:k.E.r,S:p.wU,m:{q:d.$v,Tc:3}}]},{sub:[{K:k.E.r,S:p.wU,m:{q:d.lQ,i6:"makeframes"}},{K:k.E.r,S:p.wU,m:{q:d.lQ,i6:"unmakeframes"}},{K:k.E.r,S:p.wU,m:{q:d.lQ,i6:"merge"}}]},{K:k.E.yT,m:{vS:"mergeLayersNew",M1:{__name:"Merge Layers",classID:"Mrg2"}}},{K:k.E.yT,m:{vS:"flattenImage"}},{K:k.E.r,S:p.tF,m:{q:"start",xi:"defr"}}]},gH.a71(!1),function(){var m={name:[0,6],items:[{name:[24,18,4],Ui:[H,o,l.lj],e:S,ab:!0}],G4:[{K:k.E.r,S:p.tF,m:{q:"applylast"}}]};
for(var v=0;v<at.E$.length;v++){var V=at.E$[v];if(V.E6!=null){var q={name:at.names[V.E6],oj:!0,ab:V.ab,e:S};
if(V.E6=="VaPo")q.e=h;m.items.push(q);m.G4.push({K:k.E.r,S:p.tF,m:{q:"start",xi:V.E6}});continue}var i={name:V.$_,sub:[],e:S};
m.items.push(i);var c={sub:[]};m.G4.push(c);for(var z=0;z<V.cj.length;z++){var B={name:at.names[V.cj[z]],oj:at.ts(V.cj[z])!=null};
i.sub.push(B);var t={K:k.E.r,S:p.tF,m:{q:"start",xi:V.cj[z]}};c.sub.push(t)}}return m}(),{name:[0,7],items:[{name:[8,0],e:S,Ui:[o,l.CO]},{name:[8,1],e:S,Ui:[o,l.ef]},{name:[20,3],e:S,Ui:[o,l.yp]},{name:[20,2],e:S,Ui:[o,l.hJ]},{name:[8,14],e:function(m,V){return{e:m!=null,tY:m!=null&&m.j$}},ab:!0},{name:[12,36],ab:!0,sub:[{name:"Fullscreen",e:function(m,V){return{tY:document.fullscreenElement!=null}},ab:!0},{name:"Standard",e:function(m,V){return{tY:V.Cn==0}}},{name:"Menu Bar and Canvas",e:function(m,V){return{tY:V.Cn==1}}}]},{name:[8,13],Ui:[o,l.N5],e:function(m,V){return{tY:V.bX}}},{name:[8,12],ab:!0,sub:[{name:[17,2],e:function(m,V){return{e:V.bX,tY:V.og.oF}}},{name:[8,9],e:function(m,V){return{e:V.bX,tY:V.og.sS}}},{name:[8,2],e:function(m,V){return{e:V.bX,tY:V.og.oJ}},Ui:[o,l.u5]},{name:[8,4],e:function(m,V){return{e:V.bX,tY:V.og.yc}},Ui:[o,l.JC]},{name:[8,8],e:function(m,V){return{e:V.bX,tY:V.og.cD}}},{name:[8,11,0],e:function(m,V){return{e:V.bX,tY:V.og.n0}}}]},{name:[8,3],e:function(m,V){return{tY:V.QC}},Ui:[o,l.nC],ab:!0},{name:[8,5],e:function(m,V){return{tY:V.Je}}},{name:[8,6],ab:!0,sub:[{name:[8,2],e:function(m,V){return{tY:V.mf[0]}}},{name:[8,4],e:function(m,V){return{tY:V.mf[1]}}},{name:[9,1],e:function(m,V){return{tY:V.mf[2]}}},{name:[8,11,0],e:function(m,V){return{tY:V.mf[3]}}},{name:[8,7,0],e:function(m,V){return{tY:V.mf[4]}}}]},{name:[11,15,2],e:function(m,V){return{e:m!=null,tY:m!=null&&m.q_}}},{name:[11,15,0],e:S},{name:[11,14],e:S,oj:!0},{name:[11,15,1],e:function(m,V){return{e:m!=null&&m.T.length!=0}},ab:!0},{name:[8,11,2],e:function(m,V){return{e:m!=null&&m.n0.length!=0}}}],G4:[{K:k.E.r,S:p.Nk,m:{q:"zoom",j8:!0}},{K:k.E.r,S:p.Nk,m:{q:"zoom",j8:!1}},{K:k.E.r,S:p.Nk,m:{q:"adapt",P:"fitscr"}},{K:k.E.r,S:p.Nk,m:{q:"adapt",P:"pixel"}},{K:k.E.r,S:p.e5,m:{q:"pview"}},{sub:[{K:k.E.b,m:{q:k.L.uR,GT:!0}},{K:k.E.b,m:{q:k.L.uR,P:0}},{K:k.E.b,m:{q:k.L.uR,P:1}},{K:k.E.b,m:{q:k.L.uR,P:2}}]},{K:k.E.b,m:{q:k.L.lN,au:is.a7}},{sub:[{K:k.E.b,m:{q:k.L.lN,au:is.YY}},{K:k.E.b,m:{q:k.L.lN,au:is.uw}},{K:k.E.b,m:{q:k.L.lN,au:is.L_}},{K:k.E.b,m:{q:k.L.lN,au:is.Go}},{K:k.E.b,m:{q:k.L.lN,au:is.MU}},{K:k.E.b,m:{q:k.L.lN,au:is.s2}}]},{K:k.E.b,m:{q:k.L.lN,au:is.nq}},{K:k.E.b,m:{q:k.L.lN,au:is.a7E}},{sub:[{K:k.E.b,m:{q:k.L.lN,au:is.VL,ZG:0}},{K:k.E.b,m:{q:k.L.lN,au:is.VL,ZG:1}},{K:k.E.b,m:{q:k.L.lN,au:is.VL,ZG:2}},{K:k.E.b,m:{q:k.L.lN,au:is.VL,ZG:3}},{K:k.E.b,m:{q:k.L.lN,au:is.VL,ZG:4}}]},{K:k.E.r,S:p.e5,m:{q:"lockguides"}},{K:k.E.r,S:p.e5,m:{q:"gids",fY:[[],[]]}},{K:k.E.b,m:{q:k.L.E1,mg:"addguides"}},{K:k.E.r,S:p.e5,m:{q:"gidsFromLayer"}},{K:k.E.r,S:p.LN,m:{q:"deleteAll"}}]},function(){var m={name:[0,8],items:[{name:[0,14],ab:!0,sub:[]},{name:"Plugins",ab:!0}],G4:[{sub:[]},{K:k.E.b,m:{q:k.L.E1,mg:"res1"}}]};
for(var v=0;v<j8.Aj.length;v++){var V=j8.Aj[v],q=function(){var i=V.VG.o8;return function(c,z){return{tY:z.Co.indexOf(parseInt(i))!=-1}}}();
(V.jE?m.items[0].sub:m.items).push({name:V.VG.name,e:q});(V.jE?m.G4[0].sub:m.G4).push({K:k.E.b,m:{q:k.L.Ak,mg:V.VG.o8}})}return m}(),function(){var m={name:[0,14],items:[],G4:[]},V={name:[0,9],sub:[]};
m.items.push(V);var q={sub:[]};m.G4.push(q);var i=cU.awP();for(var v=0;v<i.length;v++){var c=i[v],z=c.code,B=cU.app(z);
V.sub.push({name:c.name,Ui:z,e:function(t,a){return{tY:this.Ui==cU.a8j()}}});q.sub.push({K:k.E.b,m:{q:k.L.lN,au:is.Tj,lang:B}})}V.sub.push({name:[0,12]});
q.sub.push({K:k.E.b,m:{q:k.L.Gv,link:"https://www.photopea.com/translate/"}});var V={name:[0,15],sub:[]};
m.items.push(V);var q={sub:[]};m.G4.push(q);for(var v=0;v<gp.PO.length;v++){V.sub.push({name:gp.PO[v].name,e:function(t,a){return{tY:this.name==gp.PO[a.NP].name}}});
q.sub.push({K:k.E.b,m:{q:k.L.lN,au:is.TF,NP:v}})}m.items.push({name:a8==0?[0,17,6]:"Install Vectorpea",e:function(t,a){return{e:a.pP!=null}}});
m.G4.push({K:k.E.b,m:{q:k.L.ZM}});if(a8==0){m.items.push({name:[11,13]});m.G4.push({K:k.E.b,m:{q:k.L.E1,mg:"shortcuts"}});
m.items.push({name:[0,16],e:function(t){return{tY:kx.X7,e:kx.apK}},ab:!0});m.G4.push({K:k.E.b,m:{q:k.L.aCK}})}m.items.push({name:"",e:function(t,a){return a.bO?{C9:"About "+["Photopea","Vectorpea"][a8],e:!0}:{C9:"",e:!1}}});
m.G4.push({K:k.E.b,m:{q:k.L.E1,mg:"aboutpp"}});return m}()],w=[O[0],O[1],{name:"Object",items:[{name:[6,9],e:S,ab:!0,Ui:[o,l.Tu]},{name:[6,6,0],sub:[{name:[5,5],Ui:[o,l.ho]},{name:[5,6],Ui:[H,o,l.ho]}]}],G4:[{K:k.E.r,S:p.wU,m:{q:d.up}},{sub:[{K:k.E.r,S:p.wU,m:{q:d.up,aU:!0}},{K:k.E.r,S:p.wU,m:{q:d.up,aU:!0,rR:!0}}]}]},{name:[0,7],items:[{name:[8,0],e:S,Ui:[o,l.CO]},{name:[8,1],e:S,Ui:[o,l.ef]},{name:[12,36],ab:!1,sub:[{name:"Fullscreen",e:function(m,V){return{tY:document.fullscreenElement!=null}},ab:!0},{name:"Standard",e:function(m,V){return{tY:V.Cn==0}}},{name:"Menu Bar and Canvas",e:function(m,V){return{tY:V.Cn==1}}}]}],G4:[{K:k.E.r,S:p.Nk,m:{q:"zoom",j8:!0}},{K:k.E.r,S:p.Nk,m:{q:"zoom",j8:!1}},{sub:[{K:k.E.b,m:{q:k.L.uR,GT:!0}},{K:k.E.b,m:{q:k.L.uR,P:0}},{K:k.E.b,m:{q:k.L.uR,P:1}},{K:k.E.b,m:{q:k.L.uR,P:2}}]}]},O[7],O[8]];
return a8==0?O:w}();function jB(){f1.call(this);this.Z=M.a("div","");this.o1=0;this.k6=0;this.Fy=null;
this.No=M.a("div","");this.No.setAttribute("style","width:200em; height:100em; position:absolute;");
this.q9=[];this.Ax=[];this.iZ={}}jB.prototype=new f1;jB.prototype.Zw=function(l){var o=Date.now(),D=[];
if(l=="-"){D=[new f3,new jr,new fG("pdfpres"),new fG("cformat"),new fG("batch"),new fG("mockups"),new jY,new eM,new ke,new gF,new eU,new gW,new fR,new bH,new bN,new eh,new jm,new bq,new a1,new bk,new ga,new hE("isize"),new hE("csize"),new fZ,new jF,new hK,new e$,new cD,new cn,new id,new au,new il(!1),new il(!0),new dA(0),new dA(1),new fu,new h2,new jO,new go,new dp,new gS,new cL(0),new cL(1),new cL(2),new cL(3),new cL(4),new cL(5),new cL(6),new cL(7),new cL(8),new hH,new gQ,new f5,new ct,new cG,new eQ,new kH,new bh,new k5(0),new k5(1),new bO("border",[7,9],"px"),new bO("smoothness",[19,3,0],"px"),new bO("expand",[7,4],"px"),new bO("contract",[7,5],"px"),new bO("feather",[7,6],"px"),new hL(0,"namewindow",[12,48]),new hL(2,"billto","Bill To"),new hL(1,"cornerradius",[12,94,0],"px",!0,!0),new hL(1,"scaleeffects",[6,30,1],"%",!0),new hL(1,"doczoom","Zoom","%",!0),new hL(1,"setFPS","Set FPS","fps,120",!1),new hL(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(a8==0){D.push(new ju)}}else D=[new en(l.slice(4))];this.at2(D);this.iZ[l]=!0};jB.prototype.at2=function(l){var o=this.Fy;
for(var v=0;v<l.length;v++){var D=l[v];D.parent=this;this.Ax.push(D);this.BG(D);D.k();if(o)D.Ip(o,is.CV);
D.O(k.E.Wg,this.lG,this);M.S2(D)}};jB.prototype.Av=function(l,o){this.o1=l;this.k6=o;for(var v=0;v<this.Ax.length;
v++)this.BG(this.Ax[v])};jB.prototype.k=function(){for(var v=0;v<this.Ax.length;v++)this.Ax[v].k()};
jB.prototype.Fr=function(){return this.q9.length==0?null:this.q9[this.q9.length-1]};jB.prototype.Iu=function(){for(var v=0;
v<this.q9.length;v++)if(this.q9[v].Iu())return!0;return!1};jB.prototype.aEw=function(l,o,D,H,_){var u=l.startsWith("afw_"),S=null;
if(!u&&!this.iZ["-"])this.Zw("-");if(u&&!this.iZ[l])this.Zw(l);if(typeof l=="object"){S=l;if(!S.amk(k.E.Wg,this.lG))S.O(k.E.Wg,this.lG,this);
S.parent=this}else for(var v=0;v<this.Ax.length;v++)if(this.Ax[v].id==l)S=this.Ax[v];if(this.Iu()&&S.Iu()){alert("Finish the current action first");
return}if(!S.WU(o))return;if(this.q9.indexOf(S)!=-1){if(l=="colorpicker")S.my(o,D,H,_);return}var h=this.q9.length-1;
if(h>=0)M.EA(this.q9[h].Z,"wdisabled");this.Z.appendChild(S.Z);this.q9.push(S);this.BG(S);M.g5(S);S.my(o,D,H,_)};
jB.prototype.BG=function(l){var o=this.o1,D=this.k6,H=l.b8(o,D),_;if(H!=null){_=H}else{H=new he(0,0);
_=l.aBv();if(_==null){var u=this.q9.indexOf(l)+1;if(o<450||D<450)_=new he(0,0);else _=new he(u*150,u*150)}}l.Z.style.left=_.x+"px";
l.Z.style.top=this.Z.offsetTop+_.y+"px";l.Av(this.o1-H.x*2,this.k6-H.y*2-34)};jB.prototype.Ip=function(l,o){this.Fy=l;
for(var v=0;v<this.Ax.length;v++)this.Ax[v].Ip(l,o)};jB.prototype.lG=function(l){var o=this.q9.pop();
M.S2(o,this.Z);var D=this.q9.length-1;if(D>=0)M.vY(this.q9[D].Z,"wdisabled");if(this.No.parentNode==this.Z)this.Z.removeChild(this.No)};
window.onload=function(){document.body.appendChild(new a4().Z)}}())